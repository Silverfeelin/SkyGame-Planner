(self.webpackChunkSkyGame_Planner=self.webpackChunkSkyGame_Planner||[]).push([[179],{1357:(yt,ke,S)=>{"use strict";S.d(ke,{T:()=>p});class p{static create(){return{c:0,h:0,sc:0,sh:0,ac:0,ec:0}}static isEmpty(V){return!(V.c||V.h||V.sc||V.sh||V.ec||V.ac)}static add(V,...te){for(const q of te)q.c&&(V.c=(V.c||0)+q.c),q.h&&(V.h=(V.h||0)+q.h),q.sc&&(V.sc=(V.sc||0)+q.sc),q.sh&&(V.sh=(V.sh||0)+q.sh),q.ac&&(V.ac=(V.ac||0)+q.ac),q.ec&&(V.ec=(V.ec||0)+q.ec);return V}static subtract(V,...te){for(const q of te)q.c&&(V.c=(V.c||0)-q.c),q.h&&(V.h=(V.h||0)-q.h),q.sc&&(V.sc=(V.sc||0)-q.sc),q.sh&&(V.sh=(V.sh||0)-q.sh),q.ac&&(V.ac=(V.ac||0)-q.ac),q.ec&&(V.ec=(V.ec||0)-q.ec);return V}static invert(V){return V.c&&(V.c=-V.c),V.h&&(V.h=-V.h),V.sc&&(V.sc=-V.sc),V.sh&&(V.sh=-V.sh),V.ac&&(V.ac=-V.ac),V.ec&&(V.ec=-V.ec),V}}},6841:(yt,ke,S)=>{"use strict";S.d(ke,{O:()=>V});var p=S(292),J=S.n(p);let V=(()=>{class te{static#e=this.skyTimeZone="America/Los_Angeles";static#t=this.displayFormats=["DD-MM-YYYY","DD/MM/YYYY","MM-DD-YYYY","MM/DD/YYYY","YYYY-MM-DD","YYYY/MM/DD"];static isActive(e,Q){const Le=J()(),oe=J().tz(e),re=J().tz(Q);return Le.isAfter(oe)&&Le.isBefore(re)}static fromInterfaceLocal(e){if(e)return J().isDayjs(e)?e:J()(`${e.year}-${e.month}-${e.day}`)}static fromInterfaceSky(e){if(e)return J().isDayjs(e)?e:J().tz(`${e.year}-${e.month}-${e.day}`)}static fromStringLocal(e){if(e)return J().isDayjs(e)?e:J()(e)}static fromStringSky(e){if(e)return J().isDayjs(e)?e:J().tz(e)}static daysBetween(e,Q){const Le=Math.abs(e.diff(Q,"hour"));return Math.floor(Le/24)}static getStateFromPeriod(e,Q,Le){return Le??=J()(),e.isAfter(Le)?"future":Le.isAfter(Q)?"ended":"active"}}return te})()},3311:(yt,ke,S)=>{"use strict";S.d(ke,{f:()=>p});class p{static find(V,te){return te(V)?V:V?.nw&&this.find(V.nw,te)||V?.ne&&this.find(V.ne,te)||V?.n&&this.find(V.n,te)||void 0}static getRoot(V){if(!V)return V;for(;V.prev;)V=V.prev;return V}static all(V,te){return te??=[],V&&(te.push(V),V.nw&&this.all(V.nw,te),V.ne&&this.all(V.ne,te),V.n&&this.all(V.n,te)),te}static getItems(V,te){const q=new Set;return this.all(V).filter(e=>e.item).forEach(e=>{q.add(e.item),te&&e.hiddenItems?.forEach(Q=>q.add(Q))}),[...q]}static trace(V){const te=[];for(;V;)te.push(V),V=V.prev;return te.reverse()}}},8460:(yt,ke,S)=>{"use strict";S.d(ke,{q:()=>p});var p=function(J){return J.Hat="Hat",J.Hair="Hair",J.Mask="Mask",J.FaceAccessory="FaceAccessory",J.Necklace="Necklace",J.Outfit="Outfit",J.Shoes="Shoes",J.Cape="Cape",J.Instrument="Instrument",J.Held="Held",J.Prop="Prop",J.Emote="Emote",J.Stance="Stance",J.Call="Call",J.Spell="Spell",J.Music="Music",J.Quest="Quest",J.WingBuff="WingBuff",J.Special="Special",J}(p||{})},3740:(yt,ke,S)=>{"use strict";S.d(ke,{D:()=>De});var p=S(3947),J=S.n(p),V=S(1699),te=S(5400),q=S(4300),e=S(6841),Q=S(3311),Le=S(292),oe=S.n(Le),re=S(1357);class fe{static getItemsByEvent(ze,ee){const et=window.skyData.eventConfig.items.find(pe=>pe.name===ze),nt=[],be=new Set;return et?.instances?.forEach(pe=>{pe.spirits?.forEach(de=>{const Ge=Q.f.getItems(de.tree.node).filter(Oe=>!be.has(Oe)&&be.add(Oe));ee?nt.push(...Ge.filter(Oe=>Oe.type===ee)):nt.push(...Ge)}),pe.shops?.forEach(de=>{de.iaps?.forEach(Ge=>{const Oe=Ge.items?.filter(Pe=>!be.has(Pe)&&be.add(Pe))||[];ee?nt.push(...Oe.filter(Pe=>Pe.type===ee)):nt.push(...Oe)})})}),nt.sort((pe,de)=>(pe.order||99999)-(de.order||99999)),nt}}var ne=S(4860),ge=S(9140);let De=(()=>{class Se{constructor(ee,Te){this._httpClient=ee,this._storageService=Te,this.guidMap=new Map,this.onData=new te.t,this.loadData().add(()=>{this.exposeData()})}loadData(){const ee=Te=>this._httpClient.get(`assets/data/${Te}`,{responseType:"text"});return(0,q.D)({areaConfig:ee("areas.json"),eventConfig:ee("events.json"),itemConfig:ee("items.json"),nodeConfig:ee("nodes.json"),questConfig:ee("quests.json"),realmConfig:ee("realms.json"),seasonConfig:ee("seasons.json"),shopConfig:ee("shops.json"),iapConfig:ee("iaps.json"),spiritConfig:ee("spirits.json"),spiritTreeConfig:ee("spirit-trees.json"),travelingSpiritConfig:ee("traveling-spirits.json"),returningSpiritsConfig:ee("returning-spirits.json"),wingedLightConfig:ee("winged-lights.json")}).subscribe({next:Te=>{this.onConfigs(Te)},error:Te=>console.error(Te)})}onConfigs(ee){const Te=Object.keys(ee).map(et=>{const nt=J().parse(ee[et]);return this[et]=nt,nt});this.initializeGuids(Te),console.debug(`Loaded ${Te.length} configs.`),this.initializeRealms(),this.initializeAreas(),this.initializeSeasons(),this.initializeSpirits(),this.initializeTravelingSpirits(),this.initializeReturningSpirits(),this.initializeSpiritTrees(),this.initializeEvents(),this.initializeShops(),this.initializeItems(),this.initializeSeasonItems(),this.initializeWingedLight(),this._storageService.save(),(0,V.X6Q)()&&this.validate(),this.onData.next(),this.onData.complete()}initializeRealms(){this.realmConfig.items.forEach(ee=>{ee.areas?.forEach((Te,et)=>{Te=this.guidMap.get(Te),ee.areas[et]=Te,Te.realm=ee})})}initializeAreas(){this.areaConfig.items.forEach(ee=>{ee.spirits?.forEach((Te,et)=>{Te=this.guidMap.get(Te),ee.spirits[et]=Te,Te.area=ee}),ee.wingedLights?.forEach((Te,et)=>{Te=this.guidMap.get(Te),ee.wingedLights[et]=Te,Te.area=ee})})}initializeSeasons(){this.seasonConfig.items.forEach((ee,Te)=>{ee.number=Te+1,ee.date=e.O.fromStringSky(ee.date),ee.endDate=e.O.fromStringSky(ee.endDate).endOf("day"),ee.spirits?.forEach((et,nt)=>{et=this.guidMap.get(et),ee.spirits[nt]=et,et.season=ee}),ee.shops?.forEach((et,nt)=>{et=this.guidMap.get(et),ee.shops[nt]=et,et.season=ee})})}initializeSpirits(){this.spiritConfig.items.forEach((ee,Te)=>{if(ee._index=Te,ee.tree){const et=this.guidMap.get(ee.tree);et.spirit=ee,ee.tree=et}})}initializeTravelingSpirits(){const ee={};this.travelingSpiritConfig.items.forEach((Te,et)=>{Te.date=e.O.fromInterfaceSky(Te.date),Te.endDate=e.O.fromInterfaceSky(Te.endDate)?.endOf("day")??oe()(Te.date).add(3,"day").endOf("day");const nt=this.guidMap.get(Te.spirit);Te.spirit=nt,nt.ts??=[],nt.ts.push(Te),ee[nt.name]??=0,ee[nt.name]++,Te.number=et+1,Te.visit=ee[nt.name];const be=this.guidMap.get(Te.tree);Te.tree=be,be.ts=Te})}initializeReturningSpirits(){this.returningSpiritsConfig.items.forEach((ee,Te)=>{if(ee.date=e.O.fromInterfaceSky(ee.date),ee.endDate=e.O.fromInterfaceSky(ee.endDate).endOf("day"),ee.area){const et=this.guidMap.get(ee.area);ee.area=et,et.rs??=[],et.rs.push(ee)}ee.spirits?.forEach((et,nt)=>{this.registerGuid(et),et.return=ee;const be=this.guidMap.get(et.spirit);ee.spirits[nt].spirit=be,be.returns??=[],be.returns.push(et);const pe=this.guidMap.get(et.tree);ee.spirits[nt].tree=pe,pe.visit=et})})}initializeSpiritTrees(){this.spiritTreeConfig.items.forEach(ee=>{const Te=this.guidMap.get(ee.node);Te||console.error("Node not found",ee.node),ee.node=Te,Te.spiritTree=ee,this.initializeNode(Te)})}initializeNode(ee,Te){const et=nt=>{const be=this.guidMap.get(nt);return this.initializeNode(be,ee)};if(Te&&(ee.prev=Te),"string"==typeof ee.n&&(ee.n=et(ee.n)),"string"==typeof ee.nw&&(ee.nw=et(ee.nw)),"string"==typeof ee.ne&&(ee.ne=et(ee.ne)),"string"==typeof ee.item){const nt=this.guidMap.get(ee.item);nt||console.error("Node item not found",ee,ee.item),ee.item=nt,nt.nodes??=[],nt.nodes.push(ee)}return ee.unlocked=this._storageService.unlocked.has(ee.guid),ee.hiddenItems?.length&&ee.hiddenItems.forEach((nt,be)=>{if("string"!=typeof nt)return;const pe=this.guidMap.get(nt);pe||console.error("Node hidden item not found",ee,nt),ee.hiddenItems[be]=pe,pe.hiddenNodes??=[],pe.hiddenNodes.push(ee),ee.unlocked&&(pe.unlocked=!0,this._storageService.unlocked.add(pe.guid))}),ee}initializeEvents(){this.eventConfig.items.forEach(ee=>{ee.instances?.forEach((Te,et)=>{this.registerGuid(Te),Te.number=et+1,Te.date=e.O.fromInterfaceSky(Te.date),Te.endDate=e.O.fromInterfaceSky(Te.endDate).endOf("day"),Te.event=ee,Te.shops?.forEach((nt,be)=>{nt=this.guidMap.get(nt),Te.shops[be]=nt,nt.event=Te}),Te.spirits?.forEach(nt=>{nt.eventInstance=Te;const be=this.guidMap.get(nt.spirit);be||console.error("Spirit not found",nt.spirit),nt.spirit=be,nt.spirit.events=[],nt.spirit.events.push(nt);const pe=this.guidMap.get(nt.tree);pe||console.error("Tree not found",nt.tree),nt.tree=pe,pe.eventInstanceSpirit=nt})})})}initializeShops(){this.shopConfig.items.forEach(ee=>{if(ee.spirit){const Te=this.guidMap.get(ee.spirit);ee.spirit=Te,Te.shops??=[],Te.shops.push(ee)}ee.iaps?.forEach((Te,et)=>{Te=this.guidMap.get(Te),ee.iaps[et]=Te,Te.shop=ee,Te.bought=this._storageService.unlocked.has(Te.guid),Te.items?.forEach((nt,be)=>{const pe=this.guidMap.get(nt);pe||console.error("Item not found",nt),Te.items[be]=pe,pe.iaps??=[],pe.iaps.push(Te),Te.bought&&(pe.unlocked=!0,this._storageService.unlocked.add(pe.guid))})})})}initializeItems(){this.itemConfig.items.forEach(ee=>{ee.unlocked||=this._storageService.unlocked.has(ee.guid),ee.order??=999999})}initializeSeasonItems(){for(const ee of this.seasonConfig.items){for(const Te of ee.spirits??[])if(Te?.tree?.node)for(const et of Q.f.getItems(Te.tree.node,!0))et.season=ee;for(const Te of ee.shops??[])for(const et of Te.iaps??[])for(const nt of et.items??[])nt.season=ee}}initializeWingedLight(){this.wingedLightConfig.items.forEach(ee=>{ee.unlocked=this._storageService.unlockedCol.has(ee.guid)})}exposeData(){window.skyData={areaConfig:this.areaConfig,spiritTreeConfig:this.spiritTreeConfig,eventConfig:this.eventConfig,itemConfig:this.itemConfig,nodeConfig:this.nodeConfig,questConfig:this.questConfig,realmConfig:this.realmConfig,seasonConfig:this.seasonConfig,shopConfig:this.shopConfig,spiritConfig:this.spiritConfig,travelingSpiritConfig:this.travelingSpiritConfig,returningSpiritsConfig:this.returningSpiritsConfig,wingedLightConfig:this.wingedLightConfig},window.skyGuids=this.guidMap,window.NodeHelper=Q.f,window.DateHelper=e.O,window.CostHelper=re.T,window.ItemHelper=fe;const ee="color:cyan;";console.log("To view loaded data, see %cwindow.skyData%c.",ee,""),console.log("You can also use the helpers %cNodeHelper%c, %cDateHelper%c and %cCostHelper%c.",ee,"",ee,"",ee,"")}reloadUnlocked(){this.itemConfig.items.forEach(ee=>{ee.unlocked=this._storageService.unlocked.has(ee.guid)}),this.nodeConfig.items.forEach(ee=>{ee.unlocked=this._storageService.unlocked.has(ee.guid)}),this.wingedLightConfig.items.forEach(ee=>{ee.unlocked=this._storageService.unlockedCol.has(ee.guid)})}initializeGuids(ee){for(const Te of ee)Te.items.forEach(et=>this.registerGuid(et))}registerGuid(ee){if(!ee.guid)throw new Error(`GUID not defined on: ${JSON.stringify(ee)}`);if(10!==ee.guid.length&&console.error("GUID unexpected length:",ee.guid),this.guidMap.has(ee.guid))throw new Error(`GUID ${ee.guid} already registered!`);this.guidMap.set(ee.guid,ee)}validate(){const ee=new Set(this.areaConfig.items.flatMap(et=>et.wingedLights||[]).map(et=>et.guid)),Te=this.wingedLightConfig.items.filter(et=>!ee.has(et.guid));Te.length&&console.error("Winged Light not found in areas:",Te)}static#e=this.\u0275fac=function(Te){return new(Te||Se)(V.LFG(ne.eN),V.LFG(ge.V))};static#t=this.\u0275prov=V.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"})}return Se})()},9140:(yt,ke,S)=>{"use strict";S.d(ke,{V:()=>J});var p=S(1699);let J=(()=>{class V{constructor(){this.unlocked=new Set,this.unlockedCol=new Set,this.initializeItems(),this.initializeCol()}initializeItems(){const q=localStorage.getItem("unlocked");(q?.length&&q.split(",")||[]).forEach(Q=>this.unlocked.add(Q))}add(...q){q?.forEach(e=>this.unlocked.add(e))}remove(...q){q?.forEach(e=>this.unlocked.delete(e))}serializeUnlocked(){return[...this.unlocked].join(",")}save(){const q=this.serializeUnlocked();localStorage.setItem("unlocked",q)}initializeCol(){const q=localStorage.getItem("col.unlocked");(q?.length&&q.split(",")||[]).forEach(Q=>this.unlockedCol.add(Q))}addCol(...q){q?.forEach(e=>this.unlockedCol.add(e))}removeCol(...q){q?.forEach(e=>this.unlockedCol.delete(e))}serializeUnlockedCol(){return[...this.unlockedCol].join(",")}saveCol(){const q=this.serializeUnlockedCol();localStorage.setItem("col.unlocked",q)}static#e=this.\u0275fac=function(e){return new(e||V)};static#t=this.\u0275prov=p.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"})}return V})()},7238:(yt,ke,S)=>{"use strict";var p=S(6480),J=S(4860),V=S(140),te=S(1134),q=S(7723),e=S(1699),Q=S(6575);function Le(r,f){1&r&&(e.TgZ(0,"div",30),e._UZ(1,"img",31),e.qZA())}function oe(r,f){1&r&&e.GkF(0)}function re(r,f){1&r&&e.GkF(0)}function fe(r,f){1&r&&e.GkF(0)}let ne=(()=>{class r{static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-credits"]],decls:119,vars:3,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2"],[1,"sky-card","mt"],[1,"h3"],[1,"sky-card-body"],[1,"container","ws-pl"],["href","https://github.com/Silverfeelin/SkyGame-Planner/","target","_blank"],["href","https://github.com/Silverfeelin/SkyGame-Planner/blob/master/LICENSE","target","_blank"],["href","https://www.thatskygame.com/","target","_blank"],["href","https://thatgamecompany.com/","target","_blank"],["href","https://github.com/Silverfeelin/SkyGame-Planner/blob/master/package.json","target","_blank"],["href","https://www.npmjs.com/","target","_blank"],["discord",""],["href","https://sky-children-of-the-light.fandom.com/wiki/Sky:_Children_of_the_Light_Wiki","target","_blank"],["href","https://www.fandom.com/licensing","target","_blank"],[1,"mb-0"],["href","https://sky-children-of-the-light.fandom.com/wiki/Special:Community"],[1,"flex-credits"],[1,"flex-credit"],[1,"credit-name"],[1,"credit-handle","c-accent"],[4,"ngTemplateOutlet"],[1,"credit-handle-name"],[1,"container","ws-pl","mt"],["href","https://www.youtube.com/channel/UCTdBaJiejXA0WSOkPX0YO0w","target","_blank"],["href","https://www.youtube.com/@noobmode","target","_blank"],["href","https://www.youtube.com/@AppUnwrapper","target","_blank"],["href","https://www.youtube.com/@SkyBat","target","_blank"],["href","https://github.com/Silverfeelin/SkyGame-Planner/issues?q=is%3Aissue","target","_blank"],[1,"d-inline-block"],["src","assets/external/discord-mark-blue.svg","loading","lazy",1,"img-discord"]],template:function(a,l){if(1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Credits"),e.qZA()()(),e.TgZ(4,"div",3)(5,"div",1)(6,"h2",4)(7,"mat-icon"),e._uU(8,"note"),e.qZA(),e._uU(9," License "),e.qZA()(),e.TgZ(10,"div",5)(11,"div",6)(12,"p"),e._uU(13," Source code is publicly available "),e.TgZ(14,"a",7),e._uU(15,"on GitHub"),e.qZA(),e._uU(16," under the "),e.TgZ(17,"a",8),e._uU(18,"MIT License"),e.qZA(),e._uU(19,". "),e.qZA(),e.TgZ(20,"p"),e._uU(21," This project hosts some media and screenshots captured from the game "),e.TgZ(22,"a",9),e._uU(23,"Sky: Children of the Light"),e.qZA(),e._uU(24," developed by "),e.TgZ(25,"a",10),e._uU(26,"thatgamecompany"),e.qZA(),e._uU(27,"."),e._UZ(28,"br"),e._uU(29," Aforementioned license covers which assets are excluded from the terms of the license. "),e.qZA(),e.TgZ(30,"p"),e._uU(31," Sky Planner is non-commercial and is made available for informational purposes. "),e.qZA(),e.TgZ(32,"p"),e._uU(33," This project uses many public packages. These are listed in the "),e.TgZ(34,"a",11),e._uU(35,"package.json"),e.qZA(),e._uU(36," file."),e._UZ(37,"br"),e._uU(38," For respective licenses, please look up the packages on "),e.TgZ(39,"a",12),e._uU(40,"npm"),e.qZA(),e._uU(41,". "),e.qZA()()()(),e.YNc(42,Le,2,0,"ng-template",null,13,e.W1O),e.TgZ(44,"div",3)(45,"div",1)(46,"h2",4)(47,"mat-icon"),e._uU(48,"favorite"),e.qZA(),e._uU(49," Attribution "),e.qZA()(),e.TgZ(50,"div",5)(51,"div",6)(52,"p"),e._uU(53," Various images such as item icons and spirits are loaded directly from the "),e.TgZ(54,"a",14),e._uU(55,"Sky: Children of the Light Fandom wiki"),e.qZA(),e._uU(56,"."),e._UZ(57,"br"),e._uU(58," This project only links to the original assets. For more information refer to "),e.TgZ(59,"a",15),e._uU(60,"Fandom licensing page"),e.qZA(),e._uU(61,"."),e._UZ(62,"br"),e.qZA(),e.TgZ(63,"p",16),e._uU(64," A special thanks to the wiki contributors for all their hard work and for giving me permission to show images from the wiki on Sky Planner. You can find out more about "),e.TgZ(65,"a",17),e._uU(66,"the wiki contributors here"),e.qZA(),e._uU(67,"."),e._UZ(68,"br"),e._uU(69," In particular many icons on the wiki are contributed to the wiki by: "),e.qZA(),e.TgZ(70,"div",18)(71,"div",19)(72,"div",20),e._uU(73,"Morybel"),e.qZA(),e.TgZ(74,"div",21),e.YNc(75,oe,1,0,"ng-container",22),e.TgZ(76,"span",23),e._uU(77,"morybel"),e.qZA()()(),e.TgZ(78,"div",19)(79,"div",20),e._uU(80,"Mimi"),e.qZA(),e.TgZ(81,"div",21),e.YNc(82,re,1,0,"ng-container",22),e.TgZ(83,"span",23),e._uU(84,"mimi4117"),e.qZA()()(),e.TgZ(85,"div",19)(86,"div",20),e._uU(87,"Ray"),e.qZA(),e.TgZ(88,"div",21),e.YNc(89,fe,1,0,"ng-container",22),e.TgZ(90,"span",23),e._uU(91,"ray808080"),e.qZA()()()()(),e.TgZ(92,"div",24)(93,"p"),e._uU(94," Some Traveling Spirit price corrections were made based on infographics by Jed#9275 (new Discord handle unknown). "),e.qZA(),e.TgZ(95,"p"),e._uU(96," Some YouTube videos by "),e.TgZ(97,"a",25),e._uU(98,"nastymold"),e.qZA(),e._uU(99,", "),e.TgZ(100,"a",26),e._uU(101,"Noob Mode"),e.qZA(),e._uU(102,", "),e.TgZ(103,"a",27),e._uU(104,"App Unwrapper"),e.qZA(),e._uU(105," and "),e.TgZ(106,"a",28),e._uU(107,"Sky Bat"),e.qZA(),e._uU(108," were used as a reference to find missing information for older events."),e._UZ(109,"br"),e._uU(110," Go check out their content! "),e.qZA(),e.TgZ(111,"p"),e._uU(112," Thank you for the suggestions to improve Sky Planner:"),e._UZ(113,"br"),e._uU(114," Daw, Morybel, oWishy "),e.TgZ(115,"i")(116,"a",29),e._uU(117,"and more"),e.qZA()(),e._uU(118,". "),e.qZA()()()()),2&a){const _=e.MAs(43);e.xp6(75),e.Q6J("ngTemplateOutlet",_),e.xp6(7),e.Q6J("ngTemplateOutlet",_),e.xp6(7),e.Q6J("ngTemplateOutlet",_)}},dependencies:[Q.tP,V.Hw],styles:[".img-discord[_ngcontent-%COMP%]{height:20px}.flex-credits[_ngcontent-%COMP%]{margin-top:var(--padding-content);display:flex;gap:var(--padding-content)}.flex-credit[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:start;gap:4px;text-decoration:none;padding:var(--padding-content)}.flex-credit[_ngcontent-%COMP%]:link{cursor:pointer}.credit-name[_ngcontent-%COMP%]{text-align:left;font-weight:700}.credit-handle-name[_ngcontent-%COMP%]{padding-left:6px}.credit-handle[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:link{color:var(--color-accent);text-decoration:none}.credit-handle[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:link:hover{color:var(--color-link-hover)}"]})}return r})();var ge=S(6841),De=S(3311),Se=S(3740);let ze=(()=>{class r{constructor(n){this._zone=n,this._copyItem=!1,this._copyNode=!1,this._copyShop=!1,window.debug=this}set copyItem(n){this._zone.run(()=>{this._copyItem=!!n})}get copyItem(){return this._copyItem}set copyNode(n){this._zone.run(()=>{this._copyNode=!!n})}get copyNode(){return this._copyNode}set copyShop(n){this._zone.run(()=>{this._copyShop=!!n})}get copyShop(){return this._copyShop}static#e=this.\u0275fac=function(a){return new(a||r)(e.LFG(e.R0b))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var ee=S(9877);let Te=(()=>{class r{constructor(n){this._router=n,this.itemToggled=new ee.x,this.searchReset=new ee.x,document.addEventListener("keydown",a=>{this.onKeyDown(a)})}toggleItem(n){this.itemToggled.next(n)}onKeyDown(n){n.ctrlKey&&n.shiftKey&&"F"===n.key.toUpperCase()&&(n.preventDefault(),this.searchReset.next(),"/"!==(this._router.url.split("?")[0]||"/")&&this._router.navigate(["/"],{skipLocationChange:!1,queryParams:{focus:"1"}}))}static#e=this.\u0275fac=function(a){return new(a||r)(e.LFG(q.F0))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var et=S(9140);let nt=(()=>{class r{constructor(n,a){this._eventService=n,this._storageService=a}togglePurchased(n){n&&(n.bought?this.lockIap(n):this.unlockIap(n),n.items?.forEach(l=>{this._eventService.toggleItem(l)}))}unlockIap(n){if(n.items?.find(l=>l.unlocked)&&!confirm("This IAP contains an item that is already unlocked. Do you want to continue?"))return;const a=[n.guid];n.bought=!0,n.items?.forEach(l=>{l.unlocked=!0,a.push(l.guid)}),this._storageService.add(...a),this._storageService.save()}lockIap(n){const a=[n.guid];n.bought=!1,n.items?.forEach(l=>{l.unlocked=!!l.iaps?.find(_=>_.bought),l.unlocked||a.push(l.guid)}),this._storageService.remove(...a),this._storageService.save()}static#e=this.\u0275fac=function(a){return new(a||r)(e.LFG(Te),e.LFG(et.V))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var be=S(2235),pe=S(6290),de=S(4980),Ge=S(384),Oe=S(9912),Pe=S(1287),$e=S(2602),He=S(7825);const ft=["addListener","removeListener"],Fe=["addEventListener","removeEventListener"],Bt=["on","off"];function ut(r,f,n,a){if((0,$e.m)(n)&&(a=n,n=void 0),a)return ut(r,f,n).pipe((0,He.Z)(a));const[l,_]=function ce(r){return(0,$e.m)(r.addEventListener)&&(0,$e.m)(r.removeEventListener)}(r)?Fe.map(M=>Y=>r[M](f,Y,n)):function Re(r){return(0,$e.m)(r.addListener)&&(0,$e.m)(r.removeListener)}(r)?ft.map(pt(r,f)):function ct(r){return(0,$e.m)(r.on)&&(0,$e.m)(r.off)}(r)?Bt.map(pt(r,f)):[];if(!l&&(0,Pe.z)(r))return(0,Oe.z)(M=>ut(M,f,n))((0,Ge.Xf)(r));if(!l)throw new TypeError("Invalid event target");return new be.y(M=>{const Y=(...K)=>M.next(1<K.length?K:K[0]);return l(Y),()=>_(Y)})}function pt(r,f){return n=>a=>r[n](f,a)}var he=S(1826),Me=S(7426);function Ie(r=0,f,n=he.P){let a=-1;return null!=f&&((0,Me.K)(f)?n=f:a=f),new be.y(l=>{let _=function Ce(r){return r instanceof Date&&!isNaN(r)}(r)?+r-n.now():r;_<0&&(_=0);let M=0;return n.schedule(function(){l.closed||(l.next(M++),0<=a?this.schedule(void 0,a):l.complete())},_)})}const{isArray:Ye}=Array;function rt(r){return 1===r.length&&Ye(r[0])?r[0]:r}var ot=S(5678);function fn(...r){return 1===(r=rt(r)).length?(0,Ge.Xf)(r[0]):new be.y(function gt(r){return f=>{let n=[];for(let a=0;n&&!f.closed&&a<r.length;a++)n.push((0,Ge.Xf)(r[a]).subscribe((0,ot.x)(f,l=>{if(n){for(let _=0;_<n.length;_++)_!==a&&n[_].unsubscribe();n=null}f.next(l)})))}}(r))}var cn=S(7835),zt=S(6190);function St(...r){const f=(0,zt.jO)(r),n=rt(r);return n.length?new be.y(a=>{let l=n.map(()=>[]),_=n.map(()=>!1);a.add(()=>{l=_=null});for(let M=0;!a.closed&&M<n.length;M++)(0,Ge.Xf)(n[M]).subscribe((0,ot.x)(a,Y=>{if(l[M].push(Y),l.every(K=>K.length)){const K=l.map(xe=>xe.shift());a.next(f?f(...K):K),l.some((xe,Ve)=>!xe.length&&_[Ve])&&a.complete()}},()=>{_[M]=!0,!l[M].length&&a.complete()}));return()=>{l=_=null}}):pe.E}var xn=S(5823),me=S(274),_e=S(4520),je=S(1527),Qe=S(3738),_t=S(9736),Rt=S(4114),pn=S(204),ln=S(2707);function Lt(...r){const f=(0,zt.jO)(r);return(0,Rt.e)((n,a)=>{const l=r.length,_=new Array(l);let M=r.map(()=>!1),Y=!1;for(let K=0;K<l;K++)(0,Ge.Xf)(r[K]).subscribe((0,ot.x)(a,xe=>{_[K]=xe,!Y&&!M[K]&&(M[K]=!0,(Y=M.every(pn.y))&&(M=null))},ln.Z));n.subscribe((0,ot.x)(a,K=>{if(Y){const xe=[K,..._];a.next(f?f(...xe):xe)}}))})}var Ot=S(8037);function Rn(r,f){return f?n=>(0,xn.z)(f.pipe((0,je.q)(1),function Mt(){return(0,Rt.e)((r,f)=>{r.subscribe((0,ot.x)(f,ln.Z))})}()),n.pipe(Rn(r))):(0,Oe.z)((n,a)=>r(n,a).pipe((0,je.q)(1),(0,Ot.h)(n)))}function ui(r,f=he.z){const n=Ie(r,f);return Rn(()=>n)}var sn=S(1891),Dn=(S(5043),S(3317),S(5357),S(5584)),gn=(S(8849),{left:"right",right:"left",bottom:"top",top:"bottom"});function Ri(r){return r.replace(/left|right|bottom|top/g,function(f){return gn[f]})}function Ti(r){return r.split("-")[0]}var Zi={start:"end",end:"start"};function Fi(r){return r.replace(/start|end/g,function(f){return Zi[f]})}var jn="top",qn="bottom",In="right",si="left",Li="auto",Ji=[jn,qn,In,si],zi="start",io="end",dt="viewport",We="popper",j=Ji.reduce(function(r,f){return r.concat([f+"-"+zi,f+"-"+io])},[]),se=[].concat(Ji,[Li]).reduce(function(r,f){return r.concat([f,f+"-"+zi,f+"-"+io])},[]),Ae=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function it(r){if(null==r)return window;if("[object Window]"!==r.toString()){var f=r.ownerDocument;return f&&f.defaultView||window}return r}function Ct(r){return r instanceof it(r).Element||r instanceof Element}function xt(r){return r instanceof it(r).HTMLElement||r instanceof HTMLElement}function Nt(r){return!(typeof ShadowRoot>"u")&&(r instanceof it(r).ShadowRoot||r instanceof ShadowRoot)}function Kt(r){return((Ct(r)?r.ownerDocument:r.document)||window.document).documentElement}var an=Math.max,yi=Math.min,mn=Math.round;function Vn(){var r=navigator.userAgentData;return null!=r&&r.brands?r.brands.map(function(f){return f.brand+"/"+f.version}).join(" "):navigator.userAgent}function Jt(){return!/^((?!chrome|android).)*safari/i.test(Vn())}function Un(r,f,n){void 0===f&&(f=!1),void 0===n&&(n=!1);var a=r.getBoundingClientRect(),l=1,_=1;f&&xt(r)&&(l=r.offsetWidth>0&&mn(a.width)/r.offsetWidth||1,_=r.offsetHeight>0&&mn(a.height)/r.offsetHeight||1);var Y=(Ct(r)?it(r):window).visualViewport,K=!Jt()&&n,xe=(a.left+(K&&Y?Y.offsetLeft:0))/l,Ve=(a.top+(K&&Y?Y.offsetTop:0))/_,Pt=a.width/l,Dt=a.height/_;return{width:Pt,height:Dt,top:Ve,right:xe+Pt,bottom:Ve+Dt,left:xe,x:xe,y:Ve}}function oi(r){var f=it(r);return{scrollLeft:f.pageXOffset,scrollTop:f.pageYOffset}}function un(r){return Un(Kt(r)).left+oi(r).scrollLeft}function ei(r){return it(r).getComputedStyle(r)}function Yt(r){return r?(r.nodeName||"").toLowerCase():null}function Cn(r){return"html"===Yt(r)?r:r.assignedSlot||r.parentNode||(Nt(r)?r.host:null)||Kt(r)}function Oi(r){var f=ei(r);return/auto|scroll|overlay|hidden/.test(f.overflow+f.overflowY+f.overflowX)}function Si(r){return["html","body","#document"].indexOf(Yt(r))>=0?r.ownerDocument.body:xt(r)&&Oi(r)?r:Si(Cn(r))}function vi(r,f){var n;void 0===f&&(f=[]);var a=Si(r),l=a===(null==(n=r.ownerDocument)?void 0:n.body),_=it(a),M=l?[_].concat(_.visualViewport||[],Oi(a)?a:[]):a,Y=f.concat(M);return l?Y:Y.concat(vi(Cn(M)))}function oo(r){return["table","td","th"].indexOf(Yt(r))>=0}function wn(r){return xt(r)&&"fixed"!==ei(r).position?r.offsetParent:null}function $i(r){for(var f=it(r),n=wn(r);n&&oo(n)&&"static"===ei(n).position;)n=wn(n);return n&&("html"===Yt(n)||"body"===Yt(n)&&"static"===ei(n).position)?f:n||function Tn(r){var f=/firefox/i.test(Vn());if(/Trident/i.test(Vn())&&xt(r)&&"fixed"===ei(r).position)return null;var l=Cn(r);for(Nt(l)&&(l=l.host);xt(l)&&["html","body"].indexOf(Yt(l))<0;){var _=ei(l);if("none"!==_.transform||"none"!==_.perspective||"paint"===_.contain||-1!==["transform","perspective"].indexOf(_.willChange)||f&&"filter"===_.willChange||f&&_.filter&&"none"!==_.filter)return l;l=l.parentNode}return null}(r)||f}function Co(r,f){var n=f.getRootNode&&f.getRootNode();if(r.contains(f))return!0;if(n&&Nt(n)){var a=f;do{if(a&&r.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function Gi(r){return Object.assign({},r,{left:r.x,top:r.y,right:r.x+r.width,bottom:r.y+r.height})}function Jo(r,f,n){return f===dt?Gi(function Pn(r,f){var n=it(r),a=Kt(r),l=n.visualViewport,_=a.clientWidth,M=a.clientHeight,Y=0,K=0;if(l){_=l.width,M=l.height;var xe=Jt();(xe||!xe&&"fixed"===f)&&(Y=l.offsetLeft,K=l.offsetTop)}return{width:_,height:M,x:Y+un(r),y:K}}(r,n)):Ct(f)?function Cs(r,f){var n=Un(r,!1,"fixed"===f);return n.top=n.top+r.clientTop,n.left=n.left+r.clientLeft,n.bottom=n.top+r.clientHeight,n.right=n.left+r.clientWidth,n.width=r.clientWidth,n.height=r.clientHeight,n.x=n.left,n.y=n.top,n}(f,n):Gi(function Ii(r){var f,n=Kt(r),a=oi(r),l=null==(f=r.ownerDocument)?void 0:f.body,_=an(n.scrollWidth,n.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),M=an(n.scrollHeight,n.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),Y=-a.scrollLeft+un(r),K=-a.scrollTop;return"rtl"===ei(l||n).direction&&(Y+=an(n.clientWidth,l?l.clientWidth:0)-_),{width:_,height:M,x:Y,y:K}}(Kt(r)))}function Je(r){return r.split("-")[1]}function kt(r){return["top","bottom"].indexOf(r)>=0?"x":"y"}function Tt(r){var K,f=r.reference,n=r.element,a=r.placement,l=a?Ti(a):null,_=a?Je(a):null,M=f.x+f.width/2-n.width/2,Y=f.y+f.height/2-n.height/2;switch(l){case jn:K={x:M,y:f.y-n.height};break;case qn:K={x:M,y:f.y+f.height};break;case In:K={x:f.x+f.width,y:Y};break;case si:K={x:f.x-n.width,y:Y};break;default:K={x:f.x,y:f.y}}var xe=l?kt(l):null;if(null!=xe){var Ve="y"===xe?"height":"width";switch(_){case zi:K[xe]=K[xe]-(f[Ve]/2-n[Ve]/2);break;case io:K[xe]=K[xe]+(f[Ve]/2-n[Ve]/2)}}return K}function Nn(r){return Object.assign({},{top:0,right:0,bottom:0,left:0},r)}function Wn(r,f){return f.reduce(function(n,a){return n[a]=r,n},{})}function Jn(r,f){void 0===f&&(f={});var a=f.placement,l=void 0===a?r.placement:a,_=f.strategy,M=void 0===_?r.strategy:_,Y=f.boundary,K=void 0===Y?"clippingParents":Y,xe=f.rootBoundary,Ve=void 0===xe?dt:xe,Pt=f.elementContext,Dt=void 0===Pt?We:Pt,jt=f.altBoundary,yn=void 0!==jt&&jt,_n=f.padding,dn=void 0===_n?0:_n,ci=Nn("number"!=typeof dn?dn:Wn(dn,Ji)),ii=r.rects.popper,_i=r.elements[yn?Dt===We?"reference":We:Dt],En=function di(r,f,n,a){var l="clippingParents"===f?function Ho(r){var f=vi(Cn(r)),a=["absolute","fixed"].indexOf(ei(r).position)>=0&&xt(r)?$i(r):r;return Ct(a)?f.filter(function(l){return Ct(l)&&Co(l,a)&&"body"!==Yt(l)}):[]}(r):[].concat(f),_=[].concat(l,[n]),Y=_.reduce(function(K,xe){var Ve=Jo(r,xe,a);return K.top=an(Ve.top,K.top),K.right=yi(Ve.right,K.right),K.bottom=yi(Ve.bottom,K.bottom),K.left=an(Ve.left,K.left),K},Jo(r,_[0],a));return Y.width=Y.right-Y.left,Y.height=Y.bottom-Y.top,Y.x=Y.left,Y.y=Y.top,Y}(Ct(_i)?_i:_i.contextElement||Kt(r.elements.popper),K,Ve,M),Sn=Un(r.elements.reference),Pi=Tt({reference:Sn,element:ii,strategy:"absolute",placement:l}),li=Gi(Object.assign({},ii,Pi)),to=Dt===We?li:Sn,go={top:En.top-to.top+ci.top,bottom:to.bottom-En.bottom+ci.bottom,left:En.left-to.left+ci.left,right:to.right-En.right+ci.right},mo=r.modifiersData.offset;if(Dt===We&&mo){var ss=mo[l];Object.keys(go).forEach(function(wr){var as=[In,qn].indexOf(wr)>=0?1:-1,Ga=[jn,qn].indexOf(wr)>=0?"y":"x";go[wr]+=ss[Ga]*as})}return go}const wo={name:"flip",enabled:!0,phase:"main",fn:function Io(r){var f=r.state,n=r.options,a=r.name;if(!f.modifiersData[a]._skip){for(var l=n.mainAxis,_=void 0===l||l,M=n.altAxis,Y=void 0===M||M,K=n.fallbackPlacements,xe=n.padding,Ve=n.boundary,Pt=n.rootBoundary,Dt=n.altBoundary,jt=n.flipVariations,yn=void 0===jt||jt,_n=n.allowedAutoPlacements,dn=f.options.placement,ci=Ti(dn),ii=K||(ci!==dn&&yn?function jo(r){if(Ti(r)===Li)return[];var f=Ri(r);return[Fi(r),f,Fi(f)]}(dn):[Ri(dn)]),_i=[dn].concat(ii).reduce(function(Fs,ba){return Fs.concat(Ti(ba)===Li?function Di(r,f){void 0===f&&(f={});var l=f.boundary,_=f.rootBoundary,M=f.padding,Y=f.flipVariations,K=f.allowedAutoPlacements,xe=void 0===K?se:K,Ve=Je(f.placement),Pt=Ve?Y?j:j.filter(function(yn){return Je(yn)===Ve}):Ji,Dt=Pt.filter(function(yn){return xe.indexOf(yn)>=0});0===Dt.length&&(Dt=Pt);var jt=Dt.reduce(function(yn,_n){return yn[_n]=Jn(r,{placement:_n,boundary:l,rootBoundary:_,padding:M})[Ti(_n)],yn},{});return Object.keys(jt).sort(function(yn,_n){return jt[yn]-jt[_n]})}(f,{placement:ba,boundary:Ve,rootBoundary:Pt,padding:xe,flipVariations:yn,allowedAutoPlacements:_n}):ba)},[]),En=f.rects.reference,Sn=f.rects.popper,Pi=new Map,li=!0,to=_i[0],go=0;go<_i.length;go++){var mo=_i[go],ss=Ti(mo),wr=Je(mo)===zi,as=[jn,qn].indexOf(ss)>=0,Ga=as?"width":"height",cs=Jn(f,{placement:mo,boundary:Ve,rootBoundary:Pt,altBoundary:Dt,padding:xe}),Er=as?wr?In:si:wr?qn:jn;En[Ga]>Sn[Ga]&&(Er=Ri(Er));var xh=Ri(Er),aa=[];if(_&&aa.push(cs[ss]<=0),Y&&aa.push(cs[Er]<=0,cs[xh]<=0),aa.every(function(Fs){return Fs})){to=mo,li=!1;break}Pi.set(mo,aa)}if(li)for(var Eu=function(ba){var pl=_i.find(function(Tu){var ys=Pi.get(Tu);if(ys)return ys.slice(0,ba).every(function(Nh){return Nh})});if(pl)return to=pl,"break"},Oc=yn?3:1;Oc>0&&"break"!==Eu(Oc);Oc--);f.placement!==to&&(f.modifiersData[a]._skip=!0,f.placement=to,f.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function On(r,f,n){return an(r,yi(f,n))}function Xt(r){var f=Un(r),n=r.offsetWidth,a=r.offsetHeight;return Math.abs(f.width-n)<=1&&(n=f.width),Math.abs(f.height-a)<=1&&(a=f.height),{x:r.offsetLeft,y:r.offsetTop,width:n,height:a}}const kn={name:"preventOverflow",enabled:!0,phase:"main",fn:function Ni(r){var f=r.state,n=r.options,a=r.name,l=n.mainAxis,_=void 0===l||l,M=n.altAxis,Y=void 0!==M&&M,Dt=n.tether,jt=void 0===Dt||Dt,yn=n.tetherOffset,_n=void 0===yn?0:yn,dn=Jn(f,{boundary:n.boundary,rootBoundary:n.rootBoundary,padding:n.padding,altBoundary:n.altBoundary}),ci=Ti(f.placement),ni=Je(f.placement),ii=!ni,_i=kt(ci),En=function hr(r){return"x"===r?"y":"x"}(_i),Sn=f.modifiersData.popperOffsets,Pi=f.rects.reference,li=f.rects.popper,to="function"==typeof _n?_n(Object.assign({},f.rects,{placement:f.placement})):_n,go="number"==typeof to?{mainAxis:to,altAxis:to}:Object.assign({mainAxis:0,altAxis:0},to),mo=f.modifiersData.offset?f.modifiersData.offset[f.placement]:null,ss={x:0,y:0};if(Sn){if(_){var wr,as="y"===_i?jn:si,Ga="y"===_i?qn:In,cs="y"===_i?"height":"width",Er=Sn[_i],xh=Er+dn[as],aa=Er-dn[Ga],Ih=jt?-li[cs]/2:0,Eu=ni===zi?Pi[cs]:li[cs],Oc=ni===zi?-li[cs]:-Pi[cs],Oh=f.elements.arrow,Fs=jt&&Oh?Xt(Oh):{width:0,height:0},ba=f.modifiersData["arrow#persistent"]?f.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},pl=ba[as],Tu=ba[Ga],ys=On(0,Pi[cs],Fs[cs]),Nh=ii?Pi[cs]/2-Ih-ys-pl-go.mainAxis:Eu-ys-pl-go.mainAxis,Mu=ii?-Pi[cs]/2+Ih+ys+Tu+go.mainAxis:Oc+ys+Tu+go.mainAxis,Nc=f.elements.arrow&&$i(f.elements.arrow),qr=Nc?"y"===_i?Nc.clientTop||0:Nc.clientLeft||0:0,by=null!=(wr=mo?.[_i])?wr:0,rm=Er+Mu-by,sm=On(jt?yi(xh,Er+Nh-by-qr):xh,Er,jt?an(aa,rm):aa);Sn[_i]=sm,ss[_i]=sm-Er}if(Y){var kh,Da=Sn[En],Su="y"===En?"height":"width",lm=Da+dn["x"===_i?jn:si],um=Da-dn["x"===_i?qn:In],Ya=-1!==[jn,si].indexOf(ci),dm=null!=(kh=mo?.[En])?kh:0,hm=Ya?lm:Da-Pi[Su]-li[Su]-dm+go.altAxis,fm=Ya?Da+Pi[Su]+li[Su]-dm-go.altAxis:um,gl=jt&&Ya?function Bi(r,f,n){var a=On(r,f,n);return a>n?n:a}(hm,Da,fm):On(jt?hm:lm,Da,jt?fm:um);Sn[En]=gl,ss[En]=gl-Da}f.modifiersData[a]=ss}},requiresIfExists:["offset"]},Wr={name:"arrow",enabled:!0,phase:"main",fn:function Tr(r){var f,n=r.state,a=r.name,l=r.options,_=n.elements.arrow,M=n.modifiersData.popperOffsets,Y=Ti(n.placement),K=kt(Y),Ve=[si,In].indexOf(Y)>=0?"height":"width";if(_&&M){var Pt=function(f,n){return Nn("number"!=typeof(f="function"==typeof f?f(Object.assign({},n.rects,{placement:n.placement})):f)?f:Wn(f,Ji))}(l.padding,n),Dt=Xt(_),jt="y"===K?jn:si,yn="y"===K?qn:In,_n=n.rects.reference[Ve]+n.rects.reference[K]-M[K]-n.rects.popper[Ve],dn=M[K]-n.rects.reference[K],ci=$i(_),ni=ci?"y"===K?ci.clientHeight||0:ci.clientWidth||0:0,Sn=ni/2-Dt[Ve]/2+(_n/2-dn/2),Pi=On(Pt[jt],Sn,ni-Dt[Ve]-Pt[yn]);n.modifiersData[a]=((f={})[K]=Pi,f.centerOffset=Pi-Sn,f)}},effect:function _o(r){var f=r.state,a=r.options.element,l=void 0===a?"[data-popper-arrow]":a;null!=l&&("string"==typeof l&&!(l=f.elements.popper.querySelector(l))||Co(f.elements.popper,l)&&(f.elements.arrow=l))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function on(r,f,n){void 0===n&&(n=!1);var a=xt(f),l=xt(f)&&function $t(r){var f=r.getBoundingClientRect(),n=mn(f.width)/r.offsetWidth||1,a=mn(f.height)/r.offsetHeight||1;return 1!==n||1!==a}(f),_=Kt(f),M=Un(r,l,n),Y={scrollLeft:0,scrollTop:0},K={x:0,y:0};return(a||!a&&!n)&&(("body"!==Yt(f)||Oi(_))&&(Y=function hi(r){return r!==it(r)&&xt(r)?function Qo(r){return{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}}(r):oi(r)}(f)),xt(f)?((K=Un(f,!0)).x+=f.clientLeft,K.y+=f.clientTop):_&&(K.x=un(_))),{x:M.left+Y.scrollLeft-K.x,y:M.top+Y.scrollTop-K.y,width:M.width,height:M.height}}function ai(r){var f=new Map,n=new Set,a=[];function l(_){n.add(_.name),[].concat(_.requires||[],_.requiresIfExists||[]).forEach(function(Y){if(!n.has(Y)){var K=f.get(Y);K&&l(K)}}),a.push(_)}return r.forEach(function(_){f.set(_.name,_)}),r.forEach(function(_){n.has(_.name)||l(_)}),a}function Go(r){var f;return function(){return f||(f=new Promise(function(n){Promise.resolve().then(function(){f=void 0,n(r())})})),f}}var Eo={placement:"bottom",modifiers:[],strategy:"absolute"};function Ko(){for(var r=arguments.length,f=new Array(r),n=0;n<r;n++)f[n]=arguments[n];return!f.some(function(a){return!(a&&"function"==typeof a.getBoundingClientRect)})}function Vt(r){void 0===r&&(r={});var n=r.defaultModifiers,a=void 0===n?[]:n,l=r.defaultOptions,_=void 0===l?Eo:l;return function(Y,K,xe){void 0===xe&&(xe=_);var Ve={placement:"bottom",orderedModifiers:[],options:Object.assign({},Eo,_),modifiersData:{},elements:{reference:Y,popper:K},attributes:{},styles:{}},Pt=[],Dt=!1,jt={state:Ve,setOptions:function(ci){var ni="function"==typeof ci?ci(Ve.options):ci;_n(),Ve.options=Object.assign({},_,Ve.options,ni),Ve.scrollParents={reference:Ct(Y)?vi(Y):Y.contextElement?vi(Y.contextElement):[],popper:vi(K)};var ii=function ro(r){var f=ai(r);return Ae.reduce(function(n,a){return n.concat(f.filter(function(l){return l.phase===a}))},[])}(function Hi(r){var f=r.reduce(function(n,a){var l=n[a.name];return n[a.name]=l?Object.assign({},l,a,{options:Object.assign({},l.options,a.options),data:Object.assign({},l.data,a.data)}):a,n},{});return Object.keys(f).map(function(n){return f[n]})}([].concat(a,Ve.options.modifiers)));return Ve.orderedModifiers=ii.filter(function(mo){return mo.enabled}),function yn(){Ve.orderedModifiers.forEach(function(dn){var ni=dn.options,_i=dn.effect;if("function"==typeof _i){var En=_i({state:Ve,name:dn.name,instance:jt,options:void 0===ni?{}:ni});Pt.push(En||function(){})}})}(),jt.update()},forceUpdate:function(){if(!Dt){var ci=Ve.elements,ni=ci.reference,ii=ci.popper;if(Ko(ni,ii)){Ve.rects={reference:on(ni,$i(ii),"fixed"===Ve.options.strategy),popper:Xt(ii)},Ve.reset=!1,Ve.placement=Ve.options.placement,Ve.orderedModifiers.forEach(function(mo){return Ve.modifiersData[mo.name]=Object.assign({},mo.data)});for(var En=0;En<Ve.orderedModifiers.length;En++)if(!0!==Ve.reset){var Sn=Ve.orderedModifiers[En],Pi=Sn.fn,li=Sn.options;"function"==typeof Pi&&(Ve=Pi({state:Ve,options:void 0===li?{}:li,name:Sn.name,instance:jt})||Ve)}else Ve.reset=!1,En=-1}}},update:Go(function(){return new Promise(function(dn){jt.forceUpdate(),dn(Ve)})}),destroy:function(){_n(),Dt=!0}};if(!Ko(Y,K))return jt;function _n(){Pt.forEach(function(dn){return dn()}),Pt=[]}return jt.setOptions(xe).then(function(dn){!Dt&&xe.onFirstUpdate&&xe.onFirstUpdate(dn)}),jt}}var uo={passive:!0},Oo={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Jr(r){var f,n=r.popper,a=r.popperRect,l=r.placement,_=r.variation,M=r.offsets,Y=r.position,K=r.gpuAcceleration,xe=r.adaptive,Ve=r.roundOffsets,Pt=r.isFixed,Dt=M.x,jt=void 0===Dt?0:Dt,yn=M.y,_n=void 0===yn?0:yn,dn="function"==typeof Ve?Ve({x:jt,y:_n}):{x:jt,y:_n};jt=dn.x,_n=dn.y;var ci=M.hasOwnProperty("x"),ni=M.hasOwnProperty("y"),ii=si,_i=jn,En=window;if(xe){var Sn=$i(n),Pi="clientHeight",li="clientWidth";Sn===it(n)&&"static"!==ei(Sn=Kt(n)).position&&"absolute"===Y&&(Pi="scrollHeight",li="scrollWidth"),(l===jn||(l===si||l===In)&&_===io)&&(_i=qn,_n-=(Pt&&Sn===En&&En.visualViewport?En.visualViewport.height:Sn[Pi])-a.height,_n*=K?1:-1),l!==si&&(l!==jn&&l!==qn||_!==io)||(ii=In,jt-=(Pt&&Sn===En&&En.visualViewport?En.visualViewport.width:Sn[li])-a.width,jt*=K?1:-1)}var wr,mo=Object.assign({position:Y},xe&&Oo),ss=!0===Ve?function pr(r){var n=r.y,l=window.devicePixelRatio||1;return{x:mn(r.x*l)/l||0,y:mn(n*l)/l||0}}({x:jt,y:_n}):{x:jt,y:_n};return jt=ss.x,_n=ss.y,Object.assign({},mo,K?((wr={})[_i]=ni?"0":"",wr[ii]=ci?"0":"",wr.transform=(En.devicePixelRatio||1)<=1?"translate("+jt+"px, "+_n+"px)":"translate3d("+jt+"px, "+_n+"px, 0)",wr):((f={})[_i]=ni?_n+"px":"",f[ii]=ci?jt+"px":"",f.transform="",f))}var No=Vt({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function To(r){var f=r.state,n=r.instance,a=r.options,l=a.scroll,_=void 0===l||l,M=a.resize,Y=void 0===M||M,K=it(f.elements.popper),xe=[].concat(f.scrollParents.reference,f.scrollParents.popper);return _&&xe.forEach(function(Ve){Ve.addEventListener("scroll",n.update,uo)}),Y&&K.addEventListener("resize",n.update,uo),function(){_&&xe.forEach(function(Ve){Ve.removeEventListener("scroll",n.update,uo)}),Y&&K.removeEventListener("resize",n.update,uo)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function Vo(r){var f=r.state;f.modifiersData[r.name]=Tt({reference:f.rects.reference,element:f.rects.popper,strategy:"absolute",placement:f.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Ar(r){var f=r.state,n=r.options,a=n.gpuAcceleration,l=void 0===a||a,_=n.adaptive,M=void 0===_||_,Y=n.roundOffsets,K=void 0===Y||Y,Ve={placement:Ti(f.placement),variation:Je(f.placement),popper:f.elements.popper,popperRect:f.rects.popper,gpuAcceleration:l,isFixed:"fixed"===f.options.strategy};null!=f.modifiersData.popperOffsets&&(f.styles.popper=Object.assign({},f.styles.popper,Jr(Object.assign({},Ve,{offsets:f.modifiersData.popperOffsets,position:f.options.strategy,adaptive:M,roundOffsets:K})))),null!=f.modifiersData.arrow&&(f.styles.arrow=Object.assign({},f.styles.arrow,Jr(Object.assign({},Ve,{offsets:f.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:K})))),f.attributes.popper=Object.assign({},f.attributes.popper,{"data-popper-placement":f.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function Fr(r){var f=r.state;Object.keys(f.elements).forEach(function(n){var a=f.styles[n]||{},l=f.attributes[n]||{},_=f.elements[n];!xt(_)||!Yt(_)||(Object.assign(_.style,a),Object.keys(l).forEach(function(M){var Y=l[M];!1===Y?_.removeAttribute(M):_.setAttribute(M,!0===Y?"":Y)}))})},effect:function ho(r){var f=r.state,n={popper:{position:f.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(f.elements.popper.style,n.popper),f.styles=n,f.elements.arrow&&Object.assign(f.elements.arrow.style,n.arrow),function(){Object.keys(f.elements).forEach(function(a){var l=f.elements[a],_=f.attributes[a]||{},Y=Object.keys(f.styles.hasOwnProperty(a)?f.styles[a]:n[a]).reduce(function(K,xe){return K[xe]="",K},{});!xt(l)||!Yt(l)||(Object.assign(l.style,Y),Object.keys(_).forEach(function(K){l.removeAttribute(K)}))})}},requires:["computeStyles"]}]});const mr=["*"],cr=["dialog"];function pi(r){return"string"==typeof r}function nn(r){return null!=r}function Ne(r){return(r||document.body).getBoundingClientRect()}const ur={animation:!0,transitionTimerDelayMs:5},vo=()=>{},{transitionTimerDelayMs:Et}=ur,Kn=new Map,yo=(r,f,n,a)=>{let l=a.context||{};const _=Kn.get(f);if(_)switch(a.runningTransition){case"continue":return pe.E;case"stop":r.run(()=>_.transition$.complete()),l=Object.assign(_.context,l),Kn.delete(f)}const M=n(f,a.animation,l)||vo;if(!a.animation||"none"===window.getComputedStyle(f).transitionProperty)return r.run(()=>M()),(0,de.of)(void 0).pipe(function mt(r){return f=>new be.y(n=>f.subscribe({next:M=>r.run(()=>n.next(M)),error:M=>r.run(()=>n.error(M)),complete:()=>r.run(()=>n.complete())}))}(r));const Y=new ee.x,K=new ee.x,xe=Y.pipe(function vn(...r){return f=>(0,xn.z)(f,(0,de.of)(...r))}(!0));Kn.set(f,{transition$:Y,complete:()=>{K.next(),K.complete()},context:l});const Ve=function kr(r){const{transitionDelay:f,transitionDuration:n}=window.getComputedStyle(r);return 1e3*(parseFloat(f)+parseFloat(n))}(f);return r.runOutsideAngular(()=>{const Pt=ut(f,"transitionend").pipe((0,me.R)(xe),(0,_e.h)(({target:jt})=>jt===f));fn(Ie(Ve+Et).pipe((0,me.R)(xe)),Pt,K).pipe((0,me.R)(xe)).subscribe(()=>{Kn.delete(f),r.run(()=>{M(),Y.next(),Y.complete()})})}),Y.asObservable()};let $r=(()=>{class r{constructor(){this.animation=ur.animation}static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),tt=(()=>{class r{static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})(),mi=(()=>{class r{static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})(),Nu=(()=>{class r{static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})(),ku=(()=>{class r{static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})();var Wi=function(r){return r[r.Tab=9]="Tab",r[r.Enter=13]="Enter",r[r.Escape=27]="Escape",r[r.Space=32]="Space",r[r.PageUp=33]="PageUp",r[r.PageDown=34]="PageDown",r[r.End=35]="End",r[r.Home=36]="Home",r[r.ArrowLeft=37]="ArrowLeft",r[r.ArrowUp=38]="ArrowUp",r[r.ArrowRight=39]="ArrowRight",r[r.ArrowDown=40]="ArrowDown",r}(Wi||{});const ec=(r,f)=>!!f&&f.some(n=>n.contains(r)),qh=(r,f)=>!f||null!=function X(r,f){return!f||typeof r.closest>"u"?null:r.closest(f)}(r,f),Wh=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Zu=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Qh(r){const f=Array.from(r.querySelectorAll(Zu)).filter(n=>-1!==n.tabIndex);return[f[0],f[f.length-1]]}let Oa=(()=>{class r{constructor(n){this._element=n.documentElement}isRTL(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}static#e=this.\u0275fac=function(a){return new(a||r)(e.LFG(Q.K0))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const xm=/\s+/,Kh=/  +/gi,Xh={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},Im=/^left/,Pr=/^right/,Om=/^start/,ef=/^end/;function tf({placement:r,baseClass:f},n){let a=Array.isArray(r)?r:r.split(xm),_=a.findIndex(xe=>"auto"===xe);_>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(xe){null==a.find(Ve=>-1!==Ve.search("^"+xe))&&a.splice(_++,1,xe)});const M=a.map(xe=>function Zc(r,f){const[n,a]=Xh[r];return f&&a||n}(xe,n.isRTL()));return{placement:M.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!f,phase:"write",fn({state:xe}){const Ve=new RegExp(f+"(-[a-z]+)*","gi"),Pt=xe.elements.popper,Dt=xe.placement;let jt=Pt.className;jt=jt.replace(Ve,""),jt+=` ${function Hu(r,f){let[n,a]=f.split("-");const l=n.replace(Im,"start").replace(Pr,"end");let _=[l];if(a){let M=a;("left"===n||"right"===n)&&(M=M.replace(Om,"top").replace(ef,"bottom")),_.push(`${l}-${M}`)}return r&&(_=_.map(M=>`${r}-${M}`)),_.join(" ")}(f,Dt)}`,jt=jt.trim().replace(Kh," "),Pt.className=jt}},wo,kn,Wr,{enabled:!0,name:"flip",options:{fallbackPlacements:M}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function ju(r){return r}new Date(1882,10,12),new Date(2174,10,25);let Bm=(()=>{class r{static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})(),Um=(()=>{class r{static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})();class rc{constructor(f,n,a){this.nodes=f,this.viewRef=n,this.componentRef=a}}class S1{constructor(f,n,a,l,_,M){this._componentType=f,this._injector=n,this._viewContainerRef=a,this._renderer=l,this._ngZone=_,this._applicationRef=M,this._windowRef=null,this._contentRef=null}open(f,n,a=!1){this._windowRef||(this._contentRef=this._getContentRef(f,n),this._windowRef=this._viewContainerRef.createComponent(this._componentType,{injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:l}=this._windowRef.location,_=this._ngZone.onStable.pipe((0,je.q)(1),(0,Oe.z)(()=>yo(this._ngZone,l,({classList:M})=>M.add("show"),{animation:a,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:_}}close(f=!1){return this._windowRef?yo(this._ngZone,this._windowRef.location.nativeElement,({classList:n})=>n.remove("show"),{animation:f,runningTransition:"stop"}).pipe((0,Qe.b)(()=>{this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),this._contentRef?.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):(0,de.of)(void 0)}_getContentRef(f,n){if(f){if(f instanceof e.Rgc){const a=f.createEmbeddedView(n);return this._applicationRef.attachView(a),new rc([a.rootNodes],a)}return new rc([[this._renderer.createText(`${f}`)]])}return new rc([])}}let A1=(()=>{class r{constructor(n,a){this._el=n,this._zone=a}ngOnInit(){this._zone.onStable.asObservable().pipe((0,je.q)(1)).subscribe(()=>{yo(this._zone,this._el.nativeElement,(n,a)=>{a&&Ne(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return yo(this._zone,this._el.nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(e.SBq),e.Y36(e.R0b))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(a,l){2&a&&(e.Tol("modal-backdrop"+(l.backdropClass?" "+l.backdropClass:"")),e.ekj("show",!l.animation)("fade",l.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[e.jDz],decls:0,vars:0,template:function(a,l){},encapsulation:2})}return r})();class Zm{update(f){}close(f){}dismiss(f){}}const Hm=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Rl=["animation","backdropClass"];class Fl{_applyWindowOptions(f,n){Hm.forEach(a=>{nn(n[a])&&(f[a]=n[a])})}_applyBackdropOptions(f,n){Rl.forEach(a=>{nn(n[a])&&(f[a]=n[a])})}update(f){this._applyWindowOptions(this._windowCmptRef.instance,f),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,f)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,me.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,me.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(f,n,a,l){this._windowCmptRef=f,this._contentRef=n,this._backdropCmptRef=a,this._beforeDismiss=l,this._closed=new ee.x,this._dismissed=new ee.x,this._hidden=new ee.x,f.instance.dismissEvent.subscribe(_=>{this.dismiss(_)}),this.result=new Promise((_,M)=>{this._resolve=_,this._reject=M}),this.result.then(null,()=>{})}close(f){this._windowCmptRef&&(this._closed.next(f),this._resolve(f),this._removeModalElements())}_dismiss(f){this._dismissed.next(f),this._reject(f),this._removeModalElements()}dismiss(f){if(this._windowCmptRef)if(this._beforeDismiss){const n=this._beforeDismiss();!function ts(r){return r&&r.then}(n)?!1!==n&&this._dismiss(f):n.then(a=>{!1!==a&&this._dismiss(f)},()=>{})}else this._dismiss(f)}_removeModalElements(){const f=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,de.of)(void 0);f.subscribe(()=>{const{nativeElement:a}=this._windowCmptRef.location;a.parentNode.removeChild(a),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:a}=this._backdropCmptRef.location;a.parentNode.removeChild(a),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),St(f,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Ll=function(r){return r[r.BACKDROP_CLICK=0]="BACKDROP_CLICK",r[r.ESC=1]="ESC",r}(Ll||{});let df=(()=>{class r{constructor(n,a,l){this._document=n,this._elRef=a,this._zone=l,this._closed$=new ee.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new e.vpe,this.shown=new ee.x,this.hidden=new ee.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":pi(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,je.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:n}=this._elRef,a={animation:this.animation,runningTransition:"stop"},M=St(yo(this._zone,n,()=>n.classList.remove("show"),a),yo(this._zone,this._dialogEl.nativeElement,()=>{},a));return M.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),M}_show(){const n={animation:this.animation,runningTransition:"continue"};St(yo(this._zone,this._elRef.nativeElement,(_,M)=>{M&&Ne(_),_.classList.add("show")},n),yo(this._zone,this._dialogEl.nativeElement,()=>{},n)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{ut(n,"keydown").pipe((0,me.R)(this._closed$),(0,_e.h)(l=>l.which===Wi.Escape)).subscribe(l=>{this.keyboard?requestAnimationFrame(()=>{l.defaultPrevented||this._zone.run(()=>this.dismiss(Ll.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let a=!1;ut(this._dialogEl.nativeElement,"mousedown").pipe((0,me.R)(this._closed$),(0,Qe.b)(()=>a=!1),(0,sn.w)(()=>ut(n,"mouseup").pipe((0,me.R)(this._closed$),(0,je.q)(1))),(0,_e.h)(({target:l})=>n===l)).subscribe(()=>{a=!0}),ut(n,"click").pipe((0,me.R)(this._closed$)).subscribe(({target:l})=>{n===l&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!a&&this._zone.run(()=>this.dismiss(Ll.BACKDROP_CLICK))),a=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){const a=n.querySelector("[ngbAutofocus]"),l=Qh(n)[0];(a||l||n).focus()}}_restoreFocus(){const n=this._document.body,a=this._elWithFocus;let l;l=a&&a.focus&&n.contains(a)?a:n,this._zone.runOutsideAngular(()=>{setTimeout(()=>l.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&yo(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(Q.K0),e.Y36(e.SBq),e.Y36(e.R0b))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["ngb-modal-window"]],viewQuery:function(a,l){if(1&a&&e.Gf(cr,7),2&a){let _;e.iGM(_=e.CRH())&&(l._dialogEl=_.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(a,l){2&a&&(e.uIk("aria-modal",!0)("aria-labelledby",l.ariaLabelledBy)("aria-describedby",l.ariaDescribedBy),e.Tol("modal d-block"+(l.windowClass?" "+l.windowClass:"")),e.ekj("fade",l.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[e.jDz],ngContentSelectors:mr,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(a,l){1&a&&(e.F$t(),e.TgZ(0,"div",0,1)(2,"div",2),e.Hsn(3),e.qZA()()),2&a&&e.Tol("modal-dialog"+(l.size?" modal-"+l.size:"")+(l.centered?" modal-dialog-centered":"")+l.fullscreenClass+(l.scrollable?" modal-dialog-scrollable":"")+(l.modalDialogClass?" "+l.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return r})(),hf=(()=>{class r{constructor(n){this._document=n}hide(){const n=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),a=this._document.body,l=a.style,{overflow:_,paddingRight:M}=l;if(n>0){const Y=parseFloat(window.getComputedStyle(a).paddingRight);l.paddingRight=`${Y+n}px`}return l.overflow="hidden",()=>{n>0&&(l.paddingRight=M),l.overflow=_}}static#e=this.\u0275fac=function(a){return new(a||r)(e.LFG(Q.K0))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),sc=(()=>{class r{constructor(n,a,l,_,M,Y,K){this._applicationRef=n,this._injector=a,this._environmentInjector=l,this._document=_,this._scrollBar=M,this._rendererFactory=Y,this._ngZone=K,this._activeWindowCmptHasChanged=new ee.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new e.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const xe=this._windowCmpts[this._windowCmpts.length-1];((r,f,n,a=!1)=>{r.runOutsideAngular(()=>{const l=ut(f,"focusin").pipe((0,me.R)(n),(0,_t.U)(_=>_.target));ut(f,"keydown").pipe((0,me.R)(n),(0,_e.h)(_=>_.which===Wi.Tab),Lt(l)).subscribe(([_,M])=>{const[Y,K]=Qh(f);(M===Y||M===f)&&_.shiftKey&&(K.focus(),_.preventDefault()),M===K&&!_.shiftKey&&(Y.focus(),_.preventDefault())}),a&&ut(f,"click").pipe((0,me.R)(n),Lt(l),(0,_t.U)(_=>_[1])).subscribe(_=>_.focus())})})(this._ngZone,xe.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(xe.location.nativeElement)}})}_restoreScrollBar(){const n=this._scrollBarRestoreFn;n&&(this._scrollBarRestoreFn=null,n())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(n,a,l){const _=l.container instanceof HTMLElement?l.container:nn(l.container)?this._document.querySelector(l.container):this._document.body,M=this._rendererFactory.createRenderer(null,null);if(!_)throw new Error(`The specified modal container "${l.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const Y=new Zm,K=(n=l.injector||n).get(e.lqb,null)||this._environmentInjector,xe=this._getContentRef(n,K,a,Y,l);let Ve=!1!==l.backdrop?this._attachBackdrop(_):void 0,Pt=this._attachWindowComponent(_,xe.nodes),Dt=new Fl(Pt,xe,Ve,l.beforeDismiss);return this._registerModalRef(Dt),this._registerWindowCmpt(Pt),Dt.hidden.pipe((0,je.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(M.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),Y.close=jt=>{Dt.close(jt)},Y.dismiss=jt=>{Dt.dismiss(jt)},Y.update=jt=>{Dt.update(jt)},Dt.update(l),1===this._modalRefs.length&&M.addClass(this._document.body,"modal-open"),Ve&&Ve.instance&&Ve.changeDetectorRef.detectChanges(),Pt.changeDetectorRef.detectChanges(),Dt}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(a=>a.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n){let a=(0,e.LMc)(A1,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(a.hostView),n.appendChild(a.location.nativeElement),a}_attachWindowComponent(n,a){let l=(0,e.LMc)(df,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:a});return this._applicationRef.attachView(l.hostView),n.appendChild(l.location.nativeElement),l}_getContentRef(n,a,l,_,M){return l?l instanceof e.Rgc?this._createFromTemplateRef(l,_):pi(l)?this._createFromString(l):this._createFromComponent(n,a,l,_,M):new rc([])}_createFromTemplateRef(n,a){const _=n.createEmbeddedView({$implicit:a,close(M){a.close(M)},dismiss(M){a.dismiss(M)}});return this._applicationRef.attachView(_),new rc([_.rootNodes],_)}_createFromString(n){const a=this._document.createTextNode(`${n}`);return new rc([[a]])}_createFromComponent(n,a,l,_,M){const Y=e.zs3.create({providers:[{provide:Zm,useValue:_}],parent:n}),K=(0,e.LMc)(l,{environmentInjector:a,elementInjector:Y}),xe=K.location.nativeElement;return M.scrollable&&xe.classList.add("component-host-scrollable"),this._applicationRef.attachView(K.hostView),new rc([[xe]],K.hostView,K)}_setAriaHidden(n){const a=n.parentElement;a&&n!==this._document.body&&(Array.from(a.children).forEach(l=>{l!==n&&"SCRIPT"!==l.nodeName&&(this._ariaHiddenValues.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}),this._setAriaHidden(a))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,a)=>{n?a.setAttribute("aria-hidden",n):a.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){const a=()=>{const l=this._modalRefs.indexOf(n);l>-1&&(this._modalRefs.splice(l,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(a,a)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{const a=this._windowCmpts.indexOf(n);a>-1&&(this._windowCmpts.splice(a,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(a){return new(a||r)(e.LFG(e.z2F),e.LFG(e.zs3),e.LFG(e.lqb),e.LFG(Q.K0),e.LFG(hf),e.LFG(e.FYo),e.LFG(e.R0b))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),ff=(()=>{class r{constructor(n){this._ngbConfig=n,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(n){this._animation=n}static#e=this.\u0275fac=function(a){return new(a||r)(e.LFG($r))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),pf=(()=>{class r{constructor(n,a,l){this._injector=n,this._modalStack=a,this._config=l}open(n,a={}){const l={...this._config,animation:this._config.animation,...a};return this._modalStack.open(this._injector,n,l)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(a){return new(a||r)(e.LFG(e.zs3),e.LFG(sc),e.LFG(ff))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Yc=(()=>{class r{static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({providers:[pf]})}return r})(),Xu=(()=>{class r{static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})(),od=(()=>{class r{static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})();class qm{constructor(f,n){this.open=f,this.close=n,n||(this.close=f)}isManual(){return"manual"===this.open||"manual"===this.close}}const Wm={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},bf=r=>r>0?ui(r):f=>f;let Ra=(()=>{class r{static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})(),Zl=(()=>{class r{static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})(),Df=(()=>{class r{static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})(),Hl=(()=>{class r{static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})(),dd=(()=>{class r{static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})(),Vl=(()=>{class r{static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})(),zl=(()=>{class r{constructor(n){this._ngbConfig=n,this.autoClose=!0,this.placement="auto",this.popperOptions=a=>a,this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(n){this._animation=n}static#e=this.\u0275fac=function(a){return new(a||r)(e.LFG($r))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Tf=0,fd=(()=>{class r{static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip",2,"position","absolute"],hostVars:5,hostBindings:function(a,l){2&a&&(e.Ikx("id",l.id),e.Tol("tooltip"+(l.tooltipClass?" "+l.tooltipClass:"")),e.ekj("fade",l.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},standalone:!0,features:[e.jDz],ngContentSelectors:mr,decls:3,vars:0,consts:[["data-popper-arrow","",1,"tooltip-arrow"],[1,"tooltip-inner"]],template:function(a,l){1&a&&(e.F$t(),e._UZ(0,"div",0),e.TgZ(1,"div",1),e.Hsn(2),e.qZA())},encapsulation:2,changeDetection:0})}return r})(),Uo=(()=>{class r{constructor(n,a,l,_,M,Y,K,xe,Ve){this._elementRef=n,this._renderer=a,this._ngZone=Y,this._document=K,this._changeDetector=xe,this.shown=new e.vpe,this.hidden=new e.vpe,this._ngbTooltipWindowId="ngb-tooltip-"+Tf++,this._windowRef=null,this.animation=M.animation,this.autoClose=M.autoClose,this.placement=M.placement,this.popperOptions=M.popperOptions,this.triggers=M.triggers,this.container=M.container,this.disableTooltip=M.disableTooltip,this.tooltipClass=M.tooltipClass,this.openDelay=M.openDelay,this.closeDelay=M.closeDelay,this._popupService=new S1(fd,l,_,a,this._ngZone,Ve),this._positioning=function Hc(){const r=(0,e.f3M)(Oa);let f=null;return{createPopper(n){if(!f){let l=(n.updatePopperOptions||ju)(tf(n,r));f=No(n.hostElement,n.targetElement,l)}},update(){f&&f.update()},setOptions(n){if(f){let l=(n.updatePopperOptions||ju)(tf(n,r));f.setOptions(l)}},destroy(){f&&(f.destroy(),f=null)}}}()}set ngbTooltip(n){this._ngbTooltip=n,!n&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(n){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:a,transition$:l}=this._popupService.open(this._ngbTooltip,n??this.tooltipContext,this.animation);this._windowRef=a,this._windowRef.setInput("animation",this.animation),this._windowRef.setInput("tooltipClass",this.tooltipClass),this._windowRef.setInput("id",this._ngbTooltipWindowId),this._renderer.setAttribute(this._getPositionTargetElement(),"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._getPositionTargetElement(),targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,baseClass:"bs-tooltip",updatePopperOptions:_=>this.popperOptions(_)}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),function Al(r,f,n,a,l,_,M,Y){n&&r.runOutsideAngular((r=>Wh?()=>setTimeout(()=>r(),100):r)(()=>{const xe=ut(f,"keydown").pipe((0,me.R)(l),(0,_e.h)(Dt=>Dt.which===Wi.Escape),(0,Qe.b)(Dt=>Dt.preventDefault())),Ve=ut(f,"mousedown").pipe((0,_t.U)(Dt=>{const jt=Dt.target;return 2!==Dt.button&&!ec(jt,M)&&("inside"===n?ec(jt,_)&&qh(jt,Y):"outside"===n?!ec(jt,_):qh(jt,Y)||!ec(jt,_))}),(0,me.R)(l)),Pt=ut(f,"mouseup").pipe(Lt(Ve),(0,_e.h)(([Dt,jt])=>jt),ui(0),(0,me.R)(l));fn([xe.pipe((0,_t.U)(Dt=>0)),Pt.pipe((0,_t.U)(Dt=>1))]).subscribe(Dt=>r.run(()=>a(Dt)))}))}(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),l.subscribe(()=>this.shown.emit())}}close(n=this.animation){null!=this._windowRef&&(this._renderer.removeAttribute(this._getPositionTargetElement(),"aria-describedby"),this._popupService.close(n).subscribe(()=>{this._windowRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function Jm(r,f,n,a,l,_,M=0,Y=0){const K=function rd(r,f=Wm){const n=(r||"").trim();if(0===n.length)return[];const a=n.split(/\s+/).map(_=>_.split(":")).map(_=>{let M=f[_[0]]||_;return new qm(M[0],M[1])}),l=a.filter(_=>_.isManual());if(l.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===l.length&&a.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return a}(n);if(1===K.length&&K[0].isManual())return()=>{};const xe=function sd(r,f,n,a){return new be.y(l=>{const _=[],M=()=>l.next(!0),Y=()=>l.next(!1),K=()=>l.next(!a());return n.forEach(xe=>{xe.open===xe.close?_.push(r.listen(f,xe.open,K)):_.push(r.listen(f,xe.open,M),r.listen(f,xe.close,Y))}),()=>{_.forEach(xe=>xe())}})}(r,f,K,a).pipe(function Wc(r,f,n){return a=>{let l=null;const _=a.pipe((0,_t.U)(K=>({open:K})),(0,_e.h)(K=>{const xe=n();return xe===K.open||l&&l.open!==xe?(l&&l.open!==K.open&&(l=null),!1):(l=K,!0)}),(0,Dn.B)()),M=_.pipe((0,_e.h)(K=>K.open),bf(r)),Y=_.pipe((0,_e.h)(K=>!K.open),bf(f));return(0,cn.T)(M,Y).pipe((0,_e.h)(K=>K===l&&(l=null,K.open!==n())),(0,_t.U)(K=>K.open))}}(M,Y,a)).subscribe(Ve=>Ve?l():_());return()=>xe.unsubscribe()}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:n}){n&&this.isOpen()&&(this._windowRef.instance.tooltipClass=n.currentValue)}ngOnDestroy(){this.close(!1),this._unregisterListenersFn?.()}_getPositionTargetElement(){return(pi(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget)||this._elementRef.nativeElement}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.zs3),e.Y36(e.s_b),e.Y36(zl),e.Y36(e.R0b),e.Y36(Q.K0),e.Y36(e.sBO),e.Y36(e.z2F))};static#t=this.\u0275dir=e.lG2({type:r,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",popperOptions:"popperOptions",triggers:"triggers",positionTarget:"positionTarget",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",tooltipContext:"tooltipContext",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],standalone:!0,features:[e.TTD]})}return r})(),Mf=(()=>{class r{static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})();new e.OlP("live announcer delay",{providedIn:"root",factory:function Sf(){return 100}});let xf=(()=>{class r{static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})(),md=(()=>{class r{static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})();const Nf=[tt,mi,Nu,ku,Bm,Um,Yc,Xu,md,od,Ra,Zl,Df,Hl,dd,Vl,Mf,xf];let kf=(()=>{class r{static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({imports:[Nf,tt,mi,Nu,ku,Bm,Um,Yc,Xu,md,od,Ra,Zl,Df,Hl,dd,Vl,Mf,xf]})}return r})();var lo=S(1357),rn=S(8460),m_=S(5400);let __=(()=>{class r{constructor(n){this._http=n}get(n){const a=new m_.t(1);return this._http.get(n,{responseType:"blob"}).subscribe({next:l=>{const _=window.URL.createObjectURL(l);a.next(_),a.complete()},error:l=>a.error(l)}),a}static#e=this.\u0275fac=function(a){return new(a||r)(e.LFG(J.eN))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function v_(r,f){if(1&r&&e._UZ(0,"img",3),2&r){const n=e.oxw(2);e.Udp("width",n.width)("height",n.height),e.Q6J("src",n.safeString||n.safeUrl,e.LSH),e.uIk("loading",n.lazy?"lazy":void 0)("draggable",n.draggable)}}function y_(r,f){if(1&r&&e._UZ(0,"mat-icon",4),2&r){const n=e.oxw(2);e.Q6J("svgIcon",n.safeString)}}function na(r,f){if(1&r&&(e.ynx(0),e.YNc(1,v_,1,7,"img",1),e.YNc(2,y_,1,1,"mat-icon",2),e.BQk()),2&r){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",!n.isSvg),e.xp6(1),e.Q6J("ngIf",n.isSvg&&n.safeString)}}let Vs=(()=>{class r{constructor(n,a){this._imageService=n,this._domSanitizer=a,this.isSvg=!1}ngOnChanges(n){n.src&&this.updateImage(n.src.currentValue)}updateImage(n){this._loadSource&&(this._loadSource.unsubscribe(),this._loadSource=void 0),n||="",this.isSvg=n.startsWith("#"),this.safeString=this.safeUrl=void 0,this.safeString=this.isSvg&&n.startsWith("#")?n.substring(1):n}loadObjectUrl(n){this._loadSource=this._imageService.get(n).subscribe({next:a=>this.safeUrl=this._domSanitizer.bypassSecurityTrustUrl(a),error:a=>console.error("Failed loading URL",n,a)})}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(__),e.Y36(p.H7))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-icon"]],hostVars:2,hostBindings:function(a,l){2&a&&e.Udp("opacity",l.opacity)},inputs:{src:"src",opacity:"opacity",width:"width",height:"height",lazy:"lazy",draggable:"draggable"},features:[e.TTD],decls:1,vars:1,consts:[[4,"ngIf"],["class","img","crossorigin","anonymous",3,"src","width","height",4,"ngIf"],[3,"svgIcon",4,"ngIf"],["crossorigin","anonymous",1,"img",3,"src"],[3,"svgIcon"]],template:function(a,l){1&a&&e.YNc(0,na,3,2,"ng-container",0),2&a&&e.Q6J("ngIf",l.src)},dependencies:[Q.O5,V.Hw],styles:["img[_ngcontent-%COMP%], mat-icon[_ngcontent-%COMP%]{width:100%;height:100%}"],changeDetection:0})}return r})();function b_(r,f){if(1&r&&e._UZ(0,"app-icon",5),2&r){const n=e.oxw(2);e.Q6J("src",(null==n.item.season?null:n.item.season.iconUrl)||"#season-candle")}}function D_(r,f){1&r&&e._UZ(0,"app-icon",6),2&r&&e.Q6J("src","#season-heart")}function C_(r,f){1&r&&e._UZ(0,"app-icon",7),2&r&&e.Q6J("src","#ascended-candle")}function w_(r,f){1&r&&e._UZ(0,"app-icon",8),2&r&&e.Q6J("src","#gift")}function E_(r,f){if(1&r&&(e.ynx(0),e.YNc(1,b_,1,1,"app-icon",1),e.YNc(2,D_,1,1,"app-icon",2),e.YNc(3,C_,1,1,"app-icon",3),e.YNc(4,w_,1,1,"app-icon",4),e.BQk()),2&r){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",null==n.item.season?null:n.item.season.iconUrl),e.xp6(1),e.Q6J("ngIf","Ultimate"===n.item.group),e.xp6(1),e.Q6J("ngIf","Elder"===n.item.group),e.xp6(1),e.Q6J("ngIf",null==n.item.iaps?null:n.item.iaps.length)}}let Pf=(()=>{class r{static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-item-icons"]],inputs:{item:"item"},decls:1,vars:1,consts:[[4,"ngIf"],["class","img-tr",3,"src",4,"ngIf"],["class","img-tl seasonal",3,"src",4,"ngIf"],["class","img-tl",3,"src",4,"ngIf"],["class","img-tl currency",3,"src",4,"ngIf"],[1,"img-tr",3,"src"],[1,"img-tl","seasonal",3,"src"],[1,"img-tl",3,"src"],[1,"img-tl","currency",3,"src"]],template:function(a,l){1&a&&e.YNc(0,E_,5,4,"ng-container",0),2&a&&e.Q6J("ngIf",l.item)},dependencies:[Q.O5,Vs],styles:["*[_ngcontent-%COMP%]{pointer-events:none}.img-tl[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:var(--icon-size-group);height:var(--icon-size-group)}.img-tr[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:var(--icon-size-group);height:var(--icon-size-group)}"],changeDetection:0})}return r})();function Rf(r,f){if(1&r){const n=e.EpF();e.TgZ(0,"app-icon",3),e.NdJ("click",function(l){e.CHM(n);const _=e.oxw();return e.KtG(_.iconClick(l))}),e.qZA()}if(2&r){const n=e.oxw();e.Q6J("src",n.item.icon)("opacity",n.item.unlocked||n.highlight?void 0:.5)("draggable",!1)}}function T_(r,f){if(1&r&&(e.TgZ(0,"span",4),e._uU(1),e.qZA()),2&r){const n=e.oxw();e.xp6(1),e.hij("Lv",n.item.level,"")}}function M_(r,f){if(1&r&&e._UZ(0,"app-item-icons",5),2&r){const n=e.oxw();e.Q6J("item",n.item)}}let uc=(()=>{class r{constructor(n,a,l){this._debug=n,this._eventService=a,this._changeDetectorRef=l,this.size="default",this.hoverHighlight=!0,this._size="default",this.ItemType=rn.q}ngOnInit(){this._sub=this._eventService.itemToggled.subscribe(n=>{n.guid===this.item?.guid&&this._changeDetectorRef.markForCheck()})}ngOnChanges(n){n.size&&(this._size=n.size.currentValue)}ngOnDestroy(){this._sub?.unsubscribe()}iconClick(n){this._debug.copyItem&&(n.stopImmediatePropagation(),n.preventDefault(),navigator.clipboard.writeText(this.item.guid))}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(ze),e.Y36(Te),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-item"]],hostVars:3,hostBindings:function(a,l){2&a&&(e.uIk("data-size",l._size),e.ekj("hoverable",l.hoverHighlight))},inputs:{item:"item",size:"size",highlight:"highlight",hoverHighlight:"hoverHighlight",showSubIcons:"showSubIcons"},features:[e.TTD],decls:3,vars:3,consts:[["class","img item-icon",3,"src","opacity","draggable","click",4,"ngIf"],["class","emote-level",4,"ngIf"],[3,"item",4,"ngIf"],[1,"img","item-icon",3,"src","opacity","draggable","click"],[1,"emote-level"],[3,"item"]],template:function(a,l){1&a&&(e.YNc(0,Rf,1,3,"app-icon",0),e.YNc(1,T_,2,1,"span",1),e.YNc(2,M_,1,1,"app-item-icons",2)),2&a&&(e.Q6J("ngIf",l.item.icon),e.xp6(1),e.Q6J("ngIf",l.item.type===l.ItemType.Emote),e.xp6(1),e.Q6J("ngIf",l.showSubIcons))},dependencies:[Q.O5,Vs,Pf],styles:["[_nghost-%COMP%]{display:inline-block;position:relative;border:0;border-radius:var(--border-radius);width:var(--item-size);height:var(--item-size)}[data-size=large][_nghost-%COMP%]{width:var(--item-size-large);height:var(--item-size-large)}[data-size=medium][_nghost-%COMP%]{width:var(--item-size-medium);height:var(--item-size-medium)}[data-size=small][_nghost-%COMP%]{width:var(--item-size-small);height:var(--item-size-small)}.img[_ngcontent-%COMP%]{width:100%;height:100%;transition:var(--animation-short);filter:drop-shadow(0 0 0 #0000)}.hoverable[_nghost-%COMP%]:hover   .img[_ngcontent-%COMP%]{transition:var(--animation-short);filter:drop-shadow(0 0 4px #fffa73)}.img[_ngcontent-%COMP%]{width:100%;height:100%}.emote-level[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;font-size:12px}"],changeDetection:0})}return r})();function S_(r,f){if(1&r){const n=e.EpF();e.TgZ(0,"div",5),e.NdJ("click",function(l){e.CHM(n);const _=e.oxw();return e.KtG(_.toggleNode(l))})("mouseenter",function(l){e.CHM(n);const _=e.oxw();return e.KtG(_.mouseEnter(l))})("mouseleave",function(l){e.CHM(n);const _=e.oxw();return e.KtG(_.mouseLeave(l))}),e._UZ(1,"app-item",6),e.qZA()}if(2&r){const n=e.oxw(),a=e.MAs(11);e.Q6J("ngbTooltip",a)("placement",n.tooltipPlacement),e.xp6(1),e.Q6J("item",n.node.item)("highlight",n.hover)}}function $l(r,f){if(1&r&&(e.TgZ(0,"div",7),e._uU(1),e._UZ(2,"mat-icon",8),e.qZA()),2&r){const n=e.oxw();e.xp6(1),e.hij(" ",n.node.c,""),e.xp6(1),e.Q6J("inline",!1)}}function ia(r,f){if(1&r&&(e.TgZ(0,"div",7),e._uU(1),e._UZ(2,"mat-icon",9),e.qZA()),2&r){const n=e.oxw();e.xp6(1),e.hij(" ",n.node.sc,""),e.xp6(1),e.Q6J("inline",!1)}}function Kc(r,f){if(1&r&&(e.TgZ(0,"div",7),e._uU(1),e._UZ(2,"mat-icon",10),e.qZA()),2&r){const n=e.oxw();e.xp6(1),e.hij(" ",n.node.h,""),e.xp6(1),e.Q6J("inline",!1)}}function Ff(r,f){if(1&r&&(e.TgZ(0,"div",7),e._uU(1),e._UZ(2,"mat-icon",11),e.qZA()),2&r){const n=e.oxw();e.xp6(1),e.hij(" ",n.node.sh,""),e.xp6(1),e.Q6J("inline",!1)}}function Lf(r,f){if(1&r&&(e.TgZ(0,"div",12),e._uU(1),e._UZ(2,"mat-icon",13),e.qZA()),2&r){const n=e.oxw();e.xp6(1),e.hij(" ",n.node.ac,""),e.xp6(1),e.Q6J("inline",!1)}}function Bf(r,f){if(1&r&&(e.TgZ(0,"div",7),e._uU(1),e._UZ(2,"mat-icon",14),e.qZA()),2&r){const n=e.oxw();e.xp6(1),e.hij(" ",n.node.ec,""),e.xp6(1),e.Q6J("inline",!1)}}function H1(r,f){if(1&r&&(e.ynx(0),e.TgZ(1,"span",16),e._uU(2),e.qZA(),e.BQk()),2&r){const n=e.oxw(2);e.xp6(2),e.Oqu(n.node.item.name)}}function j1(r,f){if(1&r&&e.YNc(0,H1,3,1,"ng-container",15),2&r){const n=e.oxw();e.Q6J("ngIf",n.node.item)}}let V1=(()=>{class r{constructor(n,a,l){this._debug=n,this._eventService=a,this._storageService=l,this.position="center",this.tooltipPlacement="bottom"}ngOnChanges(n){if(n.position){const a=n.position.currentValue;this.tooltipPlacement="left"===a?"bottom-start":"right"===a?"bottom-end":"bottom"}}mouseEnter(n){this.hover=!0}mouseLeave(n){this.hover=!1}toggleNode(n){if(!this.node.item)return;const a=this.node.item;if(this._debug.copyNode)return n.stopImmediatePropagation(),n.preventDefault(),void this.copyDebug(this.node);a.unlocked?this.lockItem():this.unlockItem(),this._eventService.toggleItem(a)}copyDebug(n){navigator.clipboard.writeText(JSON.stringify({nw:!!n.nw,n:!!n.n,ne:!!n.ne,item:n.item?.guid,c:n.c,h:n.h,sc:n.sc,sh:n.sh,ac:n.ac,ec:n.ec}))}unlockItem(){if(!this.node.item)return;const n=[];this.node.item.unlocked=!0,n.push(this.node.item.guid),this.node.unlocked=!0,n.push(this.node.guid),this.node.hiddenItems?.forEach(a=>{a.unlocked=!0,n.push(a.guid)}),this._storageService.add(...n),this._storageService.save()}lockItem(){if(!this.node.item)return;const n=[],l=[this.node.item,...this.node.hiddenItems||[]];for(const _ of l)_.unlocked=!1,n.push(_.guid),(_.nodes||[]).forEach(K=>{K.unlocked=!1,n.push(K.guid)}),(_.hiddenNodes||[]).forEach(K=>{K.unlocked=!1,n.push(K.guid)});this._storageService.remove(...n),this._storageService.save()}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(ze),e.Y36(Te),e.Y36(et.V))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-node"]],inputs:{node:"node",position:"position",highlight:"highlight"},features:[e.TTD],decls:12,vars:14,consts:[["class","item-container","container","body",3,"ngbTooltip","placement","click","mouseenter","mouseleave",4,"ngIf"],["class","cost",4,"ngIf"],["class","cost ascend",4,"ngIf"],[1,"unlock-check"],["nodeHover",""],["container","body",1,"item-container",3,"ngbTooltip","placement","click","mouseenter","mouseleave"],[3,"item","highlight"],[1,"cost"],["svgIcon","candle",1,"icon-middle",3,"inline"],["svgIcon","season-candle",1,"icon-middle",3,"inline"],["svgIcon","heart",1,"icon-middle",3,"inline"],["svgIcon","season-heart",1,"seasonal","icon-middle",3,"inline"],[1,"cost","ascend"],["svgIcon","ascended-candle",1,"icon-middle",3,"inline"],["svgIcon","ticket",1,"icon-middle",3,"inline"],[4,"ngIf"],[1,"ws-nw"]],template:function(a,l){1&a&&(e.TgZ(0,"div"),e.YNc(1,S_,2,4,"div",0),e.YNc(2,$l,3,2,"div",1),e.YNc(3,ia,3,2,"div",1),e.YNc(4,Kc,3,2,"div",1),e.YNc(5,Ff,3,2,"div",1),e.YNc(6,Lf,3,2,"div",2),e.YNc(7,Bf,3,2,"div",1),e.TgZ(8,"mat-icon",3),e._uU(9,"done"),e.qZA()(),e.YNc(10,j1,1,1,"ng-template",null,4,e.W1O)),2&a&&(e.ekj("highlight",l.highlight),e.uIk("data-position",l.position),e.xp6(1),e.Q6J("ngIf",l.node.item),e.xp6(1),e.Q6J("ngIf",null==l.node?null:l.node.c),e.xp6(1),e.Q6J("ngIf",null==l.node?null:l.node.sc),e.xp6(1),e.Q6J("ngIf",null==l.node?null:l.node.h),e.xp6(1),e.Q6J("ngIf",null==l.node?null:l.node.sh),e.xp6(1),e.Q6J("ngIf",null==l.node?null:l.node.ac),e.xp6(1),e.Q6J("ngIf",null==l.node?null:l.node.ec),e.xp6(1),e.ekj("unlocked",l.node.unlocked||(null==l.node.item?null:l.node.item.unlocked))("self",l.node.unlocked))},dependencies:[Q.O5,Uo,V.Hw,uc],styles:["[_nghost-%COMP%]{position:relative;display:inline-block;width:100%;height:100%;-webkit-user-select:none;user-select:none}.item-container[_ngcontent-%COMP%]{display:inline-block;cursor:pointer}.cost[_ngcontent-%COMP%]{float:right;text-align:right;right:calc(50% + 3px);position:relative}.cost[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{fill:var(--color-candle)}div[data-position=left][_ngcontent-%COMP%]   .cost[_ngcontent-%COMP%]{left:unset;right:0}mat-icon[_ngcontent-%COMP%]{width:var(--icon-size-cost);vertical-align:text-bottom}"]})}return r})();const _d=function(r,f){return{cost:r,remaining:f,icon:"candle",iconClass:"currency"}};function vd(r,f){if(1&r&&(e.TgZ(0,"div",4),e.GkF(1,5),e.qZA()),2&r){const n=e.oxw(),a=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",e.WLB(2,_d,null==n.cost?null:n.cost.c,null==n.remaining?null:n.remaining.c))}}const z1=function(r,f){return{cost:r,remaining:f,icon:"candle",iconClass:"seasonal"}};function $1(r,f){if(1&r&&(e.TgZ(0,"div",4),e.GkF(1,5),e.qZA()),2&r){const n=e.oxw(),a=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",e.WLB(2,z1,null==n.cost?null:n.cost.sc,null==n.remaining?null:n.remaining.sc))}}const Uf=function(r,f){return{cost:r,remaining:f,icon:"heart",iconClass:"currency"}};function A_(r,f){if(1&r&&(e.TgZ(0,"div",4),e.GkF(1,5),e.qZA()),2&r){const n=e.oxw(),a=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",e.WLB(2,Uf,null==n.cost?null:n.cost.h,null==n.remaining?null:n.remaining.h))}}const x_=function(r,f){return{cost:r,remaining:f,icon:"heart",iconClass:"seasonal"}};function I_(r,f){if(1&r&&(e.TgZ(0,"div",4),e.GkF(1,5),e.qZA()),2&r){const n=e.oxw(),a=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",e.WLB(2,x_,null==n.cost?null:n.cost.sh,null==n.remaining?null:n.remaining.sh))}}const O_=function(r,f){return{cost:r,remaining:f,icon:"ascended-candle",iconClass:"currency"}};function Zf(r,f){if(1&r&&(e.TgZ(0,"div",4),e.GkF(1,5),e.qZA()),2&r){const n=e.oxw(),a=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",e.WLB(2,O_,null==n.cost?null:n.cost.ac,null==n.remaining?null:n.remaining.ac))}}const Gl=function(r,f){return{cost:r,remaining:f,icon:"ticket",iconClass:"currency"}};function Hf(r,f){if(1&r&&(e.TgZ(0,"div",4),e.GkF(1,5),e.qZA()),2&r){const n=e.oxw(),a=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",e.WLB(2,Gl,null==n.cost?null:n.cost.ec,null==n.remaining?null:n.remaining.ec))}}function yd(r,f){if(1&r&&(e.TgZ(0,"b",10),e._uU(1),e.qZA()),2&r){const n=e.oxw().cost;e.xp6(1),e.hij(" ",n||0,"")}}function N_(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const n=e.oxw().remaining;e.xp6(1),e.hij(" ",n||0,"")}}function Fa(r,f){if(1&r&&(e.TgZ(0,"span",11),e._uU(1),e.qZA()),2&r){const n=e.oxw().cost;e.xp6(1),e.hij(" (",n||0,")")}}function jf(r,f){if(1&r&&(e._UZ(0,"mat-icon",6),e.TgZ(1,"div"),e.YNc(2,yd,2,1,"b",7),e.YNc(3,N_,2,1,"span",8),e.YNc(4,Fa,2,1,"span",9),e.qZA()),2&r){const n=f.cost,a=f.remaining,l=f.icon;e.Tol(f.iconClass+" cost-icon icon-middle"),e.Q6J("svgIcon",l)("inline",!1),e.xp6(2),e.Q6J("ngIf",n&&!a),e.xp6(1),e.Q6J("ngIf",a),e.xp6(1),e.Q6J("ngIf",n&&a)}}function k_(r,f){1&r&&(e.TgZ(0,"span",11),e._uU(1,"Total cost of all items."),e.qZA())}function bd(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1,"Cost of items not yet unlocked."),e.qZA(),e._UZ(2,"br"),e.YNc(3,k_,2,0,"span",9),e._UZ(4,"br"),e.TgZ(5,"span",10),e._uU(6,"All items are unlocked."),e.qZA()),2&r){const n=e.oxw();e.xp6(3),e.Q6J("ngIf",n.remaining)}}let Xc=(()=>{class r{constructor(){this.borderLeft=!1,this.completed=!1}ngOnChanges(){this.completed=!!this.remaining&&lo.T.isEmpty(this.remaining)}static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-cost"]],inputs:{cost:"cost",remaining:"remaining",borderLeft:"borderLeft"},features:[e.TTD],decls:11,vars:9,consts:[["container","body","placement","top",1,"costs",3,"ngbTooltip"],["class","cost",4,"ngIf"],["costTemplate",""],["costHover",""],[1,"cost"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"svgIcon","inline"],["class","c-completed",4,"ngIf"],[4,"ngIf"],["class","c-accent",4,"ngIf"],[1,"c-completed"],[1,"c-accent"]],template:function(a,l){if(1&a&&(e.TgZ(0,"div",0),e.YNc(1,vd,2,5,"div",1),e.YNc(2,$1,2,5,"div",1),e.YNc(3,A_,2,5,"div",1),e.YNc(4,I_,2,5,"div",1),e.YNc(5,Zf,2,5,"div",1),e.YNc(6,Hf,2,5,"div",1),e.qZA(),e.YNc(7,jf,5,7,"ng-template",null,2,e.W1O),e.YNc(9,bd,7,1,"ng-template",null,3,e.W1O)),2&a){const _=e.MAs(10);e.ekj("cost-border-left",l.borderLeft),e.Q6J("ngbTooltip",_),e.xp6(1),e.Q6J("ngIf",null==l.cost?null:l.cost.c),e.xp6(1),e.Q6J("ngIf",null==l.cost?null:l.cost.sc),e.xp6(1),e.Q6J("ngIf",null==l.cost?null:l.cost.h),e.xp6(1),e.Q6J("ngIf",null==l.cost?null:l.cost.sh),e.xp6(1),e.Q6J("ngIf",null==l.cost?null:l.cost.ac),e.xp6(1),e.Q6J("ngIf",null==l.cost?null:l.cost.ec)}},dependencies:[Q.O5,Q.tP,Uo,V.Hw],styles:[".costs[_ngcontent-%COMP%]{display:inline-block}.cost[_ngcontent-%COMP%]{position:relative;display:inline-block;padding:0 8px 0 30px}.cost[_ngcontent-%COMP%]:not(:first-child), .cost-border-left[_ngcontent-%COMP%]   .cost[_ngcontent-%COMP%]{border-left:1px solid var(--color-cost-border)}mat-icon[_ngcontent-%COMP%]{vertical-align:sub;height:auto}.cost[_ngcontent-%COMP%]   mat-icon.cost-icon[_ngcontent-%COMP%]{position:absolute;top:-2px;left:4px}"],changeDetection:0})}return r})(),_s=(()=>{class r{transform(n,a){return a??=ge.O.displayFormat,n.format(a)}static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275pipe=e.Yjl({name:"dayjs",type:r,pure:!0})}return r})();function P_(r,f){if(1&r&&e._UZ(0,"app-node",15),2&r){const n=e.oxw().$implicit,a=e.oxw();e.Q6J("node",n)("position","left")("highlight",a.highlightItem?(null==n.item?null:n.item.guid)===a.highlightItem||n===a.hiddenItems[a.highlightItem]:void 0)}}function R_(r,f){1&r&&e._UZ(0,"div",16)}function F_(r,f){if(1&r&&(e.TgZ(0,"div",12),e.YNc(1,P_,1,3,"app-node",13),e.YNc(2,R_,1,0,"div",14),e.qZA()),2&r){const n=f.$implicit;e.xp6(1),e.Q6J("ngIf",n),e.xp6(1),e.Q6J("ngIf",null==n?null:n.n)}}function Vf(r,f){if(1&r&&e._UZ(0,"app-node",15),2&r){const n=e.oxw().$implicit,a=e.oxw();e.Q6J("node",n)("position","center")("highlight",a.highlightItem?(null==n.item?null:n.item.guid)===a.highlightItem||n===a.hiddenItems[a.highlightItem]:void 0)}}function G1(r,f){1&r&&e._UZ(0,"div",19)}function Y1(r,f){1&r&&e._UZ(0,"div",16)}function el(r,f){1&r&&e._UZ(0,"div",20)}function ki(r,f){if(1&r&&(e.TgZ(0,"div",12),e.YNc(1,Vf,1,3,"app-node",13),e.YNc(2,G1,1,0,"div",17),e.YNc(3,Y1,1,0,"div",14),e.YNc(4,el,1,0,"div",18),e.qZA()),2&r){const n=f.$implicit;e.xp6(1),e.Q6J("ngIf",n),e.xp6(1),e.Q6J("ngIf",null==n?null:n.nw),e.xp6(1),e.Q6J("ngIf",null==n?null:n.n),e.xp6(1),e.Q6J("ngIf",null==n?null:n.ne)}}function tl(r,f){if(1&r&&e._UZ(0,"app-node",15),2&r){const n=e.oxw().$implicit,a=e.oxw();e.Q6J("node",n)("position","right")("highlight",a.highlightItem?(null==n.item?null:n.item.guid)===a.highlightItem||n===a.hiddenItems[a.highlightItem]:void 0)}}function zf(r,f){1&r&&e._UZ(0,"div",16)}function $f(r,f){if(1&r&&(e.TgZ(0,"div",12),e.YNc(1,tl,1,3,"app-node",13),e.YNc(2,zf,1,0,"div",14),e.qZA()),2&r){const n=f.$implicit;e.xp6(1),e.Q6J("ngIf",n),e.xp6(1),e.Q6J("ngIf",null==n?null:n.n)}}function Dd(r,f){if(1&r&&(e.TgZ(0,"span",24),e._uU(1),e.ALo(2,"dayjs"),e.qZA()),2&r){const n=e.oxw(2);e.xp6(1),e.hij("(",e.xi3(2,1,n.tsDate,n.dateFormat),")")}}function Cd(r,f){if(1&r&&(e.TgZ(0,"span",24),e._uU(1),e.ALo(2,"dayjs"),e.qZA()),2&r){const n=e.oxw(2);e.xp6(1),e.hij("(",e.xi3(2,1,n.rsDate,n.dateFormat),")")}}function L_(r,f){if(1&r&&(e.TgZ(0,"div",21),e.Hsn(1),e.TgZ(2,"div",22),e._uU(3),e.YNc(4,Dd,3,4,"span",23),e.YNc(5,Cd,3,4,"span",23),e.qZA()()),2&r){const n=e.oxw();e.xp6(3),e.hij(" ",n.name," "),e.xp6(1),e.Q6J("ngIf",n.tsDate),e.xp6(1),e.Q6J("ngIf",n.rsDate)}}function Gf(r,f){1&r&&e._UZ(0,"div",25)}function Yf(r,f){if(1&r&&(e.TgZ(0,"div",26),e._UZ(1,"app-cost",27),e.qZA()),2&r){const n=e.oxw();e.xp6(1),e.Q6J("cost",n.totalCost)("remaining",n.remainingCost)}}const Yl=[[["div","name",""]]],q1=["div[name]"];let La=(()=>{class r{constructor(n,a,l){this._eventService=n,this._storageService=a,this._elementRef=l,this.nodes=[],this.left=[],this.center=[],this.right=[],this.hiddenItems={},this.hasCostAtRoot=!1,this.itemMap=new Map,this.dateFormat=ge.O.displayFormat}ngAfterViewInit(){const a=this._elementRef.nativeElement.querySelector(".spirit-tree-scroll");a&&(a.scrollTop=1e3)}ngOnChanges(n){n.tree&&(this.initializeNodes(),this.subscribeItemChanged(),this.calculateRemainingCosts(),this.tsDate=this.tree.ts?.date,this.rsDate=this.tree.visit?.return?.date)}ngOnDestroy(){this._itemSub?.unsubscribe()}initializeNodes(){this.itemMap.clear(),this.totalCost=lo.T.create(),this.remainingCost=lo.T.create(),this.nodes=[],this.left=[],this.center=[],this.right=[],this.hasCost=!1,this.tree&&(this.initializeNode(this.tree.node,0,0),this.hasCost=!lo.T.isEmpty(this.totalCost),this.hasCostAtRoot=!lo.T.isEmpty(this.tree.node))}subscribeItemChanged(){this._itemSub?.unsubscribe(),this._itemSub=this._eventService.itemToggled.pipe((0,_e.h)(n=>this.itemMap.has(n.guid))).subscribe(n=>this.onItemChanged(n))}onItemChanged(n){this.itemMap.get(n.guid)&&this.calculateRemainingCosts()}initializeNode(n,a,l){n.item&&this.itemMap.set(n.item.guid,n),this.nodes.push(n),(a<0?this.left:a>0?this.right:this.center)[l]=n,lo.T.add(this.totalCost,n),n.nw&&this.initializeNode(n.nw,a-1,l),n.ne&&this.initializeNode(n.ne,a+1,l),n.n&&this.initializeNode(n.n,a,l+1),n.hiddenItems?.length&&n.hiddenItems.forEach(M=>this.hiddenItems[M.guid]=n)}calculateRemainingCosts(){this.remainingCost=lo.T.create(),this.nodes.filter(n=>!n.unlocked&&!n.item?.unlocked).forEach(n=>{lo.T.add(this.remainingCost,n)})}unlockAll(){const n=this.nodes.filter(M=>M.item),l=n.map(M=>M.item).filter(M=>!M.unlocked).length;confirm(`Are you sure you want to ${l?"UNLOCK":"REMOVE"} all items from this tree?`)&&(l?n.filter(M=>!M.item.unlocked).forEach(M=>{M.item.unlocked=!0,M.unlocked=!0,this._storageService.add(M.item.guid,M.guid),this._eventService.toggleItem(M.item)}):n.filter(M=>M.item.unlocked).forEach(M=>{M.item.unlocked=!1;const Y=M.item.nodes||[];Y.forEach(K=>K.unlocked=!1),this._storageService.remove(M.item.guid,...Y.map(K=>K.guid)),this._eventService.toggleItem(M.item)}),this._storageService.save())}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(Te),e.Y36(et.V),e.Y36(e.SBq))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-spirit-tree"]],inputs:{tree:"tree",name:"name",highlight:"highlight",highlightItem:"highlightItem"},features:[e.TTD],ngContentSelectors:q1,decls:16,vars:11,consts:[[1,"content","sky-border-solid"],[1,"spirit-tree-scroll"],["container","body","placement","bottom-end",1,"unlock-all",3,"ngbTooltip","click"],[1,"spirit-tree"],[1,"column","left"],["class","st-item",4,"ngFor","ngForOf"],[1,"column","center"],[1,"column","right"],[1,"footer"],["class","name",4,"ngIf"],["class","hr",4,"ngIf"],["class","costs",4,"ngIf"],[1,"st-item"],[3,"node","position","highlight",4,"ngIf"],["class","arrow arrow-up",4,"ngIf"],[3,"node","position","highlight"],[1,"arrow","arrow-up"],["class","arrow arrow-left",4,"ngIf"],["class","arrow arrow-right",4,"ngIf"],[1,"arrow","arrow-left"],[1,"arrow","arrow-right"],[1,"name"],[1,"name-default"],["class","c-accent ts-date",4,"ngIf"],[1,"c-accent","ts-date"],[1,"hr"],[1,"costs"],[3,"cost","remaining"]],template:function(a,l){1&a&&(e.F$t(Yl),e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.NdJ("click",function(){return l.unlockAll()}),e.TgZ(3,"mat-icon"),e._uU(4,"lock_open"),e.qZA()(),e.TgZ(5,"div",3)(6,"div",4),e.YNc(7,F_,3,2,"div",5),e.qZA(),e.TgZ(8,"div",6),e.YNc(9,ki,5,4,"div",5),e.qZA(),e.TgZ(10,"div",7),e.YNc(11,$f,3,2,"div",5),e.qZA()()(),e.TgZ(12,"div",8),e.YNc(13,L_,6,3,"div",9),e.YNc(14,Gf,1,0,"div",10),e.YNc(15,Yf,2,2,"div",11),e.qZA()()),2&a&&(e.ekj("highlight",l.highlight),e.xp6(1),e.ekj("pad-bottom",l.hasCostAtRoot),e.xp6(1),e.Q6J("ngbTooltip","Toggle all"),e.xp6(5),e.Q6J("ngForOf",l.left),e.xp6(2),e.Q6J("ngForOf",l.center),e.xp6(2),e.Q6J("ngForOf",l.right),e.xp6(2),e.Q6J("ngIf",l.name),e.xp6(1),e.Q6J("ngIf",l.name&&l.hasCost),e.xp6(1),e.Q6J("ngIf",l.hasCost))},dependencies:[Q.sg,Q.O5,Uo,V.Hw,V1,Xc,_s],styles:["[_nghost-%COMP%]{display:inline-block}.content[_ngcontent-%COMP%]{border-radius:var(--border-radius);overflow:hidden}.spirit-tree-scroll[_ngcontent-%COMP%]{background:var(--color-tree-background);position:relative;overflow-y:auto;padding-top:20px}.spirit-tree-scroll.pad-bottom[_ngcontent-%COMP%]{padding-bottom:32px}.spirit-tree[_ngcontent-%COMP%]{display:inline-flex;gap:32px;width:min-content;padding:4px}.column[_ngcontent-%COMP%]{display:flex;gap:40px;flex-direction:column-reverse;justify-content:flex-start;counter-reset:item-counter;width:var(--item-size)}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{padding-bottom:48px}.st-item[_ngcontent-%COMP%]{position:relative;width:var(--item-size);height:var(--item-size)}.arrow[_ngcontent-%COMP%]{position:absolute;background:var(--color-tree-line);width:1px}.arrow-left[_ngcontent-%COMP%]{transform:rotate(-45deg);height:32px;left:-18px;top:0}.arrow-up[_ngcontent-%COMP%]{height:24px;top:-30px;left:50%;transform:translate(-50%)}.arrow-right[_ngcontent-%COMP%]{transform:rotate(45deg);height:32px;right:-18px;top:0}.footer[_ngcontent-%COMP%]{text-align:center;background:var(--color-tree-footer-background)}.name[_ngcontent-%COMP%]{padding:4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:bottom}.name-default[_ngcontent-%COMP%]:not(:only-child){display:none}.ts-date[_ngcontent-%COMP%]{font-size:13px;vertical-align:text-bottom}.hr[_ngcontent-%COMP%]{--width:calc(100% - 20px);height:1px;width:var(--width);margin-left:calc((100% - var(--width)) / 2);background:var(--color-tree-footer-border)}.costs[_ngcontent-%COMP%]{padding:4px}.cost[_ngcontent-%COMP%]{display:inline-block;font-size:14px;padding:0 6px}.cost[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:17px;vertical-align:sub;height:auto}.remaining-cost[_ngcontent-%COMP%]{color:var(--color-accent)}.seasonal[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{fill:var(--color-seasonal)}"]})}return r})();var B_=S(292),Do=S.n(B_);let Ba=(()=>{class r{constructor(){this.label=""}ngOnChanges(n){this.label=this.getLabel()}getLabel(){const n=this.date??Do()();return this.start&&n.isBefore(this.start)?this.getLabelBeforeStart(n):this.start&&!this.end?"ongoing":this.end&&n.isBefore(this.end)?this.getLabelBeforeEnd(n):this.end?"ended":""}getLabelBeforeStart(n){const a=ge.O.daysBetween(n,this.start);return a?`in ${a+1} days`:"tomorrow"}getLabelBeforeEnd(n){const a=ge.O.daysBetween(n,this.end);return a?`${a+1} days left`:"last day"}static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-days-left"]],inputs:{date:"date",start:"start",end:"end"},features:[e.TTD],decls:2,vars:1,template:function(a,l){1&a&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&a&&(e.xp6(1),e.Oqu(l.label))},changeDetection:0})}return r})(),ql=(()=>{class r{constructor(){this.label=""}ngOnChanges(){this.label=this.getLabel()}getLabel(){if(!this.start||!this.end)return"";const n=ge.O.daysBetween(this.start,this.end);return n?`${n+1} days`:"1 day"}static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-duration"]],inputs:{start:"start",end:"end"},features:[e.TTD],decls:2,vars:1,template:function(a,l){1&a&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&a&&(e.xp6(1),e.Oqu(l.label))},changeDetection:0})}return r})(),_a=(()=>{class r{constructor(){this.settingChanged=new ee.x,this._wikiNewTab=!1,this._wikiNewTab=this.wikiNewTab}get wikiNewTab(){return"1"===localStorage.getItem("wiki.newtab")}set wikiNewTab(n){this._wikiNewTab=n,localStorage.setItem("wiki.newtab",n?"1":"0"),this.settingChanged.next()}static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function U_(r,f){if(1&r&&(e.ynx(0),e.TgZ(1,"a",1)(2,"mat-icon",2),e._uU(3,"question_mark"),e.qZA(),e.TgZ(4,"span",3),e._uU(5,"Wiki"),e.qZA()(),e.BQk()),2&r){const n=e.oxw();e.xp6(1),e.Tol(n.aClass),e.Udp("order",n.order),e.Q6J("href",n.wiki.href||"#",e.LSH),e.uIk("target",n.openNewTab?"_blank":void 0)}}let Dr=(()=>{class r{constructor(n){this._settingService=n,this.aClass="container d-inline-block",this.openNewTab=!1,this.openNewTab=n._wikiNewTab}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(_a))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-wiki-link"]],inputs:{aClass:"aClass",wiki:"wiki",order:"order"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"href"],[1,"menu-icon"],[1,"menu-label"]],template:function(a,l){1&a&&e.YNc(0,U_,6,6,"ng-container",0),2&a&&e.Q6J("ngIf",l.wiki)},dependencies:[Q.O5,V.Hw],styles:["[_nghost-%COMP%]{display:contents}"],changeDetection:0})}return r})();function Wl(r,f){if(1&r&&(e.TgZ(0,"span",3),e._uU(1," ("),e._UZ(2,"app-days-left",11),e._uU(3,") "),e.qZA()),2&r){const n=e.oxw();e.xp6(2),e.Q6J("start",n.instance.date)("end",n.instance.endDate)}}function Z_(r,f){if(1&r&&(e.TgZ(0,"span",3),e._uU(1," ("),e._UZ(2,"app-days-left",11),e._uU(3,") "),e.qZA()),2&r){const n=e.oxw();e.xp6(2),e.Q6J("start",n.instance.date)("end",n.instance.endDate)}}function wd(r,f){if(1&r&&(e.TgZ(0,"span",3),e._uU(1),e.qZA()),2&r){const n=e.oxw();e.xp6(1),e.hij("(",n.ecLeft," needed)")}}function Jl(r,f){if(1&r&&(e.TgZ(0,"span",3),e._uU(1),e.qZA()),2&r){const n=e.oxw();e.xp6(1),e.hij("(",n.cLeft," needed)")}}function zs(r,f){if(1&r&&(e.TgZ(0,"div",21),e._UZ(1,"app-spirit-tree",22),e.qZA()),2&r){const n=f.$implicit,a=e.oxw(2);e.xp6(1),e.Q6J("tree",n.tree)("name",(null==n?null:n.name)||n.spirit.name)("highlightItem",a.highlightItem)}}function Ql(r,f){if(1&r&&(e.TgZ(0,"div",16)(1,"div",1)(2,"h2",17),e._uU(3,"Spirits"),e.qZA()(),e.TgZ(4,"div",18)(5,"div",19),e.YNc(6,zs,2,3,"div",20),e.qZA()()()),2&r){const n=e.oxw();e.xp6(6),e.Q6J("ngForOf",n.instance.spirits)}}function Ed(r,f){1&r&&(e.TgZ(0,"span",37),e._uU(1,"Returning IAP"),e.qZA())}function H_(r,f){1&r&&(e.TgZ(0,"span",38),e._uU(1,"New IAP"),e.qZA())}function j_(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const n=e.oxw(3).$implicit;e.xp6(1),e.Oqu(n.name)}}function qf(r,f){1&r&&(e.TgZ(0,"span"),e._uU(1,"Premium Candle Store"),e.qZA())}function dc(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const n=e.oxw(3).$implicit;let a;e.xp6(1),e.Oqu(null!==(a=n.name)&&void 0!==a?a:null==n.spirit?null:n.spirit.name)}}function V_(r,f){if(1&r&&(e.ynx(0),e._UZ(1,"mat-icon",39),e.TgZ(2,"span",9),e._uU(3),e.qZA(),e.BQk()),2&r){const n=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngbTooltip","Regular candles"),e.xp6(2),e.hij(" ",n.c," ")}}function z_(r,f){if(1&r&&(e.ynx(0),e._UZ(1,"mat-icon",40),e.TgZ(2,"span",9),e._uU(3),e.qZA(),e.BQk()),2&r){const n=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngbTooltip","Season candles"),e.xp6(2),e.hij(" ",n.sc," ")}}function $_(r,f){if(1&r&&(e.ynx(0),e._UZ(1,"mat-icon",41),e.TgZ(2,"span",9),e._uU(3),e.qZA(),e.BQk()),2&r){const n=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngbTooltip","Gift Season Pass"),e.xp6(2),e.hij(" ",n.sp," ")}}function Td(r,f){if(1&r&&(e.TgZ(0,"div",32),e.YNc(1,V_,4,2,"ng-container",15),e.YNc(2,z_,4,2,"ng-container",15),e.YNc(3,$_,4,2,"ng-container",15),e.qZA()),2&r){const n=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",n.c),e.xp6(1),e.Q6J("ngIf",n.sc),e.xp6(1),e.Q6J("ngIf",n.sp)}}function Wf(r,f){if(1&r&&(e.ynx(0),e.TgZ(1,"span",46),e._uU(2),e.qZA(),e.BQk()),2&r){const n=e.oxw(2).$implicit;e.xp6(2),e.Oqu(n.name)}}function G_(r,f){if(1&r&&e.YNc(0,Wf,3,1,"ng-container",15),2&r){const n=e.oxw().$implicit;e.Q6J("ngIf",n)}}function Jf(r,f){if(1&r){const n=e.EpF();e.TgZ(0,"div",42),e.NdJ("click",function(l){e.CHM(n);const _=e.oxw().$implicit,M=e.oxw(4);return e.KtG(M.togglePurchased(l,_))}),e._UZ(1,"app-item",43),e.TgZ(2,"mat-icon",44),e._uU(3,"done"),e.qZA(),e.YNc(4,G_,1,1,"ng-template",null,45,e.W1O),e.qZA()}if(2&r){const n=f.$implicit,a=e.MAs(5),l=e.oxw().$implicit;e.xp6(1),e.Q6J("item",n)("ngbTooltip",a),e.xp6(1),e.ekj("unlocked",null==n?null:n.unlocked)("self",l.bought)}}function Md(r,f){if(1&r&&(e.TgZ(0,"div",27)(1,"div",1)(2,"h3",28),e._uU(3),e.qZA()(),e.TgZ(4,"div",4)(5,"div",29)(6,"mat-icon",8),e._uU(7),e.qZA(),e.TgZ(8,"span",9),e.YNc(9,Ed,2,0,"span",30),e.YNc(10,H_,2,0,"span",31),e.qZA()(),e.TgZ(11,"div",32)(12,"mat-icon",8),e._uU(13,"location_on"),e.qZA(),e.TgZ(14,"span",9),e.YNc(15,j_,2,1,"span",15),e.YNc(16,qf,2,0,"span",15),e.YNc(17,dc,2,1,"span",15),e.qZA()(),e.TgZ(18,"div",32)(19,"mat-icon",8),e._uU(20,"attach_money"),e.qZA(),e.TgZ(21,"span",33),e._uU(22),e.qZA()(),e.YNc(23,Td,4,3,"div",34),e.TgZ(24,"div",35),e.YNc(25,Jf,6,6,"div",36),e.qZA()()()),2&r){const n=f.$implicit,a=e.oxw(2).$implicit,l=e.oxw(2);e.ekj("highlight",n.guid===l.highlightIap),e.xp6(2),e.Q6J("ngbTooltip",n.name),e.xp6(1),e.hij(" ",l.iapNames[n.guid]," "),e.xp6(4),e.Oqu(n.returning?"undo":"grade"),e.xp6(2),e.Q6J("ngIf",n.returning),e.xp6(1),e.Q6J("ngIf",!n.returning),e.xp6(5),e.Q6J("ngIf",a.name),e.xp6(1),e.Q6J("ngIf",!a.name&&"Store"===a.type),e.xp6(1),e.Q6J("ngIf",!a.name&&"Store"!==a.type),e.xp6(4),e.Q6J("ngbTooltip","Price of the IAP in USD."),e.xp6(1),e.hij(" ",n.price," "),e.xp6(1),e.Q6J("ngIf",n.c||n.sc||n.sp),e.xp6(2),e.Q6J("ngForOf",n.items)}}function W1(r,f){if(1&r&&(e.ynx(0),e.YNc(1,Md,26,14,"div",26),e.BQk()),2&r){const n=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",n.iaps)}}function J1(r,f){if(1&r&&(e.ynx(0),e.YNc(1,W1,2,1,"ng-container",15),e.BQk()),2&r){const n=f.$implicit;e.xp6(1),e.Q6J("ngIf",null==n.iaps?null:n.iaps.length)}}function Y_(r,f){if(1&r&&(e.ynx(0),e.TgZ(1,"div",16)(2,"div",1)(3,"h2",17),e._uU(4,"In-App Purchases"),e.qZA()(),e.TgZ(5,"div",23)(6,"div",24),e.YNc(7,J1,2,1,"ng-container",25),e.qZA()()(),e.BQk()),2&r){const n=e.oxw();e.xp6(7),e.Q6J("ngForOf",n.shops)}}let q_=(()=>{class r{constructor(n,a,l,_,M){this._dataService=n,this._debugService=a,this._eventService=l,this._iapService=_,this._route=M,this.iapNames={},this.c=0,this.cLeft=0,this.ec=0,this.ecLeft=0,M.queryParamMap.subscribe(Y=>this.onQueryChanged(Y)),M.paramMap.subscribe(Y=>this.onParamsChanged(Y)),this.subscribeItemChanged()}ngOnDestroy(){this._itemSub?.unsubscribe()}subscribeItemChanged(){this._itemSub?.unsubscribe(),this._itemSub=this._eventService.itemToggled.subscribe(n=>this.onItemChanged())}onItemChanged(){this.calculateCandles()}onQueryChanged(n){this.highlightItem=n.get("highlightItem")||void 0,this.highlightIap=n.get("highlightIap")||void 0}onParamsChanged(n){const a=n.get("guid");this.instance=this._dataService.guidMap.get(a),this.state=ge.O.getStateFromPeriod(this.instance.date,this.instance.endDate),this.shops=this.instance.shops?[...this.instance.shops]:void 0,this.shops?.sort((_,M)=>{const Y=_.iaps?.filter(xe=>!xe.returning).length??0;return(M.iaps?.filter(xe=>!xe.returning).length??0)-Y});const l=this.instance.event?.name;l&&this.shops?.forEach(_=>{_.iaps?.forEach(M=>{let Y=M.name?.replace(`${l} `,"");-1===Y?.indexOf(" ")&&(Y=l.startsWith("Days of ")?M.name?.substring(8):M.name),this.iapNames[M.guid]=Y})}),this.calculateCandles()}togglePurchased(n,a){if(this._debugService.copyShop)return n.stopImmediatePropagation(),n.preventDefault(),void navigator.clipboard.writeText(a.shop?.guid??"");this._iapService.togglePurchased(a)}calculateCandles(){this.c=this.cLeft=this.ec=this.ecLeft=0,this.instance.spirits?.map(n=>n.tree).forEach(n=>{n&&De.f.all(n.node).forEach(a=>{this.c+=a.c||0,this.ec+=a.ec||0,!a.unlocked&&!a.item?.unlocked&&(this.cLeft+=a.c||0,this.ecLeft+=a.ec||0)})})}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(Se.D),e.Y36(ze),e.Y36(Te),e.Y36(nt),e.Y36(q.gz))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-event-instance"]],decls:36,vars:27,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"c-accent"],[1,"sky-card-body"],[1,"grid","grid-2"],[3,"wiki","aClass"],[1,"container"],[1,"menu-icon"],[1,"menu-label"],["class","c-accent",4,"ngIf"],[3,"start","end"],["svgIcon","ticket",1,"menu-icon"],["svgIcon","candle",1,"menu-icon"],["class","sky-card mt",4,"ngIf"],[4,"ngIf"],[1,"sky-card","mt"],[1,"h3","mb-0"],[1,"sky-card-body","pad-0"],[1,"sky-flex","scroll-x","pad"],["class","tree-wrapper p-inline-block",4,"ngFor","ngForOf"],[1,"tree-wrapper","p-inline-block"],[3,"tree","name","highlightItem"],[1,"pad","sky-card-body"],[1,"grid","grid-4"],[4,"ngFor","ngForOf"],["class","sky-card sky-card-border p-rel",3,"highlight",4,"ngFor","ngForOf"],[1,"sky-card","sky-card-border","p-rel"],["container","body",1,"h4","mb-0",3,"ngbTooltip"],[1,"item"],["class","c-partial",4,"ngIf"],["class","c-full",4,"ngIf"],[1,"mt-half","item"],["container","body",1,"menu-label",3,"ngbTooltip"],["class","mt-half item",4,"ngIf"],[1,"mt-half","item","iap-items"],["class","iap-item point d-inline-block p-rel",3,"click",4,"ngFor","ngForOf"],[1,"c-partial"],[1,"c-full"],["svgIcon","candle","container","body","placement","right",1,"menu-icon",3,"ngbTooltip"],["svgIcon","season-candle","container","body","placement","right",1,"menu-icon",3,"ngbTooltip"],["svgIcon","gift","container","body","placement","right",1,"menu-icon","seasonal",3,"ngbTooltip"],[1,"iap-item","point","d-inline-block","p-rel",3,"click"],["placement","bottom","container","body",3,"item","ngbTooltip"],[1,"unlock-check"],["itemHover",""],[1,"ws-nw"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3),e.TgZ(4,"span",3),e._uU(5),e.ALo(6,"dayjs"),e.qZA()()(),e.TgZ(7,"div",4)(8,"div",5),e._UZ(9,"app-wiki-link",6),e.TgZ(10,"div",7)(11,"mat-icon",8),e._uU(12,"calendar_month"),e.qZA(),e.TgZ(13,"span",9),e._uU(14),e.ALo(15,"dayjs"),e.ALo(16,"dayjs"),e.qZA(),e.YNc(17,Wl,4,2,"span",10),e.qZA(),e.TgZ(18,"div",7)(19,"mat-icon",8),e._uU(20,"schedule"),e.qZA(),e.TgZ(21,"span",9),e._UZ(22,"app-duration",11),e.YNc(23,Z_,4,2,"span",10),e.qZA()(),e.TgZ(24,"div",7),e._UZ(25,"mat-icon",12),e.TgZ(26,"span",9),e._uU(27),e.YNc(28,wd,2,1,"span",10),e.qZA()(),e.TgZ(29,"div",7),e._UZ(30,"mat-icon",13),e.TgZ(31,"span",9),e._uU(32),e.YNc(33,Jl,2,1,"span",10),e.qZA()()()()(),e.YNc(34,Ql,7,1,"div",14),e.YNc(35,Y_,8,1,"ng-container",15)),2&a&&(e.xp6(3),e.hij(" ",l.instance.event.name," "),e.xp6(2),e.Oqu(e.xi3(6,20,l.instance.date,"YYYY")),e.xp6(4),e.Q6J("wiki",l.instance.event._wiki)("aClass","container colspan-2"),e.xp6(1),e.ekj("expired","ended"===l.state),e.xp6(4),e.AsE(" ",e.lcZ(15,23,l.instance.date)," to ",e.lcZ(16,25,l.instance.endDate)," "),e.xp6(3),e.Q6J("ngIf","active"!==l.state),e.xp6(1),e.ekj("expired","ended"===l.state),e.xp6(4),e.Q6J("start",l.instance.date)("end",l.instance.endDate),e.xp6(1),e.Q6J("ngIf","active"===l.state),e.xp6(4),e.hij(" ",l.ec," event currency "),e.xp6(1),e.Q6J("ngIf",l.ecLeft),e.xp6(4),e.hij(" ",l.c," candles "),e.xp6(1),e.Q6J("ngIf",l.cLeft),e.xp6(1),e.Q6J("ngIf",null==l.instance.spirits?null:l.instance.spirits.length),e.xp6(1),e.Q6J("ngIf",null==l.shops?null:l.shops.length))},dependencies:[Q.sg,Q.O5,Uo,V.Hw,La,uc,Ba,ql,Dr,_s],styles:[".tree-wrapper[_ngcontent-%COMP%]   app-spirit-tree[_ngcontent-%COMP%]{vertical-align:bottom}"]})}return r})(),Ua=(()=>{class r{constructor(n){this.template=n}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:r,selectors:[["","appTableColumn",""]],inputs:{tdClass:"tdClass"}})}return r})(),Za=(()=>{class r{constructor(n){this.template=n,this.fit=!1}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:r,selectors:[["","appTableHeader",""]],inputs:{fit:"fit",width:"width",textAlign:"textAlign"}})}return r})(),hc=(()=>{class r{constructor(n){this.template=n}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:r,selectors:[["","appTableFooter",""]],inputs:{colspan:"colspan",textAlign:"textAlign"}})}return r})();function W_(r,f){if(1&r&&(e.ynx(0),e.TgZ(1,"th"),e.GkF(2,4),e.qZA(),e.BQk()),2&r){const n=f.$implicit;e.xp6(1),e.Udp("text-align",n.textAlign)("width",n.width),e.ekj("fit",n.fit),e.xp6(1),e.Q6J("ngTemplateOutlet",n.template)}}function Sd(r,f){if(1&r&&(e.TgZ(0,"thead")(1,"tr"),e.YNc(2,W_,3,7,"ng-container",3),e.qZA()()),2&r){const n=e.oxw();e.xp6(2),e.Q6J("ngForOf",n.headers)}}const Ad=function(r){return{row:r}};function fc(r,f){if(1&r&&(e.ynx(0),e.TgZ(1,"td"),e.GkF(2,5),e.qZA(),e.BQk()),2&r){const n=f.$implicit,a=e.oxw().$implicit;e.xp6(1),e.Tol(n.tdClass),e.xp6(1),e.Q6J("ngTemplateOutlet",n.template)("ngTemplateOutletContext",e.VKq(4,Ad,a))}}function xd(r,f){if(1&r&&(e.ynx(0),e.TgZ(1,"tr"),e.YNc(2,fc,3,6,"ng-container",3),e.qZA(),e.BQk()),2&r){const n=e.oxw();e.xp6(2),e.Q6J("ngForOf",n.columns)}}function Id(r,f){if(1&r&&(e.ynx(0),e.TgZ(1,"td"),e.GkF(2,4),e.qZA(),e.BQk()),2&r){const n=f.$implicit;e.xp6(1),e.Udp("text-align",n.textAlign),e.uIk("colspan",n.colspan),e.xp6(1),e.Q6J("ngTemplateOutlet",n.template)}}function nl(r,f){if(1&r&&(e.TgZ(0,"tfoot")(1,"tr"),e.YNc(2,Id,3,4,"ng-container",3),e.qZA()()),2&r){const n=e.oxw();e.xp6(2),e.Q6J("ngForOf",n.footers)}}let $s=(()=>{class r{static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-table"]],contentQueries:function(a,l,_){if(1&a&&(e.Suo(_,Za,4),e.Suo(_,Ua,4),e.Suo(_,hc,4)),2&a){let M;e.iGM(M=e.CRH())&&(l.headers=M),e.iGM(M=e.CRH())&&(l.columns=M),e.iGM(M=e.CRH())&&(l.footers=M)}},inputs:{rows:"rows"},decls:6,vars:3,consts:[[1,"table-container"],[1,""],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"ngTemplateOutlet"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"table",1),e.YNc(2,Sd,3,1,"thead",2),e.TgZ(3,"tbody"),e.YNc(4,xd,3,1,"ng-container",3),e.qZA(),e.YNc(5,nl,3,1,"tfoot",2),e.qZA()()),2&a&&(e.xp6(2),e.Q6J("ngIf",null==l.headers?null:l.headers.length),e.xp6(2),e.Q6J("ngForOf",l.rows),e.xp6(1),e.Q6J("ngIf",null==l.footers?null:l.footers.length))},dependencies:[Q.sg,Q.O5,Q.tP],styles:[".table-container[_ngcontent-%COMP%]{min-width:-moz-fit-content;min-width:fit-content}table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0 var(--padding-content-half);margin-top:calc(-1 * var(--padding-content-half));margin-bottom:calc(-1 * var(--padding-content-half))}td[_ngcontent-%COMP%]{background-color:var(--color-background)}th[_ngcontent-%COMP%], tfoot[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:var(--color-table-header-background)}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:var(--padding-content);border-top:var(--border-solid);border-bottom:var(--border-solid)}th[_ngcontent-%COMP%]:first-child, td[_ngcontent-%COMP%]:first-child{border-top-left-radius:var(--border-radius);border-bottom-left-radius:var(--border-radius);border-left:var(--border-solid)}th[_ngcontent-%COMP%]:last-child, td[_ngcontent-%COMP%]:last-child{border-top-right-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-right:var(--border-solid)}th.fit[_ngcontent-%COMP%], td.fit[_ngcontent-%COMP%]{width:1px}.link[_ngcontent-%COMP%]{cursor:pointer}.link[_ngcontent-%COMP%]:hover{color:var(--color-link-hover)}"]})}return r})();function pc(r,f){1&r&&e._uU(0,"#")}function Od(r,f){1&r&&e._uU(0,"Name")}function Nd(r,f){1&r&&e._uU(0,"Year")}function Kl(r,f){1&r&&e._uU(0,"Start")}function Q1(r,f){1&r&&e._uU(0,"End")}function kd(r,f){1&r&&e._uU(0,"Spirits")}function il(r,f){1&r&&e._uU(0,"IAPs")}function J_(r,f){1&r&&e._uU(0,"Unlocked")}function Qf(r,f){1&r&&e._uU(0),2&r&&e.hij(" ",f.row.number," ")}const Q_=function(r){return["/event-instance",r]};function K_(r,f){if(1&r&&(e.TgZ(0,"a",8),e._uU(1),e.qZA()),2&r){const n=f.row;e.Q6J("routerLink",e.VKq(2,Q_,n.guid)),e.xp6(1),e.Oqu(n.name)}}function Pd(r,f){1&r&&e._uU(0),2&r&&e.hij(" ",f.row.year," ")}function Kf(r,f){if(1&r&&(e._uU(0),e.ALo(1,"dayjs")),2&r){const n=f.row,a=e.oxw();e.hij(" ",e.xi3(1,1,n.date,a.dateFormat)," ")}}function X_(r,f){if(1&r&&(e._uU(0),e.ALo(1,"dayjs")),2&r){const n=f.row,a=e.oxw();e.hij(" ",e.xi3(1,1,n.endDate,a.dateFormat)," ")}}function ev(r,f){1&r&&e._uU(0),2&r&&e.hij(" ",f.row.spirits," ")}function K1(r,f){if(1&r&&(e.ynx(0),e._uU(1," ("),e.TgZ(2,"span",10)(3,"mat-icon"),e._uU(4,"undo"),e.qZA(),e._uU(5),e.qZA(),e._uU(6,") "),e.BQk()),2&r){const n=e.oxw().row;e.xp6(2),e.Q6J("ngbTooltip","Contains "+n.returningIaps+" returning IAPs."),e.xp6(3),e.Oqu(n.returningIaps)}}function tv(r,f){if(1&r&&(e._uU(0),e.YNc(1,K1,7,2,"ng-container",9)),2&r){const n=f.row;e.hij(" ",n.iaps," "),e.xp6(1),e.Q6J("ngIf",n.returningIaps)}}function Xl(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const n=e.oxw().row;e.ekj("completed",n.unlockedItems===n.totalItems),e.xp6(1),e.AsE(" ",n.unlockedItems," / ",n.totalItems," ")}}function Rd(r,f){1&r&&e.YNc(0,Xl,2,4,"span",11),2&r&&e.Q6J("ngIf",f.row.totalItems)}let nv=(()=>{class r{constructor(n,a){this._dataService=n,this._route=a,this.rows=[],this.dateFormat=ge.O.displayFormat}ngOnInit(){this._route.paramMap.subscribe(n=>this.onParamsChanged(n))}onParamsChanged(n){const a=n.get("guid");this.event=this._dataService.guidMap.get(a),this.instances=[],this.event.instances&&this.instances.push(...this.event.instances),this.initTable()}initTable(){this.rows=this.instances.map((n,a)=>{let l=0,_=0;n.shops?.forEach(K=>{l+=K.iaps?.length??0,_+=K.iaps?.filter(xe=>xe.returning).length??0});let M=0,Y=0;return n.spirits?.forEach(K=>{De.f.getItems(K.tree.node).forEach(xe=>{xe.unlocked&&M++,Y++})}),{number:a+1,name:this.event.name,year:n.date.year(),guid:n.guid,date:n.date,endDate:n.endDate,iaps:l,returningIaps:_,spirits:n.spirits?.length??0,unlockedItems:M,totalItems:Y}}).reverse()}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(Se.D),e.Y36(q.gz))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-event"]],decls:23,vars:2,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card","mt"],[1,"sky-card-body"],[3,"rows"],[3,"appTableHeader"],[3,"appTableColumn"],[3,"routerLink"],[4,"ngIf"],["container","body",1,"returning",3,"ngbTooltip"],[3,"completed",4,"ngIf"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3),e.qZA()()(),e.TgZ(4,"div",3)(5,"div",4)(6,"app-table",5),e.YNc(7,pc,1,0,"ng-template",6),e.YNc(8,Od,1,0,"ng-template",6),e.YNc(9,Nd,1,0,"ng-template",6),e.YNc(10,Kl,1,0,"ng-template",6),e.YNc(11,Q1,1,0,"ng-template",6),e.YNc(12,kd,1,0,"ng-template",6),e.YNc(13,il,1,0,"ng-template",6),e.YNc(14,J_,1,0,"ng-template",6),e.YNc(15,Qf,1,1,"ng-template",7),e.YNc(16,K_,2,4,"ng-template",7),e.YNc(17,Pd,1,1,"ng-template",7),e.YNc(18,Kf,2,4,"ng-template",7),e.YNc(19,X_,2,4,"ng-template",7),e.YNc(20,ev,1,1,"ng-template",7),e.YNc(21,tv,2,2,"ng-template",7),e.YNc(22,Rd,1,1,"ng-template",7),e.qZA()()()),2&a&&(e.xp6(3),e.Oqu(l.event.name),e.xp6(3),e.Q6J("rows",l.rows))},dependencies:[Q.O5,q.rH,Uo,V.Hw,$s,Ua,Za,_s],styles:[".returning[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:relative;top:6px}.returning[_ngcontent-%COMP%]{color:var(--color-old)}.completed[_ngcontent-%COMP%]{color:var(--color-unlock-check);font-weight:700}"]})}return r})();function Xf(r,f){if(1&r&&e._UZ(0,"div",10),2&r){const n=e.oxw(2);e.Udp("order",1)("background-image","url("+n.event.imageUrl+")")("background-position",n.event.imagePosition||void 0)}}function Fd(r,f){if(1&r&&(e.TgZ(0,"div",11)(1,"mat-icon",12),e._uU(2,"calendar_month"),e.qZA(),e.TgZ(3,"span",13),e._uU(4),e.ALo(5,"dayjs"),e.ALo(6,"dayjs"),e.TgZ(7,"span",14),e._uU(8," ("),e._UZ(9,"app-days-left",15),e._uU(10,") "),e.qZA()()()),2&r){const n=e.oxw(2);e.Udp("order",n.sections.date),e.xp6(4),e.AsE(" ",e.lcZ(5,6,n.instance.date)," to ",e.lcZ(6,8,n.instance.endDate)," "),e.xp6(5),e.Q6J("start",n.instance.date)("end",n.instance.endDate)}}const ol=function(r){return["/event-instance",r]};function iv(r,f){if(1&r&&(e.TgZ(0,"a",16)(1,"mat-icon",12),e._uU(2,"article"),e.qZA(),e.TgZ(3,"span",13),e._uU(4," Overview "),e.qZA()()),2&r){const n=e.oxw(2);e.Udp("order",n.sections.overview),e.Q6J("routerLink",e.VKq(3,ol,n.instance.guid))}}const ep=function(r){return["/event",r]};function ov(r,f){if(1&r&&(e.TgZ(0,"a",16)(1,"mat-icon",12),e._uU(2,"list"),e.qZA(),e.TgZ(3,"span",13),e._uU(4," List "),e.qZA()()),2&r){const n=e.oxw(2);e.Udp("order",n.sections.list),e.Q6J("routerLink",e.VKq(3,ep,n.event.guid))}}function tp(r,f){if(1&r){const n=e.EpF();e.TgZ(0,"div",17),e.NdJ("click",function(){e.CHM(n);const l=e.oxw(2);return e.KtG(l.checkin())}),e.TgZ(1,"mat-icon",12),e._uU(2),e.qZA(),e.TgZ(3,"span",13),e._uU(4," I have done my dailies. "),e.qZA()()}if(2&r){const n=e.oxw(2);e.Udp("order",n.sections.checkin),e.ekj("active",n.checkedIn),e.xp6(2),e.Oqu(n.checkedIn?"check_box":"check_box_outline_blank")}}function X1(r,f){if(1&r&&(e.TgZ(0,"a",16)(1,"mat-icon",12),e._uU(2,"schedule"),e.qZA(),e.TgZ(3,"span",13),e._uU(4," Most recent "),e.TgZ(5,"span",14),e._uU(6),e.ALo(7,"dayjs"),e.qZA()()()),2&r){const n=e.oxw(2);e.Udp("order",n.sections.recent),e.Q6J("routerLink",e.VKq(7,ol,n.lastInstance.guid)),e.xp6(6),e.hij("(",e.xi3(7,4,n.lastInstance.date,"YYYY"),")")}}function rv(r,f){if(1&r&&(e.TgZ(0,"div",11)(1,"mat-icon",12),e._uU(2,"sell"),e.qZA(),e.TgZ(3,"span",13),e._UZ(4,"app-cost",18),e.qZA()()),2&r){const n=e.oxw(2);e.Udp("order",n.sections.cost),e.xp6(4),e.Q6J("cost",n.cost)("remaining",n.remainingCost)("borderLeft",!0)}}function eu(r,f){if(1&r&&(e.TgZ(0,"div",1)(1,"div",2)(2,"h2",3),e._uU(3),e.qZA()(),e.TgZ(4,"div",4)(5,"div",5),e.YNc(6,Xf,1,6,"div",6),e.YNc(7,Fd,11,10,"div",7),e.YNc(8,iv,5,5,"a",8),e.YNc(9,ov,5,5,"a",8),e.YNc(10,tp,5,5,"div",9),e.YNc(11,X1,8,9,"a",8),e.YNc(12,rv,5,5,"div",7),e.qZA()()()),2&r){const n=e.oxw();e.xp6(3),e.Oqu(n.event.name),e.xp6(3),e.Q6J("ngIf",n.sections.img&&n.event.imageUrl),e.xp6(1),e.Q6J("ngIf",n.sections.date&&n.instance),e.xp6(1),e.Q6J("ngIf",n.sections.overview&&n.instance),e.xp6(1),e.Q6J("ngIf",n.sections.list),e.xp6(1),e.Q6J("ngIf",n.sections.checkin),e.xp6(1),e.Q6J("ngIf",n.sections.recent&&n.lastInstance),e.xp6(1),e.Q6J("ngIf",n.sections.cost&&n.cost)}}let np=(()=>{class r{constructor(){this.options={show:["img","list","recent"]},this.sections={},this.checkedIn=!1}ngOnInit(){this.updateSections(),this.updateEvent(),this.updateInstance()}ngOnChanges(n){n.options&&this.updateSections(),n.event&&this.updateEvent(),n.instance&&this.updateInstance()}checkin(){this.checkedIn=!this.checkedIn,this.checkedIn?localStorage.setItem(`event.checkin.${this.event?.guid}`,Do().tz().format("YYYY-MM-DD")):localStorage.removeItem(`event.checkin.${this.event?.guid}`)}updateEvent(){if(this.event?.instances){const n=Do()();this.lastInstance=this.event.instances.findLast(a=>ge.O.isActive(a.date,a.endDate)),this.lastInstance??=this.event.instances.findLast(a=>a.date.isBefore(n))}this.updateCheckin()}updateCheckin(){const n=localStorage.getItem(`event.checkin.${this.event?.guid}`);if(n){const a=Do().tz(n,"YYYY-MM-DD",ge.O.skyTimeZone);this.checkedIn=a.isSame(Do().tz(),"day")}}updateInstance(){if(this.cost=this.remainingCost=void 0,!this.instance)return;const n=this.instance.spirits.map(l=>De.f.all(l.tree?.node)).flat();this.cost=lo.T.add(lo.T.create(),...n);const a=n.filter(l=>!l.unlocked&&!l.item?.unlocked);this.remainingCost=lo.T.add(lo.T.create(),...a)}updateSections(){this.sections={},this.options.show?.forEach((n,a)=>{this.sections[n]=a+2})}static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-event-card"]],inputs:{event:"event",instance:"instance",options:"options"},features:[e.TTD],decls:1,vars:1,consts:[["class","sky-card p-rel",4,"ngIf"],[1,"sky-card","p-rel"],[1,"sky-card-header"],[1,"h3"],[1,"sky-card-body","event-body"],[1,"grid","grid-1"],["class","event-img sky-border-solid",3,"order","background-image","background-position",4,"ngIf"],["class","item",3,"order",4,"ngIf"],["class","item link",3,"routerLink","order",4,"ngIf"],["class","item checkin",3,"active","order","click",4,"ngIf"],[1,"event-img","sky-border-solid"],[1,"item"],[1,"menu-icon"],[1,"menu-label"],[1,"c-accent"],[3,"start","end"],[1,"item","link",3,"routerLink"],[1,"item","checkin",3,"click"],[3,"cost","remaining","borderLeft"]],template:function(a,l){1&a&&e.YNc(0,eu,13,8,"div",0),2&a&&e.Q6J("ngIf",l.event)},dependencies:[Q.O5,q.rH,V.Hw,Ba,Xc,_s],styles:[".event-img[_ngcontent-%COMP%]{box-shadow:0 0 8px 1px var(--color-image-inset) inset;border-radius:var(--border-radius);height:var(--img-preview-height);background-repeat:no-repeat;background-position:center;background-size:100%;max-width:960px}.checkin[_ngcontent-%COMP%]{cursor:pointer}.checkin[_ngcontent-%COMP%]:hover{color:var(--color-link-hover)}"],changeDetection:0})}return r})();const Ha=function(){return["img","list","recent"]},gc=function(r){return{show:r}};function sv(r,f){1&r&&e._UZ(0,"app-event-card",9),2&r&&e.Q6J("event",f.$implicit)("options",e.VKq(3,gc,e.DdM(2,Ha)))}function ip(r,f){1&r&&e._UZ(0,"app-event-card",9),2&r&&e.Q6J("event",f.$implicit)("options",e.VKq(3,gc,e.DdM(2,Ha)))}const cv=function(){return{href:"https://sky-children-of-the-light.fandom.com/wiki/Special_Events"}};let lv=(()=>{class r{constructor(n){this._dataService=n,this.lastInstances={},this.eventMap={}}ngOnInit(){this.recurring=[],this.old=[],this._dataService.eventConfig.items.forEach(n=>{if(this.eventMap[n.guid]=n,n.recurring?this.recurring.push(n):this.old.push(n),n.instances){const a=[...n.instances],l=[...a].reverse(),_=Do()(),M=a.find(Y=>ge.O.isActive(Y.date,Y.endDate))??l.find(Y=>Y.date.isBefore(_));this.lastInstances[n.guid]=M}}),this.old.sort((n,a)=>this.lastInstances[n.guid]?this.lastInstances[a.guid]?this.lastInstances[a.guid].date.diff(this.lastInstances[n.guid].date):-1:1)}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(Se.D))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-events"]],decls:20,vars:4,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card-body"],[3,"wiki"],[1,"sky-card","mt"],[1,"h3"],[1,"grid","grid-4"],[3,"event","options",4,"ngFor","ngForOf"],[3,"event","options"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Events"),e.qZA()(),e.TgZ(4,"div",3),e._UZ(5,"app-wiki-link",4),e.qZA()(),e.TgZ(6,"div",5)(7,"div",1)(8,"h2",6),e._uU(9,"Recurring events"),e.qZA()(),e.TgZ(10,"div",3)(11,"div",7),e.YNc(12,sv,1,5,"app-event-card",8),e.qZA()()(),e.TgZ(13,"div",5)(14,"div",1)(15,"h2",6),e._uU(16,"Other events"),e.qZA()(),e.TgZ(17,"div",3)(18,"div",7),e.YNc(19,ip,1,5,"app-event-card",8),e.qZA()()()),2&a&&(e.xp6(5),e.Q6J("wiki",e.DdM(3,cv)),e.xp6(7),e.Q6J("ngForOf",l.recurring),e.xp6(7),e.Q6J("ngForOf",l.old))},dependencies:[Q.sg,np,Dr]})}return r})();class mc{static getItemLink(f){return{route:["/item"],extras:{queryParams:{type:f.type,item:f.guid}}}}static getItemSource(f){if(f.nodes?.length||f.hiddenNodes?.length){const n=[...f.nodes||[],...f.hiddenNodes||[]];let a,l=Do()("2000-1-1");for(const K of n){if(K.unlocked){a=K;break}const xe=De.f.getRoot(K)?.spiritTree;if(!xe)continue;const Ve=xe?.eventInstanceSpirit?.eventInstance?xe.eventInstanceSpirit.eventInstance.date:xe?.ts?xe.ts.date:xe?.visit?xe.visit.return.date:Do()("2000-1-2");Ve.diff(l)<0||(l=Ve,a=K)}if(!a)return;const _=De.f.getRoot(a)?.spiritTree,M={queryParams:{highlightItem:f.guid}},Y=_?.spirit??_?.ts?.spirit??_?.visit?.spirit;if(_?.eventInstanceSpirit)return{route:["/event-instance",_.eventInstanceSpirit.eventInstance.guid],extras:M};if(Y)return{route:["/spirit",Y.guid],extras:M}}else if(f.iaps?.length){const n=f.iaps.find(_=>_.bought)||f.iaps.find(_=>_?.shop?.permanent)||f.iaps.at(-1),a=n?.shop,l={queryParams:{highlightIap:n?.guid}};if(a?.permanent)return{route:["/shop"],extras:l};if(a?.event)return{route:["/event-instance",a.event.guid],extras:l};if(a?.season)return{route:["/season",a.season.guid],extras:l}}}static getPreviewLink(f){let n;switch(f.type){case"Hat":n="Hair_Accessories";break;case"Hair":n="Hair";break;case"Mask":n="Masks";break;case"FaceAccessory":n="Face_Accessories";break;case"Necklace":n="Necklaces";break;case"Outfit":n="Outfits";break;case"Shoes":n="Shoes";break;case"Cape":n="Capes";break;case"Instrument":case"Held":case"Prop":n="Props";break;default:n=""}if(!n)return"";const a=new URL(`https://sky-children-of-the-light.fandom.com/wiki/${n}`),l=De.f.getRoot(f.nodes?.at(-1)??f.hiddenNodes?.at(-1))?.spiritTree,_=l?.spirit??l?.ts?.spirit??l?.visit?.spirit;return a.searchParams.append("tabber-active",_?_.name:f.name),a.hash="Held"===f.type||"Instrument"===f.type?"Held_Props_Display":"Prop"===f.type?"Placeable_Props_Display":"Display",a.toString()}static getQueryParams(f){const n=f instanceof URL?f:new URL(f),a={};for(const[l,_]of n.searchParams.entries())a[l]=_;return a}}let uv=(()=>{class r{constructor(){this.typeChanged=new e.vpe,this._showTypes={}}ngOnInit(){!this.showTypes&&this.setTypes(void 0)}ngOnChanges(n){n.showTypes&&this.setTypes(n.showTypes.currentValue)}changeType(n){this.type!==n&&this.typeChanged.emit(n)}setTypes(n){n??=["Outfit","Shoes","Mask","FaceAccessory","Necklace","Hair","Hat","Cape","Held","Prop","Emote","Stance","Call"],this._showTypes={};for(const a of n)this._showTypes[a]=!0}static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-item-type-selector"]],inputs:{type:"type",showTypes:"showTypes"},outputs:{typeChanged:"typeChanged"},features:[e.TTD],decls:27,vars:39,consts:[[1,"flex"],["container","body",1,"item-icon","category",3,"ngbTooltip","click"],["svgIcon","outfit"],["svgIcon","shoes"],["svgIcon","mask"],["svgIcon","face-acc"],["svgIcon","necklace"],["svgIcon","hair"],["svgIcon","hat"],["svgIcon","cape"],["svgIcon","held"],["svgIcon","prop"],["svgIcon","emote"],["svgIcon","stance"],["svgIcon","call"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1),e.NdJ("click",function(){return l.changeType("Outfit")}),e._UZ(2,"mat-icon",2),e.qZA(),e.TgZ(3,"div",1),e.NdJ("click",function(){return l.changeType("Shoes")}),e._UZ(4,"mat-icon",3),e.qZA(),e.TgZ(5,"div",1),e.NdJ("click",function(){return l.changeType("Mask")}),e._UZ(6,"mat-icon",4),e.qZA(),e.TgZ(7,"div",1),e.NdJ("click",function(){return l.changeType("FaceAccessory")}),e._UZ(8,"mat-icon",5),e.qZA(),e.TgZ(9,"div",1),e.NdJ("click",function(){return l.changeType("Necklace")}),e._UZ(10,"mat-icon",6),e.qZA(),e.TgZ(11,"div",1),e.NdJ("click",function(){return l.changeType("Hair")}),e._UZ(12,"mat-icon",7),e.qZA(),e.TgZ(13,"div",1),e.NdJ("click",function(){return l.changeType("Hat")}),e._UZ(14,"mat-icon",8),e.qZA(),e.TgZ(15,"div",1),e.NdJ("click",function(){return l.changeType("Cape")}),e._UZ(16,"mat-icon",9),e.qZA(),e.TgZ(17,"div",1),e.NdJ("click",function(){return l.changeType("Held")}),e._UZ(18,"mat-icon",10),e.qZA(),e.TgZ(19,"div",1),e.NdJ("click",function(){return l.changeType("Prop")}),e._UZ(20,"mat-icon",11),e.qZA(),e.TgZ(21,"div",1),e.NdJ("click",function(){return l.changeType("Emote")}),e._UZ(22,"mat-icon",12),e.qZA(),e.TgZ(23,"div",1),e.NdJ("click",function(){return l.changeType("Stance")}),e._UZ(24,"mat-icon",13),e.qZA(),e.TgZ(25,"div",1),e.NdJ("click",function(){return l.changeType("Call")}),e._UZ(26,"mat-icon",14),e.qZA()()),2&a&&(e.xp6(1),e.ekj("highlight","Outfit"===l.type),e.Q6J("ngbTooltip","Outfits"),e.xp6(2),e.ekj("highlight","Shoes"===l.type),e.Q6J("ngbTooltip","Shoes"),e.xp6(2),e.ekj("highlight","Mask"===l.type),e.Q6J("ngbTooltip","Masks"),e.xp6(2),e.ekj("highlight","FaceAccessory"===l.type),e.Q6J("ngbTooltip","Face accessories"),e.xp6(2),e.ekj("highlight","Necklace"===l.type),e.Q6J("ngbTooltip","Necklaces"),e.xp6(2),e.ekj("highlight","Hair"===l.type),e.Q6J("ngbTooltip","Hair"),e.xp6(2),e.ekj("highlight","Hat"===l.type),e.Q6J("ngbTooltip","Hats"),e.xp6(2),e.ekj("highlight","Cape"===l.type),e.Q6J("ngbTooltip","Capes"),e.xp6(2),e.ekj("highlight","Held"===l.type),e.Q6J("ngbTooltip","Held props"),e.xp6(2),e.ekj("highlight","Prop"===l.type),e.Q6J("ngbTooltip","Props"),e.xp6(2),e.ekj("highlight","Emote"===l.type),e.Q6J("ngbTooltip","Emotes"),e.xp6(2),e.ekj("highlight","Stance"===l.type),e.Q6J("ngbTooltip","Stances"),e.xp6(2),e.ekj("highlight","Call"===l.type),e.Q6J("ngbTooltip","Calls"))},dependencies:[Uo,V.Hw],styles:[".category[_ngcontent-%COMP%]{cursor:pointer;border:var(--border-solid)}.category.highlight[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-item-active)}.category[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-item);width:var(--item-size);height:var(--item-size)}.item-icon[_ngcontent-%COMP%]{position:relative;width:var(--item-size);height:var(--item-size);background:var(--color-background);border-radius:var(--border-radius)}"],changeDetection:0})}return r})();const Ld=["itemDiv"];function eb(r,f){1&r&&(e.TgZ(0,"div",20)(1,"div",21),e._UZ(2,"mat-icon",22),e.qZA()())}function Bd(r,f){if(1&r){const n=e.EpF();e.ynx(0),e._UZ(1,"div",23),e.TgZ(2,"div",20)(3,"app-item",24),e.NdJ("click",function(l){const M=e.CHM(n).$implicit,Y=e.oxw(2);return e.KtG(Y.selectItem(l,M))}),e.qZA(),e.TgZ(4,"mat-icon",25),e._uU(5,"done"),e.qZA()(),e.BQk()}if(2&r){const n=f.$implicit,a=f.index,l=e.oxw(2);e.xp6(1),e.Udp("display",!l.columns||!a||(a+l.offsetNone)%l.columns?void 0:"block"),e.xp6(2),e.ekj("highlight",n&&n===l.selectedItem)("item-unlocked",n.unlocked&&(n.type!==l.typeEmote||n.level>=l.emoteLevels[n.name])),e.Q6J("item",n)("showSubIcons",!0)("ngbTooltip",n.name),e.xp6(1),e.ekj("self",n.type!==l.typeEmote||n.level>=l.emoteLevels[n.name])("unlocked",n.unlocked)}}function op(r,f){if(1&r){const n=e.EpF();e.TgZ(0,"div",3)(1,"div",1)(2,"div",12),e._uU(3," You have unlocked "),e.TgZ(4,"b"),e._uU(5),e.qZA(),e._uU(6," out of "),e.TgZ(7,"b"),e._uU(8),e.qZA(),e._uU(9," items. "),e.TgZ(10,"div",13),e.NdJ("click",function(){e.CHM(n);const l=e.oxw();return e.KtG(l.toggleNone())}),e._UZ(11,"mat-icon",14),e.qZA(),e.TgZ(12,"div",15)(13,"mat-icon",16),e.NdJ("click",function(){e.CHM(n);const l=e.oxw();return e.KtG(l.setColumns())}),e._uU(14,"apps"),e.qZA()()()(),e.TgZ(15,"div",5)(16,"div",17),e.YNc(17,eb,3,0,"div",18),e.YNc(18,Bd,6,13,"ng-container",19),e.qZA()()()}if(2&r){const n=e.oxw();e.xp6(4),e.ekj("completed",n.shownUnlocked==n.shownItems.length),e.xp6(1),e.Oqu(n.shownUnlocked),e.xp6(2),e.ekj("completed",n.shownUnlocked==n.shownItems.length),e.xp6(1),e.Oqu(n.shownItems.length),e.xp6(2),e.Udp("opacity",n.shouldShowNone?1:.5),e.xp6(1),e.Q6J("ngbTooltip","Toggle unequip icon"),e.xp6(2),e.Q6J("ngbTooltip","Toggle column size"),e.xp6(3),e.ekj("gap-half-y",n.columns),e.xp6(1),e.Q6J("ngIf",n.showNone),e.xp6(1),e.Q6J("ngForOf",n.shownItems)}}function dv(r,f){if(1&r&&(e.TgZ(0,"a",32)(1,"mat-icon",33),e._uU(2,"search"),e.qZA(),e.TgZ(3,"span",34),e._uU(4,"Find item"),e.qZA()()),2&r){const n=e.oxw(2);e.Q6J("routerLink",n.selectedItemNav.route)("queryParams",null==n.selectedItemNav.extras?null:n.selectedItemNav.extras.queryParams)}}function hv(r,f){if(1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",26),e._uU(3),e.qZA()(),e.TgZ(4,"div",5)(5,"div",27)(6,"a",28),e._UZ(7,"app-item",29),e.qZA(),e._UZ(8,"app-wiki-link",30),e.YNc(9,dv,5,2,"a",31),e.qZA()()()),2&r){const n=e.oxw();e.xp6(3),e.Oqu(n.selectedItem.name),e.xp6(3),e.Q6J("routerLink",null==n.selectedItemNav?null:n.selectedItemNav.route)("queryParams",null==n.selectedItemNav||null==n.selectedItemNav.extras?null:n.selectedItemNav.extras.queryParams),e.xp6(1),e.Q6J("item",n.selectedItem)("size","large")("highlight",!0)("hoverHighlight",!1),e.xp6(1),e.Q6J("wiki",n.selectedItem._wiki)("aClass","info-grid-find container"),e.xp6(1),e.Q6J("ngIf",n.selectedItemNav)}}function rp(r,f){if(1&r){const n=e.EpF();e.TgZ(0,"div",40),e.NdJ("click",function(){e.CHM(n);const l=e.oxw().$implicit,_=e.oxw(4);return e.KtG(_.openItem(l))}),e.TgZ(1,"div",41)(2,"div",42),e._UZ(3,"app-item",43),e.qZA(),e.TgZ(4,"div",44),e._UZ(5,"img",45)(6,"app-item-icons",46),e.qZA()()()}if(2&r){const n=e.oxw().$implicit,a=e.oxw(4);e.ekj("highlight",n&&n===a.selectedItem),e.Q6J("ngbTooltip",n.name),e.xp6(3),e.Q6J("item",n)("hoverHighlight",!1)("highlight",!0)("showSubIcons",!1),e.xp6(2),e.Q6J("src",n.previewUrl,e.LSH),e.xp6(1),e.Q6J("item",n)}}function fv(r,f){if(1&r&&(e.ynx(0),e.YNc(1,rp,7,9,"div",39),e.BQk()),2&r){const n=f.$implicit;e.xp6(1),e.Q6J("ngIf",n.previewUrl)}}function sp(r,f){if(1&r&&(e.TgZ(0,"div",38),e.YNc(1,fv,2,1,"ng-container",19),e.qZA()),2&r){const n=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",n.previewItems)}}function pv(r,f){if(1&r&&(e.TgZ(0,"div",5),e.YNc(1,sp,2,1,"div",37),e.qZA()),2&r){const n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==n.previewItems?null:n.previewItems.length)}}function gv(r,f){if(1&r){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",3)(2,"div",35),e.NdJ("click",function(){e.CHM(n);const l=e.oxw();return e.KtG(l.togglePreviews())}),e.TgZ(3,"h2",4),e._uU(4," Field guide "),e.TgZ(5,"mat-icon"),e._uU(6),e.qZA()()(),e.YNc(7,pv,2,1,"div",36),e.qZA(),e.BQk()}if(2&r){const n=e.oxw();e.xp6(6),e.Oqu(n.showFieldGuide?"keyboard_arrow_up":"keyboard_arrow_down"),e.xp6(1),e.Q6J("ngIf",n.showFieldGuide)}}let tb=(()=>{class r{constructor(n,a,l,_){this._dataService=n,this._route=a,this._router=l,this._changeDetectionRef=_,this.typeEmote=rn.q.Emote,this._scrollToPreview=0,this.typeItems={},this.typeUnlocked={},this.emotes={},this.emoteLevels={},this.shownItems=[],this.previewItems=[],this.shownUnlocked=0,this.showFieldGuide=!1,this.shouldShowNone=!0,this.showNone=!1,this.offsetNone=0,this.initializeItems(),this.columns=+localStorage.getItem("item.columns")||void 0,this.shouldShowNone="0"!==localStorage.getItem("item.none"),a.queryParamMap.subscribe(M=>{this.onQueryParamsChanged(M)})}ngAfterViewInit(){this._previewObserver=new IntersectionObserver(n=>{n.forEach(a=>{this._scrollToPreview=a.isIntersecting&&a.intersectionRatio>=.9?0:a.boundingClientRect.top>0?-1:1})},{threshold:[0,.1,.9,1]}),this._previewObserver.observe(this.itemDiv.nativeElement)}ngOnDestroy(){this._previewObserver?.disconnect()}onQueryParamsChanged(n){const a=n.get("type");this.type=a||rn.q.Outfit,this.shownItems=this.typeItems[this.type]??[],this.shownUnlocked=this.typeUnlocked[this.type]??0,this.previewItems=this.shownItems.filter(_=>_.previewUrl),this.type===rn.q.Emote&&(this.shownItems=Object.values(this.emotes),this.shownUnlocked=this.shownItems.filter(_=>_.unlocked&&_.level===this.emoteLevels[_.name]).length),this.updateShowNone();const l=n.get("item")||"";l&&(this.selectedItem=this._dataService.guidMap.get(l),this.selectedItemNav=this.selectedItem?mc.getItemSource(this.selectedItem):void 0),this.showFieldGuide="1"===n.get("fg")}setColumns(){switch(this.columns){case 3:this.columns=4;break;case 4:this.columns=5;break;case 5:this.columns=6;break;case 6:this.columns=void 0;break;default:this.columns=3}localStorage.setItem("item.columns",`${this.columns||""}`)}toggleNone(){this.shouldShowNone=!this.shouldShowNone,localStorage.setItem("item.none",this.shouldShowNone?"1":"0"),this.updateShowNone()}updateShowNone(){this.showNone=this.shouldShowNone&&(this.type===rn.q.Necklace||this.type===rn.q.Hat||this.type===rn.q.Held||this.type===rn.q.Shoes||this.type===rn.q.FaceAccessory),this.offsetNone=this.showNone?1:0,this._changeDetectionRef.markForCheck()}onTypeChanged(n){const a=mc.getQueryParams(location.href);a.type=n,this.selectedItem?a.item=this.selectedItem.guid:delete a.item,this._router.navigate([],{queryParams:a,replaceUrl:!0})}togglePreviews(){this.showFieldGuide=!this.showFieldGuide;const n=new URL(location.href);n.searchParams.set("fg",this.showFieldGuide?"1":"0"),window.history.replaceState(window.history.state,"",n.pathname+n.search)}initializeItems(){this.typeItems={},this.typeUnlocked={};for(const a in rn.q)this.typeItems[a]=[],this.typeUnlocked[a]=0;const n=(a,l)=>{this.typeItems[a].push(l),l.unlocked&&this.typeUnlocked[a]++};this.items=this._dataService.itemConfig.items.slice(),this.items.forEach(a=>{if("Emote"===a.type)return(!this.emoteLevels[a.name]||a.level>this.emoteLevels[a.name])&&(this.emoteLevels[a.name]=a.level),void((!this.emotes[a.name]||a.unlocked)&&(this.emotes[a.name]=a));n(a.type,a),a.type===rn.q.Instrument&&n(rn.q.Held,a)});for(const a in rn.q)this.typeItems[a].sort((l,_)=>l.order-_.order)}selectItem(n,a){if(n.detail>1)return void this.openItem(a);const l=new URL(location.href);l.searchParams.set("type",`${this.type}`),l.searchParams.set("item",a.guid),window.history.replaceState(window.history.state,"",l.pathname+l.search),this.onQueryParamsChanged((0,q.AF)(mc.getQueryParams(l))),this._scrollToPreview&&setTimeout(()=>{this.itemDiv.nativeElement.scrollIntoView({behavior:"smooth",block:this._scrollToPreview>0?"start":"end"})},50)}openItem(n){const a=mc.getItemSource(n);a?this._router.navigate(a.route,a.extras):alert("Could not find item source.")}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(Se.D),e.Y36(q.gz),e.Y36(q.F0),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-items"]],viewQuery:function(a,l){if(1&a&&e.Gf(Ld,7),2&a){let _;e.iGM(_=e.CRH())&&(l.itemDiv=_.first)}},decls:15,vars:5,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card","mt"],[1,"h3","mb-0"],[1,"sky-card-body"],[3,"type","typeChanged"],["class","sky-card mt",4,"ngIf"],[1,"grid","grid-1","item-info","mt",3,"hidden"],["itemDiv",""],["class","sky-card",4,"ngIf"],[4,"ngIf"],[1,"unlock-bar"],[1,"none-toggle",3,"click"],["svgIcon","none","container","body","placement","left",3,"ngbTooltip"],[1,"column-toggle"],["container","body","placement","left",3,"ngbTooltip","click"],[1,"flex","item-grid"],["class","item-icon",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"item-icon"],[1,"item-none"],["svgIcon","none",1,""],[1,"item-col-hr"],["container","body","placement","auto",1,"a",3,"item","showSubIcons","ngbTooltip","click"],[1,"unlock-check"],[1,"h3"],[1,"info-grid"],[1,"item-icon","item-icon-large","info-grid-icon","d-inline-block",3,"routerLink","queryParams"],[3,"item","size","highlight","hoverHighlight"],[3,"wiki","aClass"],["class","info-grid-find container",3,"routerLink","queryParams",4,"ngIf"],[1,"info-grid-find","container",3,"routerLink","queryParams"],[1,"menu-icon"],[1,"menu-label"],[1,"sky-card-header","header-previews",3,"click"],["class","sky-card-body",4,"ngIf"],["class","sky-flex flex-wrap",4,"ngIf"],[1,"sky-flex","flex-wrap"],["class","item-preview link","container","body","placement","auto",3,"highlight","ngbTooltip","click",4,"ngIf"],["container","body","placement","auto",1,"item-preview","link",3,"ngbTooltip","click"],[1,"pad"],[1,"item-preview-icon"],[3,"item","hoverHighlight","highlight","showSubIcons"],[1,"mt"],["loading","lazy",1,"preview-img",3,"src"],[3,"item"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Items"),e.qZA()()(),e.TgZ(4,"div",3)(5,"div",1)(6,"h2",4),e._uU(7,"Type"),e.qZA()(),e.TgZ(8,"div",5)(9,"app-item-type-selector",6),e.NdJ("typeChanged",function(M){return l.onTypeChanged(M)}),e.qZA()()(),e.YNc(10,op,19,14,"div",7),e.TgZ(11,"div",8,9),e.YNc(13,hv,10,10,"div",10),e.qZA(),e.YNc(14,gv,8,2,"ng-container",11)),2&a&&(e.xp6(9),e.Q6J("type",l.type),e.xp6(1),e.Q6J("ngIf",null==l.shownItems?null:l.shownItems.length),e.xp6(1),e.Q6J("hidden",!l.selectedItem),e.xp6(2),e.Q6J("ngIf",l.selectedItem),e.xp6(1),e.Q6J("ngIf",null==l.previewItems?null:l.previewItems.length))},dependencies:[Q.sg,Q.O5,q.rH,Uo,V.Hw,uc,Pf,Dr,uv],styles:[".item-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(200px,1fr))}.item-grid.gap-half-y[_ngcontent-%COMP%]{row-gap:calc(var(--padding-content) / 2)}.none-toggle[_ngcontent-%COMP%]{position:absolute;top:0;right:24px;width:24px;height:24px;cursor:pointer;z-index:2;overflow:hidden}.none-toggle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;width:32px;height:32px;vertical-align:top;top:-4px;right:-4px}.column-toggle[_ngcontent-%COMP%]{position:absolute;top:0;right:0;cursor:pointer;z-index:2}.column-toggle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:top}.unlock-bar[_ngcontent-%COMP%]{position:relative}.item-unlocked[_ngcontent-%COMP%]{background-color:var(--color-unlock-check-background)}.completed[_ngcontent-%COMP%]{color:var(--color-new);font-weight:700}.header-previews[_ngcontent-%COMP%]{cursor:pointer}.header-previews[_ngcontent-%COMP%]:hover{color:var(--color-link-hover)}.header-previews[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:middle}.item-icon[_ngcontent-%COMP%]{position:relative;width:var(--item-size);height:var(--item-size);background:var(--color-background);border-radius:var(--border-radius)}.item-icon-large[_ngcontent-%COMP%]{width:var(--item-size-large);height:var(--item-size-large)}.item-col-hr[_ngcontent-%COMP%]{display:none;flex-basis:100%;height:0;margin:0;padding:0}.item-none[_ngcontent-%COMP%]{position:relative;width:var(--item-size);height:var(--item-size)}.item-none[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-item);width:100%;height:100%}app-item.a[_ngcontent-%COMP%]{cursor:pointer}.item-preview[_ngcontent-%COMP%]{position:relative;display:inline-block;background:var(--color-background);border-radius:var(--border-radius);border:var(--border-solid);overflow:hidden;min-width:128px;text-align:center}.item-preview-icon[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.preview-img[_ngcontent-%COMP%]{height:192px;max-height:192px;object-fit:scale-down}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-template-rows:1fr;grid-column-gap:8px;grid-row-gap:8px}.info-grid-icon[_ngcontent-%COMP%]{grid-area:1 / 1 / 3 / 2;border:var(--border-solid)}@media screen and (min-width: 720px){.info-grid[_ngcontent-%COMP%]{grid-template-columns:96px 1fr;grid-template-rows:repeat(2,44px)}.info-grid[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]:nth-child(n+4){grid-column:1 / 3}}"],changeDetection:0})}return r})();function ap(r,f){if(1&r&&e._UZ(0,"div",13),2&r){const n=e.oxw().$implicit;e.Udp("background-image","url("+n.imageUrl+")")("background-position",n.imagePosition||void 0)}}const cp=function(r){return["/realm",r]};function Ns(r,f){if(1&r&&(e.TgZ(0,"div",7)(1,"div",1)(2,"h2",8),e._uU(3),e.qZA()(),e.TgZ(4,"div",3),e.YNc(5,ap,1,4,"div",9),e.TgZ(6,"a",10)(7,"mat-icon",11),e._uU(8,"article"),e.qZA(),e.TgZ(9,"span",12),e._uU(10,"Overview"),e.qZA()()()()),2&r){const n=f.$implicit;e.xp6(3),e.Oqu(n.name),e.xp6(2),e.Q6J("ngIf",n.imageUrl),e.xp6(1),e.Q6J("routerLink",e.VKq(3,cp,n.guid))}}const nb=function(){return{href:"https://sky-children-of-the-light.fandom.com/wiki/Realms"}};let Ud=(()=>{class r{constructor(n){this._dataService=n,this.realms=n.realmConfig.items,this.visibleRealms=this.realms.filter(a=>!a.hidden)}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(Se.D))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-realms"]],decls:8,vars:3,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card-body"],[3,"wiki"],[1,"grid","grid-3","mt"],["class","sky-card p-rel",4,"ngFor","ngForOf"],[1,"sky-card","p-rel"],[1,"h3","mb-0"],["class","p-rel img sky-border-solid",3,"background-image","background-position",4,"ngIf"],[1,"item","link","mt",3,"routerLink"],[1,"menu-icon"],[1,"menu-label"],[1,"p-rel","img","sky-border-solid"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Realms"),e.qZA()(),e.TgZ(4,"div",3),e._UZ(5,"app-wiki-link",4),e.qZA()(),e.TgZ(6,"div",5),e.YNc(7,Ns,11,5,"div",6),e.qZA()),2&a&&(e.xp6(5),e.Q6J("wiki",e.DdM(2,nb)),e.xp6(2),e.Q6J("ngForOf",l.visibleRealms))},dependencies:[Q.sg,Q.O5,q.rH,V.Hw,Dr],styles:[".img[_ngcontent-%COMP%]{box-shadow:0 0 16px 2px var(--color-image-inset) inset;border-radius:var(--border-radius);height:var(--img-preview-height);background-size:cover;background-position:bottom}"]})}return r})();function va(r,f){if(1&r&&(e.TgZ(0,"span",3),e._uU(1," ("),e._UZ(2,"app-days-left",12),e._uU(3,") "),e.qZA()),2&r){const n=e.oxw();e.xp6(2),e.Q6J("start",n.season.date)("end",n.season.endDate)}}function Zd(r,f){if(1&r&&(e.TgZ(0,"span",3),e._uU(1," ("),e._UZ(2,"app-days-left",12),e._uU(3,") "),e.qZA()),2&r){const n=e.oxw();e.xp6(2),e.Q6J("start",n.season.date)("end",n.season.endDate)}}function mv(r,f){if(1&r&&(e.TgZ(0,"span",3),e._uU(1),e.qZA()),2&r){const n=e.oxw();e.xp6(1),e.hij("(",n.scLeft," needed)")}}function ib(r,f){if(1&r&&(e.TgZ(0,"span",3),e._uU(1),e.qZA()),2&r){const n=e.oxw();e.xp6(1),e.hij("(",n.shLeft," needed)")}}function _v(r,f){if(1&r&&e._UZ(0,"app-spirit-tree",22),2&r){const n=e.oxw();e.Q6J("tree",n.guide.tree)("name",n.guide.name)("highlight",n.highlightTree===n.guide.tree.guid)}}const Hd=function(r){return["/spirit",r]},Gs=function(r){return{highlightTree:r}};function up(r,f){if(1&r&&(e.TgZ(0,"div",19)(1,"app-spirit-tree",22)(2,"div",25)(3,"a",26),e._uU(4),e.qZA()()()()),2&r){const n=e.oxw().$implicit,a=e.oxw(2);e.xp6(1),e.Q6J("tree",n.tree)("name",n.name)("highlight",a.highlightTree===n.tree.guid),e.xp6(2),e.Q6J("routerLink",e.VKq(6,Hd,n.guid))("queryParams",e.VKq(8,Gs,n.tree.guid)),e.xp6(1),e.hij(" ",n.name," ")}}function vv(r,f){if(1&r&&(e.ynx(0),e.YNc(1,up,5,10,"div",24),e.BQk()),2&r){const n=f.$implicit;e.xp6(1),e.Q6J("ngIf",n.tree)}}function ob(r,f){if(1&r&&(e.ynx(0),e.YNc(1,vv,2,1,"ng-container",23),e.BQk()),2&r){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.spirits)}}function ir(r,f){1&r&&(e.TgZ(0,"span",39),e._uU(1,"Returning IAP"),e.qZA())}function yv(r,f){1&r&&(e.TgZ(0,"span",40),e._uU(1,"New IAP"),e.qZA())}function jd(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const n=e.oxw(3).$implicit;e.xp6(1),e.Oqu(n.name)}}function bv(r,f){1&r&&(e.TgZ(0,"span"),e._uU(1,"Premium Candle Store"),e.qZA())}function Dv(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const n=e.oxw(3).$implicit;let a;e.xp6(1),e.Oqu(null!==(a=n.name)&&void 0!==a?a:null==n.spirit?null:n.spirit.name)}}function Vd(r,f){if(1&r&&(e.ynx(0),e._UZ(1,"mat-icon",41),e.TgZ(2,"span",9),e._uU(3),e.qZA(),e.BQk()),2&r){const n=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngbTooltip","Regular candles"),e.xp6(2),e.hij(" ",n.c," ")}}function dp(r,f){if(1&r&&(e.ynx(0),e._UZ(1,"mat-icon",42),e.TgZ(2,"span",9),e._uU(3),e.qZA(),e.BQk()),2&r){const n=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngbTooltip","Season candles"),e.xp6(2),e.hij(" ",n.sc," ")}}function hp(r,f){if(1&r&&(e.ynx(0),e._UZ(1,"mat-icon",43),e.TgZ(2,"span",9),e._uU(3),e.qZA(),e.BQk()),2&r){const n=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngbTooltip","Gift Season Pass"),e.xp6(2),e.hij(" ",n.sp," ")}}function Cv(r,f){if(1&r&&(e.TgZ(0,"div",34),e.YNc(1,Vd,4,2,"ng-container",21),e.YNc(2,dp,4,2,"ng-container",21),e.YNc(3,hp,4,2,"ng-container",21),e.qZA()),2&r){const n=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",n.c),e.xp6(1),e.Q6J("ngIf",n.sc),e.xp6(1),e.Q6J("ngIf",n.sp)}}function fp(r,f){if(1&r&&(e.ynx(0),e.TgZ(1,"span",48),e._uU(2),e.qZA(),e.BQk()),2&r){const n=e.oxw(2).$implicit;e.xp6(2),e.Oqu(n.name)}}function pp(r,f){if(1&r&&e.YNc(0,fp,3,1,"ng-container",21),2&r){const n=e.oxw().$implicit;e.Q6J("ngIf",n)}}function wv(r,f){if(1&r){const n=e.EpF();e.TgZ(0,"div",44),e.NdJ("click",function(l){e.CHM(n);const _=e.oxw().$implicit,M=e.oxw(4);return e.KtG(M.togglePurchased(l,_))}),e._UZ(1,"app-item",45),e.TgZ(2,"mat-icon",46),e._uU(3,"done"),e.qZA(),e.YNc(4,pp,1,1,"ng-template",null,47,e.W1O),e.qZA()}if(2&r){const n=f.$implicit,a=e.MAs(5),l=e.oxw().$implicit;e.xp6(1),e.Q6J("item",n)("ngbTooltip",a),e.xp6(1),e.ekj("unlocked",null==n?null:n.unlocked)("self",l.bought)}}function gp(r,f){if(1&r&&(e.TgZ(0,"div",29)(1,"div",1)(2,"h3",30),e._uU(3),e.qZA()(),e.TgZ(4,"div",4)(5,"div",31)(6,"mat-icon",8),e._uU(7),e.qZA(),e.TgZ(8,"span",9),e.YNc(9,ir,2,0,"span",32),e.YNc(10,yv,2,0,"span",33),e.qZA()(),e.TgZ(11,"div",34)(12,"mat-icon",8),e._uU(13,"location_on"),e.qZA(),e.TgZ(14,"span",9),e.YNc(15,jd,2,1,"span",21),e.YNc(16,bv,2,0,"span",21),e.YNc(17,Dv,2,1,"span",21),e.qZA()(),e.TgZ(18,"div",34)(19,"mat-icon",8),e._uU(20,"attach_money"),e.qZA(),e.TgZ(21,"span",35),e._uU(22),e.qZA()(),e.YNc(23,Cv,4,3,"div",36),e.TgZ(24,"div",37),e.YNc(25,wv,6,6,"div",38),e.qZA()()()),2&r){const n=f.$implicit,a=e.oxw(2).$implicit,l=e.oxw(2);e.ekj("highlight",n.guid===l.highlightIap),e.xp6(2),e.Q6J("ngbTooltip",n.name),e.xp6(1),e.hij(" ",n.name," "),e.xp6(4),e.Oqu(n.returning?"undo":"grade"),e.xp6(2),e.Q6J("ngIf",n.returning),e.xp6(1),e.Q6J("ngIf",!n.returning),e.xp6(5),e.Q6J("ngIf",a.name),e.xp6(1),e.Q6J("ngIf",!a.name&&"Store"===a.type),e.xp6(1),e.Q6J("ngIf",!a.name&&"Store"!==a.type),e.xp6(4),e.Q6J("ngbTooltip","Price of the IAP in USD."),e.xp6(1),e.hij(" ",n.price," "),e.xp6(1),e.Q6J("ngIf",n.c||n.sc||n.sp),e.xp6(2),e.Q6J("ngForOf",n.items)}}function Ev(r,f){if(1&r&&(e.ynx(0),e.YNc(1,gp,26,14,"div",28),e.BQk()),2&r){const n=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",n.iaps)}}function mp(r,f){if(1&r&&(e.ynx(0),e.YNc(1,Ev,2,1,"ng-container",21),e.BQk()),2&r){const n=f.$implicit;e.xp6(1),e.Q6J("ngIf",null==n.iaps?null:n.iaps.length)}}function _c(r,f){if(1&r&&(e.ynx(0),e.TgZ(1,"div",15)(2,"div",1)(3,"h2",16),e._uU(4,"In-App Purchases"),e.qZA()(),e.TgZ(5,"div",4)(6,"div",27),e.YNc(7,mp,2,1,"ng-container",23),e.qZA()()(),e.BQk()),2&r){const n=e.oxw();e.xp6(7),e.Q6J("ngForOf",n.shops)}}const oa=function(r){return{season:r,type:"Season,Guide"}};let vc=(()=>{class r{constructor(n,a,l,_){this._dataService=n,this._eventService=a,this._iapService=l,this._route=_,this.spirits=[],this.shops=[],this.nodes=new Set,this.sc=0,this.scLeft=0,this.sh=0,this.shLeft=0,_.queryParamMap.subscribe(M=>this.onQueryChanged(M)),_.paramMap.subscribe(M=>this.onParamsChanged(M)),this.subscribeItemChanged()}ngOnDestroy(){this._itemSub?.unsubscribe()}subscribeItemChanged(){this._itemSub?.unsubscribe(),this._itemSub=this._eventService.itemToggled.subscribe(n=>this.onItemChanged())}onItemChanged(){this.calculateSc()}onQueryChanged(n){this.highlightIap=n.get("highlightIap")||void 0,this.highlightTree=n.get("highlightTree")||void 0}onParamsChanged(n){const a=n.get("guid");this.initializeSeason(a)}initializeSeason(n){this.season=this._dataService.guidMap.get(n),this.state=ge.O.getStateFromPeriod(this.season.date,this.season.endDate),this.guide=void 0,this.spirits=[],this.season?.spirits?.forEach(a=>{switch(a.type){case"Guide":this.guide=a;break;case"Season":this.spirits.push(a)}}),this.shops=this.season.shops??[],this.calculateSc()}calculateSc(){this.sc=this.scLeft=this.sh=this.shLeft=0,[this.guide,...this.spirits].map(n=>n?.tree).forEach(n=>{n&&De.f.all(n.node).forEach(a=>{this.sc+=a.sc||0,this.sh+=a.sh||0,!a.unlocked&&!a.item?.unlocked&&(this.scLeft+=a.sc||0,this.shLeft+=a.sh||0)})})}togglePurchased(n,a){this._iapService.togglePurchased(a)}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(Se.D),e.Y36(Te),e.Y36(nt),e.Y36(q.gz))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-season"]],decls:50,vars:30,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"c-accent"],[1,"sky-card-body"],[1,"grid","grid-2"],[3,"wiki","aClass"],[1,"container",3,"routerLink","queryParams"],[1,"menu-icon"],[1,"menu-label"],[1,"container"],["class","c-accent",4,"ngIf"],[3,"start","end"],["svgIcon","season-candle",1,"menu-icon"],["svgIcon","season-heart",1,"menu-icon"],[1,"sky-card","mt"],[1,"h3"],[1,"sky-card-body","pad-0"],[1,"sky-flex","scroll-x","pad"],[1,"tree-wrapper"],[3,"tree","name","highlight",4,"ngIf"],[4,"ngIf"],[3,"tree","name","highlight"],[4,"ngFor","ngForOf"],["class","tree-wrapper",4,"ngIf"],["name",""],[3,"routerLink","queryParams"],[1,"grid","grid-4"],["class","sky-card p-rel",3,"highlight",4,"ngFor","ngForOf"],[1,"sky-card","p-rel"],["container","body",1,"h4",3,"ngbTooltip"],[1,"item"],["class","c-partial",4,"ngIf"],["class","c-full",4,"ngIf"],[1,"mt-half","item"],["container","body",1,"menu-label",3,"ngbTooltip"],["class","mt-half item",4,"ngIf"],[1,"mt-half","item","iap-items"],["class","iap-item point d-inline-block p-rel",3,"click",4,"ngFor","ngForOf"],[1,"c-partial"],[1,"c-full"],["svgIcon","candle","container","body","placement","right",1,"menu-icon",3,"ngbTooltip"],["svgIcon","season-candle","container","body","placement","right",1,"menu-icon",3,"ngbTooltip"],["svgIcon","gift","container","body","placement","right",1,"menu-icon","seasonal",3,"ngbTooltip"],[1,"iap-item","point","d-inline-block","p-rel",3,"click"],["placement","bottom","container","body",3,"item","ngbTooltip"],[1,"unlock-check"],["itemHover",""],[1,"ws-nw"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3),e.TgZ(4,"span",3),e._uU(5),e.qZA()()(),e.TgZ(6,"div",4)(7,"div",5),e._UZ(8,"app-wiki-link",6),e.TgZ(9,"a",7)(10,"mat-icon",8),e._uU(11,"list"),e.qZA(),e.TgZ(12,"span",9),e._uU(13," Spirits "),e.TgZ(14,"span",3),e._uU(15),e.qZA()()(),e.TgZ(16,"div",10)(17,"mat-icon",8),e._uU(18,"calendar_month"),e.qZA(),e.TgZ(19,"span",9),e._uU(20),e.ALo(21,"dayjs"),e.ALo(22,"dayjs"),e.YNc(23,va,4,2,"span",11),e.qZA()(),e.TgZ(24,"div",10)(25,"mat-icon",8),e._uU(26,"schedule"),e.qZA(),e.TgZ(27,"span",9),e._UZ(28,"app-duration",12),e.YNc(29,Zd,4,2,"span",11),e.qZA()(),e.TgZ(30,"div",10),e._UZ(31,"mat-icon",13),e.TgZ(32,"span",9),e._uU(33),e.YNc(34,mv,2,1,"span",11),e.qZA()(),e.TgZ(35,"div",10),e._UZ(36,"mat-icon",14),e.TgZ(37,"span",9),e._uU(38),e.YNc(39,ib,2,1,"span",11),e.qZA()()()()(),e.TgZ(40,"div",15)(41,"div",1)(42,"h2",16),e._uU(43,"Spirits"),e.qZA()(),e.TgZ(44,"div",17)(45,"div",18)(46,"div",19),e.YNc(47,_v,1,3,"app-spirit-tree",20),e.qZA(),e.YNc(48,ob,2,1,"ng-container",21),e.qZA()()(),e.YNc(49,_c,8,1,"ng-container",21)),2&a&&(e.xp6(3),e.hij("",l.season.name," "),e.xp6(2),e.hij("(#",l.season.number,")"),e.xp6(3),e.Q6J("wiki",l.season._wiki)("aClass","container"),e.xp6(1),e.Q6J("routerLink","/spirit")("queryParams",e.VKq(28,oa,l.season.guid)),e.xp6(6),e.hij("(",l.season.spirits.length-1,")"),e.xp6(1),e.ekj("expired","ended"===l.state),e.xp6(4),e.AsE(" ",e.lcZ(21,24,l.season.date)," to ",e.lcZ(22,26,l.season.endDate)," "),e.xp6(3),e.Q6J("ngIf","active"!==l.state),e.xp6(1),e.ekj("expired","ended"===l.state),e.xp6(4),e.Q6J("start",l.season.date)("end",l.season.endDate),e.xp6(1),e.Q6J("ngIf","active"===l.state),e.xp6(4),e.hij(" ",l.sc," season candles "),e.xp6(1),e.Q6J("ngIf",l.scLeft),e.xp6(4),e.hij(" ",l.sh," season hearts "),e.xp6(1),e.Q6J("ngIf",l.shLeft),e.xp6(8),e.Q6J("ngIf",null==l.guide?null:l.guide.tree),e.xp6(1),e.Q6J("ngIf",l.spirits),e.xp6(1),e.Q6J("ngIf",l.shops.length))},dependencies:[Q.sg,Q.O5,q.rH,Uo,V.Hw,La,uc,Ba,ql,Dr,_s],styles:["app-spirit-tree[_ngcontent-%COMP%]{vertical-align:bottom}.tree-wrapper[_ngcontent-%COMP%]{display:inline-block}"]})}return r})();function Tv(r,f){if(1&r&&e._UZ(0,"div",12),2&r){const n=e.oxw(2);e.Udp("order",n.sections.img)("background-image","url("+n.season.imageUrl+")")("background-position",n.season.imagePosition||void 0)}}const Mv=function(r){return["/season",r]};function _p(r,f){if(1&r&&(e.TgZ(0,"a",13)(1,"mat-icon",14),e._uU(2,"article"),e.qZA(),e.TgZ(3,"span",15),e._uU(4,"Overview"),e.qZA()()),2&r){const n=e.oxw(2);e.Udp("order",n.sections.overview),e.Q6J("routerLink",e.VKq(3,Mv,n.season.guid))}}const vp=function(r){return{season:r,type:"Season,Guide"}};function zd(r,f){if(1&r&&(e.TgZ(0,"a",16)(1,"mat-icon",14),e._uU(2,"list"),e.qZA(),e.TgZ(3,"span",15),e._uU(4,"Spirits "),e.TgZ(5,"span",17),e._uU(6),e.qZA()()()),2&r){const n=e.oxw(2);e.Udp("order",n.sections.spirits),e.Q6J("routerLink","/spirit")("queryParams",e.VKq(5,vp,n.season.guid)),e.xp6(6),e.hij("(",n.season.spirits.length-1,")")}}function rl(r,f){if(1&r&&(e.TgZ(0,"div",18)(1,"mat-icon",14),e._uU(2,"calendar_month"),e.qZA(),e.TgZ(3,"span",15),e._uU(4),e.ALo(5,"dayjs"),e.ALo(6,"dayjs"),e.TgZ(7,"span",17),e._uU(8," ("),e._UZ(9,"app-days-left",19),e._uU(10,") "),e.qZA()()()),2&r){const n=e.oxw(2);e.Udp("order",n.sections.date),e.xp6(4),e.AsE(" ",e.lcZ(5,6,n.season.date)," to ",e.lcZ(6,8,n.season.endDate)," "),e.xp6(5),e.Q6J("start",n.season.date)("end",n.season.endDate)}}function tu(r,f){if(1&r){const n=e.EpF();e.TgZ(0,"div",20),e.NdJ("click",function(){e.CHM(n);const l=e.oxw(2);return e.KtG(l.checkin())}),e.TgZ(1,"mat-icon",14),e._uU(2),e.qZA(),e.TgZ(3,"span",15),e._uU(4," I have done my dailies. "),e.qZA()()}if(2&r){const n=e.oxw(2);e.Udp("order",n.sections.checkin),e.ekj("active",n.checkedIn),e.xp6(2),e.Oqu(n.checkedIn?"check_box":"check_box_outline_blank")}}function yp(r,f){if(1&r&&(e.TgZ(0,"div",18)(1,"mat-icon",14),e._uU(2,"sell"),e.qZA(),e.TgZ(3,"span",15)(4,"div",21),e._UZ(5,"app-cost",22),e.qZA()()()),2&r){const n=e.oxw(2);e.Udp("order",n.sections.cost),e.xp6(5),e.Q6J("cost",n.cost)("remaining",n.remainingCost)("borderLeft",!0)}}function bp(r,f){if(1&r&&(e.TgZ(0,"div",1)(1,"div",2)(2,"h2",3),e._UZ(3,"img",4),e._uU(4),e.TgZ(5,"span",5),e._uU(6),e.qZA()()(),e.TgZ(7,"div",6),e.YNc(8,Tv,1,6,"div",7),e.YNc(9,_p,5,5,"a",8),e.YNc(10,zd,7,7,"a",9),e.YNc(11,rl,11,10,"div",10),e.YNc(12,tu,5,5,"div",11),e.YNc(13,yp,6,5,"div",10),e.qZA()()),2&r){const n=e.oxw();e.xp6(3),e.Q6J("src",n.season.iconUrl,e.LSH),e.xp6(1),e.hij(" ",n.season.name," "),e.xp6(2),e.hij("#",n.season.number,""),e.xp6(2),e.Q6J("ngIf",n.sections.img&&n.season.imageUrl),e.xp6(1),e.Q6J("ngIf",n.sections.overview),e.xp6(1),e.Q6J("ngIf",n.sections.spirits),e.xp6(1),e.Q6J("ngIf",n.sections.date),e.xp6(1),e.Q6J("ngIf",n.sections.checkin),e.xp6(1),e.Q6J("ngIf",n.sections.cost&&n.cost)}}let Dp=(()=>{class r{constructor(){this.options={show:["img","overview","spirits"]},this.sections={},this.checkedIn=!1}ngOnInit(){this.updateSections(),this.updateSeason()}ngOnChanges(n){n.options&&this.updateSections(),n.season&&this.updateSeason()}updateSeason(){if(this.cost=this.remainingCost=void 0,!this.season)return;const n=this.season.spirits.map(l=>De.f.all(l.tree?.node)).flat();this.cost=lo.T.add(lo.T.create(),...n);const a=n.filter(l=>!l.unlocked&&!l.item?.unlocked);this.remainingCost=lo.T.add(lo.T.create(),...a),this.updateCheckin()}checkin(){this.checkedIn=!this.checkedIn,this.checkedIn?localStorage.setItem(`season.checkin.${this.season?.guid}`,Do().tz().format("YYYY-MM-DD")):localStorage.removeItem(`season.checkin.${this.season?.guid}`)}updateCheckin(){const n=localStorage.getItem(`season.checkin.${this.season?.guid}`);if(n){const a=Do().tz(n,"YYYY-MM-DD",ge.O.skyTimeZone);this.checkedIn=a.isSame(Do().tz(),"day")}}updateSections(){this.sections={},this.options.show?.forEach((n,a)=>{this.sections[n]=a+2})}static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-season-card"]],inputs:{season:"season",options:"options"},features:[e.TTD],decls:1,vars:1,consts:[["class","sky-card p-rel",4,"ngIf"],[1,"sky-card","p-rel"],[1,"sky-card-header"],[1,"h3","mb-0"],[1,"season-icon",3,"src"],[1,"h5","c-accent","number"],[1,"sky-card-body","grid","grid-1"],["class","season-img sky-border-solid",3,"order","background-image","background-position",4,"ngIf"],["class","item link",3,"routerLink","order",4,"ngIf"],["class","item link",3,"routerLink","queryParams","order",4,"ngIf"],["class","item",3,"order",4,"ngIf"],["class","item checkin",3,"active","order","click",4,"ngIf"],[1,"season-img","sky-border-solid"],[1,"item","link",3,"routerLink"],[1,"menu-icon"],[1,"menu-label"],[1,"item","link",3,"routerLink","queryParams"],[1,"c-accent"],[1,"item"],[3,"start","end"],[1,"item","checkin",3,"click"],[1,"d-inline-block"],[3,"cost","remaining","borderLeft"]],template:function(a,l){1&a&&e.YNc(0,bp,14,9,"div",0),2&a&&e.Q6J("ngIf",l.season)},dependencies:[Q.O5,q.rH,V.Hw,Ba,Xc,_s],styles:[".season-icon[_ngcontent-%COMP%]{width:var(--item-size-small);height:var(--item-size-small)}.season-img[_ngcontent-%COMP%]{box-shadow:0 0 16px 2px var(--color-image-inset) inset;border-radius:var(--border-radius);height:var(--img-preview-height);background-repeat:no-repeat;background-position:center;background-size:100%}.checkin[_ngcontent-%COMP%]{cursor:pointer}.checkin[_ngcontent-%COMP%]:hover{color:var(--color-link-hover)}"],changeDetection:0})}return r})();const Sv=function(r){return["/season",r]};function Av(r,f){if(1&r&&(e.TgZ(0,"a",8),e._UZ(1,"img",9),e.qZA()),2&r){const n=f.$implicit;e.Q6J("routerLink",e.VKq(3,Sv,n.guid))("ngbTooltip",n.name),e.xp6(1),e.Q6J("src",n.iconUrl,e.LSH)}}function xv(r,f){1&r&&e._UZ(0,"app-season-card",14),2&r&&e.Q6J("season",f.$implicit)}function Cp(r,f){if(1&r&&(e.ynx(0),e.TgZ(1,"div",10)(2,"div",1)(3,"h2",11),e._uU(4),e.qZA()(),e.TgZ(5,"div",3)(6,"div",12),e.YNc(7,xv,1,1,"app-season-card",13),e.qZA()()(),e.BQk()),2&r){const n=f.$implicit,a=e.oxw();e.xp6(4),e.Oqu(n),e.xp6(3),e.Q6J("ngForOf",a.yearMap[n])}}const Iv=function(){return{href:"https://sky-children-of-the-light.fandom.com/wiki/Seasonal_Events"}};let sb=(()=>{class r{constructor(n){this._dataService=n,this.years=[],this.seasons=n.seasonConfig.items,this.reverseSeasons=this.seasons.slice().reverse()}ngOnInit(){let n=this.seasons.at(-1).year+1;this.yearMap={};for(let a=this.seasons.length-1;a>=0;a--){const l=this.seasons[a];!this.currentSeason&&ge.O.isActive(l.date,l.endDate)&&(this.currentSeason=l),l.year<n&&(n=l.year,this.years.push(n),this.yearMap[n]=[]),this.yearMap[n].push(l)}}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(Se.D))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-seasons"]],decls:9,vars:4,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2"],[1,"sky-card-body"],[3,"wiki"],[1,"flex","mt"],["class","item-icon","placement","bottom","container","body",3,"routerLink","ngbTooltip",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["placement","bottom","container","body",1,"item-icon",3,"routerLink","ngbTooltip"],[1,"season-icon",3,"src"],[1,"sky-card","mt"],[1,"h3"],[1,"grid","grid-2"],[3,"season",4,"ngFor","ngForOf"],[3,"season"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Seasons"),e.qZA()(),e.TgZ(4,"div",3),e._UZ(5,"app-wiki-link",4),e.TgZ(6,"div",5),e.YNc(7,Av,2,5,"a",6),e.qZA()()(),e.YNc(8,Cp,8,2,"ng-container",7)),2&a&&(e.xp6(5),e.Q6J("wiki",e.DdM(3,Iv)),e.xp6(2),e.Q6J("ngForOf",l.reverseSeasons),e.xp6(1),e.Q6J("ngForOf",l.years))},dependencies:[Q.sg,q.rH,Uo,Dp,Dr],styles:[".season-icon[_ngcontent-%COMP%]{width:var(--item-size);height:var(--item-size)}.season-icon-small[_ngcontent-%COMP%]{width:var(--item-size-small);height:var(--item-size-small)}.img[_ngcontent-%COMP%]{box-shadow:0 0 16px 2px var(--color-image-inset) inset;border-radius:var(--border-radius);height:var(--img-preview-height);background-repeat:no-repeat;background-position:center;background-size:100%}.item-icon[_ngcontent-%COMP%]{position:relative;width:var(--item-size);height:var(--item-size);background:var(--color-background);border-radius:var(--border-radius)}"]})}return r})(),Ov=(()=>{class r{transform(n){switch(n){case"Regular":return"Regular Spirit";case"Elder":return"Elder Spirit";case"Guide":return"Season Guide";case"Season":return"Seasonal Spirit";case"Event":return"Event Spirit";case"Special":return"Special Spirit";default:return""}}static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275pipe=e.Yjl({name:"spiritType",type:r,pure:!0})}return r})();function wp(r,f){1&r&&e._UZ(0,"mat-icon",3),2&r&&e.Q6J("svgIcon","candle")("ngbTooltip","Regular Spirit")}function Ep(r,f){1&r&&e._UZ(0,"mat-icon",3),2&r&&e.Q6J("svgIcon","candle")("ngbTooltip","Special Spirit")}function ab(r,f){1&r&&e._UZ(0,"mat-icon",3),2&r&&e.Q6J("svgIcon","ascended-candle")("ngbTooltip","Elder Spirit")}function nu(r,f){1&r&&e._UZ(0,"mat-icon",3),2&r&&e.Q6J("svgIcon","season-heart")("ngbTooltip","Season Guide")}function cb(r,f){1&r&&e._UZ(0,"mat-icon",3),2&r&&e.Q6J("svgIcon","season-candle")("ngbTooltip","Seasonal Spirit")}function Tp(r,f){1&r&&e._UZ(0,"span")}let ja=(()=>{class r{static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-spirit-type-icon"]],inputs:{type:"type"},decls:7,vars:6,consts:[[3,"ngSwitch"],["container","body","placement","bottom",3,"svgIcon","ngbTooltip",4,"ngSwitchCase"],[4,"ngSwitchDefault"],["container","body","placement","bottom",3,"svgIcon","ngbTooltip"]],template:function(a,l){1&a&&(e.ynx(0,0),e.YNc(1,wp,1,2,"mat-icon",1),e.YNc(2,Ep,1,2,"mat-icon",1),e.YNc(3,ab,1,2,"mat-icon",1),e.YNc(4,nu,1,2,"mat-icon",1),e.YNc(5,cb,1,2,"mat-icon",1),e.YNc(6,Tp,1,0,"span",2),e.BQk()),2&a&&(e.Q6J("ngSwitch",l.type),e.xp6(1),e.Q6J("ngSwitchCase","Regular"),e.xp6(1),e.Q6J("ngSwitchCase","Special"),e.xp6(1),e.Q6J("ngSwitchCase","Elder"),e.xp6(1),e.Q6J("ngSwitchCase","Guide"),e.xp6(1),e.Q6J("ngSwitchCase","Season"))},dependencies:[Q.RF,Q.n9,Q.ED,Uo,V.Hw],changeDetection:0})}return r})();function Nv(r,f){if(1&r&&(e.TgZ(0,"div",18),e._UZ(1,"img",19),e.qZA()),2&r){const n=e.oxw();e.xp6(1),e.Q6J("src",n.spirit.imageUrl,e.LSH)("alt",n.spirit.name)}}function Mp(r,f){if(1&r&&e._UZ(0,"img",24),2&r){const n=e.oxw(2);e.Q6J("src",n.spirit.season.iconUrl,e.LSH)}}function Sp(r,f){1&r&&(e.TgZ(0,"mat-icon"),e._uU(1,"ac_unit"),e.qZA())}const Xn=function(r){return["/season",r]},$d=function(r){return{highlightTree:r}};function Ap(r,f){if(1&r&&(e.TgZ(0,"a",20),e.YNc(1,Mp,1,1,"img",21),e.YNc(2,Sp,2,0,"ng-template",null,22,e.W1O),e.TgZ(4,"span",23),e._uU(5),e.qZA()()),2&r){const n=e.MAs(3),a=e.oxw();e.Q6J("routerLink",e.VKq(5,Xn,null==a.spirit.season?null:a.spirit.season.guid))("queryParams",e.VKq(7,$d,null==a.spirit.tree?null:a.spirit.tree.guid)),e.xp6(1),e.Q6J("ngIf",null==a.spirit.season?null:a.spirit.season.iconUrl)("ngIfElse",n),e.xp6(4),e.hij(" ",null==a.spirit.season?null:a.spirit.season.name," ")}}const yc=function(r){return["/event",r]};function xp(r,f){if(1&r&&(e.TgZ(0,"a",27),e._uU(1),e.qZA()),2&r){const n=e.oxw(2);e.Q6J("routerLink",e.VKq(2,yc,n.event.guid)),e.xp6(1),e.hij(" ",n.event.name," ")}}function kv(r,f){if(1&r&&(e.TgZ(0,"div",25)(1,"mat-icon"),e._uU(2,"event"),e.qZA(),e.YNc(3,xp,2,4,"a",26),e.qZA()),2&r){const n=e.oxw();e.xp6(3),e.Q6J("ngIf",n.event)}}function iu(r,f){1&r&&(e.TgZ(0,"span",23),e._uU(1," Regular Spirit "),e.qZA())}function bc(r,f){if(1&r&&(e.TgZ(0,"span",23),e._uU(1),e.qZA()),2&r){const n=e.oxw(2);e.xp6(1),e.hij(" ",n.spirit.type," ")}}const Gd=function(){return["/spirit"]},sl=function(r){return{type:r}};function Ip(r,f){if(1&r&&(e.TgZ(0,"a",20)(1,"mat-icon"),e._uU(2,"person"),e.qZA(),e.YNc(3,iu,2,0,"span",28),e.YNc(4,bc,2,1,"span",28),e.qZA()),2&r){const n=e.oxw();e.Q6J("routerLink",e.DdM(4,Gd))("queryParams",e.VKq(5,sl,n.spirit.type)),e.xp6(3),e.Q6J("ngIf","Regular"===n.spirit.type),e.xp6(1),e.Q6J("ngIf","Elder"===n.spirit.type||"Special"===n.spirit.type)}}const Yd=function(r){return["/realm",r]};function qd(r,f){if(1&r&&(e.TgZ(0,"div",25)(1,"mat-icon"),e._uU(2,"map"),e.qZA(),e.TgZ(3,"a",29),e._uU(4),e.qZA()()),2&r){const n=e.oxw();e.xp6(3),e.Q6J("routerLink",e.VKq(3,Yd,n.spirit.area.realm.guid))("queryParams",e.VKq(5,$d,null==n.spirit.tree?null:n.spirit.tree.guid)),e.xp6(1),e.hij(" ",n.spirit.area.realm.name," ")}}function Wd(r,f){if(1&r&&(e.TgZ(0,"div",25)(1,"mat-icon"),e._uU(2,"location_on"),e.qZA(),e.TgZ(3,"span",23),e._uU(4),e.qZA()()),2&r){const n=e.oxw();e.xp6(4),e.hij(" ",n.spirit.area.name," ")}}function Op(r,f){if(1&r&&(e.TgZ(0,"div",30),e._UZ(1,"app-spirit-tree",31),e.qZA()),2&r){const n=f.$implicit,a=e.oxw();e.xp6(1),e.Q6J("tree",n.tree)("name",n.name)("highlight",a.highlightTree===n.tree.guid)("highlightItem",a.highlightItem)}}let Jd=(()=>{class r{constructor(n,a){this._dataService=n,this._route=a,this.trees=[],a.queryParamMap.subscribe(l=>this.onQueryChanged(l)),a.paramMap.subscribe(l=>this.onParamsChanged(l))}onQueryChanged(n){this.highlightTree=n.get("highlightTree")||void 0,this.highlightItem=n.get("highlightItem")||void 0}onParamsChanged(n){const a=n.get("guid");this.spirit=this._dataService.guidMap.get(a),this.typeName=(new Ov).transform(this.spirit.type),this.event=this.spirit?.events?.at(-1)?.eventInstance?.event,this.trees=[];const l=(this.spirit.ts||[]).map(Y=>({date:Y.date,name:"Traveling Spirit #"+Y.number,tree:Y.tree})),_=(this.spirit.returns||[]).map((Y,K)=>({date:Y.return.date,name:Y.return.name||"Visit #"+(K+1),tree:Y.tree})),M=l.concat(_);M.sort((Y,K)=>K.date.diff(Y.date)),this.trees=M,this.spirit.tree&&this.trees.push({name:"Spirit tree",tree:this.spirit.tree})}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(Se.D),e.Y36(q.gz))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-spirit"]],decls:26,vars:11,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2"],[1,"sky-card","mt"],[1,"h3"],[3,"type"],[1,"sky-card-body"],[1,"spirit-grid"],[1,"spirit-grid-img","spirit-grid-item","sky-card-item"],["class","spirit-img",4,"ngIf"],[3,"wiki","aClass"],["class","spirit-grid-item sky-card-item sky-card-item-icon",3,"routerLink","queryParams",4,"ngIf"],["class","spirit-grid-item sky-card-item sky-card-item-icon",4,"ngIf"],[1,"sky-card","mt","spirit-trees"],[1,"h3","mb-0"],[1,"sky-card-body","pad-0"],[1,"sky-flex","scroll-x","pad"],["class","tree-wrapper p-inline-block",4,"ngFor","ngForOf"],[1,"spirit-img"],[3,"src","alt"],[1,"spirit-grid-item","sky-card-item","sky-card-item-icon",3,"routerLink","queryParams"],["class","icon",3,"src",4,"ngIf","ngIfElse"],["seasonIcon",""],[1,"menu-label"],[1,"icon",3,"src"],[1,"spirit-grid-item","sky-card-item","sky-card-item-icon"],["class","menu-label",3,"routerLink",4,"ngIf"],[1,"menu-label",3,"routerLink"],["class","menu-label",4,"ngIf"],[1,"menu-label",3,"routerLink","queryParams"],[1,"tree-wrapper","p-inline-block"],[3,"tree","name","highlight","highlightItem"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Spirit"),e.qZA()()(),e.TgZ(4,"div",3)(5,"div",1)(6,"h2",4),e._UZ(7,"app-spirit-type-icon",5),e._uU(8),e.qZA()(),e.TgZ(9,"div",6)(10,"div",7)(11,"div",8),e.YNc(12,Nv,2,2,"div",9),e.qZA(),e._UZ(13,"app-wiki-link",10),e.YNc(14,Ap,6,9,"a",11),e.YNc(15,kv,4,1,"div",12),e.YNc(16,Ip,5,7,"a",11),e.YNc(17,qd,5,7,"div",12),e.YNc(18,Wd,5,1,"div",12),e.qZA()()(),e.TgZ(19,"div",13)(20,"div",1)(21,"h2",14),e._uU(22,"Spirit tree"),e.qZA()(),e.TgZ(23,"div",15)(24,"div",16),e.YNc(25,Op,2,4,"div",17),e.qZA()()()),2&a&&(e.xp6(7),e.Q6J("type",l.spirit.type),e.xp6(1),e.hij(" ",l.spirit.name," "),e.xp6(4),e.Q6J("ngIf",l.spirit.imageUrl),e.xp6(1),e.Q6J("wiki",l.spirit._wiki)("aClass","spirit-grid-item sky-card-item sky-card-item-icon"),e.xp6(1),e.Q6J("ngIf","Season"===l.spirit.type||"Guide"===l.spirit.type),e.xp6(1),e.Q6J("ngIf","Event"===l.spirit.type),e.xp6(1),e.Q6J("ngIf","Regular"===l.spirit.type||"Elder"===l.spirit.type||"Special"===l.spirit.type),e.xp6(1),e.Q6J("ngIf",null==l.spirit.area?null:l.spirit.area.realm),e.xp6(1),e.Q6J("ngIf",l.spirit.area),e.xp6(7),e.Q6J("ngForOf",l.trees))},dependencies:[Q.sg,Q.O5,q.rH,V.Hw,La,ja,Dr],styles:[".tree-wrapper[_ngcontent-%COMP%]   app-spirit-tree[_ngcontent-%COMP%]{vertical-align:bottom}.spirit-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:var(--border-radius);padding:5px 0;width:auto;height:192px;max-height:192px}.spirit-trees[_ngcontent-%COMP%]{max-width:100%}.spirit-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-template-rows:1fr;gap:8px}.spirit-grid-img[_ngcontent-%COMP%]{grid-area:1 / 1 / 2 / 2;width:100%;height:100%;padding-top:0;padding-bottom:0}.spirit-grid-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.spirit-img[_ngcontent-%COMP%]{width:auto;height:208px}.spirit-grid-item[_ngcontent-%COMP%]{width:100%;overflow:auto;border:var(--border-solid)}@media screen and (min-width: 720px){.spirit-grid[_ngcontent-%COMP%]{grid-template-columns:160px 1fr;grid-template-rows:46px}.spirit-grid-img[_ngcontent-%COMP%]{grid-area:1 / 1 / 5 / 2}.spirit-grid-item[_ngcontent-%COMP%]:nth-child(n+6){grid-column:1 / 3}}"]})}return r})();class Pv{static union(...f){const n=new Set;return f.forEach(a=>a.forEach(l=>n.add(l))),Array.from(n)}static intersection(...f){const n=new Map;for(const l of f)for(const _ of l)n.set(_,(n.get(_)||0)+1);const a=[];return n.forEach((l,_)=>{l<f.length||a.push(_)}),a}}class Rv{static getTrees(f){const n=[];f.ts?.forEach(l=>{n.push({date:l.date,tree:l.tree})}),f.returns?.forEach(l=>{n.push({date:l.return.date,tree:l.tree})}),n.sort((l,_)=>l.date.diff(_.date));const a=[];return f.tree&&a.push(f.tree),a.push(...n.map(l=>l.tree)),a}}function Fv(r,f){1&r&&e._uU(0,"Spirit")}function Np(r,f){1&r&&e._uU(0,"Type")}function Lv(r,f){1&r&&e._uU(0,"Location")}function Bv(r,f){1&r&&e._uU(0,"Unlocked")}const kp=function(r){return["/spirit",r]};function Uv(r,f){if(1&r&&(e.TgZ(0,"a",16),e._uU(1),e.qZA()),2&r){const n=f.row;e.Q6J("routerLink",e.VKq(2,kp,n.guid)),e.xp6(1),e.Oqu(n.name)}}function Pp(r,f){1&r&&e._UZ(0,"app-spirit-type-icon",17),2&r&&e.Q6J("type",f.row.type)}function Rp(r,f){if(1&r&&(e.TgZ(0,"a",16),e._uU(1),e.qZA()),2&r){const n=f.row;e.Q6J("routerLink",void 0),e.xp6(1),e.hij(" ",null==n.area?null:n.area.name," ")}}function Zv(r,f){if(1&r&&(e.TgZ(0,"span",19),e._uU(1),e.qZA()),2&r){const n=e.oxw().row;e.ekj("partial",n.unlockedLast&&n.unlockedLast===n.totalLast||(n.unlockedFree||n.totalPass)&&n.unlockedFree===n.totalFree)("completed",n.unlockedItems===n.totalItems),e.Q6J("ngbTooltip",n.unlockTooltip),e.xp6(1),e.AsE(" ",n.unlockedItems," / ",n.totalItems," ")}}function Hv(r,f){1&r&&e.YNc(0,Zv,2,7,"span",18),2&r&&e.Q6J("ngIf",f.row.totalItems)}function rs(r,f){1&r&&e._uU(0,"Total:")}function jv(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const n=e.oxw(2);e.ekj("completed",n.unlockedItems===n.totalItems),e.xp6(1),e.AsE("",n.unlockedItems," / ",n.totalItems,"")}}function Vv(r,f){if(1&r&&(e.TgZ(0,"div",10)(1,"div",4)(2,"app-table",11),e.YNc(3,Fv,1,0,"ng-template",12),e.YNc(4,Np,1,0,"ng-template",12),e.YNc(5,Lv,1,0,"ng-template",12),e.YNc(6,Bv,1,0,"ng-template",12),e.YNc(7,Uv,2,4,"ng-template",13),e.YNc(8,Pp,1,1,"ng-template",13),e.YNc(9,Rp,2,2,"ng-template",13),e.YNc(10,Hv,1,1,"ng-template",13),e.YNc(11,rs,1,0,"ng-template",14),e.YNc(12,jv,2,4,"ng-template",15),e.qZA()()()),2&r){const n=e.oxw();e.xp6(2),e.Q6J("rows",n.rows),e.xp6(9),e.Q6J("colspan",3)("textAlign","right")}}function lb(r,f){if(1&r&&(e.TgZ(0,"div",31),e._UZ(1,"img",32),e.qZA()),2&r){const n=e.oxw().$implicit;e.xp6(1),e.Q6J("src",n.imageUrl,e.LSH)}}function Qd(r,f){if(1&r&&(e.TgZ(0,"span",33),e._uU(1),e.qZA()),2&r){const n=e.oxw().$implicit;e.ekj("partial",n.unlockedLast&&n.unlockedLast===n.totalLast||(n.unlockedFree||n.totalPass)&&n.unlockedFree===n.totalFree)("completed",n.unlockedItems===n.totalItems),e.Q6J("ngbTooltip",n.unlockTooltip),e.xp6(1),e.AsE(" ",n.unlockedItems," / ",n.totalItems," ")}}function Fp(r,f){if(1&r&&(e.TgZ(0,"div",22)(1,"div",1)(2,"h2",23),e._UZ(3,"app-spirit-type-icon",17),e._uU(4),e.qZA()(),e.TgZ(5,"div",4),e.YNc(6,lb,2,1,"div",24),e.TgZ(7,"a",25)(8,"mat-icon",26),e._uU(9,"list"),e.qZA(),e.TgZ(10,"span",27),e._uU(11,"Information"),e.qZA()(),e.TgZ(12,"div",28)(13,"mat-icon",26),e._uU(14,"lock_open"),e.qZA(),e.TgZ(15,"div",29),e.YNc(16,Qd,2,7,"span",30),e.qZA()()()()),2&r){const n=f.$implicit;e.xp6(3),e.Q6J("type",n.type),e.xp6(1),e.hij(" ",n.name," "),e.xp6(2),e.Q6J("ngIf",n.imageUrl),e.xp6(1),e.Q6J("routerLink",e.VKq(5,kp,n.guid)),e.xp6(9),e.Q6J("ngIf",n.totalItems)}}function zv(r,f){if(1&r&&(e.TgZ(0,"div",20),e.YNc(1,Fp,17,7,"div",21),e.qZA()),2&r){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.rows)}}function $v(r,f){1&r&&e._UZ(0,"mat-icon",37),2&r&&e.Q6J("svgIcon","ascended-candle")("ngbTooltip","Elder Spirit")}function Gv(r,f){1&r&&e._UZ(0,"mat-icon",37),2&r&&e.Q6J("svgIcon","season-heart")("ngbTooltip","Season Guide")}function Lp(r,f){1&r&&e._UZ(0,"mat-icon",37),2&r&&e.Q6J("svgIcon","candle")("ngbTooltip","Regular Spirit")}function Yv(r,f){1&r&&e._UZ(0,"mat-icon",37),2&r&&e.Q6J("svgIcon","season-candle")("ngbTooltip","Season Spirit")}function qv(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const n=e.oxw().row;e.xp6(1),e.Oqu(n.type)}}function Kd(r,f){1&r&&(e.ynx(0,34),e.YNc(1,$v,1,2,"mat-icon",35),e.YNc(2,Gv,1,2,"mat-icon",35),e.YNc(3,Lp,1,2,"mat-icon",35),e.YNc(4,Yv,1,2,"mat-icon",35),e.YNc(5,qv,2,1,"span",36),e.BQk()),2&r&&(e.Q6J("ngSwitch",f.row.type),e.xp6(1),e.Q6J("ngSwitchCase","Elder"),e.xp6(1),e.Q6J("ngSwitchCase","Guide"),e.xp6(1),e.Q6J("ngSwitchCase","Regular"),e.xp6(1),e.Q6J("ngSwitchCase","Season"))}let Wv=(()=>{class r{constructor(n,a,l){this._dataService=n,this._changeDetectorRef=a,this._route=l,this.mode="cards",this.spirits=[],this.spiritTrees={},this.rows=[],this.unlockedItems=0,this.totalItems=0,this.mode=localStorage.getItem("spirits.mode")||"grid",l.queryParamMap.subscribe(_=>{this.onQueryChanged(_)})}changeMode(){this.mode="grid"===this.mode?"cards":"grid",localStorage.setItem("spirits.mode",this.mode)}onQueryChanged(n){this.spirits=[],this.spiritTrees={};const a=n.get("type"),l=a?new Set(a.split(",")):void 0,M=[],Y=n.get("realm"),K=Y?this._dataService.guidMap.get(Y):void 0;if(K){const Dt=new Set(K.areas?.flatMap(yn=>yn.spirits||[])||[]),jt=this._dataService.spiritConfig.items.filter(yn=>Dt.has(yn));M.push(jt)}const xe=n.get("season"),Ve=xe?this._dataService.guidMap.get(xe):void 0;Ve&&M.push(Ve.spirits||[]);let Pt=M.length?Pv.intersection(...M):this._dataService.spiritConfig.items;switch(Pt=l?Pt.filter(Dt=>l.has(Dt.type)):Pt,Pt.forEach(Dt=>(this.spirits.push(Dt),this.spiritTrees[Dt.guid]=Rv.getTrees(Dt),!0)),n.get("sort")){case"age-asc":this.sortAge(1);break;case"age-desc":this.sortAge(-1);break;case"name-asc":this.sortName()}this.initTable()}initTable(){this.unlockedItems=0,this.totalItems=0,this.rows=this.spirits.map(n=>{let a=0,l=0;const _=this.spiritTrees[n.guid],M=new Set;_.forEach(_n=>{De.f.getItems(_n.node).forEach(dn=>{M.has(dn)||(M.add(dn),dn.unlocked&&a++,l++)})});let Y=0,K=0,xe=0,Ve=0,Pt=0,Dt=0;const jt=_.at(-1);jt&&De.f.getItems(jt.node).forEach(_n=>{_n.unlocked&&Y++,K++,"Ultimate"===_n.group?(_n.unlocked&&Pt++,Dt++):(_n.unlocked&&xe++,Ve++)});const yn=a===l?"All items unlocked.":Y&&Y===K?"All items unlocked in most recent visit.":(xe||Dt)&&xe===Ve?"All free items unlocked.":void 0;return this.unlockedItems+=a,this.totalItems+=l,{...n,areaGuid:n.area?.guid,unlockedItems:a,totalItems:l,unlockedFree:xe,totalFree:Ve,unlockedPass:Pt,totalPass:Dt,unlockedLast:Y,totalLast:K,unlockTooltip:yn}})}sortDefault(){this.sortByDefault(),this.updateSortUrl("default"),this.initTable()}sortName(){this.sortByName(),this.updateSortUrl("name-asc"),this.initTable()}sortAge(n){this.sortByAge(n),this.updateSortUrl(n>0?"age-asc":"age-desc"),this.initTable()}sortByDefault(){this.spirits.sort((n,a)=>n._index-a._index)}sortByName(){this.spirits.sort((n,a)=>n.name.localeCompare(a.name))}sortByAge(n){const a=Do()("2019-1-1"),l=Do()("2999-1-1"),_=this.spirits.reduce((M,Y)=>{let K=Y.season?.date||Y.events?.at(-1)?.eventInstance?.date;switch(Y.type){case"Regular":case"Elder":K=a;break;case"Guide":case"Season":K=Y.season?.date;break;case"Event":K=Y.events?.at(0)?.eventInstance?.date}return M[Y.guid]=K??l,M},{});this.spirits.sort((M,Y)=>{const Ve=_[M.guid].diff(_[Y.guid]);return Ve?Ve*n:(M._index-Y._index)*n})}updateSortUrl(n){const a=new URL(location.href);a.searchParams.set("sort",n),history.replaceState(history.state,"",a.pathname+a.search)}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(Se.D),e.Y36(e.sBO),e.Y36(q.gz))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-spirits"]],decls:20,vars:2,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"h6","link",3,"click"],[1,"sky-card-body"],[1,"sky-flex","flex-wrap"],["type","button",3,"click"],["class","sky-card mt p-0",4,"ngIf"],["class","grid grid-4 mt",4,"ngIf"],["type",""],[1,"sky-card","mt","p-0"],[3,"rows"],[3,"appTableHeader"],[3,"appTableColumn"],[3,"appTableFooter","colspan","textAlign"],[3,"appTableFooter"],[3,"routerLink"],[3,"type"],["container","body","placement","left",3,"partial","completed","ngbTooltip",4,"ngIf"],["container","body","placement","left",3,"ngbTooltip"],[1,"grid","grid-4","mt"],["class","sky-card p-rel",4,"ngFor","ngForOf"],[1,"sky-card","p-rel"],[1,"h3","mb-0"],["class","p-rel item spirit-img",4,"ngIf"],[1,"mt","item","link",3,"routerLink"],[1,"menu-icon"],[1,"menu-label"],[1,"mt","p-rel","item"],[1,"d-inline-block","menu-label"],["container","body","placement","bottom",3,"partial","completed","ngbTooltip",4,"ngIf"],[1,"p-rel","item","spirit-img"],["loading","lazy",3,"src"],["container","body","placement","bottom",3,"ngbTooltip"],[3,"ngSwitch"],["container","body","placement","bottom",3,"svgIcon","ngbTooltip",4,"ngSwitchCase"],[4,"ngSwitchDefault"],["container","body","placement","bottom",3,"svgIcon","ngbTooltip"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3," Spirits "),e.TgZ(4,"a",3),e.NdJ("click",function(){return l.changeMode()}),e._uU(5,"Change view"),e.qZA()()(),e.TgZ(6,"div",4)(7,"div",5)(8,"button",6),e.NdJ("click",function(){return l.sortDefault()}),e._uU(9,"Default"),e.qZA(),e.TgZ(10,"button",6),e.NdJ("click",function(){return l.sortName()}),e._uU(11,"Alphabetical"),e.qZA(),e.TgZ(12,"button",6),e.NdJ("click",function(){return l.sortAge(1)}),e._uU(13,"Oldest first"),e.qZA(),e.TgZ(14,"button",6),e.NdJ("click",function(){return l.sortAge(-1)}),e._uU(15,"Newest first"),e.qZA()()()(),e.YNc(16,Vv,13,3,"div",7),e.YNc(17,zv,2,1,"div",8),e.YNc(18,Kd,6,5,"ng-template",null,9,e.W1O)),2&a&&(e.xp6(16),e.Q6J("ngIf","grid"===l.mode),e.xp6(1),e.Q6J("ngIf","cards"===l.mode))},dependencies:[Q.sg,Q.O5,Q.RF,Q.n9,Q.ED,q.rH,Uo,V.Hw,$s,Ua,Za,hc,ja],styles:[".partial[_ngcontent-%COMP%]{color:var(--color-old);font-weight:700}.completed[_ngcontent-%COMP%]{color:var(--color-new);font-weight:700}.spirit-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding:0 10px;width:auto;height:128px;max-height:128px}"],changeDetection:0})}return r})();function Jv(r,f){1&r&&e._uU(0,"#")}function Qv(r,f){}function Kv(r,f){1&r&&e._uU(0,"Spirit")}function Xv(r,f){1&r&&e._uU(0,"Date")}function Ys(r,f){1&r&&e._uU(0,"Visit")}function Xd(r,f){1&r&&e._uU(0,"Unlocked")}function e0(r,f){1&r&&e._uU(0),2&r&&e.hij(" ",f.row.number," ")}function Bp(r,f){if(1&r&&e._UZ(0,"app-icon",13),2&r){const n=e.oxw().row;e.Q6J("src",n.spirit.imageUrl)("width","auto")("lazy",!0)}}function t0(r,f){if(1&r&&(e.TgZ(0,"div",11),e.YNc(1,Bp,1,3,"app-icon",12),e.qZA()),2&r){const n=f.row;e.xp6(1),e.Q6J("ngIf",n.spirit.imageUrl)}}const Up=function(r){return["/spirit",r]},Zp=function(r){return{highlightTree:r}};function ou(r,f){if(1&r&&(e.TgZ(0,"a",14),e._uU(1),e.qZA()),2&r){const n=f.row;e.Q6J("routerLink",e.VKq(3,Up,n.spiritGuid))("queryParams",e.VKq(5,Zp,n.treeGuid)),e.xp6(1),e.hij(" ",n.spirit.name," ")}}function eh(r,f){if(1&r&&(e.TgZ(0,"span",15),e._uU(1),e.ALo(2,"dayjs"),e.qZA()),2&r){const n=f.row,a=e.oxw();e.xp6(1),e.Oqu(e.xi3(2,1,n.date,a.dateFormat))}}function ub(r,f){1&r&&e._uU(0),2&r&&e.hij(" ",f.row.visit," ")}function Hp(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const n=e.oxw().row;e.ekj("completed",n.unlockedItems===n.totalItems),e.xp6(1),e.AsE(" ",n.unlockedItems," / ",n.totalItems," ")}}function jp(r,f){1&r&&e.YNc(0,Hp,2,4,"span",16),2&r&&e.Q6J("ngIf",f.row.totalItems)}const zp=function(){return{href:"https://sky-children-of-the-light.fandom.com/wiki/Traveling_Spirits"}};let th=(()=>{class r{constructor(n){this._dataService=n,this.rows=[],this.dateFormat=ge.O.displayFormat,this.rows=this._dataService.travelingSpiritConfig.items.map(a=>{let l=0,_=0;return De.f.getItems(a.tree.node).forEach(M=>{M.unlocked&&l++,_++}),{...a,spiritGuid:a.spirit.guid,treeGuid:a.tree.guid,unlockedItems:l,totalItems:_}}).reverse()}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(Se.D))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-traveling-spirits"]],decls:21,vars:6,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card-body"],[3,"wiki"],[1,"sky-card","p-0","mt"],[3,"rows"],[3,"appTableHeader","fit"],[3,"appTableHeader","fit","textAlign"],[3,"appTableHeader"],[3,"appTableColumn"],[1,"sky-card","spirit-img","t-center"],[3,"src","width","lazy",4,"ngIf"],[3,"src","width","lazy"],[3,"routerLink","queryParams"],[1,"ws-nw"],[3,"completed",4,"ngIf"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Traveling Spirits"),e.qZA()(),e.TgZ(4,"div",3),e._UZ(5,"app-wiki-link",4),e.qZA()(),e.TgZ(6,"div",5)(7,"div",3)(8,"app-table",6),e.YNc(9,Jv,1,0,"ng-template",7),e.YNc(10,Qv,0,0,"ng-template",8),e.YNc(11,Kv,1,0,"ng-template",9),e.YNc(12,Xv,1,0,"ng-template",9),e.YNc(13,Ys,1,0,"ng-template",9),e.YNc(14,Xd,1,0,"ng-template",9),e.YNc(15,e0,1,1,"ng-template",10),e.YNc(16,t0,2,1,"ng-template",10),e.YNc(17,ou,2,7,"ng-template",10),e.YNc(18,eh,3,4,"ng-template",10),e.YNc(19,ub,1,1,"ng-template",10),e.YNc(20,jp,1,1,"ng-template",10),e.qZA()()()),2&a&&(e.xp6(5),e.Q6J("wiki",e.DdM(5,zp)),e.xp6(3),e.Q6J("rows",l.rows),e.xp6(1),e.Q6J("fit",!0),e.xp6(1),e.Q6J("fit",!0)("textAlign","center"))},dependencies:[Q.O5,q.rH,Vs,$s,Ua,Za,Dr,_s],styles:[".completed[_ngcontent-%COMP%]{color:var(--color-unlock-check)}.spirit-img[_ngcontent-%COMP%]{display:none}.spirit-img[_ngcontent-%COMP%]:not(:first-child){margin-left:var(--padding-content)}@media screen and (min-width: 992px){.spirit-img[_ngcontent-%COMP%]{display:inline-block;width:var(--item-size);height:var(--item-size)}}@media screen and (min-width: 1400px){.spirit-img[_ngcontent-%COMP%]{width:calc(2 * var(--item-size));height:calc(2 * var(--item-size))}}"]})}return r})();function ra(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const n=e.oxw(3).$implicit;e.xp6(1),e.Oqu(n.name)}}function n0(r,f){1&r&&(e.TgZ(0,"span"),e._uU(1,"Premium Candle Store"),e.qZA())}function o0(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const n=e.oxw(3).$implicit;let a;e.xp6(1),e.Oqu(null!==(a=n.name)&&void 0!==a?a:null==n.spirit?null:n.spirit.name)}}function nh(r,f){if(1&r&&(e.ynx(0),e._UZ(1,"mat-icon",20),e.TgZ(2,"span",14),e._uU(3),e.qZA(),e.BQk()),2&r){const n=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngbTooltip","Regular candles"),e.xp6(2),e.hij(" ",n.c," ")}}function r0(r,f){if(1&r&&(e.ynx(0),e._UZ(1,"mat-icon",21),e.TgZ(2,"span",14),e._uU(3),e.qZA(),e.BQk()),2&r){const n=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngbTooltip","Season candles"),e.xp6(2),e.hij(" ",n.sc," ")}}function $p(r,f){if(1&r&&(e.ynx(0),e._UZ(1,"mat-icon",22),e.TgZ(2,"span",14),e._uU(3),e.qZA(),e.BQk()),2&r){const n=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngbTooltip","Gift Season Pass"),e.xp6(2),e.hij(" ",n.sp," ")}}function s0(r,f){if(1&r&&(e.TgZ(0,"div",15),e.YNc(1,nh,4,2,"ng-container",8),e.YNc(2,r0,4,2,"ng-container",8),e.YNc(3,$p,4,2,"ng-container",8),e.qZA()),2&r){const n=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",n.c),e.xp6(1),e.Q6J("ngIf",n.sc),e.xp6(1),e.Q6J("ngIf",n.sp)}}function ru(r,f){if(1&r&&(e.ynx(0),e.TgZ(1,"span",27),e._uU(2),e.qZA(),e.BQk()),2&r){const n=e.oxw(2).$implicit;e.xp6(2),e.Oqu(n.name)}}function al(r,f){if(1&r&&e.YNc(0,ru,3,1,"ng-container",8),2&r){const n=e.oxw().$implicit;e.Q6J("ngIf",n)}}function Gp(r,f){if(1&r){const n=e.EpF();e.TgZ(0,"div",23),e.NdJ("click",function(l){e.CHM(n);const _=e.oxw().$implicit,M=e.oxw(4);return e.KtG(M.togglePurchased(l,_))}),e._UZ(1,"app-item",24),e.TgZ(2,"mat-icon",25),e._uU(3,"done"),e.qZA(),e.YNc(4,al,1,1,"ng-template",null,26,e.W1O),e.qZA()}if(2&r){const n=f.$implicit,a=e.MAs(5),l=e.oxw().$implicit;e.xp6(1),e.Q6J("item",n)("ngbTooltip",a),e.xp6(1),e.ekj("unlocked",null==n?null:n.unlocked)("self",l.bought)}}function su(r,f){if(1&r&&(e.TgZ(0,"div",10)(1,"div",1)(2,"h3",11),e._uU(3),e.qZA()(),e.TgZ(4,"div",3)(5,"div",12)(6,"mat-icon",13),e._uU(7,"location_on"),e.qZA(),e.TgZ(8,"span",14),e.YNc(9,ra,2,1,"span",8),e.YNc(10,n0,2,0,"span",8),e.YNc(11,o0,2,1,"span",8),e.qZA()(),e.TgZ(12,"div",15)(13,"mat-icon",13),e._uU(14,"attach_money"),e.qZA(),e.TgZ(15,"span",16),e._uU(16),e.qZA()(),e.YNc(17,s0,4,3,"div",17),e.TgZ(18,"div",18),e.YNc(19,Gp,6,6,"div",19),e.qZA()()()),2&r){const n=f.$implicit,a=e.oxw(2).$implicit,l=e.oxw(2);e.ekj("highlight",n.guid===l.highlightIap),e.xp6(2),e.Q6J("ngbTooltip",n.name),e.xp6(1),e.hij(" ",n.name," "),e.xp6(6),e.Q6J("ngIf",a.name),e.xp6(1),e.Q6J("ngIf",!a.name&&"Store"===a.type),e.xp6(1),e.Q6J("ngIf",!a.name&&"Store"!==a.type),e.xp6(4),e.Q6J("ngbTooltip","Price of the IAP in USD."),e.xp6(1),e.hij(" ",n.price," "),e.xp6(1),e.Q6J("ngIf",n.c||n.sc||n.sp),e.xp6(2),e.Q6J("ngForOf",n.items)}}function db(r,f){if(1&r&&(e.ynx(0),e.YNc(1,su,20,11,"div",9),e.BQk()),2&r){const n=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",n.iaps)}}function a0(r,f){if(1&r&&(e.ynx(0),e.YNc(1,db,2,1,"ng-container",8),e.BQk()),2&r){const n=f.$implicit;e.xp6(1),e.Q6J("ngIf",null==n.iaps?null:n.iaps.length)}}function Yp(r,f){if(1&r&&(e.TgZ(0,"div",6),e.YNc(1,a0,2,1,"ng-container",7),e.qZA()),2&r){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.shops)}}const c0=function(){return{href:"https://sky-children-of-the-light.fandom.com/wiki/Premium_Candle_Shop"}};let l0=(()=>{class r{constructor(n,a,l){this._dataService=n,this._iapService=a,this.shops=this._dataService.shopConfig.items.filter(_=>_.permanent),l.queryParamMap.subscribe(_=>this.onQueryChanged(_))}onQueryChanged(n){this.highlightIap=n.get("highlightIap")||void 0}togglePurchased(n,a){this._iapService.togglePurchased(a)}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(Se.D),e.Y36(nt),e.Y36(q.gz))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-shops"]],decls:7,vars:3,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card-body"],[3,"wiki"],["class","grid grid-4 mt",4,"ngIf"],[1,"grid","grid-4","mt"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","sky-card p-rel",3,"highlight",4,"ngFor","ngForOf"],[1,"sky-card","p-rel"],["container","body",1,"h4","mb-0",3,"ngbTooltip"],[1,"item"],[1,"menu-icon"],[1,"menu-label"],[1,"item","mt-half"],["container","body",1,"menu-label",3,"ngbTooltip"],["class","item mt-half",4,"ngIf"],[1,"item","iap-items","mt-half"],["class","iap-item point d-inline-block p-rel",3,"click",4,"ngFor","ngForOf"],["svgIcon","candle","container","body","placement","right",1,"menu-icon",3,"ngbTooltip"],["svgIcon","season-candle","container","body","placement","right",1,"menu-icon",3,"ngbTooltip"],["svgIcon","gift","container","body","placement","right",1,"menu-icon","seasonal",3,"ngbTooltip"],[1,"iap-item","point","d-inline-block","p-rel",3,"click"],["placement","bottom","container","body",3,"item","ngbTooltip"],[1,"unlock-check"],["itemHover",""],[1,"ws-nw"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Permanent In-App Purchases"),e.qZA()(),e.TgZ(4,"div",3),e._UZ(5,"app-wiki-link",4),e.qZA()(),e.YNc(6,Yp,2,1,"div",5)),2&a&&(e.xp6(5),e.Q6J("wiki",e.DdM(2,c0)),e.xp6(1),e.Q6J("ngIf",null==l.shops?null:l.shops.length))},dependencies:[Q.sg,Q.O5,Uo,V.Hw,uc,Dr]})}return r})();function Wp(r,f){1&r&&e._uU(0,"Spirit")}function Jp(r,f){1&r&&e._uU(0,"Type")}function cl(r,f){1&r&&e._uU(0,"Origin")}function u0(r,f){1&r&&e._uU(0,"Unlocked")}const Qp=function(r){return["/spirit",r]};function Kp(r,f){if(1&r&&(e.TgZ(0,"a",12),e._uU(1),e.qZA()),2&r){const n=f.row;e.Q6J("routerLink",e.VKq(2,Qp,n.guid)),e.xp6(1),e.hij(" ",n.name," ")}}function d0(r,f){1&r&&e._UZ(0,"app-spirit-type-icon",13),2&r&&e.Q6J("type",f.row.type)}const h0=function(r){return["/season",r]};function ll(r,f){if(1&r&&(e.TgZ(0,"a",12),e._uU(1),e.qZA()),2&r){const n=e.oxw().row;e.Q6J("routerLink",e.VKq(2,h0,n.season.guid)),e.xp6(1),e.Oqu(n.season.name)}}const f0=function(r){return["/realm",r]};function p0(r,f){if(1&r&&(e.TgZ(0,"a",12),e._uU(1),e.qZA()),2&r){const n=e.oxw().row;e.Q6J("routerLink",e.VKq(2,f0,n.area.realm.guid)),e.xp6(1),e.Oqu(n.area.realm.name)}}function g0(r,f){if(1&r&&(e.YNc(0,ll,2,4,"a",14),e.YNc(1,p0,2,4,"a",14)),2&r){const n=f.row;e.Q6J("ngIf",n.season),e.xp6(1),e.Q6J("ngIf","Regular"===n.type)}}function m0(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const n=f.row;e.ekj("completed",n.unlocked===n.total),e.xp6(1),e.AsE(" ",n.unlocked," / ",n.total," ")}}function _0(r,f){1&r&&e._uU(0,"Total:")}function v0(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const n=e.oxw();e.ekj("completed",n.unlocked===n.total),e.xp6(1),e.AsE("",n.unlocked," / ",n.total,"")}}const b0=function(){return{href:"https://sky-children-of-the-light.fandom.com/wiki/Wing_Buffs"}};let Xp=(()=>{class r{constructor(n){this._dataService=n,this.unlocked=0,this.total=0}ngOnInit(){const n=new Set;for(const Y of this._dataService.itemConfig.items.filter(K=>K.type===rn.q.WingBuff))n.add(Y),Y.unlocked&&this.unlocked++,this.total++;const a=new Set,l=new Set,_=new Map;for(const Y of n){if(!Y.nodes?.length)continue;const xe=De.f.getRoot(Y.nodes[0]).spiritTree;let Ve,Pt=!1;if(xe?.spirit?Ve=xe.spirit:xe?.ts?(Ve=xe.ts.spirit,Pt=!0):xe?.visit&&(Ve=xe.visit.spirit,Pt=!0),Ve){_.has(Ve.guid)||_.set(Ve.guid,{unlocked:0,total:0});const Dt=_.get(Ve.guid);Dt.total++,Y.unlocked&&Dt.unlocked++,Pt?l.add(Ve):a.add(Ve)}}const M=Array.from(a).concat(Array.from(l));this.rows=M.map(Y=>{const K=_.get(Y.guid);return{...Y,...K}})}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(Se.D))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-wing-buffs"]],decls:29,vars:11,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card-body"],[3,"wiki"],[1,"sky-card","mt"],[3,"rows"],[3,"appTableHeader"],[3,"appTableColumn"],[3,"appTableFooter","colspan","textAlign"],[3,"appTableFooter"],[1,"mt"],[3,"routerLink"],[3,"type"],[3,"routerLink",4,"ngIf"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Wing Buffs"),e.qZA()(),e.TgZ(4,"div",3),e._UZ(5,"app-wiki-link",4),e.qZA()(),e.TgZ(6,"div",5)(7,"div",1)(8,"div"),e._uU(9,"You have unlocked "),e.TgZ(10,"b"),e._uU(11),e.qZA(),e._uU(12," out of "),e.TgZ(13,"b"),e._uU(14),e.qZA(),e._uU(15," wing buffs."),e.qZA()(),e.TgZ(16,"div",3)(17,"app-table",6),e.YNc(18,Wp,1,0,"ng-template",7),e.YNc(19,Jp,1,0,"ng-template",7),e.YNc(20,cl,1,0,"ng-template",7),e.YNc(21,u0,1,0,"ng-template",7),e.YNc(22,Kp,2,4,"ng-template",8),e.YNc(23,d0,1,1,"ng-template",8),e.YNc(24,g0,2,2,"ng-template",8),e.YNc(25,m0,2,4,"ng-template",8),e.YNc(26,_0,1,0,"ng-template",9),e.YNc(27,v0,2,4,"ng-template",10),e.qZA()()(),e._UZ(28,"div",11)),2&a&&(e.xp6(5),e.Q6J("wiki",e.DdM(10,b0)),e.xp6(5),e.ekj("completed",l.unlocked===l.total),e.xp6(1),e.Oqu(l.unlocked),e.xp6(2),e.ekj("completed",l.unlocked===l.total),e.xp6(1),e.Oqu(l.total),e.xp6(3),e.Q6J("rows",l.rows),e.xp6(9),e.Q6J("colspan",3)("textAlign","right"))},dependencies:[Q.O5,q.rH,$s,Ua,Za,hc,ja,Dr],styles:[".completed[_ngcontent-%COMP%]{color:var(--color-new);font-weight:700}"]})}return r})(),au=(()=>{class r{get theme(){return this._theme}init(){const n=localStorage.getItem("theme")||"";this.set(n)}set(n){this._theme=n||"",n?document.body.dataset.theme=n:delete document.body.dataset.theme,localStorage.setItem("theme",n||"")}static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function D0(r,f){if(1&r){const n=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){const _=e.CHM(n).$implicit,M=e.oxw();return e.KtG(M.setDateFormat(_))}),e._uU(1),e.ALo(2,"lowercase"),e.qZA()}if(2&r){const n=f.$implicit,a=e.oxw();e.ekj("highlight",a.dateFormat===n),e.xp6(1),e.hij(" ",e.lcZ(2,3,n)," ")}}let cu=(()=>{class r{constructor(n,a,l,_){this._dataService=n,this._settingService=a,this._storageService=l,this._themeService=_,this.today=Do()(),this.wikiNewTab=!1,this.unlockedCount=this._storageService.unlocked.size,this.dateFormats=ge.O.displayFormats,this.dateFormat=ge.O.displayFormat,this.currentTheme=this._themeService.theme||"sky",this.wikiNewTab=a.wikiNewTab}export(){const n=this._storageService.serializeUnlocked(),a=this._storageService.serializeUnlockedCol(),_=JSON.stringify({unlocked:n,unlockedCol:a});let M="";try{const Y=new Blob([_],{type:"application/json"});M=URL.createObjectURL(Y);const K=document.createElement("a");K.href=M,K.download=`SkyPlanner_${Do()().format("YYYY-MM-DD")}.json`,document.body.appendChild(K),K.click(),document.body.removeChild(K)}finally{URL.revokeObjectURL(M)}}import(){const n=document.createElement("input");n.type="file",n.accept="application/json",n.onchange=a=>{const l=a.target.files?.[0];if(!l)return;const _=new FileReader;_.onload=M=>{try{const Y=JSON.parse(_.result);this.handleImportJson(Y)}catch(Y){console.error(Y),alert("Failed to parse file. If the selected file was exported by Sky Planner, please report this.")}},_.onerror=M=>{console.error(M),alert("Failed to read file. If the selected file was exported by Sky Planner, please report this.")},_.readAsText(l)},n.click()}handleImportJson(n){if(!n)throw new Error("No content.");if("string"!=typeof n.unlocked)throw new Error("No unlocked data.");const a=n.unlocked.split(","),l=n.unlockedCol?.split(",")||[];confirm(`You're about to overwrite your current data with ${a.length} entries. This cannot be undone. Are you sure?`)&&(this._storageService.unlocked.clear(),this._storageService.add(...a),this._storageService.save(),this._storageService.unlockedCol.clear(),this._storageService.addCol(...l),this._storageService.saveCol(),this._dataService.reloadUnlocked(),this.unlockedCount=this._storageService.unlocked.size)}clear(){confirm("You're about to clear all your data. This cannot be undone. Are you sure?")&&(this._storageService.unlocked.clear(),this._storageService.save(),this._storageService.unlockedCol.clear(),this._storageService.saveCol(),this._dataService.reloadUnlocked(),this.unlockedCount=0)}setTheme(n){this._themeService.set(n),this.currentTheme=this._themeService.theme||"sky"}setDateFormat(n){this.dateFormat=n,ge.O.displayFormat=n,localStorage.setItem("date.format",n)}toggleWikiTab(){this.wikiNewTab=!this.wikiNewTab,this._settingService.wikiNewTab=this.wikiNewTab}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(Se.D),e.Y36(_a),e.Y36(et.V),e.Y36(au))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-settings"]],decls:60,vars:13,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card","mt"],[1,"h3","mb-0"],[1,"sky-card-body"],[1,"container","ws-pl"],[1,"sky-flex","flex-wrap","mt"],["type","button",1,"item",3,"click"],[1,"c-accent"],["type","button",1,"item","clear-data",3,"click"],["type","button","data-theme","sky",1,"item","btn-sky",3,"click"],["type","button","data-theme","light",1,"item",3,"click"],["type","button","data-theme","dark",1,"item",3,"click"],["type","button","class","item ws-nw",3,"highlight","click",4,"ngFor","ngForOf"],[1,"h3"],[1,"container","wiki-toggle-tab",3,"click"],[1,"menu-icon"],[1,"menu-label"],["type","button",1,"item","ws-nw",3,"click"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Settings"),e.qZA()()(),e.TgZ(4,"div",3)(5,"div",1)(6,"h2",4)(7,"mat-icon"),e._uU(8,"swap_horiz"),e.qZA(),e._uU(9," Import / Export "),e.qZA()(),e.TgZ(10,"div",5)(11,"div",6),e._uU(12," Import or export your progression. The exported file serves as a backup of all your unlocked items in Sky Planner. "),e.TgZ(13,"div",7)(14,"button",8),e.NdJ("click",function(){return l.import()}),e._uU(15," Import data "),e.qZA(),e.TgZ(16,"button",8),e.NdJ("click",function(){return l.export()}),e._uU(17," Export data "),e.TgZ(18,"span",9),e._uU(19),e.qZA()(),e.TgZ(20,"button",10),e.NdJ("click",function(){return l.clear()}),e._uU(21," Clear data "),e.qZA()()()()(),e.TgZ(22,"div",3)(23,"div",1)(24,"h2",4)(25,"mat-icon"),e._uU(26,"color_lens"),e.qZA(),e._uU(27," Theme "),e.qZA()(),e.TgZ(28,"div",5)(29,"div",6),e._uU(30," Change the theme of the website. "),e.TgZ(31,"div",7)(32,"button",11),e.NdJ("click",function(){return l.setTheme("")}),e._uU(33," Sky "),e.qZA(),e.TgZ(34,"button",12),e.NdJ("click",function(){return l.setTheme("light")}),e._uU(35," Light "),e.qZA(),e.TgZ(36,"button",13),e.NdJ("click",function(){return l.setTheme("dark")}),e._uU(37," Dark "),e.qZA()()()()(),e.TgZ(38,"div",3)(39,"div",1)(40,"h2",4)(41,"mat-icon"),e._uU(42,"date_range"),e.qZA(),e._uU(43," Date "),e.qZA()(),e.TgZ(44,"div",5)(45,"div",6),e._uU(46),e.ALo(47,"dayjs"),e.TgZ(48,"div",7),e.YNc(49,D0,3,5,"button",14),e.qZA()()(),e.TgZ(50,"div",3)(51,"div",1)(52,"h2",15),e._uU(53,"Wiki"),e.qZA()(),e.TgZ(54,"div",5)(55,"div",16),e.NdJ("click",function(){return l.toggleWikiTab()}),e.TgZ(56,"mat-icon",17),e._uU(57),e.qZA(),e.TgZ(58,"span",18),e._uU(59,"Navigate to wiki in new tab"),e.qZA()()()()()),2&a&&(e.xp6(19),e.hij("(",l.unlockedCount,")"),e.xp6(13),e.ekj("highlight","sky"===l.currentTheme),e.xp6(2),e.ekj("highlight","light"===l.currentTheme),e.xp6(2),e.ekj("highlight","dark"===l.currentTheme),e.xp6(10),e.hij(" Change the date displayed in the application. Today's date is ",e.xi3(47,10,l.today,l.dateFormat),". "),e.xp6(3),e.Q6J("ngForOf",l.dateFormats),e.xp6(8),e.Oqu(l.wikiNewTab?"check_box":"check_box_outline_blank"))},dependencies:[Q.sg,V.Hw,Q.i8,_s],styles:[".clear-data[_ngcontent-%COMP%]{color:var(--color-danger);background:var(--color-danger-background);border-color:var(--color-danger-accent)}.clear-data[_ngcontent-%COMP%]:hover{background:var(--color-danger-accent)}.small[_ngcontent-%COMP%]{font-size:8px;line-height:8px}.btn-sky[_ngcontent-%COMP%]{color:#fff!important;background:#50b6d8!important}.wiki-toggle-tab[_ngcontent-%COMP%]{cursor:pointer}.wiki-toggle-tab[_ngcontent-%COMP%]:hover{color:var(--color-link-hover)}"]})}return r})();var C0=S(7198),ks=S.n(C0);let w0=(()=>{class r{getMap(){return this._map||(this._map=this.initialize()),this._map}attach(n){return this._div?(n.appendChild(this._div),this._map?.invalidateSize(),this._map?.setView([-270,270],1,{animate:!1,duration:0}),this._map):this._map}detach(){document.body.appendChild(this._div),this._map?.closePopup(),this._map?.invalidateSize(),this.enable()}enable(){this._map&&(this._map.scrollWheelZoom.enable(),this._map.doubleClickZoom.enable(),this._map.boxZoom.enable(),this._map.keyboard.enable(),this._map.touchZoom.enable(),this._map.dragging.enable())}disable(){this._map&&(this._zoom?.remove(),this._map.scrollWheelZoom.disable(),this._map.doubleClickZoom.disable(),this._map.boxZoom.disable(),this._map.keyboard.disable(),this._map.touchZoom.disable(),this._map.dragging.disable())}initialize(){if(this._map)return this._map;this._div=document.createElement("div"),this._div.classList.add("map"),document.body.appendChild(this._div);const n=ks().map(this._div,{attributionControl:!1,crs:ks().CRS.Simple,minZoom:0,maxZoom:3,center:[-270,270],maxBounds:[[100,-100],[-640,640]],zoomControl:!1}).setView([-270,270],1);ks().tileLayer("assets/game/map/{z}/{x}_{y}.webp",{tileSize:540,bounds:[[0,0],[-540,540]]}).addTo(n),this._zoom=ks().control.zoom({position:"bottomright"}),this._zoom.addTo(n);const a=document.cookie.split(";").find(_=>_.includes("mapcopy="))?.split("=")[1];return void 0!==a&&n.on("click",_=>{console.log(_),navigator.clipboard.writeText(a+JSON.stringify([+_.latlng.lat.toFixed(2),+_.latlng.lng.toFixed(2)]))}),window.map=n,console.log("Map initialized as %cwindow.map%c.","color:cyan;",""),n}static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),lu=(()=>{class r{constructor(n){this._mapService=n,this._groups={},this._funcs=new Array,this._map=this._mapService.getMap()}attach(n){return this._mapService.attach(n)}on(n,a){this._funcs.push([n,a]),this._map.on(n,a)}centerMap(n=1){this._map.flyTo([-270,270],n,{animate:!1,duration:0})}createLayerGroup(n,a=!0){return this._groups[n]?.remove(),this._groups[n]=ks().layerGroup(),a&&this._mapService.getMap().addLayer(this._groups[n]),this._groups[n]}getLayerGroup(n){return this._groups[n]}ngOnDestroy(){Object.values(this._groups).forEach(n=>n.remove()),this._funcs.forEach(n=>{this._map.off(n[0],n[1])}),this._mapService.detach()}static#e=this.\u0275fac=function(a){return new(a||r)(e.LFG(w0))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac})}return r})();const E0=["mapContainer"],ih=function(){return["/spirit"]},eg=function(r){return{type:"Regular,Elder",realm:r}};function tg(r,f){if(1&r&&(e.TgZ(0,"a",13),e._UZ(1,"app-spirit-type-icon",14),e.TgZ(2,"span",15),e._uU(3," Spirits\xa0"),e.TgZ(4,"span",16),e._uU(5),e.qZA()()()),2&r){const n=e.oxw();e.ekj("colspan-2",!n.seasonSpiritCount),e.Q6J("routerLink",e.DdM(6,ih))("queryParams",e.VKq(7,eg,n.realm.guid)),e.xp6(1),e.Q6J("type","Regular"),e.xp6(4),e.hij("(",n.spirits.length,")")}}const T0=function(r){return{type:"Season,Guide",realm:r}};function fb(r,f){if(1&r&&(e.TgZ(0,"a",13),e._UZ(1,"app-spirit-type-icon",14),e.TgZ(2,"span",15),e._uU(3," Season Spirits\xa0"),e.TgZ(4,"span",16),e._uU(5),e.qZA()()()),2&r){const n=e.oxw();e.ekj("colspan-2",!n.spirits.length),e.Q6J("routerLink",e.DdM(6,ih))("queryParams",e.VKq(7,T0,n.realm.guid)),e.xp6(1),e.Q6J("type","Season"),e.xp6(4),e.hij("(",n.seasonSpiritCount,")")}}function ng(r,f){if(1&r){const n=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(n);const l=e.oxw();return e.KtG(l.mapToggleAreas())}),e.TgZ(1,"mat-icon"),e._uU(2,"location_on"),e.qZA()()}if(2&r){const n=e.oxw();e.ekj("button-areas-off",!n.showAreas),e.Q6J("ngbTooltip","Show areas")}}const ig=function(r){return["/spirit",r]},pb=function(r){return{highlightTree:r}};function uu(r,f){if(1&r&&(e.TgZ(0,"div",24)(1,"app-spirit-tree",25)(2,"div",26)(3,"a",27),e._uU(4),e.qZA()()()()),2&r){const n=e.oxw().$implicit,a=e.oxw(2);e.xp6(1),e.Q6J("tree",n.tree)("name",n.name)("highlight",a.highlightTree===n.tree.guid),e.xp6(2),e.Q6J("routerLink",e.VKq(6,ig,n.guid))("queryParams",e.VKq(8,pb,n.tree.guid)),e.xp6(1),e.hij(" ",n.name," ")}}function M0(r,f){if(1&r&&(e.ynx(0),e.YNc(1,uu,5,10,"div",23),e.BQk()),2&r){const n=f.$implicit;e.xp6(1),e.Q6J("ngIf",n.tree)}}function S0(r,f){if(1&r&&(e.TgZ(0,"div",18)(1,"div",2)(2,"h2",19),e._uU(3,"Spirit Trees"),e.qZA()(),e.TgZ(4,"div",20)(5,"div",21),e.YNc(6,M0,2,1,"ng-container",22),e.qZA()()()),2&r){const n=e.oxw();e.xp6(6),e.Q6J("ngForOf",n.spirits)}}let oh=(()=>{class r{constructor(n,a,l){this._dataService=n,this._mapInstanceService=a,this._route=l,this.spirits=[],this.seasonSpiritCount=0,this.hasAreaData=!1,this.showAreas=!1,l.queryParamMap.subscribe(_=>this.onQueryChanged(_)),l.paramMap.subscribe(_=>this.onParamsChanged(_))}ngAfterViewInit(){this.map=this._mapInstanceService.attach(this.mapContainer.nativeElement),this.drawMap(),this.panToRealm(!0)}onQueryChanged(n){this.highlightTree=n.get("highlightTree")||void 0}onParamsChanged(n){const a=n.get("guid");this.initializeRealm(a)}panToRealm(n=!1){this.realm?.mapData?.position&&this.map.flyTo(this.realm.mapData.position,this.realm.mapData.zoom??1,n?{animate:!1,duration:0}:void 0)}mapToggleAreas(){this.showAreas=!this.showAreas;const n=this._mapInstanceService.getLayerGroup("area");this.showAreas?n?.addTo(this.map):n?.remove()}initializeRealm(n){this.realm=this._dataService.guidMap.get(n),this.spirits=[],this.seasonSpiritCount=0,this.realm?.areas?.forEach(a=>{a.spirits?.forEach(l=>{"Regular"===l.type||"Elder"===l.type?this.spirits.push(l):"Season"===l.type&&this.seasonSpiritCount++})}),this.map&&(this.drawMap(),this.panToRealm(!0))}drawMap(){const n=this.realm.mapData||{},a=this._mapInstanceService.createLayerGroup("boundary"),l=this._mapInstanceService.createLayerGroup("area");if(l.remove(),n.boundary){const M=ks().polygon(n.boundary,{color:n.boundaryColor||"#0ff",weight:1,fillOpacity:.05});a.addLayer(M)}const _=ks().icon({iconUrl:"assets/icons/symbols/location_on.svg",iconSize:[24,24],popupAnchor:[0,-12]});this.hasAreaData=this.realm?.areas?.filter(M=>M.mapData?.position).length>0,this.realm?.areas?.forEach(M=>{if(!M.mapData?.position)return;const Y=ks().marker(M.mapData.position,{icon:_});Y.bindPopup(this.createAreaPopup(M),{}),l.addLayer(Y)})}createAreaPopup(n){return n.name}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(Se.D),e.Y36(lu),e.Y36(q.gz))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-realm"]],viewQuery:function(a,l){if(1&a&&e.Gf(E0,7),2&a){let _;e.iGM(_=e.CRH())&&(l.mapContainer=_.first)}},features:[e._Bn([lu])],decls:17,vars:8,consts:[[1,"realm-info-flex"],[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card-body"],[1,"grid","grid-1"],[3,"wiki","aClass"],["class","container",3,"colspan-2","routerLink","queryParams",4,"ngIf"],[1,"map-container"],["mapContainer",""],["type","button","class","map-control map-control-tl","container","body","placement","right",3,"button-areas-off","ngbTooltip","click",4,"ngIf"],["type","button","container","body","placement","right",1,"map-control","map-control-bl",3,"ngbTooltip","click"],["class","sky-card mt",4,"ngIf"],[1,"container",3,"routerLink","queryParams"],[1,"menu-icon",3,"type"],[1,"menu-label"],[1,"c-accent"],["type","button","container","body","placement","right",1,"map-control","map-control-tl",3,"ngbTooltip","click"],[1,"sky-card","mt"],[1,"h3"],[1,"sky-card-body","pad-0"],[1,"sky-flex","scroll-x","pad"],[4,"ngFor","ngForOf"],["class","tree-wrapper",4,"ngIf"],[1,"tree-wrapper"],[3,"tree","name","highlight"],["name",""],[3,"routerLink","queryParams"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._uU(4),e.qZA()(),e.TgZ(5,"div",4)(6,"div",5),e._UZ(7,"app-wiki-link",6),e.YNc(8,tg,6,9,"a",7),e.YNc(9,fb,6,9,"a",7),e.qZA()()(),e.TgZ(10,"div",8,9),e.YNc(12,ng,3,3,"button",10),e.TgZ(13,"button",11),e.NdJ("click",function(){return l.panToRealm()}),e.TgZ(14,"mat-icon"),e._uU(15,"center_focus_weak"),e.qZA()()()(),e.YNc(16,S0,7,1,"div",12)),2&a&&(e.xp6(4),e.Oqu(l.realm.name),e.xp6(3),e.Q6J("wiki",l.realm._wiki)("aClass","container colspan-2"),e.xp6(1),e.Q6J("ngIf",l.spirits.length),e.xp6(1),e.Q6J("ngIf",l.seasonSpiritCount),e.xp6(3),e.Q6J("ngIf",l.hasAreaData),e.xp6(1),e.Q6J("ngbTooltip","Center map"),e.xp6(3),e.Q6J("ngIf",null==l.spirits?null:l.spirits.length))},dependencies:[Q.sg,Q.O5,q.rH,Uo,V.Hw,La,ja,Dr],styles:["app-spirit-tree[_ngcontent-%COMP%]{vertical-align:bottom}.tree-wrapper[_ngcontent-%COMP%]{display:inline-block}.map-container[_ngcontent-%COMP%]{position:relative}.map-container[_ngcontent-%COMP%]     .map{height:240px}.map-control[_ngcontent-%COMP%]{position:absolute;z-index:9999;padding:var(--padding-content);color:var(--color-map-tooltip);background:var(--color-map-tooltip-background);border-radius:var(--border-radius);width:32px;height:32px}.map-control[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;bottom:3px;left:3px}.button-areas-off[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{opacity:.5}.map-control-tl[_ngcontent-%COMP%]{top:var(--padding-content);left:var(--padding-content)}.map-control-bl[_ngcontent-%COMP%]{bottom:var(--padding-content);left:var(--padding-content)}.realm-info-flex[_ngcontent-%COMP%]{display:grid;gap:8px;grid-template-columns:1fr}.realm-info-flex[_ngcontent-%COMP%]   .map-container[_ngcontent-%COMP%]{min-height:240px}@media screen and (min-width: 992px){.realm-info-flex[_ngcontent-%COMP%]{grid-template-columns:1fr 400px}}"]})}return r})();var og=S(5267);let Gr=(()=>{class r{constructor(n){this._dataService=n,this._default="Sky Planner"}resolve(n,a){const l=n.paramMap.get("guid");return l?new be.y(_=>{this._dataService.onData.pipe((0,og.P)()).subscribe({next:()=>{const M=this._dataService.guidMap.get(l);_.next("string"==typeof M?.name?`${M.name} - ${this._default}`:this._default),_.complete()},error:()=>{_.next(this._default),_.complete()}})}):""}static#e=this.\u0275fac=function(a){return new(a||r)(e.LFG(Se.D))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),ul=(()=>{class r{constructor(n){this._dataService=n,this._default="Sky Planner"}resolve(n,a){const l=n.paramMap.get("guid");return l?new be.y(_=>{this._dataService.onData.pipe((0,og.P)()).subscribe({next:()=>{const M=this._dataService.guidMap.get(l);_.next("string"==typeof M?.event?.name?`${M.event.name} - ${this._default}`:this._default),_.complete()},error:()=>{_.next(this._default),_.complete()}})}):""}static#e=this.\u0275fac=function(a){return new(a||r)(e.LFG(Se.D))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Cr(r,f){1&r&&e._uU(0,"Name")}function Va(r,f){1&r&&e._uU(0,"Spirits")}function du(r,f){1&r&&e._uU(0,"Start")}function vs(r,f){1&r&&e._uU(0,"End")}function rh(r,f){1&r&&e._uU(0,"Unlocked")}const Dc=function(r){return["/rs",r]};function Cc(r,f){if(1&r&&(e.TgZ(0,"a",10),e._uU(1),e.qZA()),2&r){const n=f.row;e.Q6J("routerLink",e.VKq(2,Dc,n.guid)),e.xp6(1),e.hij(" ",n.name," ")}}function wc(r,f){if(1&r&&e._UZ(0,"app-icon",15),2&r){const n=e.oxw().$implicit;e.Q6J("src",n.spirit.imageUrl)("width","auto")("lazy",!0)}}const Ec=function(r){return["/spirit",r]},Tc=function(r){return{highlightTree:r}};function Mc(r,f){if(1&r&&(e.TgZ(0,"a",13),e.YNc(1,wc,1,3,"app-icon",14),e.qZA()),2&r){const n=f.$implicit;e.Q6J("routerLink",e.VKq(4,Ec,n.spirit.guid))("queryParams",e.VKq(6,Tc,n.tree.guid))("ngbTooltip",n.spirit.name),e.xp6(1),e.Q6J("ngIf",n.spirit.imageUrl)}}function Sc(r,f){if(1&r&&(e.YNc(0,Mc,2,8,"a",11),e.TgZ(1,"div",12),e._uU(2),e.qZA()),2&r){const n=f.row;e.Q6J("ngForOf",n.spirits),e.xp6(2),e.hij(" ",(null==n.spirits?null:n.spirits.length)||0," ")}}function Ac(r,f){if(1&r&&(e.TgZ(0,"span",16),e._uU(1),e.ALo(2,"dayjs"),e.qZA()),2&r){const n=f.row,a=e.oxw();e.xp6(1),e.Oqu(e.xi3(2,1,n.date,a.dateFormat))}}function xc(r,f){if(1&r&&(e.TgZ(0,"span",16),e._uU(1),e.ALo(2,"dayjs"),e.qZA()),2&r){const n=f.row,a=e.oxw();e.xp6(1),e.Oqu(e.xi3(2,1,n.endDate,a.dateFormat))}}function rg(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const n=e.oxw().row;e.ekj("completed",n.unlockedItems===n.totalItems),e.xp6(1),e.AsE(" ",n.unlockedItems," / ",n.totalItems," ")}}function sg(r,f){1&r&&e.YNc(0,rg,2,4,"span",17),2&r&&e.Q6J("ngIf",f.row.totalItems)}const cg=function(){return{href:"https://sky-children-of-the-light.fandom.com/wiki/Returning_Spirits"}};let lg=(()=>{class r{constructor(n){this._dataService=n,this.rows=[],this.dateFormat=ge.O.displayFormat,this.rows=this._dataService.returningSpiritsConfig.items.map(a=>{let l=0,_=0;return a.spirits.forEach(M=>{De.f.getItems(M.tree.node).forEach(Y=>{Y.unlocked&&l++,_++})}),{...a,spiritGuids:a.spirits.map(M=>M.guid),unlockedItems:l,totalItems:_}}).reverse()}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(Se.D))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-returning-spirits"]],decls:19,vars:4,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card-body"],[3,"wiki"],[1,"sky-card","p-0","mt"],[3,"rows"],[3,"appTableHeader"],[3,"appTableColumn"],[3,"appTableColumn","tdClass"],[3,"routerLink"],["class","sky-card spirit-img t-center","container","body","placement","bottom",3,"routerLink","queryParams","ngbTooltip",4,"ngFor","ngForOf"],[1,"spirit-count"],["container","body","placement","bottom",1,"sky-card","spirit-img","t-center",3,"routerLink","queryParams","ngbTooltip"],[3,"src","width","lazy",4,"ngIf"],[3,"src","width","lazy"],[1,"ws-nw"],[3,"completed",4,"ngIf"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Special Visits"),e.qZA()(),e.TgZ(4,"div",3),e._UZ(5,"app-wiki-link",4),e.qZA()(),e.TgZ(6,"div",5)(7,"div",3)(8,"app-table",6),e.YNc(9,Cr,1,0,"ng-template",7),e.YNc(10,Va,1,0,"ng-template",7),e.YNc(11,du,1,0,"ng-template",7),e.YNc(12,vs,1,0,"ng-template",7),e.YNc(13,rh,1,0,"ng-template",7),e.YNc(14,Cc,2,4,"ng-template",8),e.YNc(15,Sc,3,2,"ng-template",9),e.YNc(16,Ac,3,4,"ng-template",8),e.YNc(17,xc,3,4,"ng-template",8),e.YNc(18,sg,1,1,"ng-template",8),e.qZA()()()),2&a&&(e.xp6(5),e.Q6J("wiki",e.DdM(3,cg)),e.xp6(3),e.Q6J("rows",l.rows),e.xp6(7),e.Q6J("tdClass","ws-nw"))},dependencies:[Q.sg,Q.O5,q.rH,Uo,Vs,$s,Ua,Za,Dr,_s],styles:[".completed[_ngcontent-%COMP%]{color:var(--color-unlock-check)}.spirit-img[_ngcontent-%COMP%]{display:none}.spirit-img[_ngcontent-%COMP%]:not(:first-child){margin-left:var(--padding-content)}@media screen and (min-width: 992px){.spirit-img[_ngcontent-%COMP%]{display:inline-block;width:var(--item-size);height:var(--item-size)}.spirit-count[_ngcontent-%COMP%]{display:none}}@media screen and (min-width: 1400px){.spirit-img[_ngcontent-%COMP%]{width:calc(2 * var(--item-size));height:calc(2 * var(--item-size))}}"]})}return r})();function ug(r,f){if(1&r&&(e.TgZ(0,"span",18),e._uU(1," ("),e._UZ(2,"app-days-left",10),e._uU(3,") "),e.qZA()),2&r){const n=e.oxw();e.xp6(2),e.Q6J("start",n.rs.date)("end",n.rs.endDate)}}function dg(r,f){if(1&r&&(e.TgZ(0,"span",18),e._uU(1," ("),e._UZ(2,"app-days-left",10),e._uU(3,") "),e.qZA()),2&r){const n=e.oxw();e.xp6(2),e.Q6J("start",n.rs.date)("end",n.rs.endDate)}}const hg=function(r){return["/realm",r]};function fg(r,f){if(1&r&&(e.TgZ(0,"a",19)(1,"mat-icon",7),e._uU(2,"map"),e.qZA(),e.TgZ(3,"span",8),e._uU(4),e.qZA()()),2&r){const n=e.oxw();e.Q6J("routerLink",e.VKq(2,hg,n.rs.area.realm.guid)),e.xp6(4),e.hij(" ",n.rs.area.realm.name," ")}}function sh(r,f){if(1&r&&(e.TgZ(0,"div",6)(1,"mat-icon",7),e._uU(2,"location_on"),e.qZA(),e.TgZ(3,"span",8),e._uU(4),e.qZA()()),2&r){const n=e.oxw();e.xp6(4),e.hij(" ",n.rs.area.name," ")}}const A0=function(r){return["/spirit",r]},gb=function(r){return{highlightTree:r}};function mb(r,f){if(1&r&&(e.TgZ(0,"div",22)(1,"app-spirit-tree",23)(2,"div",24)(3,"a",25),e._uU(4),e.qZA()()()()),2&r){const n=e.oxw().$implicit;e.xp6(1),e.Q6J("tree",n.tree)("name",n.spirit.name),e.xp6(2),e.Q6J("routerLink",e.VKq(5,A0,n.spirit.guid))("queryParams",e.VKq(7,gb,n.tree.guid)),e.xp6(1),e.hij(" ",n.spirit.name," ")}}function x0(r,f){if(1&r&&(e.ynx(0),e.YNc(1,mb,5,9,"div",21),e.BQk()),2&r){const n=f.$implicit;e.xp6(1),e.Q6J("ngIf",n.tree)}}function I0(r,f){if(1&r&&(e.ynx(0),e.YNc(1,x0,2,1,"ng-container",20),e.BQk()),2&r){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.rs.spirits)}}let _b=(()=>{class r{constructor(n,a){this._dataService=n,this._route=a,a.queryParamMap.subscribe(l=>this.onQueryChanged(l)),a.paramMap.subscribe(l=>this.onParamsChanged(l))}onQueryChanged(n){}onParamsChanged(n){const a=n.get("guid");this.initializeRs(a)}initializeRs(n){this.rs=this._dataService.guidMap.get(n),this.state=ge.O.getStateFromPeriod(this.rs.date,this.rs.endDate)}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(Se.D),e.Y36(q.gz))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-returning-spirit"]],decls:30,vars:20,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card-body"],[1,"grid","grid-2"],[3,"wiki","aClass"],[1,"container"],[1,"menu-icon"],[1,"menu-label"],["class","c-accent",4,"ngIf"],[3,"start","end"],["class","container",3,"routerLink",4,"ngIf"],["class","container",4,"ngIf"],[1,"sky-card","mt"],[1,"h3"],[1,"sky-card-body","pad-0"],[1,"sky-flex","scroll-x","pad"],[4,"ngIf"],[1,"c-accent"],[1,"container",3,"routerLink"],[4,"ngFor","ngForOf"],["class","tree-wrapper",4,"ngIf"],[1,"tree-wrapper"],[3,"tree","name"],["name",""],[3,"routerLink","queryParams"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4),e._UZ(6,"app-wiki-link",5),e.TgZ(7,"div",6)(8,"mat-icon",7),e._uU(9,"calendar_month"),e.qZA(),e.TgZ(10,"span",8),e._uU(11),e.ALo(12,"dayjs"),e.ALo(13,"dayjs"),e.qZA(),e.YNc(14,ug,4,2,"span",9),e.qZA(),e.TgZ(15,"div",6)(16,"mat-icon",7),e._uU(17,"schedule"),e.qZA(),e.TgZ(18,"span",8),e._UZ(19,"app-duration",10),e.YNc(20,dg,4,2,"span",9),e.qZA()(),e.YNc(21,fg,5,4,"a",11),e.YNc(22,sh,5,1,"div",12),e.qZA()()(),e.TgZ(23,"div",13)(24,"div",1)(25,"h2",14),e._uU(26,"Spirits"),e.qZA()(),e.TgZ(27,"div",15)(28,"div",16),e.YNc(29,I0,2,1,"ng-container",17),e.qZA()()()),2&a&&(e.xp6(3),e.Oqu(l.rs.name),e.xp6(3),e.Q6J("wiki",l.rs._wiki)("aClass","container colspan-2"),e.xp6(1),e.ekj("expired","ended"===l.state),e.xp6(4),e.AsE(" ",e.lcZ(12,16,l.rs.date)," to ",e.lcZ(13,18,l.rs.endDate)," "),e.xp6(3),e.Q6J("ngIf","future"===l.state),e.xp6(1),e.ekj("expired","ended"===l.state),e.xp6(4),e.Q6J("start",l.rs.date)("end",l.rs.endDate),e.xp6(1),e.Q6J("ngIf","active"===l.state),e.xp6(1),e.Q6J("ngIf",null==l.rs.area?null:l.rs.area.realm),e.xp6(1),e.Q6J("ngIf",l.rs.area),e.xp6(7),e.Q6J("ngIf",null==l.rs.spirits?null:l.rs.spirits.length))},dependencies:[Q.sg,Q.O5,q.rH,V.Hw,La,Ba,ql,Dr,_s],styles:["app-spirit-tree[_ngcontent-%COMP%]{vertical-align:bottom}.tree-wrapper[_ngcontent-%COMP%]{display:inline-block}"]})}return r})();const hu=function(){return["/spirit"]},vb=function(){return{type:"Regular"}},O0=function(){return{type:"Elder"}},N0=function(){return{type:"Season"}},k0=function(){return{type:"Guide"}},ah=function(){return["/ts"]},dl=function(){return["/rs"]};let ch=(()=>{class r{constructor(n){this._dataService=n,this.spiritCounts={},this.tsCount=n.travelingSpiritConfig.items.length,this.rsCount=n.returningSpiritsConfig.items.length,this.spiritCounts=this._dataService.spiritConfig.items.reduce((a,l)=>(a[l.type]=(a[l.type]||0)+1,a),{})}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(Se.D))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-spirits-overview"]],decls:44,vars:30,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card-body"],[1,"grid","grid-2"],[1,"container",3,"routerLink","queryParams"],[1,"menu-icon",3,"type"],[1,"menu-label"],[1,"c-accent"],[1,"container",3,"routerLink"],[1,"menu-icon"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Spirits"),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4)(6,"a",5),e._UZ(7,"app-spirit-type-icon",6),e.TgZ(8,"span",7),e._uU(9," Regular Spirits "),e.TgZ(10,"span",8),e._uU(11),e.qZA()()(),e.TgZ(12,"a",5),e._UZ(13,"app-spirit-type-icon",6),e.TgZ(14,"span",7),e._uU(15," Elder Spirits "),e.TgZ(16,"span",8),e._uU(17),e.qZA()()(),e.TgZ(18,"a",5),e._UZ(19,"app-spirit-type-icon",6),e.TgZ(20,"span",7),e._uU(21," Season Spirits "),e.TgZ(22,"span",8),e._uU(23),e.qZA()()(),e.TgZ(24,"a",5),e._UZ(25,"app-spirit-type-icon",6),e.TgZ(26,"span",7),e._uU(27," Season Guides "),e.TgZ(28,"span",8),e._uU(29),e.qZA()()(),e.TgZ(30,"a",9)(31,"mat-icon",10),e._uU(32,"hikings"),e.qZA(),e.TgZ(33,"span",7),e._uU(34," Traveling Spirits "),e.TgZ(35,"span",8),e._uU(36),e.qZA()()(),e.TgZ(37,"a",9)(38,"mat-icon",10),e._uU(39,"flight"),e.qZA(),e.TgZ(40,"span",7),e._uU(41," Special Visits "),e.TgZ(42,"span",8),e._uU(43),e.qZA()()()()()()),2&a&&(e.xp6(6),e.Q6J("routerLink",e.DdM(20,hu))("queryParams",e.DdM(21,vb)),e.xp6(1),e.Q6J("type","Regular"),e.xp6(4),e.hij("(",l.spiritCounts.Regular,")"),e.xp6(1),e.Q6J("routerLink",e.DdM(22,hu))("queryParams",e.DdM(23,O0)),e.xp6(1),e.Q6J("type","Elder"),e.xp6(4),e.hij("(",l.spiritCounts.Elder,")"),e.xp6(1),e.Q6J("routerLink",e.DdM(24,hu))("queryParams",e.DdM(25,N0)),e.xp6(1),e.Q6J("type","Season"),e.xp6(4),e.hij("(",l.spiritCounts.Season,")"),e.xp6(1),e.Q6J("routerLink",e.DdM(26,hu))("queryParams",e.DdM(27,k0)),e.xp6(1),e.Q6J("type","Guide"),e.xp6(4),e.hij("(",l.spiritCounts.Guide,")"),e.xp6(1),e.Q6J("routerLink",e.DdM(28,ah)),e.xp6(6),e.hij("(",l.tsCount,")"),e.xp6(1),e.Q6J("routerLink",e.DdM(29,dl)),e.xp6(6),e.hij("(",l.rsCount,")"))},dependencies:[q.rH,V.Hw,ja]})}return r})();var fu=S(655),pg=S(9074),za=S.n(pg);let lh=(()=>{class r{constructor(n){this._dataService=n,this._items=this.initializeItems()}search(n,a){if(!n)return[];const l=new Set(a?.types||[]),_=l.size?this._items.filter(K=>l.has(K.type)):this._items;return za().go(n,_,{key:a?.key??"search",limit:a?.limit??25}).map(K=>(K.obj.highlighted=za().highlight(K,"<b>","</b>")??"",K.obj.target=K.target,K.obj.score=K.score,this.setItemLink(K.obj),K.obj))}setItemLink(n){switch(n.route=void 0,n.queryParams=void 0,n.type){case"Item":const a=mc.getItemLink(n.data);n.route=a?.route,n.queryParams=a?.extras?.queryParams||void 0;break;case"Spirit":n.route=["/spirit",n.data.guid];break;case"Season":n.route=["/season",n.data.guid];break;case"Event":n.route=["/event",n.data.guid]}}initializeItems(){const n=[];return n.push(...this._dataService.itemConfig.items.filter(a=>{if("Spell"!==a.type&&"Quest"!==a.type&&"Special"!==a.type&&!("Emote"===a.type&&a.level>1))return!0}).map(a=>({name:a.name,type:"Item",data:a,search:a.name}))),n.push(...this._dataService.spiritConfig.items.filter(a=>"Special"!==a.type&&"Event"!==a.type).map(a=>({name:a.name,type:"Spirit",data:a,search:a.name}))),n.push(...this._dataService.seasonConfig.items.map(a=>({name:a.name,type:"Season",data:a,search:a.name}))),n.push(...this._dataService.eventConfig.items.map(a=>({name:a.name,type:"Event",data:a,search:a.name}))),n.forEach(a=>{"string"==typeof a.search&&(a.search=za().prepare(a.search))}),n}static#e=this.\u0275fac=function(a){return new(a||r)(e.LFG(Se.D))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),P0=(()=>{class r{transform(n){switch(n){case rn.q.Hat:return"Hat";case rn.q.Hair:return"Hair";case rn.q.Mask:return"Mask";case rn.q.FaceAccessory:return"Face accessory";case rn.q.Necklace:return"Necklace";case rn.q.Outfit:return"Outfit";case rn.q.Shoes:return"Shoes";case rn.q.Cape:return"Cape";case rn.q.Instrument:return"Instrument";case rn.q.Held:return"Held prop";case rn.q.Prop:return"Placeable prop";case rn.q.Emote:return"Emote";case rn.q.Stance:return"Stance";case rn.q.Call:return"Call";case rn.q.Spell:return"Spell";case rn.q.Music:return"Music sheet";case rn.q.Quest:return"Quest";case rn.q.WingBuff:return"Wing buff";case rn.q.Special:return"Special";default:return"Unknown"}}static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275pipe=e.Yjl({name:"itemType",type:r,pure:!0})}return r})();const hl=["input"];function R0(r,f){1&r&&e._uU(0,"Type")}function F0(r,f){1&r&&e._uU(0,"Icon")}function L0(r,f){1&r&&e._uU(0,"Name")}function B0(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"itemType"),e.qZA()),2&r){const n=e.oxw().row;e.xp6(1),e.Oqu(e.lcZ(2,1,n.data.type))}}function uh(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const n=e.oxw().row;e.xp6(1),e.Oqu(n.type)}}function pu(r,f){if(1&r&&(e.YNc(0,B0,3,3,"span",16),e.YNc(1,uh,2,1,"ng-template",null,17,e.W1O)),2&r){const n=f.row,a=e.MAs(2);e.Q6J("ngIf","Item"===n.type)("ngIfElse",a)}}function gu(r,f){if(1&r&&(e.TgZ(0,"div",19,20),e._UZ(2,"app-icon",21),e.TgZ(3,"mat-icon",22),e._uU(4,"done"),e.qZA()()),2&r){const n=e.oxw().row;e.xp6(2),e.Q6J("src",n.data.iconUrl),e.xp6(1),e.ekj("self",n.data.unlocked)("unlocked",n.data.unlocked)}}function yb(r,f){if(1&r&&(e.TgZ(0,"div",19,23),e._UZ(2,"app-icon",21),e.TgZ(3,"mat-icon",22),e._uU(4,"done"),e.qZA()()),2&r){const n=e.oxw().row;e.xp6(2),e.Q6J("src",n.data.icon),e.xp6(1),e.ekj("self",n.data.unlocked)("unlocked",n.data.unlocked)}}function U0(r,f){if(1&r&&(e.TgZ(0,"div",19,24),e._UZ(2,"app-icon",25),e.qZA()),2&r){const n=e.oxw().row;e.xp6(2),e.Q6J("src",n.data.imageUrl)("width","auto")}}function Z0(r,f){if(1&r&&(e.YNc(0,gu,5,5,"div",18),e.YNc(1,yb,5,5,"div",18),e.YNc(2,U0,3,2,"div",18)),2&r){const n=f.row;e.Q6J("ngIf",n.data.iconUrl),e.xp6(1),e.Q6J("ngIf",n.data.icon),e.xp6(1),e.Q6J("ngIf",!(n.data.iconUrl||n.data.icon)&&n.data.imageUrl)}}function dh(r,f){if(1&r&&(e.TgZ(0,"a",26),e._UZ(1,"span",27),e.qZA()),2&r){const n=f.row;e.ekj("link",n.route),e.Q6J("routerLink",n.route)("queryParams",n.queryParams),e.xp6(1),e.Q6J("innerHTML",n.highlightedName||n.name,e.oJD)}}function H0(r,f){if(1&r&&(e.TgZ(0,"div",10)(1,"app-table",11),e.YNc(2,R0,1,0,"ng-template",12),e.YNc(3,F0,1,0,"ng-template",13),e.YNc(4,L0,1,0,"ng-template",14),e.YNc(5,pu,3,2,"ng-template",15),e.YNc(6,Z0,3,3,"ng-template",15),e.YNc(7,dh,2,5,"ng-template",15),e.qZA()()),2&r){const n=e.oxw();e.xp6(1),e.Q6J("rows",n.searchResults),e.xp6(1),e.Q6J("fit",!0),e.xp6(1),e.Q6J("fit",!0)("textAlign","center")}}function gg(r,f){if(1&r){const n=e.EpF();e.TgZ(0,"div",28),e._uU(1," There are no results. Try searching for "),e.TgZ(2,"a",29),e.NdJ("click",function(l){e.CHM(n);const _=e.oxw();return e.KtG(_.searchDemo(l))}),e._uU(3),e.qZA(),e._uU(4,"! "),e.qZA()}if(2&r){const n=e.oxw();e.xp6(3),e.Oqu(n.demoText)}}function j0(r,f){if(1&r){const n=e.EpF();e.TgZ(0,"div",30)(1,"div",3)(2,"span",29),e.NdJ("click",function(){e.CHM(n);const l=e.oxw();return e.KtG(l.focusInput())}),e._uU(3,"Refine your search for more results."),e.qZA()()()}}let V0=(()=>{class r{constructor(n,a,l,_,M,Y){this._dataService=n,this._eventService=a,this._searchService=l,this._changeDetectorRef=_,this._route=M,this._router=Y,this.demoText="Gratitude"}ngAfterViewInit(){if(!this.input)return;this.resetSubscription=this._eventService.searchReset.subscribe(()=>{this.input?.nativeElement&&(this.input.nativeElement.setSelectionRange(0,this.input.nativeElement.value.length),this.input.nativeElement.focus())});const n=this._route.snapshot.queryParamMap.get("search");n&&(this.input.nativeElement.value=n,setTimeout(()=>{this.search()})),this._route.snapshot.queryParamMap.get("focus")&&this.input.nativeElement.focus(),this.searchSubscription=ut(this.input.nativeElement,"input").pipe((0,fu.b)(250)).subscribe(()=>{this.updateCurrentRoute()})}updateCurrentRoute(){const n=this.input?.nativeElement.value||"";let a=window.location.pathname;n&&(a+=`?search=${encodeURIComponent(n)}`),window.history.replaceState(window.history.state,"",a)}searchDemo(n){this.input?.nativeElement&&(this.input.nativeElement.value=n.target.innerText,this.search(),this.updateCurrentRoute(),this._changeDetectorRef.markForCheck())}search(){const n=0===this.searchResults?.length,a=this.input?.nativeElement.value||"";if(!a)return void(this.searchResults=void 0);const l=this._searchService.search(a,{});if(this.searchResults=l,!n&&!l.length){const _=this._dataService.seasonConfig.items,M=_[Math.floor(Math.random()*_.length)];this.demoText=M.shortName}this._changeDetectorRef.markForCheck()}focusInput(){this.input?.nativeElement.focus(),scrollTo(0,0)}unsubscribe(){this.searchSubscription?.unsubscribe()}ngOnDestroy(){this.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(Se.D),e.Y36(Te),e.Y36(lh),e.Y36(e.sBO),e.Y36(q.gz),e.Y36(q.F0))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-search"]],viewQuery:function(a,l){if(1&a&&e.Gf(hl,5),2&a){let _;e.iGM(_=e.CRH())&&(l.input=_.first)}},decls:13,vars:3,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h3","mb-0"],[1,"sky-card-body"],[1,"search"],["type","search","placeholder","Tip: use Ctrl+Shift+F to start a new search at any time.",1,"input",3,"input"],["input",""],["class","mt",4,"ngIf"],["class","container mt",4,"ngIf"],["class","sky-card mt",4,"ngIf"],[1,"mt"],[3,"rows"],[3,"appTableHeader","fit"],[3,"appTableHeader","fit","textAlign"],[3,"appTableHeader"],[3,"appTableColumn"],[4,"ngIf","ngIfElse"],["type",""],["class","result-icon",4,"ngIf"],[1,"result-icon"],["iconUrl",""],[3,"src"],[1,"unlock-check"],["icon",""],["imageUrl",""],[3,"src","width"],[3,"routerLink","queryParams"],[3,"innerHTML"],[1,"container","mt"],[1,"link",3,"click"],[1,"sky-card","mt"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Search"),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4)(6,"input",5,6),e.NdJ("input",function(){return l.search()}),e.qZA(),e.TgZ(8,"mat-icon"),e._uU(9,"search"),e.qZA()(),e.YNc(10,H0,8,4,"div",7),e.YNc(11,gg,5,1,"div",8),e.qZA()(),e.YNc(12,j0,4,0,"div",9)),2&a&&(e.xp6(10),e.Q6J("ngIf",null==l.searchResults?null:l.searchResults.length),e.xp6(1),e.Q6J("ngIf",l.searchResults&&!l.searchResults.length),e.xp6(1),e.Q6J("ngIf",(null==l.searchResults?null:l.searchResults.length)>=25))},dependencies:[Q.O5,q.rH,V.Hw,Vs,$s,Ua,Za,P0],styles:[".search[_ngcontent-%COMP%]{position:relative}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:36px}.search[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;left:8px;top:50%;transform:translateY(-50%);opacity:1;transition:opacity var(--animation-short)}.result-icon[_ngcontent-%COMP%]{position:relative;display:inline-block;width:var(--item-size);height:var(--item-size);text-align:center;overflow:hidden;border-radius:var(--border-radius)}"],changeDetection:0})}return r})();function mg(r,f){1&r&&e._UZ(0,"div",15)}function _g(r,f){if(1&r&&(e.TgZ(0,"div",16),e._UZ(1,"img",17),e.qZA()),2&r){const n=e.oxw(3);e.xp6(1),e.Q6J("src",n.spirit.imageUrl,e.LSH)("alt",n.spirit.name)}}function vg(r,f){if(1&r&&(e.TgZ(0,"div",12),e.YNc(1,mg,1,0,"div",13),e.YNc(2,_g,2,2,"div",14),e.qZA()),2&r){const n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==n.options?null:n.options.homeBackground),e.xp6(1),e.Q6J("ngIf",n.spirit.imageUrl)}}const z0=function(r){return["/spirit",r]},hh=function(r){return{highlightTree:r}};function $0(r,f){if(1&r&&(e.TgZ(0,"a",18),e._UZ(1,"app-spirit-type-icon",19),e.TgZ(2,"span",20),e._uU(3),e.qZA()()),2&r){const n=e.oxw(2);e.Udp("order",n.sections.ts),e.Q6J("routerLink",e.VKq(6,z0,n.ts.spirit.guid))("queryParams",e.VKq(8,hh,n.ts.tree.guid)),e.xp6(1),e.Q6J("type",n.spirit.type),e.xp6(2),e.Oqu(n.spirit.name)}}function yg(r,f){if(1&r&&(e.TgZ(0,"div",21)(1,"mat-icon"),e._uU(2,"calendar_month"),e.qZA(),e.TgZ(3,"span",20),e._uU(4),e.ALo(5,"dayjs"),e.ALo(6,"dayjs"),e.TgZ(7,"span",22),e._uU(8," ("),e._UZ(9,"app-days-left",23),e._uU(10,") "),e.qZA()()()),2&r){const n=e.oxw(2);e.Udp("order",n.sections.ts),e.xp6(4),e.AsE(" ",e.lcZ(5,6,n.ts.date)," to ",e.lcZ(6,8,n.ts.endDate)," "),e.xp6(5),e.Q6J("start",n.ts.date)("end",n.ts.endDate)}}function fh(r,f){if(1&r&&e._UZ(0,"app-wiki-link",24),2&r){const n=e.oxw(2);e.Q6J("wiki",n.spirit._wiki)("aClass","spirit-grid-item sky-card-item sky-card-item-icon")("order",n.sections.wiki)}}function ph(r,f){if(1&r&&e._UZ(0,"img",27),2&r){const n=e.oxw(3);e.Q6J("src",n.spirit.season.iconUrl,e.LSH)}}function G0(r,f){1&r&&(e.TgZ(0,"mat-icon"),e._uU(1,"ac_unit"),e.qZA())}const mu=function(r){return["/season",r]};function _u(r,f){if(1&r&&(e.TgZ(0,"a",18),e.YNc(1,ph,1,1,"img",25),e.YNc(2,G0,2,0,"ng-template",null,26,e.W1O),e.TgZ(4,"span",20),e._uU(5),e.qZA()()),2&r){const n=e.MAs(3),a=e.oxw(2);e.Udp("order",a.sections.season),e.Q6J("routerLink",e.VKq(7,mu,null==a.spirit.season?null:a.spirit.season.guid))("queryParams",e.VKq(9,hh,null==a.spirit.tree?null:a.spirit.tree.guid)),e.xp6(1),e.Q6J("ngIf",null==a.spirit.season?null:a.spirit.season.iconUrl)("ngIfElse",n),e.xp6(4),e.hij(" ",null==a.spirit.season?null:a.spirit.season.name," ")}}const gh=function(r){return["/event",r]};function bg(r,f){if(1&r&&(e.TgZ(0,"a",29),e._uU(1),e.qZA()),2&r){const n=e.oxw(3);e.Q6J("routerLink",e.VKq(2,gh,n.event.guid)),e.xp6(1),e.hij(" ",n.event.name," ")}}function Y0(r,f){if(1&r&&(e.TgZ(0,"div",21)(1,"mat-icon"),e._uU(2,"event"),e.qZA(),e.YNc(3,bg,2,4,"a",28),e.qZA()),2&r){const n=e.oxw(2);e.Udp("order",n.sections.event),e.xp6(3),e.Q6J("ngIf",n.event)}}function q0(r,f){1&r&&(e.TgZ(0,"span",20),e._uU(1," Regular Spirit "),e.qZA())}function W0(r,f){if(1&r&&(e.TgZ(0,"span",20),e._uU(1),e.qZA()),2&r){const n=e.oxw(3);e.xp6(1),e.hij(" ",n.spirit.type," ")}}const vu=function(){return["/spirit"]},yu=function(r){return{type:r}};function mh(r,f){if(1&r&&(e.TgZ(0,"a",18)(1,"mat-icon"),e._uU(2,"person"),e.qZA(),e.YNc(3,q0,2,0,"span",30),e.YNc(4,W0,2,1,"span",30),e.qZA()),2&r){const n=e.oxw(2);e.Udp("order",n.sections.regular),e.Q6J("routerLink",e.DdM(6,vu))("queryParams",e.VKq(7,yu,n.spirit.type)),e.xp6(3),e.Q6J("ngIf","Regular"===n.spirit.type),e.xp6(1),e.Q6J("ngIf","Elder"===n.spirit.type||"Special"===n.spirit.type)}}const Dg=function(r){return["/realm",r]};function J0(r,f){if(1&r&&(e.TgZ(0,"div",21)(1,"mat-icon"),e._uU(2,"map"),e.qZA(),e.TgZ(3,"a",31),e._uU(4),e.qZA()()),2&r){const n=e.oxw(2);e.Udp("order",n.sections.realm),e.xp6(3),e.Q6J("routerLink",e.VKq(5,Dg,n.spirit.area.realm.guid))("queryParams",e.VKq(7,hh,null==n.spirit.tree?null:n.spirit.tree.guid)),e.xp6(1),e.hij(" ",n.spirit.area.realm.name," ")}}function Q0(r,f){if(1&r&&(e.TgZ(0,"div",21)(1,"mat-icon"),e._uU(2,"location_on"),e.qZA(),e.TgZ(3,"span",20),e._uU(4),e.qZA()()),2&r){const n=e.oxw(2);e.Udp("order",n.sections.area),e.xp6(4),e.hij(" ",n.spirit.area.name," ")}}function Cg(r,f){if(1&r&&(e.TgZ(0,"div",21)(1,"mat-icon",32),e._uU(2,"sell"),e.qZA(),e.TgZ(3,"span",20),e._UZ(4,"app-cost",33),e.qZA()()),2&r){const n=e.oxw(2);e.Udp("order",n.sections.cost),e.xp6(4),e.Q6J("cost",n.cost)("remaining",n.remainingCost)("borderLeft",!0)}}function _h(r,f){if(1&r&&(e.TgZ(0,"div",1)(1,"div",2)(2,"div",3),e.Hsn(3,0,["[select]","title"]),e.qZA(),e.TgZ(4,"h2",4),e._UZ(5,"app-spirit-type-icon",5),e._uU(6),e.qZA()(),e.TgZ(7,"div",6),e.YNc(8,vg,3,2,"div",7),e.TgZ(9,"div",8),e.YNc(10,$0,4,10,"a",9),e.YNc(11,yg,11,10,"div",10),e.YNc(12,fh,1,3,"app-wiki-link",11),e.YNc(13,_u,6,11,"a",9),e.YNc(14,Y0,4,3,"div",10),e.YNc(15,mh,5,9,"a",9),e.YNc(16,J0,5,9,"div",10),e.YNc(17,Q0,5,3,"div",10),e.YNc(18,Cg,5,5,"div",10),e.qZA()()()),2&r){const n=e.oxw();e.xp6(5),e.Q6J("type",n.spirit.type),e.xp6(1),e.hij(" ",n.spirit.name," "),e.xp6(2),e.Q6J("ngIf",n.sections.img&&n.spirit.imageUrl),e.xp6(2),e.Q6J("ngIf",n.sections.ts&&n.ts),e.xp6(1),e.Q6J("ngIf",n.sections.ts&&n.ts),e.xp6(1),e.Q6J("ngIf",n.sections.wiki),e.xp6(1),e.Q6J("ngIf",n.sections.season&&("Season"===n.spirit.type||"Guide"===n.spirit.type)),e.xp6(1),e.Q6J("ngIf",n.sections.event&&"Event"===n.spirit.type),e.xp6(1),e.Q6J("ngIf",n.sections.regular&&("Regular"===n.spirit.type||"Elder"===n.spirit.type||"Special"===n.spirit.type)),e.xp6(1),e.Q6J("ngIf",n.sections.realm&&(null==n.spirit.area?null:n.spirit.area.realm)),e.xp6(1),e.Q6J("ngIf",n.sections.area&&n.spirit.area),e.xp6(1),e.Q6J("ngIf",n.sections.cost&&n.cost)}}const wg=["*"];let vh=(()=>{class r{constructor(){this.options={show:["img","wiki","season","event","realm","area"]},this.sections={}}ngOnInit(){this.updateSections()}ngOnChanges(n){n.spirit&&this.updateSpirit(),n.options&&this.updateSections(),n.tree&&this.updateCosts()}updateSpirit(){this.typeName=(new Ov).transform(this.spirit.type),this.event=this.spirit?.events?.at(-1)?.eventInstance?.event}updateSections(){this.sections={},this.options.show?.forEach((n,a)=>{this.sections[n]=a+2})}updateCosts(){if(this.cost=this.remainingCost=void 0,!this.tree)return;const n=De.f.all(this.tree.node);this.cost=lo.T.add(lo.T.create(),...n);const a=n.filter(l=>!l.unlocked&&!l.item?.unlocked);this.remainingCost=lo.T.add(lo.T.create(),...a)}static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-spirit-card"]],inputs:{spirit:"spirit",ts:"ts",tree:"tree",options:"options"},features:[e.TTD],ngContentSelectors:wg,decls:1,vars:1,consts:[["class","sky-card",4,"ngIf"],[1,"sky-card"],[1,"sky-card-header"],[1,"title-select"],[1,"h3","mb-0","title-default"],[3,"type"],[1,"sky-card-body"],["class","spirit-grid-img spirit-grid-item sky-card-item",4,"ngIf"],[1,"spirit-grid","mt"],["class","spirit-grid-item sky-card-item sky-card-item-icon",3,"routerLink","queryParams","order",4,"ngIf"],["class","spirit-grid-item sky-card-item sky-card-item-icon",3,"order",4,"ngIf"],[3,"wiki","aClass","order",4,"ngIf"],[1,"spirit-grid-img","spirit-grid-item","sky-card-item"],["class","spirit-img-bg",4,"ngIf"],["class","spirit-img",4,"ngIf"],[1,"spirit-img-bg"],[1,"spirit-img"],[3,"src","alt"],[1,"spirit-grid-item","sky-card-item","sky-card-item-icon",3,"routerLink","queryParams"],[1,"menu-icon",3,"type"],[1,"menu-label"],[1,"spirit-grid-item","sky-card-item","sky-card-item-icon"],[1,"c-accent"],[3,"start","end"],[3,"wiki","aClass","order"],["class","icon",3,"src",4,"ngIf","ngIfElse"],["seasonIcon",""],[1,"icon",3,"src"],["class","menu-label",3,"routerLink",4,"ngIf"],[1,"menu-label",3,"routerLink"],["class","menu-label",4,"ngIf"],[1,"menu-label",3,"routerLink","queryParams"],[1,"menu-icon"],[3,"cost","remaining","borderLeft"]],template:function(a,l){1&a&&(e.F$t(),e.YNc(0,_h,19,12,"div",0)),2&a&&e.Q6J("ngIf",l.spirit)},dependencies:[Q.O5,q.rH,V.Hw,ja,Ba,Xc,Dr,_s],styles:[".spirit-img[_ngcontent-%COMP%]{position:relative}.spirit-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:var(--border-radius);padding:5px 0;width:auto;height:192px;max-height:192px}.title-select[_ngcontent-%COMP%]:not(:empty) + .title-default[_ngcontent-%COMP%]{display:none}.spirit-img-bg[_ngcontent-%COMP%]{position:absolute;inset:0;background-image:url(https://silverfeelin.github.io/SkyGame-Planner/assets/game/realms/Home.webp);background-size:cover;background-position:bottom;filter:brightness(.6) blur(4px)}.spirit-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-template-rows:1fr;gap:8px}.spirit-grid-img[_ngcontent-%COMP%]{position:relative;grid-area:1 / 1 / 2 / 2;width:100%;height:100%;padding:0}.spirit-grid-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.spirit-img[_ngcontent-%COMP%]{width:auto;height:var(--img-preview-height)}.spirit-grid-item[_ngcontent-%COMP%]{width:100%;overflow:auto;border:var(--border-solid)}"],changeDetection:0})}return r})();function Eg(r,f){if(1&r&&(e.TgZ(0,"span",11),e._uU(1),e.ALo(2,"dayjs"),e.qZA()),2&r){const n=e.oxw();e.xp6(1),e.Oqu(e.xi3(2,1,n.nowLocal,"HH:mm:ss"))}}function K0(r,f){if(1&r&&(e.TgZ(0,"span",11),e._uU(1),e.ALo(2,"dayjs"),e.qZA()),2&r){const n=e.oxw();e.xp6(1),e.Oqu(e.xi3(2,1,n.nowSky,"HH:mm:ss"))}}let Tg=(()=>{class r{constructor(n){this._changeDetectorRef=n,this.localDegHr=0,this.localDegMin=0,this.localDegSec=0,this.skyDegHr=0,this.skyDegMin=0,this.skyDegSec=0}ngOnInit(){this.updateTime(),this._interval=window.setInterval(()=>{this.updateTime()},1e3)}ngOnDestroy(){this._interval&&window.clearInterval(this._interval)}updateTime(){this.nowLocal=Do()();const n=this.nowLocal.hour(),a=this.nowLocal.minute();this.localDegHr=n%12*30+.5*a+180,this.localDegMin=6*a+180,this.localDegSec=6*this.nowLocal.second()+180,this.nowSky=this.nowLocal.tz(ge.O.skyTimeZone);const l=this.nowSky.hour(),_=this.nowSky.minute();this.skyDegHr=l%12*30+.5*_+180,this.skyDegMin=6*_+180,this.skyDegSec=6*this.nowSky.second()+180,this._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-clock"]],decls:25,vars:14,consts:[[1,"clock"],[1,"clock-item"],[1,"container"],[1,"sky-clock"],[1,"hand-hour","hand"],[1,"hand-minute","hand"],[1,"hand-second","hand"],[1,"hand-inner"],[1,"clock-text"],[1,"clock-title"],["class","clock-time",4,"ngIf"],[1,"clock-time"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),e.qZA(),e.TgZ(8,"div",8)(9,"span",9),e._uU(10,"Local time"),e.qZA(),e._UZ(11,"br"),e.YNc(12,Eg,3,4,"span",10),e.qZA()()(),e.TgZ(13,"div",1)(14,"div",2)(15,"div",3),e._UZ(16,"div",4)(17,"div",5)(18,"div",6)(19,"div",7),e.qZA(),e.TgZ(20,"div",8)(21,"span",9),e._uU(22,"Sky time"),e.qZA(),e._UZ(23,"br"),e.YNc(24,K0,3,4,"span",10),e.qZA()()()()),2&a&&(e.xp6(4),e.Udp("transform","rotate("+l.localDegHr+"deg)"),e.xp6(1),e.Udp("transform","rotate("+l.localDegMin+"deg)"),e.xp6(1),e.Udp("transform","rotate("+l.localDegSec+"deg)"),e.xp6(6),e.Q6J("ngIf",l.nowLocal),e.xp6(4),e.Udp("transform","rotate("+l.skyDegHr+"deg)"),e.xp6(1),e.Udp("transform","rotate("+l.skyDegMin+"deg)"),e.xp6(1),e.Udp("transform","rotate("+l.skyDegSec+"deg)"),e.xp6(6),e.Q6J("ngIf",l.nowSky))},dependencies:[Q.O5,_s],styles:[".clock[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:row;flex-wrap:wrap;align-items:stretch;gap:var(--padding-content);overflow:hidden}.clock-item[_ngcontent-%COMP%]{text-align:center;flex:1 1 auto}.clock-title[_ngcontent-%COMP%]{font-size:34px;line-height:34px}.clock-time[_ngcontent-%COMP%]{font-size:52px;line-height:52px}.clock-text[_ngcontent-%COMP%]{vertical-align:top;display:inline-block;filter:var(--shadow-clock)}.sky-clock[_ngcontent-%COMP%]{position:relative;display:none;top:0;width:92px;height:92px;border-radius:100%;border:solid var(--color);border-width:9px;box-sizing:border-box;filter:var(--shadow-clock)}.hand[_ngcontent-%COMP%]{position:absolute;top:50%;left:calc(50% - 3px);transform-origin:3px 0;width:6px;border-radius:0 0 50px 50px;background-color:var(--color);outline:var(--shadow-clock)}.hand-hour[_ngcontent-%COMP%]{height:21px}.hand-minute[_ngcontent-%COMP%]{height:32px}.hand-second[_ngcontent-%COMP%]{height:32px;width:2px;left:calc(50% - 1px);transform-origin:1px 0}.hand-inner[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);height:6px;width:6px;border-radius:100%;background:var(--color)}@media screen and (min-width: 992px){.clock-title[_ngcontent-%COMP%]{font-size:36px;line-height:36px}.clock-time[_ngcontent-%COMP%]{font-size:60px;line-height:60px}.sky-clock[_ngcontent-%COMP%]{display:inline-block}.clock-text[_ngcontent-%COMP%]{margin-left:20px}}@media screen and (min-width: 1400px){.clock-title[_ngcontent-%COMP%]{font-size:44px;line-height:44px}.clock-time[_ngcontent-%COMP%]{font-size:72px;line-height:90px}.sky-clock[_ngcontent-%COMP%]{width:128px;height:128px;border-width:12px}.hand[_ngcontent-%COMP%]{left:calc(50% - 4px);transform-origin:4px 0;width:8px}.hand-hour[_ngcontent-%COMP%]{height:28px}.hand-minute[_ngcontent-%COMP%]{height:48px}.hand-second[_ngcontent-%COMP%]{height:48px;transform-origin:1px 0;width:2px;left:calc(50% - 1px)}.hand-inner[_ngcontent-%COMP%]{height:8px;width:8px}}"],changeDetection:0})}return r})();function Mg(r,f){1&r&&(e.TgZ(0,"div",8)(1,"div",1)(2,"div",9),e._uU(3," There is currently no season or event active."),e._UZ(4,"br"),e._uU(5," You can view items, seasons, events and more in the menu on the left. "),e.qZA()()())}const yh=function(){return["img","overview","date","checkin","cost"]},bh=function(r){return{show:r}};function X0(r,f){if(1&r&&e._UZ(0,"app-season-card",10),2&r){const n=e.oxw();e.Q6J("season",n.season)("options",e.VKq(3,bh,e.DdM(2,yh)))}}function Sg(r,f){if(1&r&&e._UZ(0,"app-event-card",11),2&r){const n=e.oxw();e.Q6J("event",n.eventInstance.event)("instance",n.eventInstance)("options",e.VKq(4,bh,e.DdM(3,yh)))}}const Ag=function(){return["img","ts","cost"]},Dh=function(r){return{homeBackground:!0,show:r}};function bu(r,f){if(1&r&&(e.TgZ(0,"app-spirit-card",12)(1,"div",13)(2,"h2",14),e._uU(3,"Traveling Spirit "),e.TgZ(4,"span",15),e._uU(5),e.qZA()()()()),2&r){const n=e.oxw();e.Q6J("spirit",n.ts.spirit)("ts",n.ts)("tree",n.ts.tree)("options",e.VKq(6,Dh,e.DdM(5,Ag))),e.xp6(5),e.hij("(#",n.ts.number,")")}}let xg=(()=>{class r{constructor(n){this._dataService=n}ngOnInit(){this.season=this._dataService.seasonConfig.items.findLast(n=>ge.O.isActive(n.date,n.endDate)),this.ts=this._dataService.travelingSpiritConfig.items.findLast(n=>ge.O.isActive(n.date,n.endDate));for(const n of this._dataService.eventConfig.items){const a=n.instances?.findLast(l=>ge.O.isActive(l.date,l.endDate));if(a){this.eventInstance=a;break}}}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(Se.D))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-dashboard"]],decls:10,vars:4,consts:[[1,"sky-card"],[1,"sky-card-body"],[1,"mt"],["class","sky-card mt",4,"ngIf"],[1,"grid","grid-2","mt"],[3,"season","options",4,"ngIf"],[3,"event","instance","options",4,"ngIf"],[3,"spirit","ts","tree","options",4,"ngIf"],[1,"sky-card","mt"],[1,"container"],[3,"season","options"],[3,"event","instance","options"],[3,"spirit","ts","tree","options"],["title",""],[1,"h3","mb-0"],[1,"c-accent","h4"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-clock"),e.qZA()(),e.TgZ(3,"div",2),e._UZ(4,"app-search"),e.qZA(),e.YNc(5,Mg,6,0,"div",3),e.TgZ(6,"div",4),e.YNc(7,X0,1,5,"app-season-card",5),e.YNc(8,Sg,1,6,"app-event-card",6),e.YNc(9,bu,6,8,"app-spirit-card",7),e.qZA()),2&a&&(e.xp6(5),e.Q6J("ngIf",!l.season&&!l.eventInstance&&!l.ts),e.xp6(2),e.Q6J("ngIf",l.season),e.xp6(1),e.Q6J("ngIf",l.eventInstance),e.xp6(1),e.Q6J("ngIf",l.ts))},dependencies:[Q.O5,V0,Dp,np,vh,Tg],styles:[".show-empty[_ngcontent-%COMP%]{display:none}.show-empty[_ngcontent-%COMP%]:only-child{display:block}.img[_ngcontent-%COMP%]{height:var(--img-preview-height)}.search[_ngcontent-%COMP%]{position:relative;cursor:pointer}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:32px;cursor:pointer}.search[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;left:8px;top:50%;transform:translateY(-50%);opacity:1;transition:opacity var(--animation-short)}"]})}return r})(),Ig=(()=>{class r{static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-blank"]],decls:0,vars:0,template:function(a,l){},encapsulation:2,changeDetection:0})}return r})();const Og=function(){return["/col"]},Ng=function(){return["/wing-buff"]};let kg=(()=>{class r{constructor(n,a){this._dataService=n,this._storageService=a,this.wb=0,this.totalWb=0,this.col=0,this.totalCol=0,this.col=a.unlockedCol.size,this.totalCol=this._dataService.wingedLightConfig.items.length;const l=this._dataService.itemConfig.items.filter(_=>_.type===rn.q.WingBuff);this.wb=l.filter(_=>_.unlocked).length,this.totalWb=l.length}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(Se.D),e.Y36(et.V))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-winged-light"]],decls:16,vars:8,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card-body"],[1,"grid","grid-2"],[1,"container",3,"routerLink"],[1,""],[1,"c-accent"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Winged Light"),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4)(6,"a",5)(7,"span",6),e._uU(8," Children of Light "),e.TgZ(9,"span",7),e._uU(10),e.qZA()()(),e.TgZ(11,"a",5)(12,"span",6),e._uU(13," Wing Buffs "),e.TgZ(14,"span",7),e._uU(15),e.qZA()()()()()()),2&a&&(e.xp6(6),e.Q6J("routerLink",e.DdM(6,Og)),e.xp6(4),e.AsE("(",l.col," / ",l.totalCol,")"),e.xp6(1),e.Q6J("routerLink",e.DdM(7,Ng)),e.xp6(4),e.AsE("(",l.wb," / ",l.totalWb,")"))},dependencies:[q.rH],styles:[".wl[_ngcontent-%COMP%]{color:var(--color-wing-buff)}"],changeDetection:0})}return r})();const Pg=["mapContainer"],Rg=["table"];function Fg(r,f){}function Du(r,f){1&r&&e._uU(0,"Found")}function ya(r,f){1&r&&e._uU(0,"Area")}function ey(r,f){1&r&&e._uU(0,"Realm")}function ty(r,f){if(1&r){const n=e.EpF();e.TgZ(0,"span",17)(1,"mat-icon",18),e.NdJ("click",function(){const _=e.CHM(n).row,M=e.oxw();return e.KtG(M.showArea(_))}),e._uU(2,"location_on"),e.qZA()()}if(2&r){const n=f.row;e.ekj("completed",n.unlocked===n.wl.length)}}function Ch(r,f){if(1&r){const n=e.EpF();e.TgZ(0,"span",19),e._uU(1),e.TgZ(2,"mat-icon",20),e.NdJ("click",function(){const _=e.CHM(n).row,M=e.oxw();return e.KtG(M.toggleRow(_))}),e._uU(3,"lock_open"),e.qZA()()}if(2&r){const n=f.row;e.ekj("completed",n.unlocked===n.wl.length),e.xp6(1),e.AsE(" ",n.unlocked," / ",n.wl.length," ")}}function $a(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const n=f.row;e.ekj("completed",n.unlocked===n.wl.length),e.xp6(1),e.Oqu(n.area.name)}}function wh(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const n=f.row;e.ekj("completed",n.unlocked===n.wl.length),e.xp6(1),e.Oqu(n.area.realm.name)}}let ny=(()=>{class r{constructor(n,a,l,_,M,Y,K){this._dataService=n,this._storageService=a,this._mapInstanceService=l,this._activatedRoute=_,this._changeDetectorRef=M,this._breakpointObserver=Y,this._zone=K,this.unlockedCol=0,this.totalCol=0,this.light=[],this.lightMap={},this.rowMap={},this.unlockedCol=a.unlockedCol.size,this.totalCol=this._dataService.wingedLightConfig.items.length;const xe=new Set;this.rows=[],this._dataService.wingedLightConfig.items.forEach(Ve=>{const Pt=Ve.area;if(!Pt||xe.has(Pt.guid))return;xe.add(Pt.guid);const Dt={area:Pt,wl:Pt.wingedLights||[],unlocked:(Pt.wingedLights||[]).filter(jt=>jt.unlocked).length};Dt.wl.forEach(jt=>{this.rowMap[jt.guid]=Dt}),this.rows.push(Dt)})}ngAfterViewInit(){this.map=this._mapInstanceService.attach(this.mapContainer?.nativeElement),this.map.setView([-400,270],2,{animate:!1,duration:0});const n=this._activatedRoute.snapshot.queryParamMap,a=+(n.get("x")||0),l=+(n.get("y")||0),_=n.has("z")?+(n.get("z")||0):void 0;void 0!==_&&this.map.setView([l,a],_);const M=this._mapInstanceService.createLayerGroup("col"),Y=ks().icon({iconUrl:"assets/icons/light.svg",iconSize:[32,32],popupAnchor:[0,-12]});ks().imageOverlay("assets/game/map/void.webp",[[-141.87,185.63],[-116.88,210.63]]).addTo(M),this._dataService.wingedLightConfig.items.forEach(K=>{if(!K.mapData)return;const xe={wl:K};xe.marker=ks().marker(K.mapData.position,{icon:Y,opacity:K.unlocked?.4:1}),xe.marker.bindPopup(this.createPopup(K),{minWidth:480,maxWidth:480}),M.addLayer(xe.marker),this.light.push(xe),this.lightMap[K.guid]=xe}),M.addTo(this.map),window.markCol=(K,xe)=>{this._zone.run(()=>{this.markCol(K,xe)})},window.nextCol=(K,xe)=>{this._zone.run(()=>{xe<0?this.prevCol(K):this.nextCol(K)})},this._mapInstanceService.on("popupopen",K=>{this.onPopupOpen(K)}),this._mapInstanceService.on("moveend",()=>{this.onMoveEnd()}),this._mapInstanceService.on("keydown",K=>{this.onKeydown(K)}),this._subWidth=this._breakpointObserver.observe(["(min-width: 720px)"]).subscribe(K=>this.onResponsive(K))}onResponsive(n){const a=n.matches?480:240;this.light.forEach(l=>{if(!l.marker)return;const _=l.marker.getPopup()?.options||{};_.minWidth=_.maxWidth=a})}ngOnDestroy(){this._subWidth?.unsubscribe()}scrollToList(){this.table&&this.table.nativeElement.scrollIntoView({behavior:"smooth",block:"start"})}reset(){confirm("Are you sure you want to reset your found Children of Light?")&&(this._storageService.unlockedCol.clear(),this._storageService.saveCol(),this._dataService.reloadUnlocked(),this.unlockedCol=0,this.rows.forEach(n=>n.unlocked=0),this.light.forEach(n=>{n.marker?.setOpacity(1)}),this.map.closePopup(),this._changeDetectorRef.markForCheck())}showArea(n){this.shownArea=n.area;const a=this.light.filter(_=>_.wl.area===this.shownArea),l=a.find(_=>!_.wl.unlocked)?.wl??a[0]?.wl;l&&this.flyAndOpen(l,!0)}toggleRow(n,a){a??=n.unlocked<n.wl.length,this.map.closePopup(),n.area.wingedLights?.forEach(l=>{this.toggleWingedLight(l,a),this.updateTable(l),this.updateMarker(l)})}createPopup(n){let a="",l=n.mapData?.videoUrl;l&&(l.includes("youtube")||(l=`https://silverfeelin.github.io/SkyGame-Planner-Videos/CoL/${l}`),a=`<iframe class="s-leaflet-vid" width="480" height="270" src="${l}" title="CoL" frameborder="0" allow="autoplay; encrypted-media;" allowfullscreen></iframe>`);let _="";return n._wiki?.href&&(_=`<a href="${n._wiki.href}" class="button link float-right" target="_blank">Wiki</a>`),`\n<div class="s-leaflet-tooltip" data-wl="${n.guid}" onkeydown="keydownCol(event, this)">\n  <div class="s-leaflet-grid">\n    <div class="container s-leaflet-item"><div class="menu-icon s-leaflet-maticon">map</div><div class="menu-label">${n.area?.realm?.name||""}</div></div>\n    <div class="container s-leaflet-item"><div class="menu-icon s-leaflet-maticon">location_on</div><div class="menu-label">${n.area?.name||""}</div></div>\n    <div class="container s-leaflet-item s-leaflet-desc">\n      <div class="menu-icon s-leaflet-maticon">description</div><div class="menu-label">${n.description||""}</div>\n    </div>\n  </div>\n  <div class="s-leaflet-mt">${a}</div>\n  <div class="s-leaflet-mt">\n    <button type="button" class="s-leaflet-hasicon s-leaflet-found" data-action="mark" onclick="markCol(this, '${n.guid}')">\n      <span class="s-leaflet-maticon">check_box_outline_blank</span>\n      <span class="s-leaflet-check-label">Found</span>\n    </button>\n    <button class="s-leaflet-hasicon" data-direction="left" type="button" onclick="nextCol('${n.guid}', -1)"><span class="s-leaflet-maticon">arrow_back</span>&nbsp;</button>\n    <button class="s-leaflet-hasicon" data-direction="right" type="button" onclick="nextCol('${n.guid}', 1)"><span class="s-leaflet-maticon">arrow_forward</span>&nbsp;</button>\n    ${_}\n  </div>\n</div>\n`}onPopupOpen(n){const a=n.popup.getElement()?.querySelector(".s-leaflet-tooltip");if(!a)return;const _=this._dataService.guidMap.get(a.dataset.wl);this._lastPopup=n.popup,this.updatePopup(a,_)}onMoveEnd(){const n=new URL(location.href),a=this.map.getCenter();n.searchParams.set("x",`${Math.floor(a.lng)}`),n.searchParams.set("y",`${Math.floor(a.lat)}`),n.searchParams.set("z",`${this.map.getZoom()}`),window.history.replaceState(window.history.state,"",n.pathname+n.search)}onKeydown(n){if(!this._lastPopup?.isOpen())return;const a=n.originalEvent.key;if("ArrowLeft"!==a&&"ArrowRight"!==a&&" "!==a)return;const l=this._lastPopup.getElement()?.querySelector(".s-leaflet-tooltip"),_=l.dataset.wl;if(_){switch(a){case"ArrowLeft":this.prevCol(_);break;case"ArrowRight":this.nextCol(_);break;case" ":this.markCol(l.querySelector('[data-action="mark"]'),_);break;default:return}n.originalEvent.preventDefault(),n.originalEvent.stopPropagation()}}updatePopup(n,a){n.querySelector(".s-leaflet-found .s-leaflet-maticon").innerText=a.unlocked?"check_box":"check_box_outline_blank"}updateMarker(n){const a=this.lightMap[n.guid];a&&a.marker?.setOpacity(n.unlocked?.4:1)}updateTable(n){const a=this.rowMap[n.guid];a&&(a.unlocked=(a.wl||[]).filter(l=>l.unlocked).length,this.unlockedCol=this._storageService.unlockedCol.size,this._changeDetectorRef.markForCheck())}flyAndOpen(n,a=!1){if(!n)return;const l=this.lightMap[n.guid];if(!l)return;a&&window.scrollTo({top:0,behavior:"smooth"}),this.map.closePopup();const _=n.mapData?.position||[0,0];this.map.flyTo([_[0]+20,_[1]],3),l.marker?.openPopup(),l.marker?.getElement()?.focus()}toggleWingedLight(n,a){n.unlocked="boolean"==typeof a?a:!n.unlocked,n.unlocked?this._storageService.addCol(n.guid):this._storageService.removeCol(n.guid),this._storageService.saveCol()}allDone(){this.map.closePopup(),this._mapInstanceService.centerMap()}markCol(n,a){const l=this._dataService.guidMap.get(a);this.toggleWingedLight(l),this.updatePopup(n,l),this.updateMarker(l),this.updateTable(l),l.unlocked&&this.nextCol(a,!0)}prevCol(n){const a=this._dataService.guidMap.get(n),l=this._dataService.wingedLightConfig.items.findIndex(M=>M===a),_=this._dataService.wingedLightConfig.items[l-1]||this._dataService.wingedLightConfig.items[this._dataService.wingedLightConfig.items.length-1];this.lightMap[_.guid]?.marker?this.flyAndOpen(_):alert("Missing marker for previous Child of Light!")}nextCol(n,a=!1){const l=this._dataService.guidMap.get(n),_=this._dataService.wingedLightConfig.items.findIndex(K=>K===l);let Y,M=(_+1)%this._dataService.wingedLightConfig.items.length;for(;M!==_&&(Y=this._dataService.wingedLightConfig.items[M],Y.unlocked&&a);)M+=1,M%=this._dataService.wingedLightConfig.items.length;if(M!==_){if(Y){if(!this.lightMap[Y.guid]?.marker)return void alert("Missing marker for next Child of Light!");this.flyAndOpen(Y)}}else this.allDone()}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(Se.D),e.Y36(et.V),e.Y36(lu),e.Y36(q.gz),e.Y36(e.sBO),e.Y36(te.Yg),e.Y36(e.R0b))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-children-of-light"]],viewQuery:function(a,l){if(1&a&&(e.Gf(Pg,7),e.Gf(Rg,7)),2&a){let _;e.iGM(_=e.CRH())&&(l.mapContainer=_.first),e.iGM(_=e.CRH())&&(l.table=_.first)}},features:[e._Bn([lu])],decls:28,vars:7,consts:[[1,"map-container"],["mapContainer",""],["type","button",1,"map-control",3,"click"],[1,""],[1,"sky-card","mt"],["table",""],[1,"sky-card-header"],[1,"h3","mb-0","d-inline-block"],[1,"c-accent","show-desktop"],[1,"c-accent","show-mobile"],["type","button",1,"btn-reset",3,"click"],[1,"sky-card-body","scroll-x"],[3,"rows"],[3,"appTableHeader","fit"],[3,"appTableHeader","width"],[3,"appTableHeader"],[3,"appTableColumn"],[1,"link","map-icon"],[3,"click"],[1,"row-unlocked"],[1,"row-toggle",3,"click"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0,1)(2,"button",2),e.NdJ("click",function(){return l.scrollToList()}),e.TgZ(3,"mat-icon"),e._uU(4,"arrow_downward"),e.qZA()()(),e.TgZ(5,"div",3)(6,"div",4,5)(8,"div",6)(9,"h2",7)(10,"span"),e._uU(11,"Children of Light"),e.qZA(),e.TgZ(12,"span",8),e._uU(13),e.qZA(),e.TgZ(14,"div",9),e._uU(15),e.qZA()(),e.TgZ(16,"button",10),e.NdJ("click",function(){return l.reset()}),e._uU(17,"Reset"),e.qZA()(),e.TgZ(18,"div",11)(19,"app-table",12),e.YNc(20,Fg,0,0,"ng-template",13),e.YNc(21,Du,1,0,"ng-template",14),e.YNc(22,ya,1,0,"ng-template",15),e.YNc(23,ey,1,0,"ng-template",15),e.YNc(24,ty,3,2,"ng-template",16),e.YNc(25,Ch,4,4,"ng-template",16),e.YNc(26,$a,2,3,"ng-template",16),e.YNc(27,wh,2,3,"ng-template",16),e.qZA()()()()),2&a&&(e.xp6(13),e.AsE(" (",l.unlockedCol," / ",l.totalCol,")"),e.xp6(2),e.AsE("",l.unlockedCol," / ",l.totalCol,""),e.xp6(4),e.Q6J("rows",l.rows),e.xp6(1),e.Q6J("fit",!0),e.xp6(1),e.Q6J("width","84px"))},dependencies:[V.Hw,$s,Ua,Za],styles:[".map-control[_ngcontent-%COMP%]{position:absolute;z-index:9999;bottom:var(--padding-content);left:var(--padding-content);padding:var(--padding-content);color:var(--color-map-tooltip);background:var(--color-map-tooltip-background);border-radius:var(--border-radius);width:32px;height:32px}.map-control[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;bottom:3px;left:3px}.btn-reset[_ngcontent-%COMP%]{color:var(--color-danger);background:var(--color-danger-background);border-color:var(--color-danger-accent);position:absolute;right:var(--padding-content);top:50%;transform:translateY(-50%)}.btn-reset[_ngcontent-%COMP%]:hover{background:var(--color-danger-accent)}input.map-input[_ngcontent-%COMP%]{width:auto;display:inline-block}.map-icon[_ngcontent-%COMP%]{position:relative;display:inline-block;width:24px}.map-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;top:-17px;left:0}.row-unlocked[_ngcontent-%COMP%]{position:relative;white-space:nowrap;padding-right:30px}.row-toggle[_ngcontent-%COMP%]{position:absolute;cursor:pointer;top:-3px;right:0}.completed[_ngcontent-%COMP%]{color:var(--color-unlock-check);font-weight:700}.show-desktop[_ngcontent-%COMP%]{display:none}@media screen and (min-width: 720px){.show-desktop[_ngcontent-%COMP%]{display:unset}.show-mobile[_ngcontent-%COMP%]{display:none}}"],changeDetection:0})}return r})();var Eh=S(418),bb=S.n(Eh);const Db=["ttCopy"],iy=["collagePaste"],oy=["collageImage"];function Lg(r,f){if(1&r){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",16),e.NdJ("click",function(){const _=e.CHM(n).index,M=e.oxw().index,Y=e.oxw();return e.KtG(Y.setCollageSize(_+1,M+1))}),e.qZA(),e.BQk()}if(2&r){const n=f.index,a=e.oxw().index,l=e.oxw();e.xp6(1),e.ekj("block-active",n<l.collageSize.x&&a<l.collageSize.y)}}function ry(r,f){if(1&r&&(e.ynx(0),e.YNc(1,Lg,2,2,"ng-container",9),e.BQk()),2&r){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.blockSize.x)}}function Wo(r,f){if(1&r){const n=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){e.CHM(n);const l=e.oxw().index,_=e.oxw().index,M=e.oxw();return e.KtG(M.addItemIcon(l,_))}),e.TgZ(1,"mat-icon"),e._uU(2,"checkroom"),e.qZA()()}}function Bg(r,f){if(1&r){const n=e.EpF();e.TgZ(0,"div",33)(1,"img",34),e.NdJ("click",function(){e.CHM(n);const l=e.oxw().index,_=e.oxw().index,M=e.oxw();return e.KtG(M.addItemIcon(l,_))}),e.qZA()()}if(2&r){const n=e.oxw().index,a=e.oxw().index,l=e.oxw();e.xp6(1),e.Udp("width",l.sizes.previewIconWidth,"px"),e.Q6J("src",l.itemIcons[a][n],e.LSH)}}function sy(r,f){if(1&r){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",17)(2,"div",18)(3,"div",19),e.NdJ("click",function(l){e.CHM(n);const _=e.oxw(2);return e.KtG(_.focusPaste(l))}),e.TgZ(4,"input",20,21),e.NdJ("paste",function(l){const M=e.CHM(n).index,Y=e.oxw().index,K=e.oxw();return e.KtG(K.paste(l,M,Y))}),e.qZA(),e.TgZ(6,"span",22),e._uU(7,"Press "),e.TgZ(8,"kbd"),e._uU(9,"Ctrl+V"),e.qZA(),e._uU(10," with"),e._UZ(11,"br"),e._uU(12,"an image in clipboard."),e.qZA(),e.TgZ(13,"span",23),e._uU(14,"Click to focus"),e._UZ(15,"br"),e._uU(16,"before pasting."),e.qZA(),e.TgZ(17,"div",24),e.NdJ("click",function(l){e.CHM(n);const _=e.oxw(2);return e.KtG(_.stopPaste(l))}),e.TgZ(18,"mat-icon"),e._uU(19,"close"),e.qZA()()(),e.TgZ(20,"div",25),e.NdJ("click",function(l){const M=e.CHM(n).index,Y=e.oxw().index,K=e.oxw();return e.KtG(K.startPaste(M,Y,l))}),e.TgZ(21,"mat-icon"),e._uU(22,"content_paste"),e.qZA()(),e.TgZ(23,"button",26),e.NdJ("click",function(){const _=e.CHM(n).index,M=e.oxw().index,Y=e.oxw();return e.KtG(Y.pickFile(_,M))}),e.TgZ(24,"mat-icon"),e._uU(25,"upload_file"),e.qZA()(),e.TgZ(26,"button",27),e.NdJ("click",function(){const _=e.CHM(n).index,M=e.oxw().index,Y=e.oxw();return e.KtG(Y.clearFile(_,M))}),e.TgZ(27,"mat-icon"),e._uU(28,"clear"),e.qZA()(),e.YNc(29,Wo,3,0,"button",28),e.TgZ(30,"img",29,30),e.NdJ("load",function(){const _=e.CHM(n).index,M=e.oxw().index,Y=e.oxw();return e.KtG(Y.imageLoaded(_,M))}),e.qZA(),e.YNc(32,Bg,2,3,"div",31),e.qZA()(),e.BQk()}if(2&r){const n=f.index,a=e.oxw().index,l=e.oxw();e.xp6(1),e.uIk("data-x",n)("data-y",a)("data-z",n+a*l.blockSize.x.length),e.xp6(1),e.Udp("opacity",n<l.collageSize.x&&a<l.collageSize.y?1:.3),e.xp6(1),e.Q6J("hidden",l.iPaste!==n+a*l.blockSize.x.length),e.xp6(26),e.Q6J("ngIf",!l.itemIcons[a][n]),e.xp6(1),e.Q6J("src",l.files[a][n],e.LSH),e.uIk("data-x",n)("data-y",a),e.xp6(2),e.Q6J("ngIf",l.itemIcons[a][n])}}function ay(r,f){if(1&r&&(e.ynx(0),e.YNc(1,sy,33,11,"ng-container",9),e.BQk()),2&r){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.blockSize.x)}}let Ug=(()=>{class r{onWindowFocus(n){void 0!==this.iPaste&&this.focusPaste(n)}constructor(n,a){this._searchService=n,this._changeDetectorRef=a,this.blockSize={x:Array(6).fill(!1),y:Array(3).fill(!1)},this.collageSize={x:4,y:1},this._rendering=!1,this.sizes={previewWidth:192,previewHeight:288,renderWidth:288,renderHeight:432,previewIconWidth:128/3,renderIconWidth:64},this.setCollageSize(4,1),this.files=[],this.images=[],this.itemIcons=[];for(let l=0;l<this.blockSize.y.length;l++){this.files.push([]),this.images.push([]),this.itemIcons.push([]);for(let _=0;_<this.blockSize.x.length;_++)this.files[l][_]="",this.itemIcons[l][_]=""}}ngAfterViewInit(){for(let n=0;n<this.blockSize.y.length;n++)for(let a=0;a<this.blockSize.x.length;a++){const l=n*this.blockSize.x.length+a,_=this._collageImage.get(l)?.nativeElement,M=this.createPanZoom(_);this.images[n][a]={panZoom:M,element:_}}}setCollageSize(n,a){this.collageSize={x:n,y:a},this.stopPaste(),this._changeDetectorRef.markForCheck()}startPaste(n,a,l){this.iPaste=n+a*this.blockSize.x.length,void 0!==this.iQuickPaste&&this.iPaste!==this.iQuickPaste&&(this.iQuickPaste=this.iPaste);const _=this._collagePaste.get(this.iPaste)?.nativeElement;_&&(_.value="",l?.preventDefault(),l?.stopPropagation(),this._changeDetectorRef.markForCheck(),setTimeout(()=>{_.focus()}))}startQuickPaste(){void 0===this.iQuickPaste?(this.iQuickPaste=void 0!==this.iPaste?this.iPaste-1:-1,this.quickPasteNext()):this.stopPaste()}addItemIcon(n,a){this.itemIcons[a][n]="";const l=prompt("Enter item name to add an icon.");if(!l)return;const M=this._searchService.search(l,{types:["Item"],limit:1}).at(0)?.data;M?.icon&&(this.itemIcons[a][n]=M.icon)}quickPasteNext(){if(null==this.iQuickPaste)return;let n=0,a=0;for(;a<this.collageSize.y&&(this.iQuickPaste++,n=this.iQuickPaste%this.blockSize.x.length,a=Math.floor(this.iQuickPaste/this.blockSize.x.length),!(n<this.collageSize.x&&a<this.collageSize.y)););a>=this.collageSize.y?this.stopPaste():this.startPaste(n,a)}onPanZoomEnd(){this.focusPaste()}focusPaste(n){if(void 0===this.iPaste)return;const a=this._collagePaste.get(this.iPaste)?.nativeElement;a&&(n?.preventDefault(),n?.stopPropagation(),a.focus())}stopPaste(n){n?.preventDefault(),n?.stopPropagation(),this.iPaste=void 0,this.iQuickPaste=void 0,document.activeElement instanceof HTMLElement&&document.activeElement.blur()}paste(n,a,l){this._changeDetectorRef.markForCheck();const _=this.getImgUrlFromClipboard(n);_&&(this.files[l][a]=_,this.iPaste=void 0,void 0!==this.iQuickPaste&&this.quickPasteNext())}clearTxt(n){n.target.value=""}pickFile(n,a){this.files[a][n]="";const l=document.createElement("input");l.type="file",l.accept="image/*",l.onchange=()=>{const _=l.files?.item(0);if(!_)return;const M=URL.createObjectURL(_);this.files[a][n]=M,this._changeDetectorRef.markForCheck()},l.click()}clearFile(n,a){confirm("Are you sure you want to remove this image?")&&(this.files[a][n]="",this._changeDetectorRef.markForCheck())}imageLoaded(n,a){this.copyPrevPanZoom(n,a),this._changeDetectorRef.markForCheck()}saveCollage(){const a=this.render().toDataURL("image/png"),l=document.createElement("a");l.href=a,l.download="sky-outfit-collage.png",l.click()}copyCollage(){this._rendering=!0;const n=()=>{this._rendering=!1,this._changeDetectorRef.detectChanges()};try{this.render().toBlob(l=>{if(!l)return n();const _=new ClipboardItem({"image/png":l});navigator.clipboard.write([_]).then(()=>{n(),this._ttCopy.open(),setTimeout(()=>{this._ttCopy.close()},1e3)}).catch(M=>{console.error("Could not copy image to clipboard: ",M),alert("Copying failed. Please make sure the document is focused."),n()})})}catch(a){console.error(a),n()}}reset(){if(confirm("Are you sure you want to reset all images?")){for(let n=0;n<this.blockSize.y.length;n++)for(let a=0;a<this.blockSize.x.length;a++)this.files[n][a]="";this.iPaste=void 0,this.iQuickPaste=void 0,this._changeDetectorRef.markForCheck()}}createPanZoom(n){return bb()(n,{zoomSpeed:.05,smoothScroll:!1})}getPrevPanZoom(n,a){for(;n>=0&&a>=0;){if(--n<0&&(n=4,a--),a<0)return;if(this.images[a][n].element?.naturalWidth>0)return this.images[a][n].panZoom}}copyPrevPanZoom(n,a){const l=this.getPrevPanZoom(n,a);l?this.copyPanZoom(l,this.images[a][n].panZoom):this.centerPanZoom(this.images[a][n])}copyPanZoom(n,a){a.moveTo(n.getTransform().x,n.getTransform().y),a.zoomAbs(n.getTransform().x,n.getTransform().y,n.getTransform().scale)}centerPanZoom(n){if(!(n.element?.naturalWidth>0))return;const Y=this.sizes.previewWidth;n.panZoom.zoomAbs(-2*Y,0,Y/n.element.naturalWidth*4)}render(){const n=document.createElement("canvas");n.width=this.sizes.renderWidth*this.collageSize.x,n.height=this.sizes.renderHeight*this.collageSize.y;const a=n.getContext("2d");for(let l=0;l<this.collageSize.y;l++)for(let _=0;_<this.collageSize.x;_++){const M=this.images[l][_].element;M?.naturalWidth>0&&this.drawImage(a,M,_,l)}return n}drawImage(n,a,l,_){const M=a.closest(".collage-image-container"),Y=a.getBoundingClientRect(),K=M.getBoundingClientRect();if(n.drawImage(a,(K.left-Y.left)/Y.width*a.naturalWidth,(K.top-Y.top)/Y.height*a.naturalHeight,K.width/Y.width*a.naturalWidth,K.height/Y.height*a.naturalHeight,l*this.sizes.renderWidth,_*this.sizes.renderHeight,this.sizes.renderWidth,this.sizes.renderHeight),this.itemIcons[_][l]){const _n=document.querySelector(`.grid-collage-block[data-x="${l}"][data-y="${_}"] .collage-image-icon img`);if(!(_n?.naturalWidth>0))return;n.fillStyle="#0008",n.beginPath(),n.roundRect(l*this.sizes.renderWidth+4,_*this.sizes.renderHeight+this.sizes.renderHeight-this.sizes.renderIconWidth-4,this.sizes.renderIconWidth,this.sizes.renderIconWidth,8),n.fill(),n.drawImage(_n,0,0,_n.naturalWidth,_n.naturalHeight,l*this.sizes.renderWidth+4,_*this.sizes.renderHeight+this.sizes.renderHeight-this.sizes.renderIconWidth-4,this.sizes.renderIconWidth,this.sizes.renderIconWidth)}}getImgUrlFromClipboard(n){if(n.clipboardData){var a=n.clipboardData.items;if(a)for(let l=0;l<a.length;l++){if(!a[l].type.includes("image"))continue;const _=a[l].getAsFile();return _?URL.createObjectURL(_):void 0}}}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(lh),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-collage"]],viewQuery:function(a,l){if(1&a&&(e.Gf(Db,7),e.Gf(iy,5),e.Gf(oy,5)),2&a){let _;e.iGM(_=e.CRH())&&(l._ttCopy=_.first),e.iGM(_=e.CRH())&&(l._collagePaste=_),e.iGM(_=e.CRH())&&(l._collageImage=_)}},hostBindings:function(a,l){1&a&&e.NdJ("focus",function(M){return l.onWindowFocus(M)},!1,e.Jf7)},decls:38,vars:11,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h3","mb-0"],[1,"button","btn-closet",3,"routerLink"],[1,"menu-icon"],[1,"menu-label"],[1,"sky-card-body","scroll-x"],[1,"container"],["data-theme","light",1,"grid-size-blocks"],[4,"ngFor","ngForOf"],[1,"container","mt","sky-flex","flex-wrap"],["type","button",1,"button",3,"click"],["type","button","ngbTooltip","Copied!","triggers","manual","container","body","placement","top","tooltipClass","show",1,"button",3,"disabled","closeDelay","autoClose","click"],["ttCopy","ngbTooltip"],["type","button",1,"button","button-danger",3,"click"],[1,"grid-collage","mt"],[1,"grid-size-block",3,"click"],[1,"grid-collage-block"],[1,"collage-image-container"],["tabindex","-1",1,"collage-pasting",3,"hidden","click"],["type","text",1,"collage-pasting-input",3,"paste"],["collagePaste",""],[1,"collage-pasting-label"],[1,"collage-pasting-focus"],[1,"button","collage-pasting-close",3,"click"],[1,"button","collage-image-btn","collage-image-btn-clipboard",3,"click"],["type","button",1,"collage-image-btn","collage-image-btn-file",3,"click"],["type","button",1,"collage-image-btn","collage-image-btn-clear",3,"click"],["type","button","class","collage-image-btn collage-image-btn-item",3,"click",4,"ngIf"],["crossorigin","anonymous",1,"collage-image",3,"src","load"],["collageImage",""],["class","collage-image-icon",4,"ngIf"],["type","button",1,"collage-image-btn","collage-image-btn-item",3,"click"],[1,"collage-image-icon"],["crossorigin","anonymous",3,"src","click"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Collage"),e.qZA(),e.TgZ(4,"a",3)(5,"mat-icon",4),e._uU(6,"checkroom"),e.qZA(),e.TgZ(7,"span",5),e._uU(8,"Go to closet"),e.qZA()()(),e.TgZ(9,"div",6)(10,"div",7),e._uU(11," Choose the size of your collage. "),e.TgZ(12,"div",8),e.YNc(13,ry,2,1,"ng-container",9),e.qZA()(),e.TgZ(14,"div",10)(15,"button",11),e.NdJ("click",function(){return l.saveCollage()}),e.TgZ(16,"mat-icon",4),e._uU(17,"save"),e.qZA(),e.TgZ(18,"span",5),e._uU(19,"Save collage"),e.qZA()(),e.TgZ(20,"button",12,13),e.NdJ("click",function(){return l.copyCollage()}),e.TgZ(22,"mat-icon",4),e._uU(23),e.qZA(),e.TgZ(24,"span",5),e._uU(25,"Copy collage"),e.qZA()(),e.TgZ(26,"button",11),e.NdJ("click",function(){return l.startQuickPaste()}),e.TgZ(27,"mat-icon",4),e._uU(28,"content_paste"),e.qZA(),e.TgZ(29,"span",5),e._uU(30,"Quick paste"),e.qZA()(),e.TgZ(31,"button",14),e.NdJ("click",function(){return l.reset()}),e.TgZ(32,"mat-icon",4),e._uU(33,"delete_forever"),e.qZA(),e.TgZ(34,"span",5),e._uU(35,"Reset"),e.qZA()()(),e.TgZ(36,"div",15),e.YNc(37,ay,2,1,"ng-container",9),e.qZA()()()),2&a&&(e.xp6(4),e.Q6J("routerLink","/outfit-request/closet"),e.xp6(9),e.Q6J("ngForOf",l.blockSize.y),e.xp6(7),e.Q6J("disabled",l._rendering)("closeDelay",1e3)("autoClose",!0),e.xp6(2),e.ekj("spin",l._rendering),e.xp6(1),e.Oqu(l._rendering?"cached":"image"),e.xp6(3),e.ekj("highlight",l.iQuickPaste>=0),e.xp6(11),e.Q6J("ngForOf",l.blockSize.y))},dependencies:[Q.sg,Q.O5,q.rH,Uo,V.Hw],styles:[".btn-closet[_ngcontent-%COMP%]{position:absolute;right:8px;top:8px}.grid-size-blocks[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:repeat(6,32px)}.grid-size-block[_ngcontent-%COMP%]{width:32px;height:32px;box-sizing:border-box;border:solid black;border-width:1px 1px 0 0;background:#888;cursor:pointer}.grid-size-block[_ngcontent-%COMP%]:hover{background:#aaa}.grid-size-block[_ngcontent-%COMP%]:nth-of-type(6n-5){border-left-width:1px}.grid-size-block[_ngcontent-%COMP%]:nth-last-of-type(-n+6){border-bottom-width:1px}.block-active[_ngcontent-%COMP%]{background-color:var(--color-active)}.grid-collage[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:repeat(6,192px);gap:20px}@media screen and (min-width: 1400px){.grid-collage[_ngcontent-%COMP%]{gap:2px}}.grid-collage-block[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.collage-image-container[_ngcontent-%COMP%]{position:relative;width:192px;height:288px;box-sizing:border-box;border:1px solid black;background-image:url(https://silverfeelin.github.io/SkyGame-Planner/assets/icons/transparent.webp);background-repeat:repeat;overflow:hidden;cursor:grab}.collage-pasting[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:4;padding:10px;background:#171721de}.collage-pasting-input[_ngcontent-%COMP%]{width:0;height:0;padding:0;margin:0;border:0}.collage-pasting[_ngcontent-%COMP%]:focus-within   .collage-pasting-label[_ngcontent-%COMP%]{display:inline}.collage-pasting[_ngcontent-%COMP%]:not(:focus-within)   .collage-pasting-focus[_ngcontent-%COMP%]{display:inline}.collage-pasting-label[_ngcontent-%COMP%], .collage-pasting-focus[_ngcontent-%COMP%]{display:none;color:#fff;position:absolute;top:50%;left:50%;white-space:nowrap;text-align:center;transform:translate(-50%,-50%)}.collage-pasting-close[_ngcontent-%COMP%]{position:absolute;top:4px;right:4px;width:32px;height:32px;z-index:5;cursor:pointer}.collage-pasting-close[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;top:3px;right:3px}.collage-image-btn[_ngcontent-%COMP%]{position:absolute;width:32px;height:32px;z-index:2;cursor:pointer}.collage-image-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;pointer-events:none;top:3px;left:3px}.collage-image-btn-file[_ngcontent-%COMP%]{top:4px;left:4px}.collage-image-btn-clipboard[_ngcontent-%COMP%]{top:4px;right:4px}.collage-image-btn-clear[_ngcontent-%COMP%]{bottom:4px;right:4px;color:var(--color-danger);background-color:var(--color-danger-background);border-color:var(--color-danger-accent)}.collage-image-btn-item[_ngcontent-%COMP%]{bottom:4px;left:4px}.collage-image[_ngcontent-%COMP%]{position:absolute;top:0;left:0}.collage-image-icon[_ngcontent-%COMP%]{cursor:pointer;background-color:#0008;border-radius:8px;position:absolute;bottom:2px;left:2px;z-index:4}.collage-image-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}app-search-inline[_ngcontent-%COMP%]{position:absolute;z-index:5;bottom:0;left:0}"],changeDetection:0})}return r})();const cy=["ttCopyLnk"],Zg=["ttCopyImg"];function Hg(r,f){1&r&&(e.TgZ(0,"div",13)(1,"div",6)(2,"div",32)(3,"mat-icon",33),e._uU(4,"priority_high"),e.qZA(),e.TgZ(5,"span",5),e._uU(6,"This selection has items hidden in your closet. You might be missing some items."),e.qZA()()()())}function Ic(r,f){if(1&r){const n=e.EpF();e.TgZ(0,"div",13)(1,"div",1)(2,"h2",34),e._uU(3,"Modify closet"),e.qZA()(),e.TgZ(4,"div",6)(5,"div",35),e._uU(6," Show items in columns. It is recommended to set this number to match your in-game closet. "),e.TgZ(7,"div",8)(8,"button",9),e.NdJ("click",function(){e.CHM(n);const l=e.oxw();return e.KtG(l.setColumns(3))}),e._uU(9,"3"),e.qZA(),e.TgZ(10,"button",9),e.NdJ("click",function(){e.CHM(n);const l=e.oxw();return e.KtG(l.setColumns(4))}),e._uU(11,"4"),e.qZA(),e.TgZ(12,"button",9),e.NdJ("click",function(){e.CHM(n);const l=e.oxw();return e.KtG(l.setColumns(5))}),e._uU(13,"5"),e.qZA(),e.TgZ(14,"button",9),e.NdJ("click",function(){e.CHM(n);const l=e.oxw();return e.KtG(l.setColumns(6))}),e._uU(15,"6"),e.qZA(),e.TgZ(16,"button",9),e.NdJ("click",function(){e.CHM(n);const l=e.oxw();return e.KtG(l.setColumns(7))}),e._uU(17,"7"),e.qZA(),e.TgZ(18,"button",9),e.NdJ("click",function(){e.CHM(n);const l=e.oxw();return e.KtG(l.setColumns(8))}),e._uU(19,"8"),e.qZA()()(),e.TgZ(20,"div",36)(21,"p"),e._uU(22," Click on any item to hide it from the closet. This way you can have the closet appear as it does in-game."),e._UZ(23,"br"),e._uU(24," Note that any highlighted items from shared links will be shown even if they are hidden from your closet. A warning will also indicate you are missing items. "),e.qZA(),e.TgZ(25,"p",37),e._uU(26," Because Sky Planner is primarily an item tracker you can use your tracked data to hide items from the closet."),e._UZ(27,"br"),e.qZA(),e.TgZ(28,"div",8)(29,"button",9),e.NdJ("click",function(){e.CHM(n);const l=e.oxw();return e.KtG(l.updateHiddenFromProgress())}),e._uU(30,"Update closet"),e.qZA(),e.TgZ(31,"button",9),e.NdJ("click",function(){e.CHM(n);const l=e.oxw();return e.KtG(l.resetHidden())}),e._uU(32,"Reset closet"),e.qZA()(),e.TgZ(33,"button",38),e.NdJ("click",function(){e.CHM(n);const l=e.oxw();return e.KtG(l.modifyCloset())}),e.TgZ(34,"mat-icon",4),e._uU(35,"done"),e.qZA(),e.TgZ(36,"span",5),e._uU(37,"Done modifying"),e.qZA()()()()()}if(2&r){const n=e.oxw();e.xp6(8),e.ekj("btn-column-active",3===n.columns),e.xp6(2),e.ekj("btn-column-active",4===n.columns),e.xp6(2),e.ekj("btn-column-active",5===n.columns),e.xp6(2),e.ekj("btn-column-active",6===n.columns),e.xp6(2),e.ekj("btn-column-active",7===n.columns),e.xp6(2),e.ekj("btn-column-active",8===n.columns)}}const ly=function(r,f,n){return{$implicit:r,showNone:f,type:n}};function uy(r,f){if(1&r){const n=e.EpF();e.TgZ(0,"div",39)(1,"div",40),e.NdJ("click",function(){const _=e.CHM(n).type,M=e.oxw();return e.KtG(M.toggleClosetSection(_))}),e._UZ(2,"mat-icon",41),e.TgZ(3,"div",42)(4,"mat-icon"),e._uU(5),e.qZA()()(),e.GkF(6,28),e.qZA()}if(2&r){const n=f.type,a=e.oxw(),l=e.MAs(88);e.Udp("grid-template-columns","repeat("+a.columns+", "+(a.itemSizePx+8)+"px)"),e.uIk("data-type",n),e.xp6(1),e.Udp("grid-column","1/"+(a.columns+1)),e.xp6(1),e.Q6J("svgIcon",a.itemIcons[n]),e.xp6(3),e.Oqu(a.typeFolded[n]?"add":"remove"),e.xp6(1),e.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",e.kEZ(9,ly,a.items[n],a.columns&&a.itemTypeUnequip[n],n))}}function jg(r,f){1&r&&(e.TgZ(0,"div",45)(1,"div",46),e._UZ(2,"img",47),e.qZA()())}function dy(r,f){if(1&r&&(e.ynx(0),e.TgZ(1,"span",52),e._uU(2),e.qZA(),e.BQk()),2&r){const n=e.oxw(2).$implicit;e.xp6(2),e.Oqu(n.name)}}function Vg(r,f){if(1&r&&e.YNc(0,dy,3,1,"ng-container",51),2&r){const n=e.oxw().$implicit;e.Q6J("ngIf",n)}}function Cb(r,f){if(1&r){const n=e.EpF();e.ynx(0)(1),e.TgZ(2,"div",48),e.NdJ("click",function(){const _=e.CHM(n).$implicit,M=e.oxw(2);return e.KtG(M.toggleItem(_))}),e._UZ(3,"app-item",49),e.qZA(),e.BQk(),e.YNc(4,Vg,1,1,"ng-template",null,50,e.W1O),e.BQk()}if(2&r){const n=f.$implicit,a=e.MAs(5),l=e.oxw().type,_=e.oxw();e.xp6(2),e.ekj("selected-r",_.selected.r[n.guid])("selected-g",_.selected.g[n.guid])("selected-b",_.selected.b[n.guid])("closet-hide",_.hidden[n.guid]),e.Q6J("hidden",!_.modifyingCloset&&(_.typeFolded[l]||_.hideUnselected&&!_.selected.a[n.guid]||!_.selected.a[n.guid]&&"closet"===_.showMode&&_.hidden[n.guid]))("ngbTooltip",a),e.uIk("data-guid",n.guid),e.xp6(1),e.Q6J("item",n)("size",_.itemSize)("showSubIcons",!1)("highlight",!0)("hoverHighlight",!1)}}function Th(r,f){if(1&r&&(e.YNc(0,jg,3,0,"div",43),e.YNc(1,Cb,6,16,"ng-container",44)),2&r){const n=f.$implicit,a=f.showNone,l=f.type,_=e.oxw();e.Q6J("ngIf",a&&!_.typeFolded[l]&&!_.hideUnselected),e.xp6(1),e.Q6J("ngForOf",n)}}const Mh=function(){return{type:"Outfit"}},qs=function(){return{type:"Shoes"}},hy=function(){return{type:"Mask"}},zg=function(){return{type:"FaceAccessory"}},Ws=function(){return{type:"Necklace"}},Ps=function(){return{type:"Hair"}},Rs=function(){return{type:"Hat"}},$g=function(){return{type:"Cape"}},Gg=function(){return{type:"Held"}},fy=function(){return{type:"Prop"}};let py=(()=>{class r{constructor(n,a,l){this._dataService=n,this._changeDetectorRef=a,this._route=l,this.itemTypes=[rn.q.Outfit,rn.q.Shoes,rn.q.Mask,rn.q.FaceAccessory,rn.q.Necklace,rn.q.Hair,rn.q.Hat,rn.q.Cape,rn.q.Held,rn.q.Prop],this.itemIcons={Outfit:"outfit",Shoes:"shoes",Mask:"mask",FaceAccessory:"face-acc",Necklace:"necklace",Hair:"hair",Hat:"hat",Cape:"cape",Held:"held",Prop:"prop"},this.itemTypeUnequip=[rn.q.Necklace,rn.q.Hat,rn.q.Held,rn.q.Shoes,rn.q.FaceAccessory].reduce((_,M)=>(_[`${M}`]=!0,_),{}),this.items={},this.selected={a:{},r:{},g:{},b:{}},this.hidden={},this.selectionHasHidden=!1,this.modifyingCloset=!1,this.hideUnselected=!1,this.showMode="all",this.columnsLabel="Show as closet",this.maxColumns=8,this.itemSize="small",this.itemSizePx=32,this.typeFolded={},this._itemImgs={},this._rendering=!1,this.hideUnselected="1"===localStorage.getItem("closet.hide-unselected"),this.hidden=JSON.parse(localStorage.getItem("closet.hidden")||"[]").reduce((_,M)=>(_[M]=!0,_),{}),this.columns=+localStorage.getItem("closet.columns")||6,this.showMode=localStorage.getItem("closet.show-mode")||"all",this.itemSize=localStorage.getItem("closet.item-size")||"small",this.itemSizePx="small"===this.itemSize?32:64,this._bgImg=new Image,this._bgImg.crossOrigin="anonymous",this._bgImg.src="https://silverfeelin.github.io/SkyGame-Planner/assets/game/background.webp",this.initializeItems()}copyLink(){navigator.clipboard.writeText(location.href).then(()=>{this._ttCopyLnk.open(),setTimeout(()=>this._ttCopyLnk.close(),1e3)})}copyImage(){this._rendering=!0;const n=[10,7,5,5],a=document.createElement("canvas"),l=Math.ceil(this.items[rn.q.Outfit].length/n[0]),_=Math.ceil(this.items[rn.q.Shoes].length/n[0]),M=Math.ceil(this.items[rn.q.Mask].length/n[0]),Y=Math.ceil(this.items[rn.q.FaceAccessory].length/n[0]),K=Math.ceil(this.items[rn.q.Necklace].length/n[0]),xe=Math.ceil(this.items[rn.q.Hair].length/n[1]),Ve=Math.ceil(this.items[rn.q.Hat].length/n[1]),Pt=Math.ceil(this.items[rn.q.Cape].length/n[2]),Dt=Math.ceil(this.items[rn.q.Held].length/n[3]),dn=72*Pt+48-8,ci=72*(Dt+Math.ceil(this.items[rn.q.Prop].length/n[3]))+72-8,ni=Math.max(72*(l+_+M+Y+K)+144-8,72*(xe+Ve)+72-8,dn,ci);a.width=120+72*n.reduce((li,to)=>li+to,0)-8,a.height=ni===ci?ni+48:ni===dn?ni+24:ni;const ii=a.getContext("2d");this.cvsDrawBackground(ii);const _i=document.querySelectorAll(".closet-item");this._itemImgs=Array.from(_i).reduce((li,to)=>{const go=to.querySelector(".item-icon img");return go?(li[to.getAttribute("data-guid")]=go,li):li},{});let En=24,Sn=24;this.cvsDrawSection(ii,En,Sn,n[0],this.items[rn.q.Outfit],!1),En=24,Sn=48+72*l,this.cvsDrawSection(ii,En,Sn,n[0],this.items[rn.q.Shoes],!1),En=24,Sn=72+72*(l+_),this.cvsDrawSection(ii,En,Sn,n[0],this.items[rn.q.Mask],!1),En=24,Sn=96+72*(l+_+M),this.cvsDrawSection(ii,En,Sn,n[0],this.items[rn.q.FaceAccessory],!1),En=24,Sn=120+72*(l+_+M+Y),this.cvsDrawSection(ii,En,Sn,n[0],this.items[rn.q.Necklace],!1),En=48+72*n[0],Sn=24,this.cvsDrawSection(ii,En,Sn,n[1],this.items[rn.q.Hair],!1),En=48+72*n[0],Sn=48+72*xe,this.cvsDrawSection(ii,En,Sn,n[1],this.items[rn.q.Hat],!1),En=72+72*(n[0]+n[1]),Sn=24,this.cvsDrawSection(ii,En,Sn,n[2],this.items[rn.q.Cape],!1),En=96+72*(n[0]+n[1]+n[2]),Sn=24,this.cvsDrawSection(ii,En,Sn,n[3],this.items[rn.q.Held],!1),En=96+72*(n[0]+n[1]+n[2]),Sn=48+72*Dt,this.cvsDrawSection(ii,En,Sn,n[3],this.items[rn.q.Prop],!1),ii.fillStyle="#fff",ii.font="24px sans-serif",ii.textAlign="right",ii.fillText("Icons by contributors of the Sky: Children of the Light Wiki",a.width-8,a.height-8),ii.fillText("\xa9 Sky: Children of the Light",a.width-8,a.height-8-24);const Pi=()=>{this._rendering=!1,this._changeDetectorRef.detectChanges()};try{a.toBlob(li=>{if(!li)return Pi();const to=new ClipboardItem({[li.type]:li});navigator.clipboard.write([to]).then(()=>{Pi(),this._ttCopyImg.open(),setTimeout(()=>this._ttCopyImg.close(),1e3)}).catch(go=>{console.error("Could not copy image to clipboard: ",go),alert("Copying failed. Please make sure the document is focused."),Pi()})},"image/png")}catch{this._rendering=!1}}setSelectMode(n){this.modifyingCloset=!1,this.selectMode=this.selectMode===n?void 0:n}toggleItem(n){if(this.modifyingCloset)return this.hidden[n.guid]?delete this.hidden[n.guid]:this.hidden[n.guid]=!0,localStorage.setItem("closet.hidden",JSON.stringify(Object.keys(this.hidden))),void this.updateSelectionHasHidden();this.selectMode||(this.selectMode="r");const a=this.selected[this.selectMode],l=!a[n.guid];delete this.selected.a[n.guid],delete this.selected.r[n.guid],delete this.selected.g[n.guid],delete this.selected.b[n.guid],l&&(a[n.guid]=n,this.selected.a[n.guid]=n),this.updateSelectionHasHidden();const _=this.serializeSelected(Object.values(this.selected.r)),M=this.serializeSelected(Object.values(this.selected.g)),Y=this.serializeSelected(Object.values(this.selected.b)),K=new URL(location.href);K.searchParams.set("r",_),K.searchParams.set("g",M),K.searchParams.set("b",Y),window.history.replaceState(window.history.state,"",K.pathname+K.search),this._changeDetectorRef.markForCheck()}resetSelection(){if(!confirm("This will remove the color highlights from all items. Are you sure?"))return;this.selected={a:{},r:{},g:{},b:{}},this.selectionHasHidden=!1;const n=new URL(location.href);n.searchParams.delete("r"),n.searchParams.delete("g"),n.searchParams.delete("b"),window.history.replaceState(window.history.state,"",n.pathname+n.search)}toggleItemSize(){this.itemSize="small"===this.itemSize?"default":"small",this.itemSizePx="small"===this.itemSize?32:64,localStorage.setItem("closet.item-size",this.itemSize)}toggleHideUnselected(){this.hideUnselected=!this.hideUnselected,this.typeFolded={},localStorage.setItem("closet.hide-unselected",this.hideUnselected?"1":"0")}toggleCloset(){this.showMode="all"===this.showMode?"closet":"all","closet"!==this.showMode&&(this.modifyingCloset=!1),localStorage.setItem("closet.show-mode",this.showMode)}modifyCloset(){this.modifyingCloset=!this.modifyingCloset,this.modifyingCloset&&(this.showMode="closet"),this.selectMode=void 0}toggleClosetSection(n){this.typeFolded[n]?delete this.typeFolded[n]:this.typeFolded[n]=!0}scrollToType(n){const a=document.querySelector(`.closet-items[data-type="${n}"]`);a&&a.scrollIntoView({behavior:"smooth",block:"start"})}setColumns(n){this.columns=n,localStorage.setItem("closet.columns",`${n}`)}updateHiddenFromProgress(){const n={};let a=0;for(const l of Object.keys(this.items))for(const _ of this.items[l])_.unlocked||(n[_.guid]=!0,a++);confirm(`This will hide ${a} item(s) from your closet. Are you sure?`)&&(this.hidden=n,localStorage.setItem("closet.hidden",JSON.stringify(Object.keys(this.hidden))))}resetHidden(){confirm("This will show all items in your closet. Are you sure?")&&(this.hidden={},localStorage.setItem("closet.hidden",JSON.stringify([])))}initializeItems(){this.items={};for(const _ of this.itemTypes)this.items[_]=[];for(const _ of this._dataService.itemConfig.items){let M=_.type;"Instrument"===M&&(M=rn.q.Held),this.items[M]&&this.items[M].push(_)}for(const _ of this.itemTypes)this.items[_].sort((M,Y)=>(M.order||99999)-(Y.order||99999));const n=this._route.snapshot.queryParamMap.get("r");if(n?.length){const _=this.deserializeSelected(n);for(const M of _)this.selected.r[M.guid]=M,this.selected.a[M.guid]=M}const a=this._route.snapshot.queryParamMap.get("g");if(a?.length){const _=this.deserializeSelected(a);for(const M of _)this.selected.g[M.guid]=M,this.selected.a[M.guid]=M}const l=this._route.snapshot.queryParamMap.get("b");if(l?.length){const _=this.deserializeSelected(l);for(const M of _)this.selected.b[M.guid]=M,this.selected.a[M.guid]=M}this.updateSelectionHasHidden()}updateSelectionHasHidden(){this.selectionHasHidden=Object.keys(this.hidden).some(n=>this.selected.a[n])}serializeSelected(n){return n.map(l=>(l.id||0).toString(36).padStart(3,"0")).join("")}deserializeSelected(n){const a=n?.match(/.{3}/g)||[],_=this._dataService.itemConfig.items.reduce((Y,K)=>(K.id&&(Y[K.id]=K),Y),{}),M=[];for(const Y of a){const K=_[parseInt(Y,36)];K&&M.push(K)}return M}cvsDrawBackground(n){const a=n.canvas;let M,Y;n.filter="blur(4px) brightness(0.8)",this._bgImg.naturalWidth/this._bgImg.naturalHeight>a.width/a.height?(Y=a.height,M=this._bgImg.naturalWidth*(Y/this._bgImg.naturalHeight)):(M=a.width,Y=this._bgImg.naturalHeight*(M/this._bgImg.naturalWidth)),n.drawImage(this._bgImg,0,0,this._bgImg.naturalWidth,this._bgImg.naturalHeight,a.width/2-M/2-10,a.height/2-Y/2-10,M+20,Y+20),n.filter="none"}cvsDrawSection(n,a,l,_,M,Y){let K=0,xe=0;const Ve=()=>{++K>=_&&(K=0,xe++)},Pt=Math.ceil(M.length/_);if(n.fillStyle="#0005",n.beginPath(),n.roundRect(a-8,l-8,72*_+8,72*Pt+8,8),n.fill(),n.strokeStyle="#0006",n.lineWidth=3,n.beginPath(),n.roundRect(a-8,l-8,72*_+8,72*Pt+8,8),n.stroke(),Y){const yn=document.querySelector(".item-none img");n.fillStyle="#0008",n.beginPath(),n.roundRect(a+72*K,l+72*xe,64,64,8),n.fill(),n.globalAlpha=.2,n.drawImage(yn,0,0,yn.naturalWidth,yn.naturalHeight,a+72*K,l+72*xe,64,64),n.globalAlpha=1,Ve()}const Dt=yn=>{n.strokeStyle=yn,n.lineWidth=4,n.beginPath(),n.roundRect(a+72*K,l+72*xe,64,64,8),n.stroke()},jt=Object.keys(this.selected.a).length>0;for(const yn of M){if(!yn.icon){Ve();continue}const _n=this._itemImgs[yn.guid];_n?(n.fillStyle="#0006",n.beginPath(),n.roundRect(a+72*K,l+72*xe,64,64,8),n.fill(),jt&&!this.selected.a[yn.guid]&&(n.globalAlpha=.3),n.drawImage(_n,0,0,_n.naturalWidth,_n.naturalHeight,a+72*K,l+72*xe,64,64),n.globalAlpha=1,this.selected.r[yn.guid]&&Dt("#f00"),this.selected.g[yn.guid]&&Dt("#0f0"),this.selected.b[yn.guid]&&Dt("#00f"),Ve()):Ve()}}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(Se.D),e.Y36(e.sBO),e.Y36(q.gz))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-closet"]],viewQuery:function(a,l){if(1&a&&(e.Gf(cy,7),e.Gf(Zg,7)),2&a){let _;e.iGM(_=e.CRH())&&(l._ttCopyLnk=_.first),e.iGM(_=e.CRH())&&(l._ttCopyImg=_.first)}},decls:89,vars:53,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h3","mb-0"],[1,"button","btn-collage",3,"routerLink"],[1,"menu-icon"],[1,"menu-label"],[1,"sky-card-body"],[1,"sky-flex","flex-wrap"],[1,"button-group"],["type","button",3,"click"],[1,"menu-no-label"],["type","button",1,"button-danger",3,"click"],["class","sky-card mt",4,"ngIf"],[1,"sky-card","mt"],[1,"sky-card-header","header-items","header-sticky"],[1,"h3","mb-0","label-items"],[1,"button-group","btns-copy"],["type","button","ngbTooltip","Copied!","triggers","manual","container","body","placement","bottom","tooltipClass","show",1,"btn-copy-link",3,"closeDelay","autoClose","click"],["ttCopyLnk","ngbTooltip"],["type","button","ngbTooltip","Copied!","triggers","manual","container","body","placement","bottom","tooltipClass","show",1,"btn-copy-image",3,"disabled","closeDelay","autoClose","click"],["ttCopyImg","ngbTooltip"],[1,"btn-colors"],["type","button","ngbTooltip","Mark items red","container","body","placement","top",1,"btn-color","btn-r",3,"click"],["type","button","ngbTooltip","Mark items green","container","body","placement","top",1,"btn-color","btn-g",3,"click"],["type","button","ngbTooltip","Mark items blue","container","body","placement","top-right",1,"btn-color","btn-b",3,"click"],[1,"sky-card-body","closet-container","scroll-x"],[1,"closet-grid"],[1,"closet-grid-section"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"closet-grid-section-divider"],["templateItemsType",""],["templateItems",""],[1,"container","border-warn"],[1,"menu-icon","color-warn"],[1,"h3"],[1,"container"],[1,"container","mt"],[1,"mb-0"],["type","button",1,"mt",3,"click"],[1,"closet-items"],[1,"closet-type","t-center",3,"click"],[3,"svgIcon"],[1,"closet-type-fold"],["class","closet-item",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"closet-item"],[1,"item-none"],["src","assets/icons/none.webp"],["container","body",1,"closet-item",3,"hidden","ngbTooltip","click"],[3,"item","size","showSubIcons","highlight","hoverHighlight"],["templateItemHover",""],[4,"ngIf"],[1,"ws-nw"]],template:function(a,l){if(1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Sky closet"),e.qZA(),e.TgZ(4,"a",3)(5,"mat-icon",4),e._uU(6,"photo"),e.qZA(),e.TgZ(7,"span",5),e._uU(8,"Make collage"),e.qZA()()(),e.TgZ(9,"div",6)(10,"div",7)(11,"div",8)(12,"button",9),e.NdJ("click",function(){return l.toggleCloset()}),e.TgZ(13,"mat-icon",4),e._uU(14,"checkroom"),e.qZA(),e.TgZ(15,"span",5),e._uU(16),e.qZA()(),e.TgZ(17,"button",9),e.NdJ("click",function(){return l.modifyCloset()}),e.TgZ(18,"mat-icon",4),e._uU(19,"manufacturing"),e.qZA(),e._UZ(20,"span",10),e.qZA()(),e.TgZ(21,"div",8)(22,"button",9),e.NdJ("click",function(){return l.toggleHideUnselected()}),e.TgZ(23,"mat-icon",4),e._uU(24,"filter_alt"),e.qZA(),e.TgZ(25,"span",5),e._uU(26),e.qZA()()(),e.TgZ(27,"div",8)(28,"button",9),e.NdJ("click",function(){return l.toggleItemSize()}),e.TgZ(29,"mat-icon",4),e._uU(30,"zoom_in"),e.qZA(),e.TgZ(31,"span",5),e._uU(32),e.qZA()()(),e.TgZ(33,"button",11),e.NdJ("click",function(){return l.resetSelection()}),e.TgZ(34,"mat-icon",4),e._uU(35,"delete_forever"),e.qZA(),e.TgZ(36,"span",5),e._uU(37,"Reset"),e.qZA()()()()(),e.YNc(38,Hg,7,0,"div",12),e.YNc(39,Ic,38,12,"div",12),e.TgZ(40,"div",13)(41,"div",14)(42,"h2",15),e._uU(43,"Items"),e.qZA(),e.TgZ(44,"div",16)(45,"button",17,18),e.NdJ("click",function(){return l.copyLink()}),e.TgZ(47,"mat-icon",4),e._uU(48,"link"),e.qZA(),e.TgZ(49,"span",5),e._uU(50,"Copy"),e.qZA()(),e.TgZ(51,"button",19,20),e.NdJ("click",function(){return l.copyImage()}),e.TgZ(53,"mat-icon",4),e._uU(54),e.qZA(),e.TgZ(55,"span",5),e._uU(56,"Copy"),e.qZA()()(),e.TgZ(57,"div",21)(58,"button",22),e.NdJ("click",function(){return l.setSelectMode("r")}),e._uU(59," \xa0 "),e.qZA(),e.TgZ(60,"button",23),e.NdJ("click",function(){return l.setSelectMode("g")}),e._uU(61," \xa0 "),e.qZA(),e.TgZ(62,"button",24),e.NdJ("click",function(){return l.setSelectMode("b")}),e._uU(63," \xa0 "),e.qZA()()(),e.TgZ(64,"div",25)(65,"div",26)(66,"div",27),e.GkF(67,28)(68,28),e.qZA(),e._UZ(69,"div",29),e.TgZ(70,"div",27),e.GkF(71,28)(72,28)(73,28),e.qZA(),e._UZ(74,"div",29),e.TgZ(75,"div",27),e.GkF(76,28)(77,28),e.qZA(),e._UZ(78,"div",29),e.TgZ(79,"div",27),e.GkF(80,28),e.qZA(),e._UZ(81,"div",29),e.TgZ(82,"div",27),e.GkF(83,28)(84,28),e.qZA()()()(),e.YNc(85,uy,7,13,"ng-template",null,30,e.W1O),e.YNc(87,Th,2,2,"ng-template",null,31,e.W1O)),2&a){const _=e.MAs(86);e.xp6(4),e.Q6J("routerLink","/outfit-request/collage"),e.xp6(12),e.Oqu("all"===l.showMode?"Show closet":"Show all"),e.xp6(10),e.Oqu(l.hideUnselected?"Show all":"Show highlighted"),e.xp6(6),e.Oqu("small"===l.itemSize?"Show large icons":"Show small icons"),e.xp6(6),e.Q6J("ngIf",l.selectionHasHidden),e.xp6(1),e.Q6J("ngIf",l.modifyingCloset),e.xp6(6),e.Q6J("closeDelay",1e3)("autoClose",!0),e.xp6(6),e.Q6J("disabled",l._rendering)("closeDelay",1e3)("autoClose",!0),e.xp6(2),e.ekj("spin",l._rendering),e.xp6(1),e.Oqu(l._rendering?"cached":"image"),e.xp6(4),e.ekj("btn-color-active","r"===l.selectMode),e.xp6(2),e.ekj("btn-color-active","g"===l.selectMode),e.xp6(2),e.ekj("btn-color-active","b"===l.selectMode),e.xp6(2),e.uIk("data-mode",l.selectMode)("data-modifying",l.modifyingCloset||void 0)("data-size",l.itemSize),e.xp6(3),e.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",e.DdM(43,Mh)),e.xp6(1),e.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",e.DdM(44,qs)),e.xp6(3),e.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",e.DdM(45,hy)),e.xp6(1),e.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",e.DdM(46,zg)),e.xp6(1),e.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",e.DdM(47,Ws)),e.xp6(3),e.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",e.DdM(48,Ps)),e.xp6(1),e.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",e.DdM(49,Rs)),e.xp6(3),e.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",e.DdM(50,$g)),e.xp6(3),e.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",e.DdM(51,Gg)),e.xp6(1),e.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",e.DdM(52,fy))}},dependencies:[Q.sg,Q.O5,Q.tP,q.rH,Uo,V.Hw,uc],styles:[".btn-collage[_ngcontent-%COMP%]{position:absolute;right:8px;top:8px}.btn-colors[_ngcontent-%COMP%]{position:absolute;right:8px;top:8px;display:flex;gap:8px}.btns-copy[_ngcontent-%COMP%]{position:absolute;left:8px;top:8px}.header-sticky[_ngcontent-%COMP%]{position:sticky;top:0;background:var(--color-card-header-sticky-background);z-index:2}.btn-color[_ngcontent-%COMP%]{width:36px;border:0}.btn-r[_ngcontent-%COMP%]{background:#f006}.btn-g[_ngcontent-%COMP%]{background:#0f06}.btn-b[_ngcontent-%COMP%]{background:#00f6}.btn-r.btn-color-active[_ngcontent-%COMP%]{background:#f00;box-shadow:0 0 5px 2px red}.btn-g.btn-color-active[_ngcontent-%COMP%]{background:#0f0;box-shadow:0 0 5px 2px #0f0}.btn-b.btn-color-active[_ngcontent-%COMP%]{background:#00f;box-shadow:0 0 5px 2px #00f}.btn-column-active[_ngcontent-%COMP%]{text-decoration:underline}.color-warn[_ngcontent-%COMP%]{color:#f44}.border-warn[_ngcontent-%COMP%]{border:2px solid #f44}.closet-grid[_ngcontent-%COMP%]{display:flex;gap:8px}.closet-grid-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;align-content:flex-start;flex-wrap:wrap;gap:4px}.closet-grid-section-divider[_ngcontent-%COMP%]{height:auto;border-left:1px solid var(--color-border)}.closet-items[_ngcontent-%COMP%]{position:relative;scroll-margin-top:71px;display:grid;grid-template-columns:repeat(auto-fill,72px);gap:4px;-webkit-user-select:none;user-select:none}.closet-type[_ngcontent-%COMP%]{position:relative;cursor:pointer;background-color:var(--color-card-header-background);border-radius:var(--border-radius);padding:4px}.closet-type[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:top}.closet-type-fold[_ngcontent-%COMP%]{position:absolute;right:4px;top:4px}.closet-item[_ngcontent-%COMP%]{display:inline-block;padding:1px;border-radius:var(--border-radius);background:var(--color-background);border:3px solid transparent}.item-none[_ngcontent-%COMP%]{width:var(--item-size);height:var(--item-size)}.item-none[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.closet-container[data-size=small][_ngcontent-%COMP%]   .closet-items[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,40px)}.closet-container[data-size=small][_ngcontent-%COMP%]   .item-none[_ngcontent-%COMP%]{width:var(--item-size-small);height:var(--item-size-small)}.closet-item[_ngcontent-%COMP%]{cursor:pointer}.closet-container[data-mode=r][_ngcontent-%COMP%]   .closet-item[_ngcontent-%COMP%]:hover{border-color:#f006}.closet-container[data-mode=g][_ngcontent-%COMP%]   .closet-item[_ngcontent-%COMP%]:hover{border-color:#0f06}.closet-container[data-mode=b][_ngcontent-%COMP%]   .closet-item[_ngcontent-%COMP%]:hover{border-color:#00f6}.selected-r[_ngcontent-%COMP%]{border-color:red!important}.selected-g[_ngcontent-%COMP%]{border-color:#0f0!important}.selected-b[_ngcontent-%COMP%]{border-color:#00f!important}.closet-hide[_ngcontent-%COMP%]   app-item[_ngcontent-%COMP%]{opacity:.2}.closet-container[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{display:none}.closet-container[_ngcontent-%COMP%]   .closet-items[_ngcontent-%COMP%]:not(:empty) + hr[_ngcontent-%COMP%]{display:block}hr[_ngcontent-%COMP%]:last-child{display:none}.header-items[_ngcontent-%COMP%]{min-height:54px}.label-items[_ngcontent-%COMP%]{display:none}@media screen and (min-width: 720px){.label-items[_ngcontent-%COMP%]{display:block}.btns-copy[_ngcontent-%COMP%]{left:92px}}"],changeDetection:0})}return r})();const Yg=function(){return["/outfit-request/closet"]},gy=function(){return["/outfit-request/collage"]};let my=(()=>{class r{static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-tools"]],decls:16,vars:4,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card-body"],[1,"grid","grid-2"],[1,"container",3,"routerLink"],[1,"menu-icon"],[1,"menu-label"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Tools"),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4)(6,"a",5)(7,"mat-icon",6),e._uU(8,"checkroom"),e.qZA(),e.TgZ(9,"span",7),e._uU(10," Outfit request closet "),e.qZA()(),e.TgZ(11,"a",5)(12,"mat-icon",6),e._uU(13,"image"),e.qZA(),e.TgZ(14,"span",7),e._uU(15," Outfit request collage "),e.qZA()()()()()),2&a&&(e.xp6(6),e.Q6J("routerLink",e.DdM(2,Yg)),e.xp6(5),e.Q6J("routerLink",e.DdM(3,gy)))},dependencies:[q.rH,V.Hw],changeDetection:0})}return r})();const or=r=>`${r} - Sky Planner`,qg=[{path:"",component:xg,title:"Sky Planner"},{path:"blank",component:Ig,title:"Sky Planner"},{path:"credits",component:ne,title:or("Credits")},{path:"event",component:lv,title:or("Events")},{path:"event/:guid",component:nv,title:Gr},{path:"event-instance/:guid",component:q_,title:ul},{path:"item",component:tb,title:or("Items")},{path:"realm",component:Ud,title:or("Realms")},{path:"realm/:guid",component:oh,title:Gr},{path:"season",component:sb,title:or("Seasons")},{path:"season/:guid",component:vc,title:Gr},{path:"settings",component:cu,title:or("Settings")},{path:"shop",component:l0,title:or("Shops")},{path:"spirits",component:ch,title:or("Spirits")},{path:"spirit",component:Wv,title:or("Spirits")},{path:"spirit/:guid",component:Jd,title:Gr},{path:"ts",component:th,title:or("Traveling Spirits")},{path:"rs",component:lg,title:or("Special Visits")},{path:"rs/:guid",component:_b,title:Gr},{path:"winged-light",component:kg,title:or("Winged Light")},{path:"wing-buff",component:Xp,title:or("Wing Buffs")},{path:"col",component:ny,title:or("Children of Light")},{path:"tools",component:my,title:or("Tools")},{path:"outfit-request/collage",component:Ug,title:or("Collage")},{path:"outfit-request/closet",component:py,title:or("Closet")},{path:"editor",loadChildren:()=>S.e(471).then(S.bind(S,4471)).then(r=>r.EditorModule)}];let Cu=(()=>{class r{static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({imports:[q.Bz.forRoot(qg,{scrollPositionRestoration:"enabled"}),q.Bz]})}return r})();var _y=S(736),Wg=S.n(_y),Jg=S(7014),Qg=S.n(Jg),vy=S(6669),yy=S.n(vy);function Sh(r,f){if(1&r){const n=e.EpF();e.TgZ(0,"aside",14),e.NdJ("click",function(){e.CHM(n);const l=e.oxw();return e.KtG(l.foldMenu())}),e.TgZ(1,"mat-icon"),e._uU(2,"keyboard_double_arrow_right"),e.qZA()()}2&r&&e.Q6J("ngbTooltip","Open menu")}function wu(r,f){if(1&r&&e._UZ(0,"img",15),2&r){const n=e.oxw();e.Q6J("src",n.seasonIconUrl,e.LSH)}}function Ah(r,f){1&r&&(e.TgZ(0,"mat-icon"),e._uU(1,"ac_unit"),e.qZA())}let Kg=(()=>{class r{constructor(n,a,l){this._dataService=n,this._breakpointObserver=a,this._router=l,this.wide=!1,this.folded=!1,a.observe(["(min-width: 992px)"]).subscribe(_=>this.onLg(_)),this.seasonIconUrl=n.seasonConfig.items.at(-1)?.iconUrl,this.updateFolded("1"===localStorage.getItem("menu.folded"))}onLg(n){this.wide=n.matches}gotoHome(n){n.preventDefault(),this._router.navigate(["/blank"],{skipLocationChange:!0}).then(()=>{this._router.navigate(["/"])})}foldMenu(){this.updateFolded(!this.folded)}updateFolded(n){this.folded=n,document.body.classList.toggle("menu-folded",this.folded),localStorage.setItem("menu.folded",this.folded?"1":"0")}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(Se.D),e.Y36(te.Yg),e.Y36(q.F0))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-menu"]],decls:78,vars:29,consts:[["class","menu-toggle","container","body","placement","right",3,"ngbTooltip","click",4,"ngIf"],[1,"menu"],[1,"items"],["placement","right","container","body",1,"item","menu-fold",3,"ngbTooltip","click"],[1,"name"],["href","/","placement","right","container","body",1,"item",3,"ngbTooltip","click"],[1,"name","header"],["routerLinkActive","menu-active","placement","right","container","body",1,"item",3,"routerLink","ngbTooltip"],["svgIcon","flaps"],["class","icon",3,"src",4,"ngIf","ngIfElse"],["seasonIcon",""],[1,"bottom"],["href","https://sky-clock.netlify.app/","target","_blank","placement","right","container","body",1,"item",3,"ngbTooltip"],["href","https://github.com/Silverfeelin/SkyGame-Planner/","target","_blank","placement","right","container","body",1,"item",3,"ngbTooltip"],["container","body","placement","right",1,"menu-toggle",3,"ngbTooltip","click"],[1,"icon",3,"src"]],template:function(a,l){if(1&a&&(e.YNc(0,Sh,3,1,"aside",0),e.TgZ(1,"aside",1)(2,"nav")(3,"div",2)(4,"a",3),e.NdJ("click",function(){return l.foldMenu()}),e.TgZ(5,"mat-icon"),e._uU(6,"keyboard_double_arrow_left"),e.qZA(),e.TgZ(7,"span",4),e._uU(8,"Close menu"),e.qZA()(),e._UZ(9,"hr"),e.TgZ(10,"a",5),e.NdJ("click",function(M){return l.gotoHome(M)}),e.TgZ(11,"mat-icon"),e._uU(12,"home"),e.qZA(),e.TgZ(13,"span",6),e._uU(14,"Sky Planner"),e.qZA()(),e._UZ(15,"hr"),e.TgZ(16,"a",7)(17,"mat-icon"),e._uU(18,"checkroom"),e.qZA(),e.TgZ(19,"span",4),e._uU(20,"Items"),e.qZA()(),e.TgZ(21,"a",7)(22,"mat-icon"),e._uU(23,"person"),e.qZA(),e.TgZ(24,"span",4),e._uU(25,"Spirits"),e.qZA()(),e.TgZ(26,"a",7),e._UZ(27,"mat-icon",8),e.TgZ(28,"span",4),e._uU(29,"Winged Light"),e.qZA()(),e.TgZ(30,"a",7)(31,"mat-icon"),e._uU(32,"map"),e.qZA(),e.TgZ(33,"span",4),e._uU(34,"Realms"),e.qZA()(),e.TgZ(35,"a",7),e.YNc(36,wu,1,1,"img",9),e.YNc(37,Ah,2,0,"ng-template",null,10,e.W1O),e.TgZ(39,"span",4),e._uU(40,"Seasons"),e.qZA()(),e.TgZ(41,"a",7)(42,"mat-icon"),e._uU(43,"celebration"),e.qZA(),e.TgZ(44,"span",4),e._uU(45,"Events"),e.qZA()(),e.TgZ(46,"a",7)(47,"mat-icon"),e._uU(48,"shopping_cart"),e.qZA(),e.TgZ(49,"span",4),e._uU(50,"Permanent IAP"),e.qZA()(),e.TgZ(51,"a",7)(52,"mat-icon"),e._uU(53,"build"),e.qZA(),e.TgZ(54,"span",4),e._uU(55,"Tools"),e.qZA()(),e._UZ(56,"hr",11),e.TgZ(57,"a",12)(58,"mat-icon"),e._uU(59,"schedule"),e.qZA(),e.TgZ(60,"span",4),e._uU(61,"Sky Clock"),e.qZA()(),e._UZ(62,"hr"),e.TgZ(63,"a",7)(64,"mat-icon"),e._uU(65,"settings"),e.qZA(),e.TgZ(66,"span",4),e._uU(67,"Settings"),e.qZA()(),e.TgZ(68,"a",13)(69,"mat-icon"),e._uU(70,"code"),e.qZA(),e.TgZ(71,"span",4),e._uU(72,"GitHub"),e.qZA()(),e.TgZ(73,"a",7)(74,"mat-icon"),e._uU(75,"info"),e.qZA(),e.TgZ(76,"span",4),e._uU(77,"Credits"),e.qZA()()()()()),2&a){const _=e.MAs(38);e.Q6J("ngIf",l.folded),e.xp6(1),e.ekj("folded",l.folded),e.xp6(3),e.Q6J("ngbTooltip",l.wide?"":"Close menu"),e.xp6(6),e.Q6J("ngbTooltip",l.wide?"":"Home"),e.xp6(6),e.Q6J("routerLink","item")("ngbTooltip",l.wide?"":"Items"),e.xp6(5),e.Q6J("routerLink","spirits")("ngbTooltip",l.wide?"":"Spirits"),e.xp6(5),e.Q6J("routerLink","winged-light")("ngbTooltip",l.wide?"":"Winged Light"),e.xp6(4),e.Q6J("routerLink","realm")("ngbTooltip",l.wide?"":"Realms"),e.xp6(5),e.Q6J("routerLink","season")("ngbTooltip",l.wide?"":"Seasons"),e.xp6(1),e.Q6J("ngIf",l.seasonIconUrl)("ngIfElse",_),e.xp6(5),e.Q6J("routerLink","event")("ngbTooltip",l.wide?"":"Events"),e.xp6(5),e.Q6J("routerLink","shop")("ngbTooltip",l.wide?"":"Shop"),e.xp6(5),e.Q6J("routerLink","tools")("ngbTooltip",l.wide?"":"Tools"),e.xp6(6),e.Q6J("ngbTooltip",l.wide?"":"Sky Clock"),e.xp6(6),e.Q6J("routerLink","settings")("ngbTooltip",l.wide?"":"Settings"),e.xp6(5),e.Q6J("ngbTooltip",l.wide?"":"GitHub"),e.xp6(5),e.Q6J("routerLink","credits")("ngbTooltip",l.wide?"":"Credits")}},dependencies:[Q.O5,q.rH,q.Od,Uo,V.Hw],styles:[".menu[_ngcontent-%COMP%]{position:fixed;left:0;top:0;bottom:0;width:var(--menu-width);background-color:var(--color-menu-background);z-index:100;overflow-x:hidden;overflow-y:auto;border-right:1px solid var(--color-border)}.folded[_ngcontent-%COMP%]{display:none!important}.menu-toggle[_ngcontent-%COMP%]{position:fixed;cursor:pointer;top:5px;left:0;width:34px;height:34px;z-index:999999;background:var(--color-menu-unfold-background);padding:var(--padding-content);border-radius:0 var(--border-radius) var(--border-radius) 0;border:1px solid var(--color-menu-unfold-border)}.menu-toggle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:4px;position:absolute;top:0;left:0}.header[_ngcontent-%COMP%]{position:relative;font-size:24px;text-align:left;text-decoration:none}.header[_ngcontent-%COMP%]:hover{background-color:var(--color-menu-item-active-background)}.header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:relative;top:3px}.title[_ngcontent-%COMP%]{padding-left:4px}.items[_ngcontent-%COMP%]{display:flex;height:100vh;flex-direction:column;align-content:stretch;position:relative;font-size:18px}.item[_ngcontent-%COMP%]{display:block;padding:10px;cursor:pointer;background-color:var(--color-menu-item-background)}.menu-fold[_ngcontent-%COMP%]{padding:5px 10px}.bottom[_ngcontent-%COMP%]{margin-top:auto}.item.menu-active[_ngcontent-%COMP%], .item[_ngcontent-%COMP%]:hover{background-color:var(--color-menu-item-active-background)}.item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:sub}.item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:10px}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus, a[_ngcontent-%COMP%]:active, a[_ngcontent-%COMP%]:visited{color:unset}hr[_ngcontent-%COMP%]{margin:0;color:var(--color-menu-border)}.header[_ngcontent-%COMP%], .name[_ngcontent-%COMP%]{display:none}@media screen and (min-width: 992px){.header[_ngcontent-%COMP%]{display:block}.name[_ngcontent-%COMP%]{display:inline-block}.item[_ngcontent-%COMP%]{padding:15px 10px}.menu-fold[_ngcontent-%COMP%]{padding:2px 10px}}"]})}return r})();function Xg(r,f){1&r&&(e.TgZ(0,"div",2)(1,"mat-icon",3),e._uU(2,"cached"),e.qZA()())}function em(r,f){1&r&&(e.TgZ(0,"div",6)(1,"div",7),e._uU(2,"Data was changed in another tab. Please refresh this tab to avoid losing changes!"),e.qZA()())}function tm(r,f){if(1&r&&(e.ynx(0),e._UZ(1,"app-menu"),e.YNc(2,em,3,0,"div",4),e.TgZ(3,"div",5),e._UZ(4,"router-outlet"),e.qZA(),e.BQk()),2&r){const n=e.oxw();e.xp6(2),e.Q6J("ngIf",n.dataLoss)}}let nm=(()=>{class r{constructor(n,a,l,_,M,Y,K){this._dataService=n,this._eventService=a,this._themeService=l,this._domSanitizer=_,this._matIconRegistry=M,this._viewContainerRef=Y,this._router=K,this.ready=!1,this.dataLoss=!1,this._dataService.onData.subscribe(()=>{this.onData()}),this._themeService.init(),this.initDisplayDate(),M.setDefaultFontSetClass("material-symbols-outlined"),M.addSvgIconSet(_.bypassSecurityTrustResourceUrl("assets/icons/icons.svg")),window.addEventListener("storage",()=>{this.dataLoss=!0}),Do().extend(Wg()),Do().extend(Qg()),Do().extend(yy()),Do().tz.setDefault(ge.O.skyTimeZone),window.dayjs=Do()}initDisplayDate(){ge.O.displayFormat=localStorage.getItem("date.format")||"",(!ge.O.displayFormat||!ge.O.displayFormats.includes(ge.O.displayFormat))&&(ge.O.displayFormat=ge.O.displayFormats[0])}onData(){this.ready=!0}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(Se.D),e.Y36(Te),e.Y36(au),e.Y36(p.H7),e.Y36(V.jv),e.Y36(e.s_b),e.Y36(q.F0))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-root"]],decls:2,vars:2,consts:[["class","loading fade-in",4,"ngIf"],[4,"ngIf"],[1,"loading","fade-in"],[1,"spin"],["class","data-loss",4,"ngIf"],[1,"content"],[1,"data-loss"],[1,"data-loss-inner"]],template:function(a,l){1&a&&(e.YNc(0,Xg,3,0,"div",0),e.YNc(1,tm,5,1,"ng-container",1)),2&a&&(e.Q6J("ngIf",!l.ready),e.xp6(1),e.Q6J("ngIf",l.ready))},dependencies:[Q.O5,q.lC,V.Hw,Kg],styles:[".loading[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;justify-content:center;align-items:center;height:100%;transform:scaleX(-1)}.loading[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{scale:3}@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0}to{opacity:1}}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade-in 2s ease-in;animation-fill-mode:forwards}  body{position:relative;left:var(--menu-width);width:calc(100% - var(--menu-width));padding:var(--padding-content)}  body.menu-folded{left:0;width:100%}body.no-menu[_ngcontent-%COMP%]{left:0;width:100%}.data-loss[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#0008;z-index:999}.data-loss-inner[_ngcontent-%COMP%]{position:relative;display:inline-block;top:50%;left:50%;transform:translate(-50%,-50%)}.map-container[_ngcontent-%COMP%]{display:none}"]})}return r})(),im=(()=>{class r{static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275mod=e.oAB({type:r,bootstrap:[nm]});static#n=this.\u0275inj=e.cJS({imports:[p.b2,Cu,J.JF,kf,te.xu,V.Ps]})}return r})();Array.prototype.findLast=function(r){for(let f=this.length-1;f>=0;f--){const n=this[f];if(r(n,f,this))return n}},p.q6().bootstrapModule(im).catch(r=>console.error(r))},5254:(yt,ke,S)=>{var p=S(5784),J={ease:p(.25,.1,.25,1),easeIn:p(.42,0,1,1),easeOut:p(0,0,.58,1),easeInOut:p(.42,0,.58,1),linear:p(0,0,1,1)};function te(){}function Le(){var oe=new Set,re=new Set,fe=0;return{next:ge,cancel:ge,clearAll:function ne(){oe.clear(),re.clear(),cancelAnimationFrame(fe),fe=0}};function ge(ee){re.add(ee),function De(){fe||(fe=requestAnimationFrame(Se))}()}function Se(){fe=0;var ee=re;re=oe,(oe=ee).forEach(function(Te){Te()}),oe.clear()}}yt.exports=function V(oe,re,fe){var ne=Object.create(null),ge=Object.create(null),De="function"==typeof(fe=fe||{}).easing?fe.easing:J[fe.easing];De||(fe.easing&&console.warn("Unknown easing function in amator: "+fe.easing),De=J.ease);var Se="function"==typeof fe.step?fe.step:te,ze="function"==typeof fe.done?fe.done:te,ee=function q(oe){if(!oe)return typeof window<"u"&&window.requestAnimationFrame?function e(){return{next:window.requestAnimationFrame.bind(window),cancel:window.cancelAnimationFrame.bind(window)}}():function Q(){return{next:function(oe){return setTimeout(oe,1e3/60)},cancel:function(oe){return clearTimeout(oe)}}}();if("function"!=typeof oe.next)throw new Error("Scheduler is supposed to have next(cb) function");if("function"!=typeof oe.cancel)throw new Error("Scheduler is supposed to have cancel(handle) function");return oe}(fe.scheduler),Te=Object.keys(re);Te.forEach(function(Pe){ne[Pe]=oe[Pe],ge[Pe]=re[Pe]-oe[Pe]});var be,nt=Math.max(1,.06*("number"==typeof fe.duration?fe.duration:400)),pe=0;return be=ee.next(function Ge(){var Pe=De(pe/nt);pe+=1,function Oe(Pe){Te.forEach(function($e){oe[$e]=ge[$e]*Pe+ne[$e]})}(Pe),pe<=nt?(be=ee.next(Ge),Se(oe)):(be=0,setTimeout(function(){ze(oe)},0))}),{cancel:function de(){ee.cancel(be),be=0}}},yt.exports.makeAggregateRaf=Le,yt.exports.sharedScheduler=Le()},5784:yt=>{var q="function"==typeof Float32Array;function e(De,Se){return 1-3*Se+3*De}function Q(De,Se){return 3*Se-6*De}function Le(De){return 3*De}function oe(De,Se,ze){return((e(Se,ze)*De+Q(Se,ze))*De+Le(Se))*De}function re(De,Se,ze){return 3*e(Se,ze)*De*De+2*Q(Se,ze)*De+Le(Se)}function ge(De){return De}yt.exports=function(Se,ze,ee,Te){if(!(0<=Se&&Se<=1&&0<=ee&&ee<=1))throw new Error("bezier x values must be in [0, 1] range");if(Se===ze&&ee===Te)return ge;for(var et=q?new Float32Array(11):new Array(11),nt=0;nt<11;++nt)et[nt]=oe(.1*nt,Se,ee);return function(de){return 0===de?0:1===de?1:oe(function be(pe){for(var de=0,Ge=1;10!==Ge&&et[Ge]<=pe;++Ge)de+=.1;--Ge;var $e=de+(pe-et[Ge])/(et[Ge+1]-et[Ge])*.1,He=re($e,Se,ee);return He>=.001?function ne(De,Se,ze,ee){for(var Te=0;Te<4;++Te){var et=re(Se,ze,ee);if(0===et)return Se;Se-=(oe(Se,ze,ee)-De)/et}return Se}(pe,$e,Se,ee):0===He?$e:function fe(De,Se,ze,ee,Te){var et,nt,be=0;do{(et=oe(nt=Se+(ze-Se)/2,ee,Te)-De)>0?ze=nt:Se=nt}while(Math.abs(et)>1e-7&&++be<10);return nt}(pe,de,de+.1,Se,ee)}(de),ze,Te)}}},292:function(yt){yt.exports=function(){"use strict";var S=6e4,p=36e5,J="millisecond",V="second",te="minute",q="hour",e="day",Q="week",Le="month",oe="quarter",re="year",fe="date",ne="Invalid Date",ge=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,De=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Se={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Pe){var $e=["th","st","nd","rd"],He=Pe%100;return"["+Pe+($e[(He-20)%10]||$e[He]||$e[0])+"]"}},ze=function(Pe,$e,He){var ft=String(Pe);return!ft||ft.length>=$e?Pe:""+Array($e+1-ft.length).join(He)+Pe},ee={s:ze,z:function(Pe){var $e=-Pe.utcOffset(),He=Math.abs($e),ft=Math.floor(He/60),Fe=He%60;return($e<=0?"+":"-")+ze(ft,2,"0")+":"+ze(Fe,2,"0")},m:function Pe($e,He){if($e.date()<He.date())return-Pe(He,$e);var ft=12*(He.year()-$e.year())+(He.month()-$e.month()),Fe=$e.clone().add(ft,Le),Bt=He-Fe<0,ut=$e.clone().add(ft+(Bt?-1:1),Le);return+(-(ft+(He-Fe)/(Bt?Fe-ut:ut-Fe))||0)},a:function(Pe){return Pe<0?Math.ceil(Pe)||0:Math.floor(Pe)},p:function(Pe){return{M:Le,y:re,w:Q,d:e,D:fe,h:q,m:te,s:V,ms:J,Q:oe}[Pe]||String(Pe||"").toLowerCase().replace(/s$/,"")},u:function(Pe){return void 0===Pe}},Te="en",et={};et[Te]=Se;var nt=function(Pe){return Pe instanceof Ge},be=function Pe($e,He,ft){var Fe;if(!$e)return Te;if("string"==typeof $e){var Bt=$e.toLowerCase();et[Bt]&&(Fe=Bt),He&&(et[Bt]=He,Fe=Bt);var ut=$e.split("-");if(!Fe&&ut.length>1)return Pe(ut[0])}else{var pt=$e.name;et[pt]=$e,Fe=pt}return!ft&&Fe&&(Te=Fe),Fe||!ft&&Te},pe=function(Pe,$e){if(nt(Pe))return Pe.clone();var He="object"==typeof $e?$e:{};return He.date=Pe,He.args=arguments,new Ge(He)},de=ee;de.l=be,de.i=nt,de.w=function(Pe,$e){return pe(Pe,{locale:$e.$L,utc:$e.$u,x:$e.$x,$offset:$e.$offset})};var Ge=function(){function Pe(He){this.$L=be(He.locale,null,!0),this.parse(He)}var $e=Pe.prototype;return $e.parse=function(He){this.$d=function(ft){var Fe=ft.date,Bt=ft.utc;if(null===Fe)return new Date(NaN);if(de.u(Fe))return new Date;if(Fe instanceof Date)return new Date(Fe);if("string"==typeof Fe&&!/Z$/i.test(Fe)){var ut=Fe.match(ge);if(ut){var pt=ut[2]-1||0,Re=(ut[7]||"0").substring(0,3);return Bt?new Date(Date.UTC(ut[1],pt,ut[3]||1,ut[4]||0,ut[5]||0,ut[6]||0,Re)):new Date(ut[1],pt,ut[3]||1,ut[4]||0,ut[5]||0,ut[6]||0,Re)}}return new Date(Fe)}(He),this.$x=He.x||{},this.init()},$e.init=function(){var He=this.$d;this.$y=He.getFullYear(),this.$M=He.getMonth(),this.$D=He.getDate(),this.$W=He.getDay(),this.$H=He.getHours(),this.$m=He.getMinutes(),this.$s=He.getSeconds(),this.$ms=He.getMilliseconds()},$e.$utils=function(){return de},$e.isValid=function(){return this.$d.toString()!==ne},$e.isSame=function(He,ft){var Fe=pe(He);return this.startOf(ft)<=Fe&&Fe<=this.endOf(ft)},$e.isAfter=function(He,ft){return pe(He)<this.startOf(ft)},$e.isBefore=function(He,ft){return this.endOf(ft)<pe(He)},$e.$g=function(He,ft,Fe){return de.u(He)?this[ft]:this.set(Fe,He)},$e.unix=function(){return Math.floor(this.valueOf()/1e3)},$e.valueOf=function(){return this.$d.getTime()},$e.startOf=function(He,ft){var Fe=this,Bt=!!de.u(ft)||ft,ut=de.p(He),pt=function(Ye,rt){var ot=de.w(Fe.$u?Date.UTC(Fe.$y,rt,Ye):new Date(Fe.$y,rt,Ye),Fe);return Bt?ot:ot.endOf(e)},Re=function(Ye,rt){return de.w(Fe.toDate()[Ye].apply(Fe.toDate("s"),(Bt?[0,0,0,0]:[23,59,59,999]).slice(rt)),Fe)},ct=this.$W,ce=this.$M,he=this.$D,Me="set"+(this.$u?"UTC":"");switch(ut){case re:return Bt?pt(1,0):pt(31,11);case Le:return Bt?pt(1,ce):pt(0,ce+1);case Q:var Ce=this.$locale().weekStart||0,Ie=(ct<Ce?ct+7:ct)-Ce;return pt(Bt?he-Ie:he+(6-Ie),ce);case e:case fe:return Re(Me+"Hours",0);case q:return Re(Me+"Minutes",1);case te:return Re(Me+"Seconds",2);case V:return Re(Me+"Milliseconds",3);default:return this.clone()}},$e.endOf=function(He){return this.startOf(He,!1)},$e.$set=function(He,ft){var Fe,Bt=de.p(He),ut="set"+(this.$u?"UTC":""),pt=(Fe={},Fe[e]=ut+"Date",Fe[fe]=ut+"Date",Fe[Le]=ut+"Month",Fe[re]=ut+"FullYear",Fe[q]=ut+"Hours",Fe[te]=ut+"Minutes",Fe[V]=ut+"Seconds",Fe[J]=ut+"Milliseconds",Fe)[Bt],Re=Bt===e?this.$D+(ft-this.$W):ft;if(Bt===Le||Bt===re){var ct=this.clone().set(fe,1);ct.$d[pt](Re),ct.init(),this.$d=ct.set(fe,Math.min(this.$D,ct.daysInMonth())).$d}else pt&&this.$d[pt](Re);return this.init(),this},$e.set=function(He,ft){return this.clone().$set(He,ft)},$e.get=function(He){return this[de.p(He)]()},$e.add=function(He,ft){var Fe,Bt=this;He=Number(He);var ut=de.p(ft),pt=function(ce){var he=pe(Bt);return de.w(he.date(he.date()+Math.round(ce*He)),Bt)};if(ut===Le)return this.set(Le,this.$M+He);if(ut===re)return this.set(re,this.$y+He);if(ut===e)return pt(1);if(ut===Q)return pt(7);var Re=(Fe={},Fe[te]=S,Fe[q]=p,Fe[V]=1e3,Fe)[ut]||1,ct=this.$d.getTime()+He*Re;return de.w(ct,this)},$e.subtract=function(He,ft){return this.add(-1*He,ft)},$e.format=function(He){var ft=this,Fe=this.$locale();if(!this.isValid())return Fe.invalidDate||ne;var Bt=He||"YYYY-MM-DDTHH:mm:ssZ",ut=de.z(this),pt=this.$H,Re=this.$m,ct=this.$M,ce=Fe.weekdays,he=Fe.months,Ce=function(rt,ot,fn,gt){return rt&&(rt[ot]||rt(ft,Bt))||fn[ot].slice(0,gt)},Ie=function(rt){return de.s(pt%12||12,rt,"0")},Ye=Fe.meridiem||function(rt,ot,fn){var gt=rt<12?"AM":"PM";return fn?gt.toLowerCase():gt};return Bt.replace(De,function(rt,ot){return ot||function(fn){switch(fn){case"YY":return String(ft.$y).slice(-2);case"YYYY":return de.s(ft.$y,4,"0");case"M":return ct+1;case"MM":return de.s(ct+1,2,"0");case"MMM":return Ce(Fe.monthsShort,ct,he,3);case"MMMM":return Ce(he,ct);case"D":return ft.$D;case"DD":return de.s(ft.$D,2,"0");case"d":return String(ft.$W);case"dd":return Ce(Fe.weekdaysMin,ft.$W,ce,2);case"ddd":return Ce(Fe.weekdaysShort,ft.$W,ce,3);case"dddd":return ce[ft.$W];case"H":return String(pt);case"HH":return de.s(pt,2,"0");case"h":return Ie(1);case"hh":return Ie(2);case"a":return Ye(pt,Re,!0);case"A":return Ye(pt,Re,!1);case"m":return String(Re);case"mm":return de.s(Re,2,"0");case"s":return String(ft.$s);case"ss":return de.s(ft.$s,2,"0");case"SSS":return de.s(ft.$ms,3,"0");case"Z":return ut}return null}(rt)||ut.replace(":","")})},$e.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},$e.diff=function(He,ft,Fe){var Bt,ut=this,pt=de.p(ft),Re=pe(He),ct=(Re.utcOffset()-this.utcOffset())*S,ce=this-Re,he=function(){return de.m(ut,Re)};switch(pt){case re:Bt=he()/12;break;case Le:Bt=he();break;case oe:Bt=he()/3;break;case Q:Bt=(ce-ct)/6048e5;break;case e:Bt=(ce-ct)/864e5;break;case q:Bt=ce/p;break;case te:Bt=ce/S;break;case V:Bt=ce/1e3;break;default:Bt=ce}return Fe?Bt:de.a(Bt)},$e.daysInMonth=function(){return this.endOf(Le).$D},$e.$locale=function(){return et[this.$L]},$e.locale=function(He,ft){if(!He)return this.$L;var Fe=this.clone(),Bt=be(He,ft,!0);return Bt&&(Fe.$L=Bt),Fe},$e.clone=function(){return de.w(this.$d,this)},$e.toDate=function(){return new Date(this.valueOf())},$e.toJSON=function(){return this.isValid()?this.toISOString():null},$e.toISOString=function(){return this.$d.toISOString()},$e.toString=function(){return this.$d.toUTCString()},Pe}(),Oe=Ge.prototype;return pe.prototype=Oe,[["$ms",J],["$s",V],["$m",te],["$H",q],["$W",e],["$M",Le],["$y",re],["$D",fe]].forEach(function(Pe){Oe[Pe[1]]=function($e){return this.$g($e,Pe[0],Pe[1])}}),pe.extend=function(Pe,$e){return Pe.$i||(Pe($e,Ge,pe),Pe.$i=!0),pe},pe.locale=be,pe.isDayjs=nt,pe.unix=function(Pe){return pe(1e3*Pe)},pe.en=et[Te],pe.Ls=et,pe.p={},pe}()},7014:function(yt){yt.exports=function(){"use strict";return function(S,p,J){var V=function(e){return e.add(4-e.isoWeekday(),"day")},te=p.prototype;te.isoWeekYear=function(){return V(this).year()},te.isoWeek=function(e){if(!this.$utils().u(e))return this.add(7*(e-this.isoWeek()),"day");var Q,oe,re,fe=V(this),ne=(Q=this.isoWeekYear(),re=4-(oe=(this.$u?J.utc:J)().year(Q).startOf("year")).isoWeekday(),oe.isoWeekday()>4&&(re+=7),oe.add(re,"day"));return fe.diff(ne,"week")+1},te.isoWeekday=function(e){return this.$utils().u(e)?this.day()||7:this.day(this.day()%7?e:e-7)};var q=te.startOf;te.startOf=function(e,Q){var Le=this.$utils(),oe=!!Le.u(Q)||Q;return"isoweek"===Le.p(e)?oe?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):q.bind(this)(e,Q)}}}()},6669:function(yt){yt.exports=function(){"use strict";var ke={year:0,month:1,day:2,hour:3,minute:4,second:5},S={};return function(p,J,V){var te,q=function(oe,re,fe){void 0===fe&&(fe={});var ne=new Date(oe);return function(De,Se){void 0===Se&&(Se={});var ze=Se.timeZoneName||"short",ee=De+"|"+ze,Te=S[ee];return Te||(Te=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:De,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:ze}),S[ee]=Te),Te}(re,fe).formatToParts(ne)},e=function(oe,re){for(var fe=q(oe,re),ne=[],ge=0;ge<fe.length;ge+=1){var De=fe[ge],ee=ke[De.type];ee>=0&&(ne[ee]=parseInt(De.value,10))}var Te=ne[3],be=+oe;return(V.utc(ne[0]+"-"+ne[1]+"-"+ne[2]+" "+(24===Te?0:Te)+":"+ne[4]+":"+ne[5]+":000").valueOf()-(be-=be%1e3))/6e4},Q=J.prototype;Q.tz=function(oe,re){void 0===oe&&(oe=te);var fe=this.utcOffset(),ne=this.toDate(),ge=ne.toLocaleString("en-US",{timeZone:oe}),De=Math.round((ne-new Date(ge))/1e3/60),Se=V(ge).$set("millisecond",this.$ms).utcOffset(15*-Math.round(ne.getTimezoneOffset()/15)-De,!0);if(re){var ze=Se.utcOffset();Se=Se.add(fe-ze,"minute")}return Se.$x.$timezone=oe,Se},Q.offsetName=function(oe){var re=this.$x.$timezone||V.tz.guess(),fe=q(this.valueOf(),re,{timeZoneName:oe}).find(function(ne){return"timezonename"===ne.type.toLowerCase()});return fe&&fe.value};var Le=Q.startOf;Q.startOf=function(oe,re){if(!this.$x||!this.$x.$timezone)return Le.call(this,oe,re);var fe=V(this.format("YYYY-MM-DD HH:mm:ss:SSS"));return Le.call(fe,oe,re).tz(this.$x.$timezone,!0)},V.tz=function(oe,re,fe){var ne=fe&&re,ge=fe||re||te,De=e(+V(),ge);if("string"!=typeof oe)return V(oe).tz(ge);var Se=function(et,nt,be){var pe=et-60*nt*1e3,de=e(pe,be);if(nt===de)return[pe,nt];var Ge=e(pe-=60*(de-nt)*1e3,be);return de===Ge?[pe,de]:[et-60*Math.min(de,Ge)*1e3,Math.max(de,Ge)]}(V.utc(oe,ne).valueOf(),De,ge),ee=Se[1],Te=V(Se[0]).utcOffset(ee);return Te.$x.$timezone=ge,Te},V.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},V.tz.setDefault=function(oe){te=oe}}}()},736:function(yt){yt.exports=function(){"use strict";var S=/[+-]\d\d(?::?\d\d)?/g,p=/([+-]|\d\d)/g;return function(J,V,te){var q=V.prototype;te.utc=function(ne){return new V({date:ne,utc:!0,args:arguments})},q.utc=function(ne){var ge=te(this.toDate(),{locale:this.$L,utc:!0});return ne?ge.add(this.utcOffset(),"minute"):ge},q.local=function(){return te(this.toDate(),{locale:this.$L,utc:!1})};var e=q.parse;q.parse=function(ne){ne.utc&&(this.$u=!0),this.$utils().u(ne.$offset)||(this.$offset=ne.$offset),e.call(this,ne)};var Q=q.init;q.init=function(){if(this.$u){var ne=this.$d;this.$y=ne.getUTCFullYear(),this.$M=ne.getUTCMonth(),this.$D=ne.getUTCDate(),this.$W=ne.getUTCDay(),this.$H=ne.getUTCHours(),this.$m=ne.getUTCMinutes(),this.$s=ne.getUTCSeconds(),this.$ms=ne.getUTCMilliseconds()}else Q.call(this)};var Le=q.utcOffset;q.utcOffset=function(ne,ge){var De=this.$utils().u;if(De(ne))return this.$u?0:De(this.$offset)?Le.call(this):this.$offset;if("string"==typeof ne&&null===(ne=function(Te){void 0===Te&&(Te="");var et=Te.match(S);if(!et)return null;var nt=(""+et[0]).match(p)||["-",0,0],pe=60*+nt[1]+ +nt[2];return 0===pe?0:"+"===nt[0]?pe:-pe}(ne)))return this;var Se=Math.abs(ne)<=16?60*ne:ne,ze=this;if(ge)return ze.$offset=Se,ze.$u=0===ne,ze;if(0!==ne){var ee=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(ze=this.local().add(Se+ee,"minute")).$offset=Se,ze.$x.$localOffset=ee}else ze=this.utc();return ze};var oe=q.format;q.format=function(ne){return oe.call(this,ne||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":""))},q.valueOf=function(){var ne=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*ne},q.isUTC=function(){return!!this.$u},q.toISOString=function(){return this.toDate().toISOString()},q.toString=function(){return this.toDate().toUTCString()};var re=q.toDate;q.toDate=function(ne){return"s"===ne&&this.$offset?te(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():re.call(this)};var fe=q.diff;q.diff=function(ne,ge,De){if(ne&&this.$u===ne.$u)return fe.call(this,ne,ge,De);var Se=this.local(),ze=te(ne).local();return fe.call(Se,ze,ge,De)}}}()},9074:function(yt,ke){var S,J;void 0!==(J="function"==typeof(S=V=>{"use strict";var Q=(rt,Re)=>{if(rt===Fe)return Fe;var ct=rt.target,ce=ct.length,he=rt._indexes;he=he.slice(0,he.len).sort((gt,cn)=>gt-cn);for(var Me="",Ce=0,Ie=0,Ye=!1,ot=(rt=[],0);ot<ce;++ot){var fn=ct[ot];if(he[Ie]===ot){if(++Ie,Ye||(Ye=!0,rt.push(Me),Me=""),Ie===he.length){rt.push(Re(Me+=fn,Ce++)),Me="",rt.push(ct.substr(ot+1));break}}else Ye&&(Ye=!1,rt.push(Re(Me,Ce++)),Me="");Me+=fn}return rt},oe=pt=>{"string"!=typeof pt&&(pt="");var Re=ze(pt);return{target:pt,_targetLower:Re._lower,_targetLowerCodes:Re.lowerCodes,_nextBeginningIndexes:Fe,_bitflags:Re.bitflags,score:Fe,_indexes:[0],obj:Fe}},re=pt=>{"string"!=typeof pt&&(pt=""),pt=pt.trim();var Re=ze(pt),ct=[];if(Re.containsSpace){var ce=pt.split(/\s+/);ce=[...new Set(ce)];for(var he=0;he<ce.length;he++)if(""!==ce[he]){var Me=ze(ce[he]);ct.push({lowerCodes:Me.lowerCodes,_lower:ce[he].toLowerCase(),containsSpace:!1})}}return{lowerCodes:Re.lowerCodes,bitflags:Re.bitflags,containsSpace:Re.containsSpace,_lower:Re._lower,spaceSearches:ct}},fe=pt=>{if(pt.length>999)return oe(pt);var Re=nt.get(pt);return void 0!==Re||(Re=oe(pt),nt.set(pt,Re)),Re},ne=pt=>{if(pt.length>999)return re(pt);var Re=be.get(pt);return void 0!==Re||(Re=re(pt),be.set(pt,Re)),Re},ge=(pt,Re,ct)=>{var ce=[];ce.total=Re.length;var he=ct&&ct.limit||$e;if(ct&&ct.key){for(var Me=0;Me<Re.length;Me++)if(Ie=Oe(Ce=Re[Me],ct.key)){Pe(Ie)||(Ie=fe(Ie)),Ie.score=He,Ie._indexes.len=0;if(ce.push({target:Ie.target,_targetLower:"",_targetLowerCodes:Fe,_nextBeginningIndexes:Fe,_bitflags:0,score:Ie.score,_indexes:Fe,obj:Ce}),ce.length>=he)return ce}}else if(ct&&ct.keys)for(Me=0;Me<Re.length;Me++){for(var Ce=Re[Me],rt=new Array(ct.keys.length),ot=ct.keys.length-1;ot>=0;--ot)(Ie=Oe(Ce,ct.keys[ot]))?(Pe(Ie)||(Ie=fe(Ie)),Ie.score=He,Ie._indexes.len=0,rt[ot]=Ie):rt[ot]=Fe;if(rt.obj=Ce,rt.score=He,ce.push(rt),ce.length>=he)return ce}else for(Me=0;Me<Re.length;Me++){var Ie;if((Ie=Re[Me])&&(Pe(Ie)||(Ie=fe(Ie)),Ie.score=He,Ie._indexes.len=0,ce.push(Ie),ce.length>=he))return ce}return ce},De=(pt,Re,ct=!1)=>{if(!1===ct&&pt.containsSpace)return Se(pt,Re);for(var ce=pt._lower,he=pt.lowerCodes,Me=he[0],Ce=Re._targetLowerCodes,Ie=he.length,Ye=Ce.length,gt=0,rt=0,ot=0;;){if(Me===Ce[rt]){if(pe[ot++]=rt,++gt===Ie)break;Me=he[gt]}if(++rt>=Ye)return Fe}gt=0;var cn=!1,zt=0,St=Re._nextBeginningIndexes;St===Fe&&(St=Re._nextBeginningIndexes=Te(Re.target));var vn=0;if((rt=0===pe[0]?0:St[pe[0]-1])!==Ye)for(;;)if(rt>=Ye){if(gt<=0||++vn>200)break;--gt,rt=St[de[--zt]]}else if(he[gt]===Ce[rt]){if(de[zt++]=rt,++gt===Ie){cn=!0;break}++rt}else rt=St[rt];var _e=Re._targetLower.indexOf(ce,pe[0]),je=~_e;if(je&&!cn)for(var Qe=0;Qe<ot;++Qe)pe[Qe]=_e+Qe;var _t=!1;if(je&&(_t=Re._nextBeginningIndexes[_e-1]===_e),cn)var Rt=de,pn=zt;else Rt=pe,pn=ot;var ln=0,Lt=0;for(Qe=1;Qe<Ie;++Qe)Rt[Qe]-Rt[Qe-1]!=1&&(ln-=Rt[Qe],++Lt);if(ln-=(Rt[Ie-1]-Rt[0]-(Ie-1)+12)*Lt,0!==Rt[0]&&(ln-=Rt[0]*Rt[0]*.2),cn){var Ot=1;for(Qe=St[0];Qe<Ye;Qe=St[Qe])++Ot;Ot>24&&(ln*=10*(Ot-24))}else ln*=1e3;for(je&&(ln/=1+Ie*Ie*1),_t&&(ln/=1+Ie*Ie*1),Re.score=ln-=Ye-Ie,Qe=0;Qe<pn;++Qe)Re._indexes[Qe]=Rt[Qe];return Re._indexes.len=pn,Re},Se=(pt,Re)=>{for(var ct=new Set,ce=0,he=Fe,Me=0,Ce=pt.spaceSearches,ot=0;ot<Ce.length;++ot){if((he=De(Ce[ot],Re))===Fe)return Fe;ce+=he.score,he._indexes[0]<Me&&(ce-=Me-he._indexes[0]),Me=he._indexes[0];for(var Ye=0;Ye<he._indexes.len;++Ye)ct.add(he._indexes[Ye])}var rt=De(pt,Re,!0);if(rt!==Fe&&rt.score>ce)return rt;he.score=ce,ot=0;for(let fn of ct)he._indexes[ot++]=fn;return he._indexes.len=ot,he},ze=pt=>{for(var Re=pt.length,ct=pt.toLowerCase(),ce=[],he=0,Me=!1,Ce=0;Ce<Re;++Ce){var Ie=ce[Ce]=ct.charCodeAt(Ce);32!==Ie?he|=1<<(Ie>=97&&Ie<=122?Ie-97:Ie>=48&&Ie<=57?26:Ie<=127?30:31):Me=!0}return{lowerCodes:ce,bitflags:he,containsSpace:Me,_lower:ct}},Te=pt=>{for(var Re=pt.length,ct=(pt=>{for(var Re=pt.length,ct=[],ce=0,he=!1,Me=!1,Ce=0;Ce<Re;++Ce){var Ie=pt.charCodeAt(Ce),Ye=Ie>=65&&Ie<=90,rt=Ye||Ie>=97&&Ie<=122||Ie>=48&&Ie<=57,ot=Ye&&!he||!Me||!rt;he=Ye,Me=rt,ot&&(ct[ce++]=Ce)}return ct})(pt),ce=[],he=ct[0],Me=0,Ce=0;Ce<Re;++Ce)he>Ce?ce[Ce]=he:(he=ct[++Me],ce[Ce]=void 0===he?Re:he);return ce},nt=new Map,be=new Map,pe=[],de=[],Ge=pt=>{for(var Re=He,ct=pt.length,ce=0;ce<ct;++ce){var he=pt[ce];if(he!==Fe){var Me=he.score;Me>Re&&(Re=Me)}}return Re===He?Fe:Re},Oe=(pt,Re)=>{var ct=pt[Re];if(void 0!==ct)return ct;var ce=Re;Array.isArray(Re)||(ce=Re.split("."));for(var he=ce.length,Me=-1;pt&&++Me<he;)pt=pt[ce[Me]];return pt},Pe=pt=>"object"==typeof pt,$e=1/0,He=-$e,ft=[];ft.total=0;var Re,ct,ce,he,Fe=null,ut=(Re=[],ct=0,he=Me=>{for(var Ce=0,Ie=Re[Ce],Ye=1;Ye<ct;){var rt=Ye+1;Ce=Ye,rt<ct&&Re[rt].score<Re[Ye].score&&(Ce=rt),Re[Ce-1>>1]=Re[Ce],Ye=1+(Ce<<1)}for(var ot=Ce-1>>1;Ce>0&&Ie.score<Re[ot].score;ot=(Ce=ot)-1>>1)Re[Ce]=Re[ot];Re[Ce]=Ie},(ce={}).add=Me=>{var Ce=ct;Re[ct++]=Me;for(var Ie=Ce-1>>1;Ce>0&&Me.score<Re[Ie].score;Ie=(Ce=Ie)-1>>1)Re[Ce]=Re[Ie];Re[Ce]=Me},ce.poll=Me=>{if(0!==ct){var Ce=Re[0];return Re[0]=Re[--ct],he(),Ce}},ce.peek=Me=>{if(0!==ct)return Re[0]},ce.replaceTop=Me=>{Re[0]=Me,he()},ce);return{single:(pt,Re)=>{if("farzher"==pt)return{target:"farzher was here (^-^*)/",score:0,_indexes:[0]};if(!pt||!Re)return Fe;var ct=ne(pt);Pe(Re)||(Re=fe(Re));var ce=ct.bitflags;return(ce&Re._bitflags)!==ce?Fe:De(ct,Re)},go:(pt,Re,ct)=>{if("farzher"==pt)return[{target:"farzher was here (^-^*)/",score:0,_indexes:[0],obj:Re?Re[0]:Fe}];if(!pt)return ct&&ct.all?ge(pt,Re,ct):ft;var ce=ne(pt),he=ce.bitflags,Ce=ct&&ct.threshold||He,Ie=ct&&ct.limit||$e,Ye=0,rt=0,ot=Re.length;if(ct&&ct.key)for(var fn=ct.key,gt=0;gt<ot;++gt)(zt=Oe(cn=Re[gt],fn))&&(Pe(zt)||(zt=fe(zt)),(he&zt._bitflags)===he)&&(St=De(ce,zt))!==Fe&&(St.score<Ce||(St={target:St.target,_targetLower:"",_targetLowerCodes:Fe,_nextBeginningIndexes:Fe,_bitflags:0,score:St.score,_indexes:St._indexes,obj:cn},Ye<Ie?(ut.add(St),++Ye):(++rt,St.score>ut.peek().score&&ut.replaceTop(St))));else if(ct&&ct.keys){var xn=ct.scoreFn||Ge,vn=ct.keys,me=vn.length;for(gt=0;gt<ot;++gt){for(var cn=Re[gt],_e=new Array(me),je=0;je<me;++je)(zt=Oe(cn,fn=vn[je]))?(Pe(zt)||(zt=fe(zt)),_e[je]=(he&zt._bitflags)!==he?Fe:De(ce,zt)):_e[je]=Fe;_e.obj=cn;var Qe=xn(_e);Qe!==Fe&&(Qe<Ce||(_e.score=Qe,Ye<Ie?(ut.add(_e),++Ye):(++rt,Qe>ut.peek().score&&ut.replaceTop(_e))))}}else for(gt=0;gt<ot;++gt){var zt,St;(zt=Re[gt])&&(Pe(zt)||(zt=fe(zt)),(he&zt._bitflags)===he)&&(St=De(ce,zt))!==Fe&&(St.score<Ce||(Ye<Ie?(ut.add(St),++Ye):(++rt,St.score>ut.peek().score&&ut.replaceTop(St))))}if(0===Ye)return ft;var _t=new Array(Ye);for(gt=Ye-1;gt>=0;--gt)_t[gt]=ut.poll();return _t.total=Ye+rt,_t},highlight:(pt,Re,ct)=>{if("function"==typeof Re)return Q(pt,Re);if(pt===Fe)return Fe;void 0===Re&&(Re="<b>"),void 0===ct&&(ct="</b>");var ce="",he=0,Me=!1,Ce=pt.target,Ie=Ce.length,Ye=pt._indexes;Ye=Ye.slice(0,Ye.len).sort((fn,gt)=>fn-gt);for(var rt=0;rt<Ie;++rt){var ot=Ce[rt];if(Ye[he]===rt){if(Me||(Me=!0,ce+=Re),++he===Ye.length){ce+=ot+ct+Ce.substr(rt+1);break}}else Me&&(Me=!1,ce+=ct);ce+=ot}return ce},prepare:oe,indexes:pt=>pt._indexes.slice(0,pt._indexes.len).sort((Re,ct)=>Re-ct),cleanup:()=>{nt.clear(),be.clear(),pe=[],de=[]}}})?S.apply(ke,[]):S)&&(yt.exports=J)},3947:function(yt){yt.exports=function(){"use strict";function ke(j,se){return j(se={exports:{}},se.exports),se.exports}var S=ke(function(j){var se=j.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=se)}),p=ke(function(j){var se=j.exports={version:"2.6.5"};"number"==typeof __e&&(__e=se)}),V=function(j){return"object"==typeof j?null!==j:"function"==typeof j},te=function(j){if(!V(j))throw TypeError(j+" is not an object!");return j},q=function(j){try{return!!j()}catch{return!0}},e=!q(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),Q=S.document,Le=V(Q)&&V(Q.createElement),re=!e&&!q(function(){return 7!=Object.defineProperty(function(j){return Le?Q.createElement(j):{}}("div"),"a",{get:function(){return 7}}).a}),ne=Object.defineProperty,De={f:e?Object.defineProperty:function(se,Ue,at){if(te(se),Ue=function(j,se){if(!V(j))return j;var Ue,at;if(se&&"function"==typeof(Ue=j.toString)&&!V(at=Ue.call(j))||"function"==typeof(Ue=j.valueOf)&&!V(at=Ue.call(j))||!se&&"function"==typeof(Ue=j.toString)&&!V(at=Ue.call(j)))return at;throw TypeError("Can't convert object to primitive value")}(Ue,!0),te(at),re)try{return ne(se,Ue,at)}catch{}if("get"in at||"set"in at)throw TypeError("Accessors not supported!");return"value"in at&&(se[Ue]=at.value),se}},ze=e?function(j,se,Ue){return De.f(j,se,function(j,se){return{enumerable:!(1&j),configurable:!(2&j),writable:!(4&j),value:se}}(1,Ue))}:function(j,se,Ue){return j[se]=Ue,j},ee={}.hasOwnProperty,Te=function(j,se){return ee.call(j,se)},et=0,nt=Math.random(),de=ke(function(j){var se="__core-js_shared__",Ue=S[se]||(S[se]={});(j.exports=function(at,Zt){return Ue[at]||(Ue[at]=void 0!==Zt?Zt:{})})("versions",[]).push({version:p.version,mode:"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})}),Ge=de("native-function-to-string",Function.toString),Oe=ke(function(j){var se=function(j){return"Symbol(".concat(void 0===j?"":j,")_",(++et+nt).toString(36))}("src"),Ue="toString",at=(""+Ge).split(Ue);p.inspectSource=function(Zt){return Ge.call(Zt)},(j.exports=function(Zt,At,Wt,Ln){var Bn="function"==typeof Wt;Bn&&(Te(Wt,"name")||ze(Wt,"name",At)),Zt[At]!==Wt&&(Bn&&(Te(Wt,se)||ze(Wt,se,Zt[At]?""+Zt[At]:at.join(String(At)))),Zt===S?Zt[At]=Wt:Ln?Zt[At]?Zt[At]=Wt:ze(Zt,At,Wt):(delete Zt[At],ze(Zt,At,Wt)))})(Function.prototype,Ue,function(){return"function"==typeof this&&this[se]||Ge.call(this)})}),$e=function(j,se,Ue){if(function(j){if("function"!=typeof j)throw TypeError(j+" is not a function!")}(j),void 0===se)return j;switch(Ue){case 1:return function(at){return j.call(se,at)};case 2:return function(at,Zt){return j.call(se,at,Zt)};case 3:return function(at,Zt,At){return j.call(se,at,Zt,At)}}return function(){return j.apply(se,arguments)}},He="prototype",ft=function(j,se,Ue){var Ae,it,Ct,xt,at=j&ft.F,Zt=j&ft.G,Wt=j&ft.P,Ln=j&ft.B,Bn=Zt?S:j&ft.S?S[se]||(S[se]={}):(S[se]||{})[He],Ze=Zt?p:p[se]||(p[se]={}),ve=Ze[He]||(Ze[He]={});for(Ae in Zt&&(Ue=se),Ue)Ct=((it=!at&&Bn&&void 0!==Bn[Ae])?Bn:Ue)[Ae],xt=Ln&&it?$e(Ct,S):Wt&&"function"==typeof Ct?$e(Function.call,Ct):Ct,Bn&&Oe(Bn,Ae,Ct,j&ft.U),Ze[Ae]!=Ct&&ze(Ze,Ae,xt),Wt&&ve[Ae]!=Ct&&(ve[Ae]=Ct)};S.core=p,ft.F=1,ft.G=2,ft.S=4,ft.P=8,ft.B=16,ft.W=32,ft.U=64,ft.R=128;var Fe=ft,Bt=Math.ceil,ut=Math.floor,pt=function(j){return isNaN(j=+j)?0:(j>0?ut:Bt)(j)},ce=(!1,function(se,Ue){var Wt,Ln,at=String(function(j){if(null==j)throw TypeError("Can't call method on  "+j);return j}(se)),Zt=pt(Ue),At=at.length;return Zt<0||Zt>=At?void 0:(Wt=at.charCodeAt(Zt))<55296||Wt>56319||Zt+1===At||(Ln=at.charCodeAt(Zt+1))<56320||Ln>57343?Wt:Ln-56320+(Wt-55296<<10)+65536});Fe(Fe.P,"String",{codePointAt:function(se){return ce(this,se)}});var Me=Math.max,Ce=Math.min,Ie=function(j,se){return(j=pt(j))<0?Me(j+se,0):Ce(j,se)},Ye=String.fromCharCode,rt=String.fromCodePoint;Fe(Fe.S+Fe.F*(!!rt&&1!=rt.length),"String",{fromCodePoint:function(se){for(var Wt,Ue=arguments,at=[],Zt=arguments.length,At=0;Zt>At;){if(Wt=+Ue[At++],Ie(Wt,1114111)!==Wt)throw RangeError(Wt+" is not a valid code point");at.push(Wt<65536?Ye(Wt):Ye(55296+((Wt-=65536)>>10),Wt%1024+56320))}return at.join("")}});var xn,vn,me,_e,je,Qe,_t,Rt,pn,Mt,Ot,Rn,ui,sn,zt={Space_Separator:/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,ID_Start:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,ID_Continue:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},St={isSpaceSeparator:function(se){return"string"==typeof se&&zt.Space_Separator.test(se)},isIdStartChar:function(se){return"string"==typeof se&&(se>="a"&&se<="z"||se>="A"&&se<="Z"||"$"===se||"_"===se||zt.ID_Start.test(se))},isIdContinueChar:function(se){return"string"==typeof se&&(se>="a"&&se<="z"||se>="A"&&se<="Z"||se>="0"&&se<="9"||"$"===se||"_"===se||"\u200c"===se||"\u200d"===se||zt.ID_Continue.test(se))},isDigit:function(se){return"string"==typeof se&&/[0-9]/.test(se)},isHexDigit:function(se){return"string"==typeof se&&/[0-9A-Fa-f]/.test(se)}};function Lt(j,se,Ue){var at=j[se];if(null!=at&&"object"==typeof at)if(Array.isArray(at))for(var Zt=0;Zt<at.length;Zt++){var At=String(Zt),Wt=Lt(at,At,Ue);void 0===Wt?delete at[At]:Object.defineProperty(at,At,{value:Wt,writable:!0,enumerable:!0,configurable:!0})}else for(var Ln in at){var Bn=Lt(at,Ln,Ue);void 0===Bn?delete at[Ln]:Object.defineProperty(at,Ln,{value:Bn,writable:!0,enumerable:!0,configurable:!0})}return Ue.call(j,se,at)}function qt(){for(Mt="default",Ot="",Rn=!1,ui=1;;){sn=Hn();var j=Dn[Mt]();if(j)return j}}function Hn(){if(xn[_e])return String.fromCodePoint(xn.codePointAt(_e))}function ht(){var j=Hn();return"\n"===j?(je++,Qe=0):j?Qe+=j.length:Qe++,j&&(_e+=j.length),j}var Dn={default:function(){switch(sn){case"\t":case"\v":case"\f":case" ":case"\xa0":case"\ufeff":case"\n":case"\r":case"\u2028":case"\u2029":return void ht();case"/":return ht(),void(Mt="comment");case void 0:return ht(),Fn("eof")}if(!St.isSpaceSeparator(sn))return Dn[vn]();ht()},comment:function(){switch(sn){case"*":return ht(),void(Mt="multiLineComment");case"/":return ht(),void(Mt="singleLineComment")}throw In(ht())},multiLineComment:function(){switch(sn){case"*":return ht(),void(Mt="multiLineCommentAsterisk");case void 0:throw In(ht())}ht()},multiLineCommentAsterisk:function(){switch(sn){case"*":return void ht();case"/":return ht(),void(Mt="default");case void 0:throw In(ht())}ht(),Mt="multiLineComment"},singleLineComment:function(){switch(sn){case"\n":case"\r":case"\u2028":case"\u2029":return ht(),void(Mt="default");case void 0:return ht(),Fn("eof")}ht()},value:function(){switch(sn){case"{":case"[":return Fn("punctuator",ht());case"n":return ht(),gn("ull"),Fn("null",null);case"t":return ht(),gn("rue"),Fn("boolean",!0);case"f":return ht(),gn("alse"),Fn("boolean",!1);case"-":case"+":return"-"===ht()&&(ui=-1),void(Mt="sign");case".":return Ot=ht(),void(Mt="decimalPointLeading");case"0":return Ot=ht(),void(Mt="zero");case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return Ot=ht(),void(Mt="decimalInteger");case"I":return ht(),gn("nfinity"),Fn("numeric",1/0);case"N":return ht(),gn("aN"),Fn("numeric",NaN);case'"':case"'":return Rn='"'===ht(),Ot="",void(Mt="string")}throw In(ht())},identifierNameStartEscape:function(){if("u"!==sn)throw In(ht());ht();var se=Zi();switch(se){case"$":case"_":break;default:if(!St.isIdStartChar(se))throw Li()}Ot+=se,Mt="identifierName"},identifierName:function(){switch(sn){case"$":case"_":case"\u200c":case"\u200d":return void(Ot+=ht());case"\\":return ht(),void(Mt="identifierNameEscape")}if(!St.isIdContinueChar(sn))return Fn("identifier",Ot);Ot+=ht()},identifierNameEscape:function(){if("u"!==sn)throw In(ht());ht();var se=Zi();switch(se){case"$":case"_":case"\u200c":case"\u200d":break;default:if(!St.isIdContinueChar(se))throw Li()}Ot+=se,Mt="identifierName"},sign:function(){switch(sn){case".":return Ot=ht(),void(Mt="decimalPointLeading");case"0":return Ot=ht(),void(Mt="zero");case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return Ot=ht(),void(Mt="decimalInteger");case"I":return ht(),gn("nfinity"),Fn("numeric",ui*(1/0));case"N":return ht(),gn("aN"),Fn("numeric",NaN)}throw In(ht())},zero:function(){switch(sn){case".":return Ot+=ht(),void(Mt="decimalPoint");case"e":case"E":return Ot+=ht(),void(Mt="decimalExponent");case"x":case"X":return Ot+=ht(),void(Mt="hexadecimal")}return Fn("numeric",0*ui)},decimalInteger:function(){switch(sn){case".":return Ot+=ht(),void(Mt="decimalPoint");case"e":case"E":return Ot+=ht(),void(Mt="decimalExponent")}if(!St.isDigit(sn))return Fn("numeric",ui*Number(Ot));Ot+=ht()},decimalPointLeading:function(){if(St.isDigit(sn))return Ot+=ht(),void(Mt="decimalFraction");throw In(ht())},decimalPoint:function(){switch(sn){case"e":case"E":return Ot+=ht(),void(Mt="decimalExponent")}return St.isDigit(sn)?(Ot+=ht(),void(Mt="decimalFraction")):Fn("numeric",ui*Number(Ot))},decimalFraction:function(){switch(sn){case"e":case"E":return Ot+=ht(),void(Mt="decimalExponent")}if(!St.isDigit(sn))return Fn("numeric",ui*Number(Ot));Ot+=ht()},decimalExponent:function(){switch(sn){case"+":case"-":return Ot+=ht(),void(Mt="decimalExponentSign")}if(St.isDigit(sn))return Ot+=ht(),void(Mt="decimalExponentInteger");throw In(ht())},decimalExponentSign:function(){if(St.isDigit(sn))return Ot+=ht(),void(Mt="decimalExponentInteger");throw In(ht())},decimalExponentInteger:function(){if(!St.isDigit(sn))return Fn("numeric",ui*Number(Ot));Ot+=ht()},hexadecimal:function(){if(St.isHexDigit(sn))return Ot+=ht(),void(Mt="hexadecimalInteger");throw In(ht())},hexadecimalInteger:function(){if(!St.isHexDigit(sn))return Fn("numeric",ui*Number(Ot));Ot+=ht()},string:function(){switch(sn){case"\\":return ht(),void(Ot+=function Ri(){switch(Hn()){case"b":return ht(),"\b";case"f":return ht(),"\f";case"n":return ht(),"\n";case"r":return ht(),"\r";case"t":return ht(),"\t";case"v":return ht(),"\v";case"0":if(ht(),St.isDigit(Hn()))throw In(ht());return"\0";case"x":return ht(),function Ti(){var j="",se=Hn();if(!St.isHexDigit(se)||(j+=ht(),se=Hn(),!St.isHexDigit(se)))throw In(ht());return j+=ht(),String.fromCodePoint(parseInt(j,16))}();case"u":return ht(),Zi();case"\n":case"\u2028":case"\u2029":return ht(),"";case"\r":return ht(),"\n"===Hn()&&ht(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case void 0:throw In(ht())}return ht()}());case'"':return Rn?(ht(),Fn("string",Ot)):void(Ot+=ht());case"'":return Rn?void(Ot+=ht()):(ht(),Fn("string",Ot));case"\n":case"\r":throw In(ht());case"\u2028":case"\u2029":!function Ji(j){console.warn("JSON5: '"+zi(j)+"' in strings is not valid ECMAScript; consider escaping")}(sn);break;case void 0:throw In(ht())}Ot+=ht()},start:function(){switch(sn){case"{":case"[":return Fn("punctuator",ht())}Mt="value"},beforePropertyName:function(){switch(sn){case"$":case"_":return Ot=ht(),void(Mt="identifierName");case"\\":return ht(),void(Mt="identifierNameStartEscape");case"}":return Fn("punctuator",ht());case'"':case"'":return Rn='"'===ht(),void(Mt="string")}if(St.isIdStartChar(sn))return Ot+=ht(),void(Mt="identifierName");throw In(ht())},afterPropertyName:function(){if(":"===sn)return Fn("punctuator",ht());throw In(ht())},beforePropertyValue:function(){Mt="value"},afterPropertyValue:function(){switch(sn){case",":case"}":return Fn("punctuator",ht())}throw In(ht())},beforeArrayValue:function(){if("]"===sn)return Fn("punctuator",ht());Mt="value"},afterArrayValue:function(){switch(sn){case",":case"]":return Fn("punctuator",ht())}throw In(ht())},end:function(){throw In(ht())}};function Fn(j,se){return{type:j,value:se,line:je,column:Qe}}function gn(j){for(var se=0,Ue=j;se<Ue.length;se+=1){var at=Ue[se];if(Hn()!==at)throw In(ht());ht()}}function Zi(){for(var j="",se=4;se-- >0;){var Ue=Hn();if(!St.isHexDigit(Ue))throw In(ht());j+=ht()}return String.fromCodePoint(parseInt(j,16))}var Fi={start:function(){if("eof"===_t.type)throw si();jn()},beforePropertyName:function(){switch(_t.type){case"identifier":case"string":return Rt=_t.value,void(vn="afterPropertyName");case"punctuator":return void qn();case"eof":throw si()}},afterPropertyName:function(){if("eof"===_t.type)throw si();vn="beforePropertyValue"},beforePropertyValue:function(){if("eof"===_t.type)throw si();jn()},beforeArrayValue:function(){if("eof"===_t.type)throw si();"punctuator"!==_t.type||"]"!==_t.value?jn():qn()},afterPropertyValue:function(){if("eof"===_t.type)throw si();switch(_t.value){case",":return void(vn="beforePropertyName");case"}":qn()}},afterArrayValue:function(){if("eof"===_t.type)throw si();switch(_t.value){case",":return void(vn="beforeArrayValue");case"]":qn()}},end:function(){}};function jn(){var j;switch(_t.type){case"punctuator":switch(_t.value){case"{":j={};break;case"[":j=[]}break;case"null":case"boolean":case"numeric":case"string":j=_t.value}if(void 0===pn)pn=j;else{var se=me[me.length-1];Array.isArray(se)?se.push(j):Object.defineProperty(se,Rt,{value:j,writable:!0,enumerable:!0,configurable:!0})}if(null!==j&&"object"==typeof j)me.push(j),vn=Array.isArray(j)?"beforeArrayValue":"beforePropertyName";else{var Ue=me[me.length-1];vn=null==Ue?"end":Array.isArray(Ue)?"afterArrayValue":"afterPropertyValue"}}function qn(){me.pop();var j=me[me.length-1];vn=null==j?"end":Array.isArray(j)?"afterArrayValue":"afterPropertyValue"}function In(j){return io(void 0===j?"JSON5: invalid end of input at "+je+":"+Qe:"JSON5: invalid character '"+zi(j)+"' at "+je+":"+Qe)}function si(){return io("JSON5: invalid end of input at "+je+":"+Qe)}function Li(){return io("JSON5: invalid identifier character at "+je+":"+(Qe-=5))}function zi(j){var se={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(se[j])return se[j];if(j<" "){var Ue=j.charCodeAt(0).toString(16);return"\\x"+("00"+Ue).substring(Ue.length)}return j}function io(j){var se=new SyntaxError(j);return se.lineNumber=je,se.columnNumber=Qe,se}return{parse:function(se,Ue){xn=String(se),vn="start",me=[],_e=0,je=1,Qe=0,_t=void 0,Rt=void 0,pn=void 0;do{_t=qt(),Fi[vn]()}while("eof"!==_t.type);return"function"==typeof Ue?Lt({"":pn},"",Ue):pn},stringify:function(se,Ue,at){var Wt,Ln,Ze,Zt=[],At="",Bn="";if(null!=Ue&&"object"==typeof Ue&&!Array.isArray(Ue)&&(at=Ue.space,Ze=Ue.quote,Ue=Ue.replacer),"function"==typeof Ue)Ln=Ue;else if(Array.isArray(Ue)){Wt=[];for(var ve=0,Ae=Ue;ve<Ae.length;ve+=1){var it=Ae[ve],Ct=void 0;"string"==typeof it?Ct=it:("number"==typeof it||it instanceof String||it instanceof Number)&&(Ct=String(it)),void 0!==Ct&&Wt.indexOf(Ct)<0&&Wt.push(Ct)}}return at instanceof Number?at=Number(at):at instanceof String&&(at=String(at)),"number"==typeof at?at>0&&(at=Math.min(10,Math.floor(at)),Bn="          ".substr(0,at)):"string"==typeof at&&(Bn=at.substr(0,10)),xt("",{"":se});function xt(mn,Vn){var Jt=Vn[mn];switch(null!=Jt&&("function"==typeof Jt.toJSON5?Jt=Jt.toJSON5(mn):"function"==typeof Jt.toJSON&&(Jt=Jt.toJSON(mn))),Ln&&(Jt=Ln.call(Vn,mn,Jt)),Jt instanceof Number?Jt=Number(Jt):Jt instanceof String?Jt=String(Jt):Jt instanceof Boolean&&(Jt=Jt.valueOf()),Jt){case null:return"null";case!0:return"true";case!1:return"false"}return"string"==typeof Jt?Nt(Jt):"number"==typeof Jt?String(Jt):"object"==typeof Jt?Array.isArray(Jt)?function yi(mn){if(Zt.indexOf(mn)>=0)throw TypeError("Converting circular structure to JSON5");Zt.push(mn);var un,Vn=At;At+=Bn;for(var Jt=[],Un=0;Un<mn.length;Un++){var oi=xt(String(Un),mn);Jt.push(void 0!==oi?oi:"null")}if(0===Jt.length)un="[]";else if(""===Bn)un="["+Jt.join(",")+"]";else{var Ii=Jt.join(",\n"+At);un="[\n"+At+Ii+",\n"+Vn+"]"}return Zt.pop(),At=Vn,un}(Jt):function Kt(mn){if(Zt.indexOf(mn)>=0)throw TypeError("Converting circular structure to JSON5");Zt.push(mn);var Yt,Cn,Vn=At;At+=Bn;for(var Un=[],oi=0,un=Wt||Object.keys(mn);oi<un.length;oi+=1){var Pn=un[oi],ei=xt(Pn,mn);if(void 0!==ei){var Ii=an(Pn)+":";""!==Bn&&(Ii+=" "),Un.push(Ii+=ei)}}return 0===Un.length?Yt="{}":""===Bn?Yt="{"+(Cn=Un.join(","))+"}":(Cn=Un.join(",\n"+At),Yt="{\n"+At+Cn+",\n"+Vn+"}"),Zt.pop(),At=Vn,Yt}(Jt):void 0}function Nt(mn){for(var Vn={"'":.1,'"':.2},Jt={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"},Un="",oi=0;oi<mn.length;oi++){var un=mn[oi];switch(un){case"'":case'"':Vn[un]++,Un+=un;continue;case"\0":if(St.isDigit(mn[oi+1])){Un+="\\x00";continue}}if(Jt[un])Un+=Jt[un];else if(un<" "){var Pn=un.charCodeAt(0).toString(16);Un+="\\x"+("00"+Pn).substring(Pn.length)}else Un+=un}var ei=Ze||Object.keys(Vn).reduce(function(Ii,Yt){return Vn[Ii]<Vn[Yt]?Ii:Yt});return ei+(Un=Un.replace(new RegExp(ei,"g"),Jt[ei]))+ei}function an(mn){if(0===mn.length)return Nt(mn);var Vn=String.fromCodePoint(mn.codePointAt(0));if(!St.isIdStartChar(Vn))return Nt(mn);for(var Jt=Vn.length;Jt<mn.length;Jt++)if(!St.isIdContinueChar(String.fromCodePoint(mn.codePointAt(Jt))))return Nt(mn);return mn}}}}()},7198:function(yt,ke){!function(S){"use strict";function J(s){var d,g,C,O;for(g=1,C=arguments.length;g<C;g++)for(d in O=arguments[g])s[d]=O[d];return s}var V=Object.create||function(){function s(){}return function(d){return s.prototype=d,new s}}();function te(s,d){var g=Array.prototype.slice;if(s.bind)return s.bind.apply(s,g.call(arguments,1));var C=g.call(arguments,2);return function(){return s.apply(d,C.length?C.concat(g.call(arguments)):arguments)}}var q=0;function e(s){return"_leaflet_id"in s||(s._leaflet_id=++q),s._leaflet_id}function Q(s,d,g){var C,O,$,we;return we=function(){C=!1,O&&($.apply(g,O),O=!1)},$=function(){C?O=arguments:(s.apply(g,arguments),setTimeout(we,d),C=!0)},$}function Le(s,d,g){var C=d[1],O=d[0],$=C-O;return s===C&&g?s:((s-O)%$+$)%$+O}function oe(){return!1}function re(s,d){if(!1===d)return s;var g=Math.pow(10,void 0===d?6:d);return Math.round(s*g)/g}function fe(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function ne(s){return fe(s).split(/\s+/)}function ge(s,d){for(var g in Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?V(s.options):{}),d)s.options[g]=d[g];return s.options}function De(s,d,g){var C=[];for(var O in s)C.push(encodeURIComponent(g?O.toUpperCase():O)+"="+encodeURIComponent(s[O]));return(d&&-1!==d.indexOf("?")?"&":"?")+C.join("&")}var Se=/\{ *([\w_ -]+) *\}/g;function ze(s,d){return s.replace(Se,function(g,C){var O=d[C];if(void 0===O)throw new Error("No value provided for variable "+g);return"function"==typeof O&&(O=O(d)),O})}var ee=Array.isArray||function(s){return"[object Array]"===Object.prototype.toString.call(s)};function Te(s,d){for(var g=0;g<s.length;g++)if(s[g]===d)return g;return-1}var et="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function nt(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var be=0;function pe(s){var d=+new Date,g=Math.max(0,16-(d-be));return be=d+g,window.setTimeout(s,g)}var de=window.requestAnimationFrame||nt("RequestAnimationFrame")||pe,Ge=window.cancelAnimationFrame||nt("CancelAnimationFrame")||nt("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function Oe(s,d,g){if(!g||de!==pe)return de.call(window,te(s,d));s.call(d)}function Pe(s){s&&Ge.call(window,s)}var $e={__proto__:null,extend:J,create:V,bind:te,get lastId(){return q},stamp:e,throttle:Q,wrapNum:Le,falseFn:oe,formatNum:re,trim:fe,splitWords:ne,setOptions:ge,getParamString:De,template:ze,isArray:ee,indexOf:Te,emptyImageUrl:et,requestFn:de,cancelFn:Ge,requestAnimFrame:Oe,cancelAnimFrame:Pe};function He(){}He.extend=function(s){var d=function(){ge(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},g=d.__super__=this.prototype,C=V(g);for(var O in C.constructor=d,d.prototype=C,this)Object.prototype.hasOwnProperty.call(this,O)&&"prototype"!==O&&"__super__"!==O&&(d[O]=this[O]);return s.statics&&J(d,s.statics),s.includes&&(function ft(s){if(!(typeof L>"u")&&L&&L.Mixin){s=ee(s)?s:[s];for(var d=0;d<s.length;d++)s[d]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(s.includes),J.apply(null,[C].concat(s.includes))),J(C,s),delete C.statics,delete C.includes,C.options&&(C.options=g.options?V(g.options):{},J(C.options,s.options)),C._initHooks=[],C.callInitHooks=function(){if(!this._initHooksCalled){g.callInitHooks&&g.callInitHooks.call(this),this._initHooksCalled=!0;for(var $=0,we=C._initHooks.length;$<we;$++)C._initHooks[$].call(this)}},d},He.include=function(s){var d=this.prototype.options;return J(this.prototype,s),s.options&&(this.prototype.options=d,this.mergeOptions(s.options)),this},He.mergeOptions=function(s){return J(this.prototype.options,s),this},He.addInitHook=function(s){var d=Array.prototype.slice.call(arguments,1),g="function"==typeof s?s:function(){this[s].apply(this,d)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(g),this};var Fe={on:function(s,d,g){if("object"==typeof s)for(var C in s)this._on(C,s[C],d);else for(var O=0,$=(s=ne(s)).length;O<$;O++)this._on(s[O],d,g);return this},off:function(s,d,g){if(arguments.length)if("object"==typeof s)for(var C in s)this._off(C,s[C],d);else{s=ne(s);for(var O=1===arguments.length,$=0,we=s.length;$<we;$++)O?this._off(s[$]):this._off(s[$],d,g)}else delete this._events;return this},_on:function(s,d,g,C){if("function"==typeof d){if(!1===this._listens(s,d,g)){g===this&&(g=void 0);var O={fn:d,ctx:g};C&&(O.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(O)}}else console.warn("wrong listener type: "+typeof d)},_off:function(s,d,g){var C,O,$;if(this._events&&(C=this._events[s])){if(1===arguments.length){if(this._firingCount)for(O=0,$=C.length;O<$;O++)C[O].fn=oe;return void delete this._events[s]}if("function"!=typeof d)return void console.warn("wrong listener type: "+typeof d);var we=this._listens(s,d,g);!1!==we&&(this._firingCount&&(C[we].fn=oe,this._events[s]=C=C.slice()),C.splice(we,1))}},fire:function(s,d,g){if(!this.listens(s,g))return this;var C=J({},d,{type:s,target:this,sourceTarget:d&&d.sourceTarget||this});if(this._events){var O=this._events[s];if(O){this._firingCount=this._firingCount+1||1;for(var $=0,we=O.length;$<we;$++){var Ke=O[$],lt=Ke.fn;Ke.once&&this.off(s,lt,Ke.ctx),lt.call(Ke.ctx||this,C)}this._firingCount--}}return g&&this._propagateEvent(C),this},listens:function(s,d,g,C){"string"!=typeof s&&console.warn('"string" type argument expected');var O=d;"function"!=typeof d&&(C=!!d,O=void 0,g=void 0);var $=this._events&&this._events[s];if($&&$.length&&!1!==this._listens(s,O,g))return!0;if(C)for(var we in this._eventParents)if(this._eventParents[we].listens(s,d,g,C))return!0;return!1},_listens:function(s,d,g){if(!this._events)return!1;var C=this._events[s]||[];if(!d)return!!C.length;g===this&&(g=void 0);for(var O=0,$=C.length;O<$;O++)if(C[O].fn===d&&C[O].ctx===g)return O;return!1},once:function(s,d,g){if("object"==typeof s)for(var C in s)this._on(C,s[C],d,!0);else for(var O=0,$=(s=ne(s)).length;O<$;O++)this._on(s[O],d,g,!0);return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[e(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[e(s)],this},_propagateEvent:function(s){for(var d in this._eventParents)this._eventParents[d].fire(s.type,J({layer:s.target,propagatedFrom:s.target},s),!0)}};Fe.addEventListener=Fe.on,Fe.removeEventListener=Fe.clearAllEventListeners=Fe.off,Fe.addOneTimeEventListener=Fe.once,Fe.fireEvent=Fe.fire,Fe.hasEventListeners=Fe.listens;var Bt=He.extend(Fe);function ut(s,d,g){this.x=g?Math.round(s):s,this.y=g?Math.round(d):d}var pt=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};function Re(s,d,g){return s instanceof ut?s:ee(s)?new ut(s[0],s[1]):null==s?s:"object"==typeof s&&"x"in s&&"y"in s?new ut(s.x,s.y):new ut(s,d,g)}function ct(s,d){if(s)for(var g=d?[s,d]:s,C=0,O=g.length;C<O;C++)this.extend(g[C])}function ce(s,d){return!s||s instanceof ct?s:new ct(s,d)}function he(s,d){if(s)for(var g=d?[s,d]:s,C=0,O=g.length;C<O;C++)this.extend(g[C])}function Me(s,d){return s instanceof he?s:new he(s,d)}function Ce(s,d,g){if(isNaN(s)||isNaN(d))throw new Error("Invalid LatLng object: ("+s+", "+d+")");this.lat=+s,this.lng=+d,void 0!==g&&(this.alt=+g)}function Ie(s,d,g){return s instanceof Ce?s:ee(s)&&"object"!=typeof s[0]?3===s.length?new Ce(s[0],s[1],s[2]):2===s.length?new Ce(s[0],s[1]):null:null==s?s:"object"==typeof s&&"lat"in s?new Ce(s.lat,"lng"in s?s.lng:s.lon,s.alt):void 0===d?null:new Ce(s,d,g)}ut.prototype={clone:function(){return new ut(this.x,this.y)},add:function(s){return this.clone()._add(Re(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(Re(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new ut(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new ut(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=pt(this.x),this.y=pt(this.y),this},distanceTo:function(s){var d=(s=Re(s)).x-this.x,g=s.y-this.y;return Math.sqrt(d*d+g*g)},equals:function(s){return(s=Re(s)).x===this.x&&s.y===this.y},contains:function(s){return s=Re(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+re(this.x)+", "+re(this.y)+")"}},ct.prototype={extend:function(s){var d,g;if(!s)return this;if(s instanceof ut||"number"==typeof s[0]||"x"in s)d=g=Re(s);else if(g=(s=ce(s)).max,!(d=s.min)||!g)return this;return this.min||this.max?(this.min.x=Math.min(d.x,this.min.x),this.max.x=Math.max(g.x,this.max.x),this.min.y=Math.min(d.y,this.min.y),this.max.y=Math.max(g.y,this.max.y)):(this.min=d.clone(),this.max=g.clone()),this},getCenter:function(s){return Re((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return Re(this.min.x,this.max.y)},getTopRight:function(){return Re(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var d,g;return(s="number"==typeof s[0]||s instanceof ut?Re(s):ce(s))instanceof ct?(d=s.min,g=s.max):d=g=s,d.x>=this.min.x&&g.x<=this.max.x&&d.y>=this.min.y&&g.y<=this.max.y},intersects:function(s){s=ce(s);var d=this.min,g=this.max,C=s.min,O=s.max;return O.x>=d.x&&C.x<=g.x&&O.y>=d.y&&C.y<=g.y},overlaps:function(s){s=ce(s);var d=this.min,g=this.max,C=s.min,O=s.max;return O.x>d.x&&C.x<g.x&&O.y>d.y&&C.y<g.y},isValid:function(){return!(!this.min||!this.max)},pad:function(s){var d=this.min,g=this.max,C=Math.abs(d.x-g.x)*s,O=Math.abs(d.y-g.y)*s;return ce(Re(d.x-C,d.y-O),Re(g.x+C,g.y+O))},equals:function(s){return!!s&&(s=ce(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight()))}},he.prototype={extend:function(s){var C,O,d=this._southWest,g=this._northEast;if(s instanceof Ce)C=s,O=s;else{if(!(s instanceof he))return s?this.extend(Ie(s)||Me(s)):this;if(O=s._northEast,!(C=s._southWest)||!O)return this}return d||g?(d.lat=Math.min(C.lat,d.lat),d.lng=Math.min(C.lng,d.lng),g.lat=Math.max(O.lat,g.lat),g.lng=Math.max(O.lng,g.lng)):(this._southWest=new Ce(C.lat,C.lng),this._northEast=new Ce(O.lat,O.lng)),this},pad:function(s){var d=this._southWest,g=this._northEast,C=Math.abs(d.lat-g.lat)*s,O=Math.abs(d.lng-g.lng)*s;return new he(new Ce(d.lat-C,d.lng-O),new Ce(g.lat+C,g.lng+O))},getCenter:function(){return new Ce((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ce(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ce(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){s="number"==typeof s[0]||s instanceof Ce||"lat"in s?Ie(s):Me(s);var C,O,d=this._southWest,g=this._northEast;return s instanceof he?(C=s.getSouthWest(),O=s.getNorthEast()):C=O=s,C.lat>=d.lat&&O.lat<=g.lat&&C.lng>=d.lng&&O.lng<=g.lng},intersects:function(s){s=Me(s);var d=this._southWest,g=this._northEast,C=s.getSouthWest(),O=s.getNorthEast();return O.lat>=d.lat&&C.lat<=g.lat&&O.lng>=d.lng&&C.lng<=g.lng},overlaps:function(s){s=Me(s);var d=this._southWest,g=this._northEast,C=s.getSouthWest(),O=s.getNorthEast();return O.lat>d.lat&&C.lat<g.lat&&O.lng>d.lng&&C.lng<g.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,d){return!!s&&(s=Me(s),this._southWest.equals(s.getSouthWest(),d)&&this._northEast.equals(s.getNorthEast(),d))},isValid:function(){return!(!this._southWest||!this._northEast)}},Ce.prototype={equals:function(s,d){return!!s&&(s=Ie(s),Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng))<=(void 0===d?1e-9:d))},toString:function(s){return"LatLng("+re(this.lat,s)+", "+re(this.lng,s)+")"},distanceTo:function(s){return rt.distance(this,Ie(s))},wrap:function(){return rt.wrapLatLng(this)},toBounds:function(s){var d=180*s/40075017,g=d/Math.cos(Math.PI/180*this.lat);return Me([this.lat-d,this.lng-g],[this.lat+d,this.lng+g])},clone:function(){return new Ce(this.lat,this.lng,this.alt)}};var s,Ye={latLngToPoint:function(s,d){var g=this.projection.project(s),C=this.scale(d);return this.transformation._transform(g,C)},pointToLatLng:function(s,d){var g=this.scale(d),C=this.transformation.untransform(s,g);return this.projection.unproject(C)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var d=this.projection.bounds,g=this.scale(s);return new ct(this.transformation.transform(d.min,g),this.transformation.transform(d.max,g))},infinite:!1,wrapLatLng:function(s){var d=this.wrapLng?Le(s.lng,this.wrapLng,!0):s.lng;return new Ce(this.wrapLat?Le(s.lat,this.wrapLat,!0):s.lat,d,s.alt)},wrapLatLngBounds:function(s){var d=s.getCenter(),g=this.wrapLatLng(d),C=d.lat-g.lat,O=d.lng-g.lng;if(0===C&&0===O)return s;var $=s.getSouthWest(),we=s.getNorthEast();return new he(new Ce($.lat-C,$.lng-O),new Ce(we.lat-C,we.lng-O))}},rt=J({},Ye,{wrapLng:[-180,180],R:6371e3,distance:function(s,d){var g=Math.PI/180,C=s.lat*g,O=d.lat*g,$=Math.sin((d.lat-s.lat)*g/2),we=Math.sin((d.lng-s.lng)*g/2),Ke=$*$+Math.cos(C)*Math.cos(O)*we*we,lt=2*Math.atan2(Math.sqrt(Ke),Math.sqrt(1-Ke));return this.R*lt}}),fn={R:6378137,MAX_LATITUDE:85.0511287798,project:function(s){var d=Math.PI/180,g=this.MAX_LATITUDE,C=Math.max(Math.min(g,s.lat),-g),O=Math.sin(C*d);return new ut(this.R*s.lng*d,this.R*Math.log((1+O)/(1-O))/2)},unproject:function(s){var d=180/Math.PI;return new Ce((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*d,s.x*d/this.R)},bounds:(s=6378137*Math.PI,new ct([-s,-s],[s,s]))};function gt(s,d,g,C){if(ee(s))return this._a=s[0],this._b=s[1],this._c=s[2],void(this._d=s[3]);this._a=s,this._b=d,this._c=g,this._d=C}function cn(s,d,g,C){return new gt(s,d,g,C)}gt.prototype={transform:function(s,d){return this._transform(s.clone(),d)},_transform:function(s,d){return s.x=(d=d||1)*(this._a*s.x+this._b),s.y=d*(this._c*s.y+this._d),s},untransform:function(s,d){return new ut((s.x/(d=d||1)-this._b)/this._a,(s.y/d-this._d)/this._c)}};var zt=J({},rt,{code:"EPSG:3857",projection:fn,transformation:function(){var s=.5/(Math.PI*fn.R);return cn(s,.5,-s,.5)}()}),St=J({},zt,{code:"EPSG:900913"});function xn(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function vn(s,d){var C,O,$,we,Ke,lt,g="";for(C=0,$=s.length;C<$;C++){for(O=0,we=(Ke=s[C]).length;O<we;O++)g+=(O?"L":"M")+(lt=Ke[O]).x+" "+lt.y;g+=d?Ue.svg?"z":"x":""}return g||"M0 0"}var me=document.documentElement.style,_e="ActiveXObject"in window,je=_e&&!document.addEventListener,Qe="msLaunchUri"in navigator&&!("documentMode"in document),_t=se("webkit"),Rt=se("android"),pn=se("android 2")||se("android 3"),ln=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Lt=Rt&&se("Google")&&ln<537&&!("AudioNode"in window),Mt=!!window.opera,Ot=!Qe&&se("chrome"),Rn=se("gecko")&&!_t&&!Mt&&!_e,ui=!Ot&&se("safari"),sn=se("phantom"),qt="OTransition"in me,Hn=0===navigator.platform.indexOf("Win"),ht=_e&&"transition"in me,Dn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!pn,Fn="MozPerspective"in me,gn=!window.L_DISABLE_3D&&(ht||Dn||Fn)&&!qt&&!sn,Ri=typeof orientation<"u"||se("mobile"),Ti=Ri&&_t,Zi=Ri&&Dn,Fi=!window.PointerEvent&&window.MSPointerEvent,jn=!(!window.PointerEvent&&!Fi),qn="ontouchstart"in window||!!window.TouchEvent,In=!window.L_NO_TOUCH&&(qn||jn),si=Ri&&Mt,Li=Ri&&Rn,Ji=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,zi=function(){var s=!1;try{var d=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",oe,d),window.removeEventListener("testPassiveEventSupport",oe,d)}catch{}return s}(),io=!!document.createElement("canvas").getContext,Zo=!(!document.createElementNS||!xn("svg").createSVGRect),dt=!!Zo&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(s.firstChild&&s.firstChild.namespaceURI)}(),We=!Zo&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var d=s.firstChild;return d.style.behavior="url(#default#VML)",d&&"object"==typeof d.adj}catch{return!1}}();function se(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var Ue={ie:_e,ielt9:je,edge:Qe,webkit:_t,android:Rt,android23:pn,androidStock:Lt,opera:Mt,chrome:Ot,gecko:Rn,safari:ui,phantom:sn,opera12:qt,win:Hn,ie3d:ht,webkit3d:Dn,gecko3d:Fn,any3d:gn,mobile:Ri,mobileWebkit:Ti,mobileWebkit3d:Zi,msPointer:Fi,pointer:jn,touch:In,touchNative:qn,mobileOpera:si,mobileGecko:Li,retina:Ji,passiveEvents:zi,canvas:io,svg:Zo,vml:We,inlineSvg:dt,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},at=Ue.msPointer?"MSPointerDown":"pointerdown",Zt=Ue.msPointer?"MSPointerMove":"pointermove",At=Ue.msPointer?"MSPointerUp":"pointerup",Wt=Ue.msPointer?"MSPointerCancel":"pointercancel",Ln={touchstart:at,touchmove:Zt,touchend:At,touchcancel:Wt},Bn={touchstart:function yi(s,d){d.MSPOINTER_TYPE_TOUCH&&d.pointerType===d.MSPOINTER_TYPE_TOUCH&&on(d),an(s,d)},touchmove:an,touchend:an,touchcancel:an},Ze={},ve=!1;function Ae(s,d,g){return"touchstart"===d&&function Kt(){ve||(document.addEventListener(at,Ct,!0),document.addEventListener(Zt,xt,!0),document.addEventListener(At,Nt,!0),document.addEventListener(Wt,Nt,!0),ve=!0)}(),Bn[d]?(g=Bn[d].bind(this,g),s.addEventListener(Ln[d],g,!1),g):(console.warn("wrong event specified:",d),oe)}function Ct(s){Ze[s.pointerId]=s}function xt(s){Ze[s.pointerId]&&(Ze[s.pointerId]=s)}function Nt(s){delete Ze[s.pointerId]}function an(s,d){if(d.pointerType!==(d.MSPOINTER_TYPE_MOUSE||"mouse")){for(var g in d.touches=[],Ze)d.touches.push(Ze[g]);d.changedTouches=[d],s(d)}}var Vn=200;var kt,Tt,Gt,Di,jo,oi=Jo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),un=Jo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Pn="webkitTransition"===un||"OTransition"===un?un+"End":"transitionend";function ei(s){return"string"==typeof s?document.getElementById(s):s}function Ii(s,d){var g=s.style[d]||s.currentStyle&&s.currentStyle[d];if((!g||"auto"===g)&&document.defaultView){var C=document.defaultView.getComputedStyle(s,null);g=C?C[d]:null}return"auto"===g?null:g}function Yt(s,d,g){var C=document.createElement(s);return C.className=d||"",g&&g.appendChild(C),C}function Cn(s){var d=s.parentNode;d&&d.removeChild(s)}function Oi(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Si(s){var d=s.parentNode;d&&d.lastChild!==s&&d.appendChild(s)}function vi(s){var d=s.parentNode;d&&d.firstChild!==s&&d.insertBefore(s,d.firstChild)}function oo(s,d){if(void 0!==s.classList)return s.classList.contains(d);var g=Co(s);return g.length>0&&new RegExp("(^|\\s)"+d+"(\\s|$)").test(g)}function wn(s,d){if(void 0!==s.classList)for(var g=ne(d),C=0,O=g.length;C<O;C++)s.classList.add(g[C]);else if(!oo(s,d)){var $=Co(s);$i(s,($?$+" ":"")+d)}}function Tn(s,d){void 0!==s.classList?s.classList.remove(d):$i(s,fe((" "+Co(s)+" ").replace(" "+d+" "," ")))}function $i(s,d){void 0===s.className.baseVal?s.className=d:s.className.baseVal=d}function Co(s){return s.correspondingElement&&(s=s.correspondingElement),void 0===s.className.baseVal?s.className:s.className.baseVal}function Gi(s,d){"opacity"in s.style?s.style.opacity=d:"filter"in s.style&&function Cs(s,d){var g=!1,C="DXImageTransform.Microsoft.Alpha";try{g=s.filters.item(C)}catch{if(1===d)return}d=Math.round(100*d),g?(g.Enabled=100!==d,g.Opacity=d):s.style.filter+=" progid:"+C+"(opacity="+d+")"}(s,d)}function Jo(s){for(var d=document.documentElement.style,g=0;g<s.length;g++)if(s[g]in d)return s[g];return!1}function Ho(s,d,g){var C=d||new ut(0,0);s.style[oi]=(Ue.ie3d?"translate("+C.x+"px,"+C.y+"px)":"translate3d("+C.x+"px,"+C.y+"px,0)")+(g?" scale("+g+")":"")}function di(s,d){s._leaflet_pos=d,Ue.any3d?Ho(s,d):(s.style.left=d.x+"px",s.style.top=d.y+"px")}function Je(s){return s._leaflet_pos||new ut(0,0)}if("onselectstart"in document)kt=function(){Xt(window,"selectstart",on)},Tt=function(){kn(window,"selectstart",on)};else{var Nn=Jo(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);kt=function(){if(Nn){var s=document.documentElement.style;Gt=s[Nn],s[Nn]="none"}},Tt=function(){Nn&&(document.documentElement.style[Nn]=Gt,Gt=void 0)}}function Wn(){Xt(window,"dragstart",on)}function Jn(){kn(window,"dragstart",on)}function Io(s){for(;-1===s.tabIndex;)s=s.parentNode;s.style&&(wo(),Di=s,jo=s.style.outlineStyle,s.style.outlineStyle="none",Xt(window,"keydown",wo))}function wo(){Di&&(Di.style.outlineStyle=jo,Di=void 0,jo=void 0,kn(window,"keydown",wo))}function hr(s){do{s=s.parentNode}while(!(s.offsetWidth&&s.offsetHeight||s===document.body));return s}function On(s){var d=s.getBoundingClientRect();return{x:d.width/s.offsetWidth||1,y:d.height/s.offsetHeight||1,boundingClientRect:d}}var Bi={__proto__:null,TRANSFORM:oi,TRANSITION:un,TRANSITION_END:Pn,get:ei,getStyle:Ii,create:Yt,remove:Cn,empty:Oi,toFront:Si,toBack:vi,hasClass:oo,addClass:wn,removeClass:Tn,setClass:$i,getClass:Co,setOpacity:Gi,testProp:Jo,setTransform:Ho,setPosition:di,getPosition:Je,get disableTextSelection(){return kt},get enableTextSelection(){return Tt},disableImageDrag:Wn,enableImageDrag:Jn,preventOutline:Io,restoreOutline:wo,getSizedParentNode:hr,getScale:On};function Xt(s,d,g,C){if(d&&"object"==typeof d)for(var O in d)_o(s,O,d[O],g);else for(var $=0,we=(d=ne(d)).length;$<we;$++)_o(s,d[$],g,C);return this}var Ni="_leaflet_events";function kn(s,d,g,C){if(1===arguments.length)fr(s),delete s[Ni];else if(d&&"object"==typeof d)for(var O in d)Wr(s,O,d[O],g);else if(d=ne(d),2===arguments.length)fr(s,function(Ke){return-1!==Te(d,Ke)});else for(var $=0,we=d.length;$<we;$++)Wr(s,d[$],g,C);return this}function fr(s,d){for(var g in s[Ni]){var C=g.split(/\d/)[0];(!d||d(C))&&Wr(s,C,null,null,g)}}var Tr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function _o(s,d,g,C){var O=d+e(g)+(C?"_"+e(C):"");if(s[Ni]&&s[Ni][O])return this;var $=function(Ke){return g.call(C||s,Ke||window.event)},we=$;!Ue.touchNative&&Ue.pointer&&0===d.indexOf("touch")?$=Ae(s,d,$):Ue.touch&&"dblclick"===d?$=function Jt(s,d){s.addEventListener("dblclick",d);var C,g=0;function O($){if(1===$.detail){if("mouse"!==$.pointerType&&(!$.sourceCapabilities||$.sourceCapabilities.firesTouchEvents)){var we=ro($);if(!we.some(function(lt){return lt instanceof HTMLLabelElement&&lt.attributes.for})||we.some(function(lt){return lt instanceof HTMLInputElement||lt instanceof HTMLSelectElement})){var Ke=Date.now();Ke-g<=Vn?2==++C&&d(function mn(s){var g,C,d={};for(C in s)d[C]=(g=s[C])&&g.bind?g.bind(s):g;return s=d,d.type="dblclick",d.detail=2,d.isTrusted=!1,d._simulated=!0,d}($)):C=1,g=Ke}}}else C=$.detail}return s.addEventListener("click",O),{dblclick:d,simDblclick:O}}(s,$):"addEventListener"in s?"touchstart"===d||"touchmove"===d||"wheel"===d||"mousewheel"===d?s.addEventListener(Tr[d]||d,$,!!Ue.passiveEvents&&{passive:!1}):"mouseenter"===d||"mouseleave"===d?s.addEventListener(Tr[d],$=function(Ke){Ke=Ke||window.event,Ci(s,Ke)&&we(Ke)},!1):s.addEventListener(d,we,!1):s.attachEvent("on"+d,$),s[Ni]=s[Ni]||{},s[Ni][O]=$}function Wr(s,d,g,C,O){O=O||d+e(g)+(C?"_"+e(C):"");var $=s[Ni]&&s[Ni][O];if(!$)return this;!Ue.touchNative&&Ue.pointer&&0===d.indexOf("touch")?function it(s,d,g){Ln[d]?s.removeEventListener(Ln[d],g,!1):console.warn("wrong event specified:",d)}(s,d,$):Ue.touch&&"dblclick"===d?function Un(s,d){s.removeEventListener("dblclick",d.dblclick),s.removeEventListener("click",d.simDblclick)}(s,$):"removeEventListener"in s?s.removeEventListener(Tr[d]||d,$,!1):s.detachEvent("on"+d,$),s[Ni][O]=null}function Qo(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function hi(s){return _o(s,"wheel",Qo),this}function $t(s){return Xt(s,"mousedown touchstart dblclick contextmenu",Qo),s._leaflet_disable_click=!0,this}function on(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function ai(s){return on(s),Qo(s),this}function ro(s){if(s.composedPath)return s.composedPath();for(var d=[],g=s.target;g;)d.push(g),g=g.parentNode;return d}function Go(s,d){if(!d)return new ut(s.clientX,s.clientY);var g=On(d),C=g.boundingClientRect;return new ut((s.clientX-C.left)/g.x-d.clientLeft,(s.clientY-C.top)/g.y-d.clientTop)}var Hi=Ue.linux&&Ue.chrome?window.devicePixelRatio:Ue.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Mr(s){return Ue.edge?s.wheelDeltaY/2:s.deltaY&&0===s.deltaMode?-s.deltaY/Hi:s.deltaY&&1===s.deltaMode?20*-s.deltaY:s.deltaY&&2===s.deltaMode?60*-s.deltaY:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?20*-s.detail:s.detail?s.detail/-32765*60:0}function Ci(s,d){var g=d.relatedTarget;if(!g)return!0;try{for(;g&&g!==s;)g=g.parentNode}catch{return!1}return g!==s}var Eo={__proto__:null,on:Xt,off:kn,stopPropagation:Qo,disableScrollPropagation:hi,disableClickPropagation:$t,preventDefault:on,stop:ai,getPropagationPath:ro,getMousePosition:Go,getWheelDelta:Mr,isExternalTarget:Ci,addListener:Xt,removeListener:kn},Ko=Bt.extend({run:function(s,d,g,C){this.stop(),this._el=s,this._inProgress=!0,this._duration=g||.25,this._easeOutPower=1/Math.max(C||.5,.2),this._startPos=Je(s),this._offset=d.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Oe(this._animate,this),this._step()},_step:function(s){var d=+new Date-this._startTime,g=1e3*this._duration;d<g?this._runFrame(this._easeOut(d/g),s):(this._runFrame(1),this._complete())},_runFrame:function(s,d){var g=this._startPos.add(this._offset.multiplyBy(s));d&&g._round(),di(this._el,g),this.fire("step")},_complete:function(){Pe(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Vt=Bt.extend({options:{crs:zt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,d){d=ge(this,d),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=te(this._onResize,this),this._initEvents(),d.maxBounds&&this.setMaxBounds(d.maxBounds),void 0!==d.zoom&&(this._zoom=this._limitZoom(d.zoom)),d.center&&void 0!==d.zoom&&this.setView(Ie(d.center),d.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=un&&Ue.any3d&&!Ue.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Xt(this._proxy,Pn,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,d,g){return d=void 0===d?this._zoom:this._limitZoom(d),s=this._limitCenter(Ie(s),d,this.options.maxBounds),g=g||{},this._stop(),this._loaded&&!g.reset&&!0!==g&&(void 0!==g.animate&&(g.zoom=J({animate:g.animate},g.zoom),g.pan=J({animate:g.animate,duration:g.duration},g.pan)),this._zoom!==d?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,d,g.zoom):this._tryAnimatedPan(s,g.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(s,d,g.pan&&g.pan.noMoveStart),this)},setZoom:function(s,d){return this._loaded?this.setView(this.getCenter(),s,{zoom:d}):(this._zoom=s,this)},zoomIn:function(s,d){return this.setZoom(this._zoom+(s=s||(Ue.any3d?this.options.zoomDelta:1)),d)},zoomOut:function(s,d){return this.setZoom(this._zoom-(s=s||(Ue.any3d?this.options.zoomDelta:1)),d)},setZoomAround:function(s,d,g){var C=this.getZoomScale(d),O=this.getSize().divideBy(2),we=(s instanceof ut?s:this.latLngToContainerPoint(s)).subtract(O).multiplyBy(1-1/C),Ke=this.containerPointToLatLng(O.add(we));return this.setView(Ke,d,{zoom:g})},_getBoundsCenterZoom:function(s,d){d=d||{},s=s.getBounds?s.getBounds():Me(s);var g=Re(d.paddingTopLeft||d.padding||[0,0]),C=Re(d.paddingBottomRight||d.padding||[0,0]),O=this.getBoundsZoom(s,!1,g.add(C));if((O="number"==typeof d.maxZoom?Math.min(d.maxZoom,O):O)===1/0)return{center:s.getCenter(),zoom:O};var $=C.subtract(g).divideBy(2),we=this.project(s.getSouthWest(),O),Ke=this.project(s.getNorthEast(),O);return{center:this.unproject(we.add(Ke).divideBy(2).add($),O),zoom:O}},fitBounds:function(s,d){if(!(s=Me(s)).isValid())throw new Error("Bounds are not valid.");var g=this._getBoundsCenterZoom(s,d);return this.setView(g.center,g.zoom,d)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,d){return this.setView(s,this._zoom,{pan:d})},panBy:function(s,d){if(d=d||{},!(s=Re(s).round()).x&&!s.y)return this.fire("moveend");if(!0!==d.animate&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ko,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),d.noMoveStart||this.fire("movestart"),!1!==d.animate){wn(this._mapPane,"leaflet-pan-anim");var g=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,g,d.duration||.25,d.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,d,g){if(!1===(g=g||{}).animate||!Ue.any3d)return this.setView(s,d,g);this._stop();var C=this.project(this.getCenter()),O=this.project(s),$=this.getSize(),we=this._zoom;s=Ie(s),d=void 0===d?we:d;var Ke=Math.max($.x,$.y),lt=Ke*this.getZoomScale(we,d),wt=O.distanceTo(C)||1,Ht=1.42,An=Ht*Ht;function Zn(Ft){var Et=(lt*lt-Ke*Ke+(Ft?-1:1)*An*An*wt*wt)/(2*(Ft?lt:Ke)*An*wt),Kn=Math.sqrt(Et*Et+1)-Et;return Kn<1e-9?-18:Math.log(Kn)}function pi(Ft){return(Math.exp(Ft)-Math.exp(-Ft))/2}function ri(Ft){return(Math.exp(Ft)+Math.exp(-Ft))/2}var nn=Zn(0);function Ee(Ft){return Ke*(ri(nn)*function Ui(Ft){return pi(Ft)/ri(Ft)}(nn+Ht*Ft)-pi(nn))/An}var k=Date.now(),X=(Zn(1)-nn)/Ht,Ne=g.duration?1e3*g.duration:1e3*X*.8;return this._moveStart(!0,g.noMoveStart),function mt(){var Ft=(Date.now()-k)/Ne,ti=function U(Ft){return 1-Math.pow(1-Ft,1.5)}(Ft)*X;Ft<=1?(this._flyToFrame=Oe(mt,this),this._move(this.unproject(C.add(O.subtract(C).multiplyBy(Ee(ti)/wt)),we),this.getScaleZoom(Ke/function ts(Ft){return Ke*(ri(nn)/ri(nn+Ht*Ft))}(ti),we),{flyTo:!0})):this._move(s,d)._moveEnd(!0)}.call(this),this},flyToBounds:function(s,d){var g=this._getBoundsCenterZoom(s,d);return this.flyTo(g.center,g.zoom,d)},setMaxBounds:function(s){return s=Me(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var d=this.options.minZoom;return this.options.minZoom=s,this._loaded&&d!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var d=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&d!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,d){this._enforcingBounds=!0;var g=this.getCenter(),C=this._limitCenter(g,this._zoom,Me(s));return g.equals(C)||this.panTo(C,d),this._enforcingBounds=!1,this},panInside:function(s,d){var g=Re((d=d||{}).paddingTopLeft||d.padding||[0,0]),C=Re(d.paddingBottomRight||d.padding||[0,0]),O=this.project(this.getCenter()),$=this.project(s),we=this.getPixelBounds(),Ke=ce([we.min.add(g),we.max.subtract(C)]),lt=Ke.getSize();if(!Ke.contains($)){this._enforcingBounds=!0;var wt=$.subtract(Ke.getCenter()),Ht=Ke.extend($).getSize().subtract(lt);O.x+=wt.x<0?-Ht.x:Ht.x,O.y+=wt.y<0?-Ht.y:Ht.y,this.panTo(this.unproject(O),d),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=J({animate:!1,pan:!0},!0===s?{animate:!0}:s);var d=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var g=this.getSize(),C=d.divideBy(2).round(),O=g.divideBy(2).round(),$=C.subtract(O);return $.x||$.y?(s.animate&&s.pan?this.panBy($):(s.pan&&this._rawPanBy($),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(te(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:d,newSize:g})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=J({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var d=te(this._handleGeolocationResponse,this),g=te(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(d,g,s):navigator.geolocation.getCurrentPosition(d,g,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var d=s.code,g=s.message||(1===d?"permission denied":2===d?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:d,message:"Geolocation error: "+g+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var C=new Ce(s.coords.latitude,s.coords.longitude),O=C.toBounds(2*s.coords.accuracy),$=this._locateOptions;if($.setView){var we=this.getBoundsZoom(O);this.setView(C,$.maxZoom?Math.min(we,$.maxZoom):we)}var Ke={latlng:C,bounds:O,timestamp:s.timestamp};for(var lt in s.coords)"number"==typeof s.coords[lt]&&(Ke[lt]=s.coords[lt]);this.fire("locationfound",Ke)}},addHandler:function(s,d){if(!d)return this;var g=this[s]=new d(this);return this._handlers.push(g),this.options[s]&&g.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}var s;for(s in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),Cn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Pe(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[s].remove();for(s in this._panes)Cn(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,d){var C=Yt("div","leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),d||this._mapPane);return s&&(this._panes[s]=C),C},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds();return new he(this.unproject(s.getBottomLeft()),this.unproject(s.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,d,g){s=Me(s),g=Re(g||[0,0]);var C=this.getZoom()||0,O=this.getMinZoom(),$=this.getMaxZoom(),we=s.getNorthWest(),Ke=s.getSouthEast(),lt=this.getSize().subtract(g),wt=ce(this.project(Ke,C),this.project(we,C)).getSize(),Ht=Ue.any3d?this.options.zoomSnap:1,An=lt.x/wt.x,Zn=lt.y/wt.y,pi=d?Math.max(An,Zn):Math.min(An,Zn);return C=this.getScaleZoom(pi,C),Ht&&(C=Math.round(C/(Ht/100))*(Ht/100),C=d?Math.ceil(C/Ht)*Ht:Math.floor(C/Ht)*Ht),Math.max(O,Math.min($,C))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ut(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,d){var g=this._getTopLeftPoint(s,d);return new ct(g,g.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(void 0===s?this.getZoom():s)},getPane:function(s){return"string"==typeof s?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,d){var g=this.options.crs;return d=void 0===d?this._zoom:d,g.scale(s)/g.scale(d)},getScaleZoom:function(s,d){var g=this.options.crs,C=g.zoom(s*g.scale(d=void 0===d?this._zoom:d));return isNaN(C)?1/0:C},project:function(s,d){return d=void 0===d?this._zoom:d,this.options.crs.latLngToPoint(Ie(s),d)},unproject:function(s,d){return d=void 0===d?this._zoom:d,this.options.crs.pointToLatLng(Re(s),d)},layerPointToLatLng:function(s){var d=Re(s).add(this.getPixelOrigin());return this.unproject(d)},latLngToLayerPoint:function(s){return this.project(Ie(s))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(Ie(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(Me(s))},distance:function(s,d){return this.options.crs.distance(Ie(s),Ie(d))},containerPointToLayerPoint:function(s){return Re(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return Re(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var d=this.containerPointToLayerPoint(Re(s));return this.layerPointToLatLng(d)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ie(s)))},mouseEventToContainerPoint:function(s){return Go(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var d=this._container=ei(s);if(!d)throw new Error("Map container not found.");if(d._leaflet_id)throw new Error("Map container is already initialized.");Xt(d,"scroll",this._onScroll,this),this._containerId=e(d)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ue.any3d,wn(s,"leaflet-container"+(Ue.touch?" leaflet-touch":"")+(Ue.retina?" leaflet-retina":"")+(Ue.ielt9?" leaflet-oldie":"")+(Ue.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var d=Ii(s,"position");"absolute"!==d&&"relative"!==d&&"fixed"!==d&&"sticky"!==d&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),di(this._mapPane,new ut(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(wn(s.markerPane,"leaflet-zoom-hide"),wn(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,d,g){di(this._mapPane,new ut(0,0));var C=!this._loaded;this._loaded=!0,d=this._limitZoom(d),this.fire("viewprereset");var O=this._zoom!==d;this._moveStart(O,g)._move(s,d)._moveEnd(O),this.fire("viewreset"),C&&this.fire("load")},_moveStart:function(s,d){return s&&this.fire("zoomstart"),d||this.fire("movestart"),this},_move:function(s,d,g,C){void 0===d&&(d=this._zoom);var O=this._zoom!==d;return this._zoom=d,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),C?g&&g.pinch&&this.fire("zoom",g):((O||g&&g.pinch)&&this.fire("zoom",g),this.fire("move",g)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Pe(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){di(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[e(this._container)]=this;var d=s?kn:Xt;d(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&d(window,"resize",this._onResize,this),Ue.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Pe(this._resizeRequest),this._resizeRequest=Oe(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,d){for(var C,g=[],O="mouseout"===d||"mouseover"===d,$=s.target||s.srcElement,we=!1;$;){if((C=this._targets[e($)])&&("click"===d||"preclick"===d)&&this._draggableMoved(C)){we=!0;break}if(C&&C.listens(d,!0)&&(O&&!Ci($,s)||(g.push(C),O))||$===this._container)break;$=$.parentNode}return!g.length&&!we&&!O&&this.listens(d,!0)&&(g=[this]),g},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var d=s.target||s.srcElement;if(!(!this._loaded||d._leaflet_disable_events||"click"===s.type&&this._isClickDisabled(d))){var g=s.type;"mousedown"===g&&Io(d),this._fireDOMEvent(s,g)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,d,g){if("click"===s.type){var C=J({},s);C.type="preclick",this._fireDOMEvent(C,C.type,g)}var O=this._findEventTargets(s,d);if(g){for(var $=[],we=0;we<g.length;we++)g[we].listens(d,!0)&&$.push(g[we]);O=$.concat(O)}if(O.length){"contextmenu"===d&&on(s);var Ke=O[0],lt={originalEvent:s};if("keypress"!==s.type&&"keydown"!==s.type&&"keyup"!==s.type){var wt=Ke.getLatLng&&(!Ke._radius||Ke._radius<=10);lt.containerPoint=wt?this.latLngToContainerPoint(Ke.getLatLng()):this.mouseEventToContainerPoint(s),lt.layerPoint=this.containerPointToLayerPoint(lt.containerPoint),lt.latlng=wt?Ke.getLatLng():this.layerPointToLatLng(lt.layerPoint)}for(we=0;we<O.length;we++)if(O[we].fire(d,lt,!0),lt.originalEvent._stopped||!1===O[we].options.bubblingMouseEvents&&-1!==Te(this._mouseEvents,d))return}},_draggableMoved:function(s){return(s=s.dragging&&s.dragging.enabled()?s:this).dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,d=this._handlers.length;s<d;s++)this._handlers[s].disable()},whenReady:function(s,d){return this._loaded?s.call(d||this,{target:this}):this.on("load",s,d),this},_getMapPanePos:function(){return Je(this._mapPane)||new ut(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,d){return(s&&void 0!==d?this._getNewPixelOrigin(s,d):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,d){var g=this.getSize()._divideBy(2);return this.project(s,d)._subtract(g)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,d,g){var C=this._getNewPixelOrigin(g,d);return this.project(s,d)._subtract(C)},_latLngBoundsToNewLayerBounds:function(s,d,g){var C=this._getNewPixelOrigin(g,d);return ce([this.project(s.getSouthWest(),d)._subtract(C),this.project(s.getNorthWest(),d)._subtract(C),this.project(s.getSouthEast(),d)._subtract(C),this.project(s.getNorthEast(),d)._subtract(C)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,d,g){if(!g)return s;var C=this.project(s,d),O=this.getSize().divideBy(2),$=new ct(C.subtract(O),C.add(O)),we=this._getBoundsOffset($,g,d);return Math.abs(we.x)<=1&&Math.abs(we.y)<=1?s:this.unproject(C.add(we),d)},_limitOffset:function(s,d){if(!d)return s;var g=this.getPixelBounds(),C=new ct(g.min.add(s),g.max.add(s));return s.add(this._getBoundsOffset(C,d))},_getBoundsOffset:function(s,d,g){var C=ce(this.project(d.getNorthEast(),g),this.project(d.getSouthWest(),g)),O=C.min.subtract(s.min),$=C.max.subtract(s.max);return new ut(this._rebound(O.x,-$.x),this._rebound(O.y,-$.y))},_rebound:function(s,d){return s+d>0?Math.round(s-d)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(d))},_limitZoom:function(s){var d=this.getMinZoom(),g=this.getMaxZoom(),C=Ue.any3d?this.options.zoomSnap:1;return C&&(s=Math.round(s/C)*C),Math.max(d,Math.min(g,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Tn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,d){var g=this._getCenterOffset(s)._trunc();return!(!0!==(d&&d.animate)&&!this.getSize().contains(g)||(this.panBy(g,d),0))},_createAnimProxy:function(){var s=this._proxy=Yt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(d){var g=oi,C=this._proxy.style[g];Ho(this._proxy,this.project(d.center,d.zoom),this.getZoomScale(d.zoom,1)),C===this._proxy.style[g]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Cn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),d=this.getZoom();Ho(this._proxy,this.project(s,d),this.getZoomScale(d,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,d,g){if(this._animatingZoom)return!0;if(g=g||{},!this._zoomAnimated||!1===g.animate||this._nothingToAnimate()||Math.abs(d-this._zoom)>this.options.zoomAnimationThreshold)return!1;var C=this.getZoomScale(d),O=this._getCenterOffset(s)._divideBy(1-1/C);return!(!0!==g.animate&&!this.getSize().contains(O)||(Oe(function(){this._moveStart(!0,g.noMoveStart||!1)._animateZoom(s,d,!0)},this),0))},_animateZoom:function(s,d,g,C){this._mapPane&&(g&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=d,wn(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:d,noUpdate:C}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(te(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Tn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});var uo=He.extend({options:{position:"topright"},initialize:function(s){ge(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var d=this._map;return d&&d.removeControl(this),this.options.position=s,d&&d.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var d=this._container=this.onAdd(s),g=this.getPosition(),C=s._controlCorners[g];return wn(d,"leaflet-control"),-1!==g.indexOf("bottom")?C.insertBefore(d,C.firstChild):C.appendChild(d),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Cn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),To=function(s){return new uo(s)};Vt.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},d="leaflet-",g=this._controlContainer=Yt("div",d+"control-container",this._container);function C(O,$){s[O+$]=Yt("div",d+O+" "+d+$,g)}C("top","left"),C("top","right"),C("bottom","left"),C("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)Cn(this._controlCorners[s]);Cn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ai=uo.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,d,g,C){return g<C?-1:C<g?1:0}},initialize:function(s,d,g){for(var C in ge(this,g),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,s)this._addLayer(s[C],C);for(C in d)this._addLayer(d[C],C,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return uo.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,d){return this._addLayer(s,d),this._map?this._update():this},addOverlay:function(s,d){return this._addLayer(s,d,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var d=this._getLayer(e(s));return d&&this._layers.splice(this._layers.indexOf(d),1),this._map?this._update():this},expand:function(){wn(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(wn(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):Tn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Tn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",d=this._container=Yt("div",s),g=this.options.collapsed;d.setAttribute("aria-haspopup",!0),$t(d),hi(d);var C=this._section=Yt("section",s+"-list");g&&(this._map.on("click",this.collapse,this),Xt(d,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var O=this._layersLink=Yt("a",s+"-toggle",d);O.href="#",O.title="Layers",O.setAttribute("role","button"),Xt(O,{keydown:function($){13===$.keyCode&&this._expandSafely()},click:function($){on($),this._expandSafely()}},this),g||this.expand(),this._baseLayersList=Yt("div",s+"-base",C),this._separator=Yt("div",s+"-separator",C),this._overlaysList=Yt("div",s+"-overlays",C),d.appendChild(C)},_getLayer:function(s){for(var d=0;d<this._layers.length;d++)if(this._layers[d]&&e(this._layers[d].layer)===s)return this._layers[d]},_addLayer:function(s,d,g){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:d,overlay:g}),this.options.sortLayers&&this._layers.sort(te(function(C,O){return this.options.sortFunction(C.layer,O.layer,C.name,O.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Oi(this._baseLayersList),Oi(this._overlaysList),this._layerControlInputs=[];var s,d,g,C,O=0;for(g=0;g<this._layers.length;g++)this._addItem(C=this._layers[g]),d=d||C.overlay,s=s||!C.overlay,O+=C.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(s=s&&O>1)?"":"none"),this._separator.style.display=d&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var d=this._getLayer(e(s.target)),g=d.overlay?"add"===s.type?"overlayadd":"overlayremove":"add"===s.type?"baselayerchange":null;g&&this._map.fire(g,d)},_createRadioElement:function(s,d){var g='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(d?' checked="checked"':"")+"/>",C=document.createElement("div");return C.innerHTML=g,C.firstChild},_addItem:function(s){var C,d=document.createElement("label"),g=this._map.hasLayer(s.layer);s.overlay?((C=document.createElement("input")).type="checkbox",C.className="leaflet-control-layers-selector",C.defaultChecked=g):C=this._createRadioElement("leaflet-base-layers_"+e(this),g),this._layerControlInputs.push(C),C.layerId=e(s.layer),Xt(C,"click",this._onInputClick,this);var O=document.createElement("span");O.innerHTML=" "+s.name;var $=document.createElement("span");return d.appendChild($),$.appendChild(C),$.appendChild(O),(s.overlay?this._overlaysList:this._baseLayersList).appendChild(d),this._checkDisabledLayers(),d},_onInputClick:function(){if(!this._preventClick){var d,g,s=this._layerControlInputs,C=[],O=[];this._handlingClick=!0;for(var $=s.length-1;$>=0;$--)g=this._getLayer((d=s[$]).layerId).layer,d.checked?C.push(g):d.checked||O.push(g);for($=0;$<O.length;$++)this._map.hasLayer(O[$])&&this._map.removeLayer(O[$]);for($=0;$<C.length;$++)this._map.hasLayer(C[$])||this._map.addLayer(C[$]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var d,g,s=this._layerControlInputs,C=this._map.getZoom(),O=s.length-1;O>=0;O--)g=this._getLayer((d=s[O]).layerId).layer,d.disabled=void 0!==g.options.minZoom&&C<g.options.minZoom||void 0!==g.options.maxZoom&&C>g.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,Xt(s,"click",on),this.expand();var d=this;setTimeout(function(){kn(s,"click",on),d._preventClick=!1})}}),rr=uo.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var d="leaflet-control-zoom",g=Yt("div",d+" leaflet-bar"),C=this.options;return this._zoomInButton=this._createButton(C.zoomInText,C.zoomInTitle,d+"-in",g,this._zoomIn),this._zoomOutButton=this._createButton(C.zoomOutText,C.zoomOutTitle,d+"-out",g,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),g},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,d,g,C,O){var $=Yt("a",g,C);return $.innerHTML=s,$.href="#",$.title=d,$.setAttribute("role","button"),$.setAttribute("aria-label",d),$t($),Xt($,"click",ai),Xt($,"click",O,this),Xt($,"click",this._refocusOnMap,this),$},_updateDisabled:function(){var s=this._map,d="leaflet-disabled";Tn(this._zoomInButton,d),Tn(this._zoomOutButton,d),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(wn(this._zoomOutButton,d),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(wn(this._zoomInButton,d),this._zoomInButton.setAttribute("aria-disabled","true"))}});Vt.mergeOptions({zoomControl:!0}),Vt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new rr,this.addControl(this.zoomControl))});var pr=uo.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var d="leaflet-control-scale",g=Yt("div",d),C=this.options;return this._addScales(C,d+"-line",g),s.on(C.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),g},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,d,g){s.metric&&(this._mScale=Yt("div",d,g)),s.imperial&&(this._iScale=Yt("div",d,g))},_update:function(){var s=this._map,d=s.getSize().y/2,g=s.distance(s.containerPointToLatLng([0,d]),s.containerPointToLatLng([this.options.maxWidth,d]));this._updateScales(g)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var d=this._getRoundNum(s);this._updateScale(this._mScale,d<1e3?d+" m":d/1e3+" km",d/s)},_updateImperial:function(s){var g,C,O,d=3.2808399*s;d>5280?(C=this._getRoundNum(g=d/5280),this._updateScale(this._iScale,C+" mi",C/g)):(O=this._getRoundNum(d),this._updateScale(this._iScale,O+" ft",O/d))},_updateScale:function(s,d,g){s.style.width=Math.round(this.options.maxWidth*g)+"px",s.innerHTML=d},_getRoundNum:function(s){var d=Math.pow(10,(Math.floor(s)+"").length-1),g=s/d;return d*(g>=10?10:g>=5?5:g>=3?3:g>=2?2:1)}}),Yo=uo.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ue.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(s){ge(this,s),this._attributions={}},onAdd:function(s){for(var d in s.attributionControl=this,this._container=Yt("div","leaflet-control-attribution"),$t(this._container),s._layers)s._layers[d].getAttribution&&this.addAttribution(s._layers[d].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var d in this._attributions)this._attributions[d]&&s.push(d);var g=[];this.options.prefix&&g.push(this.options.prefix),s.length&&g.push(s.join(", ")),this._container.innerHTML=g.join(' <span aria-hidden="true">|</span> ')}}});Vt.mergeOptions({attributionControl:!0}),Vt.addInitHook(function(){this.options.attributionControl&&(new Yo).addTo(this)});uo.Layers=Ai,uo.Zoom=rr,uo.Scale=pr,uo.Attribution=Yo,To.layers=function(s,d,g){return new Ai(s,d,g)},To.zoom=function(s){return new rr(s)},To.scale=function(s){return new pr(s)},To.attribution=function(s){return new Yo(s)};var ho=He.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ho.addTo=function(s,d){return s.addHandler(d,this),this};var Qn={Events:Fe},us=Ue.touch?"touchstart mousedown":"mousedown",No=Bt.extend({options:{clickTolerance:3},initialize:function(s,d,g,C){ge(this,C),this._element=s,this._dragStartTarget=d||s,this._preventOutline=g},enable:function(){this._enabled||(Xt(this._dragStartTarget,us,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(No._dragging===this&&this.finishDrag(!0),kn(this._dragStartTarget,us,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!oo(this._element,"leaflet-zoom-anim"))){if(s.touches&&1!==s.touches.length)return void(No._dragging===this&&this.finishDrag());if(!(No._dragging||s.shiftKey||1!==s.which&&1!==s.button&&!s.touches||(No._dragging=this,this._preventOutline&&Io(this._element),Wn(),kt(),this._moving))){this.fire("down");var d=s.touches?s.touches[0]:s,g=hr(this._element);this._startPoint=new ut(d.clientX,d.clientY),this._startPos=Je(this._element),this._parentScale=On(g);var C="mousedown"===s.type;Xt(document,C?"mousemove":"touchmove",this._onMove,this),Xt(document,C?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1)return void(this._moved=!0);var d=s.touches&&1===s.touches.length?s.touches[0]:s,g=new ut(d.clientX,d.clientY)._subtract(this._startPoint);!g.x&&!g.y||Math.abs(g.x)+Math.abs(g.y)<this.options.clickTolerance||(g.x/=this._parentScale.x,g.y/=this._parentScale.y,on(s),this._moved||(this.fire("dragstart"),this._moved=!0,wn(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),wn(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(g),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),di(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){Tn(document.body,"leaflet-dragging"),this._lastTarget&&(Tn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),kn(document,"mousemove touchmove",this._onMove,this),kn(document,"mouseup touchend touchcancel",this._onUp,this),Jn(),Tt();var d=this._moved&&this._moving;this._moving=!1,No._dragging=!1,d&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function gr(s,d,g){var C,$,we,Ke,lt,wt,Ht,An,Zn,O=[1,4,2,8];for($=0,Ht=s.length;$<Ht;$++)s[$]._code=Ro(s[$],d);for(Ke=0;Ke<4;Ke++){for(An=O[Ke],C=[],$=0,we=(Ht=s.length)-1;$<Ht;we=$++)wt=s[we],(lt=s[$])._code&An?wt._code&An||((Zn=fo(wt,lt,An,d,g))._code=Ro(Zn,d),C.push(Zn)):(wt._code&An&&((Zn=fo(wt,lt,An,d,g))._code=Ro(Zn,d),C.push(Zn)),C.push(lt));s=C}return s}function so(s,d){var g,C,O,$,we,Ke,lt,wt;if(!s||0===s.length)throw new Error("latlngs not passed");Fo(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var An=Ie([0,0]),Zn=Me(s);Zn.getNorthWest().distanceTo(Zn.getSouthWest())*Zn.getNorthEast().distanceTo(Zn.getNorthWest())<1700&&(An=ao(s));var ri=s.length,Ui=[];for(g=0;g<ri;g++){var nn=Ie(s[g]);Ui.push(d.project(Ie([nn.lat-An.lat,nn.lng-An.lng])))}for(Ke=lt=wt=0,g=0,C=ri-1;g<ri;C=g++)lt+=((O=Ui[g]).x+($=Ui[C]).x)*(we=O.y*$.x-$.y*O.x),wt+=(O.y+$.y)*we,Ke+=3*we;var ts=d.unproject(Re(0===Ke?Ui[0]:[lt/Ke,wt/Ke]));return Ie([ts.lat+An.lat,ts.lng+An.lng])}function ao(s){for(var d=0,g=0,C=0,O=0;O<s.length;O++){var $=Ie(s[O]);d+=$.lat,g+=$.lng,C++}return Ie([d/C,g/C])}var ar,Lr={__proto__:null,clipPolygon:gr,polygonCenter:so,centroid:ao};function ko(s,d){if(!d||!s.length)return s.slice();var g=d*d;return function Po(s,d){var g=s.length,O=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(g);O[0]=O[g-1]=1,Qi(s,O,d,0,g-1);var $,we=[];for($=0;$<g;$++)O[$]&&we.push(s[$]);return we}(s=function sr(s,d){for(var g=[s[0]],C=1,O=0,$=s.length;C<$;C++)ca(s[C],s[O])>d&&(g.push(s[C]),O=C);return O<$-1&&g.push(s[$-1]),g}(s,g),g)}function co(s,d,g){return Math.sqrt(ds(s,d,g,!0))}function Qi(s,d,g,C,O){var we,Ke,lt,$=0;for(Ke=C+1;Ke<=O-1;Ke++)(lt=ds(s[Ke],s[C],s[O],!0))>$&&(we=Ke,$=lt);$>g&&(d[we]=1,Qi(s,d,g,C,we),Qi(s,d,g,we,O))}function mr(s,d,g,C,O){var Ke,lt,wt,$=C?ar:Ro(s,g),we=Ro(d,g);for(ar=we;;){if(!($|we))return[s,d];if($&we)return!1;wt=Ro(lt=fo(s,d,Ke=$||we,g,O),g),Ke===$?(s=lt,$=wt):(d=lt,we=wt)}}function fo(s,d,g,C,O){var wt,Ht,$=d.x-s.x,we=d.y-s.y,Ke=C.min,lt=C.max;return 8&g?(wt=s.x+$*(lt.y-s.y)/we,Ht=lt.y):4&g?(wt=s.x+$*(Ke.y-s.y)/we,Ht=Ke.y):2&g?(wt=lt.x,Ht=s.y+we*(lt.x-s.x)/$):1&g&&(wt=Ke.x,Ht=s.y+we*(Ke.x-s.x)/$),new ut(wt,Ht,O)}function Ro(s,d){var g=0;return s.x<d.min.x?g|=1:s.x>d.max.x&&(g|=2),s.y<d.min.y?g|=4:s.y>d.max.y&&(g|=8),g}function ca(s,d){var g=d.x-s.x,C=d.y-s.y;return g*g+C*C}function ds(s,d,g,C){var wt,O=d.x,$=d.y,we=g.x-O,Ke=g.y-$,lt=we*we+Ke*Ke;return lt>0&&((wt=((s.x-O)*we+(s.y-$)*Ke)/lt)>1?(O=g.x,$=g.y):wt>0&&(O+=we*wt,$+=Ke*wt)),we=s.x-O,Ke=s.y-$,C?we*we+Ke*Ke:new ut(O,$)}function Fo(s){return!ee(s[0])||"object"!=typeof s[0][0]&&typeof s[0][0]<"u"}function Br(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Fo(s)}function Ls(s,d){var g,C,O,$,we,Ke,lt,wt;if(!s||0===s.length)throw new Error("latlngs not passed");Fo(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Ht=Ie([0,0]),An=Me(s);An.getNorthWest().distanceTo(An.getSouthWest())*An.getNorthEast().distanceTo(An.getNorthWest())<1700&&(Ht=ao(s));var pi=s.length,ri=[];for(g=0;g<pi;g++){var Ui=Ie(s[g]);ri.push(d.project(Ie([Ui.lat-Ht.lat,Ui.lng-Ht.lng])))}for(g=0,C=0;g<pi-1;g++)C+=ri[g].distanceTo(ri[g+1])/2;if(0===C)wt=ri[0];else for(g=0,$=0;g<pi-1;g++)if(($+=O=(we=ri[g]).distanceTo(Ke=ri[g+1]))>C){wt=[Ke.x-(lt=($-C)/O)*(Ke.x-we.x),Ke.y-lt*(Ke.y-we.y)];break}var nn=d.unproject(Re(wt));return Ie([nn.lat+Ht.lat,nn.lng+Ht.lng])}var R={__proto__:null,simplify:ko,pointToSegmentDistance:co,closestPointOnSegment:function Ca(s,d,g){return ds(s,d,g)},clipSegment:mr,_getEdgeIntersection:fo,_getBitCode:Ro,_sqClosestPointOnSegment:ds,isFlat:Fo,_flat:Br,polylineCenter:Ls},B={project:function(s){return new ut(s.lng,s.lat)},unproject:function(s){return new Ce(s.y,s.x)},bounds:new ct([-180,-90],[180,90])},x={R:6378137,R_MINOR:6356752.314245179,bounds:new ct([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(s){var d=Math.PI/180,g=this.R,C=s.lat*d,O=this.R_MINOR/g,$=Math.sqrt(1-O*O),we=$*Math.sin(C),Ke=Math.tan(Math.PI/4-C/2)/Math.pow((1-we)/(1+we),$/2);return C=-g*Math.log(Math.max(Ke,1e-10)),new ut(s.lng*d*g,C)},unproject:function(s){for(var wt,d=180/Math.PI,g=this.R,C=this.R_MINOR/g,O=Math.sqrt(1-C*C),$=Math.exp(-s.y/g),we=Math.PI/2-2*Math.atan($),Ke=0,lt=.1;Ke<15&&Math.abs(lt)>1e-7;Ke++)wt=O*Math.sin(we),wt=Math.pow((1-wt)/(1+wt),O/2),we+=lt=Math.PI/2-2*Math.atan($*wt)-we;return new Ce(we*d,s.x*d/g)}},W={__proto__:null,LonLat:B,Mercator:x,SphericalMercator:fn},ye=J({},rt,{code:"EPSG:3395",projection:x,transformation:function(){var s=.5/(Math.PI*x.R);return cn(s,.5,-s,.5)}()}),hn=J({},rt,{code:"EPSG:4326",projection:B,transformation:cn(1/180,1,-1/180,.5)}),zn=J({},Ye,{projection:B,transformation:cn(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,d){var g=d.lng-s.lng,C=d.lat-s.lat;return Math.sqrt(g*g+C*C)},infinite:!0});Ye.Earth=rt,Ye.EPSG3395=ye,Ye.EPSG3857=zt,Ye.EPSG900913=St,Ye.EPSG4326=hn,Ye.Simple=zn;var Ki=Bt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[e(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[e(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var d=s.target;if(d.hasLayer(this)){if(this._map=d,this._zoomAnimated=d._zoomAnimated,this.getEvents){var g=this.getEvents();d.on(g,this),this.once("remove",function(){d.off(g,this)},this)}this.onAdd(d),this.fire("add"),d.fire("layeradd",{layer:this})}}});Vt.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var d=e(s);return this._layers[d]||(this._layers[d]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s)),this},removeLayer:function(s){var d=e(s);return this._layers[d]?(this._loaded&&s.onRemove(this),delete this._layers[d],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return e(s)in this._layers},eachLayer:function(s,d){for(var g in this._layers)s.call(d,this._layers[g]);return this},_addLayers:function(s){for(var d=0,g=(s=s?ee(s)?s:[s]:[]).length;d<g;d++)this.addLayer(s[d])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[e(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var d=e(s);this._zoomBoundLayers[d]&&(delete this._zoomBoundLayers[d],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,d=-1/0,g=this._getZoomSpan();for(var C in this._zoomBoundLayers){var O=this._zoomBoundLayers[C].options;s=void 0===O.minZoom?s:Math.min(s,O.minZoom),d=void 0===O.maxZoom?d:Math.max(d,O.maxZoom)}this._layersMaxZoom=d===-1/0?void 0:d,this._layersMinZoom=s===1/0?void 0:s,g!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var qo=Ki.extend({initialize:function(s,d){var g,C;if(ge(this,d),this._layers={},s)for(g=0,C=s.length;g<C;g++)this.addLayer(s[g])},addLayer:function(s){var d=this.getLayerId(s);return this._layers[d]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var d=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[d]&&this._map.removeLayer(this._layers[d]),delete this._layers[d],this},hasLayer:function(s){return("number"==typeof s?s:this.getLayerId(s))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var g,C,d=Array.prototype.slice.call(arguments,1);for(g in this._layers)(C=this._layers[g])[s]&&C[s].apply(C,d);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,d){for(var g in this._layers)s.call(d,this._layers[g]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return e(s)}}),Ir=qo.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),qo.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),qo.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new he;for(var d in this._layers){var g=this._layers[d];s.extend(g.getBounds?g.getBounds():g.getLatLng())}return s}}),Ur=He.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){ge(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,d){var g=this._getIconUrl(s);if(!g){if("icon"===s)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var C=this._createImg(g,d&&"IMG"===d.tagName?d:null);return this._setIconStyles(C,s),(this.options.crossOrigin||""===this.options.crossOrigin)&&(C.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),C},_setIconStyles:function(s,d){var g=this.options,C=g[d+"Size"];"number"==typeof C&&(C=[C,C]);var O=Re(C),$=Re("shadow"===d&&g.shadowAnchor||g.iconAnchor||O&&O.divideBy(2,!0));s.className="leaflet-marker-"+d+" "+(g.className||""),$&&(s.style.marginLeft=-$.x+"px",s.style.marginTop=-$.y+"px"),O&&(s.style.width=O.x+"px",s.style.height=O.y+"px")},_createImg:function(s,d){return(d=d||document.createElement("img")).src=s,d},_getIconUrl:function(s){return Ue.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});var Bs=Ur.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return"string"!=typeof Bs.imagePath&&(Bs.imagePath=this._detectIconPath()),(this.options.imagePath||Bs.imagePath)+Ur.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var d=function(g,C,O){var $=C.exec(g);return $&&$[O]};return(s=d(s,/^url\((['"])?(.+)\1\)$/,2))&&d(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=Yt("div","leaflet-default-icon-path",document.body),d=Ii(s,"background-image")||Ii(s,"backgroundImage");if(document.body.removeChild(s),d=this._stripUrl(d))return d;var g=document.querySelector('link[href$="leaflet.css"]');return g?g.href.substring(0,g.href.length-11-1):""}}),wa=ho.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new No(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),wn(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Tn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var d=this._marker,g=d._map,C=this._marker.options.autoPanSpeed,O=this._marker.options.autoPanPadding,$=Je(d._icon),we=g.getPixelBounds(),Ke=g.getPixelOrigin(),lt=ce(we.min._subtract(Ke).add(O),we.max._subtract(Ke).subtract(O));if(!lt.contains($)){var wt=Re((Math.max(lt.max.x,$.x)-lt.max.x)/(we.max.x-lt.max.x)-(Math.min(lt.min.x,$.x)-lt.min.x)/(we.min.x-lt.min.x),(Math.max(lt.max.y,$.y)-lt.max.y)/(we.max.y-lt.max.y)-(Math.min(lt.min.y,$.y)-lt.min.y)/(we.min.y-lt.min.y)).multiplyBy(C);g.panBy(wt,{animate:!1}),this._draggable._newPos._add(wt),this._draggable._startPos._add(wt),di(d._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=Oe(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(Pe(this._panRequest),this._panRequest=Oe(this._adjustPan.bind(this,s)))},_onDrag:function(s){var d=this._marker,g=d._shadow,C=Je(d._icon),O=d._map.layerPointToLatLng(C);g&&di(g,C),d._latlng=O,s.latlng=O,s.oldLatLng=this._oldLatLng,d.fire("move",s).fire("drag",s)},_onDragEnd:function(s){Pe(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),hs=Ki.extend({options:{icon:new Bs,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,d){ge(this,d),this._latlng=Ie(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var d=this._latlng;return this._latlng=Ie(s),this.update(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,d="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),g=s.icon.createIcon(this._icon),C=!1;g!==this._icon&&(this._icon&&this._removeIcon(),C=!0,s.title&&(g.title=s.title),"IMG"===g.tagName&&(g.alt=s.alt||"")),wn(g,d),s.keyboard&&(g.tabIndex="0",g.setAttribute("role","button")),this._icon=g,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Xt(g,"focus",this._panOnFocus,this);var O=s.icon.createShadow(this._shadow),$=!1;O!==this._shadow&&(this._removeShadow(),$=!0),O&&(wn(O,d),O.alt=""),this._shadow=O,s.opacity<1&&this._updateOpacity(),C&&this.getPane().appendChild(this._icon),this._initInteraction(),O&&$&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&kn(this._icon,"focus",this._panOnFocus,this),Cn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Cn(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&di(this._icon,s),this._shadow&&di(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var d=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(d)},_initInteraction:function(){if(this.options.interactive&&(wn(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),wa)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new wa(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Gi(this._icon,s),this._shadow&&Gi(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var d=this.options.icon.options,g=d.iconSize?Re(d.iconSize):Re(0,0),C=d.iconAnchor?Re(d.iconAnchor):Re(0,0);s.panInside(this._latlng,{paddingTopLeft:C,paddingBottomRight:g.subtract(C)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var Mo=Ki.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return ge(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Qr=Mo.extend({options:{fill:!0,radius:10},initialize:function(s,d){ge(this,d),this._latlng=Ie(s),this._radius=this.options.radius},setLatLng:function(s){var d=this._latlng;return this._latlng=Ie(s),this.redraw(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var d=s&&s.radius||this._radius;return Mo.prototype.setStyle.call(this,s),this.setRadius(d),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,d=this._radiusY||s,g=this._clickTolerance(),C=[s+g,d+g];this._pxBounds=new ct(this._point.subtract(C),this._point.add(C))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var Yi=Qr.extend({initialize:function(s,d,g){if("number"==typeof d&&(d=J({},g,{radius:d})),ge(this,d),this._latlng=Ie(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new he(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Mo.prototype.setStyle,_project:function(){var s=this._latlng.lng,d=this._latlng.lat,g=this._map,C=g.options.crs;if(C.distance===rt.distance){var O=Math.PI/180,$=this._mRadius/rt.R/O,we=g.project([d+$,s]),Ke=g.project([d-$,s]),lt=we.add(Ke).divideBy(2),wt=g.unproject(lt).lat,Ht=Math.acos((Math.cos($*O)-Math.sin(d*O)*Math.sin(wt*O))/(Math.cos(d*O)*Math.cos(wt*O)))/O;(isNaN(Ht)||0===Ht)&&(Ht=$/Math.cos(Math.PI/180*d)),this._point=lt.subtract(g.getPixelOrigin()),this._radius=isNaN(Ht)?0:lt.x-g.project([wt,s-Ht]).x,this._radiusY=lt.y-we.y}else{var An=C.unproject(C.project(this._latlng).subtract([this._mRadius,0]));this._point=g.latLngToLayerPoint(this._latlng),this._radius=this._point.x-g.latLngToLayerPoint(An).x}this._updateBounds()}});var Mi=Mo.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,d){ge(this,d),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var O,$,d=1/0,g=null,C=ds,we=0,Ke=this._parts.length;we<Ke;we++)for(var lt=this._parts[we],wt=1,Ht=lt.length;wt<Ht;wt++){var An=C(s,O=lt[wt-1],$=lt[wt],!0);An<d&&(d=An,g=C(s,O,$))}return g&&(g.distance=Math.sqrt(d)),g},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ls(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,d){return d=d||this._defaultShape(),s=Ie(s),d.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new he,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return Fo(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var d=[],g=Fo(s),C=0,O=s.length;C<O;C++)g?(d[C]=Ie(s[C]),this._bounds.extend(d[C])):d[C]=this._convertLatLngs(s[C]);return d},_project:function(){var s=new ct;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),d=new ut(s,s);this._rawPxBounds&&(this._pxBounds=new ct([this._rawPxBounds.min.subtract(d),this._rawPxBounds.max.add(d)]))},_projectLatlngs:function(s,d,g){var $,we,O=s.length;if(s[0]instanceof Ce){for(we=[],$=0;$<O;$++)we[$]=this._map.latLngToLayerPoint(s[$]),g.extend(we[$]);d.push(we)}else for($=0;$<O;$++)this._projectLatlngs(s[$],d,g)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(s)){if(this.options.noClip)return void(this._parts=this._rings);var g,C,O,$,we,Ke,lt,d=this._parts;for(g=0,O=0,$=this._rings.length;g<$;g++)for(C=0,we=(lt=this._rings[g]).length;C<we-1;C++)(Ke=mr(lt[C],lt[C+1],s,C,!0))&&(d[O]=d[O]||[],d[O].push(Ke[0]),(Ke[1]!==lt[C+1]||C===we-2)&&(d[O].push(Ke[1]),O++))}},_simplifyPoints:function(){for(var s=this._parts,d=this.options.smoothFactor,g=0,C=s.length;g<C;g++)s[g]=ko(s[g],d)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,d){var g,C,O,$,we,Ke,lt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(g=0,$=this._parts.length;g<$;g++)for(C=0,O=(we=(Ke=this._parts[g]).length)-1;C<we;O=C++)if((d||0!==C)&&co(s,Ke[O],Ke[C])<=lt)return!0;return!1}});Mi._flat=Br;var Kr=Mi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return so(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var d=Mi.prototype._convertLatLngs.call(this,s),g=d.length;return g>=2&&d[0]instanceof Ce&&d[0].equals(d[g-1])&&d.pop(),d},_setLatLngs:function(s){Mi.prototype._setLatLngs.call(this,s),Fo(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Fo(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,d=this.options.weight,g=new ut(d,d);if(s=new ct(s.min.subtract(g),s.max.add(g)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(s)){if(this.options.noClip)return void(this._parts=this._rings);for(var $,C=0,O=this._rings.length;C<O;C++)($=gr(this._rings[C],s,!0)).length&&this._parts.push($)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var g,C,O,$,we,Ke,lt,wt,d=!1;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for($=0,lt=this._parts.length;$<lt;$++)for(we=0,Ke=(wt=(g=this._parts[$]).length)-1;we<wt;Ke=we++)(C=g[we]).y>s.y!=(O=g[Ke]).y>s.y&&s.x<(O.x-C.x)*(s.y-C.y)/(O.y-C.y)+C.x&&(d=!d);return d||Mi.prototype._containsPoint.call(this,s,!0)}});var cr=Ir.extend({initialize:function(s,d){ge(this,d),this._layers={},s&&this.addData(s)},addData:function(s){var g,C,O,d=ee(s)?s:s.features;if(d){for(g=0,C=d.length;g<C;g++)((O=d[g]).geometries||O.geometry||O.features||O.coordinates)&&this.addData(O);return this}var $=this.options;if($.filter&&!$.filter(s))return this;var we=_r(s,$);return we?(we.feature=Vr(s),we.defaultOptions=we.options,this.resetStyle(we),$.onEachFeature&&$.onEachFeature(s,we),this.addLayer(we)):this},resetStyle:function(s){return void 0===s?this.eachLayer(this.resetStyle,this):(s.options=J({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(d){this._setLayerStyle(d,s)},this)},_setLayerStyle:function(s,d){s.setStyle&&("function"==typeof d&&(d=d(s.feature)),s.setStyle(d))}});function _r(s,d){var Ke,lt,wt,Ht,g="Feature"===s.type?s.geometry:s,C=g?g.coordinates:null,O=[],$=d&&d.pointToLayer,we=d&&d.coordsToLatLng||Xr;if(!C&&!g)return null;switch(g.type){case"Point":return Hr($,s,Ke=we(C),d);case"MultiPoint":for(wt=0,Ht=C.length;wt<Ht;wt++)Ke=we(C[wt]),O.push(Hr($,s,Ke,d));return new Ir(O);case"LineString":case"MultiLineString":return lt=jr(C,"LineString"===g.type?0:1,we),new Mi(lt,d);case"Polygon":case"MultiPolygon":return lt=jr(C,"Polygon"===g.type?1:2,we),new Kr(lt,d);case"GeometryCollection":for(wt=0,Ht=g.geometries.length;wt<Ht;wt++){var An=_r({geometry:g.geometries[wt],type:"Feature",properties:s.properties},d);An&&O.push(An)}return new Ir(O);case"FeatureCollection":for(wt=0,Ht=g.features.length;wt<Ht;wt++){var Zn=_r(g.features[wt],d);Zn&&O.push(Zn)}return new Ir(O);default:throw new Error("Invalid GeoJSON object.")}}function Hr(s,d,g,C){return s?s(d,g):new hs(g,C&&C.markersInheritOptions&&C)}function Xr(s){return new Ce(s[1],s[0],s[2])}function jr(s,d,g){for(var we,C=[],O=0,$=s.length;O<$;O++)we=d?jr(s[O],d-1,g):(g||Xr)(s[O]),C.push(we);return C}function fs(s,d){return void 0!==(s=Ie(s)).alt?[re(s.lng,d),re(s.lat,d),re(s.alt,d)]:[re(s.lng,d),re(s.lat,d)]}function ps(s,d,g,C){for(var O=[],$=0,we=s.length;$<we;$++)O.push(d?ps(s[$],Fo(s[$])?0:d-1,g,C):fs(s[$],C));return!d&&g&&O.length>0&&O.push(O[0].slice()),O}function Or(s,d){return s.feature?J({},s.feature,{geometry:d}):Vr(d)}function Vr(s){return"Feature"===s.type||"FeatureCollection"===s.type?s:{type:"Feature",properties:{},geometry:s}}var Xo={toGeoJSON:function(s){return Or(this,{type:"Point",coordinates:fs(this.getLatLng(),s)})}};function vr(s,d){return new cr(s,d)}hs.include(Xo),Yi.include(Xo),Qr.include(Xo),Mi.include({toGeoJSON:function(s){var d=!Fo(this._latlngs);return Or(this,{type:(d?"Multi":"")+"LineString",coordinates:ps(this._latlngs,d?1:0,!1,s)})}}),Kr.include({toGeoJSON:function(s){var d=!Fo(this._latlngs),g=d&&!Fo(this._latlngs[0]),C=ps(this._latlngs,g?2:d?1:0,!0,s);return d||(C=[C]),Or(this,{type:(g?"Multi":"")+"Polygon",coordinates:C})}}),qo.include({toMultiPoint:function(s){var d=[];return this.eachLayer(function(g){d.push(g.toGeoJSON(s).geometry.coordinates)}),Or(this,{type:"MultiPoint",coordinates:d})},toGeoJSON:function(s){var d=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===d)return this.toMultiPoint(s);var g="GeometryCollection"===d,C=[];return this.eachLayer(function(O){if(O.toGeoJSON){var $=O.toGeoJSON(s);if(g)C.push($.geometry);else{var we=Vr($);"FeatureCollection"===we.type?C.push.apply(C,we.features):C.push(we)}}}),g?Or(this,{geometries:C,type:"GeometryCollection"}):{type:"FeatureCollection",features:C}}});var Us=vr,zr=Ki.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,d,g){this._url=s,this._bounds=Me(d),ge(this,g)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(wn(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Cn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Si(this._image),this},bringToBack:function(){return this._map&&vi(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=Me(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s="IMG"===this._url.tagName,d=this._image=s?this._url:Yt("img");wn(d,"leaflet-image-layer"),this._zoomAnimated&&wn(d,"leaflet-zoom-animated"),this.options.className&&wn(d,this.options.className),d.onselectstart=oe,d.onmousemove=oe,d.onload=te(this.fire,this,"load"),d.onerror=te(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(d.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s?this._url=d.src:(d.src=this._url,d.alt=this.options.alt)},_animateZoom:function(s){var d=this._map.getZoomScale(s.zoom),g=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Ho(this._image,g,d)},_reset:function(){var s=this._image,d=new ct(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),g=d.getSize();di(s,d.min),s.style.width=g.x+"px",s.style.height=g.y+"px"},_updateOpacity:function(){Gi(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),Ea=zr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s="VIDEO"===this._url.tagName,d=this._image=s?this._url:Yt("video");if(wn(d,"leaflet-image-layer"),this._zoomAnimated&&wn(d,"leaflet-zoom-animated"),this.options.className&&wn(d,this.options.className),d.onselectstart=oe,d.onmousemove=oe,d.onloadeddata=te(this.fire,this,"load"),s){for(var g=d.getElementsByTagName("source"),C=[],O=0;O<g.length;O++)C.push(g[O].src);this._url=g.length>0?C:[d.src]}else{ee(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(d.style,"objectFit")&&(d.style.objectFit="fill"),d.autoplay=!!this.options.autoplay,d.loop=!!this.options.loop,d.muted=!!this.options.muted,d.playsInline=!!this.options.playsInline;for(var $=0;$<this._url.length;$++){var we=Yt("source");we.src=this._url[$],d.appendChild(we)}}}});var Qs=zr.extend({_initImage:function(){var s=this._image=this._url;wn(s,"leaflet-image-layer"),this._zoomAnimated&&wn(s,"leaflet-zoom-animated"),this.options.className&&wn(s,this.options.className),s.onselectstart=oe,s.onmousemove=oe}});var er=Ki.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,d){s&&(s instanceof Ce||ee(s))?(this._latlng=Ie(s),ge(this,d)):(ge(this,s),this._source=d),this.options.content&&(this._content=this.options.content)},openOn:function(s){return(s=arguments.length?s:this._source._map).hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Gi(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Gi(this._container,1),this.bringToFront(),this.options.interactive&&(wn(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Gi(this._container,0),this._removeTimeout=setTimeout(te(Cn,void 0,this._container),200)):Cn(this._container),this.options.interactive&&(Tn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=Ie(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Si(this._container),this},bringToBack:function(){return this._map&&vi(this._container),this},_prepareOpen:function(s){var d=this._source;if(!d._map)return!1;if(d instanceof Ir){d=null;var g=this._source._layers;for(var C in g)if(g[C]._map){d=g[C];break}if(!d)return!1;this._source=d}if(!s)if(d.getCenter)s=d.getCenter();else if(d.getLatLng)s=d.getLatLng();else{if(!d.getBounds)throw new Error("Unable to get source layer LatLng.");s=d.getBounds().getCenter()}return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,d="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof d)s.innerHTML=d;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(d)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),d=Re(this.options.offset),g=this._getAnchor();this._zoomAnimated?di(this._container,s.add(g)):d=d.add(s).add(g);var C=this._containerBottom=-d.y,O=this._containerLeft=-Math.round(this._containerWidth/2)+d.x;this._container.style.bottom=C+"px",this._container.style.left=O+"px"}},_getAnchor:function(){return[0,0]}});Vt.include({_initOverlay:function(s,d,g,C){var O=d;return O instanceof s||(O=new s(C).setContent(d)),g&&O.setLatLng(g),O}}),Ki.include({_initOverlay:function(s,d,g,C){var O=g;return O instanceof s?(ge(O,C),O._source=this):(O=d&&!C?d:new s(C,this)).setContent(g),O}});var es=er.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return!(s=arguments.length?s:this._source._map).hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,er.prototype.openOn.call(this,s)},onAdd:function(s){er.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Mo||this._source.on("preclick",Qo))},onRemove:function(s){er.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Mo||this._source.off("preclick",Qo))},getEvents:function(){var s=er.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",d=this._container=Yt("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),g=this._wrapper=Yt("div",s+"-content-wrapper",d);if(this._contentNode=Yt("div",s+"-content",g),$t(d),hi(this._contentNode),Xt(d,"contextmenu",Qo),this._tipContainer=Yt("div",s+"-tip-container",d),this._tip=Yt("div",s+"-tip",this._tipContainer),this.options.closeButton){var C=this._closeButton=Yt("a",s+"-close-button",d);C.setAttribute("role","button"),C.setAttribute("aria-label","Close popup"),C.href="#close",C.innerHTML='<span aria-hidden="true">&#215;</span>',Xt(C,"click",function(O){on(O),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,d=s.style;d.width="",d.whiteSpace="nowrap";var g=s.offsetWidth;g=Math.min(g,this.options.maxWidth),g=Math.max(g,this.options.minWidth),d.width=g+1+"px",d.whiteSpace="",d.height="";var O=this.options.maxHeight,$="leaflet-popup-scrolled";O&&s.offsetHeight>O?(d.height=O+"px",wn(s,$)):Tn(s,$),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var d=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),g=this._getAnchor();di(this._container,d.add(g))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)return void(this._autopanning=!1);var s=this._map,d=parseInt(Ii(this._container,"marginBottom"),10)||0,g=this._container.offsetHeight+d,C=this._containerWidth,O=new ut(this._containerLeft,-g-this._containerBottom);O._add(Je(this._container));var $=s.layerPointToContainerPoint(O),we=Re(this.options.autoPanPadding),Ke=Re(this.options.autoPanPaddingTopLeft||we),lt=Re(this.options.autoPanPaddingBottomRight||we),wt=s.getSize(),Ht=0,An=0;$.x+C+lt.x>wt.x&&(Ht=$.x+C-wt.x+lt.x),$.x-Ht-Ke.x<0&&(Ht=$.x-Ke.x),$.y+g+lt.y>wt.y&&(An=$.y+g-wt.y+lt.y),$.y-An-Ke.y<0&&(An=$.y-Ke.y),(Ht||An)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([Ht,An]))}},_getAnchor:function(){return Re(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Vt.mergeOptions({closePopupOnClick:!0}),Vt.include({openPopup:function(s,d,g){return this._initOverlay(es,s,d,g).openOn(this),this},closePopup:function(s){return(s=arguments.length?s:this._popup)&&s.close(),this}}),Ki.include({bindPopup:function(s,d){return this._popup=this._initOverlay(es,this._popup,s,d),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Ir||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(this._popup&&this._map){ai(s);var d=s.layer||s.target;if(this._popup._source===d&&!(d instanceof Mo))return void(this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng));this._popup._source=d,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){13===s.originalEvent.keyCode&&this._openPopup(s)}});var gs=er.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){er.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){er.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=er.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){this._contentNode=this._container=Yt("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide")),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+e(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var d,g,C=this._map,O=this._container,$=C.latLngToContainerPoint(C.getCenter()),we=C.layerPointToContainerPoint(s),Ke=this.options.direction,lt=O.offsetWidth,wt=O.offsetHeight,Ht=Re(this.options.offset),An=this._getAnchor();"top"===Ke?(d=lt/2,g=wt):"bottom"===Ke?(d=lt/2,g=0):"center"===Ke?(d=lt/2,g=wt/2):"right"===Ke?(d=0,g=wt/2):"left"===Ke?(d=lt,g=wt/2):we.x<$.x?(Ke="right",d=0,g=wt/2):(Ke="left",d=lt+2*(Ht.x+An.x),g=wt/2),s=s.subtract(Re(d,g,!0)).add(Ht).add(An),Tn(O,"leaflet-tooltip-right"),Tn(O,"leaflet-tooltip-left"),Tn(O,"leaflet-tooltip-top"),Tn(O,"leaflet-tooltip-bottom"),wn(O,"leaflet-tooltip-"+Ke),di(O,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Gi(this._container,s)},_animateZoom:function(s){var d=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(d)},_getAnchor:function(){return Re(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Vt.include({openTooltip:function(s,d,g){return this._initOverlay(gs,s,d,g).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),Ki.include({bindTooltip:function(s,d){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(gs,this._tooltip,s,d),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(s||!this._tooltipHandlersAdded){var d=s?"off":"on",g={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?g.add=this._openTooltip:(g.mouseover=this._openTooltip,g.mouseout=this.closeTooltip,g.click=this._openTooltip,this._map?this._addFocusListeners():g.add=this._addFocusListeners),this._tooltip.options.sticky&&(g.mousemove=this._moveTooltip),this[d](g),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Ir||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var d="function"==typeof s.getElement&&s.getElement();d&&(Xt(d,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),Xt(d,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var d="function"==typeof s.getElement&&s.getElement();d&&d.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(this._tooltip&&this._map){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var d=this;return void this._map.once("moveend",function(){d._openOnceFlag=!1,d._openTooltip(s)})}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var g,C,d=s.latlng;this._tooltip.options.sticky&&s.originalEvent&&(g=this._map.mouseEventToContainerPoint(s.originalEvent),C=this._map.containerPointToLayerPoint(g),d=this._map.layerPointToLatLng(C)),this._tooltip.setLatLng(d)}});var Ma=Ur.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var d=s&&"DIV"===s.tagName?s:document.createElement("div"),g=this.options;if(g.html instanceof Element?(Oi(d),d.appendChild(g.html)):d.innerHTML=!1!==g.html?g.html:"",g.bgPos){var C=Re(g.bgPos);d.style.backgroundPosition=-C.x+"px "+-C.y+"px"}return this._setIconStyles(d,"icon"),d},createShadow:function(){return null}});Ur.Default=Bs;var ms=Ki.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ue.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){ge(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),Cn(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Si(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(vi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=Q(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof ut?s:new ut(s,s)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var $,d=this.getPane().children,g=-s(-1/0,1/0),C=0,O=d.length;C<O;C++)$=d[C].style.zIndex,d[C]!==this._container&&$&&(g=s(g,+$));isFinite(g)&&(this.options.zIndex=g+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ue.ielt9){Gi(this._container,this.options.opacity);var s=+new Date,d=!1,g=!1;for(var C in this._tiles){var O=this._tiles[C];if(O.current&&O.loaded){var $=Math.min(1,(s-O.loaded)/200);Gi(O.el,$),$<1?d=!0:(O.active?g=!0:this._onOpaqueTile(O),O.active=!0)}}g&&!this._noPrune&&this._pruneTiles(),d&&(Pe(this._fadeFrame),this._fadeFrame=Oe(this._updateOpacity,this))}},_onOpaqueTile:oe,_initContainer:function(){this._container||(this._container=Yt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,d=this.options.maxZoom;if(void 0!==s){for(var g in this._levels)g=Number(g),this._levels[g].el.children.length||g===s?(this._levels[g].el.style.zIndex=d-Math.abs(s-g),this._onUpdateLevel(g)):(Cn(this._levels[g].el),this._removeTilesAtZoom(g),this._onRemoveLevel(g),delete this._levels[g]);var C=this._levels[s],O=this._map;return C||((C=this._levels[s]={}).el=Yt("div","leaflet-tile-container leaflet-zoom-animated",this._container),C.el.style.zIndex=d,C.origin=O.project(O.unproject(O.getPixelOrigin()),s).round(),C.zoom=s,this._setZoomTransform(C,O.getCenter(),O.getZoom()),this._onCreateLevel(C)),this._level=C,C}},_onUpdateLevel:oe,_onRemoveLevel:oe,_onCreateLevel:oe,_pruneTiles:function(){if(this._map){var s,d,g=this._map.getZoom();if(g>this.options.maxZoom||g<this.options.minZoom)return void this._removeAllTiles();for(s in this._tiles)(d=this._tiles[s]).retain=d.current;for(s in this._tiles)if((d=this._tiles[s]).current&&!d.active){var C=d.coords;this._retainParent(C.x,C.y,C.z,C.z-5)||this._retainChildren(C.x,C.y,C.z,C.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var d in this._tiles)this._tiles[d].coords.z===s&&this._removeTile(d)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)Cn(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,d,g,C){var O=Math.floor(s/2),$=Math.floor(d/2),we=g-1,Ke=new ut(+O,+$);Ke.z=+we;var lt=this._tileCoordsToKey(Ke),wt=this._tiles[lt];return wt&&wt.active?(wt.retain=!0,!0):(wt&&wt.loaded&&(wt.retain=!0),we>C&&this._retainParent(O,$,we,C))},_retainChildren:function(s,d,g,C){for(var O=2*s;O<2*s+2;O++)for(var $=2*d;$<2*d+2;$++){var we=new ut(O,$);we.z=g+1;var Ke=this._tileCoordsToKey(we),lt=this._tiles[Ke];lt&&lt.active?lt.retain=!0:(lt&&lt.loaded&&(lt.retain=!0),g+1<C&&this._retainChildren(O,$,g+1,C))}},_resetView:function(s){var d=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),d,d)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var d=this.options;return void 0!==d.minNativeZoom&&s<d.minNativeZoom?d.minNativeZoom:void 0!==d.maxNativeZoom&&d.maxNativeZoom<s?d.maxNativeZoom:s},_setView:function(s,d,g,C){var O=Math.round(d);O=void 0!==this.options.maxZoom&&O>this.options.maxZoom||void 0!==this.options.minZoom&&O<this.options.minZoom?void 0:this._clampZoom(O),(!C||this.options.updateWhenZooming&&O!==this._tileZoom)&&(this._tileZoom=O,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==O&&this._update(s),g||this._pruneTiles(),this._noPrune=!!g),this._setZoomTransforms(s,d)},_setZoomTransforms:function(s,d){for(var g in this._levels)this._setZoomTransform(this._levels[g],s,d)},_setZoomTransform:function(s,d,g){var C=this._map.getZoomScale(g,s.zoom),O=s.origin.multiplyBy(C).subtract(this._map._getNewPixelOrigin(d,g)).round();Ue.any3d?Ho(s.el,O,C):di(s.el,O)},_resetGrid:function(){var s=this._map,d=s.options.crs,g=this._tileSize=this.getTileSize(),C=this._tileZoom,O=this._map.getPixelWorldBounds(this._tileZoom);O&&(this._globalTileRange=this._pxBoundsToTileRange(O)),this._wrapX=d.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,d.wrapLng[0]],C).x/g.x),Math.ceil(s.project([0,d.wrapLng[1]],C).x/g.y)],this._wrapY=d.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([d.wrapLat[0],0],C).y/g.x),Math.ceil(s.project([d.wrapLat[1],0],C).y/g.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var d=this._map,g=d._animatingZoom?Math.max(d._animateToZoom,d.getZoom()):d.getZoom(),C=d.getZoomScale(g,this._tileZoom),O=d.project(s,this._tileZoom).floor(),$=d.getSize().divideBy(2*C);return new ct(O.subtract($),O.add($))},_update:function(s){var d=this._map;if(d){var g=this._clampZoom(d.getZoom());if(void 0===s&&(s=d.getCenter()),void 0!==this._tileZoom){var C=this._getTiledPixelBounds(s),O=this._pxBoundsToTileRange(C),$=O.getCenter(),we=[],Ke=this.options.keepBuffer,lt=new ct(O.getBottomLeft().subtract([Ke,-Ke]),O.getTopRight().add([Ke,-Ke]));if(!(isFinite(O.min.x)&&isFinite(O.min.y)&&isFinite(O.max.x)&&isFinite(O.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var wt in this._tiles){var Ht=this._tiles[wt].coords;(Ht.z!==this._tileZoom||!lt.contains(new ut(Ht.x,Ht.y)))&&(this._tiles[wt].current=!1)}if(Math.abs(g-this._tileZoom)>1)return void this._setView(s,g);for(var An=O.min.y;An<=O.max.y;An++)for(var Zn=O.min.x;Zn<=O.max.x;Zn++){var pi=new ut(Zn,An);if(pi.z=this._tileZoom,this._isValidTile(pi)){var ri=this._tiles[this._tileCoordsToKey(pi)];ri?ri.current=!0:we.push(pi)}}if(we.sort(function(nn,ts){return nn.distanceTo($)-ts.distanceTo($)}),0!==we.length){this._loading||(this._loading=!0,this.fire("loading"));var Ui=document.createDocumentFragment();for(Zn=0;Zn<we.length;Zn++)this._addTile(we[Zn],Ui);this._level.el.appendChild(Ui)}}}},_isValidTile:function(s){var d=this._map.options.crs;if(!d.infinite){var g=this._globalTileRange;if(!d.wrapLng&&(s.x<g.min.x||s.x>g.max.x)||!d.wrapLat&&(s.y<g.min.y||s.y>g.max.y))return!1}if(!this.options.bounds)return!0;var C=this._tileCoordsToBounds(s);return Me(this.options.bounds).overlaps(C)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var d=this._map,g=this.getTileSize(),C=s.scaleBy(g),O=C.add(g);return[d.unproject(C,s.z),d.unproject(O,s.z)]},_tileCoordsToBounds:function(s){var d=this._tileCoordsToNwSe(s),g=new he(d[0],d[1]);return this.options.noWrap||(g=this._map.wrapLatLngBounds(g)),g},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var d=s.split(":"),g=new ut(+d[0],+d[1]);return g.z=+d[2],g},_removeTile:function(s){var d=this._tiles[s];d&&(Cn(d.el),delete this._tiles[s],this.fire("tileunload",{tile:d.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){wn(s,"leaflet-tile");var d=this.getTileSize();s.style.width=d.x+"px",s.style.height=d.y+"px",s.onselectstart=oe,s.onmousemove=oe,Ue.ielt9&&this.options.opacity<1&&Gi(s,this.options.opacity)},_addTile:function(s,d){var g=this._getTilePos(s),C=this._tileCoordsToKey(s),O=this.createTile(this._wrapCoords(s),te(this._tileReady,this,s));this._initTile(O),this.createTile.length<2&&Oe(te(this._tileReady,this,s,null,O)),di(O,g),this._tiles[C]={el:O,coords:s,current:!0},d.appendChild(O),this.fire("tileloadstart",{tile:O,coords:s})},_tileReady:function(s,d,g){d&&this.fire("tileerror",{error:d,tile:g,coords:s});var C=this._tileCoordsToKey(s);(g=this._tiles[C])&&(g.loaded=+new Date,this._map._fadeAnimated?(Gi(g.el,0),Pe(this._fadeFrame),this._fadeFrame=Oe(this._updateOpacity,this)):(g.active=!0,this._pruneTiles()),d||(wn(g.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:g.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ue.ielt9||!this._map._fadeAnimated?Oe(this._pruneTiles,this):setTimeout(te(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var d=new ut(this._wrapX?Le(s.x,this._wrapX):s.x,this._wrapY?Le(s.y,this._wrapY):s.y);return d.z=s.z,d},_pxBoundsToTileRange:function(s){var d=this.getTileSize();return new ct(s.min.unscaleBy(d).floor(),s.max.unscaleBy(d).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});var H=ms.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,d){this._url=s,(d=ge(this,d)).detectRetina&&Ue.retina&&d.maxZoom>0?(d.tileSize=Math.floor(d.tileSize/2),d.zoomReverse?(d.zoomOffset--,d.minZoom=Math.min(d.maxZoom,d.minZoom+1)):(d.zoomOffset++,d.maxZoom=Math.max(d.minZoom,d.maxZoom-1)),d.minZoom=Math.max(0,d.minZoom)):d.zoomReverse?d.minZoom=Math.min(d.maxZoom,d.minZoom):d.maxZoom=Math.max(d.minZoom,d.maxZoom),"string"==typeof d.subdomains&&(d.subdomains=d.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,d){return this._url===s&&void 0===d&&(d=!0),this._url=s,d||this.redraw(),this},createTile:function(s,d){var g=document.createElement("img");return Xt(g,"load",te(this._tileOnLoad,this,d,g)),Xt(g,"error",te(this._tileOnError,this,d,g)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(g.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(g.referrerPolicy=this.options.referrerPolicy),g.alt="",g.src=this.getTileUrl(s),g},getTileUrl:function(s){var d={r:Ue.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var g=this._globalTileRange.max.y-s.y;this.options.tms&&(d.y=g),d["-y"]=g}return ze(this._url,J(d,this.options))},_tileOnLoad:function(s,d){Ue.ielt9?setTimeout(te(s,this,null,d),0):s(null,d)},_tileOnError:function(s,d,g){var C=this.options.errorTileUrl;C&&d.getAttribute("src")!==C&&(d.src=C),s(g,d)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom;return this.options.zoomReverse&&(s=this.options.maxZoom-s),s+this.options.zoomOffset},_getSubdomain:function(s){var d=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[d]},_abortLoading:function(){var s,d;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&((d=this._tiles[s].el).onload=oe,d.onerror=oe,!d.complete)){d.src=et;var g=this._tiles[s].coords;Cn(d),delete this._tiles[s],this.fire("tileabort",{tile:d,coords:g})}},_removeTile:function(s){var d=this._tiles[s];if(d)return d.el.setAttribute("src",et),ms.prototype._removeTile.call(this,s)},_tileReady:function(s,d,g){if(this._map&&(!g||g.getAttribute("src")!==et))return ms.prototype._tileReady.call(this,s,d,g)}});function I(s,d){return new H(s,d)}var F=H.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,d){this._url=s;var g=J({},this.defaultWmsParams);for(var C in d)C in this.options||(g[C]=d[C]);var O=(d=ge(this,d)).detectRetina&&Ue.retina?2:1,$=this.getTileSize();g.width=$.x*O,g.height=$.y*O,this.wmsParams=g},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,H.prototype.onAdd.call(this,s)},getTileUrl:function(s){var d=this._tileCoordsToNwSe(s),g=this._crs,C=ce(g.project(d[0]),g.project(d[1])),O=C.min,$=C.max,we=(this._wmsVersion>=1.3&&this._crs===hn?[O.y,O.x,$.y,$.x]:[O.x,O.y,$.x,$.y]).join(","),Ke=H.prototype.getTileUrl.call(this,s);return Ke+De(this.wmsParams,Ke,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+we},setParams:function(s,d){return J(this.wmsParams,s),d||this.redraw(),this}});H.WMS=F,I.wms=function le(s,d){return new F(s,d)};var Xe=Ki.extend({options:{padding:.1},initialize:function(s){ge(this,s),e(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),wn(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,d){var g=this._map.getZoomScale(d,this._zoom),C=this._map.getSize().multiplyBy(.5+this.options.padding),O=this._map.project(this._center,d),$=C.multiplyBy(-g).add(O).subtract(this._map._getNewPixelOrigin(s,d));Ue.any3d?Ho(this._container,$,g):di(this._container,$)},_reset:function(){for(var s in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,d=this._map.getSize(),g=this._map.containerPointToLayerPoint(d.multiplyBy(-s)).round();this._bounds=new ct(g,g.add(d.multiplyBy(1+2*s)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),vt=Xe.extend({options:{tolerance:0},getEvents:function(){var s=Xe.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Xe.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");Xt(s,"mousemove",this._onMouseMove,this),Xt(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Xt(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){Pe(this._redrawRequest),delete this._ctx,Cn(this._container),kn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var d in this._redrawBounds=null,this._layers)this._layers[d]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Xe.prototype._update.call(this);var s=this._bounds,d=this._container,g=s.getSize(),C=Ue.retina?2:1;di(d,s.min),d.width=C*g.x,d.height=C*g.y,d.style.width=g.x+"px",d.style.height=g.y+"px",Ue.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Xe.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[e(s)]=s;var d=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=d),this._drawLast=d,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var d=s._order,g=d.next,C=d.prev;g?g.prev=C:this._drawLast=C,C?C.next=g:this._drawFirst=g,delete s._order,delete this._layers[e(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if("string"==typeof s.options.dashArray){var C,O,d=s.options.dashArray.split(/[, ]+/),g=[];for(O=0;O<d.length;O++){if(C=Number(d[O]),isNaN(C))return;g.push(C)}s.options._dashArray=g}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||Oe(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var d=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ct,this._redrawBounds.extend(s._pxBounds.min.subtract([d,d])),this._redrawBounds.extend(s._pxBounds.max.add([d,d]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var d=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,d.x,d.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,d=this._redrawBounds;if(this._ctx.save(),d){var g=d.getSize();this._ctx.beginPath(),this._ctx.rect(d.min.x,d.min.y,g.x,g.y),this._ctx.clip()}this._drawing=!0;for(var C=this._drawFirst;C;C=C.next)s=C.layer,(!d||s._pxBounds&&s._pxBounds.intersects(d))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,d){if(this._drawing){var g,C,O,$,we=s._parts,Ke=we.length,lt=this._ctx;if(Ke){for(lt.beginPath(),g=0;g<Ke;g++){for(C=0,O=we[g].length;C<O;C++)lt[C?"lineTo":"moveTo"](($=we[g][C]).x,$.y);d&&lt.closePath()}this._fillStroke(lt,s)}}},_updateCircle:function(s){if(this._drawing&&!s._empty()){var d=s._point,g=this._ctx,C=Math.max(Math.round(s._radius),1),O=(Math.max(Math.round(s._radiusY),1)||C)/C;1!==O&&(g.save(),g.scale(1,O)),g.beginPath(),g.arc(d.x,d.y/O,C,0,2*Math.PI,!1),1!==O&&g.restore(),this._fillStroke(g,s)}},_fillStroke:function(s,d){var g=d.options;g.fill&&(s.globalAlpha=g.fillOpacity,s.fillStyle=g.fillColor||g.color,s.fill(g.fillRule||"evenodd")),g.stroke&&0!==g.weight&&(s.setLineDash&&s.setLineDash(d.options&&d.options._dashArray||[]),s.globalAlpha=g.opacity,s.lineWidth=g.weight,s.strokeStyle=g.color,s.lineCap=g.lineCap,s.lineJoin=g.lineJoin,s.stroke())},_onClick:function(s){for(var g,C,d=this._map.mouseEventToLayerPoint(s),O=this._drawFirst;O;O=O.next)(g=O.layer).options.interactive&&g._containsPoint(d)&&("click"!==s.type&&"preclick"!==s.type||!this._map._draggableMoved(g))&&(C=g);this._fireEvent(!!C&&[C],s)},_onMouseMove:function(s){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var d=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,d)}},_handleMouseOut:function(s){var d=this._hoveredLayer;d&&(Tn(this._container,"leaflet-interactive"),this._fireEvent([d],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,d){if(!this._mouseHoverThrottled){for(var g,C,O=this._drawFirst;O;O=O.next)(g=O.layer).options.interactive&&g._containsPoint(d)&&(C=g);C!==this._hoveredLayer&&(this._handleMouseOut(s),C&&(wn(this._container,"leaflet-interactive"),this._fireEvent([C],s,"mouseover"),this._hoveredLayer=C)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],s),this._mouseHoverThrottled=!0,setTimeout(te(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,d,g){this._map._fireDOMEvent(d,g||d.type,s)},_bringToFront:function(s){var d=s._order;if(d){var g=d.next,C=d.prev;if(!g)return;g.prev=C,C?C.next=g:g&&(this._drawFirst=g),d.prev=this._drawLast,this._drawLast.next=d,d.next=null,this._drawLast=d,this._requestRedraw(s)}},_bringToBack:function(s){var d=s._order;if(d){var g=d.next,C=d.prev;if(!C)return;C.next=g,g?g.prev=C:C&&(this._drawLast=C),d.prev=null,d.next=this._drawFirst,this._drawFirst.prev=d,this._drawFirst=d,this._requestRedraw(s)}}});function tn(s){return Ue.canvas?new vt(s):null}var fi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),bi={_initContainer:function(){this._container=Yt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Xe.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var d=s._container=fi("shape");wn(d,"leaflet-vml-shape "+(this.options.className||"")),d.coordsize="1 1",s._path=fi("path"),d.appendChild(s._path),this._updateStyle(s),this._layers[e(s)]=s},_addPath:function(s){var d=s._container;this._container.appendChild(d),s.options.interactive&&s.addInteractiveTarget(d)},_removePath:function(s){var d=s._container;Cn(d),s.removeInteractiveTarget(d),delete this._layers[e(s)]},_updateStyle:function(s){var d=s._stroke,g=s._fill,C=s.options,O=s._container;O.stroked=!!C.stroke,O.filled=!!C.fill,C.stroke?(d||(d=s._stroke=fi("stroke")),O.appendChild(d),d.weight=C.weight+"px",d.color=C.color,d.opacity=C.opacity,d.dashStyle=C.dashArray?ee(C.dashArray)?C.dashArray.join(" "):C.dashArray.replace(/( *, *)/g," "):"",d.endcap=C.lineCap.replace("butt","flat"),d.joinstyle=C.lineJoin):d&&(O.removeChild(d),s._stroke=null),C.fill?(g||(g=s._fill=fi("fill")),O.appendChild(g),g.color=C.fillColor||C.color,g.opacity=C.fillOpacity):g&&(O.removeChild(g),s._fill=null)},_updateCircle:function(s){var d=s._point.round(),g=Math.round(s._radius),C=Math.round(s._radiusY||g);this._setPath(s,s._empty()?"M0 0":"AL "+d.x+","+d.y+" "+g+","+C+" 0,23592600")},_setPath:function(s,d){s._path.v=d},_bringToFront:function(s){Si(s._container)},_bringToBack:function(s){vi(s._container)}},$n=Ue.vml?fi:xn,Mn=Xe.extend({_initContainer:function(){this._container=$n("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=$n("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Cn(this._container),kn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){Xe.prototype._update.call(this);var s=this._bounds,d=s.getSize(),g=this._container;(!this._svgSize||!this._svgSize.equals(d))&&(this._svgSize=d,g.setAttribute("width",d.x),g.setAttribute("height",d.y)),di(g,s.min),g.setAttribute("viewBox",[s.min.x,s.min.y,d.x,d.y].join(" ")),this.fire("update")}},_initPath:function(s){var d=s._path=$n("path");s.options.className&&wn(d,s.options.className),s.options.interactive&&wn(d,"leaflet-interactive"),this._updateStyle(s),this._layers[e(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){Cn(s._path),s.removeInteractiveTarget(s._path),delete this._layers[e(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var d=s._path,g=s.options;d&&(g.stroke?(d.setAttribute("stroke",g.color),d.setAttribute("stroke-opacity",g.opacity),d.setAttribute("stroke-width",g.weight),d.setAttribute("stroke-linecap",g.lineCap),d.setAttribute("stroke-linejoin",g.lineJoin),g.dashArray?d.setAttribute("stroke-dasharray",g.dashArray):d.removeAttribute("stroke-dasharray"),g.dashOffset?d.setAttribute("stroke-dashoffset",g.dashOffset):d.removeAttribute("stroke-dashoffset")):d.setAttribute("stroke","none"),g.fill?(d.setAttribute("fill",g.fillColor||g.color),d.setAttribute("fill-opacity",g.fillOpacity),d.setAttribute("fill-rule",g.fillRule||"evenodd")):d.setAttribute("fill","none"))},_updatePoly:function(s,d){this._setPath(s,vn(s._parts,d))},_updateCircle:function(s){var d=s._point,g=Math.max(Math.round(s._radius),1),O="a"+g+","+(Math.max(Math.round(s._radiusY),1)||g)+" 0 1,0 ",$=s._empty()?"M0 0":"M"+(d.x-g)+","+d.y+O+2*g+",0 "+O+2*-g+",0 ";this._setPath(s,$)},_setPath:function(s,d){s._path.setAttribute("d",d)},_bringToFront:function(s){Si(s._path)},_bringToBack:function(s){vi(s._path)}});function ji(s){return Ue.svg||Ue.vml?new Mn(s):null}Ue.vml&&Mn.include(bi),Vt.include({getRenderer:function(s){var d=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return d||(d=this._renderer=this._createRenderer()),this.hasLayer(d)||this.addLayer(d),d},_getPaneRenderer:function(s){if("overlayPane"===s||void 0===s)return!1;var d=this._paneRenderers[s];return void 0===d&&(d=this._createRenderer({pane:s}),this._paneRenderers[s]=d),d},_createRenderer:function(s){return this.options.preferCanvas&&tn(s)||ji(s)}});var wi=Kr.extend({initialize:function(s,d){Kr.prototype.initialize.call(this,this._boundsToLatLngs(s),d)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return[(s=Me(s)).getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});Mn.create=$n,Mn.pointsToPath=vn,cr.geometryToLayer=_r,cr.coordsToLatLng=Xr,cr.coordsToLatLngs=jr,cr.latLngToCoords=fs,cr.latLngsToCoords=ps,cr.getFeature=Or,cr.asFeature=Vr,Vt.mergeOptions({boxZoom:!0});var lr=ho.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){Xt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){kn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Cn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||1!==s.which&&1!==s.button)return!1;this._clearDeferredResetState(),this._resetState(),kt(),Wn(),this._startPoint=this._map.mouseEventToContainerPoint(s),Xt(document,{contextmenu:ai,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=Yt("div","leaflet-zoom-box",this._container),wn(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var d=new ct(this._point,this._startPoint),g=d.getSize();di(this._box,d.min),this._box.style.width=g.x+"px",this._box.style.height=g.y+"px"},_finish:function(){this._moved&&(Cn(this._box),Tn(this._container,"leaflet-crosshair")),Tt(),Jn(),kn(document,{contextmenu:ai,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if((1===s.which||1===s.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(te(this._resetState,this),0);var d=new he(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(d).fire("boxzoomend",{boxZoomBounds:d})}},_onKeyDown:function(s){27===s.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Vt.addInitHook("addHandler","boxZoom",lr),Vt.mergeOptions({doubleClickZoom:!0});var tr=ho.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var d=this._map,g=d.getZoom(),C=d.options.zoomDelta,O=s.originalEvent.shiftKey?g-C:g+C;"center"===d.options.doubleClickZoom?d.setZoom(O):d.setZoomAround(s.containerPoint,O)}});Vt.addInitHook("addHandler","doubleClickZoom",tr),Vt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var So=ho.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new No(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}wn(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Tn(this._map._container,"leaflet-grab"),Tn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var d=Me(this._map.options.maxBounds);this._offsetLimit=ce(this._map.latLngToContainerPoint(d.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(d.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var d=this._lastTime=+new Date,g=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(g),this._times.push(d),this._prunePositions(d)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),d=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=d.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,d){return s-(s-d)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var s=this._draggable._newPos.subtract(this._draggable._startPos),d=this._offsetLimit;s.x<d.min.x&&(s.x=this._viscousLimit(s.x,d.min.x)),s.y<d.min.y&&(s.y=this._viscousLimit(s.y,d.min.y)),s.x>d.max.x&&(s.x=this._viscousLimit(s.x,d.max.x)),s.y>d.max.y&&(s.y=this._viscousLimit(s.y,d.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,d=Math.round(s/2),g=this._initialWorldOffset,C=this._draggable._newPos.x,O=(C-d+g)%s+d-g,$=(C+d+g)%s-d-g,we=Math.abs(O+g)<Math.abs($+g)?O:$;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=we},_onDragEnd:function(s){var d=this._map,g=d.options,C=!g.inertia||s.noInertia||this._times.length<2;if(d.fire("dragend",s),C)d.fire("moveend");else{this._prunePositions(+new Date);var O=this._lastPos.subtract(this._positions[0]),we=g.easeLinearity,Ke=O.multiplyBy(we/((this._lastTime-this._times[0])/1e3)),lt=Ke.distanceTo([0,0]),wt=Math.min(g.inertiaMaxSpeed,lt),Ht=Ke.multiplyBy(wt/lt),An=wt/(g.inertiaDeceleration*we),Zn=Ht.multiplyBy(-An/2).round();Zn.x||Zn.y?(Zn=d._limitOffset(Zn,d.options.maxBounds),Oe(function(){d.panBy(Zn,{duration:An,easeLinearity:we,noMoveStart:!0,animate:!0})})):d.fire("moveend")}}});Vt.addInitHook("addHandler","dragging",So),Vt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Lo=ho.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),Xt(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),kn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,d=document.documentElement,g=s.scrollTop||d.scrollTop,C=s.scrollLeft||d.scrollLeft;this._map._container.focus(),window.scrollTo(C,g)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var C,O,d=this._panKeys={},g=this.keyCodes;for(C=0,O=g.left.length;C<O;C++)d[g.left[C]]=[-1*s,0];for(C=0,O=g.right.length;C<O;C++)d[g.right[C]]=[s,0];for(C=0,O=g.down.length;C<O;C++)d[g.down[C]]=[0,s];for(C=0,O=g.up.length;C<O;C++)d[g.up[C]]=[0,-1*s]},_setZoomDelta:function(s){var C,O,d=this._zoomKeys={},g=this.keyCodes;for(C=0,O=g.zoomIn.length;C<O;C++)d[g.zoomIn[C]]=s;for(C=0,O=g.zoomOut.length;C<O;C++)d[g.zoomOut[C]]=-s},_addHooks:function(){Xt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){kn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var C,d=s.keyCode,g=this._map;if(d in this._panKeys){if(!g._panAnim||!g._panAnim._inProgress)if(C=this._panKeys[d],s.shiftKey&&(C=Re(C).multiplyBy(3)),g.options.maxBounds&&(C=g._limitOffset(Re(C),g.options.maxBounds)),g.options.worldCopyJump){var O=g.wrapLatLng(g.unproject(g.project(g.getCenter()).add(C)));g.panTo(O)}else g.panBy(C)}else if(d in this._zoomKeys)g.setZoom(g.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[d]);else{if(27!==d||!g._popup||!g._popup.options.closeOnEscapeKey)return;g.closePopup()}ai(s)}}});Vt.addInitHook("addHandler","keyboard",Lo),Vt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Xi=ho.extend({addHooks:function(){Xt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){kn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var d=Mr(s),g=this._map.options.wheelDebounceTime;this._delta+=d,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var C=Math.max(g-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(te(this._performZoom,this),C),ai(s)},_performZoom:function(){var s=this._map,d=s.getZoom(),g=this._map.options.zoomSnap||0;s._stop();var O=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,$=g?Math.ceil(O/g)*g:O,we=s._limitZoom(d+(this._delta>0?$:-$))-d;this._delta=0,this._startTime=null,we&&("center"===s.options.scrollWheelZoom?s.setZoom(d+we):s.setZoomAround(this._lastMousePos,d+we))}});Vt.addInitHook("addHandler","scrollWheelZoom",Xi);Vt.mergeOptions({tapHold:Ue.touchNative&&Ue.safari&&Ue.mobile,tapTolerance:15});var zo=ho.extend({addHooks:function(){Xt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){kn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),1===s.touches.length){var d=s.touches[0];this._startPos=this._newPos=new ut(d.clientX,d.clientY),this._holdTimeout=setTimeout(te(function(){this._cancel(),this._isTapValid()&&(Xt(document,"touchend",on),Xt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",d))},this),600),Xt(document,"touchend touchcancel contextmenu",this._cancel,this),Xt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){kn(document,"touchend",on),kn(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),kn(document,"touchend touchcancel contextmenu",this._cancel,this),kn(document,"touchmove",this._onMove,this)},_onMove:function(s){var d=s.touches[0];this._newPos=new ut(d.clientX,d.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,d){var g=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:d.screenX,screenY:d.screenY,clientX:d.clientX,clientY:d.clientY});g._simulated=!0,d.target.dispatchEvent(g)}});Vt.addInitHook("addHandler","tapHold",zo),Vt.mergeOptions({touchZoom:Ue.touch,bounceAtZoomLimits:!0});var Ei=ho.extend({addHooks:function(){wn(this._map._container,"leaflet-touch-zoom"),Xt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Tn(this._map._container,"leaflet-touch-zoom"),kn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var d=this._map;if(s.touches&&2===s.touches.length&&!d._animatingZoom&&!this._zooming){var g=d.mouseEventToContainerPoint(s.touches[0]),C=d.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=d.getSize()._divideBy(2),this._startLatLng=d.containerPointToLatLng(this._centerPoint),"center"!==d.options.touchZoom&&(this._pinchStartLatLng=d.containerPointToLatLng(g.add(C)._divideBy(2))),this._startDist=g.distanceTo(C),this._startZoom=d.getZoom(),this._moved=!1,this._zooming=!0,d._stop(),Xt(document,"touchmove",this._onTouchMove,this),Xt(document,"touchend touchcancel",this._onTouchEnd,this),on(s)}},_onTouchMove:function(s){if(s.touches&&2===s.touches.length&&this._zooming){var d=this._map,g=d.mouseEventToContainerPoint(s.touches[0]),C=d.mouseEventToContainerPoint(s.touches[1]),O=g.distanceTo(C)/this._startDist;if(this._zoom=d.getScaleZoom(O,this._startZoom),!d.options.bounceAtZoomLimits&&(this._zoom<d.getMinZoom()&&O<1||this._zoom>d.getMaxZoom()&&O>1)&&(this._zoom=d._limitZoom(this._zoom)),"center"===d.options.touchZoom){if(this._center=this._startLatLng,1===O)return}else{var $=g._add(C)._divideBy(2)._subtract(this._centerPoint);if(1===O&&0===$.x&&0===$.y)return;this._center=d.unproject(d.project(this._pinchStartLatLng,this._zoom).subtract($),this._zoom)}this._moved||(d._moveStart(!0,!1),this._moved=!0),Pe(this._animRequest);var we=te(d._move,d,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Oe(we,this,!0),on(s)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,Pe(this._animRequest),kn(document,"touchmove",this._onTouchMove,this),kn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Vt.addInitHook("addHandler","touchZoom",Ei),Vt.BoxZoom=lr,Vt.DoubleClickZoom=tr,Vt.Drag=So,Vt.Keyboard=Lo,Vt.ScrollWheelZoom=Xi,Vt.TapHold=zo,Vt.TouchZoom=Ei,S.Bounds=ct,S.Browser=Ue,S.CRS=Ye,S.Canvas=vt,S.Circle=Yi,S.CircleMarker=Qr,S.Class=He,S.Control=uo,S.DivIcon=Ma,S.DivOverlay=er,S.DomEvent=Eo,S.DomUtil=Bi,S.Draggable=No,S.Evented=Bt,S.FeatureGroup=Ir,S.GeoJSON=cr,S.GridLayer=ms,S.Handler=ho,S.Icon=Ur,S.ImageOverlay=zr,S.LatLng=Ce,S.LatLngBounds=he,S.Layer=Ki,S.LayerGroup=qo,S.LineUtil=R,S.Map=Vt,S.Marker=hs,S.Mixin=Qn,S.Path=Mo,S.Point=ut,S.PolyUtil=Lr,S.Polygon=Kr,S.Polyline=Mi,S.Popup=es,S.PosAnimation=Ko,S.Projection=W,S.Rectangle=wi,S.Renderer=Xe,S.SVG=Mn,S.SVGOverlay=Qs,S.TileLayer=H,S.Tooltip=gs,S.Transformation=gt,S.Util=$e,S.VideoOverlay=Ea,S.bind=te,S.bounds=ce,S.canvas=tn,S.circle=function Es(s,d,g){return new Yi(s,d,g)},S.circleMarker=function ws(s,d){return new Qr(s,d)},S.control=To,S.divIcon=function Ms(s){return new Ma(s)},S.extend=J,S.featureGroup=function(s,d){return new Ir(s,d)},S.geoJSON=vr,S.geoJson=Us,S.gridLayer=function D(s){return new ms(s)},S.icon=function la(s){return new Ur(s)},S.imageOverlay=function(s,d,g){return new zr(s,d,g)},S.latLng=Ie,S.latLngBounds=Me,S.layerGroup=function(s,d){return new qo(s,d)},S.map=function Sr(s,d){return new Vt(s,d)},S.marker=function Zr(s,d){return new hs(s,d)},S.point=Re,S.polygon=function Js(s,d){return new Kr(s,d)},S.polyline=function Ts(s,d){return new Mi(s,d)},S.popup=function(s,d){return new es(s,d)},S.rectangle=function Vi(s,d){return new wi(s,d)},S.setOptions=ge,S.stamp=e,S.svg=ji,S.svgOverlay=function Pc(s,d,g){return new Qs(s,d,g)},S.tileLayer=I,S.tooltip=function(s,d){return new gs(s,d)},S.transformation=cn,S.version="1.9.4",S.videoOverlay=function Ta(s,d,g){return new Ea(s,d,g)};var $o=window.L;S.noConflict=function(){return window.L=$o,this},window.L=S}(ke)},7719:yt=>{yt.exports=function(J){!function S(p){if(!p)throw new Error("Eventify cannot use falsy object as events subject");for(var J=["on","fire","off"],V=0;V<J.length;++V)if(p.hasOwnProperty(J[V]))throw new Error("Subject cannot be eventified, since it already has property '"+J[V]+"'")}(J);var V=function ke(p){var J=Object.create(null);return{on:function(V,te,q){if("function"!=typeof te)throw new Error("callback is expected to be a function");var e=J[V];return e||(e=J[V]=[]),e.push({callback:te,ctx:q}),p},off:function(V,te){if(typeof V>"u")return J=Object.create(null),p;if(J[V])if("function"!=typeof te)delete J[V];else for(var Q=J[V],Le=0;Le<Q.length;++Le)Q[Le].callback===te&&Q.splice(Le,1);return p},fire:function(V){var q,te=J[V];if(!te)return p;arguments.length>1&&(q=Array.prototype.splice.call(arguments,1));for(var e=0;e<te.length;++e){var Q=te[e];Q.callback.apply(Q.ctx,q)}return p}}}(J);return J.on=V.on,J.off=V.off,J.fire=V.fire,J}},418:(yt,ke,S)=>{"use strict";var p=S(8265),J=S(5254),V=S(7719),te=S(3118),q=S(9958),e=q(),Q=q(!0),Le=S(3429),oe=S(6676),re=S(43);function Se(Ge,Oe){var Pe=(Oe=Oe||{}).controller;if(Pe||(oe.canAttach(Ge)?Pe=oe(Ge,Oe):re.canAttach(Ge)&&(Pe=re(Ge,Oe))),!Pe)throw new Error("Cannot create panzoom for the current type of dom element");var $e=Pe.getOwner(),He={x:0,y:0},ft=!1,Fe=new Le;Pe.initTransform&&Pe.initTransform(Fe);var Bt="function"==typeof Oe.filterKey?Oe.filterKey:Te,ut="number"==typeof Oe.pinchSpeed?Oe.pinchSpeed:1,pt=Oe.bounds,Re="number"==typeof Oe.maxZoom?Oe.maxZoom:Number.POSITIVE_INFINITY,ct="number"==typeof Oe.minZoom?Oe.minZoom:0,ce="number"==typeof Oe.boundsPadding?Oe.boundsPadding:.05,he="number"==typeof Oe.zoomDoubleClickSpeed?Oe.zoomDoubleClickSpeed:1.75,Me=Oe.beforeWheel||Te,Ce=Oe.beforeMouseDown||Te,Ie="number"==typeof Oe.zoomSpeed?Oe.zoomSpeed:1,Ye=ze(Oe.transformOrigin),rt=Oe.enableTextSelection?Q:e;(function et(Ge){var Oe=typeof Ge;if("undefined"!==Oe&&"boolean"!==Oe&&!(nt(Ge.left)&&nt(Ge.top)&&nt(Ge.bottom)&&nt(Ge.right)))throw new Error("Bounds object is not valid. It can be: undefined, boolean (true|false) or an object {left, top, right, bottom}")})(pt),Oe.autocenter&&function Ri(){var Je,kt,Tt=0,Gt=0,Nn=We();if(Nn)Tt=Nn.left,Gt=Nn.top,Je=Nn.right-Nn.left,kt=Nn.bottom-Nn.top;else{var Wn=$e.getBoundingClientRect();Je=Wn.width,kt=Wn.height}var Jn=Pe.getBBox();if(0!==Jn.width&&0!==Jn.height){var Io=Math.min(Je/Jn.width,kt/Jn.height);Fe.x=-(Jn.left+Jn.width/2)*Io+Je/2+Tt,Fe.y=-(Jn.top+Jn.height/2)*Io+kt/2+Gt,Fe.scale=Io}}();var ot,xn,_e,je,Qe,_t,Rt,pn,fn=0,gt=0,cn=0,zt=null,St=new Date,vn=!1,me=!1;pn="smoothScroll"in Oe&&!Oe.smoothScroll?function pe(){return{start:Te,stop:Te,cancel:Te}}():te(function zi(){return{x:Fe.x,y:Fe.y}},function Ln(Je,kt){Co(),io(Je,kt)},Oe.smoothScroll);var ln,Lt,Mt,Ot=!1;Ze();var Rn={dispose:function Bn(){ve()},moveBy:Wt,moveTo:io,smoothMoveTo:function At(Je,kt){Wt(Je-Fe.x,kt-Fe.y,!0)},centerOn:function Zt(Je){var kt=Je.ownerSVGElement;if(!kt)throw new Error("ui element is required to be within the scene");var Tt=Je.getBoundingClientRect(),Gt=Tt.left+Tt.width/2,Nn=Tt.top+Tt.height/2,Wn=kt.getBoundingClientRect();Wt(Wn.width/2-Gt,Wn.height/2-Nn,!0)},zoomTo:$i,zoomAbs:at,smoothZoom:oo,smoothZoomAbs:function wn(Je,kt,Tt){var Nn={scale:Fe.scale},Wn={scale:Tt};pn.cancel(),Co(),Lt=J(Nn,Wn,{step:function(Jn){at(Je,kt,Jn.scale)}})},showRectangle:function Fn(Je){var kt=$e.getBoundingClientRect(),Tt=gn(kt.width,kt.height),Gt=Je.right-Je.left,Nn=Je.bottom-Je.top;if(!Number.isFinite(Gt)||!Number.isFinite(Nn))throw new Error("Invalid rectangle");var Di=Math.min(Tt.x/Gt,Tt.y/Nn);Fe.x=-(Je.left+Gt/2)*Di+Tt.x/2,Fe.y=-(Je.top+Nn/2)*Di+Tt.y/2,Fe.scale=Di},pause:function Hn(){ve(),Ot=!0},resume:function ht(){Ot&&(Ze(),Ot=!1)},isPaused:function Dn(){return Ot},getTransform:function Ti(){return Fe},getMinZoom:function Zi(){return ct},setMinZoom:function Fi(Je){ct=Je},getMaxZoom:function jn(){return Re},setMaxZoom:function qn(Je){Re=Je},getTransformOrigin:function In(){return Ye},setTransformOrigin:function si(Je){Ye=ze(Je)},getZoomSpeed:function Li(){return Ie},setZoomSpeed:function Ji(Je){if(!Number.isFinite(Je))throw new Error("Zoom speed should be a number");Ie=Je}};V(Rn);var ui="number"==typeof Oe.initialX?Oe.initialX:Fe.x,sn="number"==typeof Oe.initialY?Oe.initialY:Fe.y,qt="number"==typeof Oe.initialZoom?Oe.initialZoom:Fe.scale;return(ui!=Fe.x||sn!=Fe.y||qt!=Fe.scale)&&at(ui,sn,qt),Rn;function gn(Je,kt){if(Pe.getScreenCTM){var Tt=Pe.getScreenCTM(),Nn=Tt.d,Jn=Tt.f;He.x=Je*Tt.a-Tt.e,He.y=kt*Nn-Jn}else He.x=Je,He.y=kt;return He}function io(Je,kt){Fe.x=Je,Fe.y=kt,dt(),di("pan"),se()}function Zo(Je,kt){io(Fe.x+Je,Fe.y+kt)}function dt(){var Je=We();if(Je){var kt=!1,Tt=function ue(){var Je=Pe.getBBox(),kt=function j(Je,kt){return{x:Je*Fe.scale+Fe.x,y:kt*Fe.scale+Fe.y}}(Je.left,Je.top);return{left:kt.x,top:kt.y,right:Je.width*Fe.scale+kt.x,bottom:Je.height*Fe.scale+kt.y}}(),Gt=Je.left-Tt.right;return Gt>0&&(Fe.x+=Gt,kt=!0),(Gt=Je.right-Tt.left)<0&&(Fe.x+=Gt,kt=!0),(Gt=Je.top-Tt.bottom)>0&&(Fe.y+=Gt,kt=!0),(Gt=Je.bottom-Tt.top)<0&&(Fe.y+=Gt,kt=!0),kt}}function We(){if(pt){if("boolean"==typeof pt){var Je=$e.getBoundingClientRect(),kt=Je.width,Tt=Je.height;return{left:kt*ce,top:Tt*ce,right:kt*(1-ce),bottom:Tt*(1-ce)}}return pt}}function se(){ft=!0,ot=window.requestAnimationFrame(Ae)}function Ue(Je,kt,Tt){if(be(Je)||be(kt)||be(Tt))throw new Error("zoom requires valid numbers");var Gt=Fe.scale*Tt;if(Gt<ct){if(Fe.scale===ct)return;Tt=ct/Fe.scale}if(Gt>Re){if(Fe.scale===Re)return;Tt=Re/Fe.scale}var Nn=gn(Je,kt);Fe.x=Nn.x-Tt*(Nn.x-Fe.x),Fe.y=Nn.y-Tt*(Nn.y-Fe.y),pt&&1===ce&&1===ct?(Fe.scale*=Tt,dt()):dt()||(Fe.scale*=Tt),di("zoom"),se()}function at(Je,kt,Tt){Ue(Je,kt,Tt/Fe.scale)}function Wt(Je,kt,Tt){if(!Tt)return Zo(Je,kt);ln&&ln.cancel();var Wn=0,Jn=0;ln=J({x:0,y:0},{x:Je,y:kt},{step:function(Di){Zo(Di.x-Wn,Di.y-Jn),Wn=Di.x,Jn=Di.y}})}function Ze(){$e.addEventListener("mousedown",ei,{passive:!1}),$e.addEventListener("dblclick",Pn,{passive:!1}),$e.addEventListener("touchstart",Nt,{passive:!1}),$e.addEventListener("keydown",Ct,{passive:!1}),p.addWheelListener($e,Si,{passive:!1}),se()}function ve(){p.removeWheelListener($e,Si),$e.removeEventListener("mousedown",ei),$e.removeEventListener("keydown",Ct),$e.removeEventListener("dblclick",Pn),$e.removeEventListener("touchstart",Nt),ot&&(window.cancelAnimationFrame(ot),ot=0),pn.cancel(),Cn(),Oi(),rt.release(),Jo()}function Ae(){ft&&function it(){ft=!1,Pe.applyTransform(Fe),di("transform"),ot=0}()}function Ct(Je){var kt=0,Tt=0,Gt=0;if(38===Je.keyCode?Tt=1:40===Je.keyCode?Tt=-1:37===Je.keyCode?kt=1:39===Je.keyCode?kt=-1:189===Je.keyCode||109===Je.keyCode?Gt=1:(187===Je.keyCode||107===Je.keyCode)&&(Gt=-1),!Bt(Je,kt,Tt,Gt)){if(kt||Tt){Je.preventDefault(),Je.stopPropagation();var Nn=$e.getBoundingClientRect();Wt(.05*(Wn=Math.min(Nn.width,Nn.height))*kt,.05*Wn*Tt)}if(Gt){var Io=Gi(100*Gt),Wn=Ye?Tn():function xt(){var Je=$e.getBoundingClientRect();return{x:Je.width/2,y:Je.height/2}}();$i(Wn.x,Wn.y,Io)}}}function Nt(Je){if(function Kt(Je){Oe.onTouch&&!Oe.onTouch(Je)||(Je.stopPropagation(),Je.preventDefault())}(Je),Jt(),1===Je.touches.length)return function yi(Je){gt=new Date;var Tt=vi(Je.touches[0]);xn=Tt;var Gt=gn(Tt.x,Tt.y);Qe=_e=Gt.x,_t=je=Gt.y,pn.cancel(),mn()}(Je);2===Je.touches.length&&(Rt=un(Je.touches[0],Je.touches[1]),Mt=!0,mn())}function mn(){vn||(vn=!0,document.addEventListener("touchmove",Vn),document.addEventListener("touchend",oi),document.addEventListener("touchcancel",oi))}function Vn(Je){if(1===Je.touches.length){Je.stopPropagation();var Gt=gn((Tt=vi(Je.touches[0])).x,Tt.y),Nn=Gt.x-_e,Wn=Gt.y-je;0!==Nn&&0!==Wn&&Cs(),_e=Gt.x,je=Gt.y,Wt(Nn,Wn)}else if(2===Je.touches.length){Mt=!0;var Jn=Je.touches[0],Di=Je.touches[1],jo=un(Jn,Di),Io=1+(jo/Rt-1)*ut,wo=vi(Jn),hr=vi(Di);if(_e=(wo.x+hr.x)/2,je=(wo.y+hr.y)/2,Ye){var Tt=Tn();_e=Tt.x,je=Tt.y}$i(_e,je,Io),Rt=jo,Je.stopPropagation(),Je.preventDefault()}}function Jt(){cn&&(clearTimeout(cn),cn=0)}function Un(Je){if(Oe.onClick){Jt();var kt=_e-Qe,Tt=je-_t;Math.sqrt(kt*kt+Tt*Tt)>5||(cn=setTimeout(function(){cn=0,Oe.onClick(Je)},300))}}function oi(Je){if(Jt(),Je.touches.length>0){var Tt=gn((kt=vi(Je.touches[0])).x,kt.y);_e=Tt.x,je=Tt.y}else{var Gt=new Date;if(Gt-fn<300)if(Ye){var kt;oo((kt=Tn()).x,kt.y,he)}else oo(xn.x,xn.y,he);else Gt-gt<200&&Un(Je);fn=Gt,Jo(),Oi()}}function un(Je,kt){var Tt=Je.clientX-kt.clientX,Gt=Je.clientY-kt.clientY;return Math.sqrt(Tt*Tt+Gt*Gt)}function Pn(Je){!function an(Je){Jt(),(!Oe.onDoubleClick||Oe.onDoubleClick(Je))&&(Je.preventDefault(),Je.stopPropagation())}(Je);var kt=vi(Je);Ye&&(kt=Tn()),oo(kt.x,kt.y,he)}function ei(Je){if(Jt(),!Ce(Je)){if(zt=Je,St=new Date,vn)return Je.stopPropagation(),!1;if(1===Je.button&&null!==window.event||0===Je.button){pn.cancel();var Tt=vi(Je),Gt=gn(Tt.x,Tt.y);return Qe=_e=Gt.x,_t=je=Gt.y,document.addEventListener("mousemove",Ii),document.addEventListener("mouseup",Yt),rt.capture(Je.target||Je.srcElement),!1}}}function Ii(Je){if(!vn){Cs();var kt=vi(Je),Tt=gn(kt.x,kt.y),Gt=Tt.x-_e,Nn=Tt.y-je;_e=Tt.x,je=Tt.y,Wt(Gt,Nn)}}function Yt(){new Date-St<200&&Un(zt),rt.release(),Jo(),Cn()}function Cn(){document.removeEventListener("mousemove",Ii),document.removeEventListener("mouseup",Yt),me=!1}function Oi(){document.removeEventListener("touchmove",Vn),document.removeEventListener("touchend",oi),document.removeEventListener("touchcancel",oi),me=!1,Mt=!1,vn=!1}function Si(Je){if(!Me(Je)){pn.cancel();var kt=Je.deltaY;Je.deltaMode>0&&(kt*=100);var Tt=Gi(kt);if(1!==Tt){var Gt=Ye?Tn():vi(Je);$i(Gt.x,Gt.y,Tt),Je.preventDefault()}}}function vi(Je){var Gt=$e.getBoundingClientRect();return{x:Je.clientX-Gt.left,y:Je.clientY-Gt.top}}function oo(Je,kt,Tt){var Gt=Fe.scale,Nn={scale:Gt},Wn={scale:Tt*Gt};pn.cancel(),Co(),Lt=J(Nn,Wn,{step:function(Jn){at(Je,kt,Jn.scale)},done:Ho})}function Tn(){var Je=$e.getBoundingClientRect();return{x:Je.width*Ye.x,y:Je.height*Ye.y}}function $i(Je,kt,Tt){return pn.cancel(),Co(),Ue(Je,kt,Tt)}function Co(){Lt&&(Lt.cancel(),Lt=null)}function Gi(Je){return 1-Math.sign(Je)*Math.min(.25,Math.abs(Ie*Je/128))}function Cs(){me||(di("panstart"),me=!0,pn.start())}function Jo(){me&&(Mt||pn.stop(),di("panend"))}function Ho(){di("zoomend")}function di(Je){Rn.fire(Je,Rn)}}function ze(Ge){if(Ge){if("object"==typeof Ge)return(!nt(Ge.x)||!nt(Ge.y))&&ee(Ge),Ge;ee()}}function ee(Ge){throw console.error(Ge),new Error(["Cannot parse transform origin.","Some good examples:",'  "center center" can be achieved with {x: 0.5, y: 0.5}','  "top center" can be achieved with {x: 0.5, y: 0}','  "bottom right" can be achieved with {x: 1, y: 1}'].join("\n"))}function Te(){}function nt(Ge){return Number.isFinite(Ge)}function be(Ge){return Number.isNaN?Number.isNaN(Ge):Ge!=Ge}yt.exports=Se,function de(){if(!(typeof document>"u")){var Ge=document.getElementsByTagName("script");if(Ge){for(var Oe,Pe=0;Pe<Ge.length;++Pe){var $e=Ge[Pe];if($e.src&&$e.src.match(/\bpanzoom(\.min)?\.js/)){Oe=$e;break}}if(Oe){var He=Oe.getAttribute("query");if(He){var ft=Oe.getAttribute("name")||"pz",Fe=Date.now();!function Bt(){var Re=document.querySelector(He);if(!Re)return Date.now()-Fe<2e3?void setTimeout(Bt,100):void console.error("Cannot find the panzoom element",ft);var he=function ut(Re){for(var ct=Re.attributes,ce={},he=0;he<ct.length;++he){var Ce=pt(ct[he]);Ce&&(ce[Ce.name]=Ce.value)}return ce}(Oe);console.log(he),window[ft]=Se(Re,he)}()}}}}function pt(Re){if(Re.name&&"p"===Re.name[0]&&"z"===Re.name[1]&&"-"===Re.name[2])return{name:Re.name.substr(3),value:JSON.parse(Re.value)}}}()},9958:yt=>{function S(J){return J.stopPropagation(),!1}function p(){}yt.exports=function ke(J){if(J)return{capture:p,release:p};var V,te,q,e=!1;return{capture:function Q(oe){e=!0,te=window.document.onselectstart,q=window.document.ondragstart,window.document.onselectstart=S,(V=oe).ondragstart=S},release:function Le(){e&&(e=!1,window.document.onselectstart=te,V&&(V.ondragstart=q))}}}},43:yt=>{function S(p){return p&&p.parentElement&&p.style}yt.exports=function ke(p,J){if(!S(p))throw new Error("panzoom requires DOM element to be attached to the DOM tree");var te=p.parentElement;return p.scrollTop=0,J.disableKeyboardInteraction||te.setAttribute("tabindex",0),{getBBox:function Q(){return{left:0,top:0,width:p.clientWidth,height:p.clientHeight}},getOwner:function e(){return te},applyTransform:function Le(oe){p.style.transformOrigin="0 0 0",p.style.transform="matrix("+oe.scale+", 0, 0, "+oe.scale+", "+oe.x+", "+oe.y+")"}}},yt.exports.canAttach=S},3118:yt=>{yt.exports=function ke(J,V,te){"object"!=typeof te&&(te={});var oe,re,ne,ge,De,Se,ze,ee,Te,et,q="number"==typeof te.minVelocity?te.minVelocity:5,e="number"==typeof te.amplitude?te.amplitude:.25,Q="function"==typeof te.cancelAnimationFrame?te.cancelAnimationFrame:function S(){return"function"==typeof cancelAnimationFrame?cancelAnimationFrame:clearTimeout}(),Le="function"==typeof te.requestAnimationFrame?te.requestAnimationFrame:function p(){return"function"==typeof requestAnimationFrame?requestAnimationFrame:function(J){return setTimeout(J,16)}}();return{start:function be(){oe=J(),Se=Te=ge=ze=0,re=new Date,Q(ne),Q(et),ne=Le(pe)},stop:function de(){Q(ne),Q(et);var Oe=J();De=Oe.x,ee=Oe.y,re=Date.now(),(ge<-q||ge>q)&&(De+=Se=e*ge),(ze<-q||ze>q)&&(ee+=Te=e*ze),et=Le(Ge)},cancel:function nt(){Q(ne),Q(et)}};function pe(){var Oe=Date.now(),Pe=Oe-re;re=Oe;var $e=J(),He=$e.x-oe.x,ft=$e.y-oe.y;oe=$e;var Fe=1e3/(1+Pe);ge=.8*He*Fe+.2*ge,ze=.8*ft*Fe+.2*ze,ne=Le(pe)}function Ge(){var Oe=Date.now()-re,Pe=!1,$e=0,He=0;Se&&(($e=-Se*Math.exp(-Oe/342))>.5||$e<-.5?Pe=!0:$e=Se=0),Te&&((He=-Te*Math.exp(-Oe/342))>.5||He<-.5?Pe=!0:He=Te=0),Pe&&(V(De+$e,ee+He),et=Le(Ge))}}},6676:yt=>{function S(p){return p&&p.ownerSVGElement&&p.getCTM}yt.exports=function ke(p,J){if(!S(p))throw new Error("svg element is required for svg.panzoom to work");var V=p.ownerSVGElement;if(!V)throw new Error("Do not apply panzoom to the root <svg> element. Use its child instead (e.g. <g></g>). As of March 2016 only FireFox supported transform on the root element");return J.disableKeyboardInteraction||V.setAttribute("tabindex",0),{getBBox:function e(){var re=p.getBBox();return{left:re.x,top:re.y,width:re.width,height:re.height}},getScreenCTM:function Q(){return V.getCTM()||V.getScreenCTM()},getOwner:function q(){return V},applyTransform:function oe(re){p.setAttribute("transform","matrix("+re.scale+" 0 0 "+re.scale+" "+re.x+" "+re.y+")")},initTransform:function Le(re){var fe=p.getCTM();null===fe&&(fe=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix()),re.x=fe.e,re.y=fe.f,re.scale=fe.a,V.removeAttributeNS(null,"viewBox")}}},yt.exports.canAttach=S},3429:yt=>{yt.exports=function ke(){this.x=0,this.y=0,this.scale=1}},8071:(yt,ke,S)=>{"use strict";S.d(ke,{X:()=>J});var p=S(9877);class J extends p.x{constructor(te){super(),this._value=te}get value(){return this.getValue()}_subscribe(te){const q=super._subscribe(te);return!q.closed&&te.next(this._value),q}getValue(){const{hasError:te,thrownError:q,_value:e}=this;if(te)throw q;return this._throwIfClosed(),e}next(te){super.next(this._value=te)}}},2235:(yt,ke,S)=>{"use strict";S.d(ke,{y:()=>Le});var p=S(6343),J=S(6482),V=S(4373),te=S(2476),q=S(5445),e=S(2602),Q=S(575);let Le=(()=>{class ne{constructor(De){De&&(this._subscribe=De)}lift(De){const Se=new ne;return Se.source=this,Se.operator=De,Se}subscribe(De,Se,ze){const ee=function fe(ne){return ne&&ne instanceof p.Lv||function re(ne){return ne&&(0,e.m)(ne.next)&&(0,e.m)(ne.error)&&(0,e.m)(ne.complete)}(ne)&&(0,J.Nn)(ne)}(De)?De:new p.Hp(De,Se,ze);return(0,Q.x)(()=>{const{operator:Te,source:et}=this;ee.add(Te?Te.call(ee,et):et?this._subscribe(ee):this._trySubscribe(ee))}),ee}_trySubscribe(De){try{return this._subscribe(De)}catch(Se){De.error(Se)}}forEach(De,Se){return new(Se=oe(Se))((ze,ee)=>{const Te=new p.Hp({next:et=>{try{De(et)}catch(nt){ee(nt),Te.unsubscribe()}},error:ee,complete:ze});this.subscribe(Te)})}_subscribe(De){var Se;return null===(Se=this.source)||void 0===Se?void 0:Se.subscribe(De)}[V.L](){return this}pipe(...De){return(0,te.U)(De)(this)}toPromise(De){return new(De=oe(De))((Se,ze)=>{let ee;this.subscribe(Te=>ee=Te,Te=>ze(Te),()=>Se(ee))})}}return ne.create=ge=>new ne(ge),ne})();function oe(ne){var ge;return null!==(ge=ne??q.config.Promise)&&void 0!==ge?ge:Promise}},5400:(yt,ke,S)=>{"use strict";S.d(ke,{t:()=>V});var p=S(9877),J=S(6926);class V extends p.x{constructor(q=1/0,e=1/0,Q=J.l){super(),this._bufferSize=q,this._windowTime=e,this._timestampProvider=Q,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,q),this._windowTime=Math.max(1,e)}next(q){const{isStopped:e,_buffer:Q,_infiniteTimeWindow:Le,_timestampProvider:oe,_windowTime:re}=this;e||(Q.push(q),!Le&&Q.push(oe.now()+re)),this._trimBuffer(),super.next(q)}_subscribe(q){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(q),{_infiniteTimeWindow:Q,_buffer:Le}=this,oe=Le.slice();for(let re=0;re<oe.length&&!q.closed;re+=Q?1:2)q.next(oe[re]);return this._checkFinalizedStatuses(q),e}_trimBuffer(){const{_bufferSize:q,_timestampProvider:e,_buffer:Q,_infiniteTimeWindow:Le}=this,oe=(Le?1:2)*q;if(q<1/0&&oe<Q.length&&Q.splice(0,Q.length-oe),!Le){const re=e.now();let fe=0;for(let ne=1;ne<Q.length&&Q[ne]<=re;ne+=2)fe=ne;fe&&Q.splice(0,fe+1)}}}},9877:(yt,ke,S)=>{"use strict";S.d(ke,{x:()=>Q});var p=S(2235),J=S(6482);const te=(0,S(1566).d)(oe=>function(){oe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var q=S(5559),e=S(575);let Q=(()=>{class oe extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(fe){const ne=new Le(this,this);return ne.operator=fe,ne}_throwIfClosed(){if(this.closed)throw new te}next(fe){(0,e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ne of this.currentObservers)ne.next(fe)}})}error(fe){(0,e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=fe;const{observers:ne}=this;for(;ne.length;)ne.shift().error(fe)}})}complete(){(0,e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:fe}=this;for(;fe.length;)fe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var fe;return(null===(fe=this.observers)||void 0===fe?void 0:fe.length)>0}_trySubscribe(fe){return this._throwIfClosed(),super._trySubscribe(fe)}_subscribe(fe){return this._throwIfClosed(),this._checkFinalizedStatuses(fe),this._innerSubscribe(fe)}_innerSubscribe(fe){const{hasError:ne,isStopped:ge,observers:De}=this;return ne||ge?J.Lc:(this.currentObservers=null,De.push(fe),new J.w0(()=>{this.currentObservers=null,(0,q.P)(De,fe)}))}_checkFinalizedStatuses(fe){const{hasError:ne,thrownError:ge,isStopped:De}=this;ne?fe.error(ge):De&&fe.complete()}asObservable(){const fe=new p.y;return fe.source=this,fe}}return oe.create=(re,fe)=>new Le(re,fe),oe})();class Le extends Q{constructor(re,fe){super(),this.destination=re,this.source=fe}next(re){var fe,ne;null===(ne=null===(fe=this.destination)||void 0===fe?void 0:fe.next)||void 0===ne||ne.call(fe,re)}error(re){var fe,ne;null===(ne=null===(fe=this.destination)||void 0===fe?void 0:fe.error)||void 0===ne||ne.call(fe,re)}complete(){var re,fe;null===(fe=null===(re=this.destination)||void 0===re?void 0:re.complete)||void 0===fe||fe.call(re)}_subscribe(re){var fe,ne;return null!==(ne=null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(re))&&void 0!==ne?ne:J.Lc}}},6343:(yt,ke,S)=>{"use strict";S.d(ke,{Hp:()=>ze,Lv:()=>ne});var p=S(2602),J=S(6482),V=S(5445),te=S(6929),q=S(2707);const e=oe("C",void 0,void 0);function oe(be,pe,de){return{kind:be,value:pe,error:de}}var re=S(8411),fe=S(575);class ne extends J.w0{constructor(pe){super(),this.isStopped=!1,pe?(this.destination=pe,(0,J.Nn)(pe)&&pe.add(this)):this.destination=nt}static create(pe,de,Ge){return new ze(pe,de,Ge)}next(pe){this.isStopped?et(function Le(be){return oe("N",be,void 0)}(pe),this):this._next(pe)}error(pe){this.isStopped?et(function Q(be){return oe("E",void 0,be)}(pe),this):(this.isStopped=!0,this._error(pe))}complete(){this.isStopped?et(e,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(pe){this.destination.next(pe)}_error(pe){try{this.destination.error(pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ge=Function.prototype.bind;function De(be,pe){return ge.call(be,pe)}class Se{constructor(pe){this.partialObserver=pe}next(pe){const{partialObserver:de}=this;if(de.next)try{de.next(pe)}catch(Ge){ee(Ge)}}error(pe){const{partialObserver:de}=this;if(de.error)try{de.error(pe)}catch(Ge){ee(Ge)}else ee(pe)}complete(){const{partialObserver:pe}=this;if(pe.complete)try{pe.complete()}catch(de){ee(de)}}}class ze extends ne{constructor(pe,de,Ge){let Oe;if(super(),(0,p.m)(pe)||!pe)Oe={next:pe??void 0,error:de??void 0,complete:Ge??void 0};else{let Pe;this&&V.config.useDeprecatedNextContext?(Pe=Object.create(pe),Pe.unsubscribe=()=>this.unsubscribe(),Oe={next:pe.next&&De(pe.next,Pe),error:pe.error&&De(pe.error,Pe),complete:pe.complete&&De(pe.complete,Pe)}):Oe=pe}this.destination=new Se(Oe)}}function ee(be){V.config.useDeprecatedSynchronousErrorHandling?(0,fe.O)(be):(0,te.h)(be)}function et(be,pe){const{onStoppedNotification:de}=V.config;de&&re.z.setTimeout(()=>de(be,pe))}const nt={closed:!0,next:q.Z,error:function Te(be){throw be},complete:q.Z}},6482:(yt,ke,S)=>{"use strict";S.d(ke,{Lc:()=>e,w0:()=>q,Nn:()=>Q});var p=S(2602);const V=(0,S(1566).d)(oe=>function(fe){oe(this),this.message=fe?`${fe.length} errors occurred during unsubscription:\n${fe.map((ne,ge)=>`${ge+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=fe});var te=S(5559);class q{constructor(re){this.initialTeardown=re,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let re;if(!this.closed){this.closed=!0;const{_parentage:fe}=this;if(fe)if(this._parentage=null,Array.isArray(fe))for(const De of fe)De.remove(this);else fe.remove(this);const{initialTeardown:ne}=this;if((0,p.m)(ne))try{ne()}catch(De){re=De instanceof V?De.errors:[De]}const{_finalizers:ge}=this;if(ge){this._finalizers=null;for(const De of ge)try{Le(De)}catch(Se){re=re??[],Se instanceof V?re=[...re,...Se.errors]:re.push(Se)}}if(re)throw new V(re)}}add(re){var fe;if(re&&re!==this)if(this.closed)Le(re);else{if(re instanceof q){if(re.closed||re._hasParent(this))return;re._addParent(this)}(this._finalizers=null!==(fe=this._finalizers)&&void 0!==fe?fe:[]).push(re)}}_hasParent(re){const{_parentage:fe}=this;return fe===re||Array.isArray(fe)&&fe.includes(re)}_addParent(re){const{_parentage:fe}=this;this._parentage=Array.isArray(fe)?(fe.push(re),fe):fe?[fe,re]:re}_removeParent(re){const{_parentage:fe}=this;fe===re?this._parentage=null:Array.isArray(fe)&&(0,te.P)(fe,re)}remove(re){const{_finalizers:fe}=this;fe&&(0,te.P)(fe,re),re instanceof q&&re._removeParent(this)}}q.EMPTY=(()=>{const oe=new q;return oe.closed=!0,oe})();const e=q.EMPTY;function Q(oe){return oe instanceof q||oe&&"closed"in oe&&(0,p.m)(oe.remove)&&(0,p.m)(oe.add)&&(0,p.m)(oe.unsubscribe)}function Le(oe){(0,p.m)(oe)?oe():oe.unsubscribe()}},5445:(yt,ke,S)=>{"use strict";S.d(ke,{config:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3839:(yt,ke,S)=>{"use strict";S.d(ke,{a:()=>re});var p=S(2235),J=S(7346),V=S(4683),te=S(204),q=S(7825),e=S(6190),Q=S(6118),Le=S(5678),oe=S(9701);function re(...ge){const De=(0,e.yG)(ge),Se=(0,e.jO)(ge),{args:ze,keys:ee}=(0,J.D)(ge);if(0===ze.length)return(0,V.D)([],De);const Te=new p.y(function fe(ge,De,Se=te.y){return ze=>{ne(De,()=>{const{length:ee}=ge,Te=new Array(ee);let et=ee,nt=ee;for(let be=0;be<ee;be++)ne(De,()=>{const pe=(0,V.D)(ge[be],De);let de=!1;pe.subscribe((0,Le.x)(ze,Ge=>{Te[be]=Ge,de||(de=!0,nt--),nt||ze.next(Se(Te.slice()))},()=>{--et||ze.complete()}))},ze)},ze)}}(ze,De,ee?et=>(0,Q.n)(ee,et):te.y));return Se?Te.pipe((0,q.Z)(Se)):Te}function ne(ge,De,Se){ge?(0,oe.f)(Se,ge,De):De()}},5823:(yt,ke,S)=>{"use strict";S.d(ke,{z:()=>q});var p=S(7047),V=S(6190),te=S(4683);function q(...e){return function J(){return(0,p.J)(1)}()((0,te.D)(e,(0,V.yG)(e)))}},6290:(yt,ke,S)=>{"use strict";S.d(ke,{E:()=>J});const J=new(S(2235).y)(q=>q.complete())},4300:(yt,ke,S)=>{"use strict";S.d(ke,{D:()=>Le});var p=S(2235),J=S(7346),V=S(384),te=S(6190),q=S(5678),e=S(7825),Q=S(6118);function Le(...oe){const re=(0,te.jO)(oe),{args:fe,keys:ne}=(0,J.D)(oe),ge=new p.y(De=>{const{length:Se}=fe;if(!Se)return void De.complete();const ze=new Array(Se);let ee=Se,Te=Se;for(let et=0;et<Se;et++){let nt=!1;(0,V.Xf)(fe[et]).subscribe((0,q.x)(De,be=>{nt||(nt=!0,Te--),ze[et]=be},()=>ee--,void 0,()=>{(!ee||!nt)&&(Te||De.next(ne?(0,Q.n)(ne,ze):ze),De.complete())}))}});return re?ge.pipe((0,e.Z)(re)):ge}},4683:(yt,ke,S)=>{"use strict";S.d(ke,{D:()=>Ge});var p=S(384),J=S(9701),V=S(4114),te=S(5678);function q(Oe,Pe=0){return(0,V.e)(($e,He)=>{$e.subscribe((0,te.x)(He,ft=>(0,J.f)(He,Oe,()=>He.next(ft),Pe),()=>(0,J.f)(He,Oe,()=>He.complete(),Pe),ft=>(0,J.f)(He,Oe,()=>He.error(ft),Pe)))})}function e(Oe,Pe=0){return(0,V.e)(($e,He)=>{He.add(Oe.schedule(()=>$e.subscribe(He),Pe))})}var oe=S(2235),fe=S(6691),ne=S(2602);function De(Oe,Pe){if(!Oe)throw new Error("Iterable cannot be null");return new oe.y($e=>{(0,J.f)($e,Pe,()=>{const He=Oe[Symbol.asyncIterator]();(0,J.f)($e,Pe,()=>{He.next().then(ft=>{ft.done?$e.complete():$e.next(ft.value)})},0,!0)})})}var Se=S(7808),ze=S(3972),ee=S(1287),Te=S(9449),et=S(5235),nt=S(2614),be=S(401);function Ge(Oe,Pe){return Pe?function de(Oe,Pe){if(null!=Oe){if((0,Se.c)(Oe))return function Q(Oe,Pe){return(0,p.Xf)(Oe).pipe(e(Pe),q(Pe))}(Oe,Pe);if((0,ee.z)(Oe))return function re(Oe,Pe){return new oe.y($e=>{let He=0;return Pe.schedule(function(){He===Oe.length?$e.complete():($e.next(Oe[He++]),$e.closed||this.schedule())})})}(Oe,Pe);if((0,ze.t)(Oe))return function Le(Oe,Pe){return(0,p.Xf)(Oe).pipe(e(Pe),q(Pe))}(Oe,Pe);if((0,et.D)(Oe))return De(Oe,Pe);if((0,Te.T)(Oe))return function ge(Oe,Pe){return new oe.y($e=>{let He;return(0,J.f)($e,Pe,()=>{He=Oe[fe.h](),(0,J.f)($e,Pe,()=>{let ft,Fe;try{({value:ft,done:Fe}=He.next())}catch(Bt){return void $e.error(Bt)}Fe?$e.complete():$e.next(ft)},0,!0)}),()=>(0,ne.m)(He?.return)&&He.return()})}(Oe,Pe);if((0,be.L)(Oe))return function pe(Oe,Pe){return De((0,be.Q)(Oe),Pe)}(Oe,Pe)}throw(0,nt.z)(Oe)}(Oe,Pe):(0,p.Xf)(Oe)}},384:(yt,ke,S)=>{"use strict";S.d(ke,{Xf:()=>ge});var p=S(2321),J=S(1287),V=S(3972),te=S(2235),q=S(7808),e=S(5235),Q=S(2614),Le=S(9449),oe=S(401),re=S(2602),fe=S(6929),ne=S(4373);function ge(be){if(be instanceof te.y)return be;if(null!=be){if((0,q.c)(be))return function De(be){return new te.y(pe=>{const de=be[ne.L]();if((0,re.m)(de.subscribe))return de.subscribe(pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(be);if((0,J.z)(be))return function Se(be){return new te.y(pe=>{for(let de=0;de<be.length&&!pe.closed;de++)pe.next(be[de]);pe.complete()})}(be);if((0,V.t)(be))return function ze(be){return new te.y(pe=>{be.then(de=>{pe.closed||(pe.next(de),pe.complete())},de=>pe.error(de)).then(null,fe.h)})}(be);if((0,e.D)(be))return Te(be);if((0,Le.T)(be))return function ee(be){return new te.y(pe=>{for(const de of be)if(pe.next(de),pe.closed)return;pe.complete()})}(be);if((0,oe.L)(be))return function et(be){return Te((0,oe.Q)(be))}(be)}throw(0,Q.z)(be)}function Te(be){return new te.y(pe=>{(function nt(be,pe){var de,Ge,Oe,Pe;return(0,p.mG)(this,void 0,void 0,function*(){try{for(de=(0,p.KL)(be);!(Ge=yield de.next()).done;)if(pe.next(Ge.value),pe.closed)return}catch($e){Oe={error:$e}}finally{try{Ge&&!Ge.done&&(Pe=de.return)&&(yield Pe.call(de))}finally{if(Oe)throw Oe.error}}pe.complete()})})(be,pe).catch(de=>pe.error(de))})}},7835:(yt,ke,S)=>{"use strict";S.d(ke,{T:()=>e});var p=S(7047),J=S(384),V=S(6290),te=S(6190),q=S(4683);function e(...Q){const Le=(0,te.yG)(Q),oe=(0,te._6)(Q,1/0),re=Q;return re.length?1===re.length?(0,J.Xf)(re[0]):(0,p.J)(oe)((0,q.D)(re,Le)):V.E}},4980:(yt,ke,S)=>{"use strict";S.d(ke,{of:()=>V});var p=S(6190),J=S(4683);function V(...te){const q=(0,p.yG)(te);return(0,J.D)(te,q)}},3252:(yt,ke,S)=>{"use strict";S.d(ke,{_:()=>V});var p=S(2235),J=S(2602);function V(te,q){const e=(0,J.m)(te)?te:()=>te,Q=Le=>Le.error(e());return new p.y(q?Le=>q.schedule(Q,0,Le):Q)}},5678:(yt,ke,S)=>{"use strict";S.d(ke,{x:()=>J});var p=S(6343);function J(te,q,e,Q,Le){return new V(te,q,e,Q,Le)}class V extends p.Lv{constructor(q,e,Q,Le,oe,re){super(q),this.onFinalize=oe,this.shouldUnsubscribe=re,this._next=e?function(fe){try{e(fe)}catch(ne){q.error(ne)}}:super._next,this._error=Le?function(fe){try{Le(fe)}catch(ne){q.error(ne)}finally{this.unsubscribe()}}:super._error,this._complete=Q?function(){try{Q()}catch(fe){q.error(fe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var q;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(q=this.onFinalize)||void 0===q||q.call(this))}}}},2389:(yt,ke,S)=>{"use strict";S.d(ke,{K:()=>te});var p=S(384),J=S(5678),V=S(4114);function te(q){return(0,V.e)((e,Q)=>{let re,Le=null,oe=!1;Le=e.subscribe((0,J.x)(Q,void 0,void 0,fe=>{re=(0,p.Xf)(q(fe,te(q)(e))),Le?(Le.unsubscribe(),Le=null,re.subscribe(Q)):oe=!0})),oe&&(Le.unsubscribe(),Le=null,re.subscribe(Q))})}},5616:(yt,ke,S)=>{"use strict";S.d(ke,{b:()=>V});var p=S(9912),J=S(2602);function V(te,q){return(0,J.m)(q)?(0,p.z)(te,q,1):(0,p.z)(te,1)}},655:(yt,ke,S)=>{"use strict";S.d(ke,{b:()=>te});var p=S(1826),J=S(4114),V=S(5678);function te(q,e=p.z){return(0,J.e)((Q,Le)=>{let oe=null,re=null,fe=null;const ne=()=>{if(oe){oe.unsubscribe(),oe=null;const De=re;re=null,Le.next(De)}};function ge(){const De=fe+q,Se=e.now();if(Se<De)return oe=this.schedule(void 0,De-Se),void Le.add(oe);ne()}Q.subscribe((0,V.x)(Le,De=>{re=De,fe=e.now(),oe||(oe=e.schedule(ge,q),Le.add(oe))},()=>{ne(),Le.complete()},void 0,()=>{re=oe=null}))})}},728:(yt,ke,S)=>{"use strict";S.d(ke,{d:()=>V});var p=S(4114),J=S(5678);function V(te){return(0,p.e)((q,e)=>{let Q=!1;q.subscribe((0,J.x)(e,Le=>{Q=!0,e.next(Le)},()=>{Q||e.next(te),e.complete()}))})}},3317:(yt,ke,S)=>{"use strict";S.d(ke,{x:()=>te});var p=S(204),J=S(4114),V=S(5678);function te(e,Q=p.y){return e=e??q,(0,J.e)((Le,oe)=>{let re,fe=!0;Le.subscribe((0,V.x)(oe,ne=>{const ge=Q(ne);(fe||!e(re,ge))&&(fe=!1,re=ge,oe.next(ne))}))})}function q(e,Q){return e===Q}},4520:(yt,ke,S)=>{"use strict";S.d(ke,{h:()=>V});var p=S(4114),J=S(5678);function V(te,q){return(0,p.e)((e,Q)=>{let Le=0;e.subscribe((0,J.x)(Q,oe=>te.call(q,oe,Le++)&&Q.next(oe)))})}},7474:(yt,ke,S)=>{"use strict";S.d(ke,{x:()=>J});var p=S(4114);function J(V){return(0,p.e)((te,q)=>{try{te.subscribe(q)}finally{q.add(V)}})}},5267:(yt,ke,S)=>{"use strict";S.d(ke,{P:()=>Q});var p=S(1967),J=S(4520),V=S(1527),te=S(728),q=S(3614),e=S(204);function Q(Le,oe){const re=arguments.length>=2;return fe=>fe.pipe(Le?(0,J.h)((ne,ge)=>Le(ne,ge,fe)):e.y,(0,V.q)(1),re?(0,te.d)(oe):(0,q.T)(()=>new p.K))}},9736:(yt,ke,S)=>{"use strict";S.d(ke,{U:()=>V});var p=S(4114),J=S(5678);function V(te,q){return(0,p.e)((e,Q)=>{let Le=0;e.subscribe((0,J.x)(Q,oe=>{Q.next(te.call(q,oe,Le++))}))})}},8037:(yt,ke,S)=>{"use strict";S.d(ke,{h:()=>J});var p=S(9736);function J(V){return(0,p.U)(()=>V)}},7047:(yt,ke,S)=>{"use strict";S.d(ke,{J:()=>V});var p=S(9912),J=S(204);function V(te=1/0){return(0,p.z)(J.y,te)}},9912:(yt,ke,S)=>{"use strict";S.d(ke,{z:()=>Le});var p=S(9736),J=S(384),V=S(4114),te=S(9701),q=S(5678),Q=S(2602);function Le(oe,re,fe=1/0){return(0,Q.m)(re)?Le((ne,ge)=>(0,p.U)((De,Se)=>re(ne,De,ge,Se))((0,J.Xf)(oe(ne,ge))),fe):("number"==typeof re&&(fe=re),(0,V.e)((ne,ge)=>function e(oe,re,fe,ne,ge,De,Se,ze){const ee=[];let Te=0,et=0,nt=!1;const be=()=>{nt&&!ee.length&&!Te&&re.complete()},pe=Ge=>Te<ne?de(Ge):ee.push(Ge),de=Ge=>{De&&re.next(Ge),Te++;let Oe=!1;(0,J.Xf)(fe(Ge,et++)).subscribe((0,q.x)(re,Pe=>{ge?.(Pe),De?pe(Pe):re.next(Pe)},()=>{Oe=!0},void 0,()=>{if(Oe)try{for(Te--;ee.length&&Te<ne;){const Pe=ee.shift();Se?(0,te.f)(re,Se,()=>de(Pe)):de(Pe)}be()}catch(Pe){re.error(Pe)}}))};return oe.subscribe((0,q.x)(re,pe,()=>{nt=!0,be()})),()=>{ze?.()}}(ne,ge,oe,fe)))}},5584:(yt,ke,S)=>{"use strict";S.d(ke,{B:()=>q});var p=S(384),J=S(9877),V=S(6343),te=S(4114);function q(Q={}){const{connector:Le=(()=>new J.x),resetOnError:oe=!0,resetOnComplete:re=!0,resetOnRefCountZero:fe=!0}=Q;return ne=>{let ge,De,Se,ze=0,ee=!1,Te=!1;const et=()=>{De?.unsubscribe(),De=void 0},nt=()=>{et(),ge=Se=void 0,ee=Te=!1},be=()=>{const pe=ge;nt(),pe?.unsubscribe()};return(0,te.e)((pe,de)=>{ze++,!Te&&!ee&&et();const Ge=Se=Se??Le();de.add(()=>{ze--,0===ze&&!Te&&!ee&&(De=e(be,fe))}),Ge.subscribe(de),!ge&&ze>0&&(ge=new V.Hp({next:Oe=>Ge.next(Oe),error:Oe=>{Te=!0,et(),De=e(nt,oe,Oe),Ge.error(Oe)},complete:()=>{ee=!0,et(),De=e(nt,re),Ge.complete()}}),(0,p.Xf)(pe).subscribe(ge))})(ne)}}function e(Q,Le,...oe){if(!0===Le)return void Q();if(!1===Le)return;const re=new V.Hp({next:()=>{re.unsubscribe(),Q()}});return Le(...oe).subscribe(re)}},5357:(yt,ke,S)=>{"use strict";S.d(ke,{T:()=>J});var p=S(4520);function J(V){return(0,p.h)((te,q)=>V<=q)}},5043:(yt,ke,S)=>{"use strict";S.d(ke,{O:()=>te});var p=S(5823),J=S(6190),V=S(4114);function te(...q){const e=(0,J.yG)(q);return(0,V.e)((Q,Le)=>{(e?(0,p.z)(q,Q,e):(0,p.z)(q,Q)).subscribe(Le)})}},1891:(yt,ke,S)=>{"use strict";S.d(ke,{w:()=>te});var p=S(384),J=S(4114),V=S(5678);function te(q,e){return(0,J.e)((Q,Le)=>{let oe=null,re=0,fe=!1;const ne=()=>fe&&!oe&&Le.complete();Q.subscribe((0,V.x)(Le,ge=>{oe?.unsubscribe();let De=0;const Se=re++;(0,p.Xf)(q(ge,Se)).subscribe(oe=(0,V.x)(Le,ze=>Le.next(e?e(ge,ze,Se,De++):ze),()=>{oe=null,ne()}))},()=>{fe=!0,ne()}))})}},1527:(yt,ke,S)=>{"use strict";S.d(ke,{q:()=>te});var p=S(6290),J=S(4114),V=S(5678);function te(q){return q<=0?()=>p.E:(0,J.e)((e,Q)=>{let Le=0;e.subscribe((0,V.x)(Q,oe=>{++Le<=q&&(Q.next(oe),q<=Le&&Q.complete())}))})}},274:(yt,ke,S)=>{"use strict";S.d(ke,{R:()=>q});var p=S(4114),J=S(5678),V=S(384),te=S(2707);function q(e){return(0,p.e)((Q,Le)=>{(0,V.Xf)(e).subscribe((0,J.x)(Le,()=>Le.complete(),te.Z)),!Le.closed&&Q.subscribe(Le)})}},3738:(yt,ke,S)=>{"use strict";S.d(ke,{b:()=>q});var p=S(2602),J=S(4114),V=S(5678),te=S(204);function q(e,Q,Le){const oe=(0,p.m)(e)||Q||Le?{next:e,error:Q,complete:Le}:e;return oe?(0,J.e)((re,fe)=>{var ne;null===(ne=oe.subscribe)||void 0===ne||ne.call(oe);let ge=!0;re.subscribe((0,V.x)(fe,De=>{var Se;null===(Se=oe.next)||void 0===Se||Se.call(oe,De),fe.next(De)},()=>{var De;ge=!1,null===(De=oe.complete)||void 0===De||De.call(oe),fe.complete()},De=>{var Se;ge=!1,null===(Se=oe.error)||void 0===Se||Se.call(oe,De),fe.error(De)},()=>{var De,Se;ge&&(null===(De=oe.unsubscribe)||void 0===De||De.call(oe)),null===(Se=oe.finalize)||void 0===Se||Se.call(oe)}))}):te.y}},3614:(yt,ke,S)=>{"use strict";S.d(ke,{T:()=>te});var p=S(1967),J=S(4114),V=S(5678);function te(e=q){return(0,J.e)((Q,Le)=>{let oe=!1;Q.subscribe((0,V.x)(Le,re=>{oe=!0,Le.next(re)},()=>oe?Le.complete():Le.error(e())))})}function q(){return new p.K}},1826:(yt,ke,S)=>{"use strict";S.d(ke,{P:()=>re,z:()=>oe});var p=S(6482);class J extends p.w0{constructor(ne,ge){super()}schedule(ne,ge=0){return this}}const V={setInterval(fe,ne,...ge){const{delegate:De}=V;return De?.setInterval?De.setInterval(fe,ne,...ge):setInterval(fe,ne,...ge)},clearInterval(fe){const{delegate:ne}=V;return(ne?.clearInterval||clearInterval)(fe)},delegate:void 0};var te=S(5559),e=S(6926);class Q{constructor(ne,ge=Q.now){this.schedulerActionCtor=ne,this.now=ge}schedule(ne,ge=0,De){return new this.schedulerActionCtor(this,ne).schedule(De,ge)}}Q.now=e.l.now;const oe=new class Le extends Q{constructor(ne,ge=Q.now){super(ne,ge),this.actions=[],this._active=!1}flush(ne){const{actions:ge}=this;if(this._active)return void ge.push(ne);let De;this._active=!0;do{if(De=ne.execute(ne.state,ne.delay))break}while(ne=ge.shift());if(this._active=!1,De){for(;ne=ge.shift();)ne.unsubscribe();throw De}}}(class q extends J{constructor(ne,ge){super(ne,ge),this.scheduler=ne,this.work=ge,this.pending=!1}schedule(ne,ge=0){var De;if(this.closed)return this;this.state=ne;const Se=this.id,ze=this.scheduler;return null!=Se&&(this.id=this.recycleAsyncId(ze,Se,ge)),this.pending=!0,this.delay=ge,this.id=null!==(De=this.id)&&void 0!==De?De:this.requestAsyncId(ze,this.id,ge),this}requestAsyncId(ne,ge,De=0){return V.setInterval(ne.flush.bind(ne,this),De)}recycleAsyncId(ne,ge,De=0){if(null!=De&&this.delay===De&&!1===this.pending)return ge;null!=ge&&V.clearInterval(ge)}execute(ne,ge){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const De=this._execute(ne,ge);if(De)return De;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ne,ge){let Se,De=!1;try{this.work(ne)}catch(ze){De=!0,Se=ze||new Error("Scheduled action threw falsy error")}if(De)return this.unsubscribe(),Se}unsubscribe(){if(!this.closed){const{id:ne,scheduler:ge}=this,{actions:De}=ge;this.work=this.state=this.scheduler=null,this.pending=!1,(0,te.P)(De,this),null!=ne&&(this.id=this.recycleAsyncId(ge,ne,null)),this.delay=null,super.unsubscribe()}}}),re=oe},6926:(yt,ke,S)=>{"use strict";S.d(ke,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},8411:(yt,ke,S)=>{"use strict";S.d(ke,{z:()=>p});const p={setTimeout(J,V,...te){const{delegate:q}=p;return q?.setTimeout?q.setTimeout(J,V,...te):setTimeout(J,V,...te)},clearTimeout(J){const{delegate:V}=p;return(V?.clearTimeout||clearTimeout)(J)},delegate:void 0}},6691:(yt,ke,S)=>{"use strict";S.d(ke,{h:()=>J});const J=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4373:(yt,ke,S)=>{"use strict";S.d(ke,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},1967:(yt,ke,S)=>{"use strict";S.d(ke,{K:()=>J});const J=(0,S(1566).d)(V=>function(){V(this),this.name="EmptyError",this.message="no elements in sequence"})},6190:(yt,ke,S)=>{"use strict";S.d(ke,{_6:()=>e,jO:()=>te,yG:()=>q});var p=S(2602),J=S(7426);function V(Q){return Q[Q.length-1]}function te(Q){return(0,p.m)(V(Q))?Q.pop():void 0}function q(Q){return(0,J.K)(V(Q))?Q.pop():void 0}function e(Q,Le){return"number"==typeof V(Q)?Q.pop():Le}},7346:(yt,ke,S)=>{"use strict";S.d(ke,{D:()=>q});const{isArray:p}=Array,{getPrototypeOf:J,prototype:V,keys:te}=Object;function q(Q){if(1===Q.length){const Le=Q[0];if(p(Le))return{args:Le,keys:null};if(function e(Q){return Q&&"object"==typeof Q&&J(Q)===V}(Le)){const oe=te(Le);return{args:oe.map(re=>Le[re]),keys:oe}}}return{args:Q,keys:null}}},5559:(yt,ke,S)=>{"use strict";function p(J,V){if(J){const te=J.indexOf(V);0<=te&&J.splice(te,1)}}S.d(ke,{P:()=>p})},1566:(yt,ke,S)=>{"use strict";function p(J){const te=J(q=>{Error.call(q),q.stack=(new Error).stack});return te.prototype=Object.create(Error.prototype),te.prototype.constructor=te,te}S.d(ke,{d:()=>p})},6118:(yt,ke,S)=>{"use strict";function p(J,V){return J.reduce((te,q,e)=>(te[q]=V[e],te),{})}S.d(ke,{n:()=>p})},575:(yt,ke,S)=>{"use strict";S.d(ke,{O:()=>te,x:()=>V});var p=S(5445);let J=null;function V(q){if(p.config.useDeprecatedSynchronousErrorHandling){const e=!J;if(e&&(J={errorThrown:!1,error:null}),q(),e){const{errorThrown:Q,error:Le}=J;if(J=null,Q)throw Le}}else q()}function te(q){p.config.useDeprecatedSynchronousErrorHandling&&J&&(J.errorThrown=!0,J.error=q)}},9701:(yt,ke,S)=>{"use strict";function p(J,V,te,q=0,e=!1){const Q=V.schedule(function(){te(),e?J.add(this.schedule(null,q)):this.unsubscribe()},q);if(J.add(Q),!e)return Q}S.d(ke,{f:()=>p})},204:(yt,ke,S)=>{"use strict";function p(J){return J}S.d(ke,{y:()=>p})},1287:(yt,ke,S)=>{"use strict";S.d(ke,{z:()=>p});const p=J=>J&&"number"==typeof J.length&&"function"!=typeof J},5235:(yt,ke,S)=>{"use strict";S.d(ke,{D:()=>J});var p=S(2602);function J(V){return Symbol.asyncIterator&&(0,p.m)(V?.[Symbol.asyncIterator])}},2602:(yt,ke,S)=>{"use strict";function p(J){return"function"==typeof J}S.d(ke,{m:()=>p})},7808:(yt,ke,S)=>{"use strict";S.d(ke,{c:()=>V});var p=S(4373),J=S(2602);function V(te){return(0,J.m)(te[p.L])}},9449:(yt,ke,S)=>{"use strict";S.d(ke,{T:()=>V});var p=S(6691),J=S(2602);function V(te){return(0,J.m)(te?.[p.h])}},3972:(yt,ke,S)=>{"use strict";S.d(ke,{t:()=>J});var p=S(2602);function J(V){return(0,p.m)(V?.then)}},401:(yt,ke,S)=>{"use strict";S.d(ke,{L:()=>te,Q:()=>V});var p=S(2321),J=S(2602);function V(q){return(0,p.FC)(this,arguments,function*(){const Q=q.getReader();try{for(;;){const{value:Le,done:oe}=yield(0,p.qq)(Q.read());if(oe)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(Le)}}finally{Q.releaseLock()}})}function te(q){return(0,J.m)(q?.getReader)}},7426:(yt,ke,S)=>{"use strict";S.d(ke,{K:()=>J});var p=S(2602);function J(V){return V&&(0,p.m)(V.schedule)}},4114:(yt,ke,S)=>{"use strict";S.d(ke,{A:()=>J,e:()=>V});var p=S(2602);function J(te){return(0,p.m)(te?.lift)}function V(te){return q=>{if(J(q))return q.lift(function(e){try{return te(e,this)}catch(Q){this.error(Q)}});throw new TypeError("Unable to lift unknown Observable type")}}},7825:(yt,ke,S)=>{"use strict";S.d(ke,{Z:()=>te});var p=S(9736);const{isArray:J}=Array;function te(q){return(0,p.U)(e=>function V(q,e){return J(e)?q(...e):q(e)}(q,e))}},2707:(yt,ke,S)=>{"use strict";function p(){}S.d(ke,{Z:()=>p})},2476:(yt,ke,S)=>{"use strict";S.d(ke,{U:()=>V,z:()=>J});var p=S(204);function J(...te){return V(te)}function V(te){return 0===te.length?p.y:1===te.length?te[0]:function(e){return te.reduce((Q,Le)=>Le(Q),e)}}},6929:(yt,ke,S)=>{"use strict";S.d(ke,{h:()=>V});var p=S(5445),J=S(8411);function V(te){J.z.setTimeout(()=>{const{onUnhandledError:q}=p.config;if(!q)throw te;q(te)})}},2614:(yt,ke,S)=>{"use strict";function p(J){return new TypeError(`You provided ${null!==J&&"object"==typeof J?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}S.d(ke,{z:()=>p})},8265:yt=>{function ke(p,J,V){p.addEventListener("wheel",J,V)}yt.exports=ke,yt.exports.addWheelListener=ke,yt.exports.removeWheelListener=function S(p,J,V){p.removeEventListener("wheel",J,V)}},3344:(yt,ke,S)=>{"use strict";S.d(ke,{Eq:()=>q,Ig:()=>J,fI:()=>Q});var p=S(1699);function J(oe){return null!=oe&&"false"!=`${oe}`}function q(oe){return Array.isArray(oe)?oe:[oe]}function Q(oe){return oe instanceof p.SBq?oe.nativeElement:oe}},1134:(yt,ke,S)=>{"use strict";S.d(ke,{Yg:()=>nt,xu:()=>De});var p=S(1699),J=S(3344),V=S(9877),te=S(3839),q=S(5823),e=S(2235),Q=S(1527),Le=S(5357),oe=S(655),re=S(9736),fe=S(5043),ne=S(274),ge=S(6744);let De=(()=>{class de{}return de.\u0275fac=function(Oe){return new(Oe||de)},de.\u0275mod=p.oAB({type:de}),de.\u0275inj=p.cJS({}),de})();const Se=new Set;let ze,ee=(()=>{class de{constructor(Oe){this._platform=Oe,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):et}matchMedia(Oe){return(this._platform.WEBKIT||this._platform.BLINK)&&function Te(de){if(!Se.has(de))try{ze||(ze=document.createElement("style"),ze.setAttribute("type","text/css"),document.head.appendChild(ze)),ze.sheet&&(ze.sheet.insertRule(`@media ${de} {body{ }}`,0),Se.add(de))}catch(Ge){console.error(Ge)}}(Oe),this._matchMedia(Oe)}}return de.\u0275fac=function(Oe){return new(Oe||de)(p.LFG(ge.t4))},de.\u0275prov=p.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})();function et(de){return{matches:"all"===de||""===de,media:de,addListener:()=>{},removeListener:()=>{}}}let nt=(()=>{class de{constructor(Oe,Pe){this._mediaMatcher=Oe,this._zone=Pe,this._queries=new Map,this._destroySubject=new V.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(Oe){return be((0,J.Eq)(Oe)).some($e=>this._registerQuery($e).mql.matches)}observe(Oe){const $e=be((0,J.Eq)(Oe)).map(ft=>this._registerQuery(ft).observable);let He=(0,te.a)($e);return He=(0,q.z)(He.pipe((0,Q.q)(1)),He.pipe((0,Le.T)(1),(0,oe.b)(0))),He.pipe((0,re.U)(ft=>{const Fe={matches:!1,breakpoints:{}};return ft.forEach(({matches:Bt,query:ut})=>{Fe.matches=Fe.matches||Bt,Fe.breakpoints[ut]=Bt}),Fe}))}_registerQuery(Oe){if(this._queries.has(Oe))return this._queries.get(Oe);const Pe=this._mediaMatcher.matchMedia(Oe),He={observable:new e.y(ft=>{const Fe=Bt=>this._zone.run(()=>ft.next(Bt));return Pe.addListener(Fe),()=>{Pe.removeListener(Fe)}}).pipe((0,fe.O)(Pe),(0,re.U)(({matches:ft})=>({query:Oe,matches:ft})),(0,ne.R)(this._destroySubject)),mql:Pe};return this._queries.set(Oe,He),He}}return de.\u0275fac=function(Oe){return new(Oe||de)(p.LFG(ee),p.LFG(p.R0b))},de.\u0275prov=p.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})();function be(de){return de.map(Ge=>Ge.split(",")).reduce((Ge,Oe)=>Ge.concat(Oe)).map(Ge=>Ge.trim())}},6744:(yt,ke,S)=>{"use strict";S.d(ke,{Oy:()=>be,i$:()=>fe,sA:()=>nt,t4:()=>te});var p=S(1699),J=S(6575);let V;try{V=typeof Intl<"u"&&Intl.v8BreakIterator}catch{V=!1}let oe,te=(()=>{class pe{constructor(Ge){this._platformId=Ge,this.isBrowser=this._platformId?(0,J.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!V)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return pe.\u0275fac=function(Ge){return new(Ge||pe)(p.LFG(p.Lbi))},pe.\u0275prov=p.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})();function fe(pe){return function re(){if(null==oe&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>oe=!0}))}finally{oe=oe||!1}return oe}()?pe:!!pe.capture}function nt(pe){return pe.composedPath?pe.composedPath()[0]:pe.target}function be(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},6575:(yt,ke,S)=>{"use strict";S.d(ke,{Do:()=>ze,ED:()=>Gi,EM:()=>Oo,HT:()=>te,JF:()=>Yo,K0:()=>e,Mn:()=>ut,Mx:()=>Un,NF:()=>uo,O5:()=>vi,PM:()=>To,RF:()=>$i,S$:()=>ge,Tn:()=>Pe,UT:()=>pt,V_:()=>Le,Ye:()=>ee,ax:()=>Cn,b0:()=>Se,bD:()=>Eo,ez:()=>Ci,i8:()=>jo,n9:()=>Co,p6:()=>Rn,q:()=>V,sg:()=>Cn,tP:()=>Je,w_:()=>q,x:()=>Oe});var p=S(1699);let J=null;function V(){return J}function te(D){J||(J=D)}class q{}const e=new p.OlP("DocumentToken");let Q=(()=>{class D{historyGo(I){throw new Error("Not implemented")}static#e=this.\u0275fac=function(F){return new(F||D)};static#t=this.\u0275prov=p.Yz7({token:D,factory:function(){return(0,p.f3M)(oe)},providedIn:"platform"})}return D})();const Le=new p.OlP("Location Initialized");let oe=(()=>{class D extends Q{constructor(){super(),this._doc=(0,p.f3M)(e),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return V().getBaseHref(this._doc)}onPopState(I){const F=V().getGlobalEventTarget(this._doc,"window");return F.addEventListener("popstate",I,!1),()=>F.removeEventListener("popstate",I)}onHashChange(I){const F=V().getGlobalEventTarget(this._doc,"window");return F.addEventListener("hashchange",I,!1),()=>F.removeEventListener("hashchange",I)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(I){this._location.pathname=I}pushState(I,F,le){this._history.pushState(I,F,le)}replaceState(I,F,le){this._history.replaceState(I,F,le)}forward(){this._history.forward()}back(){this._history.back()}historyGo(I=0){this._history.go(I)}getState(){return this._history.state}static#e=this.\u0275fac=function(F){return new(F||D)};static#t=this.\u0275prov=p.Yz7({token:D,factory:function(){return new D},providedIn:"platform"})}return D})();function re(D,H){if(0==D.length)return H;if(0==H.length)return D;let I=0;return D.endsWith("/")&&I++,H.startsWith("/")&&I++,2==I?D+H.substring(1):1==I?D+H:D+"/"+H}function fe(D){const H=D.match(/#|\?|$/),I=H&&H.index||D.length;return D.slice(0,I-("/"===D[I-1]?1:0))+D.slice(I)}function ne(D){return D&&"?"!==D[0]?"?"+D:D}let ge=(()=>{class D{historyGo(I){throw new Error("Not implemented")}static#e=this.\u0275fac=function(F){return new(F||D)};static#t=this.\u0275prov=p.Yz7({token:D,factory:function(){return(0,p.f3M)(Se)},providedIn:"root"})}return D})();const De=new p.OlP("appBaseHref");let Se=(()=>{class D extends ge{constructor(I,F){super(),this._platformLocation=I,this._removeListenerFns=[],this._baseHref=F??this._platformLocation.getBaseHrefFromDOM()??(0,p.f3M)(e).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(I){this._removeListenerFns.push(this._platformLocation.onPopState(I),this._platformLocation.onHashChange(I))}getBaseHref(){return this._baseHref}prepareExternalUrl(I){return re(this._baseHref,I)}path(I=!1){const F=this._platformLocation.pathname+ne(this._platformLocation.search),le=this._platformLocation.hash;return le&&I?`${F}${le}`:F}pushState(I,F,le,Xe){const vt=this.prepareExternalUrl(le+ne(Xe));this._platformLocation.pushState(I,F,vt)}replaceState(I,F,le,Xe){const vt=this.prepareExternalUrl(le+ne(Xe));this._platformLocation.replaceState(I,F,vt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(I=0){this._platformLocation.historyGo?.(I)}static#e=this.\u0275fac=function(F){return new(F||D)(p.LFG(Q),p.LFG(De,8))};static#t=this.\u0275prov=p.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})(),ze=(()=>{class D extends ge{constructor(I,F){super(),this._platformLocation=I,this._baseHref="",this._removeListenerFns=[],null!=F&&(this._baseHref=F)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(I){this._removeListenerFns.push(this._platformLocation.onPopState(I),this._platformLocation.onHashChange(I))}getBaseHref(){return this._baseHref}path(I=!1){let F=this._platformLocation.hash;return null==F&&(F="#"),F.length>0?F.substring(1):F}prepareExternalUrl(I){const F=re(this._baseHref,I);return F.length>0?"#"+F:F}pushState(I,F,le,Xe){let vt=this.prepareExternalUrl(le+ne(Xe));0==vt.length&&(vt=this._platformLocation.pathname),this._platformLocation.pushState(I,F,vt)}replaceState(I,F,le,Xe){let vt=this.prepareExternalUrl(le+ne(Xe));0==vt.length&&(vt=this._platformLocation.pathname),this._platformLocation.replaceState(I,F,vt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(I=0){this._platformLocation.historyGo?.(I)}static#e=this.\u0275fac=function(F){return new(F||D)(p.LFG(Q),p.LFG(De,8))};static#t=this.\u0275prov=p.Yz7({token:D,factory:D.\u0275fac})}return D})(),ee=(()=>{class D{constructor(I){this._subject=new p.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=I;const F=this._locationStrategy.getBaseHref();this._basePath=function be(D){if(new RegExp("^(https?:)?//").test(D)){const[,I]=D.split(/\/\/[^\/]+/);return I}return D}(fe(nt(F))),this._locationStrategy.onPopState(le=>{this._subject.emit({url:this.path(!0),pop:!0,state:le.state,type:le.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(I=!1){return this.normalize(this._locationStrategy.path(I))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(I,F=""){return this.path()==this.normalize(I+ne(F))}normalize(I){return D.stripTrailingSlash(function et(D,H){if(!D||!H.startsWith(D))return H;const I=H.substring(D.length);return""===I||["/",";","?","#"].includes(I[0])?I:H}(this._basePath,nt(I)))}prepareExternalUrl(I){return I&&"/"!==I[0]&&(I="/"+I),this._locationStrategy.prepareExternalUrl(I)}go(I,F="",le=null){this._locationStrategy.pushState(le,"",I,F),this._notifyUrlChangeListeners(this.prepareExternalUrl(I+ne(F)),le)}replaceState(I,F="",le=null){this._locationStrategy.replaceState(le,"",I,F),this._notifyUrlChangeListeners(this.prepareExternalUrl(I+ne(F)),le)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(I=0){this._locationStrategy.historyGo?.(I)}onUrlChange(I){return this._urlChangeListeners.push(I),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(F=>{this._notifyUrlChangeListeners(F.url,F.state)})),()=>{const F=this._urlChangeListeners.indexOf(I);this._urlChangeListeners.splice(F,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(I="",F){this._urlChangeListeners.forEach(le=>le(I,F))}subscribe(I,F,le){return this._subject.subscribe({next:I,error:F,complete:le})}static#e=this.normalizeQueryParams=ne;static#t=this.joinWithSlash=re;static#n=this.stripTrailingSlash=fe;static#i=this.\u0275fac=function(F){return new(F||D)(p.LFG(ge))};static#o=this.\u0275prov=p.Yz7({token:D,factory:function(){return function Te(){return new ee((0,p.LFG)(ge))}()},providedIn:"root"})}return D})();function nt(D){return D.replace(/\/index.html$/,"")}var Oe=function(D){return D[D.Format=0]="Format",D[D.Standalone=1]="Standalone",D}(Oe||{}),Pe=function(D){return D[D.Narrow=0]="Narrow",D[D.Abbreviated=1]="Abbreviated",D[D.Wide=2]="Wide",D[D.Short=3]="Short",D}(Pe||{}),$e=function(D){return D[D.Short=0]="Short",D[D.Medium=1]="Medium",D[D.Long=2]="Long",D[D.Full=3]="Full",D}($e||{}),He=function(D){return D[D.Decimal=0]="Decimal",D[D.Group=1]="Group",D[D.List=2]="List",D[D.PercentSign=3]="PercentSign",D[D.PlusSign=4]="PlusSign",D[D.MinusSign=5]="MinusSign",D[D.Exponential=6]="Exponential",D[D.SuperscriptingExponent=7]="SuperscriptingExponent",D[D.PerMille=8]="PerMille",D[D.Infinity=9]="Infinity",D[D.NaN=10]="NaN",D[D.TimeSeparator=11]="TimeSeparator",D[D.CurrencyDecimal=12]="CurrencyDecimal",D[D.CurrencyGroup=13]="CurrencyGroup",D}(He||{});function ut(D,H,I){const F=(0,p.cg1)(D),Xe=me([F[p.wAp.DaysFormat],F[p.wAp.DaysStandalone]],H);return me(Xe,I)}function pt(D,H,I){const F=(0,p.cg1)(D),Xe=me([F[p.wAp.MonthsFormat],F[p.wAp.MonthsStandalone]],H);return me(Xe,I)}function he(D,H){return me((0,p.cg1)(D)[p.wAp.DateFormat],H)}function Me(D,H){return me((0,p.cg1)(D)[p.wAp.TimeFormat],H)}function Ce(D,H){return me((0,p.cg1)(D)[p.wAp.DateTimeFormat],H)}function Ie(D,H){const I=(0,p.cg1)(D),F=I[p.wAp.NumberSymbols][H];if(typeof F>"u"){if(H===He.CurrencyDecimal)return I[p.wAp.NumberSymbols][He.Decimal];if(H===He.CurrencyGroup)return I[p.wAp.NumberSymbols][He.Group]}return F}function zt(D){if(!D[p.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${D[p.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function me(D,H){for(let I=H;I>-1;I--)if(typeof D[I]<"u")return D[I];throw new Error("Locale data API: locale data undefined")}function _e(D){const[H,I]=D.split(":");return{hours:+H,minutes:+I}}const Rt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,pn={},ln=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Lt=function(D){return D[D.Short=0]="Short",D[D.ShortGMT=1]="ShortGMT",D[D.Long=2]="Long",D[D.Extended=3]="Extended",D}(Lt||{}),Mt=function(D){return D[D.FullYear=0]="FullYear",D[D.Month=1]="Month",D[D.Date=2]="Date",D[D.Hours=3]="Hours",D[D.Minutes=4]="Minutes",D[D.Seconds=5]="Seconds",D[D.FractionalSeconds=6]="FractionalSeconds",D[D.Day=7]="Day",D}(Mt||{}),Ot=function(D){return D[D.DayPeriods=0]="DayPeriods",D[D.Days=1]="Days",D[D.Months=2]="Months",D[D.Eras=3]="Eras",D}(Ot||{});function Rn(D,H,I,F){let le=function dt(D){if(ue(D))return D;if("number"==typeof D&&!isNaN(D))return new Date(D);if("string"==typeof D){if(D=D.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(D)){const[le,Xe=1,vt=1]=D.split("-").map(tn=>+tn);return ui(le,Xe-1,vt)}const I=parseFloat(D);if(!isNaN(D-I))return new Date(I);let F;if(F=D.match(Rt))return function We(D){const H=new Date(0);let I=0,F=0;const le=D[8]?H.setUTCFullYear:H.setFullYear,Xe=D[8]?H.setUTCHours:H.setHours;D[9]&&(I=Number(D[9]+D[10]),F=Number(D[9]+D[11])),le.call(H,Number(D[1]),Number(D[2])-1,Number(D[3]));const vt=Number(D[4]||0)-I,tn=Number(D[5]||0)-F,fi=Number(D[6]||0),bi=Math.floor(1e3*parseFloat("0."+(D[7]||0)));return Xe.call(H,vt,tn,fi,bi),H}(F)}const H=new Date(D);if(!ue(H))throw new Error(`Unable to convert "${D}" into a date`);return H}(D);H=sn(I,H)||H;let tn,vt=[];for(;H;){if(tn=ln.exec(H),!tn){vt.push(H);break}{vt=vt.concat(tn.slice(1));const $n=vt.pop();if(!$n)break;H=$n}}let fi=le.getTimezoneOffset();F&&(fi=zi(F,fi),le=function Zo(D,H,I){const F=I?-1:1,le=D.getTimezoneOffset();return function io(D,H){return(D=new Date(D.getTime())).setMinutes(D.getMinutes()+H),D}(D,F*(zi(H,le)-le))}(le,F,!0));let bi="";return vt.forEach($n=>{const Mn=function Ji(D){if(Li[D])return Li[D];let H;switch(D){case"G":case"GG":case"GGG":H=gn(Ot.Eras,Pe.Abbreviated);break;case"GGGG":H=gn(Ot.Eras,Pe.Wide);break;case"GGGGG":H=gn(Ot.Eras,Pe.Narrow);break;case"y":H=Dn(Mt.FullYear,1,0,!1,!0);break;case"yy":H=Dn(Mt.FullYear,2,0,!0,!0);break;case"yyy":H=Dn(Mt.FullYear,3,0,!1,!0);break;case"yyyy":H=Dn(Mt.FullYear,4,0,!1,!0);break;case"Y":H=si(1);break;case"YY":H=si(2,!0);break;case"YYY":H=si(3);break;case"YYYY":H=si(4);break;case"M":case"L":H=Dn(Mt.Month,1,1);break;case"MM":case"LL":H=Dn(Mt.Month,2,1);break;case"MMM":H=gn(Ot.Months,Pe.Abbreviated);break;case"MMMM":H=gn(Ot.Months,Pe.Wide);break;case"MMMMM":H=gn(Ot.Months,Pe.Narrow);break;case"LLL":H=gn(Ot.Months,Pe.Abbreviated,Oe.Standalone);break;case"LLLL":H=gn(Ot.Months,Pe.Wide,Oe.Standalone);break;case"LLLLL":H=gn(Ot.Months,Pe.Narrow,Oe.Standalone);break;case"w":H=In(1);break;case"ww":H=In(2);break;case"W":H=In(1,!0);break;case"d":H=Dn(Mt.Date,1);break;case"dd":H=Dn(Mt.Date,2);break;case"c":case"cc":H=Dn(Mt.Day,1);break;case"ccc":H=gn(Ot.Days,Pe.Abbreviated,Oe.Standalone);break;case"cccc":H=gn(Ot.Days,Pe.Wide,Oe.Standalone);break;case"ccccc":H=gn(Ot.Days,Pe.Narrow,Oe.Standalone);break;case"cccccc":H=gn(Ot.Days,Pe.Short,Oe.Standalone);break;case"E":case"EE":case"EEE":H=gn(Ot.Days,Pe.Abbreviated);break;case"EEEE":H=gn(Ot.Days,Pe.Wide);break;case"EEEEE":H=gn(Ot.Days,Pe.Narrow);break;case"EEEEEE":H=gn(Ot.Days,Pe.Short);break;case"a":case"aa":case"aaa":H=gn(Ot.DayPeriods,Pe.Abbreviated);break;case"aaaa":H=gn(Ot.DayPeriods,Pe.Wide);break;case"aaaaa":H=gn(Ot.DayPeriods,Pe.Narrow);break;case"b":case"bb":case"bbb":H=gn(Ot.DayPeriods,Pe.Abbreviated,Oe.Standalone,!0);break;case"bbbb":H=gn(Ot.DayPeriods,Pe.Wide,Oe.Standalone,!0);break;case"bbbbb":H=gn(Ot.DayPeriods,Pe.Narrow,Oe.Standalone,!0);break;case"B":case"BB":case"BBB":H=gn(Ot.DayPeriods,Pe.Abbreviated,Oe.Format,!0);break;case"BBBB":H=gn(Ot.DayPeriods,Pe.Wide,Oe.Format,!0);break;case"BBBBB":H=gn(Ot.DayPeriods,Pe.Narrow,Oe.Format,!0);break;case"h":H=Dn(Mt.Hours,1,-12);break;case"hh":H=Dn(Mt.Hours,2,-12);break;case"H":H=Dn(Mt.Hours,1);break;case"HH":H=Dn(Mt.Hours,2);break;case"m":H=Dn(Mt.Minutes,1);break;case"mm":H=Dn(Mt.Minutes,2);break;case"s":H=Dn(Mt.Seconds,1);break;case"ss":H=Dn(Mt.Seconds,2);break;case"S":H=Dn(Mt.FractionalSeconds,1);break;case"SS":H=Dn(Mt.FractionalSeconds,2);break;case"SSS":H=Dn(Mt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":H=Ti(Lt.Short);break;case"ZZZZZ":H=Ti(Lt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":H=Ti(Lt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":H=Ti(Lt.Long);break;default:return null}return Li[D]=H,H}($n);bi+=Mn?Mn(le,I,fi):"''"===$n?"'":$n.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),bi}function ui(D,H,I){const F=new Date(0);return F.setFullYear(D,H,I),F.setHours(0,0,0),F}function sn(D,H){const I=function Fe(D){return(0,p.cg1)(D)[p.wAp.LocaleId]}(D);if(pn[I]=pn[I]||{},pn[I][H])return pn[I][H];let F="";switch(H){case"shortDate":F=he(D,$e.Short);break;case"mediumDate":F=he(D,$e.Medium);break;case"longDate":F=he(D,$e.Long);break;case"fullDate":F=he(D,$e.Full);break;case"shortTime":F=Me(D,$e.Short);break;case"mediumTime":F=Me(D,$e.Medium);break;case"longTime":F=Me(D,$e.Long);break;case"fullTime":F=Me(D,$e.Full);break;case"short":const le=sn(D,"shortTime"),Xe=sn(D,"shortDate");F=qt(Ce(D,$e.Short),[le,Xe]);break;case"medium":const vt=sn(D,"mediumTime"),tn=sn(D,"mediumDate");F=qt(Ce(D,$e.Medium),[vt,tn]);break;case"long":const fi=sn(D,"longTime"),bi=sn(D,"longDate");F=qt(Ce(D,$e.Long),[fi,bi]);break;case"full":const $n=sn(D,"fullTime"),Mn=sn(D,"fullDate");F=qt(Ce(D,$e.Full),[$n,Mn])}return F&&(pn[I][H]=F),F}function qt(D,H){return H&&(D=D.replace(/\{([^}]+)}/g,function(I,F){return null!=H&&F in H?H[F]:I})),D}function Hn(D,H,I="-",F,le){let Xe="";(D<0||le&&D<=0)&&(le?D=1-D:(D=-D,Xe=I));let vt=String(D);for(;vt.length<H;)vt="0"+vt;return F&&(vt=vt.slice(vt.length-H)),Xe+vt}function Dn(D,H,I=0,F=!1,le=!1){return function(Xe,vt){let tn=function Fn(D,H){switch(D){case Mt.FullYear:return H.getFullYear();case Mt.Month:return H.getMonth();case Mt.Date:return H.getDate();case Mt.Hours:return H.getHours();case Mt.Minutes:return H.getMinutes();case Mt.Seconds:return H.getSeconds();case Mt.FractionalSeconds:return H.getMilliseconds();case Mt.Day:return H.getDay();default:throw new Error(`Unknown DateType value "${D}".`)}}(D,Xe);if((I>0||tn>-I)&&(tn+=I),D===Mt.Hours)0===tn&&-12===I&&(tn=12);else if(D===Mt.FractionalSeconds)return function ht(D,H){return Hn(D,3).substring(0,H)}(tn,H);const fi=Ie(vt,He.MinusSign);return Hn(tn,H,fi,F,le)}}function gn(D,H,I=Oe.Format,F=!1){return function(le,Xe){return function Ri(D,H,I,F,le,Xe){switch(I){case Ot.Months:return pt(H,le,F)[D.getMonth()];case Ot.Days:return ut(H,le,F)[D.getDay()];case Ot.DayPeriods:const vt=D.getHours(),tn=D.getMinutes();if(Xe){const bi=function St(D){const H=(0,p.cg1)(D);return zt(H),(H[p.wAp.ExtraData][2]||[]).map(F=>"string"==typeof F?_e(F):[_e(F[0]),_e(F[1])])}(H),$n=function xn(D,H,I){const F=(0,p.cg1)(D);zt(F);const Xe=me([F[p.wAp.ExtraData][0],F[p.wAp.ExtraData][1]],H)||[];return me(Xe,I)||[]}(H,le,F),Mn=bi.findIndex(ji=>{if(Array.isArray(ji)){const[wi,Vi]=ji,lr=vt>=wi.hours&&tn>=wi.minutes,tr=vt<Vi.hours||vt===Vi.hours&&tn<Vi.minutes;if(wi.hours<Vi.hours){if(lr&&tr)return!0}else if(lr||tr)return!0}else if(ji.hours===vt&&ji.minutes===tn)return!0;return!1});if(-1!==Mn)return $n[Mn]}return function Bt(D,H,I){const F=(0,p.cg1)(D),Xe=me([F[p.wAp.DayPeriodsFormat],F[p.wAp.DayPeriodsStandalone]],H);return me(Xe,I)}(H,le,F)[vt<12?0:1];case Ot.Eras:return function Re(D,H){return me((0,p.cg1)(D)[p.wAp.Eras],H)}(H,F)[D.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${I}`)}}(le,Xe,D,H,I,F)}}function Ti(D){return function(H,I,F){const le=-1*F,Xe=Ie(I,He.MinusSign),vt=le>0?Math.floor(le/60):Math.ceil(le/60);switch(D){case Lt.Short:return(le>=0?"+":"")+Hn(vt,2,Xe)+Hn(Math.abs(le%60),2,Xe);case Lt.ShortGMT:return"GMT"+(le>=0?"+":"")+Hn(vt,1,Xe);case Lt.Long:return"GMT"+(le>=0?"+":"")+Hn(vt,2,Xe)+":"+Hn(Math.abs(le%60),2,Xe);case Lt.Extended:return 0===F?"Z":(le>=0?"+":"")+Hn(vt,2,Xe)+":"+Hn(Math.abs(le%60),2,Xe);default:throw new Error(`Unknown zone width "${D}"`)}}}const Zi=0,Fi=4;function qn(D){return ui(D.getFullYear(),D.getMonth(),D.getDate()+(Fi-D.getDay()))}function In(D,H=!1){return function(I,F){let le;if(H){const Xe=new Date(I.getFullYear(),I.getMonth(),1).getDay()-1,vt=I.getDate();le=1+Math.floor((vt+Xe)/7)}else{const Xe=qn(I),vt=function jn(D){const H=ui(D,Zi,1).getDay();return ui(D,0,1+(H<=Fi?Fi:Fi+7)-H)}(Xe.getFullYear()),tn=Xe.getTime()-vt.getTime();le=1+Math.round(tn/6048e5)}return Hn(le,D,Ie(F,He.MinusSign))}}function si(D,H=!1){return function(I,F){return Hn(qn(I).getFullYear(),D,Ie(F,He.MinusSign),H)}}const Li={};function zi(D,H){D=D.replace(/:/g,"");const I=Date.parse("Jan 01, 1970 00:00:00 "+D)/6e4;return isNaN(I)?H:I}function ue(D){return D instanceof Date&&!isNaN(D.valueOf())}function Un(D,H){H=encodeURIComponent(H);for(const I of D.split(";")){const F=I.indexOf("="),[le,Xe]=-1==F?[I,""]:[I.slice(0,F),I.slice(F+1)];if(le.trim()===H)return decodeURIComponent(Xe)}return null}class Yt{constructor(H,I,F,le){this.$implicit=H,this.ngForOf=I,this.index=F,this.count=le}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Cn=(()=>{class D{set ngForOf(I){this._ngForOf=I,this._ngForOfDirty=!0}set ngForTrackBy(I){this._trackByFn=I}get ngForTrackBy(){return this._trackByFn}constructor(I,F,le){this._viewContainer=I,this._template=F,this._differs=le,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(I){I&&(this._template=I)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const I=this._ngForOf;!this._differ&&I&&(this._differ=this._differs.find(I).create(this.ngForTrackBy))}if(this._differ){const I=this._differ.diff(this._ngForOf);I&&this._applyChanges(I)}}_applyChanges(I){const F=this._viewContainer;I.forEachOperation((le,Xe,vt)=>{if(null==le.previousIndex)F.createEmbeddedView(this._template,new Yt(le.item,this._ngForOf,-1,-1),null===vt?void 0:vt);else if(null==vt)F.remove(null===Xe?void 0:Xe);else if(null!==Xe){const tn=F.get(Xe);F.move(tn,vt),Oi(tn,le)}});for(let le=0,Xe=F.length;le<Xe;le++){const tn=F.get(le).context;tn.index=le,tn.count=Xe,tn.ngForOf=this._ngForOf}I.forEachIdentityChange(le=>{Oi(F.get(le.currentIndex),le)})}static ngTemplateContextGuard(I,F){return!0}static#e=this.\u0275fac=function(F){return new(F||D)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))};static#t=this.\u0275dir=p.lG2({type:D,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return D})();function Oi(D,H){D.context.$implicit=H.item}let vi=(()=>{class D{constructor(I,F){this._viewContainer=I,this._context=new oo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=F}set ngIf(I){this._context.$implicit=this._context.ngIf=I,this._updateView()}set ngIfThen(I){wn("ngIfThen",I),this._thenTemplateRef=I,this._thenViewRef=null,this._updateView()}set ngIfElse(I){wn("ngIfElse",I),this._elseTemplateRef=I,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(I,F){return!0}static#e=this.\u0275fac=function(F){return new(F||D)(p.Y36(p.s_b),p.Y36(p.Rgc))};static#t=this.\u0275dir=p.lG2({type:D,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return D})();class oo{constructor(){this.$implicit=null,this.ngIf=null}}function wn(D,H){if(H&&!H.createEmbeddedView)throw new Error(`${D} must be a TemplateRef, but received '${(0,p.AaK)(H)}'.`)}class Tn{constructor(H,I){this._viewContainerRef=H,this._templateRef=I,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(H){H&&!this._created?this.create():!H&&this._created&&this.destroy()}}let $i=(()=>{class D{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(I){this._ngSwitch=I,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(I){this._defaultViews.push(I)}_matchCase(I){const F=I==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||F,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),F}_updateDefaultCases(I){if(this._defaultViews.length>0&&I!==this._defaultUsed){this._defaultUsed=I;for(const F of this._defaultViews)F.enforceState(I)}}static#e=this.\u0275fac=function(F){return new(F||D)};static#t=this.\u0275dir=p.lG2({type:D,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return D})(),Co=(()=>{class D{constructor(I,F,le){this.ngSwitch=le,le._addCase(),this._view=new Tn(I,F)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(F){return new(F||D)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36($i,9))};static#t=this.\u0275dir=p.lG2({type:D,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return D})(),Gi=(()=>{class D{constructor(I,F,le){le._addDefault(new Tn(I,F))}static#e=this.\u0275fac=function(F){return new(F||D)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36($i,9))};static#t=this.\u0275dir=p.lG2({type:D,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return D})(),Je=(()=>{class D{constructor(I){this._viewContainerRef=I,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(I){if(I.ngTemplateOutlet||I.ngTemplateOutletInjector){const F=this._viewContainerRef;if(this._viewRef&&F.remove(F.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:le,ngTemplateOutletContext:Xe,ngTemplateOutletInjector:vt}=this;this._viewRef=F.createEmbeddedView(le,Xe,vt?{injector:vt}:void 0)}else this._viewRef=null}else this._viewRef&&I.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(F){return new(F||D)(p.Y36(p.s_b))};static#t=this.\u0275dir=p.lG2({type:D,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[p.TTD]})}return D})();let jo=(()=>{class D{transform(I){if(null==I)return null;if("string"!=typeof I)throw function Tt(D,H){return new p.vHH(2100,!1)}();return I.toLowerCase()}static#e=this.\u0275fac=function(F){return new(F||D)};static#t=this.\u0275pipe=p.Yjl({name:"lowercase",type:D,pure:!0,standalone:!0})}return D})(),Ci=(()=>{class D{static#e=this.\u0275fac=function(F){return new(F||D)};static#t=this.\u0275mod=p.oAB({type:D});static#n=this.\u0275inj=p.cJS({})}return D})();const Eo="browser",Ko="server";function uo(D){return D===Eo}function To(D){return D===Ko}let Oo=(()=>{class D{static#e=this.\u0275prov=(0,p.Yz7)({token:D,providedIn:"root",factory:()=>new pr((0,p.LFG)(e),window)})}return D})();class pr{constructor(H,I){this.document=H,this.window=I,this.offset=()=>[0,0]}setOffset(H){this.offset=Array.isArray(H)?()=>H:H}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(H){this.supportsScrolling()&&this.window.scrollTo(H[0],H[1])}scrollToAnchor(H){if(!this.supportsScrolling())return;const I=function Jr(D,H){const I=D.getElementById(H)||D.getElementsByName(H)[0];if(I)return I;if("function"==typeof D.createTreeWalker&&D.body&&"function"==typeof D.body.attachShadow){const F=D.createTreeWalker(D.body,NodeFilter.SHOW_ELEMENT);let le=F.currentNode;for(;le;){const Xe=le.shadowRoot;if(Xe){const vt=Xe.getElementById(H)||Xe.querySelector(`[name="${H}"]`);if(vt)return vt}le=F.nextNode()}}return null}(this.document,H);I&&(this.scrollToElement(I),I.focus())}setHistoryScrollRestoration(H){this.supportsScrolling()&&(this.window.history.scrollRestoration=H)}scrollToElement(H){const I=H.getBoundingClientRect(),F=I.left+this.window.pageXOffset,le=I.top+this.window.pageYOffset,Xe=this.offset();this.window.scrollTo(F-Xe[0],le-Xe[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Yo{}},4860:(yt,ke,S)=>{"use strict";S.d(ke,{JF:()=>j,eN:()=>ce});var p=S(1699),J=S(4980),V=S(4683),te=S(2235),q=S(5616),e=S(4520),Q=S(9736),Le=S(7474),oe=S(1891),re=S(6575);class fe{}class ne{}class ge{constructor(ve){this.normalizedNames=new Map,this.lazyUpdate=null,ve?"string"==typeof ve?this.lazyInit=()=>{this.headers=new Map,ve.split("\n").forEach(Ae=>{const it=Ae.indexOf(":");if(it>0){const Ct=Ae.slice(0,it),xt=Ct.toLowerCase(),Nt=Ae.slice(it+1).trim();this.maybeSetNormalizedName(Ct,xt),this.headers.has(xt)?this.headers.get(xt).push(Nt):this.headers.set(xt,[Nt])}})}:typeof Headers<"u"&&ve instanceof Headers?(this.headers=new Map,ve.forEach((Ae,it)=>{this.setHeaderEntries(it,Ae)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(ve).forEach(([Ae,it])=>{this.setHeaderEntries(Ae,it)})}:this.headers=new Map}has(ve){return this.init(),this.headers.has(ve.toLowerCase())}get(ve){this.init();const Ae=this.headers.get(ve.toLowerCase());return Ae&&Ae.length>0?Ae[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ve){return this.init(),this.headers.get(ve.toLowerCase())||null}append(ve,Ae){return this.clone({name:ve,value:Ae,op:"a"})}set(ve,Ae){return this.clone({name:ve,value:Ae,op:"s"})}delete(ve,Ae){return this.clone({name:ve,value:Ae,op:"d"})}maybeSetNormalizedName(ve,Ae){this.normalizedNames.has(Ae)||this.normalizedNames.set(Ae,ve)}init(){this.lazyInit&&(this.lazyInit instanceof ge?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ve=>this.applyUpdate(ve)),this.lazyUpdate=null))}copyFrom(ve){ve.init(),Array.from(ve.headers.keys()).forEach(Ae=>{this.headers.set(Ae,ve.headers.get(Ae)),this.normalizedNames.set(Ae,ve.normalizedNames.get(Ae))})}clone(ve){const Ae=new ge;return Ae.lazyInit=this.lazyInit&&this.lazyInit instanceof ge?this.lazyInit:this,Ae.lazyUpdate=(this.lazyUpdate||[]).concat([ve]),Ae}applyUpdate(ve){const Ae=ve.name.toLowerCase();switch(ve.op){case"a":case"s":let it=ve.value;if("string"==typeof it&&(it=[it]),0===it.length)return;this.maybeSetNormalizedName(ve.name,Ae);const Ct=("a"===ve.op?this.headers.get(Ae):void 0)||[];Ct.push(...it),this.headers.set(Ae,Ct);break;case"d":const xt=ve.value;if(xt){let Nt=this.headers.get(Ae);if(!Nt)return;Nt=Nt.filter(Kt=>-1===xt.indexOf(Kt)),0===Nt.length?(this.headers.delete(Ae),this.normalizedNames.delete(Ae)):this.headers.set(Ae,Nt)}else this.headers.delete(Ae),this.normalizedNames.delete(Ae)}}setHeaderEntries(ve,Ae){const it=(Array.isArray(Ae)?Ae:[Ae]).map(xt=>xt.toString()),Ct=ve.toLowerCase();this.headers.set(Ct,it),this.maybeSetNormalizedName(ve,Ct)}forEach(ve){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ae=>ve(this.normalizedNames.get(Ae),this.headers.get(Ae)))}}class Se{encodeKey(ve){return et(ve)}encodeValue(ve){return et(ve)}decodeKey(ve){return decodeURIComponent(ve)}decodeValue(ve){return decodeURIComponent(ve)}}const ee=/%(\d[a-f0-9])/gi,Te={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function et(Ze){return encodeURIComponent(Ze).replace(ee,(ve,Ae)=>Te[Ae]??ve)}function nt(Ze){return`${Ze}`}class be{constructor(ve={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ve.encoder||new Se,ve.fromString){if(ve.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ze(Ze,ve){const Ae=new Map;return Ze.length>0&&Ze.replace(/^\?/,"").split("&").forEach(Ct=>{const xt=Ct.indexOf("="),[Nt,Kt]=-1==xt?[ve.decodeKey(Ct),""]:[ve.decodeKey(Ct.slice(0,xt)),ve.decodeValue(Ct.slice(xt+1))],an=Ae.get(Nt)||[];an.push(Kt),Ae.set(Nt,an)}),Ae}(ve.fromString,this.encoder)}else ve.fromObject?(this.map=new Map,Object.keys(ve.fromObject).forEach(Ae=>{const it=ve.fromObject[Ae],Ct=Array.isArray(it)?it.map(nt):[nt(it)];this.map.set(Ae,Ct)})):this.map=null}has(ve){return this.init(),this.map.has(ve)}get(ve){this.init();const Ae=this.map.get(ve);return Ae?Ae[0]:null}getAll(ve){return this.init(),this.map.get(ve)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ve,Ae){return this.clone({param:ve,value:Ae,op:"a"})}appendAll(ve){const Ae=[];return Object.keys(ve).forEach(it=>{const Ct=ve[it];Array.isArray(Ct)?Ct.forEach(xt=>{Ae.push({param:it,value:xt,op:"a"})}):Ae.push({param:it,value:Ct,op:"a"})}),this.clone(Ae)}set(ve,Ae){return this.clone({param:ve,value:Ae,op:"s"})}delete(ve,Ae){return this.clone({param:ve,value:Ae,op:"d"})}toString(){return this.init(),this.keys().map(ve=>{const Ae=this.encoder.encodeKey(ve);return this.map.get(ve).map(it=>Ae+"="+this.encoder.encodeValue(it)).join("&")}).filter(ve=>""!==ve).join("&")}clone(ve){const Ae=new be({encoder:this.encoder});return Ae.cloneFrom=this.cloneFrom||this,Ae.updates=(this.updates||[]).concat(ve),Ae}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ve=>this.map.set(ve,this.cloneFrom.map.get(ve))),this.updates.forEach(ve=>{switch(ve.op){case"a":case"s":const Ae=("a"===ve.op?this.map.get(ve.param):void 0)||[];Ae.push(nt(ve.value)),this.map.set(ve.param,Ae);break;case"d":if(void 0===ve.value){this.map.delete(ve.param);break}{let it=this.map.get(ve.param)||[];const Ct=it.indexOf(nt(ve.value));-1!==Ct&&it.splice(Ct,1),it.length>0?this.map.set(ve.param,it):this.map.delete(ve.param)}}}),this.cloneFrom=this.updates=null)}}class de{constructor(){this.map=new Map}set(ve,Ae){return this.map.set(ve,Ae),this}get(ve){return this.map.has(ve)||this.map.set(ve,ve.defaultValue()),this.map.get(ve)}delete(ve){return this.map.delete(ve),this}has(ve){return this.map.has(ve)}keys(){return this.map.keys()}}function Oe(Ze){return typeof ArrayBuffer<"u"&&Ze instanceof ArrayBuffer}function Pe(Ze){return typeof Blob<"u"&&Ze instanceof Blob}function $e(Ze){return typeof FormData<"u"&&Ze instanceof FormData}class ft{constructor(ve,Ae,it,Ct){let xt;if(this.url=Ae,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ve.toUpperCase(),function Ge(Ze){switch(Ze){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ct?(this.body=void 0!==it?it:null,xt=Ct):xt=it,xt&&(this.reportProgress=!!xt.reportProgress,this.withCredentials=!!xt.withCredentials,xt.responseType&&(this.responseType=xt.responseType),xt.headers&&(this.headers=xt.headers),xt.context&&(this.context=xt.context),xt.params&&(this.params=xt.params)),this.headers||(this.headers=new ge),this.context||(this.context=new de),this.params){const Nt=this.params.toString();if(0===Nt.length)this.urlWithParams=Ae;else{const Kt=Ae.indexOf("?");this.urlWithParams=Ae+(-1===Kt?"?":Kt<Ae.length-1?"&":"")+Nt}}else this.params=new be,this.urlWithParams=Ae}serializeBody(){return null===this.body?null:Oe(this.body)||Pe(this.body)||$e(this.body)||function He(Ze){return typeof URLSearchParams<"u"&&Ze instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof be?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||$e(this.body)?null:Pe(this.body)?this.body.type||null:Oe(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof be?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ve={}){const Ae=ve.method||this.method,it=ve.url||this.url,Ct=ve.responseType||this.responseType,xt=void 0!==ve.body?ve.body:this.body,Nt=void 0!==ve.withCredentials?ve.withCredentials:this.withCredentials,Kt=void 0!==ve.reportProgress?ve.reportProgress:this.reportProgress;let an=ve.headers||this.headers,yi=ve.params||this.params;const mn=ve.context??this.context;return void 0!==ve.setHeaders&&(an=Object.keys(ve.setHeaders).reduce((Vn,Jt)=>Vn.set(Jt,ve.setHeaders[Jt]),an)),ve.setParams&&(yi=Object.keys(ve.setParams).reduce((Vn,Jt)=>Vn.set(Jt,ve.setParams[Jt]),yi)),new ft(Ae,it,xt,{params:yi,headers:an,context:mn,reportProgress:Kt,responseType:Ct,withCredentials:Nt})}}var Fe=function(Ze){return Ze[Ze.Sent=0]="Sent",Ze[Ze.UploadProgress=1]="UploadProgress",Ze[Ze.ResponseHeader=2]="ResponseHeader",Ze[Ze.DownloadProgress=3]="DownloadProgress",Ze[Ze.Response=4]="Response",Ze[Ze.User=5]="User",Ze}(Fe||{});class Bt{constructor(ve,Ae=200,it="OK"){this.headers=ve.headers||new ge,this.status=void 0!==ve.status?ve.status:Ae,this.statusText=ve.statusText||it,this.url=ve.url||null,this.ok=this.status>=200&&this.status<300}}class ut extends Bt{constructor(ve={}){super(ve),this.type=Fe.ResponseHeader}clone(ve={}){return new ut({headers:ve.headers||this.headers,status:void 0!==ve.status?ve.status:this.status,statusText:ve.statusText||this.statusText,url:ve.url||this.url||void 0})}}class pt extends Bt{constructor(ve={}){super(ve),this.type=Fe.Response,this.body=void 0!==ve.body?ve.body:null}clone(ve={}){return new pt({body:void 0!==ve.body?ve.body:this.body,headers:ve.headers||this.headers,status:void 0!==ve.status?ve.status:this.status,statusText:ve.statusText||this.statusText,url:ve.url||this.url||void 0})}}class Re extends Bt{constructor(ve){super(ve,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ve.url||"(unknown url)"}`:`Http failure response for ${ve.url||"(unknown url)"}: ${ve.status} ${ve.statusText}`,this.error=ve.error||null}}function ct(Ze,ve){return{body:ve,headers:Ze.headers,context:Ze.context,observe:Ze.observe,params:Ze.params,reportProgress:Ze.reportProgress,responseType:Ze.responseType,withCredentials:Ze.withCredentials}}let ce=(()=>{class Ze{constructor(Ae){this.handler=Ae}request(Ae,it,Ct={}){let xt;if(Ae instanceof ft)xt=Ae;else{let an,yi;an=Ct.headers instanceof ge?Ct.headers:new ge(Ct.headers),Ct.params&&(yi=Ct.params instanceof be?Ct.params:new be({fromObject:Ct.params})),xt=new ft(Ae,it,void 0!==Ct.body?Ct.body:null,{headers:an,context:Ct.context,params:yi,reportProgress:Ct.reportProgress,responseType:Ct.responseType||"json",withCredentials:Ct.withCredentials})}const Nt=(0,J.of)(xt).pipe((0,q.b)(an=>this.handler.handle(an)));if(Ae instanceof ft||"events"===Ct.observe)return Nt;const Kt=Nt.pipe((0,e.h)(an=>an instanceof pt));switch(Ct.observe||"body"){case"body":switch(xt.responseType){case"arraybuffer":return Kt.pipe((0,Q.U)(an=>{if(null!==an.body&&!(an.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return an.body}));case"blob":return Kt.pipe((0,Q.U)(an=>{if(null!==an.body&&!(an.body instanceof Blob))throw new Error("Response is not a Blob.");return an.body}));case"text":return Kt.pipe((0,Q.U)(an=>{if(null!==an.body&&"string"!=typeof an.body)throw new Error("Response is not a string.");return an.body}));default:return Kt.pipe((0,Q.U)(an=>an.body))}case"response":return Kt;default:throw new Error(`Unreachable: unhandled observe type ${Ct.observe}}`)}}delete(Ae,it={}){return this.request("DELETE",Ae,it)}get(Ae,it={}){return this.request("GET",Ae,it)}head(Ae,it={}){return this.request("HEAD",Ae,it)}jsonp(Ae,it){return this.request("JSONP",Ae,{params:(new be).append(it,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ae,it={}){return this.request("OPTIONS",Ae,it)}patch(Ae,it,Ct={}){return this.request("PATCH",Ae,ct(Ct,it))}post(Ae,it,Ct={}){return this.request("POST",Ae,ct(Ct,it))}put(Ae,it,Ct={}){return this.request("PUT",Ae,ct(Ct,it))}static#e=this.\u0275fac=function(it){return new(it||Ze)(p.LFG(fe))};static#t=this.\u0275prov=p.Yz7({token:Ze,factory:Ze.\u0275fac})}return Ze})();function fn(Ze,ve){return ve(Ze)}function gt(Ze,ve){return(Ae,it)=>ve.intercept(Ae,{handle:Ct=>Ze(Ct,it)})}const zt=new p.OlP(""),St=new p.OlP(""),xn=new p.OlP("");function vn(){let Ze=null;return(ve,Ae)=>{null===Ze&&(Ze=((0,p.f3M)(zt,{optional:!0})??[]).reduceRight(gt,fn));const it=(0,p.f3M)(p.HDt),Ct=it.add();return Ze(ve,Ae).pipe((0,Le.x)(()=>it.remove(Ct)))}}let me=(()=>{class Ze extends fe{constructor(Ae,it){super(),this.backend=Ae,this.injector=it,this.chain=null,this.pendingTasks=(0,p.f3M)(p.HDt)}handle(Ae){if(null===this.chain){const Ct=Array.from(new Set([...this.injector.get(St),...this.injector.get(xn,[])]));this.chain=Ct.reduceRight((xt,Nt)=>function cn(Ze,ve,Ae){return(it,Ct)=>Ae.runInContext(()=>ve(it,xt=>Ze(xt,Ct)))}(xt,Nt,this.injector),fn)}const it=this.pendingTasks.add();return this.chain(Ae,Ct=>this.backend.handle(Ct)).pipe((0,Le.x)(()=>this.pendingTasks.remove(it)))}static#e=this.\u0275fac=function(it){return new(it||Ze)(p.LFG(ne),p.LFG(p.lqb))};static#t=this.\u0275prov=p.Yz7({token:Ze,factory:Ze.\u0275fac})}return Ze})();const ui=/^\)\]\}',?\n/;let qt=(()=>{class Ze{constructor(Ae){this.xhrFactory=Ae}handle(Ae){if("JSONP"===Ae.method)throw new p.vHH(-2800,!1);const it=this.xhrFactory;return(it.\u0275loadImpl?(0,V.D)(it.\u0275loadImpl()):(0,J.of)(null)).pipe((0,oe.w)(()=>new te.y(xt=>{const Nt=it.build();if(Nt.open(Ae.method,Ae.urlWithParams),Ae.withCredentials&&(Nt.withCredentials=!0),Ae.headers.forEach((un,Pn)=>Nt.setRequestHeader(un,Pn.join(","))),Ae.headers.has("Accept")||Nt.setRequestHeader("Accept","application/json, text/plain, */*"),!Ae.headers.has("Content-Type")){const un=Ae.detectContentTypeHeader();null!==un&&Nt.setRequestHeader("Content-Type",un)}if(Ae.responseType){const un=Ae.responseType.toLowerCase();Nt.responseType="json"!==un?un:"text"}const Kt=Ae.serializeBody();let an=null;const yi=()=>{if(null!==an)return an;const un=Nt.statusText||"OK",Pn=new ge(Nt.getAllResponseHeaders()),ei=function sn(Ze){return"responseURL"in Ze&&Ze.responseURL?Ze.responseURL:/^X-Request-URL:/m.test(Ze.getAllResponseHeaders())?Ze.getResponseHeader("X-Request-URL"):null}(Nt)||Ae.url;return an=new ut({headers:Pn,status:Nt.status,statusText:un,url:ei}),an},mn=()=>{let{headers:un,status:Pn,statusText:ei,url:Ii}=yi(),Yt=null;204!==Pn&&(Yt=typeof Nt.response>"u"?Nt.responseText:Nt.response),0===Pn&&(Pn=Yt?200:0);let Cn=Pn>=200&&Pn<300;if("json"===Ae.responseType&&"string"==typeof Yt){const Oi=Yt;Yt=Yt.replace(ui,"");try{Yt=""!==Yt?JSON.parse(Yt):null}catch(Si){Yt=Oi,Cn&&(Cn=!1,Yt={error:Si,text:Yt})}}Cn?(xt.next(new pt({body:Yt,headers:un,status:Pn,statusText:ei,url:Ii||void 0})),xt.complete()):xt.error(new Re({error:Yt,headers:un,status:Pn,statusText:ei,url:Ii||void 0}))},Vn=un=>{const{url:Pn}=yi(),ei=new Re({error:un,status:Nt.status||0,statusText:Nt.statusText||"Unknown Error",url:Pn||void 0});xt.error(ei)};let Jt=!1;const Un=un=>{Jt||(xt.next(yi()),Jt=!0);let Pn={type:Fe.DownloadProgress,loaded:un.loaded};un.lengthComputable&&(Pn.total=un.total),"text"===Ae.responseType&&Nt.responseText&&(Pn.partialText=Nt.responseText),xt.next(Pn)},oi=un=>{let Pn={type:Fe.UploadProgress,loaded:un.loaded};un.lengthComputable&&(Pn.total=un.total),xt.next(Pn)};return Nt.addEventListener("load",mn),Nt.addEventListener("error",Vn),Nt.addEventListener("timeout",Vn),Nt.addEventListener("abort",Vn),Ae.reportProgress&&(Nt.addEventListener("progress",Un),null!==Kt&&Nt.upload&&Nt.upload.addEventListener("progress",oi)),Nt.send(Kt),xt.next({type:Fe.Sent}),()=>{Nt.removeEventListener("error",Vn),Nt.removeEventListener("abort",Vn),Nt.removeEventListener("load",mn),Nt.removeEventListener("timeout",Vn),Ae.reportProgress&&(Nt.removeEventListener("progress",Un),null!==Kt&&Nt.upload&&Nt.upload.removeEventListener("progress",oi)),Nt.readyState!==Nt.DONE&&Nt.abort()}})))}static#e=this.\u0275fac=function(it){return new(it||Ze)(p.LFG(re.JF))};static#t=this.\u0275prov=p.Yz7({token:Ze,factory:Ze.\u0275fac})}return Ze})();const Hn=new p.OlP("XSRF_ENABLED"),Dn=new p.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),gn=new p.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Ri{}let Ti=(()=>{class Ze{constructor(Ae,it,Ct){this.doc=Ae,this.platform=it,this.cookieName=Ct,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ae=this.doc.cookie||"";return Ae!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,re.Mx)(Ae,this.cookieName),this.lastCookieString=Ae),this.lastToken}static#e=this.\u0275fac=function(it){return new(it||Ze)(p.LFG(re.K0),p.LFG(p.Lbi),p.LFG(Dn))};static#t=this.\u0275prov=p.Yz7({token:Ze,factory:Ze.\u0275fac})}return Ze})();function Zi(Ze,ve){const Ae=Ze.url.toLowerCase();if(!(0,p.f3M)(Hn)||"GET"===Ze.method||"HEAD"===Ze.method||Ae.startsWith("http://")||Ae.startsWith("https://"))return ve(Ze);const it=(0,p.f3M)(Ri).getToken(),Ct=(0,p.f3M)(gn);return null!=it&&!Ze.headers.has(Ct)&&(Ze=Ze.clone({headers:Ze.headers.set(Ct,it)})),ve(Ze)}var jn=function(Ze){return Ze[Ze.Interceptors=0]="Interceptors",Ze[Ze.LegacyInterceptors=1]="LegacyInterceptors",Ze[Ze.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ze[Ze.NoXsrfProtection=3]="NoXsrfProtection",Ze[Ze.JsonpSupport=4]="JsonpSupport",Ze[Ze.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ze[Ze.Fetch=6]="Fetch",Ze}(jn||{});function In(...Ze){const ve=[ce,qt,me,{provide:fe,useExisting:me},{provide:ne,useExisting:qt},{provide:St,useValue:Zi,multi:!0},{provide:Hn,useValue:!0},{provide:Ri,useClass:Ti}];for(const Ae of Ze)ve.push(...Ae.\u0275providers);return(0,p.MR2)(ve)}const Li=new p.OlP("LEGACY_INTERCEPTOR_FN");function Ji(){return function qn(Ze,ve){return{\u0275kind:Ze,\u0275providers:ve}}(jn.LegacyInterceptors,[{provide:Li,useFactory:vn},{provide:St,useExisting:Li,multi:!0}])}let j=(()=>{class Ze{static#e=this.\u0275fac=function(it){return new(it||Ze)};static#t=this.\u0275mod=p.oAB({type:Ze});static#n=this.\u0275inj=p.cJS({providers:[In(Ji())]})}return Ze})()},1699:(yt,ke,S)=>{"use strict";S.d(ke,{$8M:()=>Hc,$WT:()=>Ni,$Z:()=>xp,AFp:()=>Wf,ALo:()=>uD,AaK:()=>ne,AsE:()=>Ah,BQk:()=>yu,CHM:()=>yo,CRH:()=>SD,DdM:()=>tD,EJc:()=>jE,EiD:()=>Hf,EpF:()=>Cg,F$t:()=>Sg,F4k:()=>wg,FYo:()=>ip,FiY:()=>ta,Gf:()=>TD,GfV:()=>mc,GkF:()=>mh,Gpc:()=>Se,HDt:()=>JD,Hsn:()=>Ag,Ikx:()=>ss,JOm:()=>qc,JVY:()=>D_,JZr:()=>nt,Jf7:()=>gp,KtG:()=>Sa,L6k:()=>C_,LAX:()=>E_,LFG:()=>at,LMc:()=>XT,LSH:()=>bd,Lbi:()=>Md,Lck:()=>Nw,MAs:()=>yg,MGl:()=>bu,MMx:()=>Yb,MR2:()=>Cd,NdJ:()=>vh,Ojb:()=>Y_,OlP:()=>ki,Oqu:()=>Sh,P3R:()=>Vf,PXZ:()=>gT,Q6J:()=>fh,QGY:()=>_h,Qsj:()=>av,R0b:()=>ir,RDi:()=>Z1,Rgc:()=>Zh,SBq:()=>gc,SDv:()=>Hb,Sil:()=>$E,Suo:()=>MD,TTD:()=>$n,TgZ:()=>mu,Tol:()=>zg,Udp:()=>Th,VKq:()=>nD,VuI:()=>QT,W1O:()=>OD,WLB:()=>iD,X6Q:()=>wT,XFs:()=>Lt,Xpm:()=>Gt,Xq5:()=>ig,Xts:()=>tl,Y36:()=>yc,YKP:()=>$b,YNc:()=>mg,Yjl:()=>hr,Yz7:()=>zt,Z0I:()=>me,ZZ4:()=>Xy,_Bn:()=>zb,_UZ:()=>gh,_c5:()=>UT,_uU:()=>Jg,aQg:()=>e1,c2e:()=>WD,cJS:()=>xn,cg1:()=>aa,dDg:()=>dT,dqk:()=>qt,eBb:()=>w_,eFA:()=>sC,eJc:()=>Ly,ekj:()=>Mh,eoX:()=>nC,f3M:()=>At,g9A:()=>Jf,h0i:()=>ml,hGG:()=>ZT,hij:()=>wu,iGM:()=>ED,ifc:()=>xt,ip1:()=>qD,jDz:()=>qb,kEZ:()=>oD,kL8:()=>Eu,lG2:()=>wo,lcZ:()=>dD,lqb:()=>zs,lri:()=>eC,mCW:()=>$l,n5z:()=>ef,oAB:()=>Di,oJD:()=>jf,oxw:()=>bh,pB0:()=>Pf,q3G:()=>Fa,qFp:()=>eM,qLn:()=>va,qOj:()=>au,qZA:()=>_u,qzn:()=>Vs,rWj:()=>tC,rg0:()=>le,s9C:()=>Dh,sBO:()=>ET,s_b:()=>_m,soG:()=>ym,tb:()=>Yy,tp0:()=>ga,uIk:()=>rh,vHH:()=>be,vpe:()=>Gs,wAp:()=>Fs,xi3:()=>hD,xp6:()=>$d,ynx:()=>vu,z2F:()=>Iu,z3N:()=>na,zSh:()=>Dr,zW0:()=>ih,zs3:()=>Ns});var p=S(9877),J=S(6482),V=S(2235),te=S(7835),q=S(8071),e=S(4980),Q=S(5584),Le=S(1891),oe=S(3317);function re(t){for(let i in t)if(t[i]===re)return i;throw Error("Could not find renamed property on target object.")}function fe(t,i){for(const o in i)i.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=i[o])}function ne(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ne).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const i=t.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function ge(t,i){return null==t||""===t?null===i?"":i:null==i||""===i?t:t+" "+i}const De=re({__forward_ref__:re});function Se(t){return t.__forward_ref__=Se,t.toString=function(){return ne(this())},t}function ze(t){return ee(t)?t():t}function ee(t){return"function"==typeof t&&t.hasOwnProperty(De)&&t.__forward_ref__===Se}function Te(t){return t&&!!t.\u0275providers}const nt="https://g.co/ng/security#xss";class be extends Error{constructor(i,o){super(function pe(t,i){return`NG0${Math.abs(t)}${i?": "+i:""}`}(i,o)),this.code=i}}function de(t){return"string"==typeof t?t:null==t?"":String(t)}function He(t,i){throw new be(-201,!1)}function ot(t,i,o,c){throw new Error(`ASSERTION ERROR: ${t}`+(null==c?"":` [Expected=> ${o} ${c} ${i} <=Actual]`))}function zt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function xn(t){return{providers:t.providers||[],imports:t.imports||[]}}function vn(t){return _e(t,_t)||_e(t,pn)}function me(t){return null!==vn(t)}function _e(t,i){return t.hasOwnProperty(i)?t[i]:null}function Qe(t){return t&&(t.hasOwnProperty(Rt)||t.hasOwnProperty(ln))?t[Rt]:null}const _t=re({\u0275prov:re}),Rt=re({\u0275inj:re}),pn=re({ngInjectableDef:re}),ln=re({ngInjectorDef:re});var Lt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Lt||{});let Mt;function Rn(t){const i=Mt;return Mt=t,i}function ui(t,i,o){const c=vn(t);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:o&Lt.Optional?null:void 0!==i?i:void He(ne(t))}const qt=globalThis,Li={},Ji="__NG_DI_FLAG__",zi="ngTempTokenPath",Zo=/\n/gm,We="__source";let ue;function se(t){const i=ue;return ue=t,i}function Ue(t,i=Lt.Default){if(void 0===ue)throw new be(-203,!1);return null===ue?ui(t,void 0,i):ue.get(t,i&Lt.Optional?null:void 0,i)}function at(t,i=Lt.Default){return(function Ot(){return Mt}()||Ue)(ze(t),i)}function At(t,i=Lt.Default){return at(t,Wt(i))}function Wt(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ln(t){const i=[];for(let o=0;o<t.length;o++){const c=ze(t[o]);if(Array.isArray(c)){if(0===c.length)throw new be(900,!1);let u,h=Lt.Default;for(let m=0;m<c.length;m++){const y=c[m],w=Ze(y);"number"==typeof w?-1===w?u=y.token:h|=w:u=y}i.push(at(u,h))}else i.push(at(c))}return i}function Bn(t,i){return t[Ji]=i,t.prototype[Ji]=i,t}function Ze(t){return t[Ji]}function it(t){return{toString:t}.toString()}var Ct=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Ct||{}),xt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(xt||{});const Nt={},Kt=[],an=re({\u0275cmp:re}),yi=re({\u0275dir:re}),mn=re({\u0275pipe:re}),Vn=re({\u0275mod:re}),Jt=re({\u0275fac:re}),Un=re({__NG_ELEMENT_ID__:re}),oi=re({__NG_ENV_ID__:re});function un(t,i,o){let c=t.length;for(;;){const u=t.indexOf(i,o);if(-1===u)return u;if(0===u||t.charCodeAt(u-1)<=32){const h=i.length;if(u+h===c||t.charCodeAt(u+h)<=32)return u}o=u+1}}function Pn(t,i,o){let c=0;for(;c<o.length;){const u=o[c];if("number"==typeof u){if(0!==u)break;c++;const h=o[c++],m=o[c++],y=o[c++];t.setAttribute(i,m,y,h)}else{const h=u,m=o[++c];Ii(h)?t.setProperty(i,h,m):t.setAttribute(i,h,m),c++}}return c}function ei(t){return 3===t||4===t||6===t}function Ii(t){return 64===t.charCodeAt(0)}function Yt(t,i){if(null!==i&&0!==i.length)if(null===t||0===t.length)t=i.slice();else{let o=-1;for(let c=0;c<i.length;c++){const u=i[c];"number"==typeof u?o=u:0===o||Cn(t,o,u,null,-1===o||2===o?i[++c]:null)}}return t}function Cn(t,i,o,c,u){let h=0,m=t.length;if(-1===i)m=-1;else for(;h<t.length;){const y=t[h++];if("number"==typeof y){if(y===i){m=-1;break}if(y>i){m=h-1;break}}}for(;h<t.length;){const y=t[h];if("number"==typeof y)break;if(y===o){if(null===c)return void(null!==u&&(t[h+1]=u));if(c===t[h+1])return void(t[h+2]=u)}h++,null!==c&&h++,null!==u&&h++}-1!==m&&(t.splice(m,0,i),h=m+1),t.splice(h++,0,o),null!==c&&t.splice(h++,0,c),null!==u&&t.splice(h++,0,u)}const Oi="ng-template";function Si(t,i,o){let c=0,u=!0;for(;c<t.length;){let h=t[c++];if("string"==typeof h&&u){const m=t[c++];if(o&&"class"===h&&-1!==un(m.toLowerCase(),i,0))return!0}else{if(1===h){for(;c<t.length&&"string"==typeof(h=t[c++]);)if(h.toLowerCase()===i)return!0;return!1}"number"==typeof h&&(u=!1)}}return!1}function vi(t){return 4===t.type&&t.value!==Oi}function oo(t,i,o){return i===(4!==t.type||o?t.value:Oi)}function wn(t,i,o){let c=4;const u=t.attrs||[],h=function Cs(t){for(let i=0;i<t.length;i++)if(ei(t[i]))return i;return t.length}(u);let m=!1;for(let y=0;y<i.length;y++){const w=i[y];if("number"!=typeof w){if(!m)if(4&c){if(c=2|1&c,""!==w&&!oo(t,w,o)||""===w&&1===i.length){if(Tn(c))return!1;m=!0}}else{const N=8&c?w:i[++y];if(8&c&&null!==t.attrs){if(!Si(t.attrs,N,o)){if(Tn(c))return!1;m=!0}continue}const ie=$i(8&c?"class":w,u,vi(t),o);if(-1===ie){if(Tn(c))return!1;m=!0;continue}if(""!==N){let Be;Be=ie>h?"":u[ie+1].toLowerCase();const qe=8&c?Be:null;if(qe&&-1!==un(qe,N,0)||2&c&&N!==Be){if(Tn(c))return!1;m=!0}}}}else{if(!m&&!Tn(c)&&!Tn(w))return!1;if(m&&Tn(w))continue;m=!1,c=w|1&c}}return Tn(c)||m}function Tn(t){return 0==(1&t)}function $i(t,i,o,c){if(null===i)return-1;let u=0;if(c||!o){let h=!1;for(;u<i.length;){const m=i[u];if(m===t)return u;if(3===m||6===m)h=!0;else{if(1===m||2===m){let y=i[++u];for(;"string"==typeof y;)y=i[++u];continue}if(4===m)break;if(0===m){u+=4;continue}}u+=h?1:2}return-1}return function Jo(t,i){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const c=t[o];if("number"==typeof c)return-1;if(c===i)return o;o++}return-1}(i,t)}function Co(t,i,o=!1){for(let c=0;c<i.length;c++)if(wn(t,i[c],o))return!0;return!1}function Ho(t,i){e:for(let o=0;o<i.length;o++){const c=i[o];if(t.length===c.length){for(let u=0;u<t.length;u++)if(t[u]!==c[u])continue e;return!0}}return!1}function di(t,i){return t?":not("+i.trim()+")":i}function Je(t){let i=t[0],o=1,c=2,u="",h=!1;for(;o<t.length;){let m=t[o];if("string"==typeof m)if(2&c){const y=t[++o];u+="["+m+(y.length>0?'="'+y+'"':"")+"]"}else 8&c?u+="."+m:4&c&&(u+=" "+m);else""!==u&&!Tn(m)&&(i+=di(h,u),u=""),c=m,h=h||!Tn(c);o++}return""!==u&&(i+=di(h,u)),i}function Gt(t){return it(()=>{const i=fr(t),o={...i,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ct.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||xt.Emulated,styles:t.styles||Kt,_:null,schemas:t.schemas||null,tView:null,id:""};Tr(o);const c=t.dependencies;return o.directiveDefs=_o(c,!1),o.pipeDefs=_o(c,!0),o.id=function Qo(t){let i=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const u of o)i=Math.imul(31,i)+u.charCodeAt(0)<<0;return i+=2147483648,"c"+i}(o),o})}function Wn(t){return On(t)||Bi(t)}function Jn(t){return null!==t}function Di(t){return it(()=>({type:t.type,bootstrap:t.bootstrap||Kt,declarations:t.declarations||Kt,imports:t.imports||Kt,exports:t.exports||Kt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Io(t,i){if(null==t)return Nt;const o={};for(const c in t)if(t.hasOwnProperty(c)){let u=t[c],h=u;Array.isArray(u)&&(h=u[1],u=u[0]),o[u]=c,i&&(i[u]=h)}return o}function wo(t){return it(()=>{const i=fr(t);return Tr(i),i})}function hr(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function On(t){return t[an]||null}function Bi(t){return t[yi]||null}function Xt(t){return t[mn]||null}function Ni(t){const i=On(t)||Bi(t)||Xt(t);return null!==i&&i.standalone}function kn(t,i){const o=t[Vn]||null;if(!o&&!0===i)throw new Error(`Type ${ne(t)} does not have '\u0275mod' property.`);return o}function fr(t){const i={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:i,inputTransforms:null,inputConfig:t.inputs||Nt,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Kt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Io(t.inputs,i),outputs:Io(t.outputs)}}function Tr(t){t.features?.forEach(i=>i(t))}function _o(t,i){if(!t)return null;const o=i?Xt:Wn;return()=>("function"==typeof t?t():t).map(c=>o(c)).filter(Jn)}const hi=0,$t=1,on=2,ai=3,ro=4,Go=5,Hi=6,Mr=7,Ci=8,Eo=9,Ko=10,Vt=11,Sr=12,uo=13,To=14,Ai=15,Vo=16,rr=17,Oo=18,pr=19,Jr=20,Ar=21,Yo=22,Fr=23,ho=24,Qn=25,No=1,gr=2,so=7,Lr=9,co=11;function Po(t){return Array.isArray(t)&&"object"==typeof t[No]}function Qi(t){return Array.isArray(t)&&!0===t[No]}function sr(t){return 0!=(4&t.flags)}function ar(t){return t.componentOffset>-1}function mr(t){return 1==(1&t.flags)}function fo(t){return!!t.template}function Ro(t){return 0!=(512&t[on])}function Zr(t,i){return t.hasOwnProperty(Jt)?t[Jt]:null}let Yi=null,Es=!1;function Mi(t){const i=Yi;return Yi=t,i}const Ts={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Js(t){if(!Xo(t)||t.dirty){if(!t.producerMustRecompute(t)&&!fs(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Hr(t){t.dirty=!0,function cr(t){if(void 0===t.liveConsumerNode)return;const i=Es;Es=!0;try{for(const o of t.liveConsumerNode)o.dirty||Hr(o)}finally{Es=i}}(t),t.consumerMarkedDirty?.(t)}function Xr(t){return t&&(t.nextProducerIndex=0),Mi(t)}function jr(t,i){if(Mi(i),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Xo(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)Vr(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function fs(t){vr(t);for(let i=0;i<t.producerNode.length;i++){const o=t.producerNode[i],c=t.producerLastReadVersion[i];if(c!==o.version||(Js(o),c!==o.version))return!0}return!1}function ps(t){if(vr(t),Xo(t))for(let i=0;i<t.producerNode.length;i++)Vr(t.producerNode[i],t.producerIndexOfThis[i]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Vr(t,i){if(function Us(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),vr(t),1===t.liveConsumerNode.length)for(let c=0;c<t.producerNode.length;c++)Vr(t.producerNode[c],t.producerIndexOfThis[c]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[i]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[i]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,i<t.liveConsumerNode.length){const c=t.liveConsumerIndexOfThis[i],u=t.liveConsumerNode[i];vr(u),u.producerIndexOfThis[c]=i}}function Xo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function vr(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let er=null;function le(t){const i=Mi(null);try{return t()}finally{Mi(i)}}const vt=()=>{},tn=(()=>({...Ts,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:vt}))();class bi{constructor(i,o,c){this.previousValue=i,this.currentValue=o,this.firstChange=c}isFirstChange(){return this.firstChange}}function $n(){return Mn}function Mn(t){return t.type.prototype.ngOnChanges&&(t.setInput=wi),ji}function ji(){const t=lr(this),i=t?.current;if(i){const o=t.previous;if(o===Nt)t.previous=i;else for(let c in i)o[c]=i[c];t.current=null,this.ngOnChanges(i)}}function wi(t,i,o,c){const u=this.declaredInputs[o],h=lr(t)||function tr(t,i){return t[Vi]=i}(t,{previous:Nt,current:null}),m=h.current||(h.current={}),y=h.previous,w=y[u];m[u]=new bi(w&&w.currentValue,i,y===Nt),t[c]=i}$n.ngInherit=!0;const Vi="__ngSimpleChanges__";function lr(t){return t[Vi]||null}const Xi=function(t,i,o){};function Ei(t){for(;Array.isArray(t);)t=t[hi];return t}function s(t,i){return Ei(i[t])}function d(t,i){return Ei(i[t.index])}function C(t,i){return t.data[i]}function O(t,i){return t[i]}function $(t,i){const o=i[t];return Po(o)?o:o[hi]}function wt(t,i){return null==i?null:t[i]}function Ht(t){t[rr]=0}function An(t){1024&t[on]||(t[on]|=1024,pi(t,1))}function Zn(t){1024&t[on]&&(t[on]&=-1025,pi(t,-1))}function pi(t,i){let o=t[ai];if(null===o)return;o[Go]+=i;let c=o;for(o=o[ai];null!==o&&(1===i&&1===c[Go]||-1===i&&0===c[Go]);)o[Go]+=i,c=o,o=o[ai]}const nn={lFrame:qi(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ne(){return nn.bindingsEnabled}function mt(){return null!==nn.skipHydrationRootTNode}function Et(){return nn.lFrame.lView}function Kn(){return nn.lFrame.tView}function yo(t){return nn.lFrame.contextLView=t,t[Ci]}function Sa(t){return nn.lFrame.contextLView=null,t}function eo(){let t=Xs();for(;null!==t&&64===t.type;)t=t.parent;return t}function Xs(){return nn.lFrame.currentTNode}function $r(){const t=nn.lFrame,i=t.currentTNode;return t.isParent?i:i.parent}function yr(t,i){const o=nn.lFrame;o.currentTNode=t,o.isParent=i}function Rc(){return nn.lFrame.isParent}function Aa(){nn.lFrame.isParent=!1}function br(){const t=nn.lFrame;let i=t.bindingRootIndex;return-1===i&&(i=t.bindingRootIndex=t.tView.bindingStartIndex),i}function xa(){return nn.lFrame.bindingIndex++}function As(t){const i=nn.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+t,o}function b(t){nn.lFrame.inI18n=t}function E(t,i){const o=nn.lFrame;o.bindingIndex=o.bindingRootIndex=t,T(i)}function T(t){nn.lFrame.currentDirectiveIndex=t}function G(){return nn.lFrame.currentQueryIndex}function ae(t){nn.lFrame.currentQueryIndex=t}function st(t){const i=t[$t];return 2===i.type?i.declTNode:1===i.type?t[Hi]:null}function tt(t,i,o){if(o&Lt.SkipSelf){let u=i,h=t;for(;!(u=u.parent,null!==u||o&Lt.Host||(u=st(h),null===u||(h=h[To],10&u.type))););if(null===u)return!1;i=u,t=h}const c=nn.lFrame=Gn();return c.currentTNode=i,c.lView=t,!0}function Qt(t){const i=Gn(),o=t[$t];nn.lFrame=i,i.currentTNode=o.firstChild,i.lView=t,i.tView=o,i.contextLView=t,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function Gn(){const t=nn.lFrame,i=null===t?null:t.child;return null===i?qi(t):i}function qi(t){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=i),i}function mi(){const t=nn.lFrame;return nn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ns=mi;function Zs(){const t=mi();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Bo(){return nn.lFrame.selectedIndex}function ha(t){nn.lFrame.selectedIndex=t}function Ao(){const t=nn.lFrame;return C(t.tView,t.selectedIndex)}let ku=!0;function xo(){return ku}function is(t){ku=t}function Dl(t,i){for(let o=i.directiveStart,c=i.directiveEnd;o<c;o++){const h=t.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:y,ngAfterViewInit:w,ngAfterViewChecked:N,ngOnDestroy:z}=h;m&&(t.contentHooks??=[]).push(-o,m),y&&((t.contentHooks??=[]).push(o,y),(t.contentCheckHooks??=[]).push(o,y)),w&&(t.viewHooks??=[]).push(-o,w),N&&((t.viewHooks??=[]).push(o,N),(t.viewCheckHooks??=[]).push(o,N)),null!=z&&(t.destroyHooks??=[]).push(o,z)}}function Cl(t,i,o){$h(t,i,3,o)}function Ia(t,i,o,c){(3&t[on])===o&&$h(t,i,o,c)}function Fc(t,i){let o=t[on];(3&o)===i&&(o&=8191,o+=1,t[on]=o)}function $h(t,i,o,c){const h=c??-1,m=i.length-1;let y=0;for(let w=void 0!==c?65535&t[rr]:0;w<m;w++)if("number"==typeof i[w+1]){if(y=i[w],null!=c&&y>=c)break}else i[w]<0&&(t[rr]+=65536),(y<h||-1==h)&&(Mm(t,o,i,w),t[rr]=(4294901760&t[rr])+w+2),w++}function Gh(t,i){Xi(4,t,i);const o=Mi(null);try{i.call(t)}finally{Mi(o),Xi(5,t,i)}}function Mm(t,i,o,c){const u=o[c]<0,h=o[c+1],y=t[u?-o[c]:o[c]];u?t[on]>>13<t[rr]>>16&&(3&t[on])===i&&(t[on]+=8192,Gh(y,h)):Gh(y,h)}const Ka=-1;class Lc{constructor(i,o,c){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=c}}function ea(t){return t!==Ka}function Bc(t){return 32767&t}function fa(t,i){let o=function Ru(t){return t>>16}(t),c=i;for(;o>0;)c=c[To],o--;return c}let Fu=!0;function Tl(t){const i=Fu;return Fu=t,i}const Wi=255,Yh=5;let Lu=0;const Hs={};function Ml(t,i){const o=Uu(t,i);if(-1!==o)return o;const c=i[$t];c.firstCreatePass&&(t.injectorIndex=i.length,Sl(c.data,t),Sl(i,null),Sl(c.blueprint,null));const u=Xa(t,i),h=t.injectorIndex;if(ea(u)){const m=Bc(u),y=fa(u,i),w=y[$t].data;for(let N=0;N<8;N++)i[h+N]=y[m+N]|w[m+N]}return i[h+8]=u,h}function Sl(t,i){t.push(0,0,0,0,0,0,0,0,i)}function Uu(t,i){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===i[t.injectorIndex+8]?-1:t.injectorIndex}function Xa(t,i){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,c=null,u=i;for(;null!==u;){if(c=ju(u),null===c)return Ka;if(o++,u=u[To],-1!==c.injectorIndex)return c.injectorIndex|o<<16}return Ka}function ec(t,i,o){!function Bu(t,i,o){let c;"string"==typeof o?c=o.charCodeAt(0)||0:o.hasOwnProperty(Un)&&(c=o[Un]),null==c&&(c=o[Un]=Lu++);const u=c&Wi;i.data[t+(u>>Yh)]|=1<<u}(t,i,o)}function Wh(t,i,o){if(o&Lt.Optional||void 0!==t)return t;He()}function Jh(t,i,o,c){if(o&Lt.Optional&&void 0===c&&(c=null),!(o&(Lt.Self|Lt.Host))){const u=t[Eo],h=Rn(void 0);try{return u?u.get(i,c,o&Lt.Optional):ui(i,c,o&Lt.Optional)}finally{Rn(h)}}return Wh(c,0,o)}function Al(t,i,o,c=Lt.Default,u){if(null!==t){if(2048&i[on]&&!(c&Lt.Self)){const m=function tf(t,i,o,c,u){let h=t,m=i;for(;null!==h&&null!==m&&2048&m[on]&&!(512&m[on]);){const y=Zu(h,m,o,c|Lt.Self,Hs);if(y!==Hs)return y;let w=h.parent;if(!w){const N=m[Jr];if(N){const z=N.get(o,Hs,c);if(z!==Hs)return z}w=ju(m),m=m[To]}h=w}return u}(t,i,o,c,Hs);if(m!==Hs)return m}const h=Zu(t,i,o,c,Hs);if(h!==Hs)return h}return Jh(i,o,c,u)}function Zu(t,i,o,c,u){const h=function xm(t){if("string"==typeof t)return t.charCodeAt(0)||0;const i=t.hasOwnProperty(Un)?t[Un]:void 0;return"number"==typeof i?i>=0?i&Wi:Om:i}(o);if("function"==typeof h){if(!tt(i,t,c))return c&Lt.Host?Wh(u,0,c):Jh(i,o,c,u);try{let m;if(m=h(c),null!=m||c&Lt.Optional)return m;He()}finally{ns()}}else if("number"==typeof h){let m=null,y=Uu(t,i),w=Ka,N=c&Lt.Host?i[Ai][Hi]:null;for((-1===y||c&Lt.SkipSelf)&&(w=-1===y?Xa(t,i):i[y+8],w!==Ka&&Xh(c,!1)?(m=i[$t],y=Bc(w),i=fa(w,i)):y=-1);-1!==y;){const z=i[$t];if(Kh(h,y,z.data)){const ie=Qh(y,i,o,m,c,N);if(ie!==Hs)return ie}w=i[y+8],w!==Ka&&Xh(c,i[$t].data[y+8]===N)&&Kh(h,y,i)?(m=z,y=Bc(w),i=fa(w,i)):y=-1}}return u}function Qh(t,i,o,c,u,h){const m=i[$t],y=m.data[t+8],z=Uc(y,m,o,null==c?ar(y)&&Fu:c!=m&&0!=(3&y.type),u&Lt.Host&&h===y);return null!==z?Oa(i,m,z,y):Hs}function Uc(t,i,o,c,u){const h=t.providerIndexes,m=i.data,y=1048575&h,w=t.directiveStart,z=h>>20,Be=u?y+z:t.directiveEnd;for(let qe=c?y:y+z;qe<Be;qe++){const bt=m[qe];if(qe<w&&o===bt||qe>=w&&bt.type===o)return qe}if(u){const qe=m[w];if(qe&&fo(qe)&&qe.type===o)return w}return null}function Oa(t,i,o,c){let u=t[o];const h=i.data;if(function Sm(t){return t instanceof Lc}(u)){const m=u;m.resolving&&function Oe(t,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${t}`:"";throw new be(-200,`Circular dependency in DI detected for ${t}${o}`)}(function Ge(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():de(t)}(h[o]));const y=Tl(m.canSeeViewProviders);m.resolving=!0;const N=m.injectImpl?Rn(m.injectImpl):null;tt(t,c,Lt.Default);try{u=t[o]=m.factory(void 0,h,t,c),i.firstCreatePass&&o>=c.directiveStart&&function zh(t,i,o){const{ngOnChanges:c,ngOnInit:u,ngDoCheck:h}=i.type.prototype;if(c){const m=Mn(i);(o.preOrderHooks??=[]).push(t,m),(o.preOrderCheckHooks??=[]).push(t,m)}u&&(o.preOrderHooks??=[]).push(0-t,u),h&&((o.preOrderHooks??=[]).push(t,h),(o.preOrderCheckHooks??=[]).push(t,h))}(o,h[o],i)}finally{null!==N&&Rn(N),Tl(y),m.resolving=!1,ns()}}return u}function Kh(t,i,o){return!!(o[i+(t>>Yh)]&1<<t)}function Xh(t,i){return!(t&Lt.Self||t&Lt.Host&&i)}class Pr{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,c){return Al(this._tNode,this._lView,i,Wt(c),o)}}function Om(){return new Pr(eo(),Et())}function ef(t){return it(()=>{const i=t.prototype.constructor,o=i[Jt]||Hu(i),c=Object.prototype;let u=Object.getPrototypeOf(t.prototype).constructor;for(;u&&u!==c;){const h=u[Jt]||Hu(u);if(h&&h!==o)return h;u=Object.getPrototypeOf(u)}return h=>new h})}function Hu(t){return ee(t)?()=>{const i=Hu(ze(t));return i&&i()}:Zr(t)}function ju(t){const i=t[$t],o=i.type;return 2===o?i.declTNode:1===o?t[Hi]:null}function Hc(t){return function qh(t,i){if("class"===i)return t.classes;if("style"===i)return t.styles;const o=t.attrs;if(o){const c=o.length;let u=0;for(;u<c;){const h=o[u];if(ei(h))break;if(0===h)u+=2;else if("number"==typeof h)for(u++;u<c&&"string"==typeof o[u];)u++;else{if(h===i)return o[u+1];u+=2}}}return null}(eo(),t)}const ka="__parameters__";function nc(t,i,o){return it(()=>{const c=function zu(t){return function(...o){if(t){const c=t(...o);for(const u in c)this[u]=c[u]}}}(i);function u(...h){if(this instanceof u)return c.apply(this,h),this;const m=new u(...h);return y.annotation=m,y;function y(w,N,z){const ie=w.hasOwnProperty(ka)?w[ka]:Object.defineProperty(w,ka,{value:[]})[ka];for(;ie.length<=z;)ie.push(null);return(ie[z]=ie[z]||[]).push(m),w}}return o&&(u.prototype=Object.create(o.prototype)),u.prototype.ngMetadataName=t,u.annotationCls=u,u})}function zc(t,i){t.forEach(o=>Array.isArray(o)?zc(o,i):i(o))}function Nm(t,i,o){i>=t.length?t.push(o):t.splice(i,0,o)}function $u(t,i){return i>=t.length-1?t.pop():t.splice(i,1)[0]}function xl(t,i){const o=[];for(let c=0;c<t;c++)o.push(i);return o}function Rr(t,i,o){let c=pa(t,i);return c>=0?t[1|c]=o:(c=~c,function Os(t,i,o,c){let u=t.length;if(u==i)t.push(o,c);else if(1===u)t.push(c,t[0]),t[0]=o;else{for(u--,t.push(t[u-1],t[u]);u>i;)t[u]=t[u-2],u--;t[i]=o,t[i+1]=c}}(t,c,i,o)),c}function Il(t,i){const o=pa(t,i);if(o>=0)return t[1|o]}function pa(t,i){return function rf(t,i,o){let c=0,u=t.length>>o;for(;u!==c;){const h=c+(u-c>>1),m=t[h<<o];if(i===m)return h<<o;m>i?u=h:c=h+1}return~(u<<o)}(t,i,1)}const ta=Bn(nc("Optional"),8),ga=Bn(nc("SkipSelf"),4);function Yc(t){return 128==(128&t.flags)}var qc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(qc||{});const jm=/^>|^->|<!--|-->|--!>|<!-$/g,gf=/(<|>)/g,Vm="\u200b$1\u200b";const ma=new Map;let Ul=0;const ed="__ngContext__";function dr(t,i){Po(i)?(t[ed]=i[pr],function $m(t){ma.set(t[pr],t)}(i)):t[ed]=i}let rd;function sd(t,i){return rd(t,i)}function Wc(t){const i=t[ai];return Qi(i)?i[ai]:i}function Qm(t){return Xm(t[Sr])}function Km(t){return Xm(t[ro])}function Xm(t){for(;null!==t&&!Qi(t);)t=t[ro];return t}function Ra(t,i,o,c,u){if(null!=c){let h,m=!1;Qi(c)?h=c:Po(c)&&(m=!0,c=c[hi]);const y=Ei(c);0===t&&null!==o?null==u?r_(i,o,y):lc(i,o,y,u||null,!0):1===t&&null!==o?lc(i,o,y,u||null,!0):2===t?function zl(t,i,o){const c=ud(t,i);c&&function a_(t,i,o,c){t.removeChild(i,o,c)}(t,c,i,o)}(i,y,m):3===t&&i.destroyNode(y),null!=h&&function F1(t,i,o,c,u){const h=o[so];h!==Ei(o)&&Ra(i,t,c,h,u);for(let y=co;y<o.length;y++){const w=o[y];Uo(w[$t],w,t,i,c,h)}}(i,t,h,o,u)}}function ad(t,i){return t.createText(i)}function Zl(t,i){return t.createComment(function ac(t){return t.replace(jm,i=>i.replace(gf,Vm))}(i))}function cd(t,i,o){return t.createElement(i,o)}function i_(t,i){const o=t[Lr],c=o.indexOf(i);Zn(i),o.splice(c,1)}function ld(t,i){if(t.length<=co)return;const o=co+i,c=t[o];if(c){const u=c[Vo];null!==u&&u!==t&&i_(u,c),i>0&&(t[o-1][ro]=c[ro]);const h=$u(t,co+i);!function O1(t,i){Uo(t,i,i[Vt],2,null,null),i[hi]=null,i[Hi]=null}(c[$t],c);const m=h[Oo];null!==m&&m.detachView(h[$t]),c[ai]=null,c[ro]=null,c[on]&=-129}return c}function Cf(t,i){if(!(256&i[on])){const o=i[Vt];i[Fr]&&ps(i[Fr]),i[ho]&&ps(i[ho]),o.destroyNode&&Uo(t,i,o,3,null,null),function n_(t){let i=t[Sr];if(!i)return wf(t[$t],t);for(;i;){let o=null;if(Po(i))o=i[Sr];else{const c=i[co];c&&(o=c)}if(!o){for(;i&&!i[ro]&&i!==t;)Po(i)&&wf(i[$t],i),i=i[ai];null===i&&(i=t),Po(i)&&wf(i[$t],i),o=i&&i[ro]}i=o}}(i)}}function wf(t,i){if(!(256&i[on])){i[on]&=-129,i[on]|=256,function R1(t,i){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let c=0;c<o.length;c+=2){const u=i[o[c]];if(!(u instanceof Lc)){const h=o[c+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const y=u[h[m]],w=h[m+1];Xi(4,y,w);try{w.call(y)}finally{Xi(5,y,w)}}else{Xi(4,u,h);try{h.call(u)}finally{Xi(5,u,h)}}}}}(t,i),function P1(t,i){const o=t.cleanup,c=i[Mr];if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const m=o[h+3];m>=0?c[m]():c[-m].unsubscribe(),h+=2}else o[h].call(c[o[h+1]]);null!==c&&(i[Mr]=null);const u=i[Ar];if(null!==u){i[Ar]=null;for(let h=0;h<u.length;h++)(0,u[h])()}}(t,i),1===i[$t].type&&i[Vt].destroy();const o=i[Vo];if(null!==o&&Qi(i[ai])){o!==i[ai]&&i_(o,i);const c=i[Oo];null!==c&&c.detachView(t)}!function Gm(t){ma.delete(t[pr])}(i)}}function Hl(t,i,o){return o_(t,i.parent,o)}function o_(t,i,o){let c=i;for(;null!==c&&40&c.type;)c=(i=c).parent;if(null===c)return o[hi];{const{componentOffset:u}=c;if(u>-1){const{encapsulation:h}=t.data[c.directiveStart+u];if(h===xt.None||h===xt.Emulated)return null}return d(c,o)}}function lc(t,i,o,c,u){t.insertBefore(i,o,c,u)}function r_(t,i,o){t.appendChild(i,o)}function s_(t,i,o,c,u){null!==c?lc(t,i,o,c,u):r_(t,i,o)}function ud(t,i){return t.parentNode(i)}function l_(t,i,o){return dd(t,i,o)}function u_(t,i,o){return 40&t.type?d(t,o):null}let Ef,pd,If,gd,dd=u_;function d_(t,i){dd=t,Ef=i}function hd(t,i,o,c){const u=Hl(t,c,i),h=i[Vt],y=l_(c.parent||i[Hi],c,i);if(null!=u)if(Array.isArray(o))for(let w=0;w<o.length;w++)s_(h,u,o[w],y,!1);else s_(h,u,o,y,!1);void 0!==Ef&&Ef(h,c,i,o,u)}function jl(t,i){if(null!==i){const o=i.type;if(3&o)return d(i,t);if(4&o)return Vl(-1,t[i.index]);if(8&o){const c=i.child;if(null!==c)return jl(t,c);{const u=t[i.index];return Qi(u)?Vl(-1,u):Ei(u)}}if(32&o)return sd(i,t)()||Ei(t[i.index]);{const c=h_(t,i);return null!==c?Array.isArray(c)?c[0]:jl(Wc(t[Ai]),c):jl(t,i.next)}}return null}function h_(t,i){return null!==i?t[Ai][Hi].projection[i.projection]:null}function Vl(t,i){const o=co+t+1;if(o<i.length){const c=i[o],u=c[$t].firstChild;if(null!==u)return jl(c,u)}return i[so]}function fd(t,i,o,c,u,h,m){for(;null!=o;){const y=c[o.index],w=o.type;if(m&&0===i&&(y&&dr(Ei(y),c),o.flags|=2),32!=(32&o.flags))if(8&w)fd(t,i,o.child,c,u,h,!1),Ra(i,t,u,y,h);else if(32&w){const N=sd(o,c);let z;for(;z=N();)Ra(i,t,u,z,h);Ra(i,t,u,y,h)}else 16&w?f_(t,i,c,o,u,h):Ra(i,t,u,y,h);o=m?o.projectionNext:o.next}}function Uo(t,i,o,c,u,h){fd(o,c,t.firstChild,i,u,h,!1)}function f_(t,i,o,c,u,h){const m=o[Ai],w=m[Hi].projection[c.projection];if(Array.isArray(w))for(let N=0;N<w.length;N++)Ra(i,t,u,w[N],h);else{let N=w;const z=m[ai];Yc(c)&&(N.flags|=128),fd(t,i,N,z,u,h,!0)}}function Sf(t,i,o){""===o?t.removeAttribute(i,"class"):t.setAttribute(i,"class",o)}function p_(t,i,o){const{mergedAttrs:c,classes:u,styles:h}=o;null!==c&&Pn(t,i,c),null!==u&&Sf(t,i,u),null!==h&&function B1(t,i,o){t.setAttribute(i,"style",o)}(t,i,h)}function Jc(t){return function Af(){if(void 0===pd&&(pd=null,qt.trustedTypes))try{pd=qt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return pd}()?.createHTML(t)||t}function Z1(t){If=t}function Qc(){if(void 0!==If)return If;if(typeof document<"u")return document;throw new be(210,!1)}function Of(){if(void 0===gd&&(gd=null,qt.trustedTypes))try{gd=qt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return gd}function md(t){return Of()?.createHTML(t)||t}function kf(t){return Of()?.createScriptURL(t)||t}class lo{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${nt})`}}class rn extends lo{getTypeName(){return"HTML"}}class m_ extends lo{getTypeName(){return"Style"}}class __ extends lo{getTypeName(){return"Script"}}class v_ extends lo{getTypeName(){return"URL"}}class y_ extends lo{getTypeName(){return"ResourceURL"}}function na(t){return t instanceof lo?t.changingThisBreaksApplicationSecurity:t}function Vs(t,i){const o=function b_(t){return t instanceof lo&&t.getTypeName()||null}(t);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see ${nt})`)}return o===i}function D_(t){return new rn(t)}function C_(t){return new m_(t)}function w_(t){return new __(t)}function E_(t){return new v_(t)}function Pf(t){return new y_(t)}function Rf(t){const i=new M_(t);return function uc(){try{return!!(new window.DOMParser).parseFromString(Jc(""),"text/html")}catch{return!1}}()?new T_(i):i}class T_{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(Jc(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch{return null}}}class M_{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const o=this.inertDocument.createElement("template");return o.innerHTML=Jc(i),o}}const S_=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function $l(t){return(t=String(t)).match(S_)?t:"unsafe:"+t}function ia(t){const i={};for(const o of t.split(","))i[o]=!0;return i}function Kc(...t){const i={};for(const o of t)for(const c in o)o.hasOwnProperty(c)&&(i[c]=!0);return i}const Ff=ia("area,br,col,hr,img,wbr"),Lf=ia("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Bf=ia("rp,rt"),_d=Kc(Ff,Kc(Lf,ia("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Kc(Bf,ia("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Kc(Bf,Lf)),vd=ia("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Uf=Kc(vd,ia("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ia("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),A_=ia("script,style,template");class x_{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,c=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?c=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,c&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let u=this.checkClobberedElement(o,o.nextSibling);if(u){o=u;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!_d.hasOwnProperty(o))return this.sanitizedSomething=!0,!A_.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const c=i.attributes;for(let u=0;u<c.length;u++){const h=c.item(u),m=h.name,y=m.toLowerCase();if(!Uf.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let w=h.value;vd[y]&&(w=$l(w)),this.buf.push(" ",m,'="',Zf(w),'"')}return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();_d.hasOwnProperty(o)&&!Ff.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(Zf(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const I_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,O_=/([^\#-~ |!])/g;function Zf(t){return t.replace(/&/g,"&amp;").replace(I_,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(O_,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Gl;function Hf(t,i){let o=null;try{Gl=Gl||Rf(t);let c=i?String(i):"";o=Gl.getInertBodyElement(c);let u=5,h=c;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,c=h,h=o.innerHTML,o=Gl.getInertBodyElement(c)}while(c!==h);return Jc((new x_).sanitizeChildren(yd(o)||o))}finally{if(o){const c=yd(o)||o;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function yd(t){return"content"in t&&function N_(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Fa=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Fa||{});function jf(t){const i=el();return i?md(i.sanitize(Fa.HTML,t)||""):Vs(t,"HTML")?md(na(t)):Hf(Qc(),de(t))}function bd(t){const i=el();return i?i.sanitize(Fa.URL,t)||"":Vs(t,"URL")?na(t):$l(de(t))}function Xc(t){const i=el();if(i)return kf(i.sanitize(Fa.RESOURCE_URL,t)||"");if(Vs(t,"ResourceURL"))return kf(na(t));throw new be(904,!1)}function Vf(t,i,o){return function F_(t,i){return"src"===i&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===i&&("base"===t||"link"===t)?Xc:bd}(i,o)(t)}function el(){const t=Et();return t&&t[Ko].sanitizer}class ki{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=zt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const tl=new ki("ENVIRONMENT_INITIALIZER"),zf=new ki("INJECTOR",-1),$f=new ki("INJECTOR_DEF_TYPES");class Dd{get(i,o=Li){if(o===Li){const c=new Error(`NullInjectorError: No provider for ${ne(i)}!`);throw c.name="NullInjectorError",c}return o}}function Cd(t){return{\u0275providers:t}}function L_(...t){return{\u0275providers:Gf(0,t),\u0275fromNgModule:!0}}function Gf(t,...i){const o=[],c=new Set;let u;const h=m=>{o.push(m)};return zc(i,m=>{const y=m;Yl(y,h,[],c)&&(u||=[],u.push(y))}),void 0!==u&&Yf(u,h),o}function Yf(t,i){for(let o=0;o<t.length;o++){const{ngModule:c,providers:u}=t[o];La(u,h=>{i(h,c)})}}function Yl(t,i,o,c){if(!(t=ze(t)))return!1;let u=null,h=Qe(t);const m=!h&&On(t);if(h||m){if(m&&!m.standalone)return!1;u=t}else{const w=t.ngModule;if(h=Qe(w),!h)return!1;u=w}const y=c.has(u);if(m){if(y)return!1;if(c.add(u),m.dependencies){const w="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const N of w)Yl(N,i,o,c)}}else{if(!h)return!1;{if(null!=h.imports&&!y){let N;c.add(u);try{zc(h.imports,z=>{Yl(z,i,o,c)&&(N||=[],N.push(z))})}finally{}void 0!==N&&Yf(N,i)}if(!y){const N=Zr(u)||(()=>new u);i({provide:u,useFactory:N,deps:Kt},u),i({provide:$f,useValue:u,multi:!0},u),i({provide:tl,useValue:()=>at(u),multi:!0},u)}const w=h.providers;if(null!=w&&!y){const N=t;La(w,z=>{i(z,N)})}}}return u!==t&&void 0!==t.providers}function La(t,i){for(let o of t)Te(o)&&(o=o.\u0275providers),Array.isArray(o)?La(o,i):i(o)}const B_=re({provide:String,useValue:re});function Do(t){return null!==t&&"object"==typeof t&&B_ in t}function _a(t){return"function"==typeof t}const Dr=new ki("Set Injector scope."),Wl={},Z_={};let wd;function Jl(){return void 0===wd&&(wd=new Dd),wd}class zs{}class Ql extends zs{get destroyed(){return this._destroyed}constructor(i,o,c,u){super(),this.parent=o,this.source=c,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Td(i,m=>this.processProvider(m)),this.records.set(zf,dc(void 0,this)),u.has("environment")&&this.records.set(zs,dc(void 0,this));const h=this.records.get(Dr);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get($f.multi,Kt,Lt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of i)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const o=se(this),c=Rn(void 0);try{return i()}finally{se(o),Rn(c)}}get(i,o=Li,c=Lt.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(oi))return i[oi](this);c=Wt(c);const h=se(this),m=Rn(void 0);try{if(!(c&Lt.SkipSelf)){let w=this.records.get(i);if(void 0===w){const N=function $_(t){return"function"==typeof t||"object"==typeof t&&t instanceof ki}(i)&&vn(i);w=N&&this.injectableDefInScope(N)?dc(Ed(i),Wl):null,this.records.set(i,w)}if(null!=w)return this.hydrate(i,w)}return(c&Lt.Self?Jl():this.parent).get(i,o=c&Lt.Optional&&o===Li?null:o)}catch(y){if("NullInjectorError"===y.name){if((y[zi]=y[zi]||[]).unshift(ne(i)),h)throw y;return function ve(t,i,o,c){const u=t[zi];throw i[We]&&u.unshift(i[We]),t.message=function Ae(t,i,o,c=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let u=ne(i);if(Array.isArray(i))u=i.map(ne).join(" -> ");else if("object"==typeof i){let h=[];for(let m in i)if(i.hasOwnProperty(m)){let y=i[m];h.push(m+":"+("string"==typeof y?JSON.stringify(y):ne(y)))}u=`{${h.join(", ")}}`}return`${o}${c?"("+c+")":""}[${u}]: ${t.replace(Zo,"\n  ")}`}("\n"+t.message,u,o,c),t.ngTokenPath=u,t[zi]=null,t}(y,i,"R3InjectorError",this.source)}throw y}finally{Rn(m),se(h)}}resolveInjectorInitializers(){const i=se(this),o=Rn(void 0);try{const u=this.get(tl.multi,Kt,Lt.Self);for(const h of u)h()}finally{se(i),Rn(o)}}toString(){const i=[],o=this.records;for(const c of o.keys())i.push(ne(c));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new be(205,!1)}processProvider(i){let o=_a(i=ze(i))?i:ze(i&&i.provide);const c=function j_(t){return Do(t)?dc(void 0,t.useValue):dc(qf(t),Wl)}(i);if(_a(i)||!0!==i.multi)this.records.get(o);else{let u=this.records.get(o);u||(u=dc(void 0,Wl,!0),u.factory=()=>Ln(u.multi),this.records.set(o,u)),o=i,u.multi.push(i)}this.records.set(o,c)}hydrate(i,o){return o.value===Wl&&(o.value=Z_,o.value=o.factory()),"object"==typeof o.value&&o.value&&function z_(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=ze(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(i){const o=this._onDestroyHooks.indexOf(i);-1!==o&&this._onDestroyHooks.splice(o,1)}}function Ed(t){const i=vn(t),o=null!==i?i.factory:Zr(t);if(null!==o)return o;if(t instanceof ki)throw new be(204,!1);if(t instanceof Function)return function H_(t){const i=t.length;if(i>0)throw xl(i,"?"),new be(204,!1);const o=function je(t){return t&&(t[_t]||t[pn])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new be(204,!1)}function qf(t,i,o){let c;if(_a(t)){const u=ze(t);return Zr(u)||Ed(u)}if(Do(t))c=()=>ze(t.useValue);else if(function ql(t){return!(!t||!t.useFactory)}(t))c=()=>t.useFactory(...Ln(t.deps||[]));else if(function Ba(t){return!(!t||!t.useExisting)}(t))c=()=>at(ze(t.useExisting));else{const u=ze(t&&(t.useClass||t.provide));if(!function V_(t){return!!t.deps}(t))return Zr(u)||Ed(u);c=()=>new u(...Ln(t.deps))}return c}function dc(t,i,o=!1){return{factory:t,value:i,multi:o?[]:void 0}}function Td(t,i){for(const o of t)Array.isArray(o)?Td(o,i):o&&Te(o)?Td(o.\u0275providers,i):i(o)}const Wf=new ki("AppId",{providedIn:"root",factory:()=>G_}),G_="ng",Jf=new ki("Platform Initializer"),Md=new ki("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Y_=new ki("CSP nonce",{providedIn:"root",factory:()=>Qc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Qf=(t,i,o)=>null;function Pd(t,i,o=!1){return Qf(t,i,o)}class iv{}class ep{}class rv{resolveComponentFactory(i){throw function ov(t){const i=Error(`No component factory found for ${ne(t)}.`);return i.ngComponent=t,i}(i)}}let eu=(()=>{class t{static#e=this.NULL=new rv}return t})();function np(){return Ha(eo(),Et())}function Ha(t,i){return new gc(d(t,i))}let gc=(()=>{class t{constructor(o){this.nativeElement=o}static#e=this.__NG_ELEMENT_ID__=np}return t})();function sv(t){return t instanceof gc?t.nativeElement:t}class ip{}let av=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function cv(){const t=Et(),o=$(eo().index,t);return(Po(o)?o:t)[Vt]}()}return t})(),lv=(()=>{class t{static#e=this.\u0275prov=zt({token:t,providedIn:"root",factory:()=>null})}return t})();class mc{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const uv=new mc("16.2.9"),Ld={};function ap(t,i=null,o=null,c){const u=cp(t,i,o,c);return u.resolveInjectorInitializers(),u}function cp(t,i=null,o=null,c,u=new Set){const h=[o||Kt,L_(t)];return c=c||("object"==typeof t?void 0:ne(t)),new Ql(h,i||Jl(),c||null,u)}let Ns=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Li;static#t=this.NULL=new Dd;static create(o,c){if(Array.isArray(o))return ap({name:""},c,o,"");{const u=o.name??"";return ap({name:u},o.parent,o.providers,u)}}static#n=this.\u0275prov=zt({token:t,providedIn:"any",factory:()=>at(zf)});static#i=this.__NG_ELEMENT_ID__=-1}return t})();function Ud(t){return t.ngOriginalError}class va{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&Ud(i);for(;o&&Ud(o);)o=Ud(o);return o||null}}function Hd(t){return i=>{setTimeout(t,void 0,i)}}const Gs=class _v extends p.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,c){let u=i,h=o||(()=>null),m=c;if(i&&"object"==typeof i){const w=i;u=w.next?.bind(w),h=w.error?.bind(w),m=w.complete?.bind(w)}this.__isAsync&&(h=Hd(h),u&&(u=Hd(u)),m&&(m=Hd(m)));const y=super.subscribe({next:u,error:h,complete:m});return i instanceof J.w0&&i.add(y),y}};function up(...t){}class ir{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Gs(!1),this.onMicrotaskEmpty=new Gs(!1),this.onStable=new Gs(!1),this.onError=new Gs(!1),typeof Zone>"u")throw new be(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!c&&o,u.shouldCoalesceRunChangeDetection=c,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function vv(){const t="function"==typeof qt.requestAnimationFrame;let i=qt[t?"requestAnimationFrame":"setTimeout"],o=qt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&i&&o){const c=i[Zone.__symbol__("OriginalDelegate")];c&&(i=c);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Dv(t){const i=()=>{!function bv(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(qt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Vd(t),t.isCheckStableRunning=!0,jd(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Vd(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,c,u,h,m,y)=>{if(function wv(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(y))return o.invokeTask(u,h,m,y);try{return dp(t),o.invokeTask(u,h,m,y)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||t.shouldCoalesceRunChangeDetection)&&i(),hp(t)}},onInvoke:(o,c,u,h,m,y,w)=>{try{return dp(t),o.invoke(u,h,m,y,w)}finally{t.shouldCoalesceRunChangeDetection&&i(),hp(t)}},onHasTask:(o,c,u,h)=>{o.hasTask(u,h),c===u&&("microTask"==h.change?(t._hasPendingMicrotasks=h.microTask,Vd(t),jd(t)):"macroTask"==h.change&&(t.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,c,u,h)=>(o.handleError(u,h),t.runOutsideAngular(()=>t.onError.emit(h)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ir.isInAngularZone())throw new be(909,!1)}static assertNotInAngularZone(){if(ir.isInAngularZone())throw new be(909,!1)}run(i,o,c){return this._inner.run(i,o,c)}runTask(i,o,c,u){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+u,i,yv,up,up);try{return h.runTask(m,o,c)}finally{h.cancelTask(m)}}runGuarded(i,o,c){return this._inner.runGuarded(i,o,c)}runOutsideAngular(i){return this._outer.run(i)}}const yv={};function jd(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Vd(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function dp(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function hp(t){t._nesting--,jd(t)}class Cv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Gs,this.onMicrotaskEmpty=new Gs,this.onStable=new Gs,this.onError=new Gs}run(i,o,c){return i.apply(o,c)}runGuarded(i,o,c){return i.apply(o,c)}runOutsideAngular(i){return i()}runTask(i,o,c,u){return i.apply(o,c)}}const fp=new ki("",{providedIn:"root",factory:pp});function pp(){const t=At(ir);let i=!0;const o=new V.y(u=>{i=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{u.next(i),u.complete()})}),c=new V.y(u=>{let h;t.runOutsideAngular(()=>{h=t.onStable.subscribe(()=>{ir.assertNotInAngularZone(),queueMicrotask(()=>{!i&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(i=!0,u.next(!0))})})});const m=t.onUnstable.subscribe(()=>{ir.assertInAngularZone(),i&&(i=!1,t.runOutsideAngular(()=>{u.next(!1)}))});return()=>{h.unsubscribe(),m.unsubscribe()}});return(0,te.T)(o,c.pipe((0,Q.B)()))}function gp(t){return t.ownerDocument.defaultView}function oa(t){return t instanceof Function?t():t}let zd=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=zt({token:t,providedIn:"root",factory:()=>new t})}return t})();function rl(t){for(;t;){t[on]|=64;const i=Wc(t);if(Ro(t)&&!i)return t;t=i}return null}const bp=new ki("",{providedIn:"root",factory:()=>!1});let nu=null;function Tp(t,i){return t[i]??Sp()}function ja(t,i){const o=Sp();o.producerNode?.length&&(t[i]=nu,o.lView=t,nu=Mp())}const Nv={...Ts,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{rl(t.lView)},lView:null};function Mp(){return Object.create(Nv)}function Sp(){return nu??=Mp(),nu}const Xn={};function $d(t){Ap(Kn(),Et(),Bo()+t,!1)}function Ap(t,i,o,c){if(!c)if(3==(3&i[on])){const h=t.preOrderCheckHooks;null!==h&&Cl(i,h,o)}else{const h=t.preOrderHooks;null!==h&&Ia(i,h,0,o)}ha(o)}function yc(t,i=Lt.Default){const o=Et();return null===o?at(t,i):Al(eo(),o,ze(t),i)}function xp(){throw new Error("invalid")}function iu(t,i,o,c,u,h,m,y,w,N,z){const ie=i.blueprint.slice();return ie[hi]=u,ie[on]=140|c,(null!==N||t&&2048&t[on])&&(ie[on]|=2048),Ht(ie),ie[ai]=ie[To]=t,ie[Ci]=o,ie[Ko]=m||t&&t[Ko],ie[Vt]=y||t&&t[Vt],ie[Eo]=w||t&&t[Eo]||null,ie[Hi]=h,ie[pr]=function zm(){return Ul++}(),ie[Yo]=z,ie[Jr]=N,ie[Ai]=2==i.type?t[Ai]:ie,ie}function bc(t,i,o,c,u){let h=t.data[i];if(null===h)h=Gd(t,i,o,c,u),function Vh(){return nn.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=o,h.value=c,h.attrs=u;const m=$r();h.injectorIndex=null===m?-1:m.injectorIndex}return yr(h,!0),h}function Gd(t,i,o,c,u){const h=Xs(),m=Rc(),w=t.data[i]=function Uv(t,i,o,c,u,h){let m=i?i.injectorIndex:-1,y=0;return mt()&&(y|=128),{type:o,index:c,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:y,providerIndexes:0,value:u,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,o,i,c,u);return null===t.firstChild&&(t.firstChild=w),null!==h&&(m?null==h.child&&null!==w.parent&&(h.child=w):null===h.next&&(h.next=w,w.prev=h)),w}function sl(t,i,o,c){if(0===o)return-1;const u=i.length;for(let h=0;h<o;h++)i.push(c),t.blueprint.push(c),t.data.push(null);return u}function Ip(t,i,o,c,u){const h=Tp(i,Fr),m=Bo(),y=2&c;try{ha(-1),y&&i.length>Qn&&Ap(t,i,Qn,!1),Xi(y?2:0,u);const N=y?h:null,z=Xr(N);try{null!==N&&(N.dirty=!1),o(c,u)}finally{jr(N,z)}}finally{y&&null===i[Fr]&&ja(i,Fr),ha(m),Xi(y?3:1,u)}}function Yd(t,i,o){if(sr(i)){const c=Mi(null);try{const h=i.directiveEnd;for(let m=i.directiveStart;m<h;m++){const y=t.data[m];y.contentQueries&&y.contentQueries(1,o[m],m)}}finally{Mi(c)}}}function qd(t,i,o){Ne()&&(function Gv(t,i,o,c){const u=o.directiveStart,h=o.directiveEnd;ar(o)&&function Xv(t,i,o){const c=d(i,t),u=Op(o);let m=16;o.signals?m=4096:o.onPush&&(m=64);const y=ou(t,iu(t,u,null,m,c,i,null,t[Ko].rendererFactory.createRenderer(c,o),null,null,null));t[i.index]=y}(i,o,t.data[u+o.componentOffset]),t.firstCreatePass||Ml(o,i),dr(c,i);const m=o.initialInputs;for(let y=u;y<h;y++){const w=t.data[y],N=Oa(i,t,y,o);dr(N,i),null!==m&&e0(0,y-u,N,w,0,m),fo(w)&&($(o.index,i)[Ci]=Oa(i,t,y,o))}}(t,i,o,d(o,i)),64==(64&o.flags)&&Lp(t,i,o))}function Wd(t,i,o=d){const c=i.localNames;if(null!==c){let u=i.index+1;for(let h=0;h<c.length;h+=2){const m=c[h+1],y=-1===m?o(i,t):t[m];t[u++]=y}}}function Op(t){const i=t.tView;return null===i||i.incompleteFirstPass?t.tView=Jd(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):i}function Jd(t,i,o,c,u,h,m,y,w,N,z){const ie=Qn+c,Be=ie+u,qe=function Pv(t,i){const o=[];for(let c=0;c<i;c++)o.push(c<t?null:Xn);return o}(ie,Be),bt="function"==typeof N?N():N;return qe[$t]={type:t,blueprint:qe,template:o,queries:null,viewQuery:y,declTNode:i,data:qe.slice().fill(null,ie),bindingStartIndex:ie,expandoStartIndex:Be,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:w,consts:bt,incompleteFirstPass:!1,ssrId:z}}let Np=t=>null;function Pp(t,i,o,c){for(let u in t)if(t.hasOwnProperty(u)){o=null===o?{}:o;const h=t[u];null===c?Rp(o,i,u,h):c.hasOwnProperty(u)&&Rp(o,i,c[u],h)}return o}function Rp(t,i,o,c){t.hasOwnProperty(o)?t[o].push(i,c):t[o]=[i,c]}function rs(t,i,o,c,u,h,m,y){const w=d(i,o);let z,N=i.inputs;!y&&null!=N&&(z=N[c])?(th(t,o,z,c,u),ar(i)&&function jv(t,i){const o=$(i,t);16&o[on]||(o[on]|=64)}(o,i.index)):3&i.type&&(c=function Hv(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(c),u=null!=m?m(u,i.value||"",c):u,h.setProperty(w,c,u))}function Qd(t,i,o,c){if(Ne()){const u=null===c?null:{"":-1},h=function qv(t,i){const o=t.directiveRegistry;let c=null,u=null;if(o)for(let h=0;h<o.length;h++){const m=o[h];if(Co(i,m.selectors,!1))if(c||(c=[]),fo(m))if(null!==m.findHostDirectiveDefs){const y=[];u=u||new Map,m.findHostDirectiveDefs(m,y,u),c.unshift(...y,m),Kd(t,i,y.length)}else c.unshift(m),Kd(t,i,0);else u=u||new Map,m.findHostDirectiveDefs?.(m,c,u),c.push(m)}return null===c?null:[c,u]}(t,o);let m,y;null===h?m=y=null:[m,y]=h,null!==m&&Fp(t,i,o,m,u,y),u&&function Wv(t,i,o){if(i){const c=t.localNames=[];for(let u=0;u<i.length;u+=2){const h=o[i[u+1]];if(null==h)throw new be(-301,!1);c.push(i[u],h)}}}(o,c,u)}o.mergedAttrs=Yt(o.mergedAttrs,o.attrs)}function Fp(t,i,o,c,u,h){for(let N=0;N<c.length;N++)ec(Ml(o,i),t,c[N].type);!function Qv(t,i,o){t.flags|=1,t.directiveStart=i,t.directiveEnd=i+o,t.providerIndexes=i}(o,t.data.length,c.length);for(let N=0;N<c.length;N++){const z=c[N];z.providersResolver&&z.providersResolver(z)}let m=!1,y=!1,w=sl(t,i,c.length,null);for(let N=0;N<c.length;N++){const z=c[N];o.mergedAttrs=Yt(o.mergedAttrs,z.hostAttrs),Kv(t,o,i,w,z),Jv(w,z,u),null!==z.contentQueries&&(o.flags|=4),(null!==z.hostBindings||null!==z.hostAttrs||0!==z.hostVars)&&(o.flags|=64);const ie=z.type.prototype;!m&&(ie.ngOnChanges||ie.ngOnInit||ie.ngDoCheck)&&((t.preOrderHooks??=[]).push(o.index),m=!0),!y&&(ie.ngOnChanges||ie.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(o.index),y=!0),w++}!function Zv(t,i,o){const u=i.directiveEnd,h=t.data,m=i.attrs,y=[];let w=null,N=null;for(let z=i.directiveStart;z<u;z++){const ie=h[z],Be=o?o.get(ie):null,bt=Be?Be.outputs:null;w=Pp(ie.inputs,z,w,Be?Be.inputs:null),N=Pp(ie.outputs,z,N,bt);const Ut=null===w||null===m||vi(i)?null:t0(w,z,m);y.push(Ut)}null!==w&&(w.hasOwnProperty("class")&&(i.flags|=8),w.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=y,i.inputs=w,i.outputs=N}(t,o,h)}function Lp(t,i,o){const c=o.directiveStart,u=o.directiveEnd,h=o.index,m=function v(){return nn.lFrame.currentDirectiveIndex}();try{ha(h);for(let y=c;y<u;y++){const w=t.data[y],N=i[y];T(y),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&Yv(w,N)}}finally{ha(-1),T(m)}}function Yv(t,i){null!==t.hostBindings&&t.hostBindings(1,i)}function Kd(t,i,o){i.componentOffset=o,(t.components??=[]).push(i.index)}function Jv(t,i,o){if(o){if(i.exportAs)for(let c=0;c<i.exportAs.length;c++)o[i.exportAs[c]]=t;fo(i)&&(o[""]=t)}}function Kv(t,i,o,c,u){t.data[c]=u;const h=u.factory||(u.factory=Zr(u.type)),m=new Lc(h,fo(u),yc);t.blueprint[c]=m,o[c]=m,function zv(t,i,o,c,u){const h=u.hostBindings;if(h){let m=t.hostBindingOpCodes;null===m&&(m=t.hostBindingOpCodes=[]);const y=~i.index;(function $v(t){let i=t.length;for(;i>0;){const o=t[--i];if("number"==typeof o&&o<0)return o}return 0})(m)!=y&&m.push(y),m.push(o,c,h)}}(t,i,c,sl(t,o,u.hostVars,Xn),u)}function Ys(t,i,o,c,u,h){const m=d(t,i);!function Xd(t,i,o,c,u,h,m){if(null==h)t.removeAttribute(i,u,o);else{const y=null==m?de(h):m(h,c||"",u);t.setAttribute(i,u,y,o)}}(i[Vt],m,h,t.value,o,c,u)}function e0(t,i,o,c,u,h){const m=h[i];if(null!==m)for(let y=0;y<m.length;)Bp(c,o,m[y++],m[y++],m[y++])}function Bp(t,i,o,c,u){const h=Mi(null);try{const m=t.inputTransforms;null!==m&&m.hasOwnProperty(c)&&(u=m[c].call(i,u)),null!==t.setInput?t.setInput(i,u,o,c):i[c]=u}finally{Mi(h)}}function t0(t,i,o){let c=null,u=0;for(;u<o.length;){const h=o[u];if(0!==h)if(5!==h){if("number"==typeof h)break;if(t.hasOwnProperty(h)){null===c&&(c=[]);const m=t[h];for(let y=0;y<m.length;y+=2)if(m[y]===i){c.push(h,m[y+1],o[u+1]);break}}u+=2}else u+=2;else u+=4}return c}function Up(t,i,o,c){return[t,!0,!1,i,null,0,c,o,null,null,null]}function Zp(t,i){const o=t.contentQueries;if(null!==o)for(let c=0;c<o.length;c+=2){const h=o[c+1];if(-1!==h){const m=t.data[h];ae(o[c]),m.contentQueries(2,i[h],h)}}}function ou(t,i){return t[Sr]?t[uo][ro]=i:t[Sr]=i,t[uo]=i,i}function eh(t,i,o){ae(0);const c=Mi(null);try{i(t,o)}finally{Mi(c)}}function Hp(t){return t[Mr]||(t[Mr]=[])}function jp(t){return t.cleanup||(t.cleanup=[])}function zp(t,i){const o=t[Eo],c=o?o.get(va,null):null;c&&c.handleError(i)}function th(t,i,o,c,u){for(let h=0;h<o.length;){const m=o[h++],y=o[h++];Bp(t.data[m],i[m],c,y,u)}}function ra(t,i,o){const c=s(i,t);!function e_(t,i,o){t.setValue(i,o)}(t[Vt],c,o)}function n0(t,i){const o=$(i,t),c=o[$t];!function o0(t,i){for(let o=i.length;o<t.blueprint.length;o++)i.push(t.blueprint[o])}(c,o);const u=o[hi];null!==u&&null===o[Yo]&&(o[Yo]=Pd(u,o[Eo])),nh(c,o,o[Ci])}function nh(t,i,o){Qt(i);try{const c=t.viewQuery;null!==c&&eh(1,c,o);const u=t.template;null!==u&&Ip(t,i,u,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Zp(t,i),t.staticViewQueries&&eh(2,t.viewQuery,o);const h=t.components;null!==h&&function r0(t,i){for(let o=0;o<i.length;o++)n0(t,i[o])}(i,h)}catch(c){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),c}finally{i[on]&=-5,Zs()}}let $p=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(o,c,u){const h=typeof Zone>"u"?null:Zone.current,m=function Xe(t,i,o){const c=Object.create(tn);o&&(c.consumerAllowSignalWrites=!0),c.fn=t,c.schedule=i;const u=m=>{c.cleanupFn=m};return c.ref={notify:()=>Hr(c),run:()=>{if(c.dirty=!1,c.hasRun&&!fs(c))return;c.hasRun=!0;const m=Xr(c);try{c.cleanupFn(),c.cleanupFn=vt,c.fn(u)}finally{jr(c,m)}},cleanup:()=>c.cleanupFn()},c.ref}(o,N=>{this.all.has(N)&&this.queue.set(N,h)},u);let y;this.all.add(m),m.notify();const w=()=>{m.cleanup(),y?.(),this.all.delete(m),this.queue.delete(m)};return y=c?.onDestroy(w),{destroy:w}}flush(){if(0!==this.queue.size)for(const[o,c]of this.queue)this.queue.delete(o),c?c.run(()=>o.run()):o.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=zt({token:t,providedIn:"root",factory:()=>new t})}return t})();function ru(t,i,o){let c=o?t.styles:null,u=o?t.classes:null,h=0;if(null!==i)for(let m=0;m<i.length;m++){const y=i[m];"number"==typeof y?h=y:1==h?u=ge(u,y):2==h&&(c=ge(c,y+": "+i[++m]+";"))}o?t.styles=c:t.stylesWithoutHost=c,o?t.classes=u:t.classesWithoutHost=u}function al(t,i,o,c,u=!1){for(;null!==o;){const h=i[o.index];null!==h&&c.push(Ei(h)),Qi(h)&&Gp(h,c);const m=o.type;if(8&m)al(t,i,o.child,c);else if(32&m){const y=sd(o,i);let w;for(;w=y();)c.push(w)}else if(16&m){const y=h_(i,o);if(Array.isArray(y))c.push(...y);else{const w=Wc(i[Ai]);al(w[$t],w,y,c,!0)}}o=u?o.projectionNext:o.next}return c}function Gp(t,i){for(let o=co;o<t.length;o++){const c=t[o],u=c[$t].firstChild;null!==u&&al(c[$t],c,u,i)}t[so]!==t[hi]&&i.push(t[so])}function su(t,i,o,c=!0){const u=i[Ko],h=u.rendererFactory,m=u.afterRenderEventManager;h.begin?.(),m?.begin();try{Yp(t,i,t.template,o)}catch(w){throw c&&zp(i,w),w}finally{h.end?.(),u.effectManager?.flush(),m?.end()}}function Yp(t,i,o,c){const u=i[on];if(256!=(256&u)){i[Ko].effectManager?.flush(),Qt(i);try{Ht(i),function bl(t){return nn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&Ip(t,i,o,2,c);const m=3==(3&u);if(m){const N=t.preOrderCheckHooks;null!==N&&Cl(i,N,null)}else{const N=t.preOrderHooks;null!==N&&Ia(i,N,0,null),Fc(i,0)}if(function c0(t){for(let i=Qm(t);null!==i;i=Km(i)){if(!i[gr])continue;const o=i[Lr];for(let c=0;c<o.length;c++){An(o[c])}}}(i),qp(i,2),null!==t.contentQueries&&Zp(t,i),m){const N=t.contentCheckHooks;null!==N&&Cl(i,N)}else{const N=t.contentHooks;null!==N&&Ia(i,N,1),Fc(i,1)}!function kv(t,i){const o=t.hostBindingOpCodes;if(null===o)return;const c=Tp(i,ho);try{for(let u=0;u<o.length;u++){const h=o[u];if(h<0)ha(~h);else{const m=h,y=o[++u],w=o[++u];E(y,m),c.dirty=!1;const N=Xr(c);try{w(2,i[m])}finally{jr(c,N)}}}}finally{null===i[ho]&&ja(i,ho),ha(-1)}}(t,i);const y=t.components;null!==y&&Jp(i,y,0);const w=t.viewQuery;if(null!==w&&eh(2,w,c),m){const N=t.viewCheckHooks;null!==N&&Cl(i,N)}else{const N=t.viewHooks;null!==N&&Ia(i,N,2),Fc(i,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),i[on]&=-73,Zn(i)}finally{Zs()}}}function qp(t,i){for(let o=Qm(t);null!==o;o=Km(o))for(let c=co;c<o.length;c++)Wp(o[c],i)}function l0(t,i,o){Wp($(i,t),o)}function Wp(t,i){if(!function Ke(t){return 128==(128&t[on])}(t))return;const o=t[$t],c=t[on];if(80&c&&0===i||1024&c||2===i)Yp(o,t,o.template,t[Ci]);else if(t[Go]>0){qp(t,1);const u=o.components;null!==u&&Jp(t,u,1)}}function Jp(t,i,o){for(let c=0;c<i.length;c++)l0(t,i[c],o)}class cl{get rootNodes(){const i=this._lView,o=i[$t];return al(o,i,o.firstChild,[])}constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ci]}set context(i){this._lView[Ci]=i}get destroyed(){return 256==(256&this._lView[on])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[ai];if(Qi(i)){const o=i[8],c=o?o.indexOf(this):-1;c>-1&&(ld(i,c),$u(o,c))}this._attachedToViewContainer=!1}Cf(this._lView[$t],this._lView)}onDestroy(i){!function ri(t,i){if(256==(256&t[on]))throw new be(911,!1);null===t[Ar]&&(t[Ar]=[]),t[Ar].push(i)}(this._lView,i)}markForCheck(){rl(this._cdRefInjectingView||this._lView)}detach(){this._lView[on]&=-129}reattach(){this._lView[on]|=128}detectChanges(){su(this._lView[$t],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function t_(t,i){Uo(t,i,i[Vt],2,null,null)}(this._lView[$t],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new be(902,!1);this._appRef=i}}class u0 extends cl{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;su(i[$t],i,i[Ci],!1)}checkNoChanges(){}get context(){return null}}class Qp extends eu{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=On(i);return new ll(o,this.ngModule)}}function Kp(t){const i=[];for(let o in t)t.hasOwnProperty(o)&&i.push({propName:t[o],templateName:o});return i}class h0{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,c){c=Wt(c);const u=this.injector.get(i,Ld,c);return u!==Ld||o===Ld?u:this.parentInjector.get(i,o,c)}}class ll extends ep{get inputs(){const i=this.componentDef,o=i.inputTransforms,c=Kp(i.inputs);if(null!==o)for(const u of c)o.hasOwnProperty(u.propName)&&(u.transform=o[u.propName]);return c}get outputs(){return Kp(this.componentDef.outputs)}constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function kt(t){return t.map(Je).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}create(i,o,c,u){let h=(u=u||this.ngModule)instanceof zs?u:u?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const m=h?new h0(i,h):i,y=m.get(ip,null);if(null===y)throw new be(407,!1);const ie={rendererFactory:y,sanitizer:m.get(lv,null),effectManager:m.get($p,null),afterRenderEventManager:m.get(zd,null)},Be=y.createRenderer(null,this.componentDef),qe=this.componentDef.selectors[0][0]||"div",bt=c?function Rv(t,i,o,c){const h=c.get(bp,!1)||o===xt.ShadowDom,m=t.selectRootElement(i,h);return function Fv(t){Np(t)}(m),m}(Be,c,this.componentDef.encapsulation,m):cd(Be,qe,function d0(t){const i=t.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(qe)),bn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let It=null;null!==bt&&(It=Pd(bt,m,!0));const Yn=Jd(0,null,null,1,0,null,null,null,null,null,null),gi=iu(null,Yn,null,bn,null,null,ie,Be,m,null,It);let no,Ds;Qt(gi);try{const qa=this.componentDef;let Ou,n1=null;qa.findHostDirectiveDefs?(Ou=[],n1=new Map,qa.findHostDirectiveDefs(qa,Ou,n1),Ou.push(qa)):Ou=[qa];const tM=function p0(t,i){const o=t[$t],c=Qn;return t[c]=i,bc(o,c,2,"#host",null)}(gi,bt),nM=function g0(t,i,o,c,u,h,m){const y=u[$t];!function m0(t,i,o,c){for(const u of t)i.mergedAttrs=Yt(i.mergedAttrs,u.hostAttrs);null!==i.mergedAttrs&&(ru(i,i.mergedAttrs,!0),null!==o&&p_(c,o,i))}(c,t,i,m);let w=null;null!==i&&(w=Pd(i,u[Eo]));const N=h.rendererFactory.createRenderer(i,o);let z=16;o.signals?z=4096:o.onPush&&(z=64);const ie=iu(u,Op(o),null,z,u[t.index],t,h,N,null,null,w);return y.firstCreatePass&&Kd(y,t,c.length-1),ou(u,ie),u[t.index]=ie}(tM,bt,qa,Ou,gi,ie,Be);Ds=C(Yn,Qn),bt&&function v0(t,i,o,c){if(c)Pn(t,o,["ng-version",uv.full]);else{const{attrs:u,classes:h}=function Tt(t){const i=[],o=[];let c=1,u=2;for(;c<t.length;){let h=t[c];if("string"==typeof h)2===u?""!==h&&i.push(h,t[++c]):8===u&&o.push(h);else{if(!Tn(u))break;u=h}c++}return{attrs:i,classes:o}}(i.selectors[0]);u&&Pn(t,o,u),h&&h.length>0&&Sf(t,o,h.join(" "))}}(Be,qa,bt,c),void 0!==o&&function y0(t,i,o){const c=t.projection=[];for(let u=0;u<i.length;u++){const h=o[u];c.push(null!=h?Array.from(h):null)}}(Ds,this.ngContentSelectors,o),no=function _0(t,i,o,c,u,h){const m=eo(),y=u[$t],w=d(m,u);Fp(y,u,m,o,null,c);for(let z=0;z<o.length;z++)dr(Oa(u,y,m.directiveStart+z,m),u);Lp(y,u,m),w&&dr(w,u);const N=Oa(u,y,m.directiveStart+m.componentOffset,m);if(t[Ci]=u[Ci]=N,null!==h)for(const z of h)z(N,i);return Yd(y,m,t),N}(nM,qa,Ou,n1,gi,[b0]),nh(Yn,gi,null)}finally{Zs()}return new f0(this.componentType,no,Ha(Ds,gi),gi,Ds)}}class f0 extends iv{constructor(i,o,c,u,h){super(),this.location=c,this._rootLView=u,this._tNode=h,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new u0(u),this.componentType=i}setInput(i,o){const c=this._tNode.inputs;let u;if(null!==c&&(u=c[i])){if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),o))return;const h=this._rootLView;th(h[$t],h,u,i,o),this.previousInputValues.set(i,o),rl($(this._tNode.index,h))}}get injector(){return new Pr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function b0(){const t=eo();Dl(Et()[$t],t)}function au(t){let i=function Xp(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const c=[t];for(;i;){let u;if(fo(t))u=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new be(903,!1);u=i.\u0275dir}if(u){if(o){c.push(u);const m=t;m.inputs=cu(t.inputs),m.inputTransforms=cu(t.inputTransforms),m.declaredInputs=cu(t.declaredInputs),m.outputs=cu(t.outputs);const y=u.hostBindings;y&&hb(t,y);const w=u.viewQuery,N=u.contentQueries;if(w&&C0(t,w),N&&ks(t,N),fe(t.inputs,u.inputs),fe(t.declaredInputs,u.declaredInputs),fe(t.outputs,u.outputs),null!==u.inputTransforms&&(null===m.inputTransforms&&(m.inputTransforms={}),fe(m.inputTransforms,u.inputTransforms)),fo(u)&&u.data.animation){const z=t.data;z.animation=(z.animation||[]).concat(u.data.animation)}}const h=u.features;if(h)for(let m=0;m<h.length;m++){const y=h[m];y&&y.ngInherit&&y(t),y===au&&(o=!1)}}i=Object.getPrototypeOf(i)}!function D0(t){let i=0,o=null;for(let c=t.length-1;c>=0;c--){const u=t[c];u.hostVars=i+=u.hostVars,u.hostAttrs=Yt(u.hostAttrs,o=Yt(o,u.hostAttrs))}}(c)}function cu(t){return t===Nt?{}:t===Kt?[]:t}function C0(t,i){const o=t.viewQuery;t.viewQuery=o?(c,u)=>{i(c,u),o(c,u)}:i}function ks(t,i){const o=t.contentQueries;t.contentQueries=o?(c,u,h)=>{i(c,u,h),o(c,u,h)}:i}function hb(t,i){const o=t.hostBindings;t.hostBindings=o?(c,u)=>{i(c,u),o(c,u)}:i}function ih(t){return i=>{i.findHostDirectiveDefs=eg,i.hostDirectives=(Array.isArray(t)?t:t()).map(o=>"function"==typeof o?{directive:ze(o),inputs:Nt,outputs:Nt}:{directive:ze(o.directive),inputs:tg(o.inputs),outputs:tg(o.outputs)})}}function eg(t,i,o){if(null!==t.hostDirectives)for(const c of t.hostDirectives){const u=Bi(c.directive);T0(u.declaredInputs,c.inputs),eg(u,i,o),o.set(u,c),i.push(u)}}function tg(t){if(void 0===t||0===t.length)return Nt;const i={};for(let o=0;o<t.length;o+=2)i[t[o]]=t[o+1];return i}function T0(t,i){for(const o in i)i.hasOwnProperty(o)&&(t[i[o]]=t[o])}function ig(t){const i=t.inputConfig,o={};for(const c in i)if(i.hasOwnProperty(c)){const u=i[c];Array.isArray(u)&&u[2]&&(o[c]=u[2])}t.inputTransforms=o}function uu(t){return!!oh(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function oh(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Gr(t,i,o){return t[i]=o}function Cr(t,i,o){return!Object.is(t[i],o)&&(t[i]=o,!0)}function Va(t,i,o,c){const u=Cr(t,i,o);return Cr(t,i+1,c)||u}function rh(t,i,o,c){const u=Et();return Cr(u,xa(),i)&&(Kn(),Ys(Ao(),u,t,i,o,c)),rh}function Cc(t,i,o,c){return Cr(t,xa(),o)?i+de(o)+c:Xn}function wc(t,i,o,c,u,h){const y=Va(t,function Ss(){return nn.lFrame.bindingIndex}(),o,u);return As(2),y?i+de(o)+c+de(u)+h:Xn}function mg(t,i,o,c,u,h,m,y){const w=Et(),N=Kn(),z=t+Qn,ie=N.firstCreatePass?function V0(t,i,o,c,u,h,m,y,w){const N=i.consts,z=bc(i,t,4,m||null,wt(N,y));Qd(i,o,z,wt(N,w)),Dl(i,z);const ie=z.tView=Jd(2,z,c,u,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,N,null);return null!==i.queries&&(i.queries.template(i,z),ie.queries=i.queries.embeddedTView(z)),z}(z,N,w,i,o,c,u,h,m):N.data[z];yr(ie,!1);const Be=_g(N,w,ie,t);xo()&&hd(N,w,Be,ie),dr(Be,w),ou(w,w[z]=Up(Be,w,Be,ie)),mr(ie)&&qd(N,w,ie),null!=m&&Wd(w,ie,y)}let _g=function vg(t,i,o,c){return is(!0),i[Vt].createComment("")};function yg(t){return O(function vl(){return nn.lFrame.contextLView}(),Qn+t)}function fh(t,i,o){const c=Et();return Cr(c,xa(),i)&&rs(Kn(),Ao(),c,t,i,c[Vt],o,!1),fh}function ph(t,i,o,c,u){const m=u?"class":"style";th(t,o,i.inputs[m],m,c)}function mu(t,i,o,c){const u=Et(),h=Kn(),m=Qn+t,y=u[Vt],w=h.firstCreatePass?function G0(t,i,o,c,u,h){const m=i.consts,w=bc(i,t,2,c,wt(m,u));return Qd(i,o,w,wt(m,h)),null!==w.attrs&&ru(w,w.attrs,!1),null!==w.mergedAttrs&&ru(w,w.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,w),w}(m,h,u,i,o,c):h.data[m],N=bg(h,u,w,y,i,t);u[m]=N;const z=mr(w);return yr(w,!0),p_(y,N,w),32!=(32&w.flags)&&xo()&&hd(h,u,N,w),0===function U(){return nn.lFrame.elementDepthCount}()&&dr(N,u),function k(){nn.lFrame.elementDepthCount++}(),z&&(qd(h,u,w),Yd(h,w,u)),null!==c&&Wd(u,w),mu}function _u(){let t=eo();Rc()?Aa():(t=t.parent,yr(t,!1));const i=t;(function Ft(t){return nn.skipHydrationRootTNode===t})(i)&&function vo(){nn.skipHydrationRootTNode=null}(),function X(){nn.lFrame.elementDepthCount--}();const o=Kn();return o.firstCreatePass&&(Dl(o,t),sr(t)&&o.queries.elementEnd(t)),null!=i.classesWithoutHost&&function Am(t){return 0!=(8&t.flags)}(i)&&ph(o,i,Et(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function El(t){return 0!=(16&t.flags)}(i)&&ph(o,i,Et(),i.stylesWithoutHost,!1),_u}function gh(t,i,o,c){return mu(t,i,o,c),_u(),gh}let bg=(t,i,o,c,u,h)=>(is(!0),cd(c,u,function Nu(){return nn.lFrame.currentNamespace}()));function vu(t,i,o){const c=Et(),u=Kn(),h=t+Qn,m=u.firstCreatePass?function W0(t,i,o,c,u){const h=i.consts,m=wt(h,c),y=bc(i,t,8,"ng-container",m);return null!==m&&ru(y,m,!0),Qd(i,o,y,wt(h,u)),null!==i.queries&&i.queries.elementStart(i,y),y}(h,u,c,i,o):u.data[h];yr(m,!0);const y=Dg(u,c,m,t);return c[h]=y,xo()&&hd(u,c,y,m),dr(y,c),mr(m)&&(qd(u,c,m),Yd(u,m,c)),null!=o&&Wd(c,m),vu}function yu(){let t=eo();const i=Kn();return Rc()?Aa():(t=t.parent,yr(t,!1)),i.firstCreatePass&&(Dl(i,t),sr(t)&&i.queries.elementEnd(t)),yu}function mh(t,i,o){return vu(t,i,o),yu(),mh}let Dg=(t,i,o,c)=>(is(!0),Zl(i[Vt],""));function Cg(){return Et()}function _h(t){return!!t&&"function"==typeof t.then}function wg(t){return!!t&&"function"==typeof t.subscribe}function vh(t,i,o,c){const u=Et(),h=Kn(),m=eo();return function Tg(t,i,o,c,u,h,m){const y=mr(c),N=t.firstCreatePass&&jp(t),z=i[Ci],ie=Hp(i);let Be=!0;if(3&c.type||m){const Ut=d(c,i),en=m?m(Ut):Ut,bn=ie.length,It=m?gi=>m(Ei(gi[c.index])):c.index;let Yn=null;if(!m&&y&&(Yn=function K0(t,i,o,c){const u=t.cleanup;if(null!=u)for(let h=0;h<u.length-1;h+=2){const m=u[h];if(m===o&&u[h+1]===c){const y=i[Mr],w=u[h+2];return y.length>w?y[w]:null}"string"==typeof m&&(h+=2)}return null}(t,i,u,c.index)),null!==Yn)(Yn.__ngLastListenerFn__||Yn).__ngNextListenerFn__=h,Yn.__ngLastListenerFn__=h,Be=!1;else{h=yh(c,i,z,h,!1);const gi=o.listen(en,u,h);ie.push(h,gi),N&&N.push(u,It,bn,bn+1)}}else h=yh(c,i,z,h,!1);const qe=c.outputs;let bt;if(Be&&null!==qe&&(bt=qe[u])){const Ut=bt.length;if(Ut)for(let en=0;en<Ut;en+=2){const no=i[bt[en]][bt[en+1]].subscribe(h),Ds=ie.length;ie.push(h,no),N&&N.push(u,c.index,Ds,-(Ds+1))}}}(h,u,u[Vt],m,t,i,c),vh}function Mg(t,i,o,c){try{return Xi(6,i,o),!1!==o(c)}catch(u){return zp(t,u),!1}finally{Xi(7,i,o)}}function yh(t,i,o,c,u){return function h(m){if(m===Function)return c;rl(t.componentOffset>-1?$(t.index,i):i);let w=Mg(i,o,c,m),N=h.__ngNextListenerFn__;for(;N;)w=Mg(i,o,N,m)&&w,N=N.__ngNextListenerFn__;return u&&!1===w&&m.preventDefault(),w}}function bh(t=1){return function xs(t){return(nn.lFrame.contextLView=function da(t,i){for(;t>0;)i=i[To],t--;return i}(t,nn.lFrame.contextLView))[Ci]}(t)}function X0(t,i){let o=null;const c=function Gi(t){const i=t.attrs;if(null!=i){const o=i.indexOf(5);if(!(1&o))return i[o+1]}return null}(t);for(let u=0;u<i.length;u++){const h=i[u];if("*"!==h){if(null===c?Co(t,h,!0):Ho(c,h))return u}else o=u}return o}function Sg(t){const i=Et()[Ai][Hi];if(!i.projection){const c=i.projection=xl(t?t.length:1,null),u=c.slice();let h=i.child;for(;null!==h;){const m=t?X0(h,t):0;null!==m&&(u[m]?u[m].projectionNext=h:c[m]=h,u[m]=h),h=h.next}}}function Ag(t,i=0,o){const c=Et(),u=Kn(),h=bc(u,Qn+t,16,null,o||null);null===h.projection&&(h.projection=i),Aa(),(!c[Yo]||mt())&&32!=(32&h.flags)&&function Mf(t,i,o){f_(i[Vt],0,i,o,Hl(t,o,i),l_(o.parent||i[Hi],o,i))}(u,c,h)}function Dh(t,i,o){return bu(t,"",i,"",o),Dh}function bu(t,i,o,c,u){const h=Et(),m=Cc(h,i,o,c);return m!==Xn&&rs(Kn(),Ao(),h,t,m,h[Vt],u,!1),bu}function Du(t,i){return t<<17|i<<2}function ya(t){return t>>17&32767}function Ch(t){return 2|t}function $a(t){return(131068&t)>>2}function wh(t,i){return-131069&t|i<<2}function Eh(t){return 1|t}function Lg(t,i,o,c,u){const h=t[o+1],m=null===i;let y=c?ya(h):$a(h),w=!1;for(;0!==y&&(!1===w||m);){const z=t[y+1];ry(t[y],i)&&(w=!0,t[y+1]=c?Eh(z):Ch(z)),y=c?ya(z):$a(z)}w&&(t[o+1]=c?Ch(h):Eh(h))}function ry(t,i){return null===t||null==i||(Array.isArray(t)?t[1]:t)===i||!(!Array.isArray(t)||"string"!=typeof i)&&pa(t,i)>=0}const Wo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Bg(t){return t.substring(Wo.key,Wo.keyEnd)}function Ug(t,i){const o=Wo.textEnd;return o===i?-1:(i=Wo.keyEnd=function ly(t,i,o){for(;i<o&&t.charCodeAt(i)>32;)i++;return i}(t,Wo.key=i,o),Ic(t,i,o))}function Ic(t,i,o){for(;i<o&&t.charCodeAt(i)<=32;)i++;return i}function Th(t,i,o){return Ps(t,i,o,!1),Th}function Mh(t,i){return Ps(t,i,null,!0),Mh}function zg(t){!function Rs(t,i,o,c){const u=Kn(),h=As(2);u.firstUpdatePass&&Gg(u,null,h,c);const m=Et();if(o!==Xn&&Cr(m,h,o)){const y=u.data[Bo()];if(Wg(y,c)&&!$g(u,h)){let w=c?y.classesWithoutHost:y.stylesWithoutHost;null!==w&&(o=ge(w,o||"")),ph(u,y,m,o,c)}else!function my(t,i,o,c,u,h,m,y){u===Xn&&(u=Kt);let w=0,N=0,z=0<u.length?u[0]:null,ie=0<h.length?h[0]:null;for(;null!==z||null!==ie;){const Be=w<u.length?u[w+1]:void 0,qe=N<h.length?h[N+1]:void 0;let Ut,bt=null;z===ie?(w+=2,N+=2,Be!==qe&&(bt=ie,Ut=qe)):null===ie||null!==z&&z<ie?(w+=2,bt=z):(N+=2,bt=ie,Ut=qe),null!==bt&&or(t,i,o,c,bt,Ut,m,y),z=w<u.length?u[w]:null,ie=N<h.length?h[N]:null}}(u,y,m,m[Vt],m[h+1],m[h+1]=function py(t,i,o){if(null==o||""===o)return Kt;const c=[],u=na(o);if(Array.isArray(u))for(let h=0;h<u.length;h++)t(c,u[h],!0);else if("object"==typeof u)for(const h in u)u.hasOwnProperty(h)&&t(c,h,u[h]);else"string"==typeof u&&i(c,u);return c}(t,i,o),c,h)}}(gy,Ws,t,!0)}function Ws(t,i){for(let o=function ay(t){return function Hg(t){Wo.key=0,Wo.keyEnd=0,Wo.value=0,Wo.valueEnd=0,Wo.textEnd=t.length}(t),Ug(t,Ic(t,0,Wo.textEnd))}(i);o>=0;o=Ug(i,o))Rr(t,Bg(i),!0)}function Ps(t,i,o,c){const u=Et(),h=Kn(),m=As(2);h.firstUpdatePass&&Gg(h,t,m,c),i!==Xn&&Cr(u,m,i)&&or(h,h.data[Bo()],u,u[Vt],t,u[m+1]=function _y(t,i){return null==t||""===t||("string"==typeof i?t+=i:"object"==typeof t&&(t=ne(na(t)))),t}(i,o),c,m)}function $g(t,i){return i>=t.expandoStartIndex}function Gg(t,i,o,c){const u=t.data;if(null===u[o+1]){const h=u[Bo()],m=$g(t,o);Wg(h,c)&&null===i&&!m&&(i=!1),i=function fy(t,i,o,c){const u=function P(t){const i=nn.lFrame.currentDirectiveIndex;return-1===i?null:t[i]}(t);let h=c?i.residualClasses:i.residualStyles;if(null===u)0===(c?i.classBindings:i.styleBindings)&&(o=fl(o=xi(null,t,i,o,c),i.attrs,c),h=null);else{const m=i.directiveStylingLast;if(-1===m||t[m]!==u)if(o=xi(u,t,i,o,c),null===h){let w=function po(t,i,o){const c=o?i.classBindings:i.styleBindings;if(0!==$a(c))return t[ya(c)]}(t,i,c);void 0!==w&&Array.isArray(w)&&(w=xi(null,t,i,w[1],c),w=fl(w,i.attrs,c),function sa(t,i,o,c){t[ya(o?i.classBindings:i.styleBindings)]=c}(t,i,c,w))}else h=function Yr(t,i,o){let c;const u=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<u;h++)c=fl(c,t[h].hostAttrs,o);return fl(c,i.attrs,o)}(t,i,c)}return void 0!==h&&(c?i.residualClasses=h:i.residualStyles=h),o}(u,h,i,c),function iy(t,i,o,c,u,h){let m=h?i.classBindings:i.styleBindings,y=ya(m),w=$a(m);t[c]=o;let z,N=!1;if(Array.isArray(o)?(z=o[1],(null===z||pa(o,z)>0)&&(N=!0)):z=o,u)if(0!==w){const Be=ya(t[y+1]);t[c+1]=Du(Be,y),0!==Be&&(t[Be+1]=wh(t[Be+1],c)),t[y+1]=function ty(t,i){return 131071&t|i<<17}(t[y+1],c)}else t[c+1]=Du(y,0),0!==y&&(t[y+1]=wh(t[y+1],c)),y=c;else t[c+1]=Du(w,0),0===y?y=c:t[w+1]=wh(t[w+1],c),w=c;N&&(t[c+1]=Ch(t[c+1])),Lg(t,z,c,!0),Lg(t,z,c,!1),function oy(t,i,o,c,u){const h=u?t.residualClasses:t.residualStyles;null!=h&&"string"==typeof i&&pa(h,i)>=0&&(o[c+1]=Eh(o[c+1]))}(i,z,t,c,h),m=Du(y,w),h?i.classBindings=m:i.styleBindings=m}(u,h,i,o,m,c)}}function xi(t,i,o,c,u){let h=null;const m=o.directiveEnd;let y=o.directiveStylingLast;for(-1===y?y=o.directiveStart:y++;y<m&&(h=i[y],c=fl(c,h.hostAttrs,u),h!==t);)y++;return null!==t&&(o.directiveStylingLast=y),c}function fl(t,i,o){const c=o?1:2;let u=-1;if(null!==i)for(let h=0;h<i.length;h++){const m=i[h];"number"==typeof m?u=m:u===c&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Rr(t,m,!!o||i[++h]))}return void 0===t?null:t}function gy(t,i,o){const c=String(i);""!==c&&!c.includes(" ")&&Rr(t,c,o)}function or(t,i,o,c,u,h,m,y){if(!(3&i.type))return;const w=t.data,N=w[y+1],z=function ny(t){return 1==(1&t)}(N)?qg(w,i,o,u,$a(N),m):void 0;Cu(z)||(Cu(h)||function ey(t){return 2==(2&t)}(N)&&(h=qg(w,null,o,u,y,m)),function L1(t,i,o,c,u){if(i)u?t.addClass(o,c):t.removeClass(o,c);else{let h=-1===c.indexOf("-")?void 0:qc.DashCase;null==u?t.removeStyle(o,c,h):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),h|=qc.Important),t.setStyle(o,c,u,h))}}(c,m,s(Bo(),o),u,h))}function qg(t,i,o,c,u,h){const m=null===i;let y;for(;u>0;){const w=t[u],N=Array.isArray(w),z=N?w[1]:w,ie=null===z;let Be=o[u+1];Be===Xn&&(Be=ie?Kt:void 0);let qe=ie?Il(Be,c):z===c?Be:void 0;if(N&&!Cu(qe)&&(qe=Il(w,c)),Cu(qe)&&(y=qe,m))return y;const bt=t[u+1];u=m?ya(bt):$a(bt)}if(null!==i){let w=h?i.residualClasses:i.residualStyles;null!=w&&(y=Il(w,c))}return y}function Cu(t){return void 0!==t}function Wg(t,i){return 0!=(t.flags&(i?8:16))}function Jg(t,i=""){const o=Et(),c=Kn(),u=t+Qn,h=c.firstCreatePass?bc(c,u,1,i,null):c.data[u],m=Qg(c,o,h,i,t);o[u]=m,xo()&&hd(c,o,m,h),yr(h,!1)}let Qg=(t,i,o,c,u)=>(is(!0),ad(i[Vt],c));function Sh(t){return wu("",t,""),Sh}function wu(t,i,o){const c=Et(),u=Cc(c,t,i,o);return u!==Xn&&ra(c,Bo(),u),wu}function Ah(t,i,o,c,u){const h=Et(),m=wc(h,t,i,o,c,u);return m!==Xn&&ra(h,Bo(),m),Ah}function ss(t,i,o){const c=Et();return Cr(c,xa(),i)&&rs(Kn(),Ao(),c,t,i,c[Vt],o,!0),ss}const as=void 0;var cs=["en",[["a","p"],["AM","PM"],as],[["AM","PM"],as,as],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],as,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],as,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",as,"{1} 'at' {0}",as],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ga(t){const o=Math.floor(Math.abs(t)),c=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===c?1:5}];let Er={};function aa(t){const i=function ba(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=Oc(i);if(o)return o;const c=i.split("-")[0];if(o=Oc(c),o)return o;if("en"===c)return cs;throw new be(701,!1)}function Eu(t){return aa(t)[Fs.PluralCase]}function Oc(t){return t in Er||(Er[t]=qt.ng&&qt.ng.common&&qt.ng.common.locales&&qt.ng.common.locales[t]),Er[t]}var Fs=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Fs||{});const ys="en-US",Mu={marker:"element"},Nc={marker:"ICU"};var qr=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}(qr||{});let om=ys;function rm(t){(function rt(t,i){null==t&&ot(i,t,null,"!=")})(t,"Expected localeId to be defined"),"string"==typeof t&&(om=t.toLowerCase().replace(/_/g,"-"))}function kh(t,i,o){const c=i.insertBeforeIndex,u=Array.isArray(c)?c[0]:c;return null===u?u_(t,0,o):Ei(o[u])}function am(t,i,o,c,u){const h=i.insertBeforeIndex;if(Array.isArray(h)){let m=c,y=null;if(3&i.type||(y=m,m=u),null!==m&&-1===i.componentOffset)for(let w=1;w<h.length;w++)lc(t,m,o[h[w]],y,!1)}}function cm(t,i){if(t.push(i),t.length>1)for(let o=t.length-2;o>=0;o--){const c=t[o];Da(c)||Su(c,i)&&null===lm(c)&&um(c,i.index)}}function Da(t){return!(64&t.type)}function Su(t,i){return Da(i)||t.index>i.index}function lm(t){const i=t.insertBeforeIndex;return Array.isArray(i)?i[0]:i}function um(t,i){const o=t.insertBeforeIndex;Array.isArray(o)?o[0]=i:(d_(kh,am),t.insertBeforeIndex=i)}function fm(t,i,o){const c=Gd(t,o,64,null,null);return cm(i,c),c}function QC(){const t=[];let o,c,i=-1;function h(y,w){i=0;const N=function gl(t,i){const o=i[t.currentCaseLViewIndex];return null===o?o:o<0?~o:o}(y,w);c=null!==N?y.remove[N]:Kt}function m(){if(i<c.length){const y=c[i++];return y>0?o[y]:(t.push(i,c),h(o[$t].data[~y],o),m())}return 0===t.length?null:(c=t.pop(),i=t.pop(),m())}return function u(y,w){for(o=w;t.length;)t.pop();return h(y.value,w),m}}const pm=/\ufffd(\d+):?\d*\ufffd/gi,XC=/\ufffd(\d+)\ufffd/,Ob=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Fh="\ufffd",ew=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,tw=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,nw=/\uE500/g;function Nb(t,i,o,c,u,h,m){const y=sl(t,c,1,null);let w=y<<qr.SHIFT,N=$r();i===N&&(N=null),null===N&&(w|=qr.APPEND_EAGERLY),m&&(w|=qr.COMMENT,function bf(t){void 0===rd&&(rd=t())}(QC)),u.push(w,null===h?"":h);const z=Gd(t,y,m?32:1,null===h?"":h,null);cm(o,z);const ie=z.index;return yr(z,!1),null!==N&&i!==N&&function hm(t,i){let o=t.insertBeforeIndex;null===o?(d_(kh,am),o=t.insertBeforeIndex=[null,i]):(function pt(t,i,o){t!=i&&ot(o,t,i,"==")}(Array.isArray(o),!0,"Expecting array here"),o.push(i))}(N,ie),z}function rw(t,i,o,c,u,h,m){const y=m.match(pm),w=Nb(t,i,o,h,c,y?null:m,!1);y&&Lh(u,m,w.index,null,0,null)}function Lh(t,i,o,c,u,h){const m=t.length,y=m+1;t.push(null,null);const w=m+2,N=i.split(pm);let z=0;for(let ie=0;ie<N.length;ie++){const Be=N[ie];if(1&ie){const qe=u+parseInt(Be,10);t.push(-1-qe),z|=kb(qe)}else""!==Be&&t.push(Be)}return t.push(o<<2|(c?1:0)),c&&t.push(c,h),t[m]=z,t[y]=t.length-w,z}function kb(t){return 1<<Math.min(t,31)}function Pb(t){let i,h,o="",c=0,u=!1;for(;null!==(i=ew.exec(t));)u?i[0]===`${Fh}/*${h}${Fh}`&&(c=i.index,u=!1):(o+=t.substring(c,i.index+i[0].length),h=i[1],u=!0);return o+=t.slice(c),o}function Rb(t,i,o,c,u,h){let m=0;const y={type:u.type,currentCaseLViewIndex:sl(t,i,1,null),anchorIdx:h,cases:[],create:[],remove:[],update:[]};(function fw(t,i,o){t.push(kb(i.mainBinding),2,-1-i.mainBinding,o<<2|2)})(o,u,h),function dm(t,i,o){const c=t.data[i];null===c?t.data[i]=o:c.value=o}(t,h,y);const w=u.values;for(let N=0;N<w.length;N++){const z=w[N],ie=[];for(let Be=0;Be<z.length;Be++){const qe=z[Be];if("string"!=typeof qe){const bt=ie.push(qe)-1;z[Be]=`\x3c!--\ufffd${bt}\ufffd--\x3e`}}m=dw(t,y,i,o,c,u.cases[N],z.join(""),ie)|m}m&&function pw(t,i,o){t.push(i,1,o<<2|3)}(o,m,h)}function uw(t){const i=[],o=[];let c=1,u=0;const h=Dy(t=t.replace(Ob,function(m,y,w){return c="select"===w?0:1,u=parseInt(y.slice(1),10),""}));for(let m=0;m<h.length;){let y=h[m++].trim();1===c&&(y=y.replace(/\s*(?:=)?(\w+)\s*/,"$1")),y.length&&i.push(y);const w=Dy(h[m++]);i.length>o.length&&o.push(w)}return{type:c,mainBinding:u,cases:i,values:o}}function Dy(t){if(!t)return[];let i=0;const o=[],c=[],u=/[{}]/g;let h;for(u.lastIndex=0;h=u.exec(t);){const y=h.index;if("}"==h[0]){if(o.pop(),0==o.length){const w=t.substring(i,y);Ob.test(w)?c.push(uw(w)):c.push(w),i=y+1}}else{if(0==o.length){const w=t.substring(i,y);c.push(w),i=y+1}o.push("{")}}const m=t.substring(i);return c.push(m),c}function dw(t,i,o,c,u,h,m,y){const w=[],N=[],z=[];i.cases.push(h),i.create.push(w),i.remove.push(N),i.update.push(z);const Be=Rf(Qc()).getInertBodyElement(m),qe=yd(Be)||Be;return qe?Fb(t,i,o,c,w,N,z,qe,u,y,0):0}function Fb(t,i,o,c,u,h,m,y,w,N,z){let ie=0,Be=y.firstChild;for(;Be;){const qe=sl(t,o,1,null);switch(Be.nodeType){case Node.ELEMENT_NODE:const bt=Be,Ut=bt.tagName.toLowerCase();if(_d.hasOwnProperty(Ut)){Cy(u,Mu,Ut,w,qe),t.data[qe]=Ut;const Yn=bt.attributes;for(let gi=0;gi<Yn.length;gi++){const no=Yn.item(gi),Ds=no.name.toLowerCase();no.value.match(pm)?Uf.hasOwnProperty(Ds)&&Lh(m,no.value,qe,no.name,0,vd[Ds]?$l:null):gw(u,qe,no)}ie=Fb(t,i,o,c,u,h,m,Be,qe,N,z+1)|ie,Lb(h,qe,z)}break;case Node.TEXT_NODE:const en=Be.textContent||"",bn=en.match(pm);Cy(u,null,bn?"":en,w,qe),Lb(h,qe,z),bn&&(ie=Lh(m,en,qe,null,0,null)|ie);break;case Node.COMMENT_NODE:const It=XC.exec(Be.textContent||"");if(It){const gi=N[parseInt(It[1],10)];Cy(u,Nc,"",w,qe),Rb(t,o,c,w,gi,qe),hw(h,qe,z)}}Be=Be.nextSibling}return ie}function Lb(t,i,o){0===o&&t.push(i)}function hw(t,i,o){0===o&&(t.push(~i),t.push(i))}function Cy(t,i,o,c,u){null!==i&&t.push(i),t.push(o,u,function $C(t,i,o){return t|i<<17|o<<1}(0,c,u))}function gw(t,i,o){t.push(i<<1|1,o.name,o.value)}function Ub(t,i,o=-1){const c=Kn(),u=Et(),h=Qn+t,m=wt(c.consts,i),y=$r();c.firstCreatePass&&function ow(t,i,o,c,u,h){const m=$r(),y=[],w=[],N=[[]];u=function lw(t,i){if(function cw(t){return-1===t}(i))return Pb(t);{const o=t.indexOf(`:${i}${Fh}`)+2+i.toString().length,c=t.search(new RegExp(`${Fh}\\/\\*\\d+:${i}${Fh}`));return Pb(t.substring(o,c))}}(u,h);const z=function iw(t){return t.replace(nw," ")}(u).split(tw);for(let ie=0;ie<z.length;ie++){let Be=z[ie];if(1&ie){const qe=47===Be.charCodeAt(0),Ut=(Be.charCodeAt(qe?1:0),Qn+Number.parseInt(Be.substring(qe?2:1)));if(qe)N.shift(),yr($r(),!1);else{const en=fm(t,N[0],Ut);N.unshift([]),yr(en,!0)}}else{const qe=Dy(Be);for(let bt=0;bt<qe.length;bt++){let Ut=qe[bt];if(1&bt){const en=Ut;if("object"!=typeof en)throw new Error(`Unable to parse ICU expression in "${u}" message.`);Rb(t,o,w,i,en,Nb(t,m,N[0],o,y,"",!0).index)}else""!==Ut&&rw(t,m,N[0],y,w,o,Ut)}}}t.data[c]={create:y,update:w}}(c,null===y?0:y.index,u,h,m,o),2===c.type?u[Ai][on]|=32:u[on]|=32;const w=c.data[h],z=o_(c,y===u[Hi]?null:y,u);(function qC(t,i,o,c){const u=t[Vt];for(let h=0;h<i.length;h++){const m=i[h++],y=i[h],N=(m&qr.APPEND_EAGERLY)===qr.APPEND_EAGERLY,z=m>>>qr.SHIFT;let ie=t[z];null===ie&&(ie=t[z]=(m&qr.COMMENT)===qr.COMMENT?u.createComment(y):ad(u,y)),N&&null!==o&&lc(u,o,ie,c,!1)}})(u,w.create,z,y&&8&y.type?u[y.index]:null),b(!0)}function Hb(t,i,o){Ub(t,i,o),function Zb(){b(!1)}()}function wy(t,i,o,c,u){if(t=ze(t),Array.isArray(t))for(let h=0;h<t.length;h++)wy(t[h],i,o,c,u);else{const h=Kn(),m=Et(),y=eo();let w=_a(t)?t:ze(t.provide);const N=qf(t),z=1048575&y.providerIndexes,ie=y.directiveStart,Be=y.providerIndexes>>20;if(_a(t)||!t.multi){const qe=new Lc(N,u,yc),bt=Ty(w,i,u?z:z+Be,ie);-1===bt?(ec(Ml(y,m),h,w),Ey(h,t,i.length),i.push(w),y.directiveStart++,y.directiveEnd++,u&&(y.providerIndexes+=1048576),o.push(qe),m.push(qe)):(o[bt]=qe,m[bt]=qe)}else{const qe=Ty(w,i,z+Be,ie),bt=Ty(w,i,z,z+Be),en=bt>=0&&o[bt];if(u&&!en||!u&&!(qe>=0&&o[qe])){ec(Ml(y,m),h,w);const bn=function Ow(t,i,o,c,u){const h=new Lc(t,o,yc);return h.multi=[],h.index=i,h.componentProviders=0,Vb(h,u,c&&!o),h}(u?Iw:xw,o.length,u,c,N);!u&&en&&(o[bt].providerFactory=bn),Ey(h,t,i.length,0),i.push(w),y.directiveStart++,y.directiveEnd++,u&&(y.providerIndexes+=1048576),o.push(bn),m.push(bn)}else Ey(h,t,qe>-1?qe:bt,Vb(o[u?bt:qe],N,!u&&c));!u&&c&&en&&o[bt].componentProviders++}}}function Ey(t,i,o,c){const u=_a(i),h=function U_(t){return!!t.useClass}(i);if(u||h){const w=(h?ze(i.useClass):i).prototype.ngOnDestroy;if(w){const N=t.destroyHooks||(t.destroyHooks=[]);if(!u&&i.multi){const z=N.indexOf(o);-1===z?N.push(o,[c,w]):N[z+1].push(c,w)}else N.push(o,w)}}}function Vb(t,i,o){return o&&t.componentProviders++,t.multi.push(i)-1}function Ty(t,i,o,c){for(let u=o;u<c;u++)if(i[u]===t)return u;return-1}function xw(t,i,o,c){return My(this.multi,[])}function Iw(t,i,o,c){const u=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,y=Oa(o,o[$t],this.providerFactory.index,c);h=y.slice(0,m),My(u,h);for(let w=m;w<y.length;w++)h.push(y[w])}else h=[],My(u,h);return h}function My(t,i){for(let o=0;o<t.length;o++)i.push((0,t[o])());return i}function zb(t,i=[]){return o=>{o.providersResolver=(c,u)=>function Aw(t,i,o){const c=Kn();if(c.firstCreatePass){const u=fo(t);wy(o,c.data,c.blueprint,u,!0),wy(i,c.data,c.blueprint,u,!1)}}(c,u?u(t):t,i)}}class ml{}class $b{}function Nw(t,i){return new Sy(t,i??null,[])}class Sy extends ml{constructor(i,o,c){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Qp(this);const u=kn(i);this._bootstrapComponents=oa(u.bootstrap),this._r3Injector=cp(i,o,[{provide:ml,useValue:this},{provide:eu,useValue:this.componentFactoryResolver},...c],ne(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Ay extends $b{constructor(i){super(),this.moduleType=i}create(i){return new Sy(this.moduleType,i,[])}}class Gb extends ml{constructor(i){super(),this.componentFactoryResolver=new Qp(this),this.instance=null;const o=new Ql([...i.providers,{provide:ml,useValue:this},{provide:eu,useValue:this.componentFactoryResolver}],i.parent||Jl(),i.debugName,new Set(["environment"]));this.injector=o,i.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function Yb(t,i,o=null){return new Gb({providers:t,parent:i,debugName:o,runEnvironmentInitializers:!0}).injector}let Pw=(()=>{class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const c=Gf(0,o.type),u=c.length>0?Yb([c],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,u)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=zt({token:t,providedIn:"environment",factory:()=>new t(at(zs))})}return t})();function qb(t){t.getStandaloneInjector=i=>i.get(Pw).getOrCreateStandaloneInjector(t)}function tD(t,i,o){const c=br()+t,u=Et();return u[c]===Xn?Gr(u,c,o?i.call(o):i()):function ul(t,i){return t[i]}(u,c)}function nD(t,i,o,c){return rD(Et(),br(),t,i,o,c)}function iD(t,i,o,c,u){return sD(Et(),br(),t,i,o,c,u)}function oD(t,i,o,c,u,h){return function aD(t,i,o,c,u,h,m,y){const w=i+o;return function du(t,i,o,c,u){const h=Va(t,i,o,c);return Cr(t,i+2,u)||h}(t,w,u,h,m)?Gr(t,w+3,y?c.call(y,u,h,m):c(u,h,m)):Bh(t,w+3)}(Et(),br(),t,i,o,c,u,h)}function Bh(t,i){const o=t[i];return o===Xn?void 0:o}function rD(t,i,o,c,u,h){const m=i+o;return Cr(t,m,u)?Gr(t,m+1,h?c.call(h,u):c(u)):Bh(t,m+1)}function sD(t,i,o,c,u,h,m){const y=i+o;return Va(t,y,u,h)?Gr(t,y+2,m?c.call(m,u,h):c(u,h)):Bh(t,y+2)}function uD(t,i){const o=Kn();let c;const u=t+Qn;o.firstCreatePass?(c=function Ww(t,i){if(i)for(let o=i.length-1;o>=0;o--){const c=i[o];if(t===c.name)return c}}(i,o.pipeRegistry),o.data[u]=c,c.onDestroy&&(o.destroyHooks??=[]).push(u,c.onDestroy)):c=o.data[u];const h=c.factory||(c.factory=Zr(c.type)),y=Rn(yc);try{const w=Tl(!1),N=h();return Tl(w),function $0(t,i,o,c){o>=t.data.length&&(t.data[o]=null,t.blueprint[o]=null),i[o]=c}(o,Et(),u,N),N}finally{Rn(y)}}function dD(t,i,o){const c=t+Qn,u=Et(),h=O(u,c);return Uh(u,c)?rD(u,br(),i,h.transform,o,h):h.transform(o)}function hD(t,i,o,c){const u=t+Qn,h=Et(),m=O(h,u);return Uh(h,u)?sD(h,br(),i,m.transform,o,c,m):m.transform(o,c)}function Uh(t,i){return t[$t].data[i].pure}function Xw(){return this._results[Symbol.iterator]()}class Iy{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Gs)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Iy.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=Xw)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const c=this;c.dirty=!1;const u=function Is(t){return t.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function g1(t,i,o){if(t.length!==i.length)return!1;for(let c=0;c<t.length;c++){let u=t[c],h=i[c];if(o&&(u=o(u),h=o(h)),h!==u)return!1}return!0}(c._results,u,o))&&(c._results=u,c.length=u.length,c.last=u[this.length-1],c.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function tE(t,i,o,c=!0){const u=i[$t];if(function N1(t,i,o,c){const u=co+c,h=o.length;c>0&&(o[u-1][ro]=i),c<h-co?(i[ro]=o[u],Nm(o,co+c,i)):(o.push(i),i[ro]=null),i[ai]=o;const m=i[Vo];null!==m&&o!==m&&function k1(t,i){const o=t[Lr];i[Ai]!==i[ai][ai][Ai]&&(t[gr]=!0),null===o?t[Lr]=[i]:o.push(i)}(m,i);const y=i[Oo];null!==y&&y.insertView(t),i[on]|=128}(u,i,t,o),c){const h=Vl(o,t),m=i[Vt],y=ud(m,t[so]);null!==y&&function Df(t,i,o,c,u,h){c[hi]=u,c[Hi]=i,Uo(t,c,o,1,u,h)}(u,t[Hi],m,i,y,h)}}let Zh=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=oE}return t})();const nE=Zh,iE=class extends nE{constructor(i,o,c){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,o){return this.createEmbeddedViewImpl(i,o)}createEmbeddedViewImpl(i,o,c){const u=function eE(t,i,o,c){const u=i.tView,y=iu(t,u,o,4096&t[on]?4096:16,null,i,null,null,null,c?.injector??null,c?.hydrationInfo??null);y[Vo]=t[i.index];const N=t[Oo];return null!==N&&(y[Oo]=N.createEmbeddedView(u)),nh(u,y,o),y}(this._declarationLView,this._declarationTContainer,i,{injector:o,hydrationInfo:c});return new cl(u)}};function oE(){return gm(eo(),Et())}function gm(t,i){return 4&t.type?new iE(i,t,Ha(t,i)):null}let _m=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=uE}return t})();function uE(){return yD(eo(),Et())}const dE=_m,_D=class extends dE{constructor(i,o,c){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=c}get element(){return Ha(this._hostTNode,this._hostLView)}get injector(){return new Pr(this._hostTNode,this._hostLView)}get parentInjector(){const i=Xa(this._hostTNode,this._hostLView);if(ea(i)){const o=fa(i,this._hostLView),c=Bc(i);return new Pr(o[$t].data[c+8],o)}return new Pr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=vD(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-co}createEmbeddedView(i,o,c){let u,h;"number"==typeof c?u=c:null!=c&&(u=c.index,h=c.injector);const y=i.createEmbeddedViewImpl(o||{},h,null);return this.insertImpl(y,u,false),y}createComponent(i,o,c,u,h){const m=i&&!function Vc(t){return"function"==typeof t}(i);let y;if(m)y=o;else{const Ut=o||{};y=Ut.index,c=Ut.injector,u=Ut.projectableNodes,h=Ut.environmentInjector||Ut.ngModuleRef}const w=m?i:new ll(On(i)),N=c||this.parentInjector;if(!h&&null==w.ngModule){const en=(m?N:this.parentInjector).get(zs,null);en&&(h=en)}On(w.componentType??{});const qe=w.create(N,u,null,h);return this.insertImpl(qe.hostView,y,false),qe}insert(i,o){return this.insertImpl(i,o,!1)}insertImpl(i,o,c){const u=i._lView;if(function lt(t){return Qi(t[ai])}(u)){const w=this.indexOf(i);if(-1!==w)this.detach(w);else{const N=u[ai],z=new _D(N,N[Hi],N[ai]);z.detach(z.indexOf(i))}}const m=this._adjustIndex(o),y=this._lContainer;return tE(y,u,m,!c),i.attachToViewContainerRef(),Nm(Oy(y),m,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=vD(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),c=ld(this._lContainer,o);c&&($u(Oy(this._lContainer),o),Cf(c[$t],c))}detach(i){const o=this._adjustIndex(i,-1),c=ld(this._lContainer,o);return c&&null!=$u(Oy(this._lContainer),o)?new cl(c):null}_adjustIndex(i,o=0){return i??this.length+o}};function vD(t){return t[8]}function Oy(t){return t[8]||(t[8]=[])}function yD(t,i){let o;const c=i[t.index];return Qi(c)?o=c:(o=Up(c,i,null,t),i[t.index]=o,ou(i,o)),bD(o,i,t,c),new _D(o,t,i)}let bD=function DD(t,i,o,c){if(t[so])return;let u;u=8&o.type?Ei(c):function hE(t,i){const o=t[Vt],c=o.createComment(""),u=d(i,t);return lc(o,ud(o,u),c,function c_(t,i){return t.nextSibling(i)}(o,u),!1),c}(i,o),t[so]=u};class Ny{constructor(i){this.queryList=i,this.matches=null}clone(){return new Ny(this.queryList)}setDirty(){this.queryList.setDirty()}}class ky{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const c=null!==i.contentQueries?i.contentQueries[0]:o.length,u=[];for(let h=0;h<c;h++){const m=o.getByIndex(h);u.push(this.queries[m.indexInDeclarationView].clone())}return new ky(u)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==ID(i,o).matches&&this.queries[o].setDirty()}}class CD{constructor(i,o,c=null){this.predicate=i,this.flags=o,this.read=c}}class Py{constructor(i=[]){this.queries=i}elementStart(i,o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let c=0;c<this.length;c++){const u=null!==o?o.length:0,h=this.getByIndex(c).embeddedTView(i,u);h&&(h.indexInDeclarationView=c,null!==o?o.push(h):o=[h])}return null!==o?new Py(o):null}template(i,o){for(let c=0;c<this.queries.length;c++)this.queries[c].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Ry{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new Ry(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let c=i.parent;for(;null!==c&&8&c.type&&c.index!==o;)c=c.parent;return o===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const c=this.metadata.predicate;if(Array.isArray(c))for(let u=0;u<c.length;u++){const h=c[u];this.matchTNodeWithReadOption(i,o,gE(o,h)),this.matchTNodeWithReadOption(i,o,Uc(o,i,h,!1,!1))}else c===Zh?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,Uc(o,i,c,!1,!1))}matchTNodeWithReadOption(i,o,c){if(null!==c){const u=this.metadata.read;if(null!==u)if(u===gc||u===_m||u===Zh&&4&o.type)this.addMatch(o.index,-2);else{const h=Uc(o,i,u,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,c)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function gE(t,i){const o=t.localNames;if(null!==o)for(let c=0;c<o.length;c+=2)if(o[c]===i)return o[c+1];return null}function _E(t,i,o,c){return-1===o?function mE(t,i){return 11&t.type?Ha(t,i):4&t.type?gm(t,i):null}(i,t):-2===o?function vE(t,i,o){return o===gc?Ha(i,t):o===Zh?gm(i,t):o===_m?yD(i,t):void 0}(t,i,c):Oa(t,t[$t],o,i)}function wD(t,i,o,c){const u=i[Oo].queries[c];if(null===u.matches){const h=t.data,m=o.matches,y=[];for(let w=0;w<m.length;w+=2){const N=m[w];y.push(N<0?null:_E(i,h[N],m[w+1],o.metadata.read))}u.matches=y}return u.matches}function Fy(t,i,o,c){const u=t.queries.getByIndex(o),h=u.matches;if(null!==h){const m=wD(t,i,u,o);for(let y=0;y<h.length;y+=2){const w=h[y];if(w>0)c.push(m[y/2]);else{const N=h[y+1],z=i[-w];for(let ie=co;ie<z.length;ie++){const Be=z[ie];Be[Vo]===Be[ai]&&Fy(Be[$t],Be,N,c)}if(null!==z[Lr]){const ie=z[Lr];for(let Be=0;Be<ie.length;Be++){const qe=ie[Be];Fy(qe[$t],qe,N,c)}}}}}return c}function ED(t){const i=Et(),o=Kn(),c=G();ae(c+1);const u=ID(o,c);if(t.dirty&&function we(t){return 4==(4&t[on])}(i)===(2==(2&u.metadata.flags))){if(null===u.matches)t.reset([]);else{const h=u.crossesNgTemplate?Fy(o,i,c,[]):wD(o,i,u,c);t.reset(h,sv),t.notifyOnChanges()}return!0}return!1}function TD(t,i,o){const c=Kn();c.firstCreatePass&&(xD(c,new CD(t,i,o),-1),2==(2&i)&&(c.staticViewQueries=!0)),AD(c,Et(),i)}function MD(t,i,o,c){const u=Kn();if(u.firstCreatePass){const h=eo();xD(u,new CD(i,o,c),h.index),function bE(t,i){const o=t.contentQueries||(t.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,i)}(u,t),2==(2&o)&&(u.staticContentQueries=!0)}AD(u,Et(),o)}function SD(){return function yE(t,i){return t[Oo].queries[i].queryList}(Et(),G())}function AD(t,i,o){const c=new Iy(4==(4&o));(function kp(t,i,o,c){const u=Hp(i);u.push(o),t.firstCreatePass&&jp(t).push(c,u.length-1)})(t,i,c,c.destroy),null===i[Oo]&&(i[Oo]=new ky),i[Oo].queries.push(new Ny(c))}function xD(t,i,o){null===t.queries&&(t.queries=new Py),t.queries.track(new Ry(i,o))}function ID(t,i){return t.queries.getByIndex(i)}function OD(t,i){return gm(t,i)}function Ly(t){return!!kn(t)}const qD=new ki("Application Initializer");let jy=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,c)=>{this.resolve=o,this.reject=c}),this.appInits=At(qD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const u of this.appInits){const h=u();if(_h(h))o.push(h);else if(wg(h)){const m=new Promise((y,w)=>{h.subscribe({complete:y,error:w})});o.push(m)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{c()}).catch(u=>{this.reject(u)}),0===o.length&&c(),this.initialized=!0}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=zt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),WD=(()=>{class t{log(o){console.log(o)}warn(o){console.warn(o)}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=zt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const ym=new ki("LocaleId",{providedIn:"root",factory:()=>At(ym,Lt.Optional|Lt.SkipSelf)||function HE(){return typeof $localize<"u"&&$localize.locale||ys}()}),jE=new ki("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let JD=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new q.X(!1)}add(){this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=zt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class zE{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let $E=(()=>{class t{compileModuleSync(o){return new Ay(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const c=this.compileModuleSync(o),h=oa(kn(o).declarations).reduce((m,y)=>{const w=On(y);return w&&m.push(new ll(w)),m},[]);return new zE(c,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=zt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const eC=new ki(""),tC=new ki("");let $y,dT=(()=>{class t{constructor(o,c,u){this._ngZone=o,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,$y||(function hT(t){$y=t}(u),u.addToWindow(c)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ir.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(o)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,c,u){let h=-1;c&&c>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==h),o(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:u})}whenStable(o,c,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,c,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,c,u){return[]}static#e=this.\u0275fac=function(c){return new(c||t)(at(ir),at(nC),at(tC))};static#t=this.\u0275prov=zt({token:t,factory:t.\u0275fac})}return t})(),nC=(()=>{class t{constructor(){this._applications=new Map}registerApplication(o,c){this._applications.set(o,c)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,c=!0){return $y?.findTestabilityInTree(this,o,c)??null}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=zt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),kc=null;const iC=new ki("AllowMultipleToken"),Gy=new ki("PlatformDestroyListeners"),Yy=new ki("appBootstrapListener");class gT{constructor(i,o){this.name=i,this.token=o}}function sC(t,i,o=[]){const c=`Platform: ${i}`,u=new ki(c);return(h=[])=>{let m=qy();if(!m||m.injector.get(iC,!1)){const y=[...o,...h,{provide:u,useValue:!0}];t?t(y):function mT(t){if(kc&&!kc.get(iC,!1))throw new be(400,!1);(function oC(){!function Ks(t){er=t}(()=>{throw new be(600,!1)})})(),kc=t;const i=t.get(cC);(function rC(t){t.get(Jf,null)?.forEach(o=>o())})(t)}(function aC(t=[],i){return Ns.create({name:i,providers:[{provide:Dr,useValue:"platform"},{provide:Gy,useValue:new Set([()=>kc=null])},...t]})}(y,c))}return function vT(t){const i=qy();if(!i)throw new be(401,!1);return i}()}}function qy(){return kc?.get(cC)??null}let cC=(()=>{class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,c){const u=function yT(t="zone.js",i){return"noop"===t?new Cv:"zone.js"===t?new ir(i):t}(c?.ngZone,function lC(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return u.run(()=>{const h=function kw(t,i,o){return new Sy(t,i,o)}(o.moduleType,this.injector,function pC(t){return[{provide:ir,useFactory:t},{provide:tl,multi:!0,useFactory:()=>{const i=At(DT,{optional:!0});return()=>i.initialize()}},{provide:fC,useFactory:bT},{provide:fp,useFactory:pp}]}(()=>u)),m=h.injector.get(va,null);return u.runOutsideAngular(()=>{const y=u.onError.subscribe({next:w=>{m.handleError(w)}});h.onDestroy(()=>{Dm(this._modules,h),y.unsubscribe()})}),function uC(t,i,o){try{const c=o();return _h(c)?c.catch(u=>{throw i.runOutsideAngular(()=>t.handleError(u)),u}):c}catch(c){throw i.runOutsideAngular(()=>t.handleError(c)),c}}(m,u,()=>{const y=h.injector.get(jy);return y.runInitializers(),y.donePromise.then(()=>(rm(h.injector.get(ym,ys)||ys),this._moduleDoBootstrap(h),h))})})}bootstrapModule(o,c=[]){const u=dC({},c);return function fT(t,i,o){const c=new Ay(o);return Promise.resolve(c)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,u))}_moduleDoBootstrap(o){const c=o.injector.get(Iu);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(u=>c.bootstrap(u));else{if(!o.instance.ngDoBootstrap)throw new be(-403,!1);o.instance.ngDoBootstrap(c)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new be(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const o=this._injector.get(Gy,null);o&&(o.forEach(c=>c()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(c){return new(c||t)(at(Ns))};static#t=this.\u0275prov=zt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function dC(t,i){return Array.isArray(i)?i.reduce(dC,t):{...t,...i}}let Iu=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=At(fC),this.zoneIsStable=At(fp),this.componentTypes=[],this.components=[],this.isStable=At(JD).hasPendingTasks.pipe((0,Le.w)(o=>o?(0,e.of)(!1):this.zoneIsStable),(0,oe.x)(),(0,Q.B)()),this._injector=At(zs)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,c){const u=o instanceof ep;if(!this._injector.get(jy).done)throw!u&&Ni(o),new be(405,!1);let m;m=u?o:this._injector.get(eu).resolveComponentFactory(o),this.componentTypes.push(m.componentType);const y=function pT(t){return t.isBoundToModule}(m)?void 0:this._injector.get(ml),N=m.create(Ns.NULL,[],c||m.selector,y),z=N.location.nativeElement,ie=N.injector.get(eC,null);return ie?.registerApplication(z),N.onDestroy(()=>{this.detachView(N.hostView),Dm(this.components,N),ie?.unregisterApplication(z)}),this._loadComponent(N),N}tick(){if(this._runningTick)throw new be(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1}}attachView(o){const c=o;this._views.push(c),c.attachToAppRef(this)}detachView(o){const c=o;Dm(this._views,c),c.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const c=this._injector.get(Yy,[]);c.push(...this._bootstrapListeners),c.forEach(u=>u(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Dm(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new be(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=zt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Dm(t,i){const o=t.indexOf(i);o>-1&&t.splice(o,1)}const fC=new ki("",{providedIn:"root",factory:()=>At(va).handleError.bind(void 0)});function bT(){const t=At(ir),i=At(va);return o=>t.runOutsideAngular(()=>i.handleError(o))}let DT=(()=>{class t{constructor(){this.zone=At(ir),this.applicationRef=At(Iu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=zt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function wT(){return!1}let ET=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=TT}return t})();function TT(t){return function MT(t,i,o){if(ar(t)&&!o){const c=$(t.index,i);return new cl(c,c)}return 47&t.type?new cl(i[Ai],i):null}(eo(),Et(),16==(16&t))}class vC{constructor(){}supports(i){return uu(i)}create(i){return new NT(i)}}const OT=(t,i)=>i;class NT{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||OT}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,c=this._removalsHead,u=0,h=null;for(;o||c;){const m=!c||o&&o.currentIndex<bC(c,u,h)?o:c,y=bC(m,u,h),w=m.currentIndex;if(m===c)u--,c=c._nextRemoved;else if(o=o._next,null==m.previousIndex)u++;else{h||(h=[]);const N=y-u,z=w-u;if(N!=z){for(let Be=0;Be<N;Be++){const qe=Be<h.length?h[Be]:h[Be]=0,bt=qe+Be;z<=bt&&bt<N&&(h[Be]=qe+1)}h[m.previousIndex]=z-N}}y!==w&&i(m,y,w)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!uu(i))throw new be(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let u,h,m,o=this._itHead,c=!1;if(Array.isArray(i)){this.length=i.length;for(let y=0;y<this.length;y++)h=i[y],m=this._trackByFn(y,h),null!==o&&Object.is(o.trackById,m)?(c&&(o=this._verifyReinsertion(o,h,m,y)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,m,y),c=!0),o=o._next}else u=0,function S0(t,i){if(Array.isArray(t))for(let o=0;o<t.length;o++)i(t[o]);else{const o=t[Symbol.iterator]();let c;for(;!(c=o.next()).done;)i(c.value)}}(i,y=>{m=this._trackByFn(u,y),null!==o&&Object.is(o.trackById,m)?(c&&(o=this._verifyReinsertion(o,y,m,u)),Object.is(o.item,y)||this._addIdentityChange(o,y)):(o=this._mismatch(o,y,m,u),c=!0),o=o._next,u++}),this.length=u;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,c,u){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,h,u)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(c,u))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,h,u)):i=this._addAfter(new kT(o,c),h,u),i}_verifyReinsertion(i,o,c,u){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==h?i=this._reinsertAfter(h,i._prev,u):i.currentIndex!=u&&(i.currentIndex=u,this._addToMoves(i,u)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const u=i._prevRemoved,h=i._nextRemoved;return null===u?this._removalsHead=h:u._nextRemoved=h,null===h?this._removalsTail=u:h._prevRemoved=u,this._insertAfter(i,o,c),this._addToMoves(i,c),i}_moveAfter(i,o,c){return this._unlink(i),this._insertAfter(i,o,c),this._addToMoves(i,c),i}_addAfter(i,o,c){return this._insertAfter(i,o,c),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,c){const u=null===o?this._itHead:o._next;return i._next=u,i._prev=o,null===u?this._itTail=i:u._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new yC),this._linkedRecords.put(i),i.currentIndex=c,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,c=i._next;return null===o?this._itHead=c:o._next=c,null===c?this._itTail=o:c._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new yC),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class kT{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class PT{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===o||o<=c.currentIndex)&&Object.is(c.trackById,i))return c;return null}remove(i){const o=i._prevDup,c=i._nextDup;return null===o?this._head=c:o._nextDup=c,null===c?this._tail=o:c._prevDup=o,null===this._head}}class yC{constructor(){this.map=new Map}put(i){const o=i.trackById;let c=this.map.get(o);c||(c=new PT,this.map.set(o,c)),c.add(i)}get(i,o){const u=this.map.get(i);return u?u.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bC(t,i,o){const c=t.previousIndex;if(null===c)return c;let u=0;return o&&c<o.length&&(u=o[c]),c+i+u}class DC{constructor(){}supports(i){return i instanceof Map||oh(i)}create(){return new RT}}class RT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||oh(i)))throw new be(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(c,u)=>{if(o&&o.key===u)this._maybeAddToChanges(o,c),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(u,c);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let c=o;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const c=i._prev;return o._next=i,o._prev=c,i._prev=o,c&&(c._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const u=this._records.get(i);this._maybeAddToChanges(u,o);const h=u._prev,m=u._next;return h&&(h._next=m),m&&(m._prev=h),u._next=null,u._prev=null,u}const c=new FT(i);return this._records.set(i,c),c.currentValue=o,this._addToAdditions(c),c}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(c=>o(i[c],c))}}class FT{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function CC(){return new Xy([new vC])}let Xy=(()=>{class t{static#e=this.\u0275prov=zt({token:t,providedIn:"root",factory:CC});constructor(o){this.factories=o}static create(o,c){if(null!=c){const u=c.factories.slice();o=o.concat(u)}return new t(o)}static extend(o){return{provide:t,useFactory:c=>t.create(o,c||CC()),deps:[[t,new ga,new ta]]}}find(o){const c=this.factories.find(u=>u.supports(o));if(null!=c)return c;throw new be(901,!1)}}return t})();function wC(){return new e1([new DC])}let e1=(()=>{class t{static#e=this.\u0275prov=zt({token:t,providedIn:"root",factory:wC});constructor(o){this.factories=o}static create(o,c){if(c){const u=c.factories.slice();o=o.concat(u)}return new t(o)}static extend(o){return{provide:t,useFactory:c=>t.create(o,c||wC()),deps:[[t,new ga,new ta]]}}find(o){const c=this.factories.find(u=>u.supports(o));if(c)return c;throw new be(901,!1)}}return t})();const UT=sC(null,"core",[]);let ZT=(()=>{class t{constructor(o){}static#e=this.\u0275fac=function(c){return new(c||t)(at(Iu))};static#t=this.\u0275mod=Di({type:t});static#n=this.\u0275inj=xn({})}return t})();function QT(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function XT(t,i){const o=On(t),c=i.elementInjector||Jl();return new ll(o).create(c,i.projectableNodes,i.hostElement,i.environmentInjector)}function eM(t){const i=On(t);if(!i)return null;const o=new ll(i);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return i.standalone},get isSignal(){return i.signals}}}},8849:(yt,ke,S)=>{"use strict";S.d(ke,{Cf:()=>ee,EJ:()=>Hi,Fj:()=>De,JJ:()=>je,JU:()=>Le,Kr:()=>uo,On:()=>Tt,Wl:()=>re,YN:()=>Mr,u5:()=>Br,wV:()=>Wn});var p=S(1699),J=S(6575),V=S(4683),te=S(4300),q=S(9736);let e=(()=>{class R{constructor(x,W){this._renderer=x,this._elementRef=W,this.onChange=ye=>{},this.onTouched=()=>{}}setProperty(x,W){this._renderer.setProperty(this._elementRef.nativeElement,x,W)}registerOnTouched(x){this.onTouched=x}registerOnChange(x){this.onChange=x}setDisabledState(x){this.setProperty("disabled",x)}static#e=this.\u0275fac=function(W){return new(W||R)(p.Y36(p.Qsj),p.Y36(p.SBq))};static#t=this.\u0275dir=p.lG2({type:R})}return R})(),Q=(()=>{class R extends e{static#e=this.\u0275fac=function(){let x;return function(ye){return(x||(x=p.n5z(R)))(ye||R)}}();static#t=this.\u0275dir=p.lG2({type:R,features:[p.qOj]})}return R})();const Le=new p.OlP("NgValueAccessor"),oe={provide:Le,useExisting:(0,p.Gpc)(()=>re),multi:!0};let re=(()=>{class R extends Q{writeValue(x){this.setProperty("checked",x)}static#e=this.\u0275fac=function(){let x;return function(ye){return(x||(x=p.n5z(R)))(ye||R)}}();static#t=this.\u0275dir=p.lG2({type:R,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(W,ye){1&W&&p.NdJ("change",function(zn){return ye.onChange(zn.target.checked)})("blur",function(){return ye.onTouched()})},features:[p._Bn([oe]),p.qOj]})}return R})();const fe={provide:Le,useExisting:(0,p.Gpc)(()=>De),multi:!0},ge=new p.OlP("CompositionEventMode");let De=(()=>{class R extends e{constructor(x,W,ye){super(x,W),this._compositionMode=ye,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ne(){const R=(0,J.q)()?(0,J.q)().getUserAgent():"";return/android (\d+)/.test(R.toLowerCase())}())}writeValue(x){this.setProperty("value",x??"")}_handleInput(x){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(x)}_compositionStart(){this._composing=!0}_compositionEnd(x){this._composing=!1,this._compositionMode&&this.onChange(x)}static#e=this.\u0275fac=function(W){return new(W||R)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(ge,8))};static#t=this.\u0275dir=p.lG2({type:R,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(W,ye){1&W&&p.NdJ("input",function(zn){return ye._handleInput(zn.target.value)})("blur",function(){return ye.onTouched()})("compositionstart",function(){return ye._compositionStart()})("compositionend",function(zn){return ye._compositionEnd(zn.target.value)})},features:[p._Bn([fe]),p.qOj]})}return R})();const ee=new p.OlP("NgValidators"),Te=new p.OlP("NgAsyncValidators");function Fe(R){return null!=R}function Bt(R){return(0,p.QGY)(R)?(0,V.D)(R):R}function ut(R){let B={};return R.forEach(x=>{B=null!=x?{...B,...x}:B}),0===Object.keys(B).length?null:B}function pt(R,B){return B.map(x=>x(R))}function ct(R){return R.map(B=>function Re(R){return!R.validate}(B)?B:x=>B.validate(x))}function he(R){return null!=R?function ce(R){if(!R)return null;const B=R.filter(Fe);return 0==B.length?null:function(x){return ut(pt(x,B))}}(ct(R)):null}function Ce(R){return null!=R?function Me(R){if(!R)return null;const B=R.filter(Fe);return 0==B.length?null:function(x){const W=pt(x,B).map(Bt);return(0,te.D)(W).pipe((0,q.U)(ut))}}(ct(R)):null}function Ie(R,B){return null===R?[B]:Array.isArray(R)?[...R,B]:[R,B]}function ot(R){return R?Array.isArray(R)?R:[R]:[]}function fn(R,B){return Array.isArray(R)?R.includes(B):R===B}function gt(R,B){const x=ot(B);return ot(R).forEach(ye=>{fn(x,ye)||x.push(ye)}),x}function cn(R,B){return ot(B).filter(x=>!fn(R,x))}class zt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(B){this._rawValidators=B||[],this._composedValidatorFn=he(this._rawValidators)}_setAsyncValidators(B){this._rawAsyncValidators=B||[],this._composedAsyncValidatorFn=Ce(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(B){this._onDestroyCallbacks.push(B)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(B=>B()),this._onDestroyCallbacks=[]}reset(B=void 0){this.control&&this.control.reset(B)}hasError(B,x){return!!this.control&&this.control.hasError(B,x)}getError(B,x){return this.control?this.control.getError(B,x):null}}class St extends zt{get formDirective(){return null}get path(){return null}}class xn extends zt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class vn{constructor(B){this._cd=B}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let je=(()=>{class R extends vn{constructor(x){super(x)}static#e=this.\u0275fac=function(W){return new(W||R)(p.Y36(xn,2))};static#t=this.\u0275dir=p.lG2({type:R,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(W,ye){2&W&&p.ekj("ng-untouched",ye.isUntouched)("ng-touched",ye.isTouched)("ng-pristine",ye.isPristine)("ng-dirty",ye.isDirty)("ng-valid",ye.isValid)("ng-invalid",ye.isInvalid)("ng-pending",ye.isPending)},features:[p.qOj]})}return R})();const Ti="VALID",Zi="INVALID",Fi="PENDING",jn="DISABLED";function Ji(R){return null!=R&&!Array.isArray(R)&&"object"==typeof R}class Zo{constructor(B,x){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(B),this._assignAsyncValidators(x)}get validator(){return this._composedValidatorFn}set validator(B){this._rawValidators=this._composedValidatorFn=B}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(B){this._rawAsyncValidators=this._composedAsyncValidatorFn=B}get parent(){return this._parent}get valid(){return this.status===Ti}get invalid(){return this.status===Zi}get pending(){return this.status==Fi}get disabled(){return this.status===jn}get enabled(){return this.status!==jn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(B){this._assignValidators(B)}setAsyncValidators(B){this._assignAsyncValidators(B)}addValidators(B){this.setValidators(gt(B,this._rawValidators))}addAsyncValidators(B){this.setAsyncValidators(gt(B,this._rawAsyncValidators))}removeValidators(B){this.setValidators(cn(B,this._rawValidators))}removeAsyncValidators(B){this.setAsyncValidators(cn(B,this._rawAsyncValidators))}hasValidator(B){return fn(this._rawValidators,B)}hasAsyncValidator(B){return fn(this._rawAsyncValidators,B)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(B={}){this.touched=!0,this._parent&&!B.onlySelf&&this._parent.markAsTouched(B)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(B=>B.markAllAsTouched())}markAsUntouched(B={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(x=>{x.markAsUntouched({onlySelf:!0})}),this._parent&&!B.onlySelf&&this._parent._updateTouched(B)}markAsDirty(B={}){this.pristine=!1,this._parent&&!B.onlySelf&&this._parent.markAsDirty(B)}markAsPristine(B={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(x=>{x.markAsPristine({onlySelf:!0})}),this._parent&&!B.onlySelf&&this._parent._updatePristine(B)}markAsPending(B={}){this.status=Fi,!1!==B.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!B.onlySelf&&this._parent.markAsPending(B)}disable(B={}){const x=this._parentMarkedDirty(B.onlySelf);this.status=jn,this.errors=null,this._forEachChild(W=>{W.disable({...B,onlySelf:!0})}),this._updateValue(),!1!==B.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...B,skipPristineCheck:x}),this._onDisabledChange.forEach(W=>W(!0))}enable(B={}){const x=this._parentMarkedDirty(B.onlySelf);this.status=Ti,this._forEachChild(W=>{W.enable({...B,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:B.emitEvent}),this._updateAncestors({...B,skipPristineCheck:x}),this._onDisabledChange.forEach(W=>W(!1))}_updateAncestors(B){this._parent&&!B.onlySelf&&(this._parent.updateValueAndValidity(B),B.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(B){this._parent=B}getRawValue(){return this.value}updateValueAndValidity(B={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ti||this.status===Fi)&&this._runAsyncValidator(B.emitEvent)),!1!==B.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!B.onlySelf&&this._parent.updateValueAndValidity(B)}_updateTreeValidity(B={emitEvent:!0}){this._forEachChild(x=>x._updateTreeValidity(B)),this.updateValueAndValidity({onlySelf:!0,emitEvent:B.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?jn:Ti}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(B){if(this.asyncValidator){this.status=Fi,this._hasOwnPendingAsyncValidator=!0;const x=Bt(this.asyncValidator(this));this._asyncValidationSubscription=x.subscribe(W=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(W,{emitEvent:B})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(B,x={}){this.errors=B,this._updateControlsErrors(!1!==x.emitEvent)}get(B){let x=B;return null==x||(Array.isArray(x)||(x=x.split(".")),0===x.length)?null:x.reduce((W,ye)=>W&&W._find(ye),this)}getError(B,x){const W=x?this.get(x):this;return W&&W.errors?W.errors[B]:null}hasError(B,x){return!!this.getError(B,x)}get root(){let B=this;for(;B._parent;)B=B._parent;return B}_updateControlsErrors(B){this.status=this._calculateStatus(),B&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(B)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?jn:this.errors?Zi:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fi)?Fi:this._anyControlsHaveStatus(Zi)?Zi:Ti}_anyControlsHaveStatus(B){return this._anyControls(x=>x.status===B)}_anyControlsDirty(){return this._anyControls(B=>B.dirty)}_anyControlsTouched(){return this._anyControls(B=>B.touched)}_updatePristine(B={}){this.pristine=!this._anyControlsDirty(),this._parent&&!B.onlySelf&&this._parent._updatePristine(B)}_updateTouched(B={}){this.touched=this._anyControlsTouched(),this._parent&&!B.onlySelf&&this._parent._updateTouched(B)}_registerOnCollectionChange(B){this._onCollectionChange=B}_setUpdateStrategy(B){Ji(B)&&null!=B.updateOn&&(this._updateOn=B.updateOn)}_parentMarkedDirty(B){return!B&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(B){return null}_assignValidators(B){this._rawValidators=Array.isArray(B)?B.slice():B,this._composedValidatorFn=function In(R){return Array.isArray(R)?he(R):R||null}(this._rawValidators)}_assignAsyncValidators(B){this._rawAsyncValidators=Array.isArray(B)?B.slice():B,this._composedAsyncValidatorFn=function Li(R){return Array.isArray(R)?Ce(R):R||null}(this._rawAsyncValidators)}}const Ue=new p.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>at}),at="always";function At(R,B,x=at){(function Ze(R,B){const x=function Ye(R){return R._rawValidators}(R);null!==B.validator?R.setValidators(Ie(x,B.validator)):"function"==typeof x&&R.setValidators([x]);const W=function rt(R){return R._rawAsyncValidators}(R);null!==B.asyncValidator?R.setAsyncValidators(Ie(W,B.asyncValidator)):"function"==typeof W&&R.setAsyncValidators([W]);const ye=()=>R.updateValueAndValidity();Ln(B._rawValidators,ye),Ln(B._rawAsyncValidators,ye)})(R,B),B.valueAccessor.writeValue(R.value),(R.disabled||"always"===x)&&B.valueAccessor.setDisabledState?.(R.disabled),function Ae(R,B){B.valueAccessor.registerOnChange(x=>{R._pendingValue=x,R._pendingChange=!0,R._pendingDirty=!0,"change"===R.updateOn&&Ct(R,B)})}(R,B),function xt(R,B){const x=(W,ye)=>{B.valueAccessor.writeValue(W),ye&&B.viewToModelUpdate(W)};R.registerOnChange(x),B._registerOnDestroy(()=>{R._unregisterOnChange(x)})}(R,B),function it(R,B){B.valueAccessor.registerOnTouched(()=>{R._pendingTouched=!0,"blur"===R.updateOn&&R._pendingChange&&Ct(R,B),"submit"!==R.updateOn&&R.markAsTouched()})}(R,B),function Bn(R,B){if(B.valueAccessor.setDisabledState){const x=W=>{B.valueAccessor.setDisabledState(W)};R.registerOnDisabledChange(x),B._registerOnDestroy(()=>{R._unregisterOnDisabledChange(x)})}}(R,B)}function Ln(R,B){R.forEach(x=>{x.registerOnValidatorChange&&x.registerOnValidatorChange(B)})}function Ct(R,B){R._pendingDirty&&R.markAsDirty(),R.setValue(R._pendingValue,{emitModelToViewChange:!1}),B.viewToModelUpdate(R._pendingValue),R._pendingChange=!1}function Si(R,B){const x=R.indexOf(B);x>-1&&R.splice(x,1)}function vi(R){return"object"==typeof R&&null!==R&&2===Object.keys(R).length&&"value"in R&&"disabled"in R}const oo=class extends Zo{constructor(B=null,x,W){super(function qn(R){return(Ji(R)?R.validators:R)||null}(x),function si(R,B){return(Ji(B)?B.asyncValidators:R)||null}(W,x)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(B),this._setUpdateStrategy(x),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ji(x)&&(x.nonNullable||x.initialValueIsDefault)&&(this.defaultValue=vi(B)?B.value:B)}setValue(B,x={}){this.value=this._pendingValue=B,this._onChange.length&&!1!==x.emitModelToViewChange&&this._onChange.forEach(W=>W(this.value,!1!==x.emitViewToModelChange)),this.updateValueAndValidity(x)}patchValue(B,x={}){this.setValue(B,x)}reset(B=this.defaultValue,x={}){this._applyFormState(B),this.markAsPristine(x),this.markAsUntouched(x),this.setValue(this.value,x),this._pendingChange=!1}_updateValue(){}_anyControls(B){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(B){this._onChange.push(B)}_unregisterOnChange(B){Si(this._onChange,B)}registerOnDisabledChange(B){this._onDisabledChange.push(B)}_unregisterOnDisabledChange(B){Si(this._onDisabledChange,B)}_forEachChild(B){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(B){vi(B)?(this.value=this._pendingValue=B.value,B.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=B}},Je={provide:xn,useExisting:(0,p.Gpc)(()=>Tt)},kt=(()=>Promise.resolve())();let Tt=(()=>{class R extends xn{constructor(x,W,ye,hn,zn,Ki){super(),this._changeDetectorRef=zn,this.callSetDisabledState=Ki,this.control=new oo,this._registered=!1,this.name="",this.update=new p.vpe,this._parent=x,this._setValidators(W),this._setAsyncValidators(ye),this.valueAccessor=function Pn(R,B){if(!B)return null;let x,W,ye;return Array.isArray(B),B.forEach(hn=>{hn.constructor===De?x=hn:function oi(R){return Object.getPrototypeOf(R.constructor)===Q}(hn)?W=hn:ye=hn}),ye||W||x||null}(0,hn)}ngOnChanges(x){if(this._checkForErrors(),!this._registered||"name"in x){if(this._registered&&(this._checkName(),this.formDirective)){const W=x.name.previousValue;this.formDirective.removeControl({name:W,path:this._getPath(W)})}this._setUpControl()}"isDisabled"in x&&this._updateDisabled(x),function Un(R,B){if(!R.hasOwnProperty("model"))return!1;const x=R.model;return!!x.isFirstChange()||!Object.is(B,x.currentValue)}(x,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){At(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(x){kt.then(()=>{this.control.setValue(x,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(x){const W=x.isDisabled.currentValue,ye=0!==W&&(0,p.VuI)(W);kt.then(()=>{ye&&!this.control.disabled?this.control.disable():!ye&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(x){return this._parent?function Zt(R,B){return[...B.path,R]}(x,this._parent):[x]}static#e=this.\u0275fac=function(W){return new(W||R)(p.Y36(St,9),p.Y36(ee,10),p.Y36(Te,10),p.Y36(Le,10),p.Y36(p.sBO,8),p.Y36(Ue,8))};static#t=this.\u0275dir=p.lG2({type:R,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[p._Bn([Je]),p.qOj,p.TTD]})}return R})();const Nn={provide:Le,useExisting:(0,p.Gpc)(()=>Wn),multi:!0};let Wn=(()=>{class R extends Q{writeValue(x){this.setProperty("value",x??"")}registerOnChange(x){this.onChange=W=>{x(""==W?null:parseFloat(W))}}static#e=this.\u0275fac=function(){let x;return function(ye){return(x||(x=p.n5z(R)))(ye||R)}}();static#t=this.\u0275dir=p.lG2({type:R,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(W,ye){1&W&&p.NdJ("input",function(zn){return ye.onChange(zn.target.value)})("blur",function(){return ye.onTouched()})},features:[p._Bn([Nn]),p.qOj]})}return R})(),jo=(()=>{class R{static#e=this.\u0275fac=function(W){return new(W||R)};static#t=this.\u0275mod=p.oAB({type:R});static#n=this.\u0275inj=p.cJS({})}return R})();const ai={provide:Le,useExisting:(0,p.Gpc)(()=>Hi),multi:!0};function ro(R,B){return null==R?`${B}`:(B&&"object"==typeof B&&(B="Object"),`${R}: ${B}`.slice(0,50))}let Hi=(()=>{class R extends Q{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(x){this._compareWith=x}writeValue(x){this.value=x;const ye=ro(this._getOptionId(x),x);this.setProperty("value",ye)}registerOnChange(x){this.onChange=W=>{this.value=this._getOptionValue(W),x(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(x){for(const W of this._optionMap.keys())if(this._compareWith(this._optionMap.get(W),x))return W;return null}_getOptionValue(x){const W=function Go(R){return R.split(":")[0]}(x);return this._optionMap.has(W)?this._optionMap.get(W):x}static#e=this.\u0275fac=function(){let x;return function(ye){return(x||(x=p.n5z(R)))(ye||R)}}();static#t=this.\u0275dir=p.lG2({type:R,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(W,ye){1&W&&p.NdJ("change",function(zn){return ye.onChange(zn.target.value)})("blur",function(){return ye.onTouched()})},inputs:{compareWith:"compareWith"},features:[p._Bn([ai]),p.qOj]})}return R})(),Mr=(()=>{class R{constructor(x,W,ye){this._element=x,this._renderer=W,this._select=ye,this._select&&(this.id=this._select._registerOption())}set ngValue(x){null!=this._select&&(this._select._optionMap.set(this.id,x),this._setElementValue(ro(this.id,x)),this._select.writeValue(this._select.value))}set value(x){this._setElementValue(x),this._select&&this._select.writeValue(this._select.value)}_setElementValue(x){this._renderer.setProperty(this._element.nativeElement,"value",x)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(W){return new(W||R)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(Hi,9))};static#t=this.\u0275dir=p.lG2({type:R,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return R})();const Ci={provide:Le,useExisting:(0,p.Gpc)(()=>Sr),multi:!0};function Eo(R,B){return null==R?`${B}`:("string"==typeof B&&(B=`'${B}'`),B&&"object"==typeof B&&(B="Object"),`${R}: ${B}`.slice(0,50))}let Sr=(()=>{class R extends Q{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(x){this._compareWith=x}writeValue(x){let W;if(this.value=x,Array.isArray(x)){const ye=x.map(hn=>this._getOptionId(hn));W=(hn,zn)=>{hn._setSelected(ye.indexOf(zn.toString())>-1)}}else W=(ye,hn)=>{ye._setSelected(!1)};this._optionMap.forEach(W)}registerOnChange(x){this.onChange=W=>{const ye=[],hn=W.selectedOptions;if(void 0!==hn){const zn=hn;for(let Ki=0;Ki<zn.length;Ki++){const xr=this._getOptionValue(zn[Ki].value);ye.push(xr)}}else{const zn=W.options;for(let Ki=0;Ki<zn.length;Ki++){const qo=zn[Ki];if(qo.selected){const xr=this._getOptionValue(qo.value);ye.push(xr)}}}this.value=ye,x(ye)}}_registerOption(x){const W=(this._idCounter++).toString();return this._optionMap.set(W,x),W}_getOptionId(x){for(const W of this._optionMap.keys())if(this._compareWith(this._optionMap.get(W)._value,x))return W;return null}_getOptionValue(x){const W=function Ko(R){return R.split(":")[0]}(x);return this._optionMap.has(W)?this._optionMap.get(W)._value:x}static#e=this.\u0275fac=function(){let x;return function(ye){return(x||(x=p.n5z(R)))(ye||R)}}();static#t=this.\u0275dir=p.lG2({type:R,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(W,ye){1&W&&p.NdJ("change",function(zn){return ye.onChange(zn.target)})("blur",function(){return ye.onTouched()})},inputs:{compareWith:"compareWith"},features:[p._Bn([Ci]),p.qOj]})}return R})(),uo=(()=>{class R{constructor(x,W,ye){this._element=x,this._renderer=W,this._select=ye,this._select&&(this.id=this._select._registerOption(this))}set ngValue(x){null!=this._select&&(this._value=x,this._setElementValue(Eo(this.id,x)),this._select.writeValue(this._select.value))}set value(x){this._select?(this._value=x,this._setElementValue(Eo(this.id,x)),this._select.writeValue(this._select.value)):this._setElementValue(x)}_setElementValue(x){this._renderer.setProperty(this._element.nativeElement,"value",x)}_setSelected(x){this._renderer.setProperty(this._element.nativeElement,"selected",x)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(W){return new(W||R)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(Sr,9))};static#t=this.\u0275dir=p.lG2({type:R,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return R})(),Qi=(()=>{class R{static#e=this.\u0275fac=function(W){return new(W||R)};static#t=this.\u0275mod=p.oAB({type:R});static#n=this.\u0275inj=p.cJS({imports:[jo]})}return R})(),Br=(()=>{class R{static withConfig(x){return{ngModule:R,providers:[{provide:Ue,useValue:x.callSetDisabledState??at}]}}static#e=this.\u0275fac=function(W){return new(W||R)};static#t=this.\u0275mod=p.oAB({type:R});static#n=this.\u0275inj=p.cJS({imports:[Qi]})}return R})()},9713:()=>{"use strict";const yt=":";const St=function(me,..._e){if(St.translate){const Qe=St.translate(me,_e);me=Qe[0],_e=Qe[1]}let je=vn(me[0],me.raw[0]);for(let Qe=1;Qe<me.length;Qe++)je+=_e[Qe-1]+vn(me[Qe],me.raw[Qe]);return je},xn=":";function vn(me,_e){return _e.charAt(0)===xn?me.substring(function he(me,_e){for(let je=1,Qe=1;je<me.length;je++,Qe++)if("\\"===_e[Qe])Qe++;else if(me[je]===yt)return je;throw new Error(`Unterminated $localize metadata block in "${_e}".`)}(me,_e)+1):me}globalThis.$localize=St},140:(yt,ke,S)=>{"use strict";S.d(ke,{Hw:()=>nn,Ps:()=>ts,jv:()=>C});var p=S(1699),J=S(6575),V=S(6744),Co=S(1134);const us="cdk-high-contrast-black-on-white",No="cdk-high-contrast-white-on-black",gr="cdk-high-contrast-active";let so=(()=>{class Ee{constructor(k,X){this._platform=k,this._document=X,this._breakpointSubscription=(0,p.f3M)(Co.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const k=this._document.createElement("div");k.style.backgroundColor="rgb(1,2,3)",k.style.position="absolute",this._document.body.appendChild(k);const X=this._document.defaultView||window,Ne=X&&X.getComputedStyle?X.getComputedStyle(k):null,mt=(Ne&&Ne.backgroundColor||"").replace(/ /g,"");switch(k.remove(),mt){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const k=this._document.body.classList;k.remove(gr,us,No),this._hasCheckedHighContrastMode=!0;const X=this.getHighContrastMode();1===X?k.add(gr,us):2===X&&k.add(gr,No)}}}return Ee.\u0275fac=function(k){return new(k||Ee)(p.LFG(V.t4),p.LFG(J.K0))},Ee.\u0275prov=p.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})(),sr=(()=>{class Ee{}return Ee.\u0275fac=function(k){return new(k||Ee)},Ee.\u0275mod=p.oAB({type:Ee}),Ee.\u0275inj=p.cJS({}),Ee})();var mr=S(3344);const ye=new p.OlP("mat-sanity-checks",{providedIn:"root",factory:function W(){return!0}});let hn=(()=>{class Ee{constructor(k,X,Ne){this._sanityChecks=X,this._document=Ne,this._hasDoneGlobalChecks=!1,k._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(k){return!(0,V.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[k])}}return Ee.\u0275fac=function(k){return new(k||Ee)(p.LFG(so),p.LFG(ye,8),p.LFG(J.K0))},Ee.\u0275mod=p.oAB({type:Ee}),Ee.\u0275inj=p.cJS({imports:[sr,sr]}),Ee})();function Ir(Ee,U){return class extends Ee{get color(){return this._color}set color(k){const X=k||this.defaultColor;X!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),X&&this._elementRef.nativeElement.classList.add(`mat-${X}`),this._color=X)}constructor(...k){super(...k),this.defaultColor=U,this.color=U}}}class jr{constructor(U,k,X,Ne=!1){this._renderer=U,this.element=k,this.config=X,this._animationForciblyDisabledThroughCss=Ne,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const fs=(0,V.i$)({passive:!0,capture:!0});class ps{constructor(){this._events=new Map,this._delegateEventHandler=U=>{const k=(0,V.sA)(U);k&&this._events.get(U.type)?.forEach((X,Ne)=>{(Ne===k||Ne.contains(k))&&X.forEach(mt=>mt.handleEvent(U))})}}addHandler(U,k,X,Ne){const mt=this._events.get(k);if(mt){const Ft=mt.get(X);Ft?Ft.add(Ne):mt.set(X,new Set([Ne]))}else this._events.set(k,new Map([[X,new Set([Ne])]])),U.runOutsideAngular(()=>{document.addEventListener(k,this._delegateEventHandler,fs)})}removeHandler(U,k,X){const Ne=this._events.get(U);if(!Ne)return;const mt=Ne.get(k);mt&&(mt.delete(X),0===mt.size&&Ne.delete(k),0===Ne.size&&(this._events.delete(U),document.removeEventListener(U,this._delegateEventHandler,fs)))}}const Or={enterDuration:225,exitDuration:150},Xo=(0,V.i$)({passive:!0,capture:!0}),vr=["mousedown","touchstart"],Us=["mouseup","mouseleave","touchend","touchcancel"];class zr{constructor(U,k,X,Ne){this._target=U,this._ngZone=k,this._platform=Ne,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,Ne.isBrowser&&(this._containerElement=(0,mr.fI)(X))}fadeInRipple(U,k,X={}){const Ne=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),mt={...Or,...X.animation};X.centered&&(U=Ne.left+Ne.width/2,k=Ne.top+Ne.height/2);const Ft=X.radius||function ua(Ee,U,k){const X=Math.max(Math.abs(Ee-k.left),Math.abs(Ee-k.right)),Ne=Math.max(Math.abs(U-k.top),Math.abs(U-k.bottom));return Math.sqrt(X*X+Ne*Ne)}(U,k,Ne),ti=U-Ne.left,kr=k-Ne.top,ur=mt.enterDuration,vo=document.createElement("div");vo.classList.add("mat-ripple-element"),vo.style.left=ti-Ft+"px",vo.style.top=kr-Ft+"px",vo.style.height=2*Ft+"px",vo.style.width=2*Ft+"px",null!=X.color&&(vo.style.backgroundColor=X.color),vo.style.transitionDuration=`${ur}ms`,this._containerElement.appendChild(vo);const Et=window.getComputedStyle(vo),yo=Et.transitionDuration,Sa="none"===Et.transitionProperty||"0s"===yo||"0s, 0s"===yo||0===Ne.width&&0===Ne.height,eo=new jr(this,vo,X,Sa);vo.style.transform="scale3d(1, 1, 1)",eo.state=0,X.persistent||(this._mostRecentTransientRipple=eo);let Xs=null;return!Sa&&(ur||mt.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const $r=()=>this._finishRippleTransition(eo),yr=()=>this._destroyRipple(eo);vo.addEventListener("transitionend",$r),vo.addEventListener("transitioncancel",yr),Xs={onTransitionEnd:$r,onTransitionCancel:yr}}),this._activeRipples.set(eo,Xs),(Sa||!ur)&&this._finishRippleTransition(eo),eo}fadeOutRipple(U){if(2===U.state||3===U.state)return;const k=U.element,X={...Or,...U.config.animation};k.style.transitionDuration=`${X.exitDuration}ms`,k.style.opacity="0",U.state=2,(U._animationForciblyDisabledThroughCss||!X.exitDuration)&&this._finishRippleTransition(U)}fadeOutAll(){this._getActiveRipples().forEach(U=>U.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(U=>{U.config.persistent||U.fadeOut()})}setupTriggerEvents(U){const k=(0,mr.fI)(U);!this._platform.isBrowser||!k||k===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=k,vr.forEach(X=>{zr._eventManager.addHandler(this._ngZone,X,k,this)}))}handleEvent(U){"mousedown"===U.type?this._onMousedown(U):"touchstart"===U.type?this._onTouchStart(U):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Us.forEach(k=>{this._triggerElement.addEventListener(k,this,Xo)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(U){0===U.state?this._startFadeOutTransition(U):2===U.state&&this._destroyRipple(U)}_startFadeOutTransition(U){const k=U===this._mostRecentTransientRipple,{persistent:X}=U.config;U.state=1,!X&&(!k||!this._isPointerDown)&&U.fadeOut()}_destroyRipple(U){const k=this._activeRipples.get(U)??null;this._activeRipples.delete(U),this._activeRipples.size||(this._containerRect=null),U===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),U.state=3,null!==k&&(U.element.removeEventListener("transitionend",k.onTransitionEnd),U.element.removeEventListener("transitioncancel",k.onTransitionCancel)),U.element.remove()}_onMousedown(U){const k=function Eo(Ee){return 0===Ee.buttons||0===Ee.offsetX&&0===Ee.offsetY}(U),X=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!k&&!X&&(this._isPointerDown=!0,this.fadeInRipple(U.clientX,U.clientY,this._target.rippleConfig))}_onTouchStart(U){if(!this._target.rippleDisabled&&!function Ko(Ee){const U=Ee.touches&&Ee.touches[0]||Ee.changedTouches&&Ee.changedTouches[0];return!(!U||-1!==U.identifier||null!=U.radiusX&&1!==U.radiusX||null!=U.radiusY&&1!==U.radiusY)}(U)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const k=U.changedTouches;for(let X=0;X<k.length;X++)this.fadeInRipple(k[X].clientX,k[X].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(U=>{!U.config.persistent&&(1===U.state||U.config.terminateOnPointerUp&&0===U.state)&&U.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const U=this._triggerElement;U&&(vr.forEach(k=>zr._eventManager.removeHandler(k,U,this)),this._pointerUpEventsRegistered&&Us.forEach(k=>U.removeEventListener(k,this,Xo)))}}zr._eventManager=new ps;var vt=S(4980),tn=S(3252),fi=S(4300),bi=S(6482),$n=S(3738),Mn=S(9736),ji=S(2389),wi=S(7474),Vi=S(5584),lr=S(1527),tr=S(4860),So=S(6480);const Lo=["*"];let Xi;function zo(Ee){return function Nr(){if(void 0===Xi&&(Xi=null,typeof window<"u")){const Ee=window;void 0!==Ee.trustedTypes&&(Xi=Ee.trustedTypes.createPolicy("angular#components",{createHTML:U=>U}))}return Xi}()?.createHTML(Ee)||Ee}function Ei(Ee){return Error(`Unable to find icon with the name "${Ee}"`)}function s(Ee){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${Ee}".`)}function d(Ee){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${Ee}".`)}class g{constructor(U,k,X){this.url=U,this.svgText=k,this.options=X}}let C=(()=>{class Ee{constructor(k,X,Ne,mt){this._httpClient=k,this._sanitizer=X,this._errorHandler=mt,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=Ne}addSvgIcon(k,X,Ne){return this.addSvgIconInNamespace("",k,X,Ne)}addSvgIconLiteral(k,X,Ne){return this.addSvgIconLiteralInNamespace("",k,X,Ne)}addSvgIconInNamespace(k,X,Ne,mt){return this._addSvgIconConfig(k,X,new g(Ne,null,mt))}addSvgIconResolver(k){return this._resolvers.push(k),this}addSvgIconLiteralInNamespace(k,X,Ne,mt){const Ft=this._sanitizer.sanitize(p.q3G.HTML,Ne);if(!Ft)throw d(Ne);const ti=zo(Ft);return this._addSvgIconConfig(k,X,new g("",ti,mt))}addSvgIconSet(k,X){return this.addSvgIconSetInNamespace("",k,X)}addSvgIconSetLiteral(k,X){return this.addSvgIconSetLiteralInNamespace("",k,X)}addSvgIconSetInNamespace(k,X,Ne){return this._addSvgIconSetConfig(k,new g(X,null,Ne))}addSvgIconSetLiteralInNamespace(k,X,Ne){const mt=this._sanitizer.sanitize(p.q3G.HTML,X);if(!mt)throw d(X);const Ft=zo(mt);return this._addSvgIconSetConfig(k,new g("",Ft,Ne))}registerFontClassAlias(k,X=k){return this._fontCssClassesByAlias.set(k,X),this}classNameForFontAlias(k){return this._fontCssClassesByAlias.get(k)||k}setDefaultFontSetClass(...k){return this._defaultFontSetClass=k,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(k){const X=this._sanitizer.sanitize(p.q3G.RESOURCE_URL,k);if(!X)throw s(k);const Ne=this._cachedIconsByUrl.get(X);return Ne?(0,vt.of)(we(Ne)):this._loadSvgIconFromConfig(new g(k,null)).pipe((0,$n.b)(mt=>this._cachedIconsByUrl.set(X,mt)),(0,Mn.U)(mt=>we(mt)))}getNamedSvgIcon(k,X=""){const Ne=Ke(X,k);let mt=this._svgIconConfigs.get(Ne);if(mt)return this._getSvgFromConfig(mt);if(mt=this._getIconConfigFromResolvers(X,k),mt)return this._svgIconConfigs.set(Ne,mt),this._getSvgFromConfig(mt);const Ft=this._iconSetConfigs.get(X);return Ft?this._getSvgFromIconSetConfigs(k,Ft):(0,tn._)(Ei(Ne))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(k){return k.svgText?(0,vt.of)(we(this._svgElementFromConfig(k))):this._loadSvgIconFromConfig(k).pipe((0,Mn.U)(X=>we(X)))}_getSvgFromIconSetConfigs(k,X){const Ne=this._extractIconWithNameFromAnySet(k,X);if(Ne)return(0,vt.of)(Ne);const mt=X.filter(Ft=>!Ft.svgText).map(Ft=>this._loadSvgIconSetFromConfig(Ft).pipe((0,ji.K)(ti=>{const ur=`Loading icon set URL: ${this._sanitizer.sanitize(p.q3G.RESOURCE_URL,Ft.url)} failed: ${ti.message}`;return this._errorHandler.handleError(new Error(ur)),(0,vt.of)(null)})));return(0,fi.D)(mt).pipe((0,Mn.U)(()=>{const Ft=this._extractIconWithNameFromAnySet(k,X);if(!Ft)throw Ei(k);return Ft}))}_extractIconWithNameFromAnySet(k,X){for(let Ne=X.length-1;Ne>=0;Ne--){const mt=X[Ne];if(mt.svgText&&mt.svgText.toString().indexOf(k)>-1){const Ft=this._svgElementFromConfig(mt),ti=this._extractSvgIconFromSet(Ft,k,mt.options);if(ti)return ti}}return null}_loadSvgIconFromConfig(k){return this._fetchIcon(k).pipe((0,$n.b)(X=>k.svgText=X),(0,Mn.U)(()=>this._svgElementFromConfig(k)))}_loadSvgIconSetFromConfig(k){return k.svgText?(0,vt.of)(null):this._fetchIcon(k).pipe((0,$n.b)(X=>k.svgText=X))}_extractSvgIconFromSet(k,X,Ne){const mt=k.querySelector(`[id="${X}"]`);if(!mt)return null;const Ft=mt.cloneNode(!0);if(Ft.removeAttribute("id"),"svg"===Ft.nodeName.toLowerCase())return this._setSvgAttributes(Ft,Ne);if("symbol"===Ft.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(Ft),Ne);const ti=this._svgElementFromString(zo("<svg></svg>"));return ti.appendChild(Ft),this._setSvgAttributes(ti,Ne)}_svgElementFromString(k){const X=this._document.createElement("DIV");X.innerHTML=k;const Ne=X.querySelector("svg");if(!Ne)throw Error("<svg> tag not found");return Ne}_toSvgElement(k){const X=this._svgElementFromString(zo("<svg></svg>")),Ne=k.attributes;for(let mt=0;mt<Ne.length;mt++){const{name:Ft,value:ti}=Ne[mt];"id"!==Ft&&X.setAttribute(Ft,ti)}for(let mt=0;mt<k.childNodes.length;mt++)k.childNodes[mt].nodeType===this._document.ELEMENT_NODE&&X.appendChild(k.childNodes[mt].cloneNode(!0));return X}_setSvgAttributes(k,X){return k.setAttribute("fit",""),k.setAttribute("height","100%"),k.setAttribute("width","100%"),k.setAttribute("preserveAspectRatio","xMidYMid meet"),k.setAttribute("focusable","false"),X&&X.viewBox&&k.setAttribute("viewBox",X.viewBox),k}_fetchIcon(k){const{url:X,options:Ne}=k,mt=Ne?.withCredentials??!1;if(!this._httpClient)throw function $o(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==X)throw Error(`Cannot fetch icon from URL "${X}".`);const Ft=this._sanitizer.sanitize(p.q3G.RESOURCE_URL,X);if(!Ft)throw s(X);const ti=this._inProgressUrlFetches.get(Ft);if(ti)return ti;const kr=this._httpClient.get(Ft,{responseType:"text",withCredentials:mt}).pipe((0,Mn.U)(ur=>zo(ur)),(0,wi.x)(()=>this._inProgressUrlFetches.delete(Ft)),(0,Vi.B)());return this._inProgressUrlFetches.set(Ft,kr),kr}_addSvgIconConfig(k,X,Ne){return this._svgIconConfigs.set(Ke(k,X),Ne),this}_addSvgIconSetConfig(k,X){const Ne=this._iconSetConfigs.get(k);return Ne?Ne.push(X):this._iconSetConfigs.set(k,[X]),this}_svgElementFromConfig(k){if(!k.svgElement){const X=this._svgElementFromString(k.svgText);this._setSvgAttributes(X,k.options),k.svgElement=X}return k.svgElement}_getIconConfigFromResolvers(k,X){for(let Ne=0;Ne<this._resolvers.length;Ne++){const mt=this._resolvers[Ne](X,k);if(mt)return lt(mt)?new g(mt.url,null,mt.options):new g(mt,null)}}}return Ee.\u0275fac=function(k){return new(k||Ee)(p.LFG(tr.eN,8),p.LFG(So.H7),p.LFG(J.K0,8),p.LFG(p.qLn))},Ee.\u0275prov=p.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})();function we(Ee){return Ee.cloneNode(!0)}function Ke(Ee,U){return Ee+":"+U}function lt(Ee){return!(!Ee.url||!Ee.options)}const wt=Ir(class{constructor(Ee){this._elementRef=Ee}}),Ht=new p.OlP("MAT_ICON_DEFAULT_OPTIONS"),An=new p.OlP("mat-icon-location",{providedIn:"root",factory:function Zn(){const Ee=(0,p.f3M)(J.K0),U=Ee?Ee.location:null;return{getPathname:()=>U?U.pathname+U.search:""}}}),pi=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],ri=pi.map(Ee=>`[${Ee}]`).join(", "),Ui=/^url\(['"]?#(.*?)['"]?\)$/;let nn=(()=>{class Ee extends wt{get inline(){return this._inline}set inline(k){this._inline=(0,mr.Ig)(k)}get svgIcon(){return this._svgIcon}set svgIcon(k){k!==this._svgIcon&&(k?this._updateSvgIcon(k):this._svgIcon&&this._clearSvgElement(),this._svgIcon=k)}get fontSet(){return this._fontSet}set fontSet(k){const X=this._cleanupFontValue(k);X!==this._fontSet&&(this._fontSet=X,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(k){const X=this._cleanupFontValue(k);X!==this._fontIcon&&(this._fontIcon=X,this._updateFontIconClasses())}constructor(k,X,Ne,mt,Ft,ti){super(k),this._iconRegistry=X,this._location=mt,this._errorHandler=Ft,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=bi.w0.EMPTY,ti&&(ti.color&&(this.color=this.defaultColor=ti.color),ti.fontSet&&(this.fontSet=ti.fontSet)),Ne||k.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(k){if(!k)return["",""];const X=k.split(":");switch(X.length){case 1:return["",X[0]];case 2:return X;default:throw Error(`Invalid icon name: "${k}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const k=this._elementsWithExternalReferences;if(k&&k.size){const X=this._location.getPathname();X!==this._previousPath&&(this._previousPath=X,this._prependPathToReferences(X))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(k){this._clearSvgElement();const X=this._location.getPathname();this._previousPath=X,this._cacheChildrenWithExternalReferences(k),this._prependPathToReferences(X),this._elementRef.nativeElement.appendChild(k)}_clearSvgElement(){const k=this._elementRef.nativeElement;let X=k.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();X--;){const Ne=k.childNodes[X];(1!==Ne.nodeType||"svg"===Ne.nodeName.toLowerCase())&&Ne.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const k=this._elementRef.nativeElement,X=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(Ne=>Ne.length>0);this._previousFontSetClass.forEach(Ne=>k.classList.remove(Ne)),X.forEach(Ne=>k.classList.add(Ne)),this._previousFontSetClass=X,this.fontIcon!==this._previousFontIconClass&&!X.includes("mat-ligature-font")&&(this._previousFontIconClass&&k.classList.remove(this._previousFontIconClass),this.fontIcon&&k.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(k){return"string"==typeof k?k.trim().split(" ")[0]:k}_prependPathToReferences(k){const X=this._elementsWithExternalReferences;X&&X.forEach((Ne,mt)=>{Ne.forEach(Ft=>{mt.setAttribute(Ft.name,`url('${k}#${Ft.value}')`)})})}_cacheChildrenWithExternalReferences(k){const X=k.querySelectorAll(ri),Ne=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let mt=0;mt<X.length;mt++)pi.forEach(Ft=>{const ti=X[mt],kr=ti.getAttribute(Ft),ur=kr?kr.match(Ui):null;if(ur){let vo=Ne.get(ti);vo||(vo=[],Ne.set(ti,vo)),vo.push({name:Ft,value:ur[1]})}})}_updateSvgIcon(k){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),k){const[X,Ne]=this._splitIconName(k);X&&(this._svgNamespace=X),Ne&&(this._svgName=Ne),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(Ne,X).pipe((0,lr.q)(1)).subscribe(mt=>this._setSvgElement(mt),mt=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${X}:${Ne}! ${mt.message}`))})}}}return Ee.\u0275fac=function(k){return new(k||Ee)(p.Y36(p.SBq),p.Y36(C),p.$8M("aria-hidden"),p.Y36(An),p.Y36(p.qLn),p.Y36(Ht,8))},Ee.\u0275cmp=p.Xpm({type:Ee,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(k,X){2&k&&(p.uIk("data-mat-icon-type",X._usingFontIcon()?"font":"svg")("data-mat-icon-name",X._svgName||X.fontIcon)("data-mat-icon-namespace",X._svgNamespace||X.fontSet)("fontIcon",X._usingFontIcon()?X.fontIcon:null),p.ekj("mat-icon-inline",X.inline)("mat-icon-no-color","primary"!==X.color&&"accent"!==X.color&&"warn"!==X.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[p.qOj],ngContentSelectors:Lo,decls:1,vars:0,template:function(k,X){1&k&&(p.F$t(),p.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),Ee})(),ts=(()=>{class Ee{}return Ee.\u0275fac=function(k){return new(k||Ee)},Ee.\u0275mod=p.oAB({type:Ee}),Ee.\u0275inj=p.cJS({imports:[hn,hn]}),Ee})()},6480:(yt,ke,S)=>{"use strict";S.d(ke,{Dx:()=>Rt,H7:()=>Zi,b2:()=>me,q6:()=>zt});var p=S(1699),J=S(6575);class V extends J.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class te extends V{static makeCurrent(){(0,J.HT)(new te)}onAndCancel(We,ue,j){return We.addEventListener(ue,j),()=>{We.removeEventListener(ue,j)}}dispatchEvent(We,ue){We.dispatchEvent(ue)}remove(We){We.parentNode&&We.parentNode.removeChild(We)}createElement(We,ue){return(ue=ue||this.getDefaultDocument()).createElement(We)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(We){return We.nodeType===Node.ELEMENT_NODE}isShadowRoot(We){return We instanceof DocumentFragment}getGlobalEventTarget(We,ue){return"window"===ue?window:"document"===ue?We:"body"===ue?We.body:null}getBaseHref(We){const ue=function e(){return q=q||document.querySelector("base"),q?q.getAttribute("href"):null}();return null==ue?null:function Le(dt){Q=Q||document.createElement("a"),Q.setAttribute("href",dt);const We=Q.pathname;return"/"===We.charAt(0)?We:`/${We}`}(ue)}resetBaseElement(){q=null}getUserAgent(){return window.navigator.userAgent}getCookie(We){return(0,J.Mx)(document.cookie,We)}}let Q,q=null,re=(()=>{class dt{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(j){return new(j||dt)};static#t=this.\u0275prov=p.Yz7({token:dt,factory:dt.\u0275fac})}return dt})();const fe=new p.OlP("EventManagerPlugins");let ne=(()=>{class dt{constructor(ue,j){this._zone=j,this._eventNameToPlugin=new Map,ue.forEach(se=>{se.manager=this}),this._plugins=ue.slice().reverse()}addEventListener(ue,j,se){return this._findPluginFor(j).addEventListener(ue,j,se)}getZone(){return this._zone}_findPluginFor(ue){let j=this._eventNameToPlugin.get(ue);if(j)return j;if(j=this._plugins.find(Ue=>Ue.supports(ue)),!j)throw new p.vHH(5101,!1);return this._eventNameToPlugin.set(ue,j),j}static#e=this.\u0275fac=function(j){return new(j||dt)(p.LFG(fe),p.LFG(p.R0b))};static#t=this.\u0275prov=p.Yz7({token:dt,factory:dt.\u0275fac})}return dt})();class ge{constructor(We){this._doc=We}}const De="ng-app-id";let Se=(()=>{class dt{constructor(ue,j,se,Ue={}){this.doc=ue,this.appId=j,this.nonce=se,this.platformId=Ue,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,J.PM)(Ue),this.resetHostNodes()}addStyles(ue){for(const j of ue)1===this.changeUsageCount(j,1)&&this.onStyleAdded(j)}removeStyles(ue){for(const j of ue)this.changeUsageCount(j,-1)<=0&&this.onStyleRemoved(j)}ngOnDestroy(){const ue=this.styleNodesInDOM;ue&&(ue.forEach(j=>j.remove()),ue.clear());for(const j of this.getAllStyles())this.onStyleRemoved(j);this.resetHostNodes()}addHost(ue){this.hostNodes.add(ue);for(const j of this.getAllStyles())this.addStyleToHost(ue,j)}removeHost(ue){this.hostNodes.delete(ue)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(ue){for(const j of this.hostNodes)this.addStyleToHost(j,ue)}onStyleRemoved(ue){const j=this.styleRef;j.get(ue)?.elements?.forEach(se=>se.remove()),j.delete(ue)}collectServerRenderedStyles(){const ue=this.doc.head?.querySelectorAll(`style[${De}="${this.appId}"]`);if(ue?.length){const j=new Map;return ue.forEach(se=>{null!=se.textContent&&j.set(se.textContent,se)}),j}return null}changeUsageCount(ue,j){const se=this.styleRef;if(se.has(ue)){const Ue=se.get(ue);return Ue.usage+=j,Ue.usage}return se.set(ue,{usage:j,elements:[]}),j}getStyleElement(ue,j){const se=this.styleNodesInDOM,Ue=se?.get(j);if(Ue?.parentNode===ue)return se.delete(j),Ue.removeAttribute(De),Ue;{const at=this.doc.createElement("style");return this.nonce&&at.setAttribute("nonce",this.nonce),at.textContent=j,this.platformIsServer&&at.setAttribute(De,this.appId),at}}addStyleToHost(ue,j){const se=this.getStyleElement(ue,j);ue.appendChild(se);const Ue=this.styleRef,at=Ue.get(j)?.elements;at?at.push(se):Ue.set(j,{elements:[se],usage:1})}resetHostNodes(){const ue=this.hostNodes;ue.clear(),ue.add(this.doc.head)}static#e=this.\u0275fac=function(j){return new(j||dt)(p.LFG(J.K0),p.LFG(p.AFp),p.LFG(p.Ojb,8),p.LFG(p.Lbi))};static#t=this.\u0275prov=p.Yz7({token:dt,factory:dt.\u0275fac})}return dt})();const ze={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ee=/%COMP%/g,pe=new p.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Oe(dt,We){return We.map(ue=>ue.replace(ee,dt))}let Pe=(()=>{class dt{constructor(ue,j,se,Ue,at,Zt,At,Wt=null){this.eventManager=ue,this.sharedStylesHost=j,this.appId=se,this.removeStylesOnCompDestroy=Ue,this.doc=at,this.platformId=Zt,this.ngZone=At,this.nonce=Wt,this.rendererByCompId=new Map,this.platformIsServer=(0,J.PM)(Zt),this.defaultRenderer=new $e(ue,at,At,this.platformIsServer)}createRenderer(ue,j){if(!ue||!j)return this.defaultRenderer;this.platformIsServer&&j.encapsulation===p.ifc.ShadowDom&&(j={...j,encapsulation:p.ifc.Emulated});const se=this.getOrCreateRenderer(ue,j);return se instanceof pt?se.applyToHost(ue):se instanceof ut&&se.applyStyles(),se}getOrCreateRenderer(ue,j){const se=this.rendererByCompId;let Ue=se.get(j.id);if(!Ue){const at=this.doc,Zt=this.ngZone,At=this.eventManager,Wt=this.sharedStylesHost,Ln=this.removeStylesOnCompDestroy,Bn=this.platformIsServer;switch(j.encapsulation){case p.ifc.Emulated:Ue=new pt(At,Wt,j,this.appId,Ln,at,Zt,Bn);break;case p.ifc.ShadowDom:return new Bt(At,Wt,ue,j,at,Zt,this.nonce,Bn);default:Ue=new ut(At,Wt,j,Ln,at,Zt,Bn)}se.set(j.id,Ue)}return Ue}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(j){return new(j||dt)(p.LFG(ne),p.LFG(Se),p.LFG(p.AFp),p.LFG(pe),p.LFG(J.K0),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(p.Ojb))};static#t=this.\u0275prov=p.Yz7({token:dt,factory:dt.\u0275fac})}return dt})();class $e{constructor(We,ue,j,se){this.eventManager=We,this.doc=ue,this.ngZone=j,this.platformIsServer=se,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(We,ue){return ue?this.doc.createElementNS(ze[ue]||ue,We):this.doc.createElement(We)}createComment(We){return this.doc.createComment(We)}createText(We){return this.doc.createTextNode(We)}appendChild(We,ue){(Fe(We)?We.content:We).appendChild(ue)}insertBefore(We,ue,j){We&&(Fe(We)?We.content:We).insertBefore(ue,j)}removeChild(We,ue){We&&We.removeChild(ue)}selectRootElement(We,ue){let j="string"==typeof We?this.doc.querySelector(We):We;if(!j)throw new p.vHH(-5104,!1);return ue||(j.textContent=""),j}parentNode(We){return We.parentNode}nextSibling(We){return We.nextSibling}setAttribute(We,ue,j,se){if(se){ue=se+":"+ue;const Ue=ze[se];Ue?We.setAttributeNS(Ue,ue,j):We.setAttribute(ue,j)}else We.setAttribute(ue,j)}removeAttribute(We,ue,j){if(j){const se=ze[j];se?We.removeAttributeNS(se,ue):We.removeAttribute(`${j}:${ue}`)}else We.removeAttribute(ue)}addClass(We,ue){We.classList.add(ue)}removeClass(We,ue){We.classList.remove(ue)}setStyle(We,ue,j,se){se&(p.JOm.DashCase|p.JOm.Important)?We.style.setProperty(ue,j,se&p.JOm.Important?"important":""):We.style[ue]=j}removeStyle(We,ue,j){j&p.JOm.DashCase?We.style.removeProperty(ue):We.style[ue]=""}setProperty(We,ue,j){We[ue]=j}setValue(We,ue){We.nodeValue=ue}listen(We,ue,j){if("string"==typeof We&&!(We=(0,J.q)().getGlobalEventTarget(this.doc,We)))throw new Error(`Unsupported event target ${We} for event ${ue}`);return this.eventManager.addEventListener(We,ue,this.decoratePreventDefault(j))}decoratePreventDefault(We){return ue=>{if("__ngUnwrap__"===ue)return We;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>We(ue)):We(ue))&&ue.preventDefault()}}}function Fe(dt){return"TEMPLATE"===dt.tagName&&void 0!==dt.content}class Bt extends $e{constructor(We,ue,j,se,Ue,at,Zt,At){super(We,Ue,at,At),this.sharedStylesHost=ue,this.hostEl=j,this.shadowRoot=j.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Wt=Oe(se.id,se.styles);for(const Ln of Wt){const Bn=document.createElement("style");Zt&&Bn.setAttribute("nonce",Zt),Bn.textContent=Ln,this.shadowRoot.appendChild(Bn)}}nodeOrShadowRoot(We){return We===this.hostEl?this.shadowRoot:We}appendChild(We,ue){return super.appendChild(this.nodeOrShadowRoot(We),ue)}insertBefore(We,ue,j){return super.insertBefore(this.nodeOrShadowRoot(We),ue,j)}removeChild(We,ue){return super.removeChild(this.nodeOrShadowRoot(We),ue)}parentNode(We){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(We)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ut extends $e{constructor(We,ue,j,se,Ue,at,Zt,At){super(We,Ue,at,Zt),this.sharedStylesHost=ue,this.removeStylesOnCompDestroy=se,this.styles=At?Oe(At,j.styles):j.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class pt extends ut{constructor(We,ue,j,se,Ue,at,Zt,At){const Wt=se+"-"+j.id;super(We,ue,j,Ue,at,Zt,At,Wt),this.contentAttr=function de(dt){return"_ngcontent-%COMP%".replace(ee,dt)}(Wt),this.hostAttr=function Ge(dt){return"_nghost-%COMP%".replace(ee,dt)}(Wt)}applyToHost(We){this.applyStyles(),this.setAttribute(We,this.hostAttr,"")}createElement(We,ue){const j=super.createElement(We,ue);return super.setAttribute(j,this.contentAttr,""),j}}let Re=(()=>{class dt extends ge{constructor(ue){super(ue)}supports(ue){return!0}addEventListener(ue,j,se){return ue.addEventListener(j,se,!1),()=>this.removeEventListener(ue,j,se)}removeEventListener(ue,j,se){return ue.removeEventListener(j,se)}static#e=this.\u0275fac=function(j){return new(j||dt)(p.LFG(J.K0))};static#t=this.\u0275prov=p.Yz7({token:dt,factory:dt.\u0275fac})}return dt})();const ct=["alt","control","meta","shift"],ce={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},he={alt:dt=>dt.altKey,control:dt=>dt.ctrlKey,meta:dt=>dt.metaKey,shift:dt=>dt.shiftKey};let Me=(()=>{class dt extends ge{constructor(ue){super(ue)}supports(ue){return null!=dt.parseEventName(ue)}addEventListener(ue,j,se){const Ue=dt.parseEventName(j),at=dt.eventCallback(Ue.fullKey,se,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,J.q)().onAndCancel(ue,Ue.domEventName,at))}static parseEventName(ue){const j=ue.toLowerCase().split("."),se=j.shift();if(0===j.length||"keydown"!==se&&"keyup"!==se)return null;const Ue=dt._normalizeKey(j.pop());let at="",Zt=j.indexOf("code");if(Zt>-1&&(j.splice(Zt,1),at="code."),ct.forEach(Wt=>{const Ln=j.indexOf(Wt);Ln>-1&&(j.splice(Ln,1),at+=Wt+".")}),at+=Ue,0!=j.length||0===Ue.length)return null;const At={};return At.domEventName=se,At.fullKey=at,At}static matchEventFullKeyCode(ue,j){let se=ce[ue.key]||ue.key,Ue="";return j.indexOf("code.")>-1&&(se=ue.code,Ue="code."),!(null==se||!se)&&(se=se.toLowerCase()," "===se?se="space":"."===se&&(se="dot"),ct.forEach(at=>{at!==se&&(0,he[at])(ue)&&(Ue+=at+".")}),Ue+=se,Ue===j)}static eventCallback(ue,j,se){return Ue=>{dt.matchEventFullKeyCode(Ue,ue)&&se.runGuarded(()=>j(Ue))}}static _normalizeKey(ue){return"esc"===ue?"escape":ue}static#e=this.\u0275fac=function(j){return new(j||dt)(p.LFG(J.K0))};static#t=this.\u0275prov=p.Yz7({token:dt,factory:dt.\u0275fac})}return dt})();const zt=(0,p.eFA)(p._c5,"browser",[{provide:p.Lbi,useValue:J.bD},{provide:p.g9A,useValue:function ot(){te.makeCurrent()},multi:!0},{provide:J.K0,useFactory:function gt(){return(0,p.RDi)(document),document},deps:[]}]),St=new p.OlP(""),xn=[{provide:p.rWj,useClass:class oe{addToWindow(We){p.dqk.getAngularTestability=(j,se=!0)=>{const Ue=We.findTestabilityInTree(j,se);if(null==Ue)throw new p.vHH(5103,!1);return Ue},p.dqk.getAllAngularTestabilities=()=>We.getAllTestabilities(),p.dqk.getAllAngularRootElements=()=>We.getAllRootElements(),p.dqk.frameworkStabilizers||(p.dqk.frameworkStabilizers=[]),p.dqk.frameworkStabilizers.push(j=>{const se=p.dqk.getAllAngularTestabilities();let Ue=se.length,at=!1;const Zt=function(At){at=at||At,Ue--,0==Ue&&j(at)};se.forEach(At=>{At.whenStable(Zt)})})}findTestabilityInTree(We,ue,j){return null==ue?null:We.getTestability(ue)??(j?(0,J.q)().isShadowRoot(ue)?this.findTestabilityInTree(We,ue.host,!0):this.findTestabilityInTree(We,ue.parentElement,!0):null)}},deps:[]},{provide:p.lri,useClass:p.dDg,deps:[p.R0b,p.eoX,p.rWj]},{provide:p.dDg,useClass:p.dDg,deps:[p.R0b,p.eoX,p.rWj]}],vn=[{provide:p.zSh,useValue:"root"},{provide:p.qLn,useFactory:function fn(){return new p.qLn},deps:[]},{provide:fe,useClass:Re,multi:!0,deps:[J.K0,p.R0b,p.Lbi]},{provide:fe,useClass:Me,multi:!0,deps:[J.K0]},Pe,Se,ne,{provide:p.FYo,useExisting:Pe},{provide:J.JF,useClass:re,deps:[]},[]];let me=(()=>{class dt{constructor(ue){}static withServerTransition(ue){return{ngModule:dt,providers:[{provide:p.AFp,useValue:ue.appId}]}}static#e=this.\u0275fac=function(j){return new(j||dt)(p.LFG(St,12))};static#t=this.\u0275mod=p.oAB({type:dt});static#n=this.\u0275inj=p.cJS({providers:[...vn,...xn],imports:[J.ez,p.hGG]})}return dt})(),Rt=(()=>{class dt{constructor(ue){this._doc=ue}getTitle(){return this._doc.title}setTitle(ue){this._doc.title=ue||""}static#e=this.\u0275fac=function(j){return new(j||dt)(p.LFG(J.K0))};static#t=this.\u0275prov=p.Yz7({token:dt,factory:function(j){let se=null;return se=j?new j:function _t(){return new Rt((0,p.LFG)(J.K0))}(),se},providedIn:"root"})}return dt})();typeof window<"u"&&window;let Zi=(()=>{class dt{static#e=this.\u0275fac=function(j){return new(j||dt)};static#t=this.\u0275prov=p.Yz7({token:dt,factory:function(j){let se=null;return se=j?new(j||dt):p.LFG(jn),se},providedIn:"root"})}return dt})(),jn=(()=>{class dt extends Zi{constructor(ue){super(),this._doc=ue}sanitize(ue,j){if(null==j)return null;switch(ue){case p.q3G.NONE:return j;case p.q3G.HTML:return(0,p.qzn)(j,"HTML")?(0,p.z3N)(j):(0,p.EiD)(this._doc,String(j)).toString();case p.q3G.STYLE:return(0,p.qzn)(j,"Style")?(0,p.z3N)(j):j;case p.q3G.SCRIPT:if((0,p.qzn)(j,"Script"))return(0,p.z3N)(j);throw new p.vHH(5200,!1);case p.q3G.URL:return(0,p.qzn)(j,"URL")?(0,p.z3N)(j):(0,p.mCW)(String(j));case p.q3G.RESOURCE_URL:if((0,p.qzn)(j,"ResourceURL"))return(0,p.z3N)(j);throw new p.vHH(5201,!1);default:throw new p.vHH(5202,!1)}}bypassSecurityTrustHtml(ue){return(0,p.JVY)(ue)}bypassSecurityTrustStyle(ue){return(0,p.L6k)(ue)}bypassSecurityTrustScript(ue){return(0,p.eBb)(ue)}bypassSecurityTrustUrl(ue){return(0,p.LAX)(ue)}bypassSecurityTrustResourceUrl(ue){return(0,p.pB0)(ue)}static#e=this.\u0275fac=function(j){return new(j||dt)(p.LFG(J.K0))};static#t=this.\u0275prov=p.Yz7({token:dt,factory:function(j){let se=null;return se=j?new j:function Fi(dt){return new jn(dt.get(J.K0))}(p.LFG(p.zs3)),se},providedIn:"root"})}return dt})()},7723:(yt,ke,S)=>{"use strict";S.d(ke,{gz:()=>_o,F0:()=>$o,rH:()=>g,Od:()=>C,Bz:()=>Xs,lC:()=>Hi,AF:()=>St});var p=S(1699),J=S(2235),V=S(2602),q=S(4683),e=S(4980),Q=S(8071),Le=S(3839),oe=S(1967),re=S(5823),fe=S(384);function ne(b){return new J.y(E=>{(0,fe.Xf)(b()).subscribe(E)})}var ge=S(2476),De=S(3252),Se=S(6290),ze=S(6482),ee=S(4114),Te=S(5678);function et(){return(0,ee.e)((b,E)=>{let v=null;b._refCount++;const T=(0,Te.x)(E,void 0,void 0,void 0,()=>{if(!b||b._refCount<=0||0<--b._refCount)return void(v=null);const P=b._connection,G=v;v=null,P&&(!G||P===G)&&P.unsubscribe(),E.unsubscribe()});b.subscribe(T),T.closed||(v=b.connect())})}class nt extends J.y{constructor(E,v){super(),this.source=E,this.subjectFactory=v,this._subject=null,this._refCount=0,this._connection=null,(0,ee.A)(E)&&(this.lift=E.lift)}_subscribe(E){return this.getSubject().subscribe(E)}getSubject(){const E=this._subject;return(!E||E.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:E}=this;this._subject=this._connection=null,E?.unsubscribe()}connect(){let E=this._connection;if(!E){E=this._connection=new ze.w0;const v=this.getSubject();E.add(this.source.subscribe((0,Te.x)(v,void 0,()=>{this._teardown(),v.complete()},T=>{this._teardown(),v.error(T)},()=>this._teardown()))),E.closed&&(this._connection=null,E=ze.w0.EMPTY)}return E}refCount(){return et()(this)}}var be=S(9877),pe=S(6575),de=S(9736),Ge=S(1891),Oe=S(1527),Pe=S(5043),$e=S(4520),He=S(9912),ft=S(5267),Fe=S(5616),Bt=S(3738),ut=S(2389);var ct=S(728);function ce(b){return b<=0?()=>Se.E:(0,ee.e)((E,v)=>{let T=[];E.subscribe((0,Te.x)(v,P=>{T.push(P),b<T.length&&T.shift()},()=>{for(const P of T)v.next(P);v.complete()},void 0,()=>{T=null}))})}var he=S(3614),Me=S(204),Ie=S(8037),Ye=S(7474),rt=S(274),ot=S(7047),fn=S(6480);const gt="primary",cn=Symbol("RouteTitle");class zt{constructor(E){this.params=E||{}}has(E){return Object.prototype.hasOwnProperty.call(this.params,E)}get(E){if(this.has(E)){const v=this.params[E];return Array.isArray(v)?v[0]:v}return null}getAll(E){if(this.has(E)){const v=this.params[E];return Array.isArray(v)?v:[v]}return[]}get keys(){return Object.keys(this.params)}}function St(b){return new zt(b)}function xn(b,E,v){const T=v.path.split("/");if(T.length>b.length||"full"===v.pathMatch&&(E.hasChildren()||T.length<b.length))return null;const P={};for(let G=0;G<T.length;G++){const ae=T[G],st=b[G];if(ae.startsWith(":"))P[ae.substring(1)]=st;else if(ae!==st.path)return null}return{consumed:b.slice(0,T.length),posParams:P}}function me(b,E){const v=b?Object.keys(b):void 0,T=E?Object.keys(E):void 0;if(!v||!T||v.length!=T.length)return!1;let P;for(let G=0;G<v.length;G++)if(P=v[G],!_e(b[P],E[P]))return!1;return!0}function _e(b,E){if(Array.isArray(b)&&Array.isArray(E)){if(b.length!==E.length)return!1;const v=[...b].sort(),T=[...E].sort();return v.every((P,G)=>T[G]===P)}return b===E}function je(b){return b.length>0?b[b.length-1]:null}function Qe(b){return function te(b){return!!b&&(b instanceof J.y||(0,V.m)(b.lift)&&(0,V.m)(b.subscribe))}(b)?b:(0,p.QGY)(b)?(0,q.D)(Promise.resolve(b)):(0,e.of)(b)}const _t={exact:function Lt(b,E,v){if(!Dn(b.segments,E.segments)||!ui(b.segments,E.segments,v)||b.numberOfChildren!==E.numberOfChildren)return!1;for(const T in E.children)if(!b.children[T]||!Lt(b.children[T],E.children[T],v))return!1;return!0},subset:Ot},Rt={exact:function ln(b,E){return me(b,E)},subset:function Mt(b,E){return Object.keys(E).length<=Object.keys(b).length&&Object.keys(E).every(v=>_e(b[v],E[v]))},ignored:()=>!0};function pn(b,E,v){return _t[v.paths](b.root,E.root,v.matrixParams)&&Rt[v.queryParams](b.queryParams,E.queryParams)&&!("exact"===v.fragment&&b.fragment!==E.fragment)}function Ot(b,E,v){return Rn(b,E,E.segments,v)}function Rn(b,E,v,T){if(b.segments.length>v.length){const P=b.segments.slice(0,v.length);return!(!Dn(P,v)||E.hasChildren()||!ui(P,v,T))}if(b.segments.length===v.length){if(!Dn(b.segments,v)||!ui(b.segments,v,T))return!1;for(const P in E.children)if(!b.children[P]||!Ot(b.children[P],E.children[P],T))return!1;return!0}{const P=v.slice(0,b.segments.length),G=v.slice(b.segments.length);return!!(Dn(b.segments,P)&&ui(b.segments,P,T)&&b.children[gt])&&Rn(b.children[gt],E,G,T)}}function ui(b,E,v){return E.every((T,P)=>Rt[v](b[P].parameters,T.parameters))}class sn{constructor(E=new qt([],{}),v={},T=null){this.root=E,this.queryParams=v,this.fragment=T}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=St(this.queryParams)),this._queryParamMap}toString(){return Ti.serialize(this)}}class qt{constructor(E,v){this.segments=E,this.children=v,this.parent=null,Object.values(v).forEach(T=>T.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zi(this)}}class Hn{constructor(E,v){this.path=E,this.parameters=v}get parameterMap(){return this._parameterMap||(this._parameterMap=St(this.parameters)),this._parameterMap}toString(){return zi(this)}}function Dn(b,E){return b.length===E.length&&b.every((v,T)=>v.path===E[T].path)}let gn=(()=>{class b{static#e=this.\u0275fac=function(T){return new(T||b)};static#t=this.\u0275prov=p.Yz7({token:b,factory:function(){return new Ri},providedIn:"root"})}return b})();class Ri{parse(E){const v=new At(E);return new sn(v.parseRootSegment(),v.parseQueryParams(),v.parseFragment())}serialize(E){const v=`/${Fi(E.root,!0)}`,T=function Zo(b){const E=Object.keys(b).map(v=>{const T=b[v];return Array.isArray(T)?T.map(P=>`${qn(v)}=${qn(P)}`).join("&"):`${qn(v)}=${qn(T)}`}).filter(v=>!!v);return E.length?`?${E.join("&")}`:""}(E.queryParams);return`${v}${T}${"string"==typeof E.fragment?`#${function In(b){return encodeURI(b)}(E.fragment)}`:""}`}}const Ti=new Ri;function Zi(b){return b.segments.map(E=>zi(E)).join("/")}function Fi(b,E){if(!b.hasChildren())return Zi(b);if(E){const v=b.children[gt]?Fi(b.children[gt],!1):"",T=[];return Object.entries(b.children).forEach(([P,G])=>{P!==gt&&T.push(`${P}:${Fi(G,!1)}`)}),T.length>0?`${v}(${T.join("//")})`:v}{const v=function Fn(b,E){let v=[];return Object.entries(b.children).forEach(([T,P])=>{T===gt&&(v=v.concat(E(P,T)))}),Object.entries(b.children).forEach(([T,P])=>{T!==gt&&(v=v.concat(E(P,T)))}),v}(b,(T,P)=>P===gt?[Fi(b.children[gt],!1)]:[`${P}:${Fi(T,!1)}`]);return 1===Object.keys(b.children).length&&null!=b.children[gt]?`${Zi(b)}/${v[0]}`:`${Zi(b)}/(${v.join("//")})`}}function jn(b){return encodeURIComponent(b).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qn(b){return jn(b).replace(/%3B/gi,";")}function si(b){return jn(b).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Li(b){return decodeURIComponent(b)}function Ji(b){return Li(b.replace(/\+/g,"%20"))}function zi(b){return`${si(b.path)}${function io(b){return Object.keys(b).map(E=>`;${si(E)}=${si(b[E])}`).join("")}(b.parameters)}`}const dt=/^[^\/()?;#]+/;function We(b){const E=b.match(dt);return E?E[0]:""}const ue=/^[^\/()?;=#]+/,se=/^[^=?&#]+/,at=/^[^&#]+/;class At{constructor(E){this.url=E,this.remaining=E}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qt([],{}):new qt([],this.parseChildren())}parseQueryParams(){const E={};if(this.consumeOptional("?"))do{this.parseQueryParam(E)}while(this.consumeOptional("&"));return E}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const E=[];for(this.peekStartsWith("(")||E.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),E.push(this.parseSegment());let v={};this.peekStartsWith("/(")&&(this.capture("/"),v=this.parseParens(!0));let T={};return this.peekStartsWith("(")&&(T=this.parseParens(!1)),(E.length>0||Object.keys(v).length>0)&&(T[gt]=new qt(E,v)),T}parseSegment(){const E=We(this.remaining);if(""===E&&this.peekStartsWith(";"))throw new p.vHH(4009,!1);return this.capture(E),new Hn(Li(E),this.parseMatrixParams())}parseMatrixParams(){const E={};for(;this.consumeOptional(";");)this.parseParam(E);return E}parseParam(E){const v=function j(b){const E=b.match(ue);return E?E[0]:""}(this.remaining);if(!v)return;this.capture(v);let T="";if(this.consumeOptional("=")){const P=We(this.remaining);P&&(T=P,this.capture(T))}E[Li(v)]=Li(T)}parseQueryParam(E){const v=function Ue(b){const E=b.match(se);return E?E[0]:""}(this.remaining);if(!v)return;this.capture(v);let T="";if(this.consumeOptional("=")){const ae=function Zt(b){const E=b.match(at);return E?E[0]:""}(this.remaining);ae&&(T=ae,this.capture(T))}const P=Ji(v),G=Ji(T);if(E.hasOwnProperty(P)){let ae=E[P];Array.isArray(ae)||(ae=[ae],E[P]=ae),ae.push(G)}else E[P]=G}parseParens(E){const v={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const T=We(this.remaining),P=this.remaining[T.length];if("/"!==P&&")"!==P&&";"!==P)throw new p.vHH(4010,!1);let G;T.indexOf(":")>-1?(G=T.slice(0,T.indexOf(":")),this.capture(G),this.capture(":")):E&&(G=gt);const ae=this.parseChildren();v[G]=1===Object.keys(ae).length?ae[gt]:new qt([],ae),this.consumeOptional("//")}return v}peekStartsWith(E){return this.remaining.startsWith(E)}consumeOptional(E){return!!this.peekStartsWith(E)&&(this.remaining=this.remaining.substring(E.length),!0)}capture(E){if(!this.consumeOptional(E))throw new p.vHH(4011,!1)}}function Wt(b){return b.segments.length>0?new qt([],{[gt]:b}):b}function Ln(b){const E={};for(const T of Object.keys(b.children)){const G=Ln(b.children[T]);if(T===gt&&0===G.segments.length&&G.hasChildren())for(const[ae,st]of Object.entries(G.children))E[ae]=st;else(G.segments.length>0||G.hasChildren())&&(E[T]=G)}return function Bn(b){if(1===b.numberOfChildren&&b.children[gt]){const E=b.children[gt];return new qt(b.segments.concat(E.segments),E.children)}return b}(new qt(b.segments,E))}function Ze(b){return b instanceof sn}function Ae(b){let E;const P=Wt(function v(G){const ae={};for(const tt of G.children){const Qt=v(tt);ae[tt.outlet]=Qt}const st=new qt(G.url,ae);return G===b&&(E=st),st}(b.root));return E??P}function it(b,E,v,T){let P=b;for(;P.parent;)P=P.parent;if(0===E.length)return Nt(P,P,P,v,T);const G=function yi(b){if("string"==typeof b[0]&&1===b.length&&"/"===b[0])return new an(!0,0,b);let E=0,v=!1;const T=b.reduce((P,G,ae)=>{if("object"==typeof G&&null!=G){if(G.outlets){const st={};return Object.entries(G.outlets).forEach(([tt,Qt])=>{st[tt]="string"==typeof Qt?Qt.split("/"):Qt}),[...P,{outlets:st}]}if(G.segmentPath)return[...P,G.segmentPath]}return"string"!=typeof G?[...P,G]:0===ae?(G.split("/").forEach((st,tt)=>{0==tt&&"."===st||(0==tt&&""===st?v=!0:".."===st?E++:""!=st&&P.push(st))}),P):[...P,G]},[]);return new an(v,E,T)}(E);if(G.toRoot())return Nt(P,P,new qt([],{}),v,T);const ae=function Vn(b,E,v){if(b.isAbsolute)return new mn(E,!0,0);if(!v)return new mn(E,!1,NaN);if(null===v.parent)return new mn(v,!0,0);const T=Ct(b.commands[0])?0:1;return function Jt(b,E,v){let T=b,P=E,G=v;for(;G>P;){if(G-=P,T=T.parent,!T)throw new p.vHH(4005,!1);P=T.segments.length}return new mn(T,!1,P-G)}(v,v.segments.length-1+T,b.numberOfDoubleDots)}(G,P,b),st=ae.processChildren?un(ae.segmentGroup,ae.index,G.commands):oi(ae.segmentGroup,ae.index,G.commands);return Nt(P,ae.segmentGroup,st,v,T)}function Ct(b){return"object"==typeof b&&null!=b&&!b.outlets&&!b.segmentPath}function xt(b){return"object"==typeof b&&null!=b&&b.outlets}function Nt(b,E,v,T,P){let ae,G={};T&&Object.entries(T).forEach(([tt,Qt])=>{G[tt]=Array.isArray(Qt)?Qt.map(Gn=>`${Gn}`):`${Qt}`}),ae=b===E?v:Kt(b,E,v);const st=Wt(Ln(ae));return new sn(st,G,P)}function Kt(b,E,v){const T={};return Object.entries(b.children).forEach(([P,G])=>{T[P]=G===E?v:Kt(G,E,v)}),new qt(b.segments,T)}class an{constructor(E,v,T){if(this.isAbsolute=E,this.numberOfDoubleDots=v,this.commands=T,E&&T.length>0&&Ct(T[0]))throw new p.vHH(4003,!1);const P=T.find(xt);if(P&&P!==je(T))throw new p.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class mn{constructor(E,v,T){this.segmentGroup=E,this.processChildren=v,this.index=T}}function oi(b,E,v){if(b||(b=new qt([],{})),0===b.segments.length&&b.hasChildren())return un(b,E,v);const T=function Pn(b,E,v){let T=0,P=E;const G={match:!1,pathIndex:0,commandIndex:0};for(;P<b.segments.length;){if(T>=v.length)return G;const ae=b.segments[P],st=v[T];if(xt(st))break;const tt=`${st}`,Qt=T<v.length-1?v[T+1]:null;if(P>0&&void 0===tt)break;if(tt&&Qt&&"object"==typeof Qt&&void 0===Qt.outlets){if(!Cn(tt,Qt,ae))return G;T+=2}else{if(!Cn(tt,{},ae))return G;T++}P++}return{match:!0,pathIndex:P,commandIndex:T}}(b,E,v),P=v.slice(T.commandIndex);if(T.match&&T.pathIndex<b.segments.length){const G=new qt(b.segments.slice(0,T.pathIndex),{});return G.children[gt]=new qt(b.segments.slice(T.pathIndex),b.children),un(G,0,P)}return T.match&&0===P.length?new qt(b.segments,{}):T.match&&!b.hasChildren()?ei(b,E,v):T.match?un(b,0,P):ei(b,E,v)}function un(b,E,v){if(0===v.length)return new qt(b.segments,{});{const T=function Un(b){return xt(b[0])?b[0].outlets:{[gt]:b}}(v),P={};if(Object.keys(T).some(G=>G!==gt)&&b.children[gt]&&1===b.numberOfChildren&&0===b.children[gt].segments.length){const G=un(b.children[gt],E,v);return new qt(b.segments,G.children)}return Object.entries(T).forEach(([G,ae])=>{"string"==typeof ae&&(ae=[ae]),null!==ae&&(P[G]=oi(b.children[G],E,ae))}),Object.entries(b.children).forEach(([G,ae])=>{void 0===T[G]&&(P[G]=ae)}),new qt(b.segments,P)}}function ei(b,E,v){const T=b.segments.slice(0,E);let P=0;for(;P<v.length;){const G=v[P];if(xt(G)){const tt=Ii(G.outlets);return new qt(T,tt)}if(0===P&&Ct(v[0])){T.push(new Hn(b.segments[E].path,Yt(v[0]))),P++;continue}const ae=xt(G)?G.outlets[gt]:`${G}`,st=P<v.length-1?v[P+1]:null;ae&&st&&Ct(st)?(T.push(new Hn(ae,Yt(st))),P+=2):(T.push(new Hn(ae,{})),P++)}return new qt(T,{})}function Ii(b){const E={};return Object.entries(b).forEach(([v,T])=>{"string"==typeof T&&(T=[T]),null!==T&&(E[v]=ei(new qt([],{}),0,T))}),E}function Yt(b){const E={};return Object.entries(b).forEach(([v,T])=>E[v]=`${T}`),E}function Cn(b,E,v){return b==v.path&&me(E,v.parameters)}const Oi="imperative";class Si{constructor(E,v){this.id=E,this.url=v}}class vi extends Si{constructor(E,v,T="imperative",P=null){super(E,v),this.type=0,this.navigationTrigger=T,this.restoredState=P}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class oo extends Si{constructor(E,v,T){super(E,v),this.urlAfterRedirects=T,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class wn extends Si{constructor(E,v,T,P){super(E,v),this.reason=T,this.code=P,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Tn extends Si{constructor(E,v,T,P){super(E,v),this.reason=T,this.code=P,this.type=16}}class $i extends Si{constructor(E,v,T,P){super(E,v),this.error=T,this.target=P,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Co extends Si{constructor(E,v,T,P){super(E,v),this.urlAfterRedirects=T,this.state=P,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gi extends Si{constructor(E,v,T,P){super(E,v),this.urlAfterRedirects=T,this.state=P,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cs extends Si{constructor(E,v,T,P,G){super(E,v),this.urlAfterRedirects=T,this.state=P,this.shouldActivate=G,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Jo extends Si{constructor(E,v,T,P){super(E,v),this.urlAfterRedirects=T,this.state=P,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ho extends Si{constructor(E,v,T,P){super(E,v),this.urlAfterRedirects=T,this.state=P,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class di{constructor(E){this.route=E,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Je{constructor(E){this.route=E,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class kt{constructor(E){this.snapshot=E,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tt{constructor(E){this.snapshot=E,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gt{constructor(E){this.snapshot=E,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nn{constructor(E){this.snapshot=E,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wn{constructor(E,v,T){this.routerEvent=E,this.position=v,this.anchor=T,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Jn{}class Di{constructor(E){this.url=E}}class Io{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new wo,this.attachRef=null}}let wo=(()=>{class b{constructor(){this.contexts=new Map}onChildOutletCreated(v,T){const P=this.getOrCreateContext(v);P.outlet=T,this.contexts.set(v,P)}onChildOutletDestroyed(v){const T=this.getContext(v);T&&(T.outlet=null,T.attachRef=null)}onOutletDeactivated(){const v=this.contexts;return this.contexts=new Map,v}onOutletReAttached(v){this.contexts=v}getOrCreateContext(v){let T=this.getContext(v);return T||(T=new Io,this.contexts.set(v,T)),T}getContext(v){return this.contexts.get(v)||null}static#e=this.\u0275fac=function(T){return new(T||b)};static#t=this.\u0275prov=p.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})();class hr{constructor(E){this._root=E}get root(){return this._root.value}parent(E){const v=this.pathFromRoot(E);return v.length>1?v[v.length-2]:null}children(E){const v=On(E,this._root);return v?v.children.map(T=>T.value):[]}firstChild(E){const v=On(E,this._root);return v&&v.children.length>0?v.children[0].value:null}siblings(E){const v=Bi(E,this._root);return v.length<2?[]:v[v.length-2].children.map(P=>P.value).filter(P=>P!==E)}pathFromRoot(E){return Bi(E,this._root).map(v=>v.value)}}function On(b,E){if(b===E.value)return E;for(const v of E.children){const T=On(b,v);if(T)return T}return null}function Bi(b,E){if(b===E.value)return[E];for(const v of E.children){const T=Bi(b,v);if(T.length)return T.unshift(E),T}return[]}class Xt{constructor(E,v){this.value=E,this.children=v}toString(){return`TreeNode(${this.value})`}}function Ni(b){const E={};return b&&b.children.forEach(v=>E[v.value.outlet]=v),E}class kn extends hr{constructor(E,v){super(E),this.snapshot=v,on(this,E)}toString(){return this.snapshot.toString()}}function fr(b,E){const v=function Tr(b,E){const ae=new hi([],{},{},"",{},gt,E,null,{});return new $t("",new Xt(ae,[]))}(0,E),T=new Q.X([new Hn("",{})]),P=new Q.X({}),G=new Q.X({}),ae=new Q.X({}),st=new Q.X(""),tt=new _o(T,P,ae,st,G,gt,E,v.root);return tt.snapshot=v.root,new kn(new Xt(tt,[]),v)}class _o{constructor(E,v,T,P,G,ae,st,tt){this.urlSubject=E,this.paramsSubject=v,this.queryParamsSubject=T,this.fragmentSubject=P,this.dataSubject=G,this.outlet=ae,this.component=st,this._futureSnapshot=tt,this.title=this.dataSubject?.pipe((0,de.U)(Qt=>Qt[cn]))??(0,e.of)(void 0),this.url=E,this.params=v,this.queryParams=T,this.fragment=P,this.data=G}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,de.U)(E=>St(E)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,de.U)(E=>St(E)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Wr(b,E="emptyOnly"){const v=b.pathFromRoot;let T=0;if("always"!==E)for(T=v.length-1;T>=1;){const P=v[T],G=v[T-1];if(P.routeConfig&&""===P.routeConfig.path)T--;else{if(G.component)break;T--}}return function Qo(b){return b.reduce((E,v)=>({params:{...E.params,...v.params},data:{...E.data,...v.data},resolve:{...v.data,...E.resolve,...v.routeConfig?.data,...v._resolvedData}}),{params:{},data:{},resolve:{}})}(v.slice(T))}class hi{get title(){return this.data?.[cn]}constructor(E,v,T,P,G,ae,st,tt,Qt){this.url=E,this.params=v,this.queryParams=T,this.fragment=P,this.data=G,this.outlet=ae,this.component=st,this.routeConfig=tt,this._resolve=Qt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=St(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=St(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(T=>T.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $t extends hr{constructor(E,v){super(v),this.url=E,on(this,v)}toString(){return ai(this._root)}}function on(b,E){E.value._routerState=b,E.children.forEach(v=>on(b,v))}function ai(b){const E=b.children.length>0?` { ${b.children.map(ai).join(", ")} } `:"";return`${b.value}${E}`}function ro(b){if(b.snapshot){const E=b.snapshot,v=b._futureSnapshot;b.snapshot=v,me(E.queryParams,v.queryParams)||b.queryParamsSubject.next(v.queryParams),E.fragment!==v.fragment&&b.fragmentSubject.next(v.fragment),me(E.params,v.params)||b.paramsSubject.next(v.params),function vn(b,E){if(b.length!==E.length)return!1;for(let v=0;v<b.length;++v)if(!me(b[v],E[v]))return!1;return!0}(E.url,v.url)||b.urlSubject.next(v.url),me(E.data,v.data)||b.dataSubject.next(v.data)}else b.snapshot=b._futureSnapshot,b.dataSubject.next(b._futureSnapshot.data)}function Go(b,E){const v=me(b.params,E.params)&&function ht(b,E){return Dn(b,E)&&b.every((v,T)=>me(v.parameters,E[T].parameters))}(b.url,E.url);return v&&!(!b.parent!=!E.parent)&&(!b.parent||Go(b.parent,E.parent))}let Hi=(()=>{class b{constructor(){this.activated=null,this._activatedRoute=null,this.name=gt,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.parentContexts=(0,p.f3M)(wo),this.location=(0,p.f3M)(p.s_b),this.changeDetector=(0,p.f3M)(p.sBO),this.environmentInjector=(0,p.f3M)(p.lqb),this.inputBinder=(0,p.f3M)(Ci,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(v){if(v.name){const{firstChange:T,previousValue:P}=v.name;if(T)return;this.isTrackedInParentContexts(P)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(P)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(v){return this.parentContexts.getContext(v)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const v=this.parentContexts.getContext(this.name);v?.route&&(v.attachRef?this.attach(v.attachRef,v.route):this.activateWith(v.route,v.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.vHH(4012,!1);this.location.detach();const v=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(v.instance),v}attach(v,T){this.activated=v,this._activatedRoute=T,this.location.insert(v.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(v.instance)}deactivate(){if(this.activated){const v=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(v)}}activateWith(v,T){if(this.isActivated)throw new p.vHH(4013,!1);this._activatedRoute=v;const P=this.location,ae=v.snapshot.component,st=this.parentContexts.getOrCreateContext(this.name).children,tt=new Mr(v,st,P.injector);this.activated=P.createComponent(ae,{index:P.length,injector:tt,environmentInjector:T??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(T){return new(T||b)};static#t=this.\u0275dir=p.lG2({type:b,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[p.TTD]})}return b})();class Mr{constructor(E,v,T){this.route=E,this.childContexts=v,this.parent=T}get(E,v){return E===_o?this.route:E===wo?this.childContexts:this.parent.get(E,v)}}const Ci=new p.OlP("");let Eo=(()=>{class b{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(v){this.unsubscribeFromRouteData(v),this.subscribeToRouteData(v)}unsubscribeFromRouteData(v){this.outletDataSubscriptions.get(v)?.unsubscribe(),this.outletDataSubscriptions.delete(v)}subscribeToRouteData(v){const{activatedRoute:T}=v,P=(0,Le.a)([T.queryParams,T.params,T.data]).pipe((0,Ge.w)(([G,ae,st],tt)=>(st={...G,...ae,...st},0===tt?(0,e.of)(st):Promise.resolve(st)))).subscribe(G=>{if(!v.isActivated||!v.activatedComponentRef||v.activatedRoute!==T||null===T.component)return void this.unsubscribeFromRouteData(v);const ae=(0,p.qFp)(T.component);if(ae)for(const{templateName:st}of ae.inputs)v.activatedComponentRef.setInput(st,G[st]);else this.unsubscribeFromRouteData(v)});this.outletDataSubscriptions.set(v,P)}static#e=this.\u0275fac=function(T){return new(T||b)};static#t=this.\u0275prov=p.Yz7({token:b,factory:b.\u0275fac})}return b})();function Vt(b,E,v){if(v&&b.shouldReuseRoute(E.value,v.value.snapshot)){const T=v.value;T._futureSnapshot=E.value;const P=function Sr(b,E,v){return E.children.map(T=>{for(const P of v.children)if(b.shouldReuseRoute(T.value,P.value.snapshot))return Vt(b,T,P);return Vt(b,T)})}(b,E,v);return new Xt(T,P)}{if(b.shouldAttach(E.value)){const G=b.retrieve(E.value);if(null!==G){const ae=G.route;return ae.value._futureSnapshot=E.value,ae.children=E.children.map(st=>Vt(b,st)),ae}}const T=function uo(b){return new _o(new Q.X(b.url),new Q.X(b.params),new Q.X(b.queryParams),new Q.X(b.fragment),new Q.X(b.data),b.outlet,b.component,b)}(E.value),P=E.children.map(G=>Vt(b,G));return new Xt(T,P)}}const To="ngNavigationCancelingError";function Ai(b,E){const{redirectTo:v,navigationBehaviorOptions:T}=Ze(E)?{redirectTo:E,navigationBehaviorOptions:void 0}:E,P=Vo(!1,0,E);return P.url=v,P.navigationBehaviorOptions=T,P}function Vo(b,E,v){const T=new Error("NavigationCancelingError: "+(b||""));return T[To]=!0,T.cancellationCode=E,v&&(T.url=v),T}function Oo(b){return b&&b[To]}let pr=(()=>{class b{static#e=this.\u0275fac=function(T){return new(T||b)};static#t=this.\u0275cmp=p.Xpm({type:b,selectors:[["ng-component"]],standalone:!0,features:[p.jDz],decls:1,vars:0,template:function(T,P){1&T&&p._UZ(0,"router-outlet")},dependencies:[Hi],encapsulation:2})}return b})();function so(b){const E=b.children&&b.children.map(so),v=E?{...b,children:E}:{...b};return!v.component&&!v.loadComponent&&(E||v.loadChildren)&&v.outlet&&v.outlet!==gt&&(v.component=pr),v}function ao(b){return b.outlet||gt}function ko(b){if(!b)return null;if(b.routeConfig?._injector)return b.routeConfig._injector;for(let E=b.parent;E;E=E.parent){const v=E.routeConfig;if(v?._loadedInjector)return v._loadedInjector;if(v?._injector)return v._injector}return null}class Po{constructor(E,v,T,P,G){this.routeReuseStrategy=E,this.futureState=v,this.currState=T,this.forwardEvent=P,this.inputBindingEnabled=G}activate(E){const v=this.futureState._root,T=this.currState?this.currState._root:null;this.deactivateChildRoutes(v,T,E),ro(this.futureState.root),this.activateChildRoutes(v,T,E)}deactivateChildRoutes(E,v,T){const P=Ni(v);E.children.forEach(G=>{const ae=G.value.outlet;this.deactivateRoutes(G,P[ae],T),delete P[ae]}),Object.values(P).forEach(G=>{this.deactivateRouteAndItsChildren(G,T)})}deactivateRoutes(E,v,T){const P=E.value,G=v?v.value:null;if(P===G)if(P.component){const ae=T.getContext(P.outlet);ae&&this.deactivateChildRoutes(E,v,ae.children)}else this.deactivateChildRoutes(E,v,T);else G&&this.deactivateRouteAndItsChildren(v,T)}deactivateRouteAndItsChildren(E,v){E.value.component&&this.routeReuseStrategy.shouldDetach(E.value.snapshot)?this.detachAndStoreRouteSubtree(E,v):this.deactivateRouteAndOutlet(E,v)}detachAndStoreRouteSubtree(E,v){const T=v.getContext(E.value.outlet),P=T&&E.value.component?T.children:v,G=Ni(E);for(const ae of Object.keys(G))this.deactivateRouteAndItsChildren(G[ae],P);if(T&&T.outlet){const ae=T.outlet.detach(),st=T.children.onOutletDeactivated();this.routeReuseStrategy.store(E.value.snapshot,{componentRef:ae,route:E,contexts:st})}}deactivateRouteAndOutlet(E,v){const T=v.getContext(E.value.outlet),P=T&&E.value.component?T.children:v,G=Ni(E);for(const ae of Object.keys(G))this.deactivateRouteAndItsChildren(G[ae],P);T&&(T.outlet&&(T.outlet.deactivate(),T.children.onOutletDeactivated()),T.attachRef=null,T.route=null)}activateChildRoutes(E,v,T){const P=Ni(v);E.children.forEach(G=>{this.activateRoutes(G,P[G.value.outlet],T),this.forwardEvent(new Nn(G.value.snapshot))}),E.children.length&&this.forwardEvent(new Tt(E.value.snapshot))}activateRoutes(E,v,T){const P=E.value,G=v?v.value:null;if(ro(P),P===G)if(P.component){const ae=T.getOrCreateContext(P.outlet);this.activateChildRoutes(E,v,ae.children)}else this.activateChildRoutes(E,v,T);else if(P.component){const ae=T.getOrCreateContext(P.outlet);if(this.routeReuseStrategy.shouldAttach(P.snapshot)){const st=this.routeReuseStrategy.retrieve(P.snapshot);this.routeReuseStrategy.store(P.snapshot,null),ae.children.onOutletReAttached(st.contexts),ae.attachRef=st.componentRef,ae.route=st.route.value,ae.outlet&&ae.outlet.attach(st.componentRef,st.route.value),ro(st.route.value),this.activateChildRoutes(E,null,ae.children)}else{const st=ko(P.snapshot);ae.attachRef=null,ae.route=P,ae.injector=st,ae.outlet&&ae.outlet.activateWith(P,ae.injector),this.activateChildRoutes(E,null,ae.children)}}else this.activateChildRoutes(E,null,T)}}class Qi{constructor(E){this.path=E,this.route=this.path[this.path.length-1]}}class sr{constructor(E,v){this.component=E,this.route=v}}function ar(b,E,v){const T=b._root;return Ro(T,E?E._root:null,v,[T.value])}function fo(b,E){const v=Symbol(),T=E.get(b,v);return T===v?"function"!=typeof b||(0,p.Z0I)(b)?E.get(b):b:T}function Ro(b,E,v,T,P={canDeactivateChecks:[],canActivateChecks:[]}){const G=Ni(E);return b.children.forEach(ae=>{(function ca(b,E,v,T,P={canDeactivateChecks:[],canActivateChecks:[]}){const G=b.value,ae=E?E.value:null,st=v?v.getContext(b.value.outlet):null;if(ae&&G.routeConfig===ae.routeConfig){const tt=function ds(b,E,v){if("function"==typeof v)return v(b,E);switch(v){case"pathParamsChange":return!Dn(b.url,E.url);case"pathParamsOrQueryParamsChange":return!Dn(b.url,E.url)||!me(b.queryParams,E.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Go(b,E)||!me(b.queryParams,E.queryParams);default:return!Go(b,E)}}(ae,G,G.routeConfig.runGuardsAndResolvers);tt?P.canActivateChecks.push(new Qi(T)):(G.data=ae.data,G._resolvedData=ae._resolvedData),Ro(b,E,G.component?st?st.children:null:v,T,P),tt&&st&&st.outlet&&st.outlet.isActivated&&P.canDeactivateChecks.push(new sr(st.outlet.component,ae))}else ae&&Fo(E,st,P),P.canActivateChecks.push(new Qi(T)),Ro(b,null,G.component?st?st.children:null:v,T,P)})(ae,G[ae.value.outlet],v,T.concat([ae.value]),P),delete G[ae.value.outlet]}),Object.entries(G).forEach(([ae,st])=>Fo(st,v.getContext(ae),P)),P}function Fo(b,E,v){const T=Ni(b),P=b.value;Object.entries(T).forEach(([G,ae])=>{Fo(ae,P.component?E?E.children.getContext(G):null:E,v)}),v.canDeactivateChecks.push(new sr(P.component&&E&&E.outlet&&E.outlet.isActivated?E.outlet.component:null,P))}function Br(b){return"function"==typeof b}function Ki(b){return b instanceof oe.K||"EmptyError"===b?.name}const qo=Symbol("INITIAL_VALUE");function xr(){return(0,Ge.w)(b=>(0,Le.a)(b.map(E=>E.pipe((0,Oe.q)(1),(0,Pe.O)(qo)))).pipe((0,de.U)(E=>{for(const v of E)if(!0!==v){if(v===qo)return qo;if(!1===v||v instanceof sn)return v}return!0}),(0,$e.h)(E=>E!==qo),(0,Oe.q)(1)))}function Qr(b){return(0,ge.z)((0,Bt.b)(E=>{if(Ze(E))throw Ai(0,E)}),(0,de.U)(E=>!0===E))}class Yi{constructor(E){this.segmentGroup=E||null}}class Es{constructor(E){this.urlTree=E}}function Mi(b){return(0,De._)(new Yi(b))}function Ts(b){return(0,De._)(new Es(b))}class cr{constructor(E,v){this.urlSerializer=E,this.urlTree=v}noMatchError(E){return new p.vHH(4002,!1)}lineralizeSegments(E,v){let T=[],P=v.root;for(;;){if(T=T.concat(P.segments),0===P.numberOfChildren)return(0,e.of)(T);if(P.numberOfChildren>1||!P.children[gt])return(0,De._)(new p.vHH(4e3,!1));P=P.children[gt]}}applyRedirectCommands(E,v,T){return this.applyRedirectCreateUrlTree(v,this.urlSerializer.parse(v),E,T)}applyRedirectCreateUrlTree(E,v,T,P){const G=this.createSegmentGroup(E,v.root,T,P);return new sn(G,this.createQueryParams(v.queryParams,this.urlTree.queryParams),v.fragment)}createQueryParams(E,v){const T={};return Object.entries(E).forEach(([P,G])=>{if("string"==typeof G&&G.startsWith(":")){const st=G.substring(1);T[P]=v[st]}else T[P]=G}),T}createSegmentGroup(E,v,T,P){const G=this.createSegments(E,v.segments,T,P);let ae={};return Object.entries(v.children).forEach(([st,tt])=>{ae[st]=this.createSegmentGroup(E,tt,T,P)}),new qt(G,ae)}createSegments(E,v,T,P){return v.map(G=>G.path.startsWith(":")?this.findPosParam(E,G,P):this.findOrReturn(G,T))}findPosParam(E,v,T){const P=T[v.path.substring(1)];if(!P)throw new p.vHH(4001,!1);return P}findOrReturn(E,v){let T=0;for(const P of v){if(P.path===E.path)return v.splice(T),P;T++}return E}}const _r={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Hr(b,E,v,T,P){const G=Xr(b,E,v);return G.matched?(T=function Jr(b,E){return b.providers&&!b._injector&&(b._injector=(0,p.MMx)(b.providers,E,`Route: ${b.path}`)),b._injector??E}(E,T),function ws(b,E,v,T){const P=E.canMatch;if(!P||0===P.length)return(0,e.of)(!0);const G=P.map(ae=>{const st=fo(ae,b);return Qe(function ye(b){return b&&Br(b.canMatch)}(st)?st.canMatch(E,v):b.runInContext(()=>st(E,v)))});return(0,e.of)(G).pipe(xr(),Qr())}(T,E,v).pipe((0,de.U)(ae=>!0===ae?G:{..._r}))):(0,e.of)(G)}function Xr(b,E,v){if(""===E.path)return"full"===E.pathMatch&&(b.hasChildren()||v.length>0)?{..._r}:{matched:!0,consumedSegments:[],remainingSegments:v,parameters:{},positionalParamSegments:{}};const P=(E.matcher||xn)(v,b,E);if(!P)return{..._r};const G={};Object.entries(P.posParams??{}).forEach(([st,tt])=>{G[st]=tt.path});const ae=P.consumed.length>0?{...G,...P.consumed[P.consumed.length-1].parameters}:G;return{matched:!0,consumedSegments:P.consumed,remainingSegments:v.slice(P.consumed.length),parameters:ae,positionalParamSegments:P.posParams??{}}}function jr(b,E,v,T){return v.length>0&&function Or(b,E,v){return v.some(T=>Xo(b,E,T)&&ao(T)!==gt)}(b,v,T)?{segmentGroup:new qt(E,ps(T,new qt(v,b.children))),slicedSegments:[]}:0===v.length&&function Vr(b,E,v){return v.some(T=>Xo(b,E,T))}(b,v,T)?{segmentGroup:new qt(b.segments,fs(b,0,v,T,b.children)),slicedSegments:v}:{segmentGroup:new qt(b.segments,b.children),slicedSegments:v}}function fs(b,E,v,T,P){const G={};for(const ae of T)if(Xo(b,v,ae)&&!P[ao(ae)]){const st=new qt([],{});G[ao(ae)]=st}return{...P,...G}}function ps(b,E){const v={};v[gt]=E;for(const T of b)if(""===T.path&&ao(T)!==gt){const P=new qt([],{});v[ao(T)]=P}return v}function Xo(b,E,v){return(!(b.hasChildren()||E.length>0)||"full"!==v.pathMatch)&&""===v.path}class ua{constructor(E,v,T,P,G,ae,st){this.injector=E,this.configLoader=v,this.rootComponentType=T,this.config=P,this.urlTree=G,this.paramsInheritanceStrategy=ae,this.urlSerializer=st,this.allowRedirects=!0,this.applyRedirects=new cr(this.urlSerializer,this.urlTree)}noMatchError(E){return new p.vHH(4002,!1)}recognize(){const E=jr(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,E,gt).pipe((0,ut.K)(v=>{if(v instanceof Es)return this.allowRedirects=!1,this.urlTree=v.urlTree,this.match(v.urlTree);throw v instanceof Yi?this.noMatchError(v):v}),(0,de.U)(v=>{const T=new hi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},gt,this.rootComponentType,null,{}),P=new Xt(T,v),G=new $t("",P),ae=function ve(b,E,v=null,T=null){return it(Ae(b),E,v,T)}(T,[],this.urlTree.queryParams,this.urlTree.fragment);return ae.queryParams=this.urlTree.queryParams,G.url=this.urlSerializer.serialize(ae),this.inheritParamsAndData(G._root),{state:G,tree:ae}}))}match(E){return this.processSegmentGroup(this.injector,this.config,E.root,gt).pipe((0,ut.K)(T=>{throw T instanceof Yi?this.noMatchError(T):T}))}inheritParamsAndData(E){const v=E.value,T=Wr(v,this.paramsInheritanceStrategy);v.params=Object.freeze(T.params),v.data=Object.freeze(T.data),E.children.forEach(P=>this.inheritParamsAndData(P))}processSegmentGroup(E,v,T,P){return 0===T.segments.length&&T.hasChildren()?this.processChildren(E,v,T):this.processSegment(E,v,T,T.segments,P,!0)}processChildren(E,v,T){const P=[];for(const G of Object.keys(T.children))"primary"===G?P.unshift(G):P.push(G);return(0,q.D)(P).pipe((0,Fe.b)(G=>{const ae=T.children[G],st=function Lr(b,E){const v=b.filter(T=>ao(T)===E);return v.push(...b.filter(T=>ao(T)!==E)),v}(v,G);return this.processSegmentGroup(E,st,ae,G)}),function Re(b,E){return(0,ee.e)(function pt(b,E,v,T,P){return(G,ae)=>{let st=v,tt=E,Qt=0;G.subscribe((0,Te.x)(ae,Gn=>{const qi=Qt++;tt=st?b(tt,Gn,qi):(st=!0,Gn),T&&ae.next(tt)},P&&(()=>{st&&ae.next(tt),ae.complete()})))}}(b,E,arguments.length>=2,!0))}((G,ae)=>(G.push(...ae),G)),(0,ct.d)(null),function Ce(b,E){const v=arguments.length>=2;return T=>T.pipe(b?(0,$e.h)((P,G)=>b(P,G,T)):Me.y,ce(1),v?(0,ct.d)(E):(0,he.T)(()=>new oe.K))}(),(0,He.z)(G=>{if(null===G)return Mi(T);const ae=Qs(G);return function Ea(b){b.sort((E,v)=>E.value.outlet===gt?-1:v.value.outlet===gt?1:E.value.outlet.localeCompare(v.value.outlet))}(ae),(0,e.of)(ae)}))}processSegment(E,v,T,P,G,ae){return(0,q.D)(v).pipe((0,Fe.b)(st=>this.processSegmentAgainstRoute(st._injector??E,v,st,T,P,G,ae).pipe((0,ut.K)(tt=>{if(tt instanceof Yi)return(0,e.of)(null);throw tt}))),(0,ft.P)(st=>!!st),(0,ut.K)(st=>{if(Ki(st))return function Us(b,E,v){return 0===E.length&&!b.children[v]}(T,P,G)?(0,e.of)([]):Mi(T);throw st}))}processSegmentAgainstRoute(E,v,T,P,G,ae,st){return function vr(b,E,v,T){return!!(ao(b)===T||T!==gt&&Xo(E,v,b))&&("**"===b.path||Xr(E,b,v).matched)}(T,P,G,ae)?void 0===T.redirectTo?this.matchSegmentAgainstRoute(E,P,T,G,ae,st):st&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(E,P,v,T,G,ae):Mi(P):Mi(P)}expandSegmentAgainstRouteUsingRedirect(E,v,T,P,G,ae){return"**"===P.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(E,T,P,ae):this.expandRegularSegmentAgainstRouteUsingRedirect(E,v,T,P,G,ae)}expandWildCardWithParamsAgainstRouteUsingRedirect(E,v,T,P){const G=this.applyRedirects.applyRedirectCommands([],T.redirectTo,{});return T.redirectTo.startsWith("/")?Ts(G):this.applyRedirects.lineralizeSegments(T,G).pipe((0,He.z)(ae=>{const st=new qt(ae,{});return this.processSegment(E,v,st,ae,P,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(E,v,T,P,G,ae){const{matched:st,consumedSegments:tt,remainingSegments:Qt,positionalParamSegments:Gn}=Xr(v,P,G);if(!st)return Mi(v);const qi=this.applyRedirects.applyRedirectCommands(tt,P.redirectTo,Gn);return P.redirectTo.startsWith("/")?Ts(qi):this.applyRedirects.lineralizeSegments(P,qi).pipe((0,He.z)(mi=>this.processSegment(E,T,v,mi.concat(Qt),ae,!1)))}matchSegmentAgainstRoute(E,v,T,P,G,ae){let st;if("**"===T.path){const tt=P.length>0?je(P).parameters:{},Qt=new hi(P,tt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,er(T),ao(T),T.component??T._loadedComponent??null,T,es(T));st=(0,e.of)({snapshot:Qt,consumedSegments:[],remainingSegments:[]}),v.children={}}else st=Hr(v,T,P,E).pipe((0,de.U)(({matched:tt,consumedSegments:Qt,remainingSegments:Gn,parameters:qi})=>tt?{snapshot:new hi(Qt,qi,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,er(T),ao(T),T.component??T._loadedComponent??null,T,es(T)),consumedSegments:Qt,remainingSegments:Gn}:null));return st.pipe((0,Ge.w)(tt=>null===tt?Mi(v):this.getChildConfig(E=T._injector??E,T,P).pipe((0,Ge.w)(({routes:Qt})=>{const Gn=T._loadedInjector??E,{snapshot:qi,consumedSegments:mi,remainingSegments:ns}=tt,{segmentGroup:Zs,slicedSegments:xs}=jr(v,mi,ns,Qt);if(0===xs.length&&Zs.hasChildren())return this.processChildren(Gn,Qt,Zs).pipe((0,de.U)(Bo=>null===Bo?null:[new Xt(qi,Bo)]));if(0===Qt.length&&0===xs.length)return(0,e.of)([new Xt(qi,[])]);const da=ao(T)===G;return this.processSegment(Gn,Qt,Zs,xs,da?gt:G,!0).pipe((0,de.U)(Bo=>[new Xt(qi,Bo)]))}))))}getChildConfig(E,v,T){return v.children?(0,e.of)({routes:v.children,injector:E}):v.loadChildren?void 0!==v._loadedRoutes?(0,e.of)({routes:v._loadedRoutes,injector:v._loadedInjector}):function Mo(b,E,v,T){const P=E.canLoad;if(void 0===P||0===P.length)return(0,e.of)(!0);const G=P.map(ae=>{const st=fo(ae,b);return Qe(function R(b){return b&&Br(b.canLoad)}(st)?st.canLoad(E,v):b.runInContext(()=>st(E,v)))});return(0,e.of)(G).pipe(xr(),Qr())}(E,v,T).pipe((0,He.z)(P=>P?this.configLoader.loadChildren(E,v).pipe((0,Bt.b)(G=>{v._loadedRoutes=G.routes,v._loadedInjector=G.injector})):function Js(b){return(0,De._)(Vo(!1,3))}())):(0,e.of)({routes:[],injector:E})}}function Ta(b){const E=b.value.routeConfig;return E&&""===E.path}function Qs(b){const E=[],v=new Set;for(const T of b){if(!Ta(T)){E.push(T);continue}const P=E.find(G=>T.value.routeConfig===G.value.routeConfig);void 0!==P?(P.children.push(...T.children),v.add(P)):E.push(T)}for(const T of v){const P=Qs(T.children);E.push(new Xt(T.value,P))}return E.filter(T=>!v.has(T))}function er(b){return b.data||{}}function es(b){return b.resolve||{}}function D(b){return"string"==typeof b.title||null===b.title}function H(b){return(0,Ge.w)(E=>{const v=b(E);return v?(0,q.D)(v).pipe((0,de.U)(()=>E)):(0,e.of)(E)})}const I=new p.OlP("ROUTES");let F=(()=>{class b{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,p.f3M)(p.Sil)}loadComponent(v){if(this.componentLoaders.get(v))return this.componentLoaders.get(v);if(v._loadedComponent)return(0,e.of)(v._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(v);const T=Qe(v.loadComponent()).pipe((0,de.U)(vt),(0,Bt.b)(G=>{this.onLoadEndListener&&this.onLoadEndListener(v),v._loadedComponent=G}),(0,Ye.x)(()=>{this.componentLoaders.delete(v)})),P=new nt(T,()=>new be.x).pipe(et());return this.componentLoaders.set(v,P),P}loadChildren(v,T){if(this.childrenLoaders.get(T))return this.childrenLoaders.get(T);if(T._loadedRoutes)return(0,e.of)({routes:T._loadedRoutes,injector:T._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(T);const G=function le(b,E,v,T){return Qe(b.loadChildren()).pipe((0,de.U)(vt),(0,He.z)(P=>P instanceof p.YKP||Array.isArray(P)?(0,e.of)(P):(0,q.D)(E.compileModuleAsync(P))),(0,de.U)(P=>{T&&T(b);let G,ae,st=!1;return Array.isArray(P)?(ae=P,!0):(G=P.create(v).injector,ae=G.get(I,[],{optional:!0,self:!0}).flat()),{routes:ae.map(so),injector:G}}))}(T,this.compiler,v,this.onLoadEndListener).pipe((0,Ye.x)(()=>{this.childrenLoaders.delete(T)})),ae=new nt(G,()=>new be.x).pipe(et());return this.childrenLoaders.set(T,ae),ae}static#e=this.\u0275fac=function(T){return new(T||b)};static#t=this.\u0275prov=p.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})();function vt(b){return function Xe(b){return b&&"object"==typeof b&&"default"in b}(b)?b.default:b}let tn=(()=>{class b{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new be.x,this.transitionAbortSubject=new be.x,this.configLoader=(0,p.f3M)(F),this.environmentInjector=(0,p.f3M)(p.lqb),this.urlSerializer=(0,p.f3M)(gn),this.rootContexts=(0,p.f3M)(wo),this.inputBindingEnabled=null!==(0,p.f3M)(Ci,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,e.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=P=>this.events.next(new Je(P)),this.configLoader.onLoadStartListener=P=>this.events.next(new di(P))}complete(){this.transitions?.complete()}handleNavigationRequest(v){const T=++this.navigationId;this.transitions?.next({...this.transitions.value,...v,id:T})}setupNavigations(v,T,P){return this.transitions=new Q.X({id:0,currentUrlTree:T,currentRawUrl:T,currentBrowserUrl:T,extractedUrl:v.urlHandlingStrategy.extract(T),urlAfterRedirects:v.urlHandlingStrategy.extract(T),rawUrl:T,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Oi,restoredState:null,currentSnapshot:P.snapshot,targetSnapshot:null,currentRouterState:P,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,$e.h)(G=>0!==G.id),(0,de.U)(G=>({...G,extractedUrl:v.urlHandlingStrategy.extract(G.rawUrl)})),(0,Ge.w)(G=>{this.currentTransition=G;let ae=!1,st=!1;return(0,e.of)(G).pipe((0,Bt.b)(tt=>{this.currentNavigation={id:tt.id,initialUrl:tt.rawUrl,extractedUrl:tt.extractedUrl,trigger:tt.source,extras:tt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ge.w)(tt=>{const Qt=tt.currentBrowserUrl.toString(),Gn=!v.navigated||tt.extractedUrl.toString()!==Qt||Qt!==tt.currentUrlTree.toString();if(!Gn&&"reload"!==(tt.extras.onSameUrlNavigation??v.onSameUrlNavigation)){const mi="";return this.events.next(new Tn(tt.id,this.urlSerializer.serialize(tt.rawUrl),mi,0)),tt.resolve(null),Se.E}if(v.urlHandlingStrategy.shouldProcessUrl(tt.rawUrl))return(0,e.of)(tt).pipe((0,Ge.w)(mi=>{const ns=this.transitions?.getValue();return this.events.next(new vi(mi.id,this.urlSerializer.serialize(mi.extractedUrl),mi.source,mi.restoredState)),ns!==this.transitions?.getValue()?Se.E:Promise.resolve(mi)}),function Ks(b,E,v,T,P,G){return(0,He.z)(ae=>function zr(b,E,v,T,P,G,ae="emptyOnly"){return new ua(b,E,v,T,P,ae,G).recognize()}(b,E,v,T,ae.extractedUrl,P,G).pipe((0,de.U)(({state:st,tree:tt})=>({...ae,targetSnapshot:st,urlAfterRedirects:tt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,v.config,this.urlSerializer,v.paramsInheritanceStrategy),(0,Bt.b)(mi=>{G.targetSnapshot=mi.targetSnapshot,G.urlAfterRedirects=mi.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:mi.urlAfterRedirects};const ns=new Co(mi.id,this.urlSerializer.serialize(mi.extractedUrl),this.urlSerializer.serialize(mi.urlAfterRedirects),mi.targetSnapshot);this.events.next(ns)}));if(Gn&&v.urlHandlingStrategy.shouldProcessUrl(tt.currentRawUrl)){const{id:mi,extractedUrl:ns,source:Zs,restoredState:xs,extras:da}=tt,Bo=new vi(mi,this.urlSerializer.serialize(ns),Zs,xs);this.events.next(Bo);const ha=fr(0,this.rootComponentType).snapshot;return this.currentTransition=G={...tt,targetSnapshot:ha,urlAfterRedirects:ns,extras:{...da,skipLocationChange:!1,replaceUrl:!1}},(0,e.of)(G)}{const mi="";return this.events.next(new Tn(tt.id,this.urlSerializer.serialize(tt.extractedUrl),mi,1)),tt.resolve(null),Se.E}}),(0,Bt.b)(tt=>{const Qt=new Gi(tt.id,this.urlSerializer.serialize(tt.extractedUrl),this.urlSerializer.serialize(tt.urlAfterRedirects),tt.targetSnapshot);this.events.next(Qt)}),(0,de.U)(tt=>(this.currentTransition=G={...tt,guards:ar(tt.targetSnapshot,tt.currentSnapshot,this.rootContexts)},G)),function Ir(b,E){return(0,He.z)(v=>{const{targetSnapshot:T,currentSnapshot:P,guards:{canActivateChecks:G,canDeactivateChecks:ae}}=v;return 0===ae.length&&0===G.length?(0,e.of)({...v,guardsResult:!0}):function Wa(b,E,v,T){return(0,q.D)(b).pipe((0,He.z)(P=>function Zr(b,E,v,T,P){const G=E&&E.routeConfig?E.routeConfig.canDeactivate:null;if(!G||0===G.length)return(0,e.of)(!0);const ae=G.map(st=>{const tt=ko(E)??P,Qt=fo(st,tt);return Qe(function W(b){return b&&Br(b.canDeactivate)}(Qt)?Qt.canDeactivate(b,E,v,T):tt.runInContext(()=>Qt(b,E,v,T))).pipe((0,ft.P)())});return(0,e.of)(ae).pipe(xr())}(P.component,P.route,v,E,T)),(0,ft.P)(P=>!0!==P,!0))}(ae,T,P,b).pipe((0,He.z)(st=>st&&function Ls(b){return"boolean"==typeof b}(st)?function Ur(b,E,v,T){return(0,q.D)(E).pipe((0,Fe.b)(P=>(0,re.z)(function Bs(b,E){return null!==b&&E&&E(new kt(b)),(0,e.of)(!0)}(P.route.parent,T),function la(b,E){return null!==b&&E&&E(new Gt(b)),(0,e.of)(!0)}(P.route,T),function hs(b,E,v){const T=E[E.length-1],G=E.slice(0,E.length-1).reverse().map(ae=>function mr(b){const E=b.routeConfig?b.routeConfig.canActivateChild:null;return E&&0!==E.length?{node:b,guards:E}:null}(ae)).filter(ae=>null!==ae).map(ae=>ne(()=>{const st=ae.guards.map(tt=>{const Qt=ko(ae.node)??v,Gn=fo(tt,Qt);return Qe(function x(b){return b&&Br(b.canActivateChild)}(Gn)?Gn.canActivateChild(T,b):Qt.runInContext(()=>Gn(T,b))).pipe((0,ft.P)())});return(0,e.of)(st).pipe(xr())}));return(0,e.of)(G).pipe(xr())}(b,P.path,v),function wa(b,E,v){const T=E.routeConfig?E.routeConfig.canActivate:null;if(!T||0===T.length)return(0,e.of)(!0);const P=T.map(G=>ne(()=>{const ae=ko(E)??v,st=fo(G,ae);return Qe(function B(b){return b&&Br(b.canActivate)}(st)?st.canActivate(E,b):ae.runInContext(()=>st(E,b))).pipe((0,ft.P)())}));return(0,e.of)(P).pipe(xr())}(b,P.route,v))),(0,ft.P)(P=>!0!==P,!0))}(T,G,b,E):(0,e.of)(st)),(0,de.U)(st=>({...v,guardsResult:st})))})}(this.environmentInjector,tt=>this.events.next(tt)),(0,Bt.b)(tt=>{if(G.guardsResult=tt.guardsResult,Ze(tt.guardsResult))throw Ai(0,tt.guardsResult);const Qt=new Cs(tt.id,this.urlSerializer.serialize(tt.extractedUrl),this.urlSerializer.serialize(tt.urlAfterRedirects),tt.targetSnapshot,!!tt.guardsResult);this.events.next(Qt)}),(0,$e.h)(tt=>!!tt.guardsResult||(this.cancelNavigationTransition(tt,"",3),!1)),H(tt=>{if(tt.guards.canActivateChecks.length)return(0,e.of)(tt).pipe((0,Bt.b)(Qt=>{const Gn=new Jo(Qt.id,this.urlSerializer.serialize(Qt.extractedUrl),this.urlSerializer.serialize(Qt.urlAfterRedirects),Qt.targetSnapshot);this.events.next(Gn)}),(0,Ge.w)(Qt=>{let Gn=!1;return(0,e.of)(Qt).pipe(function gs(b,E){return(0,He.z)(v=>{const{targetSnapshot:T,guards:{canActivateChecks:P}}=v;if(!P.length)return(0,e.of)(v);let G=0;return(0,q.D)(P).pipe((0,Fe.b)(ae=>function Ja(b,E,v,T){const P=b.routeConfig,G=b._resolve;return void 0!==P?.title&&!D(P)&&(G[cn]=P.title),function Ma(b,E,v,T){const P=function Ms(b){return[...Object.keys(b),...Object.getOwnPropertySymbols(b)]}(b);if(0===P.length)return(0,e.of)({});const G={};return(0,q.D)(P).pipe((0,He.z)(ae=>function ms(b,E,v,T){const P=ko(E)??T,G=fo(b,P);return Qe(G.resolve?G.resolve(E,v):P.runInContext(()=>G(E,v)))}(b[ae],E,v,T).pipe((0,ft.P)(),(0,Bt.b)(st=>{G[ae]=st}))),ce(1),(0,Ie.h)(G),(0,ut.K)(ae=>Ki(ae)?Se.E:(0,De._)(ae)))}(G,b,E,T).pipe((0,de.U)(ae=>(b._resolvedData=ae,b.data=Wr(b,v).resolve,P&&D(P)&&(b.data[cn]=P.title),null)))}(ae.route,T,b,E)),(0,Bt.b)(()=>G++),ce(1),(0,He.z)(ae=>G===P.length?(0,e.of)(v):Se.E))})}(v.paramsInheritanceStrategy,this.environmentInjector),(0,Bt.b)({next:()=>Gn=!0,complete:()=>{Gn||this.cancelNavigationTransition(Qt,"",2)}}))}),(0,Bt.b)(Qt=>{const Gn=new Ho(Qt.id,this.urlSerializer.serialize(Qt.extractedUrl),this.urlSerializer.serialize(Qt.urlAfterRedirects),Qt.targetSnapshot);this.events.next(Gn)}))}),H(tt=>{const Qt=Gn=>{const qi=[];Gn.routeConfig?.loadComponent&&!Gn.routeConfig._loadedComponent&&qi.push(this.configLoader.loadComponent(Gn.routeConfig).pipe((0,Bt.b)(mi=>{Gn.component=mi}),(0,de.U)(()=>{})));for(const mi of Gn.children)qi.push(...Qt(mi));return qi};return(0,Le.a)(Qt(tt.targetSnapshot.root)).pipe((0,ct.d)(),(0,Oe.q)(1))}),H(()=>this.afterPreactivation()),(0,de.U)(tt=>{const Qt=function Ko(b,E,v){const T=Vt(b,E._root,v?v._root:void 0);return new kn(T,E)}(v.routeReuseStrategy,tt.targetSnapshot,tt.currentRouterState);return this.currentTransition=G={...tt,targetRouterState:Qt},G}),(0,Bt.b)(()=>{this.events.next(new Jn)}),((b,E,v,T)=>(0,de.U)(P=>(new Po(E,P.targetRouterState,P.currentRouterState,v,T).activate(b),P)))(this.rootContexts,v.routeReuseStrategy,tt=>this.events.next(tt),this.inputBindingEnabled),(0,Oe.q)(1),(0,Bt.b)({next:tt=>{ae=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new oo(tt.id,this.urlSerializer.serialize(tt.extractedUrl),this.urlSerializer.serialize(tt.urlAfterRedirects))),v.titleStrategy?.updateTitle(tt.targetRouterState.snapshot),tt.resolve(!0)},complete:()=>{ae=!0}}),(0,rt.R)(this.transitionAbortSubject.pipe((0,Bt.b)(tt=>{throw tt}))),(0,Ye.x)(()=>{ae||st||this.cancelNavigationTransition(G,"",1),this.currentNavigation?.id===G.id&&(this.currentNavigation=null)}),(0,ut.K)(tt=>{if(st=!0,Oo(tt))this.events.next(new wn(G.id,this.urlSerializer.serialize(G.extractedUrl),tt.message,tt.cancellationCode)),function rr(b){return Oo(b)&&Ze(b.url)}(tt)?this.events.next(new Di(tt.url)):G.resolve(!1);else{this.events.next(new $i(G.id,this.urlSerializer.serialize(G.extractedUrl),tt,G.targetSnapshot??void 0));try{G.resolve(v.errorHandler(tt))}catch(Qt){G.reject(Qt)}}return Se.E}))}))}cancelNavigationTransition(v,T,P){const G=new wn(v.id,this.urlSerializer.serialize(v.extractedUrl),T,P);this.events.next(G),v.resolve(!1)}static#e=this.\u0275fac=function(T){return new(T||b)};static#t=this.\u0275prov=p.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})();function fi(b){return b!==Oi}let bi=(()=>{class b{buildTitle(v){let T,P=v.root;for(;void 0!==P;)T=this.getResolvedTitleForRoute(P)??T,P=P.children.find(G=>G.outlet===gt);return T}getResolvedTitleForRoute(v){return v.data[cn]}static#e=this.\u0275fac=function(T){return new(T||b)};static#t=this.\u0275prov=p.Yz7({token:b,factory:function(){return(0,p.f3M)($n)},providedIn:"root"})}return b})(),$n=(()=>{class b extends bi{constructor(v){super(),this.title=v}updateTitle(v){const T=this.buildTitle(v);void 0!==T&&this.title.setTitle(T)}static#e=this.\u0275fac=function(T){return new(T||b)(p.LFG(fn.Dx))};static#t=this.\u0275prov=p.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})(),Mn=(()=>{class b{static#e=this.\u0275fac=function(T){return new(T||b)};static#t=this.\u0275prov=p.Yz7({token:b,factory:function(){return(0,p.f3M)(wi)},providedIn:"root"})}return b})();class ji{shouldDetach(E){return!1}store(E,v){}shouldAttach(E){return!1}retrieve(E){return null}shouldReuseRoute(E,v){return E.routeConfig===v.routeConfig}}let wi=(()=>{class b extends ji{static#e=this.\u0275fac=function(){let v;return function(P){return(v||(v=p.n5z(b)))(P||b)}}();static#t=this.\u0275prov=p.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})();const Vi=new p.OlP("",{providedIn:"root",factory:()=>({})});let lr=(()=>{class b{static#e=this.\u0275fac=function(T){return new(T||b)};static#t=this.\u0275prov=p.Yz7({token:b,factory:function(){return(0,p.f3M)(tr)},providedIn:"root"})}return b})(),tr=(()=>{class b{shouldProcessUrl(v){return!0}extract(v){return v}merge(v,T){return v}static#e=this.\u0275fac=function(T){return new(T||b)};static#t=this.\u0275prov=p.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})();var So=function(b){return b[b.COMPLETE=0]="COMPLETE",b[b.FAILED=1]="FAILED",b[b.REDIRECTING=2]="REDIRECTING",b}(So||{});function Lo(b,E){b.events.pipe((0,$e.h)(v=>v instanceof oo||v instanceof wn||v instanceof $i||v instanceof Tn),(0,de.U)(v=>v instanceof oo||v instanceof Tn?So.COMPLETE:v instanceof wn&&(0===v.code||1===v.code)?So.REDIRECTING:So.FAILED),(0,$e.h)(v=>v!==So.REDIRECTING),(0,Oe.q)(1)).subscribe(()=>{E()})}function Xi(b){throw b}function Nr(b,E,v){return E.parse("/")}const zo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ei={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $o=(()=>{class b{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,p.f3M)(p.c2e),this.isNgZoneEnabled=!1,this._events=new be.x,this.options=(0,p.f3M)(Vi,{optional:!0})||{},this.pendingTasks=(0,p.f3M)(p.HDt),this.errorHandler=this.options.errorHandler||Xi,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Nr,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,p.f3M)(lr),this.routeReuseStrategy=(0,p.f3M)(Mn),this.titleStrategy=(0,p.f3M)(bi),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,p.f3M)(I,{optional:!0})?.flat()??[],this.navigationTransitions=(0,p.f3M)(tn),this.urlSerializer=(0,p.f3M)(gn),this.location=(0,p.f3M)(pe.Ye),this.componentInputBindingEnabled=!!(0,p.f3M)(Ci,{optional:!0}),this.eventsSubscription=new ze.w0,this.isNgZoneEnabled=(0,p.f3M)(p.R0b)instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new sn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=fr(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(v=>{this.lastSuccessfulId=v.id,this.currentPageId=this.browserPageId},v=>{this.console.warn(`Unhandled Navigation Error: ${v}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const v=this.navigationTransitions.events.subscribe(T=>{try{const{currentTransition:P}=this.navigationTransitions;if(null===P)return void(d(T)&&this._events.next(T));if(T instanceof vi)fi(P.source)&&(this.browserUrlTree=P.extractedUrl);else if(T instanceof Tn)this.rawUrlTree=P.rawUrl;else if(T instanceof Co){if("eager"===this.urlUpdateStrategy){if(!P.extras.skipLocationChange){const G=this.urlHandlingStrategy.merge(P.urlAfterRedirects,P.rawUrl);this.setBrowserUrl(G,P)}this.browserUrlTree=P.urlAfterRedirects}}else if(T instanceof Jn)this.currentUrlTree=P.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(P.urlAfterRedirects,P.rawUrl),this.routerState=P.targetRouterState,"deferred"===this.urlUpdateStrategy&&(P.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,P),this.browserUrlTree=P.urlAfterRedirects);else if(T instanceof wn)0!==T.code&&1!==T.code&&(this.navigated=!0),(3===T.code||2===T.code)&&this.restoreHistory(P);else if(T instanceof Di){const G=this.urlHandlingStrategy.merge(T.url,P.currentRawUrl),ae={skipLocationChange:P.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||fi(P.source)};this.scheduleNavigation(G,Oi,null,ae,{resolve:P.resolve,reject:P.reject,promise:P.promise})}T instanceof $i&&this.restoreHistory(P,!0),T instanceof oo&&(this.navigated=!0),d(T)&&this._events.next(T)}catch(P){this.navigationTransitions.transitionAbortSubject.next(P)}});this.eventsSubscription.add(v)}resetRootComponentType(v){this.routerState.root.component=v,this.navigationTransitions.rootComponentType=v}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const v=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Oi,v)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(v=>{const T="popstate"===v.type?"popstate":"hashchange";"popstate"===T&&setTimeout(()=>{this.navigateToSyncWithBrowser(v.url,T,v.state)},0)}))}navigateToSyncWithBrowser(v,T,P){const G={replaceUrl:!0},ae=P?.navigationId?P:null;if(P){const tt={...P};delete tt.navigationId,delete tt.\u0275routerPageId,0!==Object.keys(tt).length&&(G.state=tt)}const st=this.parseUrl(v);this.scheduleNavigation(st,T,ae,G)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(v){this.config=v.map(so),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(v,T={}){const{relativeTo:P,queryParams:G,fragment:ae,queryParamsHandling:st,preserveFragment:tt}=T,Qt=tt?this.currentUrlTree.fragment:ae;let qi,Gn=null;switch(st){case"merge":Gn={...this.currentUrlTree.queryParams,...G};break;case"preserve":Gn=this.currentUrlTree.queryParams;break;default:Gn=G||null}null!==Gn&&(Gn=this.removeEmptyProps(Gn));try{qi=Ae(P?P.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof v[0]||!v[0].startsWith("/"))&&(v=[]),qi=this.currentUrlTree.root}return it(qi,v,Gn,Qt??null)}navigateByUrl(v,T={skipLocationChange:!1}){const P=Ze(v)?v:this.parseUrl(v),G=this.urlHandlingStrategy.merge(P,this.rawUrlTree);return this.scheduleNavigation(G,Oi,null,T)}navigate(v,T={skipLocationChange:!1}){return function s(b){for(let E=0;E<b.length;E++)if(null==b[E])throw new p.vHH(4008,!1)}(v),this.navigateByUrl(this.createUrlTree(v,T),T)}serializeUrl(v){return this.urlSerializer.serialize(v)}parseUrl(v){let T;try{T=this.urlSerializer.parse(v)}catch(P){T=this.malformedUriErrorHandler(P,this.urlSerializer,v)}return T}isActive(v,T){let P;if(P=!0===T?{...zo}:!1===T?{...Ei}:T,Ze(v))return pn(this.currentUrlTree,v,P);const G=this.parseUrl(v);return pn(this.currentUrlTree,G,P)}removeEmptyProps(v){return Object.keys(v).reduce((T,P)=>{const G=v[P];return null!=G&&(T[P]=G),T},{})}scheduleNavigation(v,T,P,G,ae){if(this.disposed)return Promise.resolve(!1);let st,tt,Qt;ae?(st=ae.resolve,tt=ae.reject,Qt=ae.promise):Qt=new Promise((qi,mi)=>{st=qi,tt=mi});const Gn=this.pendingTasks.add();return Lo(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Gn))}),this.navigationTransitions.handleNavigationRequest({source:T,restoredState:P,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:v,extras:G,resolve:st,reject:tt,promise:Qt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Qt.catch(qi=>Promise.reject(qi))}setBrowserUrl(v,T){const P=this.urlSerializer.serialize(v);if(this.location.isCurrentPathEqualTo(P)||T.extras.replaceUrl){const ae={...T.extras.state,...this.generateNgRouterState(T.id,this.browserPageId)};this.location.replaceState(P,"",ae)}else{const G={...T.extras.state,...this.generateNgRouterState(T.id,this.browserPageId+1)};this.location.go(P,"",G)}}restoreHistory(v,T=!1){if("computed"===this.canceledNavigationResolution){const G=this.currentPageId-this.browserPageId;0!==G?this.location.historyGo(G):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===G&&(this.resetState(v),this.browserUrlTree=v.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(T&&this.resetState(v),this.resetUrlToCurrentUrlTree())}resetState(v){this.routerState=v.currentRouterState,this.currentUrlTree=v.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,v.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(v,T){return"computed"===this.canceledNavigationResolution?{navigationId:v,\u0275routerPageId:T}:{navigationId:v}}static#e=this.\u0275fac=function(T){return new(T||b)};static#t=this.\u0275prov=p.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})();function d(b){return!(b instanceof Jn||b instanceof Di)}let g=(()=>{class b{constructor(v,T,P,G,ae,st){this.router=v,this.route=T,this.tabIndexAttribute=P,this.renderer=G,this.el=ae,this.locationStrategy=st,this.href=null,this.commands=null,this.onChanges=new be.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const tt=ae.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===tt||"area"===tt,this.isAnchorElement?this.subscription=v.events.subscribe(Qt=>{Qt instanceof oo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(v){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",v)}ngOnChanges(v){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(v){null!=v?(this.commands=Array.isArray(v)?v:[v],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(v,T,P,G,ae){return!!(null===this.urlTree||this.isAnchorElement&&(0!==v||T||P||G||ae||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const v=null===this.href?null:(0,p.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",v)}applyAttributeValue(v,T){const P=this.renderer,G=this.el.nativeElement;null!==T?P.setAttribute(G,v,T):P.removeAttribute(G,v)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(T){return new(T||b)(p.Y36($o),p.Y36(_o),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(pe.S$))};static#t=this.\u0275dir=p.lG2({type:b,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(T,P){1&T&&p.NdJ("click",function(ae){return P.onClick(ae.button,ae.ctrlKey,ae.shiftKey,ae.altKey,ae.metaKey)}),2&T&&p.uIk("target",P.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",p.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",p.VuI],replaceUrl:["replaceUrl","replaceUrl",p.VuI],routerLink:"routerLink"},standalone:!0,features:[p.Xq5,p.TTD]})}return b})(),C=(()=>{class b{get isActive(){return this._isActive}constructor(v,T,P,G,ae){this.router=v,this.element=T,this.renderer=P,this.cdr=G,this.link=ae,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new p.vpe,this.routerEventsSubscription=v.events.subscribe(st=>{st instanceof oo&&this.update()})}ngAfterContentInit(){(0,e.of)(this.links.changes,(0,e.of)(null)).pipe((0,ot.J)()).subscribe(v=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const v=[...this.links.toArray(),this.link].filter(T=>!!T).map(T=>T.onChanges);this.linkInputChangesSubscription=(0,q.D)(v).pipe((0,ot.J)()).subscribe(T=>{this._isActive!==this.isLinkActive(this.router)(T)&&this.update()})}set routerLinkActive(v){const T=Array.isArray(v)?v:v.split(" ");this.classes=T.filter(P=>!!P)}ngOnChanges(v){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const v=this.hasActiveLinks();this._isActive!==v&&(this._isActive=v,this.cdr.markForCheck(),this.classes.forEach(T=>{v?this.renderer.addClass(this.element.nativeElement,T):this.renderer.removeClass(this.element.nativeElement,T)}),v&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(v))})}isLinkActive(v){const T=function O(b){return!!b.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return P=>!!P.urlTree&&v.isActive(P.urlTree,T)}hasActiveLinks(){const v=this.isLinkActive(this.router);return this.link&&v(this.link)||this.links.some(v)}static#e=this.\u0275fac=function(T){return new(T||b)(p.Y36($o),p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(p.sBO),p.Y36(g,8))};static#t=this.\u0275dir=p.lG2({type:b,selectors:[["","routerLinkActive",""]],contentQueries:function(T,P,G){if(1&T&&p.Suo(G,g,5),2&T){let ae;p.iGM(ae=p.CRH())&&(P.links=ae)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[p.TTD]})}return b})();class ${}let lt=(()=>{class b{constructor(v,T,P,G,ae){this.router=v,this.injector=P,this.preloadingStrategy=G,this.loader=ae}setUpPreloading(){this.subscription=this.router.events.pipe((0,$e.h)(v=>v instanceof oo),(0,Fe.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(v,T){const P=[];for(const G of T){G.providers&&!G._injector&&(G._injector=(0,p.MMx)(G.providers,v,`Route: ${G.path}`));const ae=G._injector??v,st=G._loadedInjector??ae;(G.loadChildren&&!G._loadedRoutes&&void 0===G.canLoad||G.loadComponent&&!G._loadedComponent)&&P.push(this.preloadConfig(ae,G)),(G.children||G._loadedRoutes)&&P.push(this.processRoutes(st,G.children??G._loadedRoutes))}return(0,q.D)(P).pipe((0,ot.J)())}preloadConfig(v,T){return this.preloadingStrategy.preload(T,()=>{let P;P=T.loadChildren&&void 0===T.canLoad?this.loader.loadChildren(v,T):(0,e.of)(null);const G=P.pipe((0,He.z)(ae=>null===ae?(0,e.of)(void 0):(T._loadedRoutes=ae.routes,T._loadedInjector=ae.injector,this.processRoutes(ae.injector??v,ae.routes))));if(T.loadComponent&&!T._loadedComponent){const ae=this.loader.loadComponent(T);return(0,q.D)([G,ae]).pipe((0,ot.J)())}return G})}static#e=this.\u0275fac=function(T){return new(T||b)(p.LFG($o),p.LFG(p.Sil),p.LFG(p.lqb),p.LFG($),p.LFG(F))};static#t=this.\u0275prov=p.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})();const wt=new p.OlP("");let Ht=(()=>{class b{constructor(v,T,P,G,ae={}){this.urlSerializer=v,this.transitions=T,this.viewportScroller=P,this.zone=G,this.options=ae,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ae.scrollPositionRestoration=ae.scrollPositionRestoration||"disabled",ae.anchorScrolling=ae.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(v=>{v instanceof vi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=v.navigationTrigger,this.restoredId=v.restoredState?v.restoredState.navigationId:0):v instanceof oo?(this.lastId=v.id,this.scheduleScrollEvent(v,this.urlSerializer.parse(v.urlAfterRedirects).fragment)):v instanceof Tn&&0===v.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(v,this.urlSerializer.parse(v.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(v=>{v instanceof Wn&&(v.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(v.position):v.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(v.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(v,T){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Wn(v,"popstate"===this.lastSource?this.store[this.restoredId]:null,T))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(T){p.$Z()};static#t=this.\u0275prov=p.Yz7({token:b,factory:b.\u0275fac})}return b})();function pi(b,E){return{\u0275kind:b,\u0275providers:E}}function Ee(){const b=(0,p.f3M)(p.zs3);return E=>{const v=b.get(p.z2F);if(E!==v.components[0])return;const T=b.get($o),P=b.get(U);1===b.get(k)&&T.initialNavigation(),b.get(Ft,null,p.XFs.Optional)?.setUpPreloading(),b.get(wt,null,p.XFs.Optional)?.init(),T.resetRootComponentType(v.componentTypes[0]),P.closed||(P.next(),P.complete(),P.unsubscribe())}}const U=new p.OlP("",{factory:()=>new be.x}),k=new p.OlP("",{providedIn:"root",factory:()=>1}),Ft=new p.OlP("");function ti(b){return pi(0,[{provide:Ft,useExisting:lt},{provide:$,useExisting:b}])}const yo=new p.OlP("ROUTER_FORROOT_GUARD"),Sa=[pe.Ye,{provide:gn,useClass:Ri},$o,wo,{provide:_o,useFactory:function Zn(b){return b.routerState.root},deps:[$o]},F,[]];function eo(){return new p.PXZ("Router",$o)}let Xs=(()=>{class b{constructor(v){}static forRoot(v,T){return{ngModule:b,providers:[Sa,[],{provide:I,multi:!0,useValue:v},{provide:yo,useFactory:Aa,deps:[[$o,new p.FiY,new p.tp0]]},{provide:Vi,useValue:T||{}},T?.useHash?{provide:pe.S$,useClass:pe.Do}:{provide:pe.S$,useClass:pe.b0},{provide:wt,useFactory:()=>{const b=(0,p.f3M)(pe.EM),E=(0,p.f3M)(p.R0b),v=(0,p.f3M)(Vi),T=(0,p.f3M)(tn),P=(0,p.f3M)(gn);return v.scrollOffset&&b.setOffset(v.scrollOffset),new Ht(P,T,b,E,v)}},T?.preloadingStrategy?ti(T.preloadingStrategy).\u0275providers:[],{provide:p.PXZ,multi:!0,useFactory:eo},T?.initialNavigation?vl(T):[],T?.bindToComponentInputs?pi(8,[Eo,{provide:Ci,useExisting:Eo}]).\u0275providers:[],[{provide:yl,useFactory:Ee},{provide:p.tb,multi:!0,useExisting:yl}]]}}static forChild(v){return{ngModule:b,providers:[{provide:I,multi:!0,useValue:v}]}}static#e=this.\u0275fac=function(T){return new(T||b)(p.LFG(yo,8))};static#t=this.\u0275mod=p.oAB({type:b});static#n=this.\u0275inj=p.cJS({})}return b})();function Aa(b){return"guarded"}function vl(b){return["disabled"===b.initialNavigation?pi(3,[{provide:p.ip1,multi:!0,useFactory:()=>{const E=(0,p.f3M)($o);return()=>{E.setUpLocationChangeListener()}}},{provide:k,useValue:2}]).\u0275providers:[],"enabledBlocking"===b.initialNavigation?pi(2,[{provide:k,useValue:0},{provide:p.ip1,multi:!0,deps:[p.zs3],useFactory:E=>{const v=E.get(pe.V_,Promise.resolve());return()=>v.then(()=>new Promise(T=>{const P=E.get($o),G=E.get(U);Lo(P,()=>{T(!0)}),E.get(tn).afterPreactivation=()=>(T(!0),G.closed?(0,e.of)(void 0):G),P.initialNavigation()}))}}]).\u0275providers:[]]}const yl=new p.OlP("")},2321:(yt,ke,S)=>{"use strict";function ne(ce,he,Me,Ce){return new(Me||(Me=Promise))(function(Ye,rt){function ot(cn){try{gt(Ce.next(cn))}catch(zt){rt(zt)}}function fn(cn){try{gt(Ce.throw(cn))}catch(zt){rt(zt)}}function gt(cn){cn.done?Ye(cn.value):function Ie(Ye){return Ye instanceof Me?Ye:new Me(function(rt){rt(Ye)})}(cn.value).then(ot,fn)}gt((Ce=Ce.apply(ce,he||[])).next())})}function be(ce){return this instanceof be?(this.v=ce,this):new be(ce)}function pe(ce,he,Me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,Ce=Me.apply(ce,he||[]),Ye=[];return Ie={},rt("next"),rt("throw"),rt("return"),Ie[Symbol.asyncIterator]=function(){return this},Ie;function rt(St){Ce[St]&&(Ie[St]=function(xn){return new Promise(function(vn,me){Ye.push([St,xn,vn,me])>1||ot(St,xn)})})}function ot(St,xn){try{!function fn(St){St.value instanceof be?Promise.resolve(St.value.v).then(gt,cn):zt(Ye[0][2],St)}(Ce[St](xn))}catch(vn){zt(Ye[0][3],vn)}}function gt(St){ot("next",St)}function cn(St){ot("throw",St)}function zt(St,xn){St(xn),Ye.shift(),Ye.length&&ot(Ye[0][0],Ye[0][1])}}function Ge(ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Me,he=ce[Symbol.asyncIterator];return he?he.call(ce):(ce=function ze(ce){var he="function"==typeof Symbol&&Symbol.iterator,Me=he&&ce[he],Ce=0;if(Me)return Me.call(ce);if(ce&&"number"==typeof ce.length)return{next:function(){return ce&&Ce>=ce.length&&(ce=void 0),{value:ce&&ce[Ce++],done:!ce}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")}(ce),Me={},Ce("next"),Ce("throw"),Ce("return"),Me[Symbol.asyncIterator]=function(){return this},Me);function Ce(Ye){Me[Ye]=ce[Ye]&&function(rt){return new Promise(function(ot,fn){!function Ie(Ye,rt,ot,fn){Promise.resolve(fn).then(function(gt){Ye({value:gt,done:ot})},rt)}(ot,fn,(rt=ce[Ye](rt)).done,rt.value)})}}}S.d(ke,{FC:()=>pe,KL:()=>Ge,mG:()=>ne,qq:()=>be}),"function"==typeof SuppressedError&&SuppressedError}},yt=>{var ke=p=>yt(yt.s=p);ke(9713),ke(7238)}]);
//# sourceMappingURL=main.4c42a9067985d6a2.js.map