(self.webpackChunkSkyGame_Planner=self.webpackChunkSkyGame_Planner||[]).push([[179],{1357:(Ot,ke,M)=>{"use strict";M.d(ke,{T:()=>g});class g{static create(){return{c:0,h:0,sc:0,sh:0,ac:0,ec:0}}static isEmpty(W){return!(W.c||W.h||W.sc||W.sh||W.ec||W.ac)}static add(W,...ce){for(const J of ce)J.c&&(W.c=(W.c||0)+J.c),J.h&&(W.h=(W.h||0)+J.h),J.sc&&(W.sc=(W.sc||0)+J.sc),J.sh&&(W.sh=(W.sh||0)+J.sh),J.ac&&(W.ac=(W.ac||0)+J.ac),J.ec&&(W.ec=(W.ec||0)+J.ec);return W}static subtract(W,...ce){for(const J of ce)J.c&&(W.c=(W.c||0)-J.c),J.h&&(W.h=(W.h||0)-J.h),J.sc&&(W.sc=(W.sc||0)-J.sc),J.sh&&(W.sh=(W.sh||0)-J.sh),J.ac&&(W.ac=(W.ac||0)-J.ac),J.ec&&(W.ec=(W.ec||0)-J.ec);return W}static invert(W){return W.c&&(W.c=-W.c),W.h&&(W.h=-W.h),W.sc&&(W.sc=-W.sc),W.sh&&(W.sh=-W.sh),W.ac&&(W.ac=-W.ac),W.ec&&(W.ec=-W.ec),W}}},6841:(Ot,ke,M)=>{"use strict";M.d(ke,{O:()=>W});var g=M(292),X=M.n(g);let W=(()=>{class ce{static#e=this.skyTimeZone="America/Los_Angeles";static#t=this.displayFormats=["DD-MM-YYYY","DD/MM/YYYY","MM-DD-YYYY","MM/DD/YYYY","YYYY-MM-DD","YYYY/MM/DD"];static isActive(e,Q){const Le=X()(),pe=X().tz(e),ge=X().tz(Q);return Le.isAfter(pe)&&Le.isBefore(ge)}static fromInterfaceLocal(e){if(e)return X().isDayjs(e)?e:X()(`${e.year}-${e.month}-${e.day}`)}static fromInterfaceSky(e){if(e)return X().isDayjs(e)?e:X().tz(`${e.year}-${e.month}-${e.day}`)}static fromStringLocal(e){if(e)return X().isDayjs(e)?e:X()(e)}static fromStringSky(e){if(e)return X().isDayjs(e)?e:X().tz(e)}static daysBetween(e,Q){const Le=Math.abs(e.diff(Q,"hour"));return Math.floor(Le/24)}static getStateFromPeriod(e,Q,Le){return Le??=X()(),e.isAfter(Le)?"future":Le.isAfter(Q)?"ended":"active"}}return ce})()},3311:(Ot,ke,M)=>{"use strict";M.d(ke,{f:()=>g});class g{static find(W,ce){return ce(W)?W:W?.nw&&this.find(W.nw,ce)||W?.ne&&this.find(W.ne,ce)||W?.n&&this.find(W.n,ce)||void 0}static getRoot(W){if(!W)return W;for(;W.prev;)W=W.prev;return W}static all(W,ce){return ce??=[],W&&(ce.push(W),W.nw&&this.all(W.nw,ce),W.ne&&this.all(W.ne,ce),W.n&&this.all(W.n,ce)),ce}static getItems(W,ce){const J=new Set;return this.all(W).filter(e=>e.item).forEach(e=>{J.add(e.item),ce&&e.hiddenItems?.forEach(Q=>J.add(Q))}),[...J]}static trace(W){const ce=[];for(;W;)ce.push(W),W=W.prev;return ce.reverse()}}},8460:(Ot,ke,M)=>{"use strict";M.d(ke,{q:()=>g});var g=function(X){return X.Hat="Hat",X.Hair="Hair",X.Mask="Mask",X.FaceAccessory="FaceAccessory",X.Necklace="Necklace",X.Outfit="Outfit",X.Shoes="Shoes",X.Cape="Cape",X.Instrument="Instrument",X.Held="Held",X.Prop="Prop",X.Emote="Emote",X.Stance="Stance",X.Call="Call",X.Spell="Spell",X.Music="Music",X.Quest="Quest",X.WingBuff="WingBuff",X.Special="Special",X}(g||{})},2848:(Ot,ke,M)=>{"use strict";M.d(ke,{D:()=>De});var g=M(3947),X=M.n(g),W=M(1699),ce=M(5400),J=M(4300),e=M(6841),Q=M(3311),Le=M(292),pe=M.n(Le),ge=M(1357),Ae=M(4860),ne=M(9140);let De=(()=>{class Se{constructor(K,be){this._httpClient=K,this._storageService=be,this.guidMap=new Map,this.onData=new ce.t,this.loadData().add(()=>{this.exposeData()})}loadData(){const K=be=>this._httpClient.get(`assets/data/${be}`,{responseType:"text"});return(0,J.D)({areaConfig:K("areas.json"),connectionConfig:K("connections.json"),eventConfig:K("events.json"),itemConfig:K("items.json"),nodeConfig:K("nodes.json"),questConfig:K("quests.json"),realmConfig:K("realms.json"),seasonConfig:K("seasons.json"),shopConfig:K("shops.json"),iapConfig:K("iaps.json"),spiritConfig:K("spirits.json"),spiritTreeConfig:K("spirit-trees.json"),travelingSpiritConfig:K("traveling-spirits.json"),returningSpiritsConfig:K("returning-spirits.json"),wingedLightConfig:K("winged-lights.json")}).subscribe({next:be=>{this.onConfigs(be)},error:be=>console.error(be)})}onConfigs(K){const be=Object.keys(K).map(Ye=>{const pt=X().parse(K[Ye]);return this[Ye]=pt,pt});this.initializeGuids(be),console.debug(`Loaded ${be.length} configs.`),this.initializeRealms(),this.initializeAreas(),this.initializeSeasons(),this.initializeSpirits(),this.initializeTravelingSpirits(),this.initializeReturningSpirits(),this.initializeSpiritTrees(),this.initializeEvents(),this.initializeShops(),this.initializeItems(),this.initializeSeasonItems(),this.initializeWingedLight(),this._storageService.save(),(0,W.X6Q)()&&this.validate(),this.onData.next(),this.onData.complete()}initializeRealms(){this.realmConfig.items.forEach(K=>{K.areas?.forEach((be,Ye)=>{be=this.guidMap.get(be),K.areas[Ye]=be,be.realm=K})})}initializeAreas(){this.areaConfig.items.forEach(K=>{K.spirits?.forEach((be,Ye)=>{be=this.guidMap.get(be),K.spirits[Ye]=be,be.area=K}),K.wingedLights?.forEach((be,Ye)=>{be=this.guidMap.get(be),K.wingedLights[Ye]=be,be.area=K})})}initializeSeasons(){this.seasonConfig.items.forEach((K,be)=>{K.number=be+1,K.date=e.O.fromStringSky(K.date),K.endDate=e.O.fromStringSky(K.endDate).endOf("day"),K.spirits?.forEach((Ye,pt)=>{Ye=this.guidMap.get(Ye),K.spirits[pt]=Ye,Ye.season=K}),K.shops?.forEach((Ye,pt)=>{Ye=this.guidMap.get(Ye),K.shops[pt]=Ye,Ye.season=K})})}initializeSpirits(){this.spiritConfig.items.forEach((K,be)=>{if(K._index=be,K.tree){const Ye=this.guidMap.get(K.tree);Ye.spirit=K,K.tree=Ye}})}initializeTravelingSpirits(){const K={};this.travelingSpiritConfig.items.forEach((be,Ye)=>{be.date=e.O.fromInterfaceSky(be.date),be.endDate=e.O.fromInterfaceSky(be.endDate)?.endOf("day")??pe()(be.date).add(3,"day").endOf("day");const pt=this.guidMap.get(be.spirit);be.spirit=pt,pt.ts??=[],pt.ts.push(be),K[pt.name]??=0,K[pt.name]++,be.number=Ye+1,be.visit=K[pt.name];const Rt=this.guidMap.get(be.tree);be.tree=Rt,Rt.ts=be})}initializeReturningSpirits(){this.returningSpiritsConfig.items.forEach((K,be)=>{if(K.date=e.O.fromInterfaceSky(K.date),K.endDate=e.O.fromInterfaceSky(K.endDate).endOf("day"),K.area){const Ye=this.guidMap.get(K.area);K.area=Ye,Ye.rs??=[],Ye.rs.push(K)}K.spirits?.forEach((Ye,pt)=>{this.registerGuid(Ye),Ye.return=K;const Rt=this.guidMap.get(Ye.spirit);K.spirits[pt].spirit=Rt,Rt.returns??=[],Rt.returns.push(Ye);const Te=this.guidMap.get(Ye.tree);K.spirits[pt].tree=Te,Te.visit=Ye})})}initializeSpiritTrees(){this.spiritTreeConfig.items.forEach(K=>{const be=this.guidMap.get(K.node);be||console.error("Node not found",K.node),K.node=be,be.spiritTree=K,this.initializeNode(be)})}initializeNode(K,be){const Ye=pt=>{const Rt=this.guidMap.get(pt);return this.initializeNode(Rt,K)};if(be&&(K.prev=be),"string"==typeof K.n&&(K.n=Ye(K.n)),"string"==typeof K.nw&&(K.nw=Ye(K.nw)),"string"==typeof K.ne&&(K.ne=Ye(K.ne)),"string"==typeof K.item){const pt=this.guidMap.get(K.item);pt||console.error("Node item not found",K,K.item),K.item=pt,pt.nodes??=[],pt.nodes.push(K)}return K.unlocked=this._storageService.unlocked.has(K.guid),K.hiddenItems?.length&&K.hiddenItems.forEach((pt,Rt)=>{if("string"!=typeof pt)return;const Te=this.guidMap.get(pt);Te||console.error("Node hidden item not found",K,pt),K.hiddenItems[Rt]=Te,Te.hiddenNodes??=[],Te.hiddenNodes.push(K),K.unlocked&&(Te.unlocked=!0,this._storageService.unlocked.add(Te.guid))}),K}initializeEvents(){this.eventConfig.items.forEach(K=>{K.instances?.forEach((be,Ye)=>{this.registerGuid(be),be.number=Ye+1,be.date=e.O.fromInterfaceSky(be.date),be.endDate=e.O.fromInterfaceSky(be.endDate).endOf("day"),be.event=K,be.shops?.forEach((pt,Rt)=>{pt=this.guidMap.get(pt),be.shops[Rt]=pt,pt.event=be}),be.spirits?.forEach(pt=>{pt.eventInstance=be;const Rt=this.guidMap.get(pt.spirit);Rt||console.error("Spirit not found",pt.spirit),pt.spirit=Rt,pt.spirit.events=[],pt.spirit.events.push(pt);const Te=this.guidMap.get(pt.tree);Te||console.error("Tree not found",pt.tree),pt.tree=Te,Te.eventInstanceSpirit=pt})})})}initializeShops(){this.shopConfig.items.forEach(K=>{if(K.spirit){const be=this.guidMap.get(K.spirit);K.spirit=be,be.shops??=[],be.shops.push(K)}K.iaps?.forEach((be,Ye)=>{be=this.guidMap.get(be),K.iaps[Ye]=be,be.shop=K,be.bought=this._storageService.unlocked.has(be.guid),be.items?.forEach((pt,Rt)=>{const Te=this.guidMap.get(pt);Te||console.error("Item not found",pt),be.items[Rt]=Te,Te.iaps??=[],Te.iaps.push(be),be.bought&&(Te.unlocked=!0,this._storageService.unlocked.add(Te.guid))})})})}initializeItems(){this.itemConfig.items.forEach(K=>{K.unlocked||=this._storageService.unlocked.has(K.guid),K.order??=999999})}initializeSeasonItems(){for(const K of this.seasonConfig.items){for(const be of K.spirits??[])if(be?.tree?.node)for(const Ye of Q.f.getItems(be.tree.node,!0))Ye.season=K;for(const be of K.shops??[])for(const Ye of be.iaps??[])for(const pt of Ye.items??[])pt.season=K}}initializeWingedLight(){this.wingedLightConfig.items.forEach(K=>{K.unlocked=this._storageService.unlockedCol.has(K.guid)})}exposeData(){window.skyData={areaConfig:this.areaConfig,spiritTreeConfig:this.spiritTreeConfig,eventConfig:this.eventConfig,itemConfig:this.itemConfig,nodeConfig:this.nodeConfig,questConfig:this.questConfig,realmConfig:this.realmConfig,seasonConfig:this.seasonConfig,shopConfig:this.shopConfig,spiritConfig:this.spiritConfig,travelingSpiritConfig:this.travelingSpiritConfig,returningSpiritsConfig:this.returningSpiritsConfig,wingedLightConfig:this.wingedLightConfig},window.skyGuids=this.guidMap,window.NodeHelper=Q.f,window.DateHelper=e.O,window.CostHelper=ge.T;const K="color:cyan;";console.log("To view loaded data, see %cwindow.skyData%c.",K,""),console.log("You can also use the helpers %cNodeHelper%c, %cDateHelper%c and %cCostHelper%c.",K,"",K,"",K,"")}reloadUnlocked(){this.itemConfig.items.forEach(K=>{K.unlocked=this._storageService.unlocked.has(K.guid)}),this.nodeConfig.items.forEach(K=>{K.unlocked=this._storageService.unlocked.has(K.guid)}),this.wingedLightConfig.items.forEach(K=>{K.unlocked=this._storageService.unlockedCol.has(K.guid)})}initializeGuids(K){for(const be of K)be.items.forEach(Ye=>this.registerGuid(Ye))}registerGuid(K){if(!K.guid)throw new Error(`GUID not defined on: ${JSON.stringify(K)}`);if(10!==K.guid.length&&console.error("GUID unexpected length:",K.guid),this.guidMap.has(K.guid))throw new Error(`GUID ${K.guid} already registered!`);this.guidMap.set(K.guid,K)}validate(){const K=new Set(this.areaConfig.items.flatMap(Ye=>Ye.wingedLights||[]).map(Ye=>Ye.guid)),be=this.wingedLightConfig.items.filter(Ye=>!K.has(Ye.guid));be.length&&console.error("Winged Light not found in areas:",be)}static#e=this.\u0275fac=function(be){return new(be||Se)(W.LFG(Ae.eN),W.LFG(ne.V))};static#t=this.\u0275prov=W.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"})}return Se})()},9140:(Ot,ke,M)=>{"use strict";M.d(ke,{V:()=>X});var g=M(1699);let X=(()=>{class W{constructor(){this.unlocked=new Set,this.unlockedCol=new Set,this.initializeItems(),this.initializeCol()}initializeItems(){const J=localStorage.getItem("unlocked");(J?.length&&J.split(",")||[]).forEach(Q=>this.unlocked.add(Q))}add(...J){J?.forEach(e=>this.unlocked.add(e))}remove(...J){J?.forEach(e=>this.unlocked.delete(e))}serializeUnlocked(){return[...this.unlocked].join(",")}save(){const J=this.serializeUnlocked();localStorage.setItem("unlocked",J)}initializeCol(){const J=localStorage.getItem("col.unlocked");(J?.length&&J.split(",")||[]).forEach(Q=>this.unlockedCol.add(Q))}addCol(...J){J?.forEach(e=>this.unlockedCol.add(e))}removeCol(...J){J?.forEach(e=>this.unlockedCol.delete(e))}serializeUnlockedCol(){return[...this.unlockedCol].join(",")}saveCol(){const J=this.serializeUnlockedCol();localStorage.setItem("col.unlocked",J)}static#e=this.\u0275fac=function(e){return new(e||W)};static#t=this.\u0275prov=g.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})()},3266:(Ot,ke,M)=>{"use strict";var g=M(6480),X=M(4860),W=M(140),ce=M(1134),J=M(7723),e=M(1699),Q=M(6575);function Le(r,f){1&r&&(e.TgZ(0,"div",30),e._UZ(1,"img",31),e.qZA())}function pe(r,f){1&r&&e.GkF(0)}function ge(r,f){1&r&&e.GkF(0)}function Ae(r,f){1&r&&e.GkF(0)}let ne=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-credits"]],decls:119,vars:3,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2"],[1,"sky-card","mt"],[1,"h3"],[1,"sky-card-body"],[1,"container","ws-pl"],["href","https://github.com/Silverfeelin/SkyGame-Planner/","target","_blank"],["href","https://github.com/Silverfeelin/SkyGame-Planner/blob/master/LICENSE","target","_blank"],["href","https://www.thatskygame.com/","target","_blank"],["href","https://thatgamecompany.com/","target","_blank"],["href","https://github.com/Silverfeelin/SkyGame-Planner/blob/master/package.json","target","_blank"],["href","https://www.npmjs.com/","target","_blank"],["discord",""],["href","https://sky-children-of-the-light.fandom.com/wiki/Sky:_Children_of_the_Light_Wiki","target","_blank"],["href","https://www.fandom.com/licensing","target","_blank"],[1,"mb-0"],["href","https://sky-children-of-the-light.fandom.com/wiki/Special:Community"],[1,"flex-credits"],[1,"flex-credit"],[1,"credit-name"],[1,"credit-handle","c-accent"],[4,"ngTemplateOutlet"],[1,"credit-handle-name"],[1,"container","ws-pl","mt"],["href","https://www.youtube.com/channel/UCTdBaJiejXA0WSOkPX0YO0w","target","_blank"],["href","https://www.youtube.com/@noobmode","target","_blank"],["href","https://www.youtube.com/@AppUnwrapper","target","_blank"],["href","https://www.youtube.com/@SkyBat","target","_blank"],["href","https://github.com/Silverfeelin/SkyGame-Planner/issues?q=is%3Aissue","target","_blank"],[1,"d-inline-block"],["src","assets/external/discord-mark-blue.svg","loading","lazy",1,"img-discord"]],template:function(c,d){if(1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Credits"),e.qZA()()(),e.TgZ(4,"div",3)(5,"div",1)(6,"h2",4)(7,"mat-icon"),e._uU(8,"note"),e.qZA(),e._uU(9," License "),e.qZA()(),e.TgZ(10,"div",5)(11,"div",6)(12,"p"),e._uU(13," Source code is publicly available "),e.TgZ(14,"a",7),e._uU(15,"on GitHub"),e.qZA(),e._uU(16," under the "),e.TgZ(17,"a",8),e._uU(18,"MIT License"),e.qZA(),e._uU(19,". "),e.qZA(),e.TgZ(20,"p"),e._uU(21," This project hosts some media and screenshots captured from the game "),e.TgZ(22,"a",9),e._uU(23,"Sky: Children of the Light"),e.qZA(),e._uU(24," developed by "),e.TgZ(25,"a",10),e._uU(26,"thatgamecompany"),e.qZA(),e._uU(27,"."),e._UZ(28,"br"),e._uU(29," Aforementioned license covers which assets are excluded from the terms of the license. "),e.qZA(),e.TgZ(30,"p"),e._uU(31," Sky Planner is non-commercial and is made available for informational purposes. "),e.qZA(),e.TgZ(32,"p"),e._uU(33," This project uses many public packages. These are listed in the "),e.TgZ(34,"a",11),e._uU(35,"package.json"),e.qZA(),e._uU(36," file."),e._UZ(37,"br"),e._uU(38," For respective licenses, please look up the packages on "),e.TgZ(39,"a",12),e._uU(40,"npm"),e.qZA(),e._uU(41,". "),e.qZA()()()(),e.YNc(42,Le,2,0,"ng-template",null,13,e.W1O),e.TgZ(44,"div",3)(45,"div",1)(46,"h2",4)(47,"mat-icon"),e._uU(48,"favorite"),e.qZA(),e._uU(49," Attribution "),e.qZA()(),e.TgZ(50,"div",5)(51,"div",6)(52,"p"),e._uU(53," Various images such as item icons and spirits are loaded directly from the "),e.TgZ(54,"a",14),e._uU(55,"Sky: Children of the Light Fandom wiki"),e.qZA(),e._uU(56,"."),e._UZ(57,"br"),e._uU(58," This project only links to the original assets. For more information refer to "),e.TgZ(59,"a",15),e._uU(60,"Fandom licensing page"),e.qZA(),e._uU(61,"."),e._UZ(62,"br"),e.qZA(),e.TgZ(63,"p",16),e._uU(64," A special thanks to the wiki contributors for all their hard work and for giving me permission to show images from the wiki on Sky Planner. You can find out more about "),e.TgZ(65,"a",17),e._uU(66,"the wiki contributors here"),e.qZA(),e._uU(67,"."),e._UZ(68,"br"),e._uU(69," In particular many icons on the wiki are contributed to the wiki by: "),e.qZA(),e.TgZ(70,"div",18)(71,"div",19)(72,"div",20),e._uU(73,"Morybel"),e.qZA(),e.TgZ(74,"div",21),e.YNc(75,pe,1,0,"ng-container",22),e.TgZ(76,"span",23),e._uU(77,"morybel"),e.qZA()()(),e.TgZ(78,"div",19)(79,"div",20),e._uU(80,"Mimi"),e.qZA(),e.TgZ(81,"div",21),e.YNc(82,ge,1,0,"ng-container",22),e.TgZ(83,"span",23),e._uU(84,"mimi4117"),e.qZA()()(),e.TgZ(85,"div",19)(86,"div",20),e._uU(87,"Ray"),e.qZA(),e.TgZ(88,"div",21),e.YNc(89,Ae,1,0,"ng-container",22),e.TgZ(90,"span",23),e._uU(91,"ray808080"),e.qZA()()()()(),e.TgZ(92,"div",24)(93,"p"),e._uU(94," Some Traveling Spirit price corrections were made based on infographics by Jed#9275 (new Discord handle unknown). "),e.qZA(),e.TgZ(95,"p"),e._uU(96," Some YouTube videos by "),e.TgZ(97,"a",25),e._uU(98,"nastymold"),e.qZA(),e._uU(99,", "),e.TgZ(100,"a",26),e._uU(101,"Noob Mode"),e.qZA(),e._uU(102,", "),e.TgZ(103,"a",27),e._uU(104,"App Unwrapper"),e.qZA(),e._uU(105," and "),e.TgZ(106,"a",28),e._uU(107,"Sky Bat"),e.qZA(),e._uU(108," were used as a reference to find missing information for older events."),e._UZ(109,"br"),e._uU(110," Go check out their content! "),e.qZA(),e.TgZ(111,"p"),e._uU(112," Thank you for the suggestions to improve Sky Planner:"),e._UZ(113,"br"),e._uU(114," Daw, Morybel, oWishy "),e.TgZ(115,"i")(116,"a",29),e._uU(117,"and more"),e.qZA()(),e._uU(118,". "),e.qZA()()()()),2&c){const D=e.MAs(43);e.xp6(75),e.Q6J("ngTemplateOutlet",D),e.xp6(7),e.Q6J("ngTemplateOutlet",D),e.xp6(7),e.Q6J("ngTemplateOutlet",D)}},dependencies:[Q.tP,W.Hw],styles:[".img-discord[_ngcontent-%COMP%]{height:20px}.flex-credits[_ngcontent-%COMP%]{margin-top:var(--padding-content);display:flex;gap:var(--padding-content)}.flex-credit[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:start;gap:4px;text-decoration:none;padding:var(--padding-content)}.flex-credit[_ngcontent-%COMP%]:link{cursor:pointer}.credit-name[_ngcontent-%COMP%]{text-align:left;font-weight:700}.credit-handle-name[_ngcontent-%COMP%]{padding-left:6px}.credit-handle[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:link{color:var(--color-accent);text-decoration:none}.credit-handle[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:link:hover{color:var(--color-link-hover)}"]})}return r})();var De=M(6841),Se=M(3311),He=M(2848);let K=(()=>{class r{constructor(i){this._zone=i,this._copyItem=!1,this._copyNode=!1,this._copyShop=!1,window.debug=this}set copyItem(i){this._zone.run(()=>{this._copyItem=!!i})}get copyItem(){return this._copyItem}set copyNode(i){this._zone.run(()=>{this._copyNode=!!i})}get copyNode(){return this._copyNode}set copyShop(i){this._zone.run(()=>{this._copyShop=!!i})}get copyShop(){return this._copyShop}static#e=this.\u0275fac=function(c){return new(c||r)(e.LFG(e.R0b))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var be=M(9877);let Ye=(()=>{class r{constructor(i){this._router=i,this.itemToggled=new be.x,this.searchReset=new be.x,document.addEventListener("keydown",c=>{this.onKeyDown(c)})}toggleItem(i){this.itemToggled.next(i)}onKeyDown(i){i.ctrlKey&&i.shiftKey&&"F"===i.key.toUpperCase()&&(i.preventDefault(),this.searchReset.next(),"/"!==(this._router.url.split("?")[0]||"/")&&this._router.navigate(["/"],{skipLocationChange:!1,queryParams:{focus:"1"}}))}static#e=this.\u0275fac=function(c){return new(c||r)(e.LFG(J.F0))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var pt=M(9140);let Rt=(()=>{class r{constructor(i,c){this._eventService=i,this._storageService=c}togglePurchased(i){i&&(i.bought?this.lockIap(i):this.unlockIap(i),i.items?.forEach(d=>{this._eventService.toggleItem(d)}))}unlockIap(i){if(i.items?.find(d=>d.unlocked)&&!confirm("This IAP contains an item that is already unlocked. Do you want to continue?"))return;const c=[i.guid];i.bought=!0,i.items?.forEach(d=>{d.unlocked=!0,c.push(d.guid)}),this._storageService.add(...c),this._storageService.save()}lockIap(i){const c=[i.guid];i.bought=!1,i.items?.forEach(d=>{d.unlocked=!!d.iaps?.find(D=>D.bought),d.unlocked||c.push(d.guid)}),this._storageService.remove(...c),this._storageService.save()}static#e=this.\u0275fac=function(c){return new(c||r)(e.LFG(Ye),e.LFG(pt.V))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Te=M(2235),Ie=M(6290),fe=M(4980),ut=M(384),Xe=M(9912),$e=M(1287),it=M(2602),Ue=M(7825);const ft=["addListener","removeListener"],Je=["addEventListener","removeEventListener"],Ft=["on","off"];function rt(r,f,i,c){if((0,it.m)(i)&&(c=i,i=void 0),c)return rt(r,f,i).pipe((0,Ue.Z)(c));const[d,D]=function ae(r){return(0,it.m)(r.addEventListener)&&(0,it.m)(r.removeEventListener)}(r)?Je.map(x=>Y=>r[x](f,Y,i)):function Re(r){return(0,it.m)(r.addListener)&&(0,it.m)(r.removeListener)}(r)?ft.map(dt(r,f)):function ht(r){return(0,it.m)(r.on)&&(0,it.m)(r.off)}(r)?Ft.map(dt(r,f)):[];if(!d&&(0,$e.z)(r))return(0,Xe.z)(x=>rt(x,f,i))((0,ut.Xf)(r));if(!d)throw new TypeError("Invalid event target");return new Te.y(x=>{const Y=(...ee)=>x.next(1<ee.length?ee:ee[0]);return d(Y),()=>D(Y)})}function dt(r,f){return i=>c=>r[i](f,c)}var le=M(1826),we=M(7426);function Me(r=0,f,i=le.P){let c=-1;return null!=f&&((0,we.K)(f)?i=f:c=f),new Te.y(d=>{let D=function ye(r){return r instanceof Date&&!isNaN(r)}(r)?+r-i.now():r;D<0&&(D=0);let x=0;return i.schedule(function(){d.closed||(d.next(x++),0<=c?this.schedule(void 0,c):d.complete())},D)})}const{isArray:Ze}=Array;function et(r){return 1===r.length&&Ze(r[0])?r[0]:r}var nt=M(5678);function cn(...r){return 1===(r=et(r)).length?(0,ut.Xf)(r[0]):new Te.y(function ct(r){return f=>{let i=[];for(let c=0;i&&!f.closed&&c<r.length;c++)i.push((0,ut.Xf)(r[c]).subscribe((0,nt.x)(f,d=>{if(i){for(let D=0;D<i.length;D++)D!==c&&i[D].unsubscribe();i=null}f.next(d)})))}}(r))}var sn=M(7835),Ht=M(6190);function Ct(...r){const f=(0,Ht.jO)(r),i=et(r);return i.length?new Te.y(c=>{let d=i.map(()=>[]),D=i.map(()=>!1);c.add(()=>{d=D=null});for(let x=0;!c.closed&&x<i.length;x++)(0,ut.Xf)(i[x]).subscribe((0,nt.x)(c,Y=>{if(d[x].push(Y),d.every(ee=>ee.length)){const ee=d.map(Oe=>Oe.shift());c.next(f?f(...ee):ee),d.some((Oe,Fe)=>!Oe.length&&D[Fe])&&c.complete()}},()=>{D[x]=!0,!d[x].length&&c.complete()}));return()=>{d=D=null}}):Ie.E}var wn=M(5823),he=M(274),ve=M(4520),Be=M(1527),ze=M(3738),mt=M(9736),xt=M(4114),bn=M(204),on=M(2707);function kt(...r){const f=(0,Ht.jO)(r);return(0,xt.e)((i,c)=>{const d=r.length,D=new Array(d);let x=r.map(()=>!1),Y=!1;for(let ee=0;ee<d;ee++)(0,ut.Xf)(r[ee]).subscribe((0,nt.x)(c,Oe=>{D[ee]=Oe,!Y&&!x[ee]&&(x[ee]=!0,(Y=x.every(bn.y))&&(x=null))},on.Z));i.subscribe((0,nt.x)(c,ee=>{if(Y){const Oe=[ee,...D];c.next(f?f(...Oe):Oe)}}))})}var St=M(8037);function $n(r,f){return f?i=>(0,wn.z)(f.pipe((0,Be.q)(1),function Tt(){return(0,xt.e)((r,f)=>{r.subscribe((0,nt.x)(f,on.Z))})}()),i.pipe($n(r))):(0,Xe.z)((i,c)=>r(i,c).pipe((0,Be.q)(1),(0,St.h)(i)))}function ri(r,f=le.z){const i=Me(r,f);return $n(()=>i)}var tn=M(1891),hn=(M(5043),M(3317),M(5357),M(5584)),mn=(M(8849),{left:"right",right:"left",bottom:"top",top:"bottom"});function Mi(r){return r.replace(/left|right|bottom|top/g,function(f){return mn[f]})}function mi(r){return r.split("-")[0]}var Fi={start:"end",end:"start"};function Ai(r){return r.replace(/start|end/g,function(f){return Fi[f]})}var Hn="top",Gn="bottom",Dn="right",Jn="left",Si="auto",Ji=[Hn,Gn,Dn,Jn],Zi="start",lo="end",at="viewport",Ve="popper",H=Ji.reduce(function(r,f){return r.concat([f+"-"+Zi,f+"-"+lo])},[]),ie=[].concat(Ji,[Si]).reduce(function(r,f){return r.concat([f,f+"-"+Zi,f+"-"+lo])},[]),Ce=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Ke(r){if(null==r)return window;if("[object Window]"!==r.toString()){var f=r.ownerDocument;return f&&f.defaultView||window}return r}function vt(r){return r instanceof Ke(r).Element||r instanceof Element}function Mt(r){return r instanceof Ke(r).HTMLElement||r instanceof HTMLElement}function At(r){return!(typeof ShadowRoot>"u")&&(r instanceof Ke(r).ShadowRoot||r instanceof ShadowRoot)}function qt(r){return((vt(r)?r.ownerDocument:r.document)||window.document).documentElement}var en=Math.max,fi=Math.min,ln=Math.round;function zn(){var r=navigator.userAgentData;return null!=r&&r.brands?r.brands.map(function(f){return f.brand+"/"+f.version}).join(" "):navigator.userAgent}function Jt(){return!/^((?!chrome|android).)*safari/i.test(zn())}function Zn(r,f,i){void 0===f&&(f=!1),void 0===i&&(i=!1);var c=r.getBoundingClientRect(),d=1,D=1;f&&Mt(r)&&(d=r.offsetWidth>0&&ln(c.width)/r.offsetWidth||1,D=r.offsetHeight>0&&ln(c.height)/r.offsetHeight||1);var Y=(vt(r)?Ke(r):window).visualViewport,ee=!Jt()&&i,Oe=(c.left+(ee&&Y?Y.offsetLeft:0))/d,Fe=(c.top+(ee&&Y?Y.offsetTop:0))/D,Nt=c.width/d,bt=c.height/D;return{width:Nt,height:bt,top:Fe,right:Oe+Nt,bottom:Fe+bt,left:Oe,x:Oe,y:Fe}}function ii(r){var f=Ke(r);return{scrollLeft:f.pageXOffset,scrollTop:f.pageYOffset}}function nn(r){return Zn(qt(r)).left+ii(r).scrollLeft}function Wn(r){return Ke(r).getComputedStyle(r)}function Vt(r){return r?(r.nodeName||"").toLowerCase():null}function _n(r){return"html"===Vt(r)?r:r.assignedSlot||r.parentNode||(At(r)?r.host:null)||qt(r)}function xi(r){var f=Wn(r);return/auto|scroll|overlay|hidden/.test(f.overflow+f.overflowY+f.overflowX)}function Ci(r){return["html","body","#document"].indexOf(Vt(r))>=0?r.ownerDocument.body:Mt(r)&&xi(r)?r:Ci(_n(r))}function Vi(r,f){var i;void 0===f&&(f=[]);var c=Ci(r),d=c===(null==(i=r.ownerDocument)?void 0:i.body),D=Ke(c),x=d?[D].concat(D.visualViewport||[],xi(c)?c:[]):c,Y=f.concat(x);return d?Y:Y.concat(Vi(_n(x)))}function _o(r){return["table","td","th"].indexOf(Vt(r))>=0}function fn(r){return Mt(r)&&"fixed"!==Wn(r).position?r.offsetParent:null}function to(r){for(var f=Ke(r),i=fn(r);i&&_o(i)&&"static"===Wn(i).position;)i=fn(i);return i&&("html"===Vt(i)||"body"===Vt(i)&&"static"===Wn(i).position)?f:i||function En(r){var f=/firefox/i.test(zn());if(/Trident/i.test(zn())&&Mt(r)&&"fixed"===Wn(r).position)return null;var d=_n(r);for(At(d)&&(d=d.host);Mt(d)&&["html","body"].indexOf(Vt(d))<0;){var D=Wn(d);if("none"!==D.transform||"none"!==D.perspective||"paint"===D.contain||-1!==["transform","perspective"].indexOf(D.willChange)||f&&"filter"===D.willChange||f&&D.filter&&"none"!==D.filter)return d;d=d.parentNode}return null}(r)||f}function Go(r,f){var i=f.getRootNode&&f.getRootNode();if(r.contains(f))return!0;if(i&&At(i)){var c=f;do{if(c&&r.isSameNode(c))return!0;c=c.parentNode||c.host}while(c)}return!1}function Ki(r){return Object.assign({},r,{left:r.x,top:r.y,right:r.x+r.width,bottom:r.y+r.height})}function Ir(r,f,i){return f===at?Ki(function In(r,f){var i=Ke(r),c=qt(r),d=i.visualViewport,D=c.clientWidth,x=c.clientHeight,Y=0,ee=0;if(d){D=d.width,x=d.height;var Oe=Jt();(Oe||!Oe&&"fixed"===f)&&(Y=d.offsetLeft,ee=d.offsetTop)}return{width:D,height:x,x:Y+nn(r),y:ee}}(r,i)):vt(f)?function Js(r,f){var i=Zn(r,!1,"fixed"===f);return i.top=i.top+r.clientTop,i.left=i.left+r.clientLeft,i.bottom=i.top+r.clientHeight,i.right=i.left+r.clientWidth,i.width=r.clientWidth,i.height=r.clientHeight,i.x=i.left,i.y=i.top,i}(f,i):Ki(function Ii(r){var f,i=qt(r),c=ii(r),d=null==(f=r.ownerDocument)?void 0:f.body,D=en(i.scrollWidth,i.clientWidth,d?d.scrollWidth:0,d?d.clientWidth:0),x=en(i.scrollHeight,i.clientHeight,d?d.scrollHeight:0,d?d.clientHeight:0),Y=-c.scrollLeft+nn(r),ee=-c.scrollTop;return"rtl"===Wn(d||i).direction&&(Y+=en(i.clientWidth,d?d.clientWidth:0)-D),{width:D,height:x,x:Y,y:ee}}(qt(r)))}function no(r){return r.split("-")[1]}function tr(r){return["top","bottom"].indexOf(r)>=0?"x":"y"}function Oi(r){var ee,f=r.reference,i=r.element,c=r.placement,d=c?mi(c):null,D=c?no(c):null,x=f.x+f.width/2-i.width/2,Y=f.y+f.height/2-i.height/2;switch(d){case Hn:ee={x,y:f.y-i.height};break;case Gn:ee={x,y:f.y+f.height};break;case Dn:ee={x:f.x+f.width,y:Y};break;case Jn:ee={x:f.x-i.width,y:Y};break;default:ee={x:f.x,y:f.y}}var Oe=d?tr(d):null;if(null!=Oe){var Fe="y"===Oe?"height":"width";switch(D){case Zi:ee[Oe]=ee[Oe]-(f[Fe]/2-i[Fe]/2);break;case lo:ee[Oe]=ee[Oe]+(f[Fe]/2-i[Fe]/2)}}return ee}function gr(r){return Object.assign({},{top:0,right:0,bottom:0,left:0},r)}function nr(r,f){return f.reduce(function(i,c){return i[c]=r,i},{})}function ir(r,f){void 0===f&&(f={});var c=f.placement,d=void 0===c?r.placement:c,D=f.strategy,x=void 0===D?r.strategy:D,Y=f.boundary,ee=void 0===Y?"clippingParents":Y,Oe=f.rootBoundary,Fe=void 0===Oe?at:Oe,Nt=f.elementContext,bt=void 0===Nt?Ve:Nt,Zt=f.altBoundary,Bn=void 0!==Zt&&Zt,un=f.padding,an=void 0===un?0:un,ni=gr("number"!=typeof an?an:nr(an,Ji)),ai=r.rects.popper,Un=r.elements[Bn?bt===Ve?"reference":Ve:bt],oi=function _i(r,f,i,c){var d="clippingParents"===f?function Fo(r){var f=Vi(_n(r)),c=["absolute","fixed"].indexOf(Wn(r).position)>=0&&Mt(r)?to(r):r;return vt(c)?f.filter(function(d){return vt(d)&&Go(d,c)&&"body"!==Vt(d)}):[]}(r):[].concat(f),D=[].concat(d,[i]),Y=D.reduce(function(ee,Oe){var Fe=Ir(r,Oe,c);return ee.top=en(Fe.top,ee.top),ee.right=fi(Fe.right,ee.right),ee.bottom=fi(Fe.bottom,ee.bottom),ee.left=en(Fe.left,ee.left),ee},Ir(r,D[0],c));return Y.width=Y.right-Y.left,Y.height=Y.bottom-Y.top,Y.x=Y.left,Y.y=Y.top,Y}(vt(Un)?Un:Un.contextElement||qt(r.elements.popper),ee,Fe,x),hi=Zn(r.elements.reference),qi=Oi({reference:hi,element:ai,strategy:"absolute",placement:d}),Ri=Ki(Object.assign({},ai,qi)),ko=bt===Ve?Ri:hi,Ro={top:oi.top-ko.top+ni.top,bottom:ko.bottom-oi.bottom+ni.bottom,left:oi.left-ko.left+ni.left,right:ko.right-oi.right+ni.right},co=r.modifiersData.offset;if(bt===Ve&&co){var Ar=co[d];Object.keys(Ro).forEach(function(Sr){var la=[Dn,Gn].indexOf(Sr)>=0?1:-1,Ra=[Hn,Gn].indexOf(Sr)>=0?"y":"x";Ro[Sr]+=Ar[Ra]*la})}return Ro}const Io={name:"flip",enabled:!0,phase:"main",fn:function Zr(r){var f=r.state,i=r.options,c=r.name;if(!f.modifiersData[c]._skip){for(var d=i.mainAxis,D=void 0===d||d,x=i.altAxis,Y=void 0===x||x,ee=i.fallbackPlacements,Oe=i.padding,Fe=i.boundary,Nt=i.rootBoundary,bt=i.altBoundary,Zt=i.flipVariations,Bn=void 0===Zt||Zt,un=i.allowedAutoPlacements,an=f.options.placement,ni=mi(an),ai=ee||(ni!==an&&Bn?function Hr(r){if(mi(r)===Si)return[];var f=Mi(r);return[Ai(r),f,Ai(f)]}(an):[Mi(an)]),Un=[an].concat(ai).reduce(function(Cc,ua){return Cc.concat(mi(ua)===Si?function or(r,f){void 0===f&&(f={});var d=f.boundary,D=f.rootBoundary,x=f.padding,Y=f.flipVariations,ee=f.allowedAutoPlacements,Oe=void 0===ee?ie:ee,Fe=no(f.placement),Nt=Fe?Y?H:H.filter(function(Bn){return no(Bn)===Fe}):Ji,bt=Nt.filter(function(Bn){return Oe.indexOf(Bn)>=0});0===bt.length&&(bt=Nt);var Zt=bt.reduce(function(Bn,un){return Bn[un]=ir(r,{placement:un,boundary:d,rootBoundary:D,padding:x})[mi(un)],Bn},{});return Object.keys(Zt).sort(function(Bn,un){return Zt[Bn]-Zt[un]})}(f,{placement:ua,boundary:Fe,rootBoundary:Nt,padding:Oe,flipVariations:Bn,allowedAutoPlacements:un}):ua)},[]),oi=f.rects.reference,hi=f.rects.popper,qi=new Map,Ri=!0,ko=Un[0],Ro=0;Ro<Un.length;Ro++){var co=Un[Ro],Ar=mi(co),Sr=no(co)===Zi,la=[Hn,Gn].indexOf(Ar)>=0,Ra=la?"width":"height",ts=ir(f,{placement:co,boundary:Fe,rootBoundary:Nt,altBoundary:bt,padding:Oe}),hs=la?Sr?Dn:Jn:Sr?Gn:Hn;oi[Ra]>hi[Ra]&&(hs=Mi(hs));var cl=Mi(hs),Bs=[];if(D&&Bs.push(ts[Ar]<=0),Y&&Bs.push(ts[hs]<=0,ts[cl]<=0),Bs.every(function(Cc){return Cc})){ko=co,Ri=!1;break}qi.set(co,Bs)}if(Ri)for(var fu=function(ua){var Fa=Un.find(function(La){var qs=qi.get(La);if(qs)return qs.slice(0,ua).every(function(pu){return pu})});if(Fa)return ko=Fa,"break"},bc=Bn?3:1;bc>0&&"break"!==fu(bc);bc--);f.placement!==ko&&(f.modifiersData[c]._skip=!0,f.placement=ko,f.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function yn(r,f,i){return en(r,fi(f,i))}function zt(r){var f=Zn(r),i=r.offsetWidth,c=r.offsetHeight;return Math.abs(f.width-i)<=1&&(i=f.width),Math.abs(f.height-c)<=1&&(c=f.height),{x:r.offsetLeft,y:r.offsetTop,width:i,height:c}}const Cn={name:"preventOverflow",enabled:!0,phase:"main",fn:function vi(r){var f=r.state,i=r.options,c=r.name,d=i.mainAxis,D=void 0===d||d,x=i.altAxis,Y=void 0!==x&&x,bt=i.tether,Zt=void 0===bt||bt,Bn=i.tetherOffset,un=void 0===Bn?0:Bn,an=ir(f,{boundary:i.boundary,rootBoundary:i.rootBoundary,padding:i.padding,altBoundary:i.altBoundary}),ni=mi(f.placement),Mn=no(f.placement),ai=!Mn,Un=tr(ni),oi=function Vr(r){return"x"===r?"y":"x"}(Un),hi=f.modifiersData.popperOffsets,qi=f.rects.reference,Ri=f.rects.popper,ko="function"==typeof un?un(Object.assign({},f.rects,{placement:f.placement})):un,Ro="number"==typeof ko?{mainAxis:ko,altAxis:ko}:Object.assign({mainAxis:0,altAxis:0},ko),co=f.modifiersData.offset?f.modifiersData.offset[f.placement]:null,Ar={x:0,y:0};if(hi){if(D){var Sr,la="y"===Un?Hn:Jn,Ra="y"===Un?Gn:Dn,ts="y"===Un?"height":"width",hs=hi[Un],cl=hs+an[la],Bs=hs-an[Ra],hu=Zt?-Ri[ts]/2:0,fu=Mn===Zi?qi[ts]:Ri[ts],bc=Mn===Zi?-Ri[ts]:-qi[ts],ll=f.elements.arrow,Cc=Zt&&ll?zt(ll):{width:0,height:0},ua=f.modifiersData["arrow#persistent"]?f.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Fa=ua[la],La=ua[Ra],qs=yn(0,qi[ts],Cc[ts]),pu=ai?qi[ts]/2-hu-qs-Fa-Ro.mainAxis:fu-qs-Fa-Ro.mainAxis,Dg=ai?-qi[ts]/2+hu+qs+La+Ro.mainAxis:bc+qs+La+Ro.mainAxis,gu=f.elements.arrow&&to(f.elements.arrow),bg=gu?"y"===Un?gu.clientTop||0:gu.clientLeft||0:0,ph=null!=(Sr=co?.[Un])?Sr:0,wg=hs+Dg-ph,Eg=yn(Zt?fi(cl,hs+pu-ph-bg):cl,hs,Zt?en(Bs,wg):Bs);hi[Un]=Eg,Ar[Un]=Eg-hs}if(Y){var Tg,Ba=hi[oi],mu="y"===oi?"height":"width",Mg=Ba+an["x"===Un?Hn:Jn],Ag=Ba-an["x"===Un?Gn:Dn],gh=-1!==[Hn,Jn].indexOf(ni),Sg=null!=(Tg=co?.[oi])?Tg:0,Ig=gh?Mg:Ba-qi[mu]-Ri[mu]-Sg+Ro.altAxis,xg=gh?Ba+qi[mu]+Ri[mu]-Sg-Ro.altAxis:Ag,Og=Zt&&gh?function Di(r,f,i){var c=yn(r,f,i);return c>i?i:c}(Ig,Ba,xg):yn(Zt?Ig:Mg,Ba,Zt?xg:Ag);hi[oi]=Og,Ar[oi]=Og-Ba}f.modifiersData[c]=Ar}},requiresIfExists:["offset"]},$r={name:"arrow",enabled:!0,phase:"main",fn:function mr(r){var f,i=r.state,c=r.name,d=r.options,D=i.elements.arrow,x=i.modifiersData.popperOffsets,Y=mi(i.placement),ee=tr(Y),Fe=[Jn,Dn].indexOf(Y)>=0?"height":"width";if(D&&x){var Nt=function(f,i){return gr("number"!=typeof(f="function"==typeof f?f(Object.assign({},i.rects,{placement:i.placement})):f)?f:nr(f,Ji))}(d.padding,i),bt=zt(D),Zt="y"===ee?Hn:Jn,Bn="y"===ee?Gn:Dn,un=i.rects.reference[Fe]+i.rects.reference[ee]-x[ee]-i.rects.popper[Fe],an=x[ee]-i.rects.reference[ee],ni=to(D),Mn=ni?"y"===ee?ni.clientHeight||0:ni.clientWidth||0:0,hi=Mn/2-bt[Fe]/2+(un/2-an/2),qi=yn(Nt[Zt],hi,Mn-bt[Fe]-Nt[Bn]);i.modifiersData[c]=((f={})[ee]=qi,f.centerOffset=qi-hi,f)}},effect:function io(r){var f=r.state,c=r.options.element,d=void 0===c?"[data-popper-arrow]":c;null!=d&&("string"==typeof d&&!(d=f.elements.popper.querySelector(d))||Go(f.elements.popper,d)&&(f.elements.arrow=d))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Xt(r,f,i){void 0===i&&(i=!1);var c=Mt(f),d=Mt(f)&&function jt(r){var f=r.getBoundingClientRect(),i=ln(f.width)/r.offsetWidth||1,c=ln(f.height)/r.offsetHeight||1;return 1!==i||1!==c}(f),D=qt(f),x=Zn(r,d,i),Y={scrollLeft:0,scrollTop:0},ee={x:0,y:0};return(c||!c&&!i)&&(("body"!==Vt(f)||xi(D))&&(Y=function Kn(r){return r!==Ke(r)&&Mt(r)?function Lo(r){return{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}}(r):ii(r)}(f)),Mt(f)?((ee=Zn(f,!0)).x+=f.clientLeft,ee.y+=f.clientTop):D&&(ee.x=nn(D))),{x:x.left+Y.scrollLeft-ee.x,y:x.top+Y.scrollTop-ee.y,width:x.width,height:x.height}}function qn(r){var f=new Map,i=new Set,c=[];function d(D){i.add(D.name),[].concat(D.requires||[],D.requiresIfExists||[]).forEach(function(Y){if(!i.has(Y)){var ee=f.get(Y);ee&&d(ee)}}),c.push(D)}return r.forEach(function(D){f.set(D.name,D)}),r.forEach(function(D){i.has(D.name)||d(D)}),c}function xo(r){var f;return function(){return f||(f=new Promise(function(i){Promise.resolve().then(function(){f=void 0,i(r())})})),f}}var uo={placement:"bottom",modifiers:[],strategy:"absolute"};function Bo(){for(var r=arguments.length,f=new Array(r),i=0;i<r;i++)f[i]=arguments[i];return!f.some(function(c){return!(c&&"function"==typeof c.getBoundingClientRect)})}function Ut(r){void 0===r&&(r={});var i=r.defaultModifiers,c=void 0===i?[]:i,d=r.defaultOptions,D=void 0===d?uo:d;return function(Y,ee,Oe){void 0===Oe&&(Oe=D);var Fe={placement:"bottom",orderedModifiers:[],options:Object.assign({},uo,D),modifiersData:{},elements:{reference:Y,popper:ee},attributes:{},styles:{}},Nt=[],bt=!1,Zt={state:Fe,setOptions:function(ni){var Mn="function"==typeof ni?ni(Fe.options):ni;un(),Fe.options=Object.assign({},D,Fe.options,Mn),Fe.scrollParents={reference:vt(Y)?Vi(Y):Y.contextElement?Vi(Y.contextElement):[],popper:Vi(ee)};var ai=function $i(r){var f=qn(r);return Ce.reduce(function(i,c){return i.concat(f.filter(function(d){return d.phase===c}))},[])}(function wi(r){var f=r.reduce(function(i,c){var d=i[c.name];return i[c.name]=d?Object.assign({},d,c,{options:Object.assign({},d.options,c.options),data:Object.assign({},d.data,c.data)}):c,i},{});return Object.keys(f).map(function(i){return f[i]})}([].concat(c,Fe.options.modifiers)));return Fe.orderedModifiers=ai.filter(function(co){return co.enabled}),function Bn(){Fe.orderedModifiers.forEach(function(an){var Mn=an.options,Un=an.effect;if("function"==typeof Un){var oi=Un({state:Fe,name:an.name,instance:Zt,options:void 0===Mn?{}:Mn});Nt.push(oi||function(){})}})}(),Zt.update()},forceUpdate:function(){if(!bt){var ni=Fe.elements,Mn=ni.reference,ai=ni.popper;if(Bo(Mn,ai)){Fe.rects={reference:Xt(Mn,to(ai),"fixed"===Fe.options.strategy),popper:zt(ai)},Fe.reset=!1,Fe.placement=Fe.options.placement,Fe.orderedModifiers.forEach(function(co){return Fe.modifiersData[co.name]=Object.assign({},co.data)});for(var oi=0;oi<Fe.orderedModifiers.length;oi++)if(!0!==Fe.reset){var hi=Fe.orderedModifiers[oi],qi=hi.fn,Ri=hi.options;"function"==typeof qi&&(Fe=qi({state:Fe,options:void 0===Ri?{}:Ri,name:hi.name,instance:Zt})||Fe)}else Fe.reset=!1,oi=-1}}},update:xo(function(){return new Promise(function(an){Zt.forceUpdate(),an(Fe)})}),destroy:function(){un(),bt=!0}};if(!Bo(Y,ee))return Zt;function un(){Nt.forEach(function(an){return an()}),Nt=[]}return Zt.setOptions(Oe).then(function(an){!bt&&Oe.onFirstUpdate&&Oe.onFirstUpdate(an)}),Zt}}var Qi={passive:!0},vo={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Gr(r){var f,i=r.popper,c=r.popperRect,d=r.placement,D=r.variation,x=r.offsets,Y=r.position,ee=r.gpuAcceleration,Oe=r.adaptive,Fe=r.roundOffsets,Nt=r.isFixed,bt=x.x,Zt=void 0===bt?0:bt,Bn=x.y,un=void 0===Bn?0:Bn,an="function"==typeof Fe?Fe({x:Zt,y:un}):{x:Zt,y:un};Zt=an.x,un=an.y;var ni=x.hasOwnProperty("x"),Mn=x.hasOwnProperty("y"),ai=Jn,Un=Hn,oi=window;if(Oe){var hi=to(i),qi="clientHeight",Ri="clientWidth";hi===Ke(i)&&"static"!==Wn(hi=qt(i)).position&&"absolute"===Y&&(qi="scrollHeight",Ri="scrollWidth"),(d===Hn||(d===Jn||d===Dn)&&D===lo)&&(Un=Gn,un-=(Nt&&hi===oi&&oi.visualViewport?oi.visualViewport.height:hi[qi])-c.height,un*=ee?1:-1),d!==Jn&&(d!==Hn&&d!==Gn||D!==lo)||(ai=Dn,Zt-=(Nt&&hi===oi&&oi.visualViewport?oi.visualViewport.width:hi[Ri])-c.width,Zt*=ee?1:-1)}var Sr,co=Object.assign({position:Y},Oe&&vo),Ar=!0===Fe?function sr(r){var i=r.y,d=window.devicePixelRatio||1;return{x:ln(r.x*d)/d||0,y:ln(i*d)/d||0}}({x:Zt,y:un}):{x:Zt,y:un};return Zt=Ar.x,un=Ar.y,Object.assign({},co,ee?((Sr={})[Un]=Mn?"0":"",Sr[ai]=ni?"0":"",Sr.transform=(oi.devicePixelRatio||1)<=1?"translate("+Zt+"px, "+un+"px)":"translate3d("+Zt+"px, "+un+"px, 0)",Sr):((f={})[Un]=Mn?un+"px":"",f[ai]=ni?Zt+"px":"",f.transform="",f))}var yo=Ut({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function ho(r){var f=r.state,i=r.instance,c=r.options,d=c.scroll,D=void 0===d||d,x=c.resize,Y=void 0===x||x,ee=Ke(f.elements.popper),Oe=[].concat(f.scrollParents.reference,f.scrollParents.popper);return D&&Oe.forEach(function(Fe){Fe.addEventListener("scroll",i.update,Qi)}),Y&&ee.addEventListener("resize",i.update,Qi),function(){D&&Oe.forEach(function(Fe){Fe.removeEventListener("scroll",i.update,Qi)}),Y&&ee.removeEventListener("resize",i.update,Qi)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function Mo(r){var f=r.state;f.modifiersData[r.name]=Oi({reference:f.rects.reference,element:f.rects.popper,strategy:"absolute",placement:f.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function yr(r){var f=r.state,i=r.options,c=i.gpuAcceleration,d=void 0===c||c,D=i.adaptive,x=void 0===D||D,Y=i.roundOffsets,ee=void 0===Y||Y,Fe={placement:mi(f.placement),variation:no(f.placement),popper:f.elements.popper,popperRect:f.rects.popper,gpuAcceleration:d,isFixed:"fixed"===f.options.strategy};null!=f.modifiersData.popperOffsets&&(f.styles.popper=Object.assign({},f.styles.popper,Gr(Object.assign({},Fe,{offsets:f.modifiersData.popperOffsets,position:f.options.strategy,adaptive:x,roundOffsets:ee})))),null!=f.modifiersData.arrow&&(f.styles.arrow=Object.assign({},f.styles.arrow,Gr(Object.assign({},Fe,{offsets:f.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:ee})))),f.attributes.popper=Object.assign({},f.attributes.popper,{"data-popper-placement":f.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function Or(r){var f=r.state;Object.keys(f.elements).forEach(function(i){var c=f.styles[i]||{},d=f.attributes[i]||{},D=f.elements[i];!Mt(D)||!Vt(D)||(Object.assign(D.style,c),Object.keys(d).forEach(function(x){var Y=d[x];!1===Y?D.removeAttribute(x):D.setAttribute(x,!0===Y?"":Y)}))})},effect:function Xi(r){var f=r.state,i={popper:{position:f.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(f.elements.popper.style,i.popper),f.styles=i,f.elements.arrow&&Object.assign(f.elements.arrow.style,i.arrow),function(){Object.keys(f.elements).forEach(function(c){var d=f.elements[c],D=f.attributes[c]||{},Y=Object.keys(f.styles.hasOwnProperty(c)?f.styles[c]:i[c]).reduce(function(ee,Oe){return ee[Oe]="",ee},{});!Mt(d)||!Vt(d)||(Object.assign(d.style,Y),Object.keys(D).forEach(function(ee){d.removeAttribute(ee)}))})}},requires:["computeStyles"]}]});const cr=["*"],qo=["dialog"];function Xn(r){return"string"==typeof r}function Qt(r){return null!=r}function Ee(r){return(r||document.body).getBoundingClientRect()}const Ko={animation:!0,transitionTimerDelayMs:5},oo=()=>{},{transitionTimerDelayMs:Dt}=Ko,Ln=new Map,ro=(r,f,i,c)=>{let d=c.context||{};const D=Ln.get(f);if(D)switch(c.runningTransition){case"continue":return Ie.E;case"stop":r.run(()=>D.transition$.complete()),d=Object.assign(D.context,d),Ln.delete(f)}const x=i(f,c.animation,d)||oo;if(!c.animation||"none"===window.getComputedStyle(f).transitionProperty)return r.run(()=>x()),(0,fe.of)(void 0).pipe(function lt(r){return f=>new Te.y(i=>f.subscribe({next:x=>r.run(()=>i.next(x)),error:x=>r.run(()=>i.error(x)),complete:()=>r.run(()=>i.complete())}))}(r));const Y=new be.x,ee=new be.x,Oe=Y.pipe(function gn(...r){return f=>(0,wn.z)(f,(0,fe.of)(...r))}(!0));Ln.set(f,{transition$:Y,complete:()=>{ee.next(),ee.complete()},context:d});const Fe=function Er(r){const{transitionDelay:f,transitionDuration:i}=window.getComputedStyle(r);return 1e3*(parseFloat(f)+parseFloat(i))}(f);return r.runOutsideAngular(()=>{const Nt=rt(f,"transitionend").pipe((0,he.R)(Oe),(0,ve.h)(({target:Zt})=>Zt===f));cn(Me(Fe+Dt).pipe((0,he.R)(Oe)),Nt,ee).pipe((0,he.R)(Oe)).subscribe(()=>{Ln.delete(f),r.run(()=>{x(),Y.next(),Y.complete()})})}),Y.asObservable()};let jr=(()=>{class r{constructor(){this.animation=Ko.animation}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),qe=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})(),ti=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})(),Eu=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})(),Tu=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})();var ki=function(r){return r[r.Tab=9]="Tab",r[r.Enter=13]="Enter",r[r.Escape=27]="Escape",r[r.Space=32]="Space",r[r.PageUp=33]="PageUp",r[r.PageDown=34]="PageDown",r[r.End=35]="End",r[r.Home=36]="Home",r[r.ArrowLeft=37]="ArrowLeft",r[r.ArrowUp=38]="ArrowUp",r[r.ArrowRight=39]="ArrowRight",r[r.ArrowDown=40]="ArrowDown",r}(ki||{});const Ga=(r,f)=>!!f&&f.some(i=>i.contains(r)),Oh=(r,f)=>!f||null!=function q(r,f){return!f||typeof r.closest>"u"?null:r.closest(f)}(r,f),Nh=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Nu=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function kh(r){const f=Array.from(r.querySelectorAll(Nu)).filter(i=>-1!==i.tabIndex);return[f[0],f[f.length-1]]}let Da=(()=>{class r{constructor(i){this._element=i.documentElement}isRTL(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}static#e=this.\u0275fac=function(c){return new(c||r)(e.LFG(Q.K0))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const Jg=/\s+/,Rh=/  +/gi,Fh={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},Kg=/^left/,Tr=/^right/,Qg=/^start/,Lh=/^end/;function Bh({placement:r,baseClass:f},i){let c=Array.isArray(r)?r:r.split(Jg),D=c.findIndex(Oe=>"auto"===Oe);D>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(Oe){null==c.find(Fe=>-1!==Fe.search("^"+Oe))&&c.splice(D++,1,Oe)});const x=c.map(Oe=>function xc(r,f){const[i,c]=Fh[r];return f&&c||i}(Oe,i.isRTL()));return{placement:x.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!f,phase:"write",fn({state:Oe}){const Fe=new RegExp(f+"(-[a-z]+)*","gi"),Nt=Oe.elements.popper,bt=Oe.placement;let Zt=Nt.className;Zt=Zt.replace(Fe,""),Zt+=` ${function Pu(r,f){let[i,c]=f.split("-");const d=i.replace(Kg,"start").replace(Tr,"end");let D=[d];if(c){let x=c;("left"===i||"right"===i)&&(x=x.replace(Qg,"top").replace(Lh,"bottom")),D.push(`${d}-${x}`)}return r&&(D=D.map(x=>`${r}-${x}`)),D.join(" ")}(f,bt)}`,Zt=Zt.trim().replace(Rh," "),Nt.className=Zt}},Io,Cn,$r,{enabled:!0,name:"flip",options:{fallbackPlacements:x}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function ku(r){return r}new Date(1882,10,12),new Date(2174,10,25);let rm=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})(),sm=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})();class Ja{constructor(f,i,c){this.nodes=f,this.viewRef=i,this.componentRef=c}}class $y{constructor(f,i,c,d,D,x){this._componentType=f,this._injector=i,this._viewContainerRef=c,this._renderer=d,this._ngZone=D,this._applicationRef=x,this._windowRef=null,this._contentRef=null}open(f,i,c=!1){this._windowRef||(this._contentRef=this._getContentRef(f,i),this._windowRef=this._viewContainerRef.createComponent(this._componentType,{injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:d}=this._windowRef.location,D=this._ngZone.onStable.pipe((0,Be.q)(1),(0,Xe.z)(()=>ro(this._ngZone,d,({classList:x})=>x.add("show"),{animation:c,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:D}}close(f=!1){return this._windowRef?ro(this._ngZone,this._windowRef.location.nativeElement,({classList:i})=>i.remove("show"),{animation:f,runningTransition:"stop"}).pipe((0,ze.b)(()=>{this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),this._contentRef?.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):(0,fe.of)(void 0)}_getContentRef(f,i){if(f){if(f instanceof e.Rgc){const c=f.createEmbeddedView(i);return this._applicationRef.attachView(c),new Ja([c.rootNodes],c)}return new Ja([[this._renderer.createText(`${f}`)]])}return new Ja([])}}let Gy=(()=>{class r{constructor(i,c){this._el=i,this._zone=c}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Be.q)(1)).subscribe(()=>{ro(this._zone,this._el.nativeElement,(i,c)=>{c&&Ee(i),i.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return ro(this._zone,this._el.nativeElement,({classList:i})=>i.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(e.SBq),e.Y36(e.R0b))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(c,d){2&c&&(e.Tol("modal-backdrop"+(d.backdropClass?" "+d.backdropClass:"")),e.ekj("show",!d.animation)("fade",d.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[e.jDz],decls:0,vars:0,template:function(c,d){},encapsulation:2})}return r})();class am{update(f){}close(f){}dismiss(f){}}const cm=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],xl=["animation","backdropClass"];class Ol{_applyWindowOptions(f,i){cm.forEach(c=>{Qt(i[c])&&(f[c]=i[c])})}_applyBackdropOptions(f,i){xl.forEach(c=>{Qt(i[c])&&(f[c]=i[c])})}update(f){this._applyWindowOptions(this._windowCmptRef.instance,f),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,f)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,he.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,he.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(f,i,c,d){this._windowCmptRef=f,this._contentRef=i,this._backdropCmptRef=c,this._beforeDismiss=d,this._closed=new be.x,this._dismissed=new be.x,this._hidden=new be.x,f.instance.dismissEvent.subscribe(D=>{this.dismiss(D)}),this.result=new Promise((D,x)=>{this._resolve=D,this._reject=x}),this.result.then(null,()=>{})}close(f){this._windowCmptRef&&(this._closed.next(f),this._resolve(f),this._removeModalElements())}_dismiss(f){this._dismissed.next(f),this._reject(f),this._removeModalElements()}dismiss(f){if(this._windowCmptRef)if(this._beforeDismiss){const i=this._beforeDismiss();!function Jr(r){return r&&r.then}(i)?!1!==i&&this._dismiss(f):i.then(c=>{!1!==c&&this._dismiss(f)},()=>{})}else this._dismiss(f)}_removeModalElements(){const f=this._windowCmptRef.instance.hide(),i=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,fe.of)(void 0);f.subscribe(()=>{const{nativeElement:c}=this._windowCmptRef.location;c.parentNode.removeChild(c),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),i.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:c}=this._backdropCmptRef.location;c.parentNode.removeChild(c),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Ct(f,i).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Nl=function(r){return r[r.BACKDROP_CLICK=0]="BACKDROP_CLICK",r[r.ESC=1]="ESC",r}(Nl||{});let zh=(()=>{class r{constructor(i,c,d){this._document=i,this._elRef=c,this._zone=d,this._closed$=new be.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new e.vpe,this.shown=new be.x,this.hidden=new be.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Xn(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(i){this.dismissEvent.emit(i)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Be.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:i}=this._elRef,c={animation:this.animation,runningTransition:"stop"},x=Ct(ro(this._zone,i,()=>i.classList.remove("show"),c),ro(this._zone,this._dialogEl.nativeElement,()=>{},c));return x.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),x}_show(){const i={animation:this.animation,runningTransition:"continue"};Ct(ro(this._zone,this._elRef.nativeElement,(D,x)=>{x&&Ee(D),D.classList.add("show")},i),ro(this._zone,this._dialogEl.nativeElement,()=>{},i)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:i}=this._elRef;this._zone.runOutsideAngular(()=>{rt(i,"keydown").pipe((0,he.R)(this._closed$),(0,ve.h)(d=>d.which===ki.Escape)).subscribe(d=>{this.keyboard?requestAnimationFrame(()=>{d.defaultPrevented||this._zone.run(()=>this.dismiss(Nl.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let c=!1;rt(this._dialogEl.nativeElement,"mousedown").pipe((0,he.R)(this._closed$),(0,ze.b)(()=>c=!1),(0,tn.w)(()=>rt(i,"mouseup").pipe((0,he.R)(this._closed$),(0,Be.q)(1))),(0,ve.h)(({target:d})=>i===d)).subscribe(()=>{c=!0}),rt(i,"click").pipe((0,he.R)(this._closed$)).subscribe(({target:d})=>{i===d&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!c&&this._zone.run(()=>this.dismiss(Nl.BACKDROP_CLICK))),c=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:i}=this._elRef;if(!i.contains(document.activeElement)){const c=i.querySelector("[ngbAutofocus]"),d=kh(i)[0];(c||d||i).focus()}}_restoreFocus(){const i=this._document.body,c=this._elWithFocus;let d;d=c&&c.focus&&i.contains(c)?c:i,this._zone.runOutsideAngular(()=>{setTimeout(()=>d.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&ro(this._zone,this._elRef.nativeElement,({classList:i})=>(i.add("modal-static"),()=>i.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(Q.K0),e.Y36(e.SBq),e.Y36(e.R0b))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["ngb-modal-window"]],viewQuery:function(c,d){if(1&c&&e.Gf(qo,7),2&c){let D;e.iGM(D=e.CRH())&&(d._dialogEl=D.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(c,d){2&c&&(e.uIk("aria-modal",!0)("aria-labelledby",d.ariaLabelledBy)("aria-describedby",d.ariaDescribedBy),e.Tol("modal d-block"+(d.windowClass?" "+d.windowClass:"")),e.ekj("fade",d.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[e.jDz],ngContentSelectors:cr,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(c,d){1&c&&(e.F$t(),e.TgZ(0,"div",0,1)(2,"div",2),e.Hsn(3),e.qZA()()),2&c&&e.Tol("modal-dialog"+(d.size?" modal-"+d.size:"")+(d.centered?" modal-dialog-centered":"")+d.fullscreenClass+(d.scrollable?" modal-dialog-scrollable":"")+(d.modalDialogClass?" "+d.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return r})(),Yh=(()=>{class r{constructor(i){this._document=i}hide(){const i=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),c=this._document.body,d=c.style,{overflow:D,paddingRight:x}=d;if(i>0){const Y=parseFloat(window.getComputedStyle(c).paddingRight);d.paddingRight=`${Y+i}px`}return d.overflow="hidden",()=>{i>0&&(d.paddingRight=x),d.overflow=D}}static#e=this.\u0275fac=function(c){return new(c||r)(e.LFG(Q.K0))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Ka=(()=>{class r{constructor(i,c,d,D,x,Y,ee){this._applicationRef=i,this._injector=c,this._environmentInjector=d,this._document=D,this._scrollBar=x,this._rendererFactory=Y,this._ngZone=ee,this._activeWindowCmptHasChanged=new be.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new e.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const Oe=this._windowCmpts[this._windowCmpts.length-1];((r,f,i,c=!1)=>{r.runOutsideAngular(()=>{const d=rt(f,"focusin").pipe((0,he.R)(i),(0,mt.U)(D=>D.target));rt(f,"keydown").pipe((0,he.R)(i),(0,ve.h)(D=>D.which===ki.Tab),kt(d)).subscribe(([D,x])=>{const[Y,ee]=kh(f);(x===Y||x===f)&&D.shiftKey&&(ee.focus(),D.preventDefault()),x===ee&&!D.shiftKey&&(Y.focus(),D.preventDefault())}),c&&rt(f,"click").pipe((0,he.R)(i),kt(d),(0,mt.U)(D=>D[1])).subscribe(D=>D.focus())})})(this._ngZone,Oe.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(Oe.location.nativeElement)}})}_restoreScrollBar(){const i=this._scrollBarRestoreFn;i&&(this._scrollBarRestoreFn=null,i())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(i,c,d){const D=d.container instanceof HTMLElement?d.container:Qt(d.container)?this._document.querySelector(d.container):this._document.body,x=this._rendererFactory.createRenderer(null,null);if(!D)throw new Error(`The specified modal container "${d.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const Y=new am,ee=(i=d.injector||i).get(e.lqb,null)||this._environmentInjector,Oe=this._getContentRef(i,ee,c,Y,d);let Fe=!1!==d.backdrop?this._attachBackdrop(D):void 0,Nt=this._attachWindowComponent(D,Oe.nodes),bt=new Ol(Nt,Oe,Fe,d.beforeDismiss);return this._registerModalRef(bt),this._registerWindowCmpt(Nt),bt.hidden.pipe((0,Be.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(x.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),Y.close=Zt=>{bt.close(Zt)},Y.dismiss=Zt=>{bt.dismiss(Zt)},Y.update=Zt=>{bt.update(Zt)},bt.update(d),1===this._modalRefs.length&&x.addClass(this._document.body,"modal-open"),Fe&&Fe.instance&&Fe.changeDetectorRef.detectChanges(),Nt.changeDetectorRef.detectChanges(),bt}get activeInstances(){return this._activeInstances}dismissAll(i){this._modalRefs.forEach(c=>c.dismiss(i))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(i){let c=(0,e.LMc)(Gy,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(c.hostView),i.appendChild(c.location.nativeElement),c}_attachWindowComponent(i,c){let d=(0,e.LMc)(zh,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:c});return this._applicationRef.attachView(d.hostView),i.appendChild(d.location.nativeElement),d}_getContentRef(i,c,d,D,x){return d?d instanceof e.Rgc?this._createFromTemplateRef(d,D):Xn(d)?this._createFromString(d):this._createFromComponent(i,c,d,D,x):new Ja([])}_createFromTemplateRef(i,c){const D=i.createEmbeddedView({$implicit:c,close(x){c.close(x)},dismiss(x){c.dismiss(x)}});return this._applicationRef.attachView(D),new Ja([D.rootNodes],D)}_createFromString(i){const c=this._document.createTextNode(`${i}`);return new Ja([[c]])}_createFromComponent(i,c,d,D,x){const Y=e.zs3.create({providers:[{provide:am,useValue:D}],parent:i}),ee=(0,e.LMc)(d,{environmentInjector:c,elementInjector:Y}),Oe=ee.location.nativeElement;return x.scrollable&&Oe.classList.add("component-host-scrollable"),this._applicationRef.attachView(ee.hostView),new Ja([[Oe]],ee.hostView,ee)}_setAriaHidden(i){const c=i.parentElement;c&&i!==this._document.body&&(Array.from(c.children).forEach(d=>{d!==i&&"SCRIPT"!==d.nodeName&&(this._ariaHiddenValues.set(d,d.getAttribute("aria-hidden")),d.setAttribute("aria-hidden","true"))}),this._setAriaHidden(c))}_revertAriaHidden(){this._ariaHiddenValues.forEach((i,c)=>{i?c.setAttribute("aria-hidden",i):c.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(i){const c=()=>{const d=this._modalRefs.indexOf(i);d>-1&&(this._modalRefs.splice(d,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(i),this._activeInstances.emit(this._modalRefs),i.result.then(c,c)}_registerWindowCmpt(i){this._windowCmpts.push(i),this._activeWindowCmptHasChanged.next(),i.onDestroy(()=>{const c=this._windowCmpts.indexOf(i);c>-1&&(this._windowCmpts.splice(c,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(c){return new(c||r)(e.LFG(e.z2F),e.LFG(e.zs3),e.LFG(e.lqb),e.LFG(Q.K0),e.LFG(Yh),e.LFG(e.FYo),e.LFG(e.R0b))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Wh=(()=>{class r{constructor(i){this._ngbConfig=i,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(i){this._animation=i}static#e=this.\u0275fac=function(c){return new(c||r)(e.LFG(jr))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),qh=(()=>{class r{constructor(i,c,d){this._injector=i,this._modalStack=c,this._config=d}open(i,c={}){const d={...this._config,animation:this._config.animation,...c};return this._modalStack.open(this._injector,i,d)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(i){this._modalStack.dismissAll(i)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(c){return new(c||r)(e.LFG(e.zs3),e.LFG(Ka),e.LFG(Wh))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Lc=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({providers:[qh]})}return r})(),Gu=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})(),Ju=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})();class gm{constructor(f,i){this.open=f,this.close=i,i||(this.close=f)}isManual(){return"manual"===this.open||"manual"===this.close}}const mm={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},tf=r=>r>0?ri(r):f=>f;let Ea=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})(),Rl=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})(),nf=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})(),Fl=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})(),id=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})(),Bl=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})(),Ul=(()=>{class r{constructor(i){this._ngbConfig=i,this.autoClose=!0,this.placement="auto",this.popperOptions=c=>c,this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(i){this._animation=i}static#e=this.\u0275fac=function(c){return new(c||r)(e.LFG(jr))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),cf=0,rd=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip",2,"position","absolute"],hostVars:5,hostBindings:function(c,d){2&c&&(e.Ikx("id",d.id),e.Tol("tooltip"+(d.tooltipClass?" "+d.tooltipClass:"")),e.ekj("fade",d.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},standalone:!0,features:[e.jDz],ngContentSelectors:cr,decls:3,vars:0,consts:[["data-popper-arrow","",1,"tooltip-arrow"],[1,"tooltip-inner"]],template:function(c,d){1&c&&(e.F$t(),e._UZ(0,"div",0),e.TgZ(1,"div",1),e.Hsn(2),e.qZA())},encapsulation:2,changeDetection:0})}return r})(),Xo=(()=>{class r{constructor(i,c,d,D,x,Y,ee,Oe,Fe){this._elementRef=i,this._renderer=c,this._ngZone=Y,this._document=ee,this._changeDetector=Oe,this.shown=new e.vpe,this.hidden=new e.vpe,this._ngbTooltipWindowId="ngb-tooltip-"+cf++,this._windowRef=null,this.animation=x.animation,this.autoClose=x.autoClose,this.placement=x.placement,this.popperOptions=x.popperOptions,this.triggers=x.triggers,this.container=x.container,this.disableTooltip=x.disableTooltip,this.tooltipClass=x.tooltipClass,this.openDelay=x.openDelay,this.closeDelay=x.closeDelay,this._popupService=new $y(rd,d,D,c,this._ngZone,Fe),this._positioning=function Oc(){const r=(0,e.f3M)(Da);let f=null;return{createPopper(i){if(!f){let d=(i.updatePopperOptions||ku)(Bh(i,r));f=yo(i.hostElement,i.targetElement,d)}},update(){f&&f.update()},setOptions(i){if(f){let d=(i.updatePopperOptions||ku)(Bh(i,r));f.setOptions(d)}},destroy(){f&&(f.destroy(),f=null)}}}()}set ngbTooltip(i){this._ngbTooltip=i,!i&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(i){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:c,transition$:d}=this._popupService.open(this._ngbTooltip,i??this.tooltipContext,this.animation);this._windowRef=c,this._windowRef.setInput("animation",this.animation),this._windowRef.setInput("tooltipClass",this.tooltipClass),this._windowRef.setInput("id",this._ngbTooltipWindowId),this._renderer.setAttribute(this._getPositionTargetElement(),"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._getPositionTargetElement(),targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,baseClass:"bs-tooltip",updatePopperOptions:D=>this.popperOptions(D)}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),function wl(r,f,i,c,d,D,x,Y){i&&r.runOutsideAngular((r=>Nh?()=>setTimeout(()=>r(),100):r)(()=>{const Oe=rt(f,"keydown").pipe((0,he.R)(d),(0,ve.h)(bt=>bt.which===ki.Escape),(0,ze.b)(bt=>bt.preventDefault())),Fe=rt(f,"mousedown").pipe((0,mt.U)(bt=>{const Zt=bt.target;return 2!==bt.button&&!Ga(Zt,x)&&("inside"===i?Ga(Zt,D)&&Oh(Zt,Y):"outside"===i?!Ga(Zt,D):Oh(Zt,Y)||!Ga(Zt,D))}),(0,he.R)(d)),Nt=rt(f,"mouseup").pipe(kt(Fe),(0,ve.h)(([bt,Zt])=>Zt),ri(0),(0,he.R)(d));cn([Oe.pipe((0,mt.U)(bt=>0)),Nt.pipe((0,mt.U)(bt=>1))]).subscribe(bt=>r.run(()=>c(bt)))}))}(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),d.subscribe(()=>this.shown.emit())}}close(i=this.animation){null!=this._windowRef&&(this._renderer.removeAttribute(this._getPositionTargetElement(),"aria-describedby"),this._popupService.close(i).subscribe(()=>{this._windowRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function _m(r,f,i,c,d,D,x=0,Y=0){const ee=function Ku(r,f=mm){const i=(r||"").trim();if(0===i.length)return[];const c=i.split(/\s+/).map(D=>D.split(":")).map(D=>{let x=f[D[0]]||D;return new gm(x[0],x[1])}),d=c.filter(D=>D.isManual());if(d.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===d.length&&c.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return c}(i);if(1===ee.length&&ee[0].isManual())return()=>{};const Oe=function Qu(r,f,i,c){return new Te.y(d=>{const D=[],x=()=>d.next(!0),Y=()=>d.next(!1),ee=()=>d.next(!c());return i.forEach(Oe=>{Oe.open===Oe.close?D.push(r.listen(f,Oe.open,ee)):D.push(r.listen(f,Oe.open,x),r.listen(f,Oe.close,Y))}),()=>{D.forEach(Oe=>Oe())}})}(r,f,ee,c).pipe(function Uc(r,f,i){return c=>{let d=null;const D=c.pipe((0,mt.U)(ee=>({open:ee})),(0,ve.h)(ee=>{const Oe=i();return Oe===ee.open||d&&d.open!==Oe?(d&&d.open!==ee.open&&(d=null),!1):(d=ee,!0)}),(0,hn.B)()),x=D.pipe((0,ve.h)(ee=>ee.open),tf(r)),Y=D.pipe((0,ve.h)(ee=>!ee.open),tf(f));return(0,sn.T)(x,Y).pipe((0,ve.h)(ee=>ee===d&&(d=null,ee.open!==i())),(0,mt.U)(ee=>ee.open))}}(x,Y,c)).subscribe(Fe=>Fe?d():D());return()=>Oe.unsubscribe()}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:i}){i&&this.isOpen()&&(this._windowRef.instance.tooltipClass=i.currentValue)}ngOnDestroy(){this.close(!1),this._unregisterListenersFn?.()}_getPositionTargetElement(){return(Xn(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget)||this._elementRef.nativeElement}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.zs3),e.Y36(e.s_b),e.Y36(Ul),e.Y36(e.R0b),e.Y36(Q.K0),e.Y36(e.sBO),e.Y36(e.z2F))};static#t=this.\u0275dir=e.lG2({type:r,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",popperOptions:"popperOptions",triggers:"triggers",positionTarget:"positionTarget",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",tooltipContext:"tooltipContext",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],standalone:!0,features:[e.TTD]})}return r})(),lf=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})();new e.OlP("live announcer delay",{providedIn:"root",factory:function uf(){return 100}});let hf=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})(),cd=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})();const gf=[qe,ti,Eu,Tu,rm,sm,Lc,Gu,cd,Ju,Ea,Rl,nf,Fl,id,Bl,lf,hf];let mf=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({imports:[gf,qe,ti,Eu,Tu,rm,sm,Lc,Gu,cd,Ju,Ea,Rl,nf,Fl,id,Bl,lf,hf]})}return r})();var Wi=M(1357),di=M(8460),Lm=M(5400);let Bm=(()=>{class r{constructor(i){this._http=i}get(i){const c=new Lm.t(1);return this._http.get(i,{responseType:"blob"}).subscribe({next:d=>{const D=window.URL.createObjectURL(d);c.next(D),c.complete()},error:d=>c.error(d)}),c}static#e=this.\u0275fac=function(c){return new(c||r)(e.LFG(X.eN))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Um(r,f){if(1&r&&e._UZ(0,"img",3),2&r){const i=e.oxw(2);e.Udp("width",i.width)("height",i.height),e.Q6J("src",i.safeString||i.safeUrl,e.LSH),e.uIk("loading",i.lazy?"lazy":void 0)}}function jm(r,f){if(1&r&&e._UZ(0,"mat-icon",4),2&r){const i=e.oxw(2);e.Q6J("svgIcon",i.safeString)}}function Gs(r,f){if(1&r&&(e.ynx(0),e.YNc(1,Um,1,6,"img",1),e.YNc(2,jm,1,1,"mat-icon",2),e.BQk()),2&r){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",!i.isSvg),e.xp6(1),e.Q6J("ngIf",i.isSvg&&i.safeString)}}let Ns=(()=>{class r{constructor(i,c){this._imageService=i,this._domSanitizer=c,this.isSvg=!1}ngOnChanges(i){i.src&&this.updateImage(i.src.currentValue)}updateImage(i){this._loadSource&&(this._loadSource.unsubscribe(),this._loadSource=void 0),i||="",this.isSvg=i.startsWith("#"),this.safeString=this.safeUrl=void 0,this.safeString=this.isSvg&&i.startsWith("#")?i.substring(1):i}loadObjectUrl(i){this._loadSource=this._imageService.get(i).subscribe({next:c=>this.safeUrl=this._domSanitizer.bypassSecurityTrustUrl(c),error:c=>console.error("Failed loading URL",i,c)})}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(Bm),e.Y36(g.H7))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-icon"]],hostVars:2,hostBindings:function(c,d){2&c&&e.Udp("opacity",d.opacity)},inputs:{src:"src",opacity:"opacity",width:"width",height:"height",lazy:"lazy"},features:[e.TTD],decls:1,vars:1,consts:[[4,"ngIf"],["class","img",3,"src","width","height",4,"ngIf"],[3,"svgIcon",4,"ngIf"],[1,"img",3,"src"],[3,"svgIcon"]],template:function(c,d){1&c&&e.YNc(0,Gs,3,2,"ng-container",0),2&c&&e.Q6J("ngIf",d.src)},dependencies:[Q.O5,W.Hw],styles:["img[_ngcontent-%COMP%], mat-icon[_ngcontent-%COMP%]{width:100%;height:100%}"],changeDetection:0})}return r})();function Hm(r,f){if(1&r&&e._UZ(0,"app-icon",5),2&r){const i=e.oxw(2);e.Q6J("src",(null==i.item.season?null:i.item.season.iconUrl)||"#season-candle")}}function Zm(r,f){1&r&&e._UZ(0,"app-icon",6),2&r&&e.Q6J("src","#season-heart")}function Vm(r,f){1&r&&e._UZ(0,"app-icon",7),2&r&&e.Q6J("src","#ascended-candle")}function $m(r,f){1&r&&e._UZ(0,"app-icon",8),2&r&&e.Q6J("src","#gift")}function Gm(r,f){if(1&r&&(e.ynx(0),e.YNc(1,Hm,1,1,"app-icon",1),e.YNc(2,Zm,1,1,"app-icon",2),e.YNc(3,Vm,1,1,"app-icon",3),e.YNc(4,$m,1,1,"app-icon",4),e.BQk()),2&r){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.item.season?null:i.item.season.iconUrl),e.xp6(1),e.Q6J("ngIf","Ultimate"===i.item.group),e.xp6(1),e.Q6J("ngIf","Elder"===i.item.group),e.xp6(1),e.Q6J("ngIf",null==i.item.iaps?null:i.item.iaps.length)}}let _f=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-item-icons"]],inputs:{item:"item"},decls:1,vars:1,consts:[[4,"ngIf"],["class","img-tr",3,"src",4,"ngIf"],["class","img-tl seasonal",3,"src",4,"ngIf"],["class","img-tl",3,"src",4,"ngIf"],["class","img-tl currency",3,"src",4,"ngIf"],[1,"img-tr",3,"src"],[1,"img-tl","seasonal",3,"src"],[1,"img-tl",3,"src"],[1,"img-tl","currency",3,"src"]],template:function(c,d){1&c&&e.YNc(0,Gm,5,4,"ng-container",0),2&c&&e.Q6J("ngIf",d.item)},dependencies:[Q.O5,Ns],styles:["*[_ngcontent-%COMP%]{pointer-events:none}.img-tl[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:var(--icon-size-group);height:var(--icon-size-group)}.img-tr[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:var(--icon-size-group);height:var(--icon-size-group)}"],changeDetection:0})}return r})();function vf(r,f){if(1&r){const i=e.EpF();e.TgZ(0,"app-icon",3),e.NdJ("click",function(d){e.CHM(i);const D=e.oxw();return e.KtG(D.iconClick(d))}),e.qZA()}if(2&r){const i=e.oxw();e.Q6J("src",i.item.icon)("opacity",i.item.unlocked||i.highlight?void 0:.5)}}function zm(r,f){if(1&r&&(e.TgZ(0,"span",4),e._uU(1),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.hij("Lv",i.item.level,"")}}function Ym(r,f){if(1&r&&e._UZ(0,"app-item-icons",5),2&r){const i=e.oxw();e.Q6J("item",i.item)}}let Zc=(()=>{class r{constructor(i,c,d){this._debug=i,this._eventService=c,this._changeDetectorRef=d,this.large=!1,this.hoverHighlight=!0,this.ItemType=di.q}ngOnInit(){this._sub=this._eventService.itemToggled.subscribe(i=>{i.guid===this.item?.guid&&this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._sub?.unsubscribe()}iconClick(i){this._debug.copyItem&&(i.stopImmediatePropagation(),i.preventDefault(),navigator.clipboard.writeText(this.item.guid))}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(K),e.Y36(Ye),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-item"]],hostVars:4,hostBindings:function(c,d){2&c&&e.ekj("large",d.large)("hoverable",d.hoverHighlight)},inputs:{item:"item",large:"large",highlight:"highlight",hoverHighlight:"hoverHighlight",showSubIcons:"showSubIcons"},decls:3,vars:3,consts:[["class","img",3,"src","opacity","click",4,"ngIf"],["class","emote-level",4,"ngIf"],[3,"item",4,"ngIf"],[1,"img",3,"src","opacity","click"],[1,"emote-level"],[3,"item"]],template:function(c,d){1&c&&(e.YNc(0,vf,1,2,"app-icon",0),e.YNc(1,zm,2,1,"span",1),e.YNc(2,Ym,1,1,"app-item-icons",2)),2&c&&(e.Q6J("ngIf",d.item.icon),e.xp6(1),e.Q6J("ngIf",d.item.type===d.ItemType.Emote),e.xp6(1),e.Q6J("ngIf",d.showSubIcons))},dependencies:[Q.O5,Ns,_f],styles:["[_nghost-%COMP%]{display:inline-block;position:relative;border:0;border-radius:var(--border-radius);width:var(--item-size);height:var(--item-size)}.large[_nghost-%COMP%]{width:var(--item-size-large);height:var(--item-size-large)}.img[_ngcontent-%COMP%]{width:100%;height:100%;transition:var(--animation-short);filter:drop-shadow(0 0 0 #0000)}.hoverable[_nghost-%COMP%]:hover   .img[_ngcontent-%COMP%]{transition:var(--animation-short);filter:drop-shadow(0 0 4px #fffa73)}.img[_ngcontent-%COMP%]{width:100%;height:100%}.emote-level[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;font-size:12px}"],changeDetection:0})}return r})();function Wm(r,f){if(1&r){const i=e.EpF();e.TgZ(0,"div",5),e.NdJ("click",function(d){e.CHM(i);const D=e.oxw();return e.KtG(D.toggleNode(d))})("mouseenter",function(d){e.CHM(i);const D=e.oxw();return e.KtG(D.mouseEnter(d))})("mouseleave",function(d){e.CHM(i);const D=e.oxw();return e.KtG(D.mouseLeave(d))}),e._UZ(1,"app-item",6),e.qZA()}if(2&r){const i=e.oxw(),c=e.MAs(11);e.Q6J("ngbTooltip",c)("placement",i.tooltipPlacement),e.xp6(1),e.Q6J("item",i.node.item)("highlight",i.hover)}}function jl(r,f){if(1&r&&(e.TgZ(0,"div",7),e._uU(1),e._UZ(2,"mat-icon",8),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.hij(" ",i.node.c,""),e.xp6(1),e.Q6J("inline",!1)}}function zs(r,f){if(1&r&&(e.TgZ(0,"div",7),e._uU(1),e._UZ(2,"mat-icon",9),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.hij(" ",i.node.sc,""),e.xp6(1),e.Q6J("inline",!1)}}function Vc(r,f){if(1&r&&(e.TgZ(0,"div",7),e._uU(1),e._UZ(2,"mat-icon",10),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.hij(" ",i.node.h,""),e.xp6(1),e.Q6J("inline",!1)}}function yf(r,f){if(1&r&&(e.TgZ(0,"div",7),e._uU(1),e._UZ(2,"mat-icon",11),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.hij(" ",i.node.sh,""),e.xp6(1),e.Q6J("inline",!1)}}function Df(r,f){if(1&r&&(e.TgZ(0,"div",12),e._uU(1),e._UZ(2,"mat-icon",13),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.hij(" ",i.node.ac,""),e.xp6(1),e.Q6J("inline",!1)}}function bf(r,f){if(1&r&&(e.TgZ(0,"div",7),e._uU(1),e._UZ(2,"mat-icon",14),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.hij(" ",i.node.ec,""),e.xp6(1),e.Q6J("inline",!1)}}function r1(r,f){if(1&r&&(e.ynx(0),e.TgZ(1,"span",16),e._uU(2),e.qZA(),e.BQk()),2&r){const i=e.oxw(2);e.xp6(2),e.Oqu(i.node.item.name)}}function s1(r,f){if(1&r&&e.YNc(0,r1,3,1,"ng-container",15),2&r){const i=e.oxw();e.Q6J("ngIf",i.node.item)}}let a1=(()=>{class r{constructor(i,c,d){this._debug=i,this._eventService=c,this._storageService=d,this.position="center",this.tooltipPlacement="bottom"}ngOnChanges(i){if(i.position){const c=i.position.currentValue;this.tooltipPlacement="left"===c?"bottom-start":"right"===c?"bottom-end":"bottom"}}mouseEnter(i){this.hover=!0}mouseLeave(i){this.hover=!1}toggleNode(i){if(!this.node.item)return;const c=this.node.item;if(this._debug.copyNode)return i.stopImmediatePropagation(),i.preventDefault(),void this.copyDebug(this.node);c.unlocked?this.lockItem():this.unlockItem(),this._eventService.toggleItem(c)}copyDebug(i){navigator.clipboard.writeText(JSON.stringify({nw:!!i.nw,n:!!i.n,ne:!!i.ne,item:i.item?.guid,c:i.c,h:i.h,sc:i.sc,sh:i.sh,ac:i.ac,ec:i.ec}))}unlockItem(){if(!this.node.item)return;const i=[];this.node.item.unlocked=!0,i.push(this.node.item.guid),this.node.unlocked=!0,i.push(this.node.guid),this.node.hiddenItems?.forEach(c=>{c.unlocked=!0,i.push(c.guid)}),this._storageService.add(...i),this._storageService.save()}lockItem(){if(!this.node.item)return;const i=[],d=[this.node.item,...this.node.hiddenItems||[]];for(const D of d)D.unlocked=!1,i.push(D.guid),(D.nodes||[]).forEach(ee=>{ee.unlocked=!1,i.push(ee.guid)}),(D.hiddenNodes||[]).forEach(ee=>{ee.unlocked=!1,i.push(ee.guid)});this._storageService.remove(...i),this._storageService.save()}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(K),e.Y36(Ye),e.Y36(pt.V))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-node"]],inputs:{node:"node",position:"position",highlight:"highlight"},features:[e.TTD],decls:12,vars:14,consts:[["class","item-container","container","body",3,"ngbTooltip","placement","click","mouseenter","mouseleave",4,"ngIf"],["class","cost",4,"ngIf"],["class","cost ascend",4,"ngIf"],[1,"unlock-check"],["nodeHover",""],["container","body",1,"item-container",3,"ngbTooltip","placement","click","mouseenter","mouseleave"],[3,"item","highlight"],[1,"cost"],["svgIcon","candle",1,"icon-middle",3,"inline"],["svgIcon","season-candle",1,"icon-middle",3,"inline"],["svgIcon","heart",1,"icon-middle",3,"inline"],["svgIcon","season-heart",1,"seasonal","icon-middle",3,"inline"],[1,"cost","ascend"],["svgIcon","ascended-candle",1,"icon-middle",3,"inline"],["svgIcon","ticket",1,"icon-middle",3,"inline"],[4,"ngIf"],[1,"ws-nw"]],template:function(c,d){1&c&&(e.TgZ(0,"div"),e.YNc(1,Wm,2,4,"div",0),e.YNc(2,jl,3,2,"div",1),e.YNc(3,zs,3,2,"div",1),e.YNc(4,Vc,3,2,"div",1),e.YNc(5,yf,3,2,"div",1),e.YNc(6,Df,3,2,"div",2),e.YNc(7,bf,3,2,"div",1),e.TgZ(8,"mat-icon",3),e._uU(9,"done"),e.qZA()(),e.YNc(10,s1,1,1,"ng-template",null,4,e.W1O)),2&c&&(e.ekj("highlight",d.highlight),e.uIk("data-position",d.position),e.xp6(1),e.Q6J("ngIf",d.node.item),e.xp6(1),e.Q6J("ngIf",null==d.node?null:d.node.c),e.xp6(1),e.Q6J("ngIf",null==d.node?null:d.node.sc),e.xp6(1),e.Q6J("ngIf",null==d.node?null:d.node.h),e.xp6(1),e.Q6J("ngIf",null==d.node?null:d.node.sh),e.xp6(1),e.Q6J("ngIf",null==d.node?null:d.node.ac),e.xp6(1),e.Q6J("ngIf",null==d.node?null:d.node.ec),e.xp6(1),e.ekj("unlocked",d.node.unlocked||(null==d.node.item?null:d.node.item.unlocked))("self",d.node.unlocked))},dependencies:[Q.O5,Xo,W.Hw,Zc],styles:["[_nghost-%COMP%]{position:relative;display:inline-block;width:100%;height:100%;-webkit-user-select:none;user-select:none}.item-container[_ngcontent-%COMP%]{display:inline-block;cursor:pointer}.cost[_ngcontent-%COMP%]{float:right;text-align:right;right:calc(50% + 3px);position:relative}.cost[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{fill:var(--color-candle)}div[data-position=left][_ngcontent-%COMP%]   .cost[_ngcontent-%COMP%]{left:unset;right:0}mat-icon[_ngcontent-%COMP%]{width:var(--icon-size-cost);vertical-align:text-bottom}"]})}return r})();const ld=function(r,f){return{cost:r,remaining:f,icon:"candle",iconClass:"currency"}};function ud(r,f){if(1&r&&(e.TgZ(0,"div",4),e.GkF(1,5),e.qZA()),2&r){const i=e.oxw(),c=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",e.WLB(2,ld,null==i.cost?null:i.cost.c,null==i.remaining?null:i.remaining.c))}}const c1=function(r,f){return{cost:r,remaining:f,icon:"candle",iconClass:"seasonal"}};function l1(r,f){if(1&r&&(e.TgZ(0,"div",4),e.GkF(1,5),e.qZA()),2&r){const i=e.oxw(),c=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",e.WLB(2,c1,null==i.cost?null:i.cost.sc,null==i.remaining?null:i.remaining.sc))}}const Cf=function(r,f){return{cost:r,remaining:f,icon:"heart",iconClass:"currency"}};function qm(r,f){if(1&r&&(e.TgZ(0,"div",4),e.GkF(1,5),e.qZA()),2&r){const i=e.oxw(),c=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",e.WLB(2,Cf,null==i.cost?null:i.cost.h,null==i.remaining?null:i.remaining.h))}}const Jm=function(r,f){return{cost:r,remaining:f,icon:"heart",iconClass:"seasonal"}};function Km(r,f){if(1&r&&(e.TgZ(0,"div",4),e.GkF(1,5),e.qZA()),2&r){const i=e.oxw(),c=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",e.WLB(2,Jm,null==i.cost?null:i.cost.sh,null==i.remaining?null:i.remaining.sh))}}const Qm=function(r,f){return{cost:r,remaining:f,icon:"ascended-candle",iconClass:"currency"}};function wf(r,f){if(1&r&&(e.TgZ(0,"div",4),e.GkF(1,5),e.qZA()),2&r){const i=e.oxw(),c=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",e.WLB(2,Qm,null==i.cost?null:i.cost.ac,null==i.remaining?null:i.remaining.ac))}}const Hl=function(r,f){return{cost:r,remaining:f,icon:"ticket",iconClass:"currency"}};function Ef(r,f){if(1&r&&(e.TgZ(0,"div",4),e.GkF(1,5),e.qZA()),2&r){const i=e.oxw(),c=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",e.WLB(2,Hl,null==i.cost?null:i.cost.ec,null==i.remaining?null:i.remaining.ec))}}function dd(r,f){if(1&r&&(e.TgZ(0,"b",10),e._uU(1),e.qZA()),2&r){const i=e.oxw().cost;e.xp6(1),e.hij(" ",i||0,"")}}function Xm(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const i=e.oxw().remaining;e.xp6(1),e.hij(" ",i||0,"")}}function Ta(r,f){if(1&r&&(e.TgZ(0,"span",11),e._uU(1),e.qZA()),2&r){const i=e.oxw().cost;e.xp6(1),e.hij(" (",i||0,")")}}function Tf(r,f){if(1&r&&(e._UZ(0,"mat-icon",6),e.TgZ(1,"div"),e.YNc(2,dd,2,1,"b",7),e.YNc(3,Xm,2,1,"span",8),e.YNc(4,Ta,2,1,"span",9),e.qZA()),2&r){const i=f.cost,c=f.remaining,d=f.icon;e.Tol(f.iconClass+" cost-icon icon-middle"),e.Q6J("svgIcon",d)("inline",!1),e.xp6(2),e.Q6J("ngIf",i&&!c),e.xp6(1),e.Q6J("ngIf",c),e.xp6(1),e.Q6J("ngIf",i&&c)}}function e_(r,f){1&r&&(e.TgZ(0,"span",11),e._uU(1,"Total cost of all items."),e.qZA())}function hd(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1,"Cost of items not yet unlocked."),e.qZA(),e._UZ(2,"br"),e.YNc(3,e_,2,0,"span",9),e._UZ(4,"br"),e.TgZ(5,"span",10),e._uU(6,"All items are unlocked."),e.qZA()),2&r){const i=e.oxw();e.xp6(3),e.Q6J("ngIf",i.remaining)}}let $c=(()=>{class r{constructor(){this.borderLeft=!1,this.completed=!1}ngOnChanges(){this.completed=!!this.remaining&&Wi.T.isEmpty(this.remaining)}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-cost"]],inputs:{cost:"cost",remaining:"remaining",borderLeft:"borderLeft"},features:[e.TTD],decls:11,vars:9,consts:[["container","body","placement","top",1,"costs",3,"ngbTooltip"],["class","cost",4,"ngIf"],["costTemplate",""],["costHover",""],[1,"cost"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"svgIcon","inline"],["class","c-completed",4,"ngIf"],[4,"ngIf"],["class","c-accent",4,"ngIf"],[1,"c-completed"],[1,"c-accent"]],template:function(c,d){if(1&c&&(e.TgZ(0,"div",0),e.YNc(1,ud,2,5,"div",1),e.YNc(2,l1,2,5,"div",1),e.YNc(3,qm,2,5,"div",1),e.YNc(4,Km,2,5,"div",1),e.YNc(5,wf,2,5,"div",1),e.YNc(6,Ef,2,5,"div",1),e.qZA(),e.YNc(7,Tf,5,7,"ng-template",null,2,e.W1O),e.YNc(9,hd,7,1,"ng-template",null,3,e.W1O)),2&c){const D=e.MAs(10);e.ekj("cost-border-left",d.borderLeft),e.Q6J("ngbTooltip",D),e.xp6(1),e.Q6J("ngIf",null==d.cost?null:d.cost.c),e.xp6(1),e.Q6J("ngIf",null==d.cost?null:d.cost.sc),e.xp6(1),e.Q6J("ngIf",null==d.cost?null:d.cost.h),e.xp6(1),e.Q6J("ngIf",null==d.cost?null:d.cost.sh),e.xp6(1),e.Q6J("ngIf",null==d.cost?null:d.cost.ac),e.xp6(1),e.Q6J("ngIf",null==d.cost?null:d.cost.ec)}},dependencies:[Q.O5,Q.tP,Xo,W.Hw],styles:[".costs[_ngcontent-%COMP%]{display:inline-block}.cost[_ngcontent-%COMP%]{position:relative;display:inline-block;padding:0 8px 0 30px}.cost[_ngcontent-%COMP%]:not(:first-child), .cost-border-left[_ngcontent-%COMP%]   .cost[_ngcontent-%COMP%]{border-left:1px solid var(--color-cost-border)}mat-icon[_ngcontent-%COMP%]{vertical-align:sub;height:auto}.cost[_ngcontent-%COMP%]   mat-icon.cost-icon[_ngcontent-%COMP%]{position:absolute;top:-2px;left:4px}"],changeDetection:0})}return r})(),us=(()=>{class r{transform(i,c){return c??=De.O.displayFormat,i.format(c)}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275pipe=e.Yjl({name:"dayjs",type:r,pure:!0})}return r})();function t_(r,f){if(1&r&&e._UZ(0,"app-node",15),2&r){const i=e.oxw().$implicit,c=e.oxw();e.Q6J("node",i)("position","left")("highlight",c.highlightItem?(null==i.item?null:i.item.guid)===c.highlightItem||i===c.hiddenItems[c.highlightItem]:void 0)}}function n_(r,f){1&r&&e._UZ(0,"div",16)}function i_(r,f){if(1&r&&(e.TgZ(0,"div",12),e.YNc(1,t_,1,3,"app-node",13),e.YNc(2,n_,1,0,"div",14),e.qZA()),2&r){const i=f.$implicit;e.xp6(1),e.Q6J("ngIf",i),e.xp6(1),e.Q6J("ngIf",null==i?null:i.n)}}function Mf(r,f){if(1&r&&e._UZ(0,"app-node",15),2&r){const i=e.oxw().$implicit,c=e.oxw();e.Q6J("node",i)("position","center")("highlight",c.highlightItem?(null==i.item?null:i.item.guid)===c.highlightItem||i===c.hiddenItems[c.highlightItem]:void 0)}}function u1(r,f){1&r&&e._UZ(0,"div",19)}function d1(r,f){1&r&&e._UZ(0,"div",16)}function Gc(r,f){1&r&&e._UZ(0,"div",20)}function yi(r,f){if(1&r&&(e.TgZ(0,"div",12),e.YNc(1,Mf,1,3,"app-node",13),e.YNc(2,u1,1,0,"div",17),e.YNc(3,d1,1,0,"div",14),e.YNc(4,Gc,1,0,"div",18),e.qZA()),2&r){const i=f.$implicit;e.xp6(1),e.Q6J("ngIf",i),e.xp6(1),e.Q6J("ngIf",null==i?null:i.nw),e.xp6(1),e.Q6J("ngIf",null==i?null:i.n),e.xp6(1),e.Q6J("ngIf",null==i?null:i.ne)}}function zc(r,f){if(1&r&&e._UZ(0,"app-node",15),2&r){const i=e.oxw().$implicit,c=e.oxw();e.Q6J("node",i)("position","right")("highlight",c.highlightItem?(null==i.item?null:i.item.guid)===c.highlightItem||i===c.hiddenItems[c.highlightItem]:void 0)}}function Af(r,f){1&r&&e._UZ(0,"div",16)}function Sf(r,f){if(1&r&&(e.TgZ(0,"div",12),e.YNc(1,zc,1,3,"app-node",13),e.YNc(2,Af,1,0,"div",14),e.qZA()),2&r){const i=f.$implicit;e.xp6(1),e.Q6J("ngIf",i),e.xp6(1),e.Q6J("ngIf",null==i?null:i.n)}}function fd(r,f){if(1&r&&(e.TgZ(0,"span",24),e._uU(1),e.ALo(2,"dayjs"),e.qZA()),2&r){const i=e.oxw(2);e.xp6(1),e.hij("(",e.xi3(2,1,i.tsDate,i.dateFormat),")")}}function pd(r,f){if(1&r&&(e.TgZ(0,"span",24),e._uU(1),e.ALo(2,"dayjs"),e.qZA()),2&r){const i=e.oxw(2);e.xp6(1),e.hij("(",e.xi3(2,1,i.rsDate,i.dateFormat),")")}}function o_(r,f){if(1&r&&(e.TgZ(0,"div",21),e.Hsn(1),e.TgZ(2,"div",22),e._uU(3),e.YNc(4,fd,3,4,"span",23),e.YNc(5,pd,3,4,"span",23),e.qZA()()),2&r){const i=e.oxw();e.xp6(3),e.hij(" ",i.name," "),e.xp6(1),e.Q6J("ngIf",i.tsDate),e.xp6(1),e.Q6J("ngIf",i.rsDate)}}function If(r,f){1&r&&e._UZ(0,"div",25)}function xf(r,f){if(1&r&&(e.TgZ(0,"div",26),e._UZ(1,"app-cost",27),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.Q6J("cost",i.totalCost)("remaining",i.remainingCost)}}const Zl=[[["div","name",""]]],h1=["div[name]"];let Ma=(()=>{class r{constructor(i,c,d){this._eventService=i,this._storageService=c,this._elementRef=d,this.nodes=[],this.left=[],this.center=[],this.right=[],this.hiddenItems={},this.hasCostAtRoot=!1,this.itemMap=new Map,this.dateFormat=De.O.displayFormat}ngAfterViewInit(){const c=this._elementRef.nativeElement.querySelector(".spirit-tree-scroll");c&&(c.scrollTop=1e3)}ngOnChanges(i){i.tree&&(this.initializeNodes(),this.subscribeItemChanged(),this.calculateRemainingCosts(),this.tsDate=this.tree.ts?.date,this.rsDate=this.tree.visit?.return?.date)}ngOnDestroy(){this._itemSub?.unsubscribe()}initializeNodes(){this.itemMap.clear(),this.totalCost=Wi.T.create(),this.remainingCost=Wi.T.create(),this.nodes=[],this.left=[],this.center=[],this.right=[],this.hasCost=!1,this.tree&&(this.initializeNode(this.tree.node,0,0),this.hasCost=!Wi.T.isEmpty(this.totalCost),this.hasCostAtRoot=!Wi.T.isEmpty(this.tree.node))}subscribeItemChanged(){this._itemSub?.unsubscribe(),this._itemSub=this._eventService.itemToggled.pipe((0,ve.h)(i=>this.itemMap.has(i.guid))).subscribe(i=>this.onItemChanged(i))}onItemChanged(i){this.itemMap.get(i.guid)&&this.calculateRemainingCosts()}initializeNode(i,c,d){i.item&&this.itemMap.set(i.item.guid,i),this.nodes.push(i),(c<0?this.left:c>0?this.right:this.center)[d]=i,Wi.T.add(this.totalCost,i),i.nw&&this.initializeNode(i.nw,c-1,d),i.ne&&this.initializeNode(i.ne,c+1,d),i.n&&this.initializeNode(i.n,c,d+1),i.hiddenItems?.length&&i.hiddenItems.forEach(x=>this.hiddenItems[x.guid]=i)}calculateRemainingCosts(){this.remainingCost=Wi.T.create(),this.nodes.filter(i=>!i.unlocked&&!i.item?.unlocked).forEach(i=>{Wi.T.add(this.remainingCost,i)})}unlockAll(){const i=this.nodes.filter(x=>x.item),d=i.map(x=>x.item).filter(x=>!x.unlocked).length;confirm(`Are you sure you want to ${d?"UNLOCK":"REMOVE"} all items from this tree?`)&&(d?i.filter(x=>!x.item.unlocked).forEach(x=>{x.item.unlocked=!0,x.unlocked=!0,this._storageService.add(x.item.guid,x.guid),this._eventService.toggleItem(x.item)}):i.filter(x=>x.item.unlocked).forEach(x=>{x.item.unlocked=!1;const Y=x.item.nodes||[];Y.forEach(ee=>ee.unlocked=!1),this._storageService.remove(x.item.guid,...Y.map(ee=>ee.guid)),this._eventService.toggleItem(x.item)}),this._storageService.save())}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(Ye),e.Y36(pt.V),e.Y36(e.SBq))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-spirit-tree"]],inputs:{tree:"tree",name:"name",highlight:"highlight",highlightItem:"highlightItem"},features:[e.TTD],ngContentSelectors:h1,decls:16,vars:11,consts:[[1,"content","sky-border-solid"],[1,"spirit-tree-scroll"],["container","body","placement","bottom-end",1,"unlock-all",3,"ngbTooltip","click"],[1,"spirit-tree"],[1,"column","left"],["class","st-item",4,"ngFor","ngForOf"],[1,"column","center"],[1,"column","right"],[1,"footer"],["class","name",4,"ngIf"],["class","hr",4,"ngIf"],["class","costs",4,"ngIf"],[1,"st-item"],[3,"node","position","highlight",4,"ngIf"],["class","arrow arrow-up",4,"ngIf"],[3,"node","position","highlight"],[1,"arrow","arrow-up"],["class","arrow arrow-left",4,"ngIf"],["class","arrow arrow-right",4,"ngIf"],[1,"arrow","arrow-left"],[1,"arrow","arrow-right"],[1,"name"],[1,"name-default"],["class","c-accent ts-date",4,"ngIf"],[1,"c-accent","ts-date"],[1,"hr"],[1,"costs"],[3,"cost","remaining"]],template:function(c,d){1&c&&(e.F$t(Zl),e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.NdJ("click",function(){return d.unlockAll()}),e.TgZ(3,"mat-icon"),e._uU(4,"lock_open"),e.qZA()(),e.TgZ(5,"div",3)(6,"div",4),e.YNc(7,i_,3,2,"div",5),e.qZA(),e.TgZ(8,"div",6),e.YNc(9,yi,5,4,"div",5),e.qZA(),e.TgZ(10,"div",7),e.YNc(11,Sf,3,2,"div",5),e.qZA()()(),e.TgZ(12,"div",8),e.YNc(13,o_,6,3,"div",9),e.YNc(14,If,1,0,"div",10),e.YNc(15,xf,2,2,"div",11),e.qZA()()),2&c&&(e.ekj("highlight",d.highlight),e.xp6(1),e.ekj("pad-bottom",d.hasCostAtRoot),e.xp6(1),e.Q6J("ngbTooltip","Toggle all"),e.xp6(5),e.Q6J("ngForOf",d.left),e.xp6(2),e.Q6J("ngForOf",d.center),e.xp6(2),e.Q6J("ngForOf",d.right),e.xp6(2),e.Q6J("ngIf",d.name),e.xp6(1),e.Q6J("ngIf",d.name&&d.hasCost),e.xp6(1),e.Q6J("ngIf",d.hasCost))},dependencies:[Q.sg,Q.O5,Xo,W.Hw,a1,$c,us],styles:["[_nghost-%COMP%]{display:inline-block}.content[_ngcontent-%COMP%]{border-radius:var(--border-radius);overflow:hidden}.spirit-tree-scroll[_ngcontent-%COMP%]{background:var(--color-tree-background);position:relative;overflow-y:auto;padding-top:20px}.spirit-tree-scroll.pad-bottom[_ngcontent-%COMP%]{padding-bottom:32px}.spirit-tree[_ngcontent-%COMP%]{display:inline-flex;gap:32px;width:min-content;padding:4px}.column[_ngcontent-%COMP%]{display:flex;gap:40px;flex-direction:column-reverse;justify-content:flex-start;counter-reset:item-counter;width:var(--item-size)}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{padding-bottom:48px}.st-item[_ngcontent-%COMP%]{position:relative;width:var(--item-size);height:var(--item-size)}.arrow[_ngcontent-%COMP%]{position:absolute;background:var(--color-tree-line);width:1px}.arrow-left[_ngcontent-%COMP%]{transform:rotate(-45deg);height:32px;left:-18px;top:0}.arrow-up[_ngcontent-%COMP%]{height:24px;top:-30px;left:50%;transform:translate(-50%)}.arrow-right[_ngcontent-%COMP%]{transform:rotate(45deg);height:32px;right:-18px;top:0}.footer[_ngcontent-%COMP%]{text-align:center;background:var(--color-tree-footer-background)}.name[_ngcontent-%COMP%]{padding:4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:bottom}.name-default[_ngcontent-%COMP%]:not(:only-child){display:none}.ts-date[_ngcontent-%COMP%]{font-size:13px;vertical-align:text-bottom}.hr[_ngcontent-%COMP%]{--width:calc(100% - 20px);height:1px;width:var(--width);margin-left:calc((100% - var(--width)) / 2);background:var(--color-tree-footer-border)}.costs[_ngcontent-%COMP%]{padding:4px}.cost[_ngcontent-%COMP%]{display:inline-block;font-size:14px;padding:0 6px}.cost[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:17px;vertical-align:sub;height:auto}.remaining-cost[_ngcontent-%COMP%]{color:var(--color-accent)}.seasonal[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{fill:var(--color-seasonal)}"]})}return r})();var r_=M(292),ao=M.n(r_);let Aa=(()=>{class r{constructor(){this.label=""}ngOnChanges(i){this.label=this.getLabel()}getLabel(){const i=this.date??ao()();return this.start&&i.isBefore(this.start)?this.getLabelBeforeStart(i):this.start&&!this.end?"ongoing":this.end&&i.isBefore(this.end)?this.getLabelBeforeEnd(i):this.end?"ended":""}getLabelBeforeStart(i){const c=De.O.daysBetween(i,this.start);return c?`in ${c+1} days`:"tomorrow"}getLabelBeforeEnd(i){const c=De.O.daysBetween(i,this.end);return c?`${c+1} days left`:"last day"}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-days-left"]],inputs:{date:"date",start:"start",end:"end"},features:[e.TTD],decls:2,vars:1,template:function(c,d){1&c&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&c&&(e.xp6(1),e.Oqu(d.label))},changeDetection:0})}return r})(),Vl=(()=>{class r{constructor(){this.label=""}ngOnChanges(){this.label=this.getLabel()}getLabel(){if(!this.start||!this.end)return"";const i=De.O.daysBetween(this.start,this.end);return i?`${i+1} days`:"1 day"}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-duration"]],inputs:{start:"start",end:"end"},features:[e.TTD],decls:2,vars:1,template:function(c,d){1&c&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&c&&(e.xp6(1),e.Oqu(d.label))},changeDetection:0})}return r})(),sa=(()=>{class r{constructor(){this.settingChanged=new be.x,this._wikiNewTab=!1,this._wikiNewTab=this.wikiNewTab}get wikiNewTab(){return"1"===localStorage.getItem("wiki.newtab")}set wikiNewTab(i){this._wikiNewTab=i,localStorage.setItem("wiki.newtab",i?"1":"0"),this.settingChanged.next()}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function s_(r,f){if(1&r&&(e.ynx(0),e.TgZ(1,"a",1)(2,"mat-icon",2),e._uU(3,"question_mark"),e.qZA(),e.TgZ(4,"span",3),e._uU(5,"Wiki"),e.qZA()(),e.BQk()),2&r){const i=e.oxw();e.xp6(1),e.Tol(i.aClass),e.Udp("order",i.order),e.Q6J("href",i.wiki.href||"#",e.LSH),e.uIk("target",i.openNewTab?"_blank":void 0)}}let fr=(()=>{class r{constructor(i){this._settingService=i,this.aClass="container d-inline-block",this.openNewTab=!1,this.openNewTab=i._wikiNewTab}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(sa))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-wiki-link"]],inputs:{aClass:"aClass",wiki:"wiki",order:"order"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"href"],[1,"menu-icon"],[1,"menu-label"]],template:function(c,d){1&c&&e.YNc(0,s_,6,6,"ng-container",0),2&c&&e.Q6J("ngIf",d.wiki)},dependencies:[Q.O5,W.Hw],styles:["[_nghost-%COMP%]{display:contents}"],changeDetection:0})}return r})();function $l(r,f){if(1&r&&(e.TgZ(0,"span",3),e._uU(1," ("),e._UZ(2,"app-days-left",11),e._uU(3,") "),e.qZA()),2&r){const i=e.oxw();e.xp6(2),e.Q6J("start",i.instance.date)("end",i.instance.endDate)}}function a_(r,f){if(1&r&&(e.TgZ(0,"span",3),e._uU(1," ("),e._UZ(2,"app-days-left",11),e._uU(3,") "),e.qZA()),2&r){const i=e.oxw();e.xp6(2),e.Q6J("start",i.instance.date)("end",i.instance.endDate)}}function gd(r,f){if(1&r&&(e.TgZ(0,"span",3),e._uU(1),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.hij("(",i.ecLeft," needed)")}}function Gl(r,f){if(1&r&&(e.TgZ(0,"span",3),e._uU(1),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.hij("(",i.cLeft," needed)")}}function Ps(r,f){if(1&r&&(e.TgZ(0,"div",21),e._UZ(1,"app-spirit-tree",22),e.qZA()),2&r){const i=f.$implicit,c=e.oxw(2);e.xp6(1),e.Q6J("tree",i.tree)("name",(null==i?null:i.name)||i.spirit.name)("highlightItem",c.highlightItem)}}function zl(r,f){if(1&r&&(e.TgZ(0,"div",16)(1,"div",1)(2,"h2",17),e._uU(3,"Spirits"),e.qZA()(),e.TgZ(4,"div",18)(5,"div",19),e.YNc(6,Ps,2,3,"div",20),e.qZA()()()),2&r){const i=e.oxw();e.xp6(6),e.Q6J("ngForOf",i.instance.spirits)}}function md(r,f){1&r&&(e.TgZ(0,"span",37),e._uU(1,"Returning IAP"),e.qZA())}function c_(r,f){1&r&&(e.TgZ(0,"span",38),e._uU(1,"New IAP"),e.qZA())}function l_(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const i=e.oxw(3).$implicit;e.xp6(1),e.Oqu(i.name)}}function Of(r,f){1&r&&(e.TgZ(0,"span"),e._uU(1,"Premium Candle Store"),e.qZA())}function tc(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const i=e.oxw(3).$implicit;let c;e.xp6(1),e.Oqu(null!==(c=i.name)&&void 0!==c?c:null==i.spirit?null:i.spirit.name)}}function u_(r,f){if(1&r&&(e.ynx(0),e._UZ(1,"mat-icon",39),e.TgZ(2,"span",9),e._uU(3),e.qZA(),e.BQk()),2&r){const i=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngbTooltip","Regular candles"),e.xp6(2),e.hij(" ",i.c," ")}}function d_(r,f){if(1&r&&(e.ynx(0),e._UZ(1,"mat-icon",40),e.TgZ(2,"span",9),e._uU(3),e.qZA(),e.BQk()),2&r){const i=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngbTooltip","Season candles"),e.xp6(2),e.hij(" ",i.sc," ")}}function h_(r,f){if(1&r&&(e.ynx(0),e._UZ(1,"mat-icon",41),e.TgZ(2,"span",9),e._uU(3),e.qZA(),e.BQk()),2&r){const i=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngbTooltip","Gift Season Pass"),e.xp6(2),e.hij(" ",i.sp," ")}}function _d(r,f){if(1&r&&(e.TgZ(0,"div",32),e.YNc(1,u_,4,2,"ng-container",15),e.YNc(2,d_,4,2,"ng-container",15),e.YNc(3,h_,4,2,"ng-container",15),e.qZA()),2&r){const i=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",i.c),e.xp6(1),e.Q6J("ngIf",i.sc),e.xp6(1),e.Q6J("ngIf",i.sp)}}function Nf(r,f){if(1&r&&(e.ynx(0),e.TgZ(1,"span",46),e._uU(2),e.qZA(),e.BQk()),2&r){const i=e.oxw(2).$implicit;e.xp6(2),e.Oqu(i.name)}}function f_(r,f){if(1&r&&e.YNc(0,Nf,3,1,"ng-container",15),2&r){const i=e.oxw().$implicit;e.Q6J("ngIf",i)}}function Pf(r,f){if(1&r){const i=e.EpF();e.TgZ(0,"div",42),e.NdJ("click",function(d){e.CHM(i);const D=e.oxw().$implicit,x=e.oxw(4);return e.KtG(x.togglePurchased(d,D))}),e._UZ(1,"app-item",43),e.TgZ(2,"mat-icon",44),e._uU(3,"done"),e.qZA(),e.YNc(4,f_,1,1,"ng-template",null,45,e.W1O),e.qZA()}if(2&r){const i=f.$implicit,c=e.MAs(5),d=e.oxw().$implicit;e.xp6(1),e.Q6J("item",i)("ngbTooltip",c),e.xp6(1),e.ekj("unlocked",null==i?null:i.unlocked)("self",d.bought)}}function vd(r,f){if(1&r&&(e.TgZ(0,"div",27)(1,"div",1)(2,"h3",28),e._uU(3),e.qZA()(),e.TgZ(4,"div",4)(5,"div",29)(6,"mat-icon",8),e._uU(7),e.qZA(),e.TgZ(8,"span",9),e.YNc(9,md,2,0,"span",30),e.YNc(10,c_,2,0,"span",31),e.qZA()(),e.TgZ(11,"div",32)(12,"mat-icon",8),e._uU(13,"location_on"),e.qZA(),e.TgZ(14,"span",9),e.YNc(15,l_,2,1,"span",15),e.YNc(16,Of,2,0,"span",15),e.YNc(17,tc,2,1,"span",15),e.qZA()(),e.TgZ(18,"div",32)(19,"mat-icon",8),e._uU(20,"attach_money"),e.qZA(),e.TgZ(21,"span",33),e._uU(22),e.qZA()(),e.YNc(23,_d,4,3,"div",34),e.TgZ(24,"div",35),e.YNc(25,Pf,6,6,"div",36),e.qZA()()()),2&r){const i=f.$implicit,c=e.oxw(2).$implicit,d=e.oxw(2);e.ekj("highlight",i.guid===d.highlightIap),e.xp6(2),e.Q6J("ngbTooltip",i.name),e.xp6(1),e.hij(" ",d.iapNames[i.guid]," "),e.xp6(4),e.Oqu(i.returning?"undo":"grade"),e.xp6(2),e.Q6J("ngIf",i.returning),e.xp6(1),e.Q6J("ngIf",!i.returning),e.xp6(5),e.Q6J("ngIf",c.name),e.xp6(1),e.Q6J("ngIf",!c.name&&"Store"===c.type),e.xp6(1),e.Q6J("ngIf",!c.name&&"Store"!==c.type),e.xp6(4),e.Q6J("ngbTooltip","Price of the IAP in USD."),e.xp6(1),e.hij(" ",i.price," "),e.xp6(1),e.Q6J("ngIf",i.c||i.sc||i.sp),e.xp6(2),e.Q6J("ngForOf",i.items)}}function f1(r,f){if(1&r&&(e.ynx(0),e.YNc(1,vd,26,14,"div",26),e.BQk()),2&r){const i=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",i.iaps)}}function p1(r,f){if(1&r&&(e.ynx(0),e.YNc(1,f1,2,1,"ng-container",15),e.BQk()),2&r){const i=f.$implicit;e.xp6(1),e.Q6J("ngIf",null==i.iaps?null:i.iaps.length)}}function p_(r,f){if(1&r&&(e.ynx(0),e.TgZ(1,"div",16)(2,"div",1)(3,"h2",17),e._uU(4,"In-App Purchases"),e.qZA()(),e.TgZ(5,"div",23)(6,"div",24),e.YNc(7,p1,2,1,"ng-container",25),e.qZA()()(),e.BQk()),2&r){const i=e.oxw();e.xp6(7),e.Q6J("ngForOf",i.shops)}}let g_=(()=>{class r{constructor(i,c,d,D,x){this._dataService=i,this._debugService=c,this._eventService=d,this._iapService=D,this._route=x,this.iapNames={},this.c=0,this.cLeft=0,this.ec=0,this.ecLeft=0,x.queryParamMap.subscribe(Y=>this.onQueryChanged(Y)),x.paramMap.subscribe(Y=>this.onParamsChanged(Y)),this.subscribeItemChanged()}ngOnDestroy(){this._itemSub?.unsubscribe()}subscribeItemChanged(){this._itemSub?.unsubscribe(),this._itemSub=this._eventService.itemToggled.subscribe(i=>this.onItemChanged())}onItemChanged(){this.calculateCandles()}onQueryChanged(i){this.highlightItem=i.get("highlightItem")||void 0,this.highlightIap=i.get("highlightIap")||void 0}onParamsChanged(i){const c=i.get("guid");this.instance=this._dataService.guidMap.get(c),this.state=De.O.getStateFromPeriod(this.instance.date,this.instance.endDate),this.shops=this.instance.shops?[...this.instance.shops]:void 0,this.shops?.sort((D,x)=>{const Y=D.iaps?.filter(Oe=>!Oe.returning).length??0;return(x.iaps?.filter(Oe=>!Oe.returning).length??0)-Y});const d=this.instance.event?.name;d&&this.shops?.forEach(D=>{D.iaps?.forEach(x=>{let Y=x.name?.replace(`${d} `,"");-1===Y?.indexOf(" ")&&(Y=d.startsWith("Days of ")?x.name?.substring(8):x.name),this.iapNames[x.guid]=Y})}),this.calculateCandles()}togglePurchased(i,c){if(this._debugService.copyShop)return i.stopImmediatePropagation(),i.preventDefault(),void navigator.clipboard.writeText(c.shop?.guid??"");this._iapService.togglePurchased(c)}calculateCandles(){this.c=this.cLeft=this.ec=this.ecLeft=0,this.instance.spirits?.map(i=>i.tree).forEach(i=>{i&&Se.f.all(i.node).forEach(c=>{this.c+=c.c||0,this.ec+=c.ec||0,!c.unlocked&&!c.item?.unlocked&&(this.cLeft+=c.c||0,this.ecLeft+=c.ec||0)})})}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(He.D),e.Y36(K),e.Y36(Ye),e.Y36(Rt),e.Y36(J.gz))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-event-instance"]],decls:36,vars:27,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"c-accent"],[1,"sky-card-body"],[1,"grid","grid-2"],[3,"wiki","aClass"],[1,"container"],[1,"menu-icon"],[1,"menu-label"],["class","c-accent",4,"ngIf"],[3,"start","end"],["svgIcon","ticket",1,"menu-icon"],["svgIcon","candle",1,"menu-icon"],["class","sky-card mt",4,"ngIf"],[4,"ngIf"],[1,"sky-card","mt"],[1,"h3","mb-0"],[1,"sky-card-body","pad-0"],[1,"sky-flex","scroll-x","pad"],["class","tree-wrapper p-inline-block",4,"ngFor","ngForOf"],[1,"tree-wrapper","p-inline-block"],[3,"tree","name","highlightItem"],[1,"pad","sky-card-body"],[1,"grid","grid-4"],[4,"ngFor","ngForOf"],["class","sky-card sky-card-border p-rel",3,"highlight",4,"ngFor","ngForOf"],[1,"sky-card","sky-card-border","p-rel"],["container","body",1,"h4","mb-0",3,"ngbTooltip"],[1,"item"],["class","c-partial",4,"ngIf"],["class","c-full",4,"ngIf"],[1,"mt-half","item"],["container","body",1,"menu-label",3,"ngbTooltip"],["class","mt-half item",4,"ngIf"],[1,"mt-half","item","iap-items"],["class","iap-item point d-inline-block p-rel",3,"click",4,"ngFor","ngForOf"],[1,"c-partial"],[1,"c-full"],["svgIcon","candle","container","body","placement","right",1,"menu-icon",3,"ngbTooltip"],["svgIcon","season-candle","container","body","placement","right",1,"menu-icon",3,"ngbTooltip"],["svgIcon","gift","container","body","placement","right",1,"menu-icon","seasonal",3,"ngbTooltip"],[1,"iap-item","point","d-inline-block","p-rel",3,"click"],["placement","bottom","container","body",3,"item","ngbTooltip"],[1,"unlock-check"],["itemHover",""],[1,"ws-nw"]],template:function(c,d){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3),e.TgZ(4,"span",3),e._uU(5),e.ALo(6,"dayjs"),e.qZA()()(),e.TgZ(7,"div",4)(8,"div",5),e._UZ(9,"app-wiki-link",6),e.TgZ(10,"div",7)(11,"mat-icon",8),e._uU(12,"calendar_month"),e.qZA(),e.TgZ(13,"span",9),e._uU(14),e.ALo(15,"dayjs"),e.ALo(16,"dayjs"),e.qZA(),e.YNc(17,$l,4,2,"span",10),e.qZA(),e.TgZ(18,"div",7)(19,"mat-icon",8),e._uU(20,"schedule"),e.qZA(),e.TgZ(21,"span",9),e._UZ(22,"app-duration",11),e.YNc(23,a_,4,2,"span",10),e.qZA()(),e.TgZ(24,"div",7),e._UZ(25,"mat-icon",12),e.TgZ(26,"span",9),e._uU(27),e.YNc(28,gd,2,1,"span",10),e.qZA()(),e.TgZ(29,"div",7),e._UZ(30,"mat-icon",13),e.TgZ(31,"span",9),e._uU(32),e.YNc(33,Gl,2,1,"span",10),e.qZA()()()()(),e.YNc(34,zl,7,1,"div",14),e.YNc(35,p_,8,1,"ng-container",15)),2&c&&(e.xp6(3),e.hij(" ",d.instance.event.name," "),e.xp6(2),e.Oqu(e.xi3(6,20,d.instance.date,"YYYY")),e.xp6(4),e.Q6J("wiki",d.instance.event._wiki)("aClass","container colspan-2"),e.xp6(1),e.ekj("expired","ended"===d.state),e.xp6(4),e.AsE(" ",e.lcZ(15,23,d.instance.date)," to ",e.lcZ(16,25,d.instance.endDate)," "),e.xp6(3),e.Q6J("ngIf","active"!==d.state),e.xp6(1),e.ekj("expired","ended"===d.state),e.xp6(4),e.Q6J("start",d.instance.date)("end",d.instance.endDate),e.xp6(1),e.Q6J("ngIf","active"===d.state),e.xp6(4),e.hij(" ",d.ec," event currency "),e.xp6(1),e.Q6J("ngIf",d.ecLeft),e.xp6(4),e.hij(" ",d.c," candles "),e.xp6(1),e.Q6J("ngIf",d.cLeft),e.xp6(1),e.Q6J("ngIf",null==d.instance.spirits?null:d.instance.spirits.length),e.xp6(1),e.Q6J("ngIf",null==d.shops?null:d.shops.length))},dependencies:[Q.sg,Q.O5,Xo,W.Hw,Ma,Zc,Aa,Vl,fr,us],styles:[".tree-wrapper[_ngcontent-%COMP%]   app-spirit-tree[_ngcontent-%COMP%]{vertical-align:bottom}"]})}return r})(),Sa=(()=>{class r{constructor(i){this.template=i}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:r,selectors:[["","appTableColumn",""]],inputs:{tdClass:"tdClass"}})}return r})(),Ia=(()=>{class r{constructor(i){this.template=i,this.fit=!1}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:r,selectors:[["","appTableHeader",""]],inputs:{fit:"fit",width:"width",textAlign:"textAlign"}})}return r})(),nc=(()=>{class r{constructor(i){this.template=i}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:r,selectors:[["","appTableFooter",""]],inputs:{colspan:"colspan",textAlign:"textAlign"}})}return r})();function m_(r,f){if(1&r&&(e.ynx(0),e.TgZ(1,"th"),e.GkF(2,4),e.qZA(),e.BQk()),2&r){const i=f.$implicit;e.xp6(1),e.Udp("text-align",i.textAlign)("width",i.width),e.ekj("fit",i.fit),e.xp6(1),e.Q6J("ngTemplateOutlet",i.template)}}function yd(r,f){if(1&r&&(e.TgZ(0,"thead")(1,"tr"),e.YNc(2,m_,3,7,"ng-container",3),e.qZA()()),2&r){const i=e.oxw();e.xp6(2),e.Q6J("ngForOf",i.headers)}}const Dd=function(r){return{row:r}};function ic(r,f){if(1&r&&(e.ynx(0),e.TgZ(1,"td"),e.GkF(2,5),e.qZA(),e.BQk()),2&r){const i=f.$implicit,c=e.oxw().$implicit;e.xp6(1),e.Tol(i.tdClass),e.xp6(1),e.Q6J("ngTemplateOutlet",i.template)("ngTemplateOutletContext",e.VKq(4,Dd,c))}}function bd(r,f){if(1&r&&(e.ynx(0),e.TgZ(1,"tr"),e.YNc(2,ic,3,6,"ng-container",3),e.qZA(),e.BQk()),2&r){const i=e.oxw();e.xp6(2),e.Q6J("ngForOf",i.columns)}}function Cd(r,f){if(1&r&&(e.ynx(0),e.TgZ(1,"td"),e.GkF(2,4),e.qZA(),e.BQk()),2&r){const i=f.$implicit;e.xp6(1),e.Udp("text-align",i.textAlign),e.uIk("colspan",i.colspan),e.xp6(1),e.Q6J("ngTemplateOutlet",i.template)}}function Yc(r,f){if(1&r&&(e.TgZ(0,"tfoot")(1,"tr"),e.YNc(2,Cd,3,4,"ng-container",3),e.qZA()()),2&r){const i=e.oxw();e.xp6(2),e.Q6J("ngForOf",i.footers)}}let ks=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-table"]],contentQueries:function(c,d,D){if(1&c&&(e.Suo(D,Ia,4),e.Suo(D,Sa,4),e.Suo(D,nc,4)),2&c){let x;e.iGM(x=e.CRH())&&(d.headers=x),e.iGM(x=e.CRH())&&(d.columns=x),e.iGM(x=e.CRH())&&(d.footers=x)}},inputs:{rows:"rows"},decls:6,vars:3,consts:[[1,"table-container"],[1,""],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"ngTemplateOutlet"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(c,d){1&c&&(e.TgZ(0,"div",0)(1,"table",1),e.YNc(2,yd,3,1,"thead",2),e.TgZ(3,"tbody"),e.YNc(4,bd,3,1,"ng-container",3),e.qZA(),e.YNc(5,Yc,3,1,"tfoot",2),e.qZA()()),2&c&&(e.xp6(2),e.Q6J("ngIf",null==d.headers?null:d.headers.length),e.xp6(2),e.Q6J("ngForOf",d.rows),e.xp6(1),e.Q6J("ngIf",null==d.footers?null:d.footers.length))},dependencies:[Q.sg,Q.O5,Q.tP],styles:[".table-container[_ngcontent-%COMP%]{min-width:-moz-fit-content;min-width:fit-content}table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0 var(--padding-content-half);margin-top:calc(-1 * var(--padding-content-half));margin-bottom:calc(-1 * var(--padding-content-half))}td[_ngcontent-%COMP%]{background-color:var(--color-background)}th[_ngcontent-%COMP%], tfoot[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:var(--color-table-header-background)}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:var(--padding-content);border-top:var(--border-solid);border-bottom:var(--border-solid)}th[_ngcontent-%COMP%]:first-child, td[_ngcontent-%COMP%]:first-child{border-top-left-radius:var(--border-radius);border-bottom-left-radius:var(--border-radius);border-left:var(--border-solid)}th[_ngcontent-%COMP%]:last-child, td[_ngcontent-%COMP%]:last-child{border-top-right-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-right:var(--border-solid)}th.fit[_ngcontent-%COMP%], td.fit[_ngcontent-%COMP%]{width:1px}.link[_ngcontent-%COMP%]{cursor:pointer}.link[_ngcontent-%COMP%]:hover{color:var(--color-link-hover)}"]})}return r})();function oc(r,f){1&r&&e._uU(0,"#")}function wd(r,f){1&r&&e._uU(0,"Name")}function Ed(r,f){1&r&&e._uU(0,"Year")}function Yl(r,f){1&r&&e._uU(0,"Start")}function g1(r,f){1&r&&e._uU(0,"End")}function Td(r,f){1&r&&e._uU(0,"Spirits")}function Wc(r,f){1&r&&e._uU(0,"IAPs")}function __(r,f){1&r&&e._uU(0,"Unlocked")}function kf(r,f){1&r&&e._uU(0),2&r&&e.hij(" ",f.row.number," ")}const v_=function(r){return["/event-instance",r]};function y_(r,f){if(1&r&&(e.TgZ(0,"a",8),e._uU(1),e.qZA()),2&r){const i=f.row;e.Q6J("routerLink",e.VKq(2,v_,i.guid)),e.xp6(1),e.Oqu(i.name)}}function Md(r,f){1&r&&e._uU(0),2&r&&e.hij(" ",f.row.year," ")}function Rf(r,f){if(1&r&&(e._uU(0),e.ALo(1,"dayjs")),2&r){const i=f.row,c=e.oxw();e.hij(" ",e.xi3(1,1,i.date,c.dateFormat)," ")}}function D_(r,f){if(1&r&&(e._uU(0),e.ALo(1,"dayjs")),2&r){const i=f.row,c=e.oxw();e.hij(" ",e.xi3(1,1,i.endDate,c.dateFormat)," ")}}function b_(r,f){1&r&&e._uU(0),2&r&&e.hij(" ",f.row.spirits," ")}function m1(r,f){if(1&r&&(e.ynx(0),e._uU(1," ("),e.TgZ(2,"span",10)(3,"mat-icon"),e._uU(4,"undo"),e.qZA(),e._uU(5),e.qZA(),e._uU(6,") "),e.BQk()),2&r){const i=e.oxw().row;e.xp6(2),e.Q6J("ngbTooltip","Contains "+i.returningIaps+" returning IAPs."),e.xp6(3),e.Oqu(i.returningIaps)}}function C_(r,f){if(1&r&&(e._uU(0),e.YNc(1,m1,7,2,"ng-container",9)),2&r){const i=f.row;e.hij(" ",i.iaps," "),e.xp6(1),e.Q6J("ngIf",i.returningIaps)}}function Wl(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const i=e.oxw().row;e.ekj("completed",i.unlockedItems===i.totalItems),e.xp6(1),e.AsE(" ",i.unlockedItems," / ",i.totalItems," ")}}function Ad(r,f){1&r&&e.YNc(0,Wl,2,4,"span",11),2&r&&e.Q6J("ngIf",f.row.totalItems)}let w_=(()=>{class r{constructor(i,c){this._dataService=i,this._route=c,this.rows=[],this.dateFormat=De.O.displayFormat}ngOnInit(){this._route.paramMap.subscribe(i=>this.onParamsChanged(i))}onParamsChanged(i){const c=i.get("guid");this.event=this._dataService.guidMap.get(c),this.instances=[],this.event.instances&&this.instances.push(...this.event.instances),this.initTable()}initTable(){this.rows=this.instances.map((i,c)=>{let d=0,D=0;i.shops?.forEach(ee=>{d+=ee.iaps?.length??0,D+=ee.iaps?.filter(Oe=>Oe.returning).length??0});let x=0,Y=0;return i.spirits?.forEach(ee=>{Se.f.getItems(ee.tree.node).forEach(Oe=>{Oe.unlocked&&x++,Y++})}),{number:c+1,name:this.event.name,year:i.date.year(),guid:i.guid,date:i.date,endDate:i.endDate,iaps:d,returningIaps:D,spirits:i.spirits?.length??0,unlockedItems:x,totalItems:Y}}).reverse()}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(He.D),e.Y36(J.gz))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-event"]],decls:23,vars:2,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card","mt"],[1,"sky-card-body"],[3,"rows"],[3,"appTableHeader"],[3,"appTableColumn"],[3,"routerLink"],[4,"ngIf"],["container","body",1,"returning",3,"ngbTooltip"],[3,"completed",4,"ngIf"]],template:function(c,d){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3),e.qZA()()(),e.TgZ(4,"div",3)(5,"div",4)(6,"app-table",5),e.YNc(7,oc,1,0,"ng-template",6),e.YNc(8,wd,1,0,"ng-template",6),e.YNc(9,Ed,1,0,"ng-template",6),e.YNc(10,Yl,1,0,"ng-template",6),e.YNc(11,g1,1,0,"ng-template",6),e.YNc(12,Td,1,0,"ng-template",6),e.YNc(13,Wc,1,0,"ng-template",6),e.YNc(14,__,1,0,"ng-template",6),e.YNc(15,kf,1,1,"ng-template",7),e.YNc(16,y_,2,4,"ng-template",7),e.YNc(17,Md,1,1,"ng-template",7),e.YNc(18,Rf,2,4,"ng-template",7),e.YNc(19,D_,2,4,"ng-template",7),e.YNc(20,b_,1,1,"ng-template",7),e.YNc(21,C_,2,2,"ng-template",7),e.YNc(22,Ad,1,1,"ng-template",7),e.qZA()()()),2&c&&(e.xp6(3),e.Oqu(d.event.name),e.xp6(3),e.Q6J("rows",d.rows))},dependencies:[Q.O5,J.rH,Xo,W.Hw,ks,Sa,Ia,us],styles:[".returning[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:relative;top:6px}.returning[_ngcontent-%COMP%]{color:var(--color-old)}.completed[_ngcontent-%COMP%]{color:var(--color-unlock-check);font-weight:700}"]})}return r})();function Ff(r,f){if(1&r&&e._UZ(0,"div",10),2&r){const i=e.oxw(2);e.Udp("order",1)("background-image","url("+i.event.imageUrl+")")("background-position",i.event.imagePosition||void 0)}}function Sd(r,f){if(1&r&&(e.TgZ(0,"div",11)(1,"mat-icon",12),e._uU(2,"calendar_month"),e.qZA(),e.TgZ(3,"span",13),e._uU(4),e.ALo(5,"dayjs"),e.ALo(6,"dayjs"),e.TgZ(7,"span",14),e._uU(8," ("),e._UZ(9,"app-days-left",15),e._uU(10,") "),e.qZA()()()),2&r){const i=e.oxw(2);e.Udp("order",i.sections.date),e.xp6(4),e.AsE(" ",e.lcZ(5,6,i.instance.date)," to ",e.lcZ(6,8,i.instance.endDate)," "),e.xp6(5),e.Q6J("start",i.instance.date)("end",i.instance.endDate)}}const qc=function(r){return["/event-instance",r]};function E_(r,f){if(1&r&&(e.TgZ(0,"a",16)(1,"mat-icon",12),e._uU(2,"article"),e.qZA(),e.TgZ(3,"span",13),e._uU(4," Overview "),e.qZA()()),2&r){const i=e.oxw(2);e.Udp("order",i.sections.overview),e.Q6J("routerLink",e.VKq(3,qc,i.instance.guid))}}const Lf=function(r){return["/event",r]};function T_(r,f){if(1&r&&(e.TgZ(0,"a",16)(1,"mat-icon",12),e._uU(2,"list"),e.qZA(),e.TgZ(3,"span",13),e._uU(4," List "),e.qZA()()),2&r){const i=e.oxw(2);e.Udp("order",i.sections.list),e.Q6J("routerLink",e.VKq(3,Lf,i.event.guid))}}function Bf(r,f){if(1&r){const i=e.EpF();e.TgZ(0,"div",17),e.NdJ("click",function(){e.CHM(i);const d=e.oxw(2);return e.KtG(d.checkin())}),e.TgZ(1,"mat-icon",12),e._uU(2),e.qZA(),e.TgZ(3,"span",13),e._uU(4," I have done my dailies. "),e.qZA()()}if(2&r){const i=e.oxw(2);e.Udp("order",i.sections.checkin),e.ekj("active",i.checkedIn),e.xp6(2),e.Oqu(i.checkedIn?"check_box":"check_box_outline_blank")}}function _1(r,f){if(1&r&&(e.TgZ(0,"a",16)(1,"mat-icon",12),e._uU(2,"schedule"),e.qZA(),e.TgZ(3,"span",13),e._uU(4," Most recent "),e.TgZ(5,"span",14),e._uU(6),e.ALo(7,"dayjs"),e.qZA()()()),2&r){const i=e.oxw(2);e.Udp("order",i.sections.recent),e.Q6J("routerLink",e.VKq(7,qc,i.lastInstance.guid)),e.xp6(6),e.hij("(",e.xi3(7,4,i.lastInstance.date,"YYYY"),")")}}function M_(r,f){if(1&r&&(e.TgZ(0,"div",11)(1,"mat-icon",12),e._uU(2,"sell"),e.qZA(),e.TgZ(3,"span",13),e._UZ(4,"app-cost",18),e.qZA()()),2&r){const i=e.oxw(2);e.Udp("order",i.sections.cost),e.xp6(4),e.Q6J("cost",i.cost)("remaining",i.remainingCost)("borderLeft",!0)}}function ql(r,f){if(1&r&&(e.TgZ(0,"div",1)(1,"div",2)(2,"h2",3),e._uU(3),e.qZA()(),e.TgZ(4,"div",4)(5,"div",5),e.YNc(6,Ff,1,6,"div",6),e.YNc(7,Sd,11,10,"div",7),e.YNc(8,E_,5,5,"a",8),e.YNc(9,T_,5,5,"a",8),e.YNc(10,Bf,5,5,"div",9),e.YNc(11,_1,8,9,"a",8),e.YNc(12,M_,5,5,"div",7),e.qZA()()()),2&r){const i=e.oxw();e.xp6(3),e.Oqu(i.event.name),e.xp6(3),e.Q6J("ngIf",i.sections.img&&i.event.imageUrl),e.xp6(1),e.Q6J("ngIf",i.sections.date&&i.instance),e.xp6(1),e.Q6J("ngIf",i.sections.overview&&i.instance),e.xp6(1),e.Q6J("ngIf",i.sections.list),e.xp6(1),e.Q6J("ngIf",i.sections.checkin),e.xp6(1),e.Q6J("ngIf",i.sections.recent&&i.lastInstance),e.xp6(1),e.Q6J("ngIf",i.sections.cost&&i.cost)}}let Uf=(()=>{class r{constructor(){this.options={show:["img","list","recent"]},this.sections={},this.checkedIn=!1}ngOnInit(){this.updateSections(),this.updateEvent(),this.updateInstance()}ngOnChanges(i){i.options&&this.updateSections(),i.event&&this.updateEvent(),i.instance&&this.updateInstance()}checkin(){this.checkedIn=!this.checkedIn,this.checkedIn?localStorage.setItem(`event.checkin.${this.event?.guid}`,ao().tz().format("YYYY-MM-DD")):localStorage.removeItem(`event.checkin.${this.event?.guid}`)}updateEvent(){if(this.event?.instances){const i=ao()();this.lastInstance=this.event.instances.findLast(c=>De.O.isActive(c.date,c.endDate)),this.lastInstance??=this.event.instances.findLast(c=>c.date.isBefore(i))}this.updateCheckin()}updateCheckin(){const i=localStorage.getItem(`event.checkin.${this.event?.guid}`);if(i){const c=ao().tz(i,"YYYY-MM-DD",De.O.skyTimeZone);this.checkedIn=c.isSame(ao().tz(),"day")}}updateInstance(){if(this.cost=this.remainingCost=void 0,!this.instance)return;const i=this.instance.spirits.map(d=>Se.f.all(d.tree?.node)).flat();this.cost=Wi.T.add(Wi.T.create(),...i);const c=i.filter(d=>!d.unlocked&&!d.item?.unlocked);this.remainingCost=Wi.T.add(Wi.T.create(),...c)}updateSections(){this.sections={},this.options.show?.forEach((i,c)=>{this.sections[i]=c+2})}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-event-card"]],inputs:{event:"event",instance:"instance",options:"options"},features:[e.TTD],decls:1,vars:1,consts:[["class","sky-card p-rel",4,"ngIf"],[1,"sky-card","p-rel"],[1,"sky-card-header"],[1,"h3"],[1,"sky-card-body","event-body"],[1,"grid","grid-1"],["class","event-img sky-border-solid",3,"order","background-image","background-position",4,"ngIf"],["class","item",3,"order",4,"ngIf"],["class","item link",3,"routerLink","order",4,"ngIf"],["class","item checkin",3,"active","order","click",4,"ngIf"],[1,"event-img","sky-border-solid"],[1,"item"],[1,"menu-icon"],[1,"menu-label"],[1,"c-accent"],[3,"start","end"],[1,"item","link",3,"routerLink"],[1,"item","checkin",3,"click"],[3,"cost","remaining","borderLeft"]],template:function(c,d){1&c&&e.YNc(0,ql,13,8,"div",0),2&c&&e.Q6J("ngIf",d.event)},dependencies:[Q.O5,J.rH,W.Hw,Aa,$c,us],styles:[".event-img[_ngcontent-%COMP%]{box-shadow:0 0 8px 1px var(--color-image-inset) inset;border-radius:var(--border-radius);height:var(--img-preview-height);background-repeat:no-repeat;background-position:center;background-size:100%;max-width:960px}.checkin[_ngcontent-%COMP%]{cursor:pointer}.checkin[_ngcontent-%COMP%]:hover{color:var(--color-link-hover)}"],changeDetection:0})}return r})();const xa=function(){return["img","list","recent"]},rc=function(r){return{show:r}};function A_(r,f){1&r&&e._UZ(0,"app-event-card",9),2&r&&e.Q6J("event",f.$implicit)("options",e.VKq(3,rc,e.DdM(2,xa)))}function jf(r,f){1&r&&e._UZ(0,"app-event-card",9),2&r&&e.Q6J("event",f.$implicit)("options",e.VKq(3,rc,e.DdM(2,xa)))}const I_=function(){return{href:"https://sky-children-of-the-light.fandom.com/wiki/Special_Events"}};let x_=(()=>{class r{constructor(i){this._dataService=i,this.lastInstances={},this.eventMap={}}ngOnInit(){this.recurring=[],this.old=[],this._dataService.eventConfig.items.forEach(i=>{if(this.eventMap[i.guid]=i,i.recurring?this.recurring.push(i):this.old.push(i),i.instances){const c=[...i.instances],d=[...c].reverse(),D=ao()(),x=c.find(Y=>De.O.isActive(Y.date,Y.endDate))??d.find(Y=>Y.date.isBefore(D));this.lastInstances[i.guid]=x}}),this.old.sort((i,c)=>this.lastInstances[i.guid]?this.lastInstances[c.guid]?this.lastInstances[c.guid].date.diff(this.lastInstances[i.guid].date):-1:1)}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(He.D))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-events"]],decls:20,vars:4,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card-body"],[3,"wiki"],[1,"sky-card","mt"],[1,"h3"],[1,"grid","grid-4"],[3,"event","options",4,"ngFor","ngForOf"],[3,"event","options"]],template:function(c,d){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Events"),e.qZA()(),e.TgZ(4,"div",3),e._UZ(5,"app-wiki-link",4),e.qZA()(),e.TgZ(6,"div",5)(7,"div",1)(8,"h2",6),e._uU(9,"Recurring events"),e.qZA()(),e.TgZ(10,"div",3)(11,"div",7),e.YNc(12,A_,1,5,"app-event-card",8),e.qZA()()(),e.TgZ(13,"div",5)(14,"div",1)(15,"h2",6),e._uU(16,"Other events"),e.qZA()(),e.TgZ(17,"div",3)(18,"div",7),e.YNc(19,jf,1,5,"app-event-card",8),e.qZA()()()),2&c&&(e.xp6(5),e.Q6J("wiki",e.DdM(3,I_)),e.xp6(7),e.Q6J("ngForOf",d.recurring),e.xp6(7),e.Q6J("ngForOf",d.old))},dependencies:[Q.sg,Uf,fr]})}return r})();class sc{static getItemLink(f){return{route:["/item"],extras:{queryParams:{type:f.type,item:f.guid}}}}static getItemSource(f){if(f.nodes?.length||f.hiddenNodes?.length){const i=[...f.nodes||[],...f.hiddenNodes||[]];let c,d=ao()("2000-1-1");for(const ee of i){if(ee.unlocked){c=ee;break}const Oe=Se.f.getRoot(ee)?.spiritTree;if(!Oe)continue;const Fe=Oe?.eventInstanceSpirit?.eventInstance?Oe.eventInstanceSpirit.eventInstance.date:Oe?.ts?Oe.ts.date:Oe?.visit?Oe.visit.return.date:ao()("2000-1-2");Fe.diff(d)<0||(d=Fe,c=ee)}if(!c)return;const D=Se.f.getRoot(c)?.spiritTree,x={queryParams:{highlightItem:f.guid}},Y=D?.spirit??D?.ts?.spirit??D?.visit?.spirit;if(D?.eventInstanceSpirit)return{route:["/event-instance",D.eventInstanceSpirit.eventInstance.guid],extras:x};if(Y)return{route:["/spirit",Y.guid],extras:x}}else if(f.iaps?.length){const i=f.iaps.find(D=>D.bought)||f.iaps.find(D=>D?.shop?.permanent)||f.iaps.at(-1),c=i?.shop,d={queryParams:{highlightIap:i?.guid}};if(c?.permanent)return{route:["/shop"],extras:d};if(c?.event)return{route:["/event-instance",c.event.guid],extras:d};if(c?.season)return{route:["/season",c.season.guid],extras:d}}}static getPreviewLink(f){let i;switch(f.type){case"Hat":i="Hair_Accessories";break;case"Hair":i="Hair";break;case"Mask":i="Masks";break;case"FaceAccessory":i="Face_Accessories";break;case"Necklace":i="Necklaces";break;case"Outfit":i="Outfits";break;case"Shoes":i="Shoes";break;case"Cape":i="Capes";break;case"Instrument":case"Held":case"Prop":i="Props";break;default:i=""}if(!i)return"";const c=new URL(`https://sky-children-of-the-light.fandom.com/wiki/${i}`),d=Se.f.getRoot(f.nodes?.at(-1)??f.hiddenNodes?.at(-1))?.spiritTree,D=d?.spirit??d?.ts?.spirit??d?.visit?.spirit;return c.searchParams.append("tabber-active",D?D.name:f.name),c.hash="Held"===f.type||"Instrument"===f.type?"Held_Props_Display":"Prop"===f.type?"Placeable_Props_Display":"Display",c.toString()}static getQueryParams(f){const i=f instanceof URL?f:new URL(f),c={};for(const[d,D]of i.searchParams.entries())c[d]=D;return c}}const O_=["itemDiv"];function Id(r,f){1&r&&(e.TgZ(0,"div",32)(1,"div",33),e._UZ(2,"mat-icon",34),e.qZA()())}function v1(r,f){if(1&r){const i=e.EpF();e.ynx(0),e._UZ(1,"div",35),e.TgZ(2,"div",32)(3,"app-item",36),e.NdJ("click",function(d){const x=e.CHM(i).$implicit,Y=e.oxw(2);return e.KtG(Y.selectItem(d,x))}),e.qZA(),e.TgZ(4,"mat-icon",37),e._uU(5,"done"),e.qZA()(),e.BQk()}if(2&r){const i=f.$implicit,c=f.index,d=e.oxw(2);e.xp6(1),e.Udp("display",!d.columns||!c||(c+d.offsetNone)%d.columns?void 0:"block"),e.xp6(2),e.ekj("highlight",i&&i===d.selectedItem)("item-unlocked",i.unlocked&&(i.type!==d.typeEmote||i.level>=d.emoteLevels[i.name])),e.Q6J("item",i)("showSubIcons",!0)("ngbTooltip",i.name),e.xp6(1),e.ekj("self",i.type!==d.typeEmote||i.level>=d.emoteLevels[i.name])("unlocked",i.unlocked)}}function xd(r,f){if(1&r){const i=e.EpF();e.TgZ(0,"div",3)(1,"div",1)(2,"div",26),e._uU(3," You have unlocked "),e.TgZ(4,"b"),e._uU(5),e.qZA(),e._uU(6," out of "),e.TgZ(7,"b"),e._uU(8),e.qZA(),e._uU(9," items. "),e.TgZ(10,"div",27)(11,"mat-icon",28),e.NdJ("click",function(){e.CHM(i);const d=e.oxw();return e.KtG(d.setColumns())}),e._uU(12,"apps"),e.qZA()()()(),e.TgZ(13,"div",5)(14,"div",29),e.YNc(15,Id,3,0,"div",30),e.YNc(16,v1,6,13,"ng-container",31),e.qZA()()()}if(2&r){const i=e.oxw();e.xp6(4),e.ekj("completed",i.shownUnlocked==i.shownItems.length),e.xp6(1),e.Oqu(i.shownUnlocked),e.xp6(2),e.ekj("completed",i.shownUnlocked==i.shownItems.length),e.xp6(1),e.Oqu(i.shownItems.length),e.xp6(3),e.Q6J("ngbTooltip","Toggle column size"),e.xp6(3),e.ekj("gap-half-y",i.columns),e.xp6(1),e.Q6J("ngIf",i.showNone&&i.columns),e.xp6(1),e.Q6J("ngForOf",i.shownItems)}}function Hf(r,f){if(1&r&&(e.TgZ(0,"a",44)(1,"mat-icon",45),e._uU(2,"search"),e.qZA(),e.TgZ(3,"span",46),e._uU(4,"Find item"),e.qZA()()),2&r){const i=e.oxw(2);e.Q6J("routerLink",i.selectedItemNav.route)("queryParams",null==i.selectedItemNav.extras?null:i.selectedItemNav.extras.queryParams)}}function N_(r,f){if(1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",38),e._uU(3),e.qZA()(),e.TgZ(4,"div",5)(5,"div",39)(6,"a",40),e._UZ(7,"app-item",41),e.qZA(),e._UZ(8,"app-wiki-link",42),e.YNc(9,Hf,5,2,"a",43),e.qZA()()()),2&r){const i=e.oxw();e.xp6(3),e.Oqu(i.selectedItem.name),e.xp6(3),e.Q6J("routerLink",null==i.selectedItemNav?null:i.selectedItemNav.route)("queryParams",null==i.selectedItemNav||null==i.selectedItemNav.extras?null:i.selectedItemNav.extras.queryParams),e.xp6(1),e.Q6J("item",i.selectedItem)("large",!0)("highlight",!0)("hoverHighlight",!1),e.xp6(1),e.Q6J("wiki",i.selectedItem._wiki)("aClass","info-grid-find container"),e.xp6(1),e.Q6J("ngIf",i.selectedItemNav)}}function P_(r,f){if(1&r){const i=e.EpF();e.TgZ(0,"div",52),e.NdJ("click",function(){e.CHM(i);const d=e.oxw().$implicit,D=e.oxw(4);return e.KtG(D.openItem(d))}),e.TgZ(1,"div",53)(2,"div",54),e._UZ(3,"app-item",55),e.qZA(),e.TgZ(4,"div",56),e._UZ(5,"img",57)(6,"app-item-icons",58),e.qZA()()()}if(2&r){const i=e.oxw().$implicit,c=e.oxw(4);e.ekj("highlight",i&&i===c.selectedItem),e.Q6J("ngbTooltip",i.name),e.xp6(3),e.Q6J("item",i)("hoverHighlight",!1)("highlight",!0)("showSubIcons",!1),e.xp6(2),e.Q6J("src",i.previewUrl,e.LSH),e.xp6(1),e.Q6J("item",i)}}function Zf(r,f){if(1&r&&(e.ynx(0),e.YNc(1,P_,7,9,"div",51),e.BQk()),2&r){const i=f.$implicit;e.xp6(1),e.Q6J("ngIf",i.previewUrl)}}function k_(r,f){if(1&r&&(e.TgZ(0,"div",50),e.YNc(1,Zf,2,1,"ng-container",31),e.qZA()),2&r){const i=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",i.previewItems)}}function Vf(r,f){if(1&r&&(e.TgZ(0,"div",5),e.YNc(1,k_,2,1,"div",49),e.qZA()),2&r){const i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==i.previewItems?null:i.previewItems.length)}}function R_(r,f){if(1&r){const i=e.EpF();e.ynx(0),e.TgZ(1,"div",3)(2,"div",47),e.NdJ("click",function(){e.CHM(i);const d=e.oxw();return e.KtG(d.togglePreviews())}),e.TgZ(3,"h2",4),e._uU(4," Field guide "),e.TgZ(5,"mat-icon"),e._uU(6),e.qZA()()(),e.YNc(7,Vf,2,1,"div",48),e.qZA(),e.BQk()}if(2&r){const i=e.oxw();e.xp6(6),e.Oqu(i.showFieldGuide?"keyboard_arrow_up":"keyboard_arrow_down"),e.xp6(1),e.Q6J("ngIf",i.showFieldGuide)}}let F_=(()=>{class r{constructor(i,c,d){this._dataService=i,this._route=c,this._router=d,this.typeEmote=di.q.Emote,this._scrollToPreview=0,this.typeItems={},this.typeUnlocked={},this.emotes={},this.emoteLevels={},this.shownItems=[],this.previewItems=[],this.shownUnlocked=0,this.showFieldGuide=!1,this.showNone=!1,this.offsetNone=0,this.initializeItems(),this.columns=+localStorage.getItem("item.columns")||void 0,c.queryParamMap.subscribe(D=>{this.onQueryParamsChanged(D)})}ngAfterViewInit(){this._previewObserver=new IntersectionObserver(i=>{i.forEach(c=>{this._scrollToPreview=c.isIntersecting&&c.intersectionRatio>=.9?0:c.boundingClientRect.top>0?-1:1})},{threshold:[0,.1,.9,1]}),this._previewObserver.observe(this.itemDiv.nativeElement)}ngOnDestroy(){this._previewObserver?.disconnect()}onQueryParamsChanged(i){const c=i.get("type");this.type=c||di.q.Outfit,this.shownItems=this.typeItems[this.type]??[],this.shownUnlocked=this.typeUnlocked[this.type]??0,this.previewItems=this.shownItems.filter(D=>D.previewUrl),this.type===di.q.Emote&&(this.shownItems=Object.values(this.emotes),this.shownUnlocked=this.shownItems.filter(D=>D.unlocked&&D.level===this.emoteLevels[D.name]).length),this.showNone=this.type===di.q.Necklace||this.type===di.q.Hat||this.type===di.q.Held||this.type===di.q.Shoes||this.type===di.q.FaceAccessory,this.offsetNone=this.showNone?1:0;const d=i.get("item")||"";d&&(this.selectedItem=this._dataService.guidMap.get(d),this.selectedItemNav=this.selectedItem?sc.getItemSource(this.selectedItem):void 0),this.showFieldGuide="1"===i.get("fg")}setColumns(){switch(this.columns){case 3:this.columns=4;break;case 4:this.columns=5;break;case 5:this.columns=void 0;break;default:this.columns=3}localStorage.setItem("item.columns",`${this.columns||""}`)}selectCategory(i){const c=sc.getQueryParams(location.href);c.type=i,this.selectedItem?c.item=this.selectedItem.guid:delete c.item,this._router.navigate([],{queryParams:c,replaceUrl:!0})}togglePreviews(){this.showFieldGuide=!this.showFieldGuide;const i=new URL(location.href);i.searchParams.set("fg",this.showFieldGuide?"1":"0"),window.history.replaceState(window.history.state,"",i.pathname+i.search)}initializeItems(){this.typeItems={},this.typeUnlocked={};for(const c in di.q)this.typeItems[c]=[],this.typeUnlocked[c]=0;const i=(c,d)=>{this.typeItems[c].push(d),d.unlocked&&this.typeUnlocked[c]++};this.items=this._dataService.itemConfig.items.slice(),this.items.forEach(c=>{if("Emote"===c.type)return(!this.emoteLevels[c.name]||c.level>this.emoteLevels[c.name])&&(this.emoteLevels[c.name]=c.level),void((!this.emotes[c.name]||c.unlocked)&&(this.emotes[c.name]=c));i(c.type,c),c.type===di.q.Instrument&&i(di.q.Held,c)});for(const c in di.q)this.typeItems[c].sort((d,D)=>d.order-D.order)}selectItem(i,c){if(i.detail>1)return void this.openItem(c);const d=new URL(location.href);d.searchParams.set("type",`${this.type}`),d.searchParams.set("item",c.guid),window.history.replaceState(window.history.state,"",d.pathname+d.search),this.onQueryParamsChanged((0,J.AF)(sc.getQueryParams(d))),this._scrollToPreview&&setTimeout(()=>{this.itemDiv.nativeElement.scrollIntoView({behavior:"smooth",block:this._scrollToPreview>0?"start":"end"})},50)}openItem(i){const c=sc.getItemSource(i);c?this._router.navigate(c.route,c.extras):alert("Could not find item source.")}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(He.D),e.Y36(J.gz),e.Y36(J.F0))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-items"]],viewQuery:function(c,d){if(1&c&&e.Gf(O_,7),2&c){let D;e.iGM(D=e.CRH())&&(d.itemDiv=D.first)}},decls:41,vars:43,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card","mt"],[1,"h3","mb-0"],[1,"sky-card-body"],[1,"flex"],["container","body","placement","bottom",1,"item-icon","category",3,"ngbTooltip","click"],["svgIcon","outfit"],["svgIcon","shoes"],["svgIcon","mask"],["svgIcon","face-acc"],["svgIcon","necklace"],["svgIcon","hair"],["svgIcon","hat"],["svgIcon","cape"],["svgIcon","held"],["svgIcon","prop"],["svgIcon","emote"],["svgIcon","stance"],["svgIcon","call"],["class","sky-card mt",4,"ngIf"],[1,"grid","grid-1","item-info","mt",3,"hidden"],["itemDiv",""],["class","sky-card",4,"ngIf"],[4,"ngIf"],[1,"unlock-bar"],[1,"column-toggle"],["container","body","placement","left",3,"ngbTooltip","click"],[1,"flex","item-grid"],["class","item-icon",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"item-icon"],[1,"item-none"],["svgIcon","none",1,""],[1,"item-col-hr"],["container","body","placement","auto",1,"a",3,"item","showSubIcons","ngbTooltip","click"],[1,"unlock-check"],[1,"h3"],[1,"info-grid"],[1,"item-icon","item-icon-large","info-grid-icon","d-inline-block",3,"routerLink","queryParams"],[3,"item","large","highlight","hoverHighlight"],[3,"wiki","aClass"],["class","info-grid-find container",3,"routerLink","queryParams",4,"ngIf"],[1,"info-grid-find","container",3,"routerLink","queryParams"],[1,"menu-icon"],[1,"menu-label"],[1,"sky-card-header","header-previews",3,"click"],["class","sky-card-body",4,"ngIf"],["class","sky-flex flex-wrap",4,"ngIf"],[1,"sky-flex","flex-wrap"],["class","item-preview link","container","body","placement","auto",3,"highlight","ngbTooltip","click",4,"ngIf"],["container","body","placement","auto",1,"item-preview","link",3,"ngbTooltip","click"],[1,"pad"],[1,"item-preview-icon"],[3,"item","hoverHighlight","highlight","showSubIcons"],[1,"mt"],["loading","lazy",1,"preview-img",3,"src"],[3,"item"]],template:function(c,d){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Items"),e.qZA()()(),e.TgZ(4,"div",3)(5,"div",1)(6,"h2",4),e._uU(7,"Type"),e.qZA()(),e.TgZ(8,"div",5)(9,"div",6)(10,"div",7),e.NdJ("click",function(){return d.selectCategory("Outfit")}),e._UZ(11,"mat-icon",8),e.qZA(),e.TgZ(12,"div",7),e.NdJ("click",function(){return d.selectCategory("Shoes")}),e._UZ(13,"mat-icon",9),e.qZA(),e.TgZ(14,"div",7),e.NdJ("click",function(){return d.selectCategory("Mask")}),e._UZ(15,"mat-icon",10),e.qZA(),e.TgZ(16,"div",7),e.NdJ("click",function(){return d.selectCategory("FaceAccessory")}),e._UZ(17,"mat-icon",11),e.qZA(),e.TgZ(18,"div",7),e.NdJ("click",function(){return d.selectCategory("Necklace")}),e._UZ(19,"mat-icon",12),e.qZA(),e.TgZ(20,"div",7),e.NdJ("click",function(){return d.selectCategory("Hair")}),e._UZ(21,"mat-icon",13),e.qZA(),e.TgZ(22,"div",7),e.NdJ("click",function(){return d.selectCategory("Hat")}),e._UZ(23,"mat-icon",14),e.qZA(),e.TgZ(24,"div",7),e.NdJ("click",function(){return d.selectCategory("Cape")}),e._UZ(25,"mat-icon",15),e.qZA(),e.TgZ(26,"div",7),e.NdJ("click",function(){return d.selectCategory("Held")}),e._UZ(27,"mat-icon",16),e.qZA(),e.TgZ(28,"div",7),e.NdJ("click",function(){return d.selectCategory("Prop")}),e._UZ(29,"mat-icon",17),e.qZA(),e.TgZ(30,"div",7),e.NdJ("click",function(){return d.selectCategory("Emote")}),e._UZ(31,"mat-icon",18),e.qZA(),e.TgZ(32,"div",7),e.NdJ("click",function(){return d.selectCategory("Stance")}),e._UZ(33,"mat-icon",19),e.qZA(),e.TgZ(34,"div",7),e.NdJ("click",function(){return d.selectCategory("Call")}),e._UZ(35,"mat-icon",20),e.qZA()()()(),e.YNc(36,xd,17,11,"div",21),e.TgZ(37,"div",22,23),e.YNc(39,N_,10,10,"div",24),e.qZA(),e.YNc(40,R_,8,2,"ng-container",25)),2&c&&(e.xp6(10),e.ekj("highlight","Outfit"===d.type),e.Q6J("ngbTooltip","Outfits"),e.xp6(2),e.ekj("highlight","Shoes"===d.type),e.Q6J("ngbTooltip","Shoes"),e.xp6(2),e.ekj("highlight","Mask"===d.type),e.Q6J("ngbTooltip","Masks"),e.xp6(2),e.ekj("highlight","FaceAccessory"===d.type),e.Q6J("ngbTooltip","Face accessories"),e.xp6(2),e.ekj("highlight","Necklace"===d.type),e.Q6J("ngbTooltip","Necklaces"),e.xp6(2),e.ekj("highlight","Hair"===d.type),e.Q6J("ngbTooltip","Hair"),e.xp6(2),e.ekj("highlight","Hat"===d.type),e.Q6J("ngbTooltip","Hats"),e.xp6(2),e.ekj("highlight","Cape"===d.type),e.Q6J("ngbTooltip","Capes"),e.xp6(2),e.ekj("highlight","Held"===d.type),e.Q6J("ngbTooltip","Held props"),e.xp6(2),e.ekj("highlight","Prop"===d.type),e.Q6J("ngbTooltip","Props"),e.xp6(2),e.ekj("highlight","Emote"===d.type),e.Q6J("ngbTooltip","Emotes"),e.xp6(2),e.ekj("highlight","Stance"===d.type),e.Q6J("ngbTooltip","Stances"),e.xp6(2),e.ekj("highlight","Call"===d.type),e.Q6J("ngbTooltip","Calls"),e.xp6(2),e.Q6J("ngIf",null==d.shownItems?null:d.shownItems.length),e.xp6(1),e.Q6J("hidden",!d.selectedItem),e.xp6(2),e.Q6J("ngIf",d.selectedItem),e.xp6(1),e.Q6J("ngIf",null==d.previewItems?null:d.previewItems.length))},dependencies:[Q.sg,Q.O5,J.rH,Xo,W.Hw,Zc,_f,fr],styles:[".category[_ngcontent-%COMP%]{cursor:pointer;border:var(--border-solid)}.category.highlight[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-item-active)}.category[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-item);width:var(--item-size);height:var(--item-size)}.item-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(200px,1fr))}.item-grid.gap-half-y[_ngcontent-%COMP%]{row-gap:calc(var(--padding-content) / 2)}.column-toggle[_ngcontent-%COMP%]{position:absolute;top:0;right:0;cursor:pointer;z-index:2}.column-toggle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:top}.unlock-bar[_ngcontent-%COMP%]{position:relative}.item-unlocked[_ngcontent-%COMP%]{background-color:var(--color-unlock-check-background)}.completed[_ngcontent-%COMP%]{color:var(--color-new);font-weight:700}.header-previews[_ngcontent-%COMP%]{cursor:pointer}.header-previews[_ngcontent-%COMP%]:hover{color:var(--color-link-hover)}.header-previews[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:middle}.item-icon[_ngcontent-%COMP%]{position:relative;width:var(--item-size);height:var(--item-size);background:var(--color-background);border-radius:var(--border-radius)}.item-icon-large[_ngcontent-%COMP%]{width:var(--item-size-large);height:var(--item-size-large)}.item-col-hr[_ngcontent-%COMP%]{display:none;flex-basis:100%;height:0;margin:0;padding:0}.item-none[_ngcontent-%COMP%]{position:relative;width:var(--item-size);height:var(--item-size)}.item-none[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-item);width:100%;height:100%}app-item.a[_ngcontent-%COMP%]{cursor:pointer}.item-preview[_ngcontent-%COMP%]{position:relative;display:inline-block;background:var(--color-background);border-radius:var(--border-radius);border:var(--border-solid);overflow:hidden;min-width:128px;text-align:center}.item-preview-icon[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.preview-img[_ngcontent-%COMP%]{height:192px;max-height:192px;object-fit:scale-down}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-template-rows:1fr;grid-column-gap:8px;grid-row-gap:8px}.info-grid-icon[_ngcontent-%COMP%]{grid-area:1 / 1 / 3 / 2;border:var(--border-solid)}@media screen and (min-width: 720px){.info-grid[_ngcontent-%COMP%]{grid-template-columns:96px 1fr;grid-template-rows:repeat(2,44px)}.info-grid[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]:nth-child(n+4){grid-column:1 / 3}}"],changeDetection:0})}return r})();function y1(r,f){if(1&r&&e._UZ(0,"div",13),2&r){const i=e.oxw().$implicit;e.Udp("background-image","url("+i.imageUrl+")")("background-position",i.imagePosition||void 0)}}const $f=function(r){return["/realm",r]};function Gf(r,f){if(1&r&&(e.TgZ(0,"div",7)(1,"div",1)(2,"h2",8),e._uU(3),e.qZA()(),e.TgZ(4,"div",3),e.YNc(5,y1,1,4,"div",9),e.TgZ(6,"a",10)(7,"mat-icon",11),e._uU(8,"article"),e.qZA(),e.TgZ(9,"span",12),e._uU(10,"Overview"),e.qZA()()()()),2&r){const i=f.$implicit;e.xp6(3),e.Oqu(i.name),e.xp6(2),e.Q6J("ngIf",i.imageUrl),e.xp6(1),e.Q6J("routerLink",e.VKq(3,$f,i.guid))}}const zf=function(){return{href:"https://sky-children-of-the-light.fandom.com/wiki/Realms"}};let D1=(()=>{class r{constructor(i){this._dataService=i,this.realms=i.realmConfig.items,this.visibleRealms=this.realms.filter(c=>!c.hidden)}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(He.D))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-realms"]],decls:8,vars:3,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card-body"],[3,"wiki"],[1,"grid","grid-3","mt"],["class","sky-card p-rel",4,"ngFor","ngForOf"],[1,"sky-card","p-rel"],[1,"h3","mb-0"],["class","p-rel img sky-border-solid",3,"background-image","background-position",4,"ngIf"],[1,"item","link","mt",3,"routerLink"],[1,"menu-icon"],[1,"menu-label"],[1,"p-rel","img","sky-border-solid"]],template:function(c,d){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Realms"),e.qZA()(),e.TgZ(4,"div",3),e._UZ(5,"app-wiki-link",4),e.qZA()(),e.TgZ(6,"div",5),e.YNc(7,Gf,11,5,"div",6),e.qZA()),2&c&&(e.xp6(5),e.Q6J("wiki",e.DdM(2,zf)),e.xp6(2),e.Q6J("ngForOf",d.visibleRealms))},dependencies:[Q.sg,Q.O5,J.rH,W.Hw,fr],styles:[".img[_ngcontent-%COMP%]{box-shadow:0 0 16px 2px var(--color-image-inset) inset;border-radius:var(--border-radius);height:var(--img-preview-height);background-size:cover;background-position:bottom}"]})}return r})();function Od(r,f){if(1&r&&(e.TgZ(0,"span",3),e._uU(1," ("),e._UZ(2,"app-days-left",12),e._uU(3,") "),e.qZA()),2&r){const i=e.oxw();e.xp6(2),e.Q6J("start",i.season.date)("end",i.season.endDate)}}function aa(r,f){if(1&r&&(e.TgZ(0,"span",3),e._uU(1," ("),e._UZ(2,"app-days-left",12),e._uU(3,") "),e.qZA()),2&r){const i=e.oxw();e.xp6(2),e.Q6J("start",i.season.date)("end",i.season.endDate)}}function Nd(r,f){if(1&r&&(e.TgZ(0,"span",3),e._uU(1),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.hij("(",i.scLeft," needed)")}}function L_(r,f){if(1&r&&(e.TgZ(0,"span",3),e._uU(1),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.hij("(",i.shLeft," needed)")}}function b1(r,f){if(1&r&&e._UZ(0,"app-spirit-tree",22),2&r){const i=e.oxw();e.Q6J("tree",i.guide.tree)("name",i.guide.name)("highlight",i.highlightTree===i.guide.tree.guid)}}const B_=function(r){return["/spirit",r]},Pd=function(r){return{highlightTree:r}};function Rs(r,f){if(1&r&&(e.TgZ(0,"div",19)(1,"app-spirit-tree",22)(2,"div",25)(3,"a",26),e._uU(4),e.qZA()()()()),2&r){const i=e.oxw().$implicit,c=e.oxw(2);e.xp6(1),e.Q6J("tree",i.tree)("name",i.name)("highlight",c.highlightTree===i.tree.guid),e.xp6(2),e.Q6J("routerLink",e.VKq(6,B_,i.guid))("queryParams",e.VKq(8,Pd,i.tree.guid)),e.xp6(1),e.hij(" ",i.name," ")}}function Yf(r,f){if(1&r&&(e.ynx(0),e.YNc(1,Rs,5,10,"div",24),e.BQk()),2&r){const i=f.$implicit;e.xp6(1),e.Q6J("ngIf",i.tree)}}function U_(r,f){if(1&r&&(e.ynx(0),e.YNc(1,Yf,2,1,"ng-container",23),e.BQk()),2&r){const i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.spirits)}}function C1(r,f){1&r&&(e.TgZ(0,"span",39),e._uU(1,"Returning IAP"),e.qZA())}function Vo(r,f){1&r&&(e.TgZ(0,"span",40),e._uU(1,"New IAP"),e.qZA())}function j_(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const i=e.oxw(3).$implicit;e.xp6(1),e.Oqu(i.name)}}function kd(r,f){1&r&&(e.TgZ(0,"span"),e._uU(1,"Premium Candle Store"),e.qZA())}function H_(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const i=e.oxw(3).$implicit;let c;e.xp6(1),e.Oqu(null!==(c=i.name)&&void 0!==c?c:null==i.spirit?null:i.spirit.name)}}function Z_(r,f){if(1&r&&(e.ynx(0),e._UZ(1,"mat-icon",41),e.TgZ(2,"span",9),e._uU(3),e.qZA(),e.BQk()),2&r){const i=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngbTooltip","Regular candles"),e.xp6(2),e.hij(" ",i.c," ")}}function Rd(r,f){if(1&r&&(e.ynx(0),e._UZ(1,"mat-icon",42),e.TgZ(2,"span",9),e._uU(3),e.qZA(),e.BQk()),2&r){const i=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngbTooltip","Season candles"),e.xp6(2),e.hij(" ",i.sc," ")}}function Wf(r,f){if(1&r&&(e.ynx(0),e._UZ(1,"mat-icon",43),e.TgZ(2,"span",9),e._uU(3),e.qZA(),e.BQk()),2&r){const i=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngbTooltip","Gift Season Pass"),e.xp6(2),e.hij(" ",i.sp," ")}}function qf(r,f){if(1&r&&(e.TgZ(0,"div",34),e.YNc(1,Z_,4,2,"ng-container",21),e.YNc(2,Rd,4,2,"ng-container",21),e.YNc(3,Wf,4,2,"ng-container",21),e.qZA()),2&r){const i=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",i.c),e.xp6(1),e.Q6J("ngIf",i.sc),e.xp6(1),e.Q6J("ngIf",i.sp)}}function V_(r,f){if(1&r&&(e.ynx(0),e.TgZ(1,"span",48),e._uU(2),e.qZA(),e.BQk()),2&r){const i=e.oxw(2).$implicit;e.xp6(2),e.Oqu(i.name)}}function Jf(r,f){if(1&r&&e.YNc(0,V_,3,1,"ng-container",21),2&r){const i=e.oxw().$implicit;e.Q6J("ngIf",i)}}function Kf(r,f){if(1&r){const i=e.EpF();e.TgZ(0,"div",44),e.NdJ("click",function(d){e.CHM(i);const D=e.oxw().$implicit,x=e.oxw(4);return e.KtG(x.togglePurchased(d,D))}),e._UZ(1,"app-item",45),e.TgZ(2,"mat-icon",46),e._uU(3,"done"),e.qZA(),e.YNc(4,Jf,1,1,"ng-template",null,47,e.W1O),e.qZA()}if(2&r){const i=f.$implicit,c=e.MAs(5),d=e.oxw().$implicit;e.xp6(1),e.Q6J("item",i)("ngbTooltip",c),e.xp6(1),e.ekj("unlocked",null==i?null:i.unlocked)("self",d.bought)}}function $_(r,f){if(1&r&&(e.TgZ(0,"div",29)(1,"div",1)(2,"h3",30),e._uU(3),e.qZA()(),e.TgZ(4,"div",4)(5,"div",31)(6,"mat-icon",8),e._uU(7),e.qZA(),e.TgZ(8,"span",9),e.YNc(9,C1,2,0,"span",32),e.YNc(10,Vo,2,0,"span",33),e.qZA()(),e.TgZ(11,"div",34)(12,"mat-icon",8),e._uU(13,"location_on"),e.qZA(),e.TgZ(14,"span",9),e.YNc(15,j_,2,1,"span",21),e.YNc(16,kd,2,0,"span",21),e.YNc(17,H_,2,1,"span",21),e.qZA()(),e.TgZ(18,"div",34)(19,"mat-icon",8),e._uU(20,"attach_money"),e.qZA(),e.TgZ(21,"span",35),e._uU(22),e.qZA()(),e.YNc(23,qf,4,3,"div",36),e.TgZ(24,"div",37),e.YNc(25,Kf,6,6,"div",38),e.qZA()()()),2&r){const i=f.$implicit,c=e.oxw(2).$implicit,d=e.oxw(2);e.ekj("highlight",i.guid===d.highlightIap),e.xp6(2),e.Q6J("ngbTooltip",i.name),e.xp6(1),e.hij(" ",i.name," "),e.xp6(4),e.Oqu(i.returning?"undo":"grade"),e.xp6(2),e.Q6J("ngIf",i.returning),e.xp6(1),e.Q6J("ngIf",!i.returning),e.xp6(5),e.Q6J("ngIf",c.name),e.xp6(1),e.Q6J("ngIf",!c.name&&"Store"===c.type),e.xp6(1),e.Q6J("ngIf",!c.name&&"Store"!==c.type),e.xp6(4),e.Q6J("ngbTooltip","Price of the IAP in USD."),e.xp6(1),e.hij(" ",i.price," "),e.xp6(1),e.Q6J("ngIf",i.c||i.sc||i.sp),e.xp6(2),e.Q6J("ngForOf",i.items)}}function G_(r,f){if(1&r&&(e.ynx(0),e.YNc(1,$_,26,14,"div",28),e.BQk()),2&r){const i=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",i.iaps)}}function z_(r,f){if(1&r&&(e.ynx(0),e.YNc(1,G_,2,1,"ng-container",21),e.BQk()),2&r){const i=f.$implicit;e.xp6(1),e.Q6J("ngIf",null==i.iaps?null:i.iaps.length)}}function Qf(r,f){if(1&r&&(e.ynx(0),e.TgZ(1,"div",15)(2,"div",1)(3,"h2",16),e._uU(4,"In-App Purchases"),e.qZA()(),e.TgZ(5,"div",4)(6,"div",27),e.YNc(7,z_,2,1,"ng-container",23),e.qZA()()(),e.BQk()),2&r){const i=e.oxw();e.xp6(7),e.Q6J("ngForOf",i.shops)}}const ac=function(r){return{season:r,type:"Season,Guide"}};let Ys=(()=>{class r{constructor(i,c,d,D){this._dataService=i,this._eventService=c,this._iapService=d,this._route=D,this.spirits=[],this.shops=[],this.nodes=new Set,this.sc=0,this.scLeft=0,this.sh=0,this.shLeft=0,D.queryParamMap.subscribe(x=>this.onQueryChanged(x)),D.paramMap.subscribe(x=>this.onParamsChanged(x)),this.subscribeItemChanged()}ngOnDestroy(){this._itemSub?.unsubscribe()}subscribeItemChanged(){this._itemSub?.unsubscribe(),this._itemSub=this._eventService.itemToggled.subscribe(i=>this.onItemChanged())}onItemChanged(){this.calculateSc()}onQueryChanged(i){this.highlightIap=i.get("highlightIap")||void 0,this.highlightTree=i.get("highlightTree")||void 0}onParamsChanged(i){const c=i.get("guid");this.initializeSeason(c)}initializeSeason(i){this.season=this._dataService.guidMap.get(i),this.state=De.O.getStateFromPeriod(this.season.date,this.season.endDate),this.guide=void 0,this.spirits=[],this.season?.spirits?.forEach(c=>{switch(c.type){case"Guide":this.guide=c;break;case"Season":this.spirits.push(c)}}),this.shops=this.season.shops??[],this.calculateSc()}calculateSc(){this.sc=this.scLeft=this.sh=this.shLeft=0,[this.guide,...this.spirits].map(i=>i?.tree).forEach(i=>{i&&Se.f.all(i.node).forEach(c=>{this.sc+=c.sc||0,this.sh+=c.sh||0,!c.unlocked&&!c.item?.unlocked&&(this.scLeft+=c.sc||0,this.shLeft+=c.sh||0)})})}togglePurchased(i,c){this._iapService.togglePurchased(c)}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(He.D),e.Y36(Ye),e.Y36(Rt),e.Y36(J.gz))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-season"]],decls:50,vars:30,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"c-accent"],[1,"sky-card-body"],[1,"grid","grid-2"],[3,"wiki","aClass"],[1,"container",3,"routerLink","queryParams"],[1,"menu-icon"],[1,"menu-label"],[1,"container"],["class","c-accent",4,"ngIf"],[3,"start","end"],["svgIcon","season-candle",1,"menu-icon"],["svgIcon","season-heart",1,"menu-icon"],[1,"sky-card","mt"],[1,"h3"],[1,"sky-card-body","pad-0"],[1,"sky-flex","scroll-x","pad"],[1,"tree-wrapper"],[3,"tree","name","highlight",4,"ngIf"],[4,"ngIf"],[3,"tree","name","highlight"],[4,"ngFor","ngForOf"],["class","tree-wrapper",4,"ngIf"],["name",""],[3,"routerLink","queryParams"],[1,"grid","grid-4"],["class","sky-card p-rel",3,"highlight",4,"ngFor","ngForOf"],[1,"sky-card","p-rel"],["container","body",1,"h4",3,"ngbTooltip"],[1,"item"],["class","c-partial",4,"ngIf"],["class","c-full",4,"ngIf"],[1,"mt-half","item"],["container","body",1,"menu-label",3,"ngbTooltip"],["class","mt-half item",4,"ngIf"],[1,"mt-half","item","iap-items"],["class","iap-item point d-inline-block p-rel",3,"click",4,"ngFor","ngForOf"],[1,"c-partial"],[1,"c-full"],["svgIcon","candle","container","body","placement","right",1,"menu-icon",3,"ngbTooltip"],["svgIcon","season-candle","container","body","placement","right",1,"menu-icon",3,"ngbTooltip"],["svgIcon","gift","container","body","placement","right",1,"menu-icon","seasonal",3,"ngbTooltip"],[1,"iap-item","point","d-inline-block","p-rel",3,"click"],["placement","bottom","container","body",3,"item","ngbTooltip"],[1,"unlock-check"],["itemHover",""],[1,"ws-nw"]],template:function(c,d){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3),e.TgZ(4,"span",3),e._uU(5),e.qZA()()(),e.TgZ(6,"div",4)(7,"div",5),e._UZ(8,"app-wiki-link",6),e.TgZ(9,"a",7)(10,"mat-icon",8),e._uU(11,"list"),e.qZA(),e.TgZ(12,"span",9),e._uU(13," Spirits "),e.TgZ(14,"span",3),e._uU(15),e.qZA()()(),e.TgZ(16,"div",10)(17,"mat-icon",8),e._uU(18,"calendar_month"),e.qZA(),e.TgZ(19,"span",9),e._uU(20),e.ALo(21,"dayjs"),e.ALo(22,"dayjs"),e.YNc(23,Od,4,2,"span",11),e.qZA()(),e.TgZ(24,"div",10)(25,"mat-icon",8),e._uU(26,"schedule"),e.qZA(),e.TgZ(27,"span",9),e._UZ(28,"app-duration",12),e.YNc(29,aa,4,2,"span",11),e.qZA()(),e.TgZ(30,"div",10),e._UZ(31,"mat-icon",13),e.TgZ(32,"span",9),e._uU(33),e.YNc(34,Nd,2,1,"span",11),e.qZA()(),e.TgZ(35,"div",10),e._UZ(36,"mat-icon",14),e.TgZ(37,"span",9),e._uU(38),e.YNc(39,L_,2,1,"span",11),e.qZA()()()()(),e.TgZ(40,"div",15)(41,"div",1)(42,"h2",16),e._uU(43,"Spirits"),e.qZA()(),e.TgZ(44,"div",17)(45,"div",18)(46,"div",19),e.YNc(47,b1,1,3,"app-spirit-tree",20),e.qZA(),e.YNc(48,U_,2,1,"ng-container",21),e.qZA()()(),e.YNc(49,Qf,8,1,"ng-container",21)),2&c&&(e.xp6(3),e.hij("",d.season.name," "),e.xp6(2),e.hij("(#",d.season.number,")"),e.xp6(3),e.Q6J("wiki",d.season._wiki)("aClass","container"),e.xp6(1),e.Q6J("routerLink","/spirit")("queryParams",e.VKq(28,ac,d.season.guid)),e.xp6(6),e.hij("(",d.season.spirits.length-1,")"),e.xp6(1),e.ekj("expired","ended"===d.state),e.xp6(4),e.AsE(" ",e.lcZ(21,24,d.season.date)," to ",e.lcZ(22,26,d.season.endDate)," "),e.xp6(3),e.Q6J("ngIf","active"!==d.state),e.xp6(1),e.ekj("expired","ended"===d.state),e.xp6(4),e.Q6J("start",d.season.date)("end",d.season.endDate),e.xp6(1),e.Q6J("ngIf","active"===d.state),e.xp6(4),e.hij(" ",d.sc," season candles "),e.xp6(1),e.Q6J("ngIf",d.scLeft),e.xp6(4),e.hij(" ",d.sh," season hearts "),e.xp6(1),e.Q6J("ngIf",d.shLeft),e.xp6(8),e.Q6J("ngIf",null==d.guide?null:d.guide.tree),e.xp6(1),e.Q6J("ngIf",d.spirits),e.xp6(1),e.Q6J("ngIf",d.shops.length))},dependencies:[Q.sg,Q.O5,J.rH,Xo,W.Hw,Ma,Zc,Aa,Vl,fr,us],styles:["app-spirit-tree[_ngcontent-%COMP%]{vertical-align:bottom}.tree-wrapper[_ngcontent-%COMP%]{display:inline-block}"]})}return r})();function cc(r,f){if(1&r&&e._UZ(0,"div",12),2&r){const i=e.oxw(2);e.Udp("order",i.sections.img)("background-image","url("+i.season.imageUrl+")")("background-position",i.season.imagePosition||void 0)}}const Y_=function(r){return["/season",r]};function W_(r,f){if(1&r&&(e.TgZ(0,"a",13)(1,"mat-icon",14),e._uU(2,"article"),e.qZA(),e.TgZ(3,"span",15),e._uU(4,"Overview"),e.qZA()()),2&r){const i=e.oxw(2);e.Udp("order",i.sections.overview),e.Q6J("routerLink",e.VKq(3,Y_,i.season.guid))}}const Xf=function(r){return{season:r,type:"Season,Guide"}};function ep(r,f){if(1&r&&(e.TgZ(0,"a",16)(1,"mat-icon",14),e._uU(2,"list"),e.qZA(),e.TgZ(3,"span",15),e._uU(4,"Spirits "),e.TgZ(5,"span",17),e._uU(6),e.qZA()()()),2&r){const i=e.oxw(2);e.Udp("order",i.sections.spirits),e.Q6J("routerLink","/spirit")("queryParams",e.VKq(5,Xf,i.season.guid)),e.xp6(6),e.hij("(",i.season.spirits.length-1,")")}}function Fd(r,f){if(1&r&&(e.TgZ(0,"div",18)(1,"mat-icon",14),e._uU(2,"calendar_month"),e.qZA(),e.TgZ(3,"span",15),e._uU(4),e.ALo(5,"dayjs"),e.ALo(6,"dayjs"),e.TgZ(7,"span",17),e._uU(8," ("),e._UZ(9,"app-days-left",19),e._uU(10,") "),e.qZA()()()),2&r){const i=e.oxw(2);e.Udp("order",i.sections.date),e.xp6(4),e.AsE(" ",e.lcZ(5,6,i.season.date)," to ",e.lcZ(6,8,i.season.endDate)," "),e.xp6(5),e.Q6J("start",i.season.date)("end",i.season.endDate)}}function Jc(r,f){if(1&r){const i=e.EpF();e.TgZ(0,"div",20),e.NdJ("click",function(){e.CHM(i);const d=e.oxw(2);return e.KtG(d.checkin())}),e.TgZ(1,"mat-icon",14),e._uU(2),e.qZA(),e.TgZ(3,"span",15),e._uU(4," I have done my dailies. "),e.qZA()()}if(2&r){const i=e.oxw(2);e.Udp("order",i.sections.checkin),e.ekj("active",i.checkedIn),e.xp6(2),e.Oqu(i.checkedIn?"check_box":"check_box_outline_blank")}}function Jl(r,f){if(1&r&&(e.TgZ(0,"div",18)(1,"mat-icon",14),e._uU(2,"sell"),e.qZA(),e.TgZ(3,"span",15)(4,"div",21),e._UZ(5,"app-cost",22),e.qZA()()()),2&r){const i=e.oxw(2);e.Udp("order",i.sections.cost),e.xp6(5),e.Q6J("cost",i.cost)("remaining",i.remainingCost)("borderLeft",!0)}}function tp(r,f){if(1&r&&(e.TgZ(0,"div",1)(1,"div",2)(2,"h2",3),e._UZ(3,"img",4),e._uU(4),e.TgZ(5,"span",5),e._uU(6),e.qZA()()(),e.TgZ(7,"div",6),e.YNc(8,cc,1,6,"div",7),e.YNc(9,W_,5,5,"a",8),e.YNc(10,ep,7,7,"a",9),e.YNc(11,Fd,11,10,"div",10),e.YNc(12,Jc,5,5,"div",11),e.YNc(13,Jl,6,5,"div",10),e.qZA()()),2&r){const i=e.oxw();e.xp6(3),e.Q6J("src",i.season.iconUrl,e.LSH),e.xp6(1),e.hij(" ",i.season.name," "),e.xp6(2),e.hij("#",i.season.number,""),e.xp6(2),e.Q6J("ngIf",i.sections.img&&i.season.imageUrl),e.xp6(1),e.Q6J("ngIf",i.sections.overview),e.xp6(1),e.Q6J("ngIf",i.sections.spirits),e.xp6(1),e.Q6J("ngIf",i.sections.date),e.xp6(1),e.Q6J("ngIf",i.sections.checkin),e.xp6(1),e.Q6J("ngIf",i.sections.cost&&i.cost)}}let Ld=(()=>{class r{constructor(){this.options={show:["img","overview","spirits"]},this.sections={},this.checkedIn=!1}ngOnInit(){this.updateSections(),this.updateSeason()}ngOnChanges(i){i.options&&this.updateSections(),i.season&&this.updateSeason()}updateSeason(){if(this.cost=this.remainingCost=void 0,!this.season)return;const i=this.season.spirits.map(d=>Se.f.all(d.tree?.node)).flat();this.cost=Wi.T.add(Wi.T.create(),...i);const c=i.filter(d=>!d.unlocked&&!d.item?.unlocked);this.remainingCost=Wi.T.add(Wi.T.create(),...c),this.updateCheckin()}checkin(){this.checkedIn=!this.checkedIn,this.checkedIn?localStorage.setItem(`season.checkin.${this.season?.guid}`,ao().tz().format("YYYY-MM-DD")):localStorage.removeItem(`season.checkin.${this.season?.guid}`)}updateCheckin(){const i=localStorage.getItem(`season.checkin.${this.season?.guid}`);if(i){const c=ao().tz(i,"YYYY-MM-DD",De.O.skyTimeZone);this.checkedIn=c.isSame(ao().tz(),"day")}}updateSections(){this.sections={},this.options.show?.forEach((i,c)=>{this.sections[i]=c+2})}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-season-card"]],inputs:{season:"season",options:"options"},features:[e.TTD],decls:1,vars:1,consts:[["class","sky-card p-rel",4,"ngIf"],[1,"sky-card","p-rel"],[1,"sky-card-header"],[1,"h3","mb-0"],[1,"season-icon",3,"src"],[1,"h5","c-accent","number"],[1,"sky-card-body","grid","grid-1"],["class","season-img sky-border-solid",3,"order","background-image","background-position",4,"ngIf"],["class","item link",3,"routerLink","order",4,"ngIf"],["class","item link",3,"routerLink","queryParams","order",4,"ngIf"],["class","item",3,"order",4,"ngIf"],["class","item checkin",3,"active","order","click",4,"ngIf"],[1,"season-img","sky-border-solid"],[1,"item","link",3,"routerLink"],[1,"menu-icon"],[1,"menu-label"],[1,"item","link",3,"routerLink","queryParams"],[1,"c-accent"],[1,"item"],[3,"start","end"],[1,"item","checkin",3,"click"],[1,"d-inline-block"],[3,"cost","remaining","borderLeft"]],template:function(c,d){1&c&&e.YNc(0,tp,14,9,"div",0),2&c&&e.Q6J("ngIf",d.season)},dependencies:[Q.O5,J.rH,W.Hw,Aa,$c,us],styles:[".season-icon[_ngcontent-%COMP%]{width:var(--item-size-small);height:var(--item-size-small)}.season-img[_ngcontent-%COMP%]{box-shadow:0 0 16px 2px var(--color-image-inset) inset;border-radius:var(--border-radius);height:var(--img-preview-height);background-repeat:no-repeat;background-position:center;background-size:100%}.checkin[_ngcontent-%COMP%]{cursor:pointer}.checkin[_ngcontent-%COMP%]:hover{color:var(--color-link-hover)}"],changeDetection:0})}return r})();const q_=function(r){return["/season",r]};function J_(r,f){if(1&r&&(e.TgZ(0,"a",8),e._UZ(1,"img",9),e.qZA()),2&r){const i=f.$implicit;e.Q6J("routerLink",e.VKq(3,q_,i.guid))("ngbTooltip",i.name),e.xp6(1),e.Q6J("src",i.iconUrl,e.LSH)}}function K_(r,f){1&r&&e._UZ(0,"app-season-card",14),2&r&&e.Q6J("season",f.$implicit)}function Q_(r,f){if(1&r&&(e.ynx(0),e.TgZ(1,"div",10)(2,"div",1)(3,"h2",11),e._uU(4),e.qZA()(),e.TgZ(5,"div",3)(6,"div",12),e.YNc(7,K_,1,1,"app-season-card",13),e.qZA()()(),e.BQk()),2&r){const i=f.$implicit,c=e.oxw();e.xp6(4),e.Oqu(i),e.xp6(3),e.Q6J("ngForOf",c.yearMap[i])}}const w1=function(){return{href:"https://sky-children-of-the-light.fandom.com/wiki/Seasonal_Events"}};let X_=(()=>{class r{constructor(i){this._dataService=i,this.years=[],this.seasons=i.seasonConfig.items,this.reverseSeasons=this.seasons.slice().reverse()}ngOnInit(){let i=this.seasons.at(-1).year+1;this.yearMap={};for(let c=this.seasons.length-1;c>=0;c--){const d=this.seasons[c];!this.currentSeason&&De.O.isActive(d.date,d.endDate)&&(this.currentSeason=d),d.year<i&&(i=d.year,this.years.push(i),this.yearMap[i]=[]),this.yearMap[i].push(d)}}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(He.D))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-seasons"]],decls:9,vars:4,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2"],[1,"sky-card-body"],[3,"wiki"],[1,"flex","mt"],["class","item-icon","placement","bottom","container","body",3,"routerLink","ngbTooltip",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["placement","bottom","container","body",1,"item-icon",3,"routerLink","ngbTooltip"],[1,"season-icon",3,"src"],[1,"sky-card","mt"],[1,"h3"],[1,"grid","grid-2"],[3,"season",4,"ngFor","ngForOf"],[3,"season"]],template:function(c,d){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Seasons"),e.qZA()(),e.TgZ(4,"div",3),e._UZ(5,"app-wiki-link",4),e.TgZ(6,"div",5),e.YNc(7,J_,2,5,"a",6),e.qZA()()(),e.YNc(8,Q_,8,2,"ng-container",7)),2&c&&(e.xp6(5),e.Q6J("wiki",e.DdM(3,w1)),e.xp6(2),e.Q6J("ngForOf",d.reverseSeasons),e.xp6(1),e.Q6J("ngForOf",d.years))},dependencies:[Q.sg,J.rH,Xo,Ld,fr],styles:[".season-icon[_ngcontent-%COMP%]{width:var(--item-size);height:var(--item-size)}.season-icon-small[_ngcontent-%COMP%]{width:var(--item-size-small);height:var(--item-size-small)}.img[_ngcontent-%COMP%]{box-shadow:0 0 16px 2px var(--color-image-inset) inset;border-radius:var(--border-radius);height:var(--img-preview-height);background-repeat:no-repeat;background-position:center;background-size:100%}.item-icon[_ngcontent-%COMP%]{position:relative;width:var(--item-size);height:var(--item-size);background:var(--color-background);border-radius:var(--border-radius)}"]})}return r})(),ev=(()=>{class r{transform(i){switch(i){case"Regular":return"Regular Spirit";case"Elder":return"Elder Spirit";case"Guide":return"Season Guide";case"Season":return"Seasonal Spirit";case"Event":return"Event Spirit";case"Special":return"Special Spirit";default:return""}}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275pipe=e.Yjl({name:"spiritType",type:r,pure:!0})}return r})();function E1(r,f){1&r&&e._UZ(0,"mat-icon",3),2&r&&e.Q6J("svgIcon","candle")("ngbTooltip","Regular Spirit")}function ip(r,f){1&r&&e._UZ(0,"mat-icon",3),2&r&&e.Q6J("svgIcon","candle")("ngbTooltip","Special Spirit")}function op(r,f){1&r&&e._UZ(0,"mat-icon",3),2&r&&e.Q6J("svgIcon","ascended-candle")("ngbTooltip","Elder Spirit")}function T1(r,f){1&r&&e._UZ(0,"mat-icon",3),2&r&&e.Q6J("svgIcon","season-heart")("ngbTooltip","Season Guide")}function Kl(r,f){1&r&&e._UZ(0,"mat-icon",3),2&r&&e.Q6J("svgIcon","season-candle")("ngbTooltip","Seasonal Spirit")}function M1(r,f){1&r&&e._UZ(0,"span")}let Oa=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-spirit-type-icon"]],inputs:{type:"type"},decls:7,vars:6,consts:[[3,"ngSwitch"],["container","body","placement","bottom",3,"svgIcon","ngbTooltip",4,"ngSwitchCase"],[4,"ngSwitchDefault"],["container","body","placement","bottom",3,"svgIcon","ngbTooltip"]],template:function(c,d){1&c&&(e.ynx(0,0),e.YNc(1,E1,1,2,"mat-icon",1),e.YNc(2,ip,1,2,"mat-icon",1),e.YNc(3,op,1,2,"mat-icon",1),e.YNc(4,T1,1,2,"mat-icon",1),e.YNc(5,Kl,1,2,"mat-icon",1),e.YNc(6,M1,1,0,"span",2),e.BQk()),2&c&&(e.Q6J("ngSwitch",d.type),e.xp6(1),e.Q6J("ngSwitchCase","Regular"),e.xp6(1),e.Q6J("ngSwitchCase","Special"),e.xp6(1),e.Q6J("ngSwitchCase","Elder"),e.xp6(1),e.Q6J("ngSwitchCase","Guide"),e.xp6(1),e.Q6J("ngSwitchCase","Season"))},dependencies:[Q.RF,Q.n9,Q.ED,Xo,W.Hw],changeDetection:0})}return r})();function rp(r,f){if(1&r&&(e.TgZ(0,"div",18),e._UZ(1,"img",19),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.Q6J("src",i.spirit.imageUrl,e.LSH)("alt",i.spirit.name)}}function tv(r,f){if(1&r&&e._UZ(0,"img",24),2&r){const i=e.oxw(2);e.Q6J("src",i.spirit.season.iconUrl,e.LSH)}}function sp(r,f){1&r&&(e.TgZ(0,"mat-icon"),e._uU(1,"ac_unit"),e.qZA())}const ap=function(r){return["/season",r]},Pn=function(r){return{highlightTree:r}};function cp(r,f){if(1&r&&(e.TgZ(0,"a",20),e.YNc(1,tv,1,1,"img",21),e.YNc(2,sp,2,0,"ng-template",null,22,e.W1O),e.TgZ(4,"span",23),e._uU(5),e.qZA()()),2&r){const i=e.MAs(3),c=e.oxw();e.Q6J("routerLink",e.VKq(5,ap,null==c.spirit.season?null:c.spirit.season.guid))("queryParams",e.VKq(7,Pn,null==c.spirit.tree?null:c.spirit.tree.guid)),e.xp6(1),e.Q6J("ngIf",null==c.spirit.season?null:c.spirit.season.iconUrl)("ngIfElse",i),e.xp6(4),e.hij(" ",null==c.spirit.season?null:c.spirit.season.name," ")}}const lp=function(r){return["/event",r]};function lc(r,f){if(1&r&&(e.TgZ(0,"a",27),e._uU(1),e.qZA()),2&r){const i=e.oxw(2);e.Q6J("routerLink",e.VKq(2,lp,i.event.guid)),e.xp6(1),e.hij(" ",i.event.name," ")}}function up(r,f){if(1&r&&(e.TgZ(0,"div",25)(1,"mat-icon"),e._uU(2,"event"),e.qZA(),e.YNc(3,lc,2,4,"a",26),e.qZA()),2&r){const i=e.oxw();e.xp6(3),e.Q6J("ngIf",i.event)}}function nv(r,f){1&r&&(e.TgZ(0,"span",23),e._uU(1," Regular Spirit "),e.qZA())}function Ql(r,f){if(1&r&&(e.TgZ(0,"span",23),e._uU(1),e.qZA()),2&r){const i=e.oxw(2);e.xp6(1),e.hij(" ",i.spirit.type," ")}}const uc=function(){return["/spirit"]},Bd=function(r){return{type:r}};function Kc(r,f){if(1&r&&(e.TgZ(0,"a",20)(1,"mat-icon"),e._uU(2,"person"),e.qZA(),e.YNc(3,nv,2,0,"span",28),e.YNc(4,Ql,2,1,"span",28),e.qZA()),2&r){const i=e.oxw();e.Q6J("routerLink",e.DdM(4,uc))("queryParams",e.VKq(5,Bd,i.spirit.type)),e.xp6(3),e.Q6J("ngIf","Regular"===i.spirit.type),e.xp6(1),e.Q6J("ngIf","Elder"===i.spirit.type||"Special"===i.spirit.type)}}const dp=function(r){return["/realm",r]};function Ud(r,f){if(1&r&&(e.TgZ(0,"div",25)(1,"mat-icon"),e._uU(2,"map"),e.qZA(),e.TgZ(3,"a",29),e._uU(4),e.qZA()()),2&r){const i=e.oxw();e.xp6(3),e.Q6J("routerLink",e.VKq(3,dp,i.spirit.area.realm.guid))("queryParams",e.VKq(5,Pn,null==i.spirit.tree?null:i.spirit.tree.guid)),e.xp6(1),e.hij(" ",i.spirit.area.realm.name," ")}}function jd(r,f){if(1&r&&(e.TgZ(0,"div",25)(1,"mat-icon"),e._uU(2,"location_on"),e.qZA(),e.TgZ(3,"span",23),e._uU(4),e.qZA()()),2&r){const i=e.oxw();e.xp6(4),e.hij(" ",i.spirit.area.name," ")}}function Hd(r,f){if(1&r&&(e.TgZ(0,"div",30),e._UZ(1,"app-spirit-tree",31),e.qZA()),2&r){const i=f.$implicit,c=e.oxw();e.xp6(1),e.Q6J("tree",i.tree)("name",i.name)("highlight",c.highlightTree===i.tree.guid)("highlightItem",c.highlightItem)}}let hp=(()=>{class r{constructor(i,c){this._dataService=i,this._route=c,this.trees=[],c.queryParamMap.subscribe(d=>this.onQueryChanged(d)),c.paramMap.subscribe(d=>this.onParamsChanged(d))}onQueryChanged(i){this.highlightTree=i.get("highlightTree")||void 0,this.highlightItem=i.get("highlightItem")||void 0}onParamsChanged(i){const c=i.get("guid");this.spirit=this._dataService.guidMap.get(c),this.typeName=(new ev).transform(this.spirit.type),this.event=this.spirit?.events?.at(-1)?.eventInstance?.event,this.trees=[];const d=(this.spirit.ts||[]).map(Y=>({date:Y.date,name:"Traveling Spirit #"+Y.number,tree:Y.tree})),D=(this.spirit.returns||[]).map((Y,ee)=>({date:Y.return.date,name:Y.return.name||"Visit #"+(ee+1),tree:Y.tree})),x=d.concat(D);x.sort((Y,ee)=>ee.date.diff(Y.date)),this.trees=x,this.spirit.tree&&this.trees.push({name:"Spirit tree",tree:this.spirit.tree})}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(He.D),e.Y36(J.gz))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-spirit"]],decls:26,vars:11,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2"],[1,"sky-card","mt"],[1,"h3"],[3,"type"],[1,"sky-card-body"],[1,"spirit-grid"],[1,"spirit-grid-img","spirit-grid-item","sky-card-item"],["class","spirit-img",4,"ngIf"],[3,"wiki","aClass"],["class","spirit-grid-item sky-card-item sky-card-item-icon",3,"routerLink","queryParams",4,"ngIf"],["class","spirit-grid-item sky-card-item sky-card-item-icon",4,"ngIf"],[1,"sky-card","mt","spirit-trees"],[1,"h3","mb-0"],[1,"sky-card-body","pad-0"],[1,"sky-flex","scroll-x","pad"],["class","tree-wrapper p-inline-block",4,"ngFor","ngForOf"],[1,"spirit-img"],[3,"src","alt"],[1,"spirit-grid-item","sky-card-item","sky-card-item-icon",3,"routerLink","queryParams"],["class","icon",3,"src",4,"ngIf","ngIfElse"],["seasonIcon",""],[1,"menu-label"],[1,"icon",3,"src"],[1,"spirit-grid-item","sky-card-item","sky-card-item-icon"],["class","menu-label",3,"routerLink",4,"ngIf"],[1,"menu-label",3,"routerLink"],["class","menu-label",4,"ngIf"],[1,"menu-label",3,"routerLink","queryParams"],[1,"tree-wrapper","p-inline-block"],[3,"tree","name","highlight","highlightItem"]],template:function(c,d){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Spirit"),e.qZA()()(),e.TgZ(4,"div",3)(5,"div",1)(6,"h2",4),e._UZ(7,"app-spirit-type-icon",5),e._uU(8),e.qZA()(),e.TgZ(9,"div",6)(10,"div",7)(11,"div",8),e.YNc(12,rp,2,2,"div",9),e.qZA(),e._UZ(13,"app-wiki-link",10),e.YNc(14,cp,6,9,"a",11),e.YNc(15,up,4,1,"div",12),e.YNc(16,Kc,5,7,"a",11),e.YNc(17,Ud,5,7,"div",12),e.YNc(18,jd,5,1,"div",12),e.qZA()()(),e.TgZ(19,"div",13)(20,"div",1)(21,"h2",14),e._uU(22,"Spirit tree"),e.qZA()(),e.TgZ(23,"div",15)(24,"div",16),e.YNc(25,Hd,2,4,"div",17),e.qZA()()()),2&c&&(e.xp6(7),e.Q6J("type",d.spirit.type),e.xp6(1),e.hij(" ",d.spirit.name," "),e.xp6(4),e.Q6J("ngIf",d.spirit.imageUrl),e.xp6(1),e.Q6J("wiki",d.spirit._wiki)("aClass","spirit-grid-item sky-card-item sky-card-item-icon"),e.xp6(1),e.Q6J("ngIf","Season"===d.spirit.type||"Guide"===d.spirit.type),e.xp6(1),e.Q6J("ngIf","Event"===d.spirit.type),e.xp6(1),e.Q6J("ngIf","Regular"===d.spirit.type||"Elder"===d.spirit.type||"Special"===d.spirit.type),e.xp6(1),e.Q6J("ngIf",null==d.spirit.area?null:d.spirit.area.realm),e.xp6(1),e.Q6J("ngIf",d.spirit.area),e.xp6(7),e.Q6J("ngForOf",d.trees))},dependencies:[Q.sg,Q.O5,J.rH,W.Hw,Ma,Oa,fr],styles:[".tree-wrapper[_ngcontent-%COMP%]   app-spirit-tree[_ngcontent-%COMP%]{vertical-align:bottom}.spirit-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:var(--border-radius);padding:5px 0;width:auto;height:192px;max-height:192px}.spirit-trees[_ngcontent-%COMP%]{max-width:100%}.spirit-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-template-rows:1fr;gap:8px}.spirit-grid-img[_ngcontent-%COMP%]{grid-area:1 / 1 / 2 / 2;width:100%;height:100%;padding-top:0;padding-bottom:0}.spirit-grid-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.spirit-img[_ngcontent-%COMP%]{width:auto;height:208px}.spirit-grid-item[_ngcontent-%COMP%]{width:100%;overflow:auto;border:var(--border-solid)}@media screen and (min-width: 720px){.spirit-grid[_ngcontent-%COMP%]{grid-template-columns:160px 1fr;grid-template-rows:46px}.spirit-grid-img[_ngcontent-%COMP%]{grid-area:1 / 1 / 5 / 2}.spirit-grid-item[_ngcontent-%COMP%]:nth-child(n+6){grid-column:1 / 3}}"]})}return r})();class Zd{static union(...f){const i=new Set;return f.forEach(c=>c.forEach(d=>i.add(d))),Array.from(i)}static intersection(...f){const i=new Map;for(const d of f)for(const D of d)i.set(D,(i.get(D)||0)+1);const c=[];return i.forEach((d,D)=>{d<f.length||c.push(D)}),c}}class iv{static getTrees(f){const i=[];f.ts?.forEach(d=>{i.push({date:d.date,tree:d.tree})}),f.returns?.forEach(d=>{i.push({date:d.return.date,tree:d.tree})}),i.sort((d,D)=>d.date.diff(D.date));const c=[];return f.tree&&c.push(f.tree),c.push(...i.map(d=>d.tree)),c}}function ov(r,f){1&r&&e._uU(0,"Spirit")}function rv(r,f){1&r&&e._uU(0,"Type")}function fp(r,f){1&r&&e._uU(0,"Location")}function sv(r,f){1&r&&e._uU(0,"Unlocked")}const pp=function(r){return["/spirit",r]};function av(r,f){if(1&r&&(e.TgZ(0,"a",16),e._uU(1),e.qZA()),2&r){const i=f.row;e.Q6J("routerLink",e.VKq(2,pp,i.guid)),e.xp6(1),e.Oqu(i.name)}}function cv(r,f){1&r&&e._UZ(0,"app-spirit-type-icon",17),2&r&&e.Q6J("type",f.row.type)}function gp(r,f){if(1&r&&(e.TgZ(0,"a",16),e._uU(1),e.qZA()),2&r){const i=f.row;e.Q6J("routerLink",void 0),e.xp6(1),e.hij(" ",null==i.area?null:i.area.name," ")}}function mp(r,f){if(1&r&&(e.TgZ(0,"span",19),e._uU(1),e.qZA()),2&r){const i=e.oxw().row;e.ekj("partial",i.unlockedLast&&i.unlockedLast===i.totalLast||(i.unlockedFree||i.totalPass)&&i.unlockedFree===i.totalFree)("completed",i.unlockedItems===i.totalItems),e.Q6J("ngbTooltip",i.unlockTooltip),e.xp6(1),e.AsE(" ",i.unlockedItems," / ",i.totalItems," ")}}function lv(r,f){1&r&&e.YNc(0,mp,2,7,"span",18),2&r&&e.Q6J("ngIf",f.row.totalItems)}function uv(r,f){1&r&&e._uU(0,"Total:")}function es(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const i=e.oxw(2);e.ekj("completed",i.unlockedItems===i.totalItems),e.xp6(1),e.AsE("",i.unlockedItems," / ",i.totalItems,"")}}function dv(r,f){if(1&r&&(e.TgZ(0,"div",10)(1,"div",4)(2,"app-table",11),e.YNc(3,ov,1,0,"ng-template",12),e.YNc(4,rv,1,0,"ng-template",12),e.YNc(5,fp,1,0,"ng-template",12),e.YNc(6,sv,1,0,"ng-template",12),e.YNc(7,av,2,4,"ng-template",13),e.YNc(8,cv,1,1,"ng-template",13),e.YNc(9,gp,2,2,"ng-template",13),e.YNc(10,lv,1,1,"ng-template",13),e.YNc(11,uv,1,0,"ng-template",14),e.YNc(12,es,2,4,"ng-template",15),e.qZA()()()),2&r){const i=e.oxw();e.xp6(2),e.Q6J("rows",i.rows),e.xp6(9),e.Q6J("colspan",3)("textAlign","right")}}function hv(r,f){if(1&r&&(e.TgZ(0,"div",31),e._UZ(1,"img",32),e.qZA()),2&r){const i=e.oxw().$implicit;e.xp6(1),e.Q6J("src",i.imageUrl,e.LSH)}}function A1(r,f){if(1&r&&(e.TgZ(0,"span",33),e._uU(1),e.qZA()),2&r){const i=e.oxw().$implicit;e.ekj("partial",i.unlockedLast&&i.unlockedLast===i.totalLast||(i.unlockedFree||i.totalPass)&&i.unlockedFree===i.totalFree)("completed",i.unlockedItems===i.totalItems),e.Q6J("ngbTooltip",i.unlockTooltip),e.xp6(1),e.AsE(" ",i.unlockedItems," / ",i.totalItems," ")}}function Vd(r,f){if(1&r&&(e.TgZ(0,"div",22)(1,"div",1)(2,"h2",23),e._UZ(3,"app-spirit-type-icon",17),e._uU(4),e.qZA()(),e.TgZ(5,"div",4),e.YNc(6,hv,2,1,"div",24),e.TgZ(7,"a",25)(8,"mat-icon",26),e._uU(9,"list"),e.qZA(),e.TgZ(10,"span",27),e._uU(11,"Information"),e.qZA()(),e.TgZ(12,"div",28)(13,"mat-icon",26),e._uU(14,"lock_open"),e.qZA(),e.TgZ(15,"div",29),e.YNc(16,A1,2,7,"span",30),e.qZA()()()()),2&r){const i=f.$implicit;e.xp6(3),e.Q6J("type",i.type),e.xp6(1),e.hij(" ",i.name," "),e.xp6(2),e.Q6J("ngIf",i.imageUrl),e.xp6(1),e.Q6J("routerLink",e.VKq(5,pp,i.guid)),e.xp6(9),e.Q6J("ngIf",i.totalItems)}}function _p(r,f){if(1&r&&(e.TgZ(0,"div",20),e.YNc(1,Vd,17,7,"div",21),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.rows)}}function fv(r,f){1&r&&e._UZ(0,"mat-icon",37),2&r&&e.Q6J("svgIcon","ascended-candle")("ngbTooltip","Elder Spirit")}function pv(r,f){1&r&&e._UZ(0,"mat-icon",37),2&r&&e.Q6J("svgIcon","season-heart")("ngbTooltip","Season Guide")}function gv(r,f){1&r&&e._UZ(0,"mat-icon",37),2&r&&e.Q6J("svgIcon","candle")("ngbTooltip","Regular Spirit")}function vp(r,f){1&r&&e._UZ(0,"mat-icon",37),2&r&&e.Q6J("svgIcon","season-candle")("ngbTooltip","Season Spirit")}function mv(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const i=e.oxw().row;e.xp6(1),e.Oqu(i.type)}}function _v(r,f){1&r&&(e.ynx(0,34),e.YNc(1,fv,1,2,"mat-icon",35),e.YNc(2,pv,1,2,"mat-icon",35),e.YNc(3,gv,1,2,"mat-icon",35),e.YNc(4,vp,1,2,"mat-icon",35),e.YNc(5,mv,2,1,"span",36),e.BQk()),2&r&&(e.Q6J("ngSwitch",f.row.type),e.xp6(1),e.Q6J("ngSwitchCase","Elder"),e.xp6(1),e.Q6J("ngSwitchCase","Guide"),e.xp6(1),e.Q6J("ngSwitchCase","Regular"),e.xp6(1),e.Q6J("ngSwitchCase","Season"))}let $d=(()=>{class r{constructor(i,c,d){this._dataService=i,this._changeDetectorRef=c,this._route=d,this.mode="cards",this.spirits=[],this.spiritTrees={},this.rows=[],this.unlockedItems=0,this.totalItems=0,this.mode=localStorage.getItem("spirits.mode")||"grid",d.queryParamMap.subscribe(D=>{this.onQueryChanged(D)})}changeMode(){this.mode="grid"===this.mode?"cards":"grid",localStorage.setItem("spirits.mode",this.mode)}onQueryChanged(i){this.spirits=[],this.spiritTrees={};const c=i.get("type"),d=c?new Set(c.split(",")):void 0,x=[],Y=i.get("realm"),ee=Y?this._dataService.guidMap.get(Y):void 0;if(ee){const bt=new Set(ee.areas?.flatMap(Bn=>Bn.spirits||[])||[]),Zt=this._dataService.spiritConfig.items.filter(Bn=>bt.has(Bn));x.push(Zt)}const Oe=i.get("season"),Fe=Oe?this._dataService.guidMap.get(Oe):void 0;Fe&&x.push(Fe.spirits||[]);let Nt=x.length?Zd.intersection(...x):this._dataService.spiritConfig.items;switch(Nt=d?Nt.filter(bt=>d.has(bt.type)):Nt,Nt.forEach(bt=>(this.spirits.push(bt),this.spiritTrees[bt.guid]=iv.getTrees(bt),!0)),i.get("sort")){case"age-asc":this.sortAge(1);break;case"age-desc":this.sortAge(-1);break;case"name-asc":this.sortName()}this.initTable()}initTable(){this.unlockedItems=0,this.totalItems=0,this.rows=this.spirits.map(i=>{let c=0,d=0;const D=this.spiritTrees[i.guid],x=new Set;D.forEach(un=>{Se.f.getItems(un.node).forEach(an=>{x.has(an)||(x.add(an),an.unlocked&&c++,d++)})});let Y=0,ee=0,Oe=0,Fe=0,Nt=0,bt=0;const Zt=D.at(-1);Zt&&Se.f.getItems(Zt.node).forEach(un=>{un.unlocked&&Y++,ee++,"Ultimate"===un.group?(un.unlocked&&Nt++,bt++):(un.unlocked&&Oe++,Fe++)});const Bn=c===d?"All items unlocked.":Y&&Y===ee?"All items unlocked in most recent visit.":(Oe||bt)&&Oe===Fe?"All free items unlocked.":void 0;return this.unlockedItems+=c,this.totalItems+=d,{...i,areaGuid:i.area?.guid,unlockedItems:c,totalItems:d,unlockedFree:Oe,totalFree:Fe,unlockedPass:Nt,totalPass:bt,unlockedLast:Y,totalLast:ee,unlockTooltip:Bn}})}sortDefault(){this.sortByDefault(),this.updateSortUrl("default"),this.initTable()}sortName(){this.sortByName(),this.updateSortUrl("name-asc"),this.initTable()}sortAge(i){this.sortByAge(i),this.updateSortUrl(i>0?"age-asc":"age-desc"),this.initTable()}sortByDefault(){this.spirits.sort((i,c)=>i._index-c._index)}sortByName(){this.spirits.sort((i,c)=>i.name.localeCompare(c.name))}sortByAge(i){const c=ao()("2019-1-1"),d=ao()("2999-1-1"),D=this.spirits.reduce((x,Y)=>{let ee=Y.season?.date||Y.events?.at(-1)?.eventInstance?.date;switch(Y.type){case"Regular":case"Elder":ee=c;break;case"Guide":case"Season":ee=Y.season?.date;break;case"Event":ee=Y.events?.at(0)?.eventInstance?.date}return x[Y.guid]=ee??d,x},{});this.spirits.sort((x,Y)=>{const Fe=D[x.guid].diff(D[Y.guid]);return Fe?Fe*i:(x._index-Y._index)*i})}updateSortUrl(i){const c=new URL(location.href);c.searchParams.set("sort",i),history.replaceState(history.state,"",c.pathname+c.search)}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(He.D),e.Y36(e.sBO),e.Y36(J.gz))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-spirits"]],decls:20,vars:2,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"h6","link",3,"click"],[1,"sky-card-body"],[1,"sky-flex","flex-wrap"],["type","button",3,"click"],["class","sky-card mt p-0",4,"ngIf"],["class","grid grid-4 mt",4,"ngIf"],["type",""],[1,"sky-card","mt","p-0"],[3,"rows"],[3,"appTableHeader"],[3,"appTableColumn"],[3,"appTableFooter","colspan","textAlign"],[3,"appTableFooter"],[3,"routerLink"],[3,"type"],["container","body","placement","left",3,"partial","completed","ngbTooltip",4,"ngIf"],["container","body","placement","left",3,"ngbTooltip"],[1,"grid","grid-4","mt"],["class","sky-card p-rel",4,"ngFor","ngForOf"],[1,"sky-card","p-rel"],[1,"h3","mb-0"],["class","p-rel item spirit-img",4,"ngIf"],[1,"mt","item","link",3,"routerLink"],[1,"menu-icon"],[1,"menu-label"],[1,"mt","p-rel","item"],[1,"d-inline-block","menu-label"],["container","body","placement","bottom",3,"partial","completed","ngbTooltip",4,"ngIf"],[1,"p-rel","item","spirit-img"],["loading","lazy",3,"src"],["container","body","placement","bottom",3,"ngbTooltip"],[3,"ngSwitch"],["container","body","placement","bottom",3,"svgIcon","ngbTooltip",4,"ngSwitchCase"],[4,"ngSwitchDefault"],["container","body","placement","bottom",3,"svgIcon","ngbTooltip"]],template:function(c,d){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3," Spirits "),e.TgZ(4,"a",3),e.NdJ("click",function(){return d.changeMode()}),e._uU(5,"Change view"),e.qZA()()(),e.TgZ(6,"div",4)(7,"div",5)(8,"button",6),e.NdJ("click",function(){return d.sortDefault()}),e._uU(9,"Default"),e.qZA(),e.TgZ(10,"button",6),e.NdJ("click",function(){return d.sortName()}),e._uU(11,"Alphabetical"),e.qZA(),e.TgZ(12,"button",6),e.NdJ("click",function(){return d.sortAge(1)}),e._uU(13,"Oldest first"),e.qZA(),e.TgZ(14,"button",6),e.NdJ("click",function(){return d.sortAge(-1)}),e._uU(15,"Newest first"),e.qZA()()()(),e.YNc(16,dv,13,3,"div",7),e.YNc(17,_p,2,1,"div",8),e.YNc(18,_v,6,5,"ng-template",null,9,e.W1O)),2&c&&(e.xp6(16),e.Q6J("ngIf","grid"===d.mode),e.xp6(1),e.Q6J("ngIf","cards"===d.mode))},dependencies:[Q.sg,Q.O5,Q.RF,Q.n9,Q.ED,J.rH,Xo,W.Hw,ks,Sa,Ia,nc,Oa],styles:[".partial[_ngcontent-%COMP%]{color:var(--color-old);font-weight:700}.completed[_ngcontent-%COMP%]{color:var(--color-new);font-weight:700}.spirit-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding:0 10px;width:auto;height:128px;max-height:128px}"],changeDetection:0})}return r})();function vv(r,f){1&r&&e._uU(0,"#")}function yv(r,f){}function Dv(r,f){1&r&&e._uU(0,"Spirit")}function bv(r,f){1&r&&e._uU(0,"Date")}function Cv(r,f){1&r&&e._uU(0,"Visit")}function Fs(r,f){1&r&&e._uU(0,"Unlocked")}function Gd(r,f){1&r&&e._uU(0),2&r&&e.hij(" ",f.row.number," ")}function wv(r,f){if(1&r&&e._UZ(0,"app-icon",13),2&r){const i=e.oxw().row;e.Q6J("src",i.spirit.imageUrl)("width","auto")("lazy",!0)}}function yp(r,f){if(1&r&&(e.TgZ(0,"div",11),e.YNc(1,wv,1,3,"app-icon",12),e.qZA()),2&r){const i=f.row;e.xp6(1),e.Q6J("ngIf",i.spirit.imageUrl)}}const Ev=function(r){return["/spirit",r]},Dp=function(r){return{highlightTree:r}};function bp(r,f){if(1&r&&(e.TgZ(0,"a",14),e._uU(1),e.qZA()),2&r){const i=f.row;e.Q6J("routerLink",e.VKq(3,Ev,i.spiritGuid))("queryParams",e.VKq(5,Dp,i.treeGuid)),e.xp6(1),e.hij(" ",i.spirit.name," ")}}function Xl(r,f){if(1&r&&(e.TgZ(0,"span",15),e._uU(1),e.ALo(2,"dayjs"),e.qZA()),2&r){const i=f.row,c=e.oxw();e.xp6(1),e.Oqu(e.xi3(2,1,i.date,c.dateFormat))}}function zd(r,f){1&r&&e._uU(0),2&r&&e.hij(" ",f.row.visit," ")}function S1(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const i=e.oxw().row;e.ekj("completed",i.unlockedItems===i.totalItems),e.xp6(1),e.AsE(" ",i.unlockedItems," / ",i.totalItems," ")}}function Cp(r,f){1&r&&e.YNc(0,S1,2,4,"span",16),2&r&&e.Q6J("ngIf",f.row.totalItems)}const Ep=function(){return{href:"https://sky-children-of-the-light.fandom.com/wiki/Traveling_Spirits"}};let Tp=(()=>{class r{constructor(i){this._dataService=i,this.rows=[],this.dateFormat=De.O.displayFormat,this.rows=this._dataService.travelingSpiritConfig.items.map(c=>{let d=0,D=0;return Se.f.getItems(c.tree.node).forEach(x=>{x.unlocked&&d++,D++}),{...c,spiritGuid:c.spirit.guid,treeGuid:c.tree.guid,unlockedItems:d,totalItems:D}}).reverse()}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(He.D))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-traveling-spirits"]],decls:21,vars:6,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card-body"],[3,"wiki"],[1,"sky-card","p-0","mt"],[3,"rows"],[3,"appTableHeader","fit"],[3,"appTableHeader","fit","textAlign"],[3,"appTableHeader"],[3,"appTableColumn"],[1,"sky-card","spirit-img","t-center"],[3,"src","width","lazy",4,"ngIf"],[3,"src","width","lazy"],[3,"routerLink","queryParams"],[1,"ws-nw"],[3,"completed",4,"ngIf"]],template:function(c,d){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Traveling Spirits"),e.qZA()(),e.TgZ(4,"div",3),e._UZ(5,"app-wiki-link",4),e.qZA()(),e.TgZ(6,"div",5)(7,"div",3)(8,"app-table",6),e.YNc(9,vv,1,0,"ng-template",7),e.YNc(10,yv,0,0,"ng-template",8),e.YNc(11,Dv,1,0,"ng-template",9),e.YNc(12,bv,1,0,"ng-template",9),e.YNc(13,Cv,1,0,"ng-template",9),e.YNc(14,Fs,1,0,"ng-template",9),e.YNc(15,Gd,1,1,"ng-template",10),e.YNc(16,yp,2,1,"ng-template",10),e.YNc(17,bp,2,7,"ng-template",10),e.YNc(18,Xl,3,4,"ng-template",10),e.YNc(19,zd,1,1,"ng-template",10),e.YNc(20,Cp,1,1,"ng-template",10),e.qZA()()()),2&c&&(e.xp6(5),e.Q6J("wiki",e.DdM(5,Ep)),e.xp6(3),e.Q6J("rows",d.rows),e.xp6(1),e.Q6J("fit",!0),e.xp6(1),e.Q6J("fit",!0)("textAlign","center"))},dependencies:[Q.O5,J.rH,Ns,ks,Sa,Ia,fr,us],styles:[".completed[_ngcontent-%COMP%]{color:var(--color-unlock-check)}.spirit-img[_ngcontent-%COMP%]{display:none}.spirit-img[_ngcontent-%COMP%]:not(:first-child){margin-left:var(--padding-content)}@media screen and (min-width: 992px){.spirit-img[_ngcontent-%COMP%]{display:inline-block;width:var(--item-size);height:var(--item-size)}}@media screen and (min-width: 1400px){.spirit-img[_ngcontent-%COMP%]{width:calc(2 * var(--item-size));height:calc(2 * var(--item-size))}}"]})}return r})();function Yd(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const i=e.oxw(3).$implicit;e.xp6(1),e.Oqu(i.name)}}function Ws(r,f){1&r&&(e.TgZ(0,"span"),e._uU(1,"Premium Candle Store"),e.qZA())}function Tv(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const i=e.oxw(3).$implicit;let c;e.xp6(1),e.Oqu(null!==(c=i.name)&&void 0!==c?c:null==i.spirit?null:i.spirit.name)}}function Mv(r,f){if(1&r&&(e.ynx(0),e._UZ(1,"mat-icon",20),e.TgZ(2,"span",14),e._uU(3),e.qZA(),e.BQk()),2&r){const i=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngbTooltip","Regular candles"),e.xp6(2),e.hij(" ",i.c," ")}}function Wd(r,f){if(1&r&&(e.ynx(0),e._UZ(1,"mat-icon",21),e.TgZ(2,"span",14),e._uU(3),e.qZA(),e.BQk()),2&r){const i=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngbTooltip","Season candles"),e.xp6(2),e.hij(" ",i.sc," ")}}function Av(r,f){if(1&r&&(e.ynx(0),e._UZ(1,"mat-icon",22),e.TgZ(2,"span",14),e._uU(3),e.qZA(),e.BQk()),2&r){const i=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngbTooltip","Gift Season Pass"),e.xp6(2),e.hij(" ",i.sp," ")}}function Mp(r,f){if(1&r&&(e.TgZ(0,"div",15),e.YNc(1,Mv,4,2,"ng-container",8),e.YNc(2,Wd,4,2,"ng-container",8),e.YNc(3,Av,4,2,"ng-container",8),e.qZA()),2&r){const i=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",i.c),e.xp6(1),e.Q6J("ngIf",i.sc),e.xp6(1),e.Q6J("ngIf",i.sp)}}function Sv(r,f){if(1&r&&(e.ynx(0),e.TgZ(1,"span",27),e._uU(2),e.qZA(),e.BQk()),2&r){const i=e.oxw(2).$implicit;e.xp6(2),e.Oqu(i.name)}}function eu(r,f){if(1&r&&e.YNc(0,Sv,3,1,"ng-container",8),2&r){const i=e.oxw().$implicit;e.Q6J("ngIf",i)}}function Qc(r,f){if(1&r){const i=e.EpF();e.TgZ(0,"div",23),e.NdJ("click",function(d){e.CHM(i);const D=e.oxw().$implicit,x=e.oxw(4);return e.KtG(x.togglePurchased(d,D))}),e._UZ(1,"app-item",24),e.TgZ(2,"mat-icon",25),e._uU(3,"done"),e.qZA(),e.YNc(4,eu,1,1,"ng-template",null,26,e.W1O),e.qZA()}if(2&r){const i=f.$implicit,c=e.MAs(5),d=e.oxw().$implicit;e.xp6(1),e.Q6J("item",i)("ngbTooltip",c),e.xp6(1),e.ekj("unlocked",null==i?null:i.unlocked)("self",d.bought)}}function Ap(r,f){if(1&r&&(e.TgZ(0,"div",10)(1,"div",1)(2,"h3",11),e._uU(3),e.qZA()(),e.TgZ(4,"div",3)(5,"div",12)(6,"mat-icon",13),e._uU(7,"location_on"),e.qZA(),e.TgZ(8,"span",14),e.YNc(9,Yd,2,1,"span",8),e.YNc(10,Ws,2,0,"span",8),e.YNc(11,Tv,2,1,"span",8),e.qZA()(),e.TgZ(12,"div",15)(13,"mat-icon",13),e._uU(14,"attach_money"),e.qZA(),e.TgZ(15,"span",16),e._uU(16),e.qZA()(),e.YNc(17,Mp,4,3,"div",17),e.TgZ(18,"div",18),e.YNc(19,Qc,6,6,"div",19),e.qZA()()()),2&r){const i=f.$implicit,c=e.oxw(2).$implicit,d=e.oxw(2);e.ekj("highlight",i.guid===d.highlightIap),e.xp6(2),e.Q6J("ngbTooltip",i.name),e.xp6(1),e.hij(" ",i.name," "),e.xp6(6),e.Q6J("ngIf",c.name),e.xp6(1),e.Q6J("ngIf",!c.name&&"Store"===c.type),e.xp6(1),e.Q6J("ngIf",!c.name&&"Store"!==c.type),e.xp6(4),e.Q6J("ngbTooltip","Price of the IAP in USD."),e.xp6(1),e.hij(" ",i.price," "),e.xp6(1),e.Q6J("ngIf",i.c||i.sc||i.sp),e.xp6(2),e.Q6J("ngForOf",i.items)}}function tu(r,f){if(1&r&&(e.ynx(0),e.YNc(1,Ap,20,11,"div",9),e.BQk()),2&r){const i=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",i.iaps)}}function I1(r,f){if(1&r&&(e.ynx(0),e.YNc(1,tu,2,1,"ng-container",8),e.BQk()),2&r){const i=f.$implicit;e.xp6(1),e.Q6J("ngIf",null==i.iaps?null:i.iaps.length)}}function Iv(r,f){if(1&r&&(e.TgZ(0,"div",6),e.YNc(1,I1,2,1,"ng-container",7),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.shops)}}const Ip=function(){return{href:"https://sky-children-of-the-light.fandom.com/wiki/Premium_Candle_Shop"}};let xv=(()=>{class r{constructor(i,c,d){this._dataService=i,this._iapService=c,this.shops=this._dataService.shopConfig.items.filter(D=>D.permanent),d.queryParamMap.subscribe(D=>this.onQueryChanged(D))}onQueryChanged(i){this.highlightIap=i.get("highlightIap")||void 0}togglePurchased(i,c){this._iapService.togglePurchased(c)}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(He.D),e.Y36(Rt),e.Y36(J.gz))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-shops"]],decls:7,vars:3,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card-body"],[3,"wiki"],["class","grid grid-4 mt",4,"ngIf"],[1,"grid","grid-4","mt"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","sky-card p-rel",3,"highlight",4,"ngFor","ngForOf"],[1,"sky-card","p-rel"],["container","body",1,"h4","mb-0",3,"ngbTooltip"],[1,"item"],[1,"menu-icon"],[1,"menu-label"],[1,"item","mt-half"],["container","body",1,"menu-label",3,"ngbTooltip"],["class","item mt-half",4,"ngIf"],[1,"item","iap-items","mt-half"],["class","iap-item point d-inline-block p-rel",3,"click",4,"ngFor","ngForOf"],["svgIcon","candle","container","body","placement","right",1,"menu-icon",3,"ngbTooltip"],["svgIcon","season-candle","container","body","placement","right",1,"menu-icon",3,"ngbTooltip"],["svgIcon","gift","container","body","placement","right",1,"menu-icon","seasonal",3,"ngbTooltip"],[1,"iap-item","point","d-inline-block","p-rel",3,"click"],["placement","bottom","container","body",3,"item","ngbTooltip"],[1,"unlock-check"],["itemHover",""],[1,"ws-nw"]],template:function(c,d){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Permanent In-App Purchases"),e.qZA()(),e.TgZ(4,"div",3),e._UZ(5,"app-wiki-link",4),e.qZA()(),e.YNc(6,Iv,2,1,"div",5)),2&c&&(e.xp6(5),e.Q6J("wiki",e.DdM(2,Ip)),e.xp6(1),e.Q6J("ngIf",null==d.shops?null:d.shops.length))},dependencies:[Q.sg,Q.O5,Xo,W.Hw,Zc,fr]})}return r})();function Ov(r,f){1&r&&e._uU(0,"Spirit")}function xp(r,f){1&r&&e._uU(0,"Type")}function Op(r,f){1&r&&e._uU(0,"Origin")}function Xc(r,f){1&r&&e._uU(0,"Unlocked")}const Nv=function(r){return["/spirit",r]};function Np(r,f){if(1&r&&(e.TgZ(0,"a",12),e._uU(1),e.qZA()),2&r){const i=f.row;e.Q6J("routerLink",e.VKq(2,Nv,i.guid)),e.xp6(1),e.hij(" ",i.name," ")}}function Pp(r,f){1&r&&e._UZ(0,"app-spirit-type-icon",13),2&r&&e.Q6J("type",f.row.type)}const Pv=function(r){return["/season",r]};function kv(r,f){if(1&r&&(e.TgZ(0,"a",12),e._uU(1),e.qZA()),2&r){const i=e.oxw().row;e.Q6J("routerLink",e.VKq(2,Pv,i.season.guid)),e.xp6(1),e.Oqu(i.season.name)}}const el=function(r){return["/realm",r]};function Rv(r,f){if(1&r&&(e.TgZ(0,"a",12),e._uU(1),e.qZA()),2&r){const i=e.oxw().row;e.Q6J("routerLink",e.VKq(2,el,i.area.realm.guid)),e.xp6(1),e.Oqu(i.area.realm.name)}}function Fv(r,f){if(1&r&&(e.YNc(0,kv,2,4,"a",14),e.YNc(1,Rv,2,4,"a",14)),2&r){const i=f.row;e.Q6J("ngIf",i.season),e.xp6(1),e.Q6J("ngIf","Regular"===i.type)}}function Lv(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const i=f.row;e.ekj("completed",i.unlocked===i.total),e.xp6(1),e.AsE(" ",i.unlocked," / ",i.total," ")}}function Bv(r,f){1&r&&e._uU(0,"Total:")}function Uv(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const i=e.oxw();e.ekj("completed",i.unlocked===i.total),e.xp6(1),e.AsE("",i.unlocked," / ",i.total,"")}}const Hv=function(){return{href:"https://sky-children-of-the-light.fandom.com/wiki/Wing_Buffs"}};let Zv=(()=>{class r{constructor(i){this._dataService=i,this.unlocked=0,this.total=0}ngOnInit(){const i=new Set;for(const Y of this._dataService.itemConfig.items.filter(ee=>ee.type===di.q.WingBuff))i.add(Y),Y.unlocked&&this.unlocked++,this.total++;const c=new Set,d=new Set,D=new Map;for(const Y of i){if(!Y.nodes?.length)continue;const Oe=Se.f.getRoot(Y.nodes[0]).spiritTree;let Fe,Nt=!1;if(Oe?.spirit?Fe=Oe.spirit:Oe?.ts?(Fe=Oe.ts.spirit,Nt=!0):Oe?.visit&&(Fe=Oe.visit.spirit,Nt=!0),Fe){D.has(Fe.guid)||D.set(Fe.guid,{unlocked:0,total:0});const bt=D.get(Fe.guid);bt.total++,Y.unlocked&&bt.unlocked++,Nt?d.add(Fe):c.add(Fe)}}const x=Array.from(c).concat(Array.from(d));this.rows=x.map(Y=>{const ee=D.get(Y.guid);return{...Y,...ee}})}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(He.D))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-wing-buffs"]],decls:29,vars:11,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card-body"],[3,"wiki"],[1,"sky-card","mt"],[3,"rows"],[3,"appTableHeader"],[3,"appTableColumn"],[3,"appTableFooter","colspan","textAlign"],[3,"appTableFooter"],[1,"mt"],[3,"routerLink"],[3,"type"],[3,"routerLink",4,"ngIf"]],template:function(c,d){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Wing Buffs"),e.qZA()(),e.TgZ(4,"div",3),e._UZ(5,"app-wiki-link",4),e.qZA()(),e.TgZ(6,"div",5)(7,"div",1)(8,"div"),e._uU(9,"You have unlocked "),e.TgZ(10,"b"),e._uU(11),e.qZA(),e._uU(12," out of "),e.TgZ(13,"b"),e._uU(14),e.qZA(),e._uU(15," wing buffs."),e.qZA()(),e.TgZ(16,"div",3)(17,"app-table",6),e.YNc(18,Ov,1,0,"ng-template",7),e.YNc(19,xp,1,0,"ng-template",7),e.YNc(20,Op,1,0,"ng-template",7),e.YNc(21,Xc,1,0,"ng-template",7),e.YNc(22,Np,2,4,"ng-template",8),e.YNc(23,Pp,1,1,"ng-template",8),e.YNc(24,Fv,2,2,"ng-template",8),e.YNc(25,Lv,2,4,"ng-template",8),e.YNc(26,Bv,1,0,"ng-template",9),e.YNc(27,Uv,2,4,"ng-template",10),e.qZA()()(),e._UZ(28,"div",11)),2&c&&(e.xp6(5),e.Q6J("wiki",e.DdM(10,Hv)),e.xp6(5),e.ekj("completed",d.unlocked===d.total),e.xp6(1),e.Oqu(d.unlocked),e.xp6(2),e.ekj("completed",d.unlocked===d.total),e.xp6(1),e.Oqu(d.total),e.xp6(3),e.Q6J("rows",d.rows),e.xp6(9),e.Q6J("colspan",3)("textAlign","right"))},dependencies:[Q.O5,J.rH,ks,Sa,Ia,nc,Oa,fr],styles:[".completed[_ngcontent-%COMP%]{color:var(--color-new);font-weight:700}"]})}return r})(),qd=(()=>{class r{get theme(){return this._theme}init(){const i=localStorage.getItem("theme")||"";this.set(i)}set(i){this._theme=i||"",i?document.body.dataset.theme=i:delete document.body.dataset.theme,localStorage.setItem("theme",i||"")}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Jd(r,f){if(1&r){const i=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){const D=e.CHM(i).$implicit,x=e.oxw();return e.KtG(x.setDateFormat(D))}),e._uU(1),e.ALo(2,"lowercase"),e.qZA()}if(2&r){const i=f.$implicit,c=e.oxw();e.ekj("highlight",c.dateFormat===i),e.xp6(1),e.hij(" ",e.lcZ(2,3,i)," ")}}let Vv=(()=>{class r{constructor(i,c,d,D){this._dataService=i,this._settingService=c,this._storageService=d,this._themeService=D,this.today=ao()(),this.wikiNewTab=!1,this.unlockedCount=this._storageService.unlocked.size,this.dateFormats=De.O.displayFormats,this.dateFormat=De.O.displayFormat,this.currentTheme=this._themeService.theme||"sky",this.wikiNewTab=c.wikiNewTab}export(){const i=this._storageService.serializeUnlocked(),c=this._storageService.serializeUnlockedCol(),D=JSON.stringify({unlocked:i,unlockedCol:c});let x="";try{const Y=new Blob([D],{type:"application/json"});x=URL.createObjectURL(Y);const ee=document.createElement("a");ee.href=x,ee.download=`SkyPlanner_${ao()().format("YYYY-MM-DD")}.json`,document.body.appendChild(ee),ee.click(),document.body.removeChild(ee)}finally{URL.revokeObjectURL(x)}}import(){const i=document.createElement("input");i.type="file",i.accept="application/json",i.onchange=c=>{const d=c.target.files?.[0];if(!d)return;const D=new FileReader;D.onload=x=>{try{const Y=JSON.parse(D.result);this.handleImportJson(Y)}catch(Y){console.error(Y),alert("Failed to parse file. If the selected file was exported by Sky Planner, please report this.")}},D.onerror=x=>{console.error(x),alert("Failed to read file. If the selected file was exported by Sky Planner, please report this.")},D.readAsText(d)},i.click()}handleImportJson(i){if(!i)throw new Error("No content.");if("string"!=typeof i.unlocked)throw new Error("No unlocked data.");const c=i.unlocked.split(","),d=i.unlockedCol?.split(",")||[];confirm(`You're about to overwrite your current data with ${c.length} entries. This cannot be undone. Are you sure?`)&&(this._storageService.unlocked.clear(),this._storageService.add(...c),this._storageService.save(),this._storageService.unlockedCol.clear(),this._storageService.addCol(...d),this._storageService.saveCol(),this._dataService.reloadUnlocked(),this.unlockedCount=this._storageService.unlocked.size)}clear(){confirm("You're about to clear all your data. This cannot be undone. Are you sure?")&&(this._storageService.unlocked.clear(),this._storageService.save(),this._storageService.unlockedCol.clear(),this._storageService.saveCol(),this._dataService.reloadUnlocked(),this.unlockedCount=0)}setTheme(i){this._themeService.set(i),this.currentTheme=this._themeService.theme||"sky"}setDateFormat(i){this.dateFormat=i,De.O.displayFormat=i,localStorage.setItem("date.format",i)}toggleWikiTab(){this.wikiNewTab=!this.wikiNewTab,this._settingService.wikiNewTab=this.wikiNewTab}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(He.D),e.Y36(sa),e.Y36(pt.V),e.Y36(qd))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-settings"]],decls:60,vars:13,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card","mt"],[1,"h3","mb-0"],[1,"sky-card-body"],[1,"container","ws-pl"],[1,"sky-flex","flex-wrap","mt"],["type","button",1,"item",3,"click"],[1,"c-accent"],["type","button",1,"item","clear-data",3,"click"],["type","button","data-theme","sky",1,"item","btn-sky",3,"click"],["type","button","data-theme","light",1,"item",3,"click"],["type","button","data-theme","dark",1,"item",3,"click"],["type","button","class","item ws-nw",3,"highlight","click",4,"ngFor","ngForOf"],[1,"h3"],[1,"container","wiki-toggle-tab",3,"click"],[1,"menu-icon"],[1,"menu-label"],["type","button",1,"item","ws-nw",3,"click"]],template:function(c,d){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Settings"),e.qZA()()(),e.TgZ(4,"div",3)(5,"div",1)(6,"h2",4)(7,"mat-icon"),e._uU(8,"swap_horiz"),e.qZA(),e._uU(9," Import / Export "),e.qZA()(),e.TgZ(10,"div",5)(11,"div",6),e._uU(12," Import or export your progression. The exported file serves as a backup of all your unlocked items in Sky Planner. "),e.TgZ(13,"div",7)(14,"button",8),e.NdJ("click",function(){return d.import()}),e._uU(15," Import data "),e.qZA(),e.TgZ(16,"button",8),e.NdJ("click",function(){return d.export()}),e._uU(17," Export data "),e.TgZ(18,"span",9),e._uU(19),e.qZA()(),e.TgZ(20,"button",10),e.NdJ("click",function(){return d.clear()}),e._uU(21," Clear data "),e.qZA()()()()(),e.TgZ(22,"div",3)(23,"div",1)(24,"h2",4)(25,"mat-icon"),e._uU(26,"color_lens"),e.qZA(),e._uU(27," Theme "),e.qZA()(),e.TgZ(28,"div",5)(29,"div",6),e._uU(30," Change the theme of the website. "),e.TgZ(31,"div",7)(32,"button",11),e.NdJ("click",function(){return d.setTheme("")}),e._uU(33," Sky "),e.qZA(),e.TgZ(34,"button",12),e.NdJ("click",function(){return d.setTheme("light")}),e._uU(35," Light "),e.qZA(),e.TgZ(36,"button",13),e.NdJ("click",function(){return d.setTheme("dark")}),e._uU(37," Dark "),e.qZA()()()()(),e.TgZ(38,"div",3)(39,"div",1)(40,"h2",4)(41,"mat-icon"),e._uU(42,"date_range"),e.qZA(),e._uU(43," Date "),e.qZA()(),e.TgZ(44,"div",5)(45,"div",6),e._uU(46),e.ALo(47,"dayjs"),e.TgZ(48,"div",7),e.YNc(49,Jd,3,5,"button",14),e.qZA()()(),e.TgZ(50,"div",3)(51,"div",1)(52,"h2",15),e._uU(53,"Wiki"),e.qZA()(),e.TgZ(54,"div",5)(55,"div",16),e.NdJ("click",function(){return d.toggleWikiTab()}),e.TgZ(56,"mat-icon",17),e._uU(57),e.qZA(),e.TgZ(58,"span",18),e._uU(59,"Navigate to wiki in new tab"),e.qZA()()()()()),2&c&&(e.xp6(19),e.hij("(",d.unlockedCount,")"),e.xp6(13),e.ekj("highlight","sky"===d.currentTheme),e.xp6(2),e.ekj("highlight","light"===d.currentTheme),e.xp6(2),e.ekj("highlight","dark"===d.currentTheme),e.xp6(10),e.hij(" Change the date displayed in the application. Today's date is ",e.xi3(47,10,d.today,d.dateFormat),". "),e.xp6(3),e.Q6J("ngForOf",d.dateFormats),e.xp6(8),e.Oqu(d.wikiNewTab?"check_box":"check_box_outline_blank"))},dependencies:[Q.sg,W.Hw,Q.i8,us],styles:[".clear-data[_ngcontent-%COMP%]{color:var(--color-danger);background:var(--color-danger-background);border-color:var(--color-danger-accent)}.small[_ngcontent-%COMP%]{font-size:8px;line-height:8px}.btn-sky[_ngcontent-%COMP%]{color:#fff!important;background:#50b6d8!important}.wiki-toggle-tab[_ngcontent-%COMP%]{cursor:pointer}.wiki-toggle-tab[_ngcontent-%COMP%]:hover{color:var(--color-link-hover)}"]})}return r})();const tl=function(){return["/spirit"]},$v=function(r){return{type:"Regular,Elder",realm:r}};function Gv(r,f){if(1&r&&(e.TgZ(0,"a",8),e._UZ(1,"app-spirit-type-icon",9),e.TgZ(2,"span",10),e._uU(3," Spirits\xa0"),e.TgZ(4,"span",11),e._uU(5),e.qZA()()()),2&r){const i=e.oxw();e.ekj("colspan-2",!i.seasonSpiritCount),e.Q6J("routerLink",e.DdM(6,tl))("queryParams",e.VKq(7,$v,i.realm.guid)),e.xp6(1),e.Q6J("type","Regular"),e.xp6(4),e.hij("(",i.spirits.length,")")}}const zv=function(r){return{type:"Season,Guide",realm:r}};function Yv(r,f){if(1&r&&(e.TgZ(0,"a",8),e._UZ(1,"app-spirit-type-icon",9),e.TgZ(2,"span",10),e._uU(3," Season Spirits\xa0"),e.TgZ(4,"span",11),e._uU(5),e.qZA()()()),2&r){const i=e.oxw();e.ekj("colspan-2",!i.spirits.length),e.Q6J("routerLink",e.DdM(6,tl))("queryParams",e.VKq(7,zv,i.realm.guid)),e.xp6(1),e.Q6J("type","Season"),e.xp6(4),e.hij("(",i.seasonSpiritCount,")")}}const Wv=function(r){return["/spirit",r]},qv=function(r){return{highlightTree:r}};function kp(r,f){if(1&r&&(e.TgZ(0,"div",18)(1,"app-spirit-tree",19)(2,"div",20)(3,"a",21),e._uU(4),e.qZA()()()()),2&r){const i=e.oxw().$implicit,c=e.oxw(2);e.xp6(1),e.Q6J("tree",i.tree)("name",i.name)("highlight",c.highlightTree===i.tree.guid),e.xp6(2),e.Q6J("routerLink",e.VKq(6,Wv,i.guid))("queryParams",e.VKq(8,qv,i.tree.guid)),e.xp6(1),e.hij(" ",i.name," ")}}function Rp(r,f){if(1&r&&(e.ynx(0),e.YNc(1,kp,5,10,"div",17),e.BQk()),2&r){const i=f.$implicit;e.xp6(1),e.Q6J("ngIf",i.tree)}}function Fp(r,f){if(1&r&&(e.TgZ(0,"div",12)(1,"div",1)(2,"h2",13),e._uU(3,"Spirit Trees"),e.qZA()(),e.TgZ(4,"div",14)(5,"div",15),e.YNc(6,Rp,2,1,"ng-container",16),e.qZA()()()),2&r){const i=e.oxw();e.xp6(6),e.Q6J("ngForOf",i.spirits)}}let Jv=(()=>{class r{constructor(i,c){this._dataService=i,this._route=c,this.spirits=[],this.seasonSpiritCount=0,c.queryParamMap.subscribe(d=>this.onQueryChanged(d)),c.paramMap.subscribe(d=>this.onParamsChanged(d))}onQueryChanged(i){this.highlightTree=i.get("highlightTree")||void 0}onParamsChanged(i){const c=i.get("guid");this.initializeRealm(c)}initializeRealm(i){this.realm=this._dataService.guidMap.get(i),this.spirits=[],this.seasonSpiritCount=0,this.realm?.areas?.forEach(c=>{c.spirits?.forEach(d=>{"Regular"===d.type||"Elder"===d.type?this.spirits.push(d):"Season"===d.type&&this.seasonSpiritCount++})})}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(He.D),e.Y36(J.gz))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-realm"]],decls:10,vars:6,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card-body"],[1,"grid","grid-2"],[3,"wiki","aClass"],["class","container",3,"colspan-2","routerLink","queryParams",4,"ngIf"],["class","sky-card mt",4,"ngIf"],[1,"container",3,"routerLink","queryParams"],[1,"menu-icon",3,"type"],[1,"menu-label"],[1,"c-accent"],[1,"sky-card","mt"],[1,"h3"],[1,"sky-card-body","pad-0"],[1,"sky-flex","scroll-x","pad"],[4,"ngFor","ngForOf"],["class","tree-wrapper",4,"ngIf"],[1,"tree-wrapper"],[3,"tree","name","highlight"],["name",""],[3,"routerLink","queryParams"]],template:function(c,d){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4),e._UZ(6,"app-wiki-link",5),e.YNc(7,Gv,6,9,"a",6),e.YNc(8,Yv,6,9,"a",6),e.qZA()()(),e.YNc(9,Fp,7,1,"div",7)),2&c&&(e.xp6(3),e.Oqu(d.realm.name),e.xp6(3),e.Q6J("wiki",d.realm._wiki)("aClass","container colspan-2"),e.xp6(1),e.Q6J("ngIf",d.spirits.length),e.xp6(1),e.Q6J("ngIf",d.seasonSpiritCount),e.xp6(1),e.Q6J("ngIf",null==d.spirits?null:d.spirits.length))},dependencies:[Q.sg,Q.O5,J.rH,Ma,Oa,fr],styles:["app-spirit-tree[_ngcontent-%COMP%]{vertical-align:bottom}.tree-wrapper[_ngcontent-%COMP%]{display:inline-block}"]})}return r})();var Kv=M(5267);let dc=(()=>{class r{constructor(i){this._dataService=i,this._default="Sky Planner"}resolve(i,c){const d=i.paramMap.get("guid");return d?new Te.y(D=>{this._dataService.onData.pipe((0,Kv.P)()).subscribe({next:()=>{const x=this._dataService.guidMap.get(d);D.next("string"==typeof x?.name?`${x.name} - ${this._default}`:this._default),D.complete()},error:()=>{D.next(this._default),D.complete()}})}):""}static#e=this.\u0275fac=function(c){return new(c||r)(e.LFG(He.D))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Lp=(()=>{class r{constructor(i){this._dataService=i,this._default="Sky Planner"}resolve(i,c){const d=i.paramMap.get("guid");return d?new Te.y(D=>{this._dataService.onData.pipe((0,Kv.P)()).subscribe({next:()=>{const x=this._dataService.guidMap.get(d);D.next("string"==typeof x?.event?.name?`${x.event.name} - ${this._default}`:this._default),D.complete()},error:()=>{D.next(this._default),D.complete()}})}):""}static#e=this.\u0275fac=function(c){return new(c||r)(e.LFG(He.D))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function x1(r,f){1&r&&e._uU(0,"Name")}function nu(r,f){1&r&&e._uU(0,"Spirits")}function Qv(r,f){1&r&&e._uU(0,"Start")}function Xv(r,f){1&r&&e._uU(0,"End")}function Kd(r,f){1&r&&e._uU(0,"Unlocked")}const e0=function(r){return["/rs",r]};function Ls(r,f){if(1&r&&(e.TgZ(0,"a",10),e._uU(1),e.qZA()),2&r){const i=f.row;e.Q6J("routerLink",e.VKq(2,e0,i.guid)),e.xp6(1),e.hij(" ",i.name," ")}}function nl(r,f){if(1&r&&e._UZ(0,"app-icon",15),2&r){const i=e.oxw().$implicit;e.Q6J("src",i.spirit.imageUrl)("width","auto")("lazy",!0)}}const pr=function(r){return["/spirit",r]},Na=function(r){return{highlightTree:r}};function iu(r,f){if(1&r&&(e.TgZ(0,"a",13),e.YNc(1,nl,1,3,"app-icon",14),e.qZA()),2&r){const i=f.$implicit;e.Q6J("routerLink",e.VKq(4,pr,i.spirit.guid))("queryParams",e.VKq(6,Na,i.tree.guid))("ngbTooltip",i.spirit.name),e.xp6(1),e.Q6J("ngIf",i.spirit.imageUrl)}}function ds(r,f){if(1&r&&(e.YNc(0,iu,2,8,"a",11),e.TgZ(1,"div",12),e._uU(2),e.qZA()),2&r){const i=f.row;e.Q6J("ngForOf",i.spirits),e.xp6(2),e.hij(" ",(null==i.spirits?null:i.spirits.length)||0," ")}}function Qd(r,f){if(1&r&&(e.TgZ(0,"span",16),e._uU(1),e.ALo(2,"dayjs"),e.qZA()),2&r){const i=f.row,c=e.oxw();e.xp6(1),e.Oqu(e.xi3(2,1,i.date,c.dateFormat))}}function hc(r,f){if(1&r&&(e.TgZ(0,"span",16),e._uU(1),e.ALo(2,"dayjs"),e.qZA()),2&r){const i=f.row,c=e.oxw();e.xp6(1),e.Oqu(e.xi3(2,1,i.endDate,c.dateFormat))}}function fc(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const i=e.oxw().row;e.ekj("completed",i.unlockedItems===i.totalItems),e.xp6(1),e.AsE(" ",i.unlockedItems," / ",i.totalItems," ")}}function pc(r,f){1&r&&e.YNc(0,fc,2,4,"span",17),2&r&&e.Q6J("ngIf",f.row.totalItems)}const mc=function(){return{href:"https://sky-children-of-the-light.fandom.com/wiki/Returning_Spirits"}};let _c=(()=>{class r{constructor(i){this._dataService=i,this.rows=[],this.dateFormat=De.O.displayFormat,this.rows=this._dataService.returningSpiritsConfig.items.map(c=>{let d=0,D=0;return c.spirits.forEach(x=>{Se.f.getItems(x.tree.node).forEach(Y=>{Y.unlocked&&d++,D++})}),{...c,spiritGuids:c.spirits.map(x=>x.guid),unlockedItems:d,totalItems:D}}).reverse()}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(He.D))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-returning-spirits"]],decls:19,vars:4,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card-body"],[3,"wiki"],[1,"sky-card","p-0","mt"],[3,"rows"],[3,"appTableHeader"],[3,"appTableColumn"],[3,"appTableColumn","tdClass"],[3,"routerLink"],["class","sky-card spirit-img t-center","container","body","placement","bottom",3,"routerLink","queryParams","ngbTooltip",4,"ngFor","ngForOf"],[1,"spirit-count"],["container","body","placement","bottom",1,"sky-card","spirit-img","t-center",3,"routerLink","queryParams","ngbTooltip"],[3,"src","width","lazy",4,"ngIf"],[3,"src","width","lazy"],[1,"ws-nw"],[3,"completed",4,"ngIf"]],template:function(c,d){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Special Visits"),e.qZA()(),e.TgZ(4,"div",3),e._UZ(5,"app-wiki-link",4),e.qZA()(),e.TgZ(6,"div",5)(7,"div",3)(8,"app-table",6),e.YNc(9,x1,1,0,"ng-template",7),e.YNc(10,nu,1,0,"ng-template",7),e.YNc(11,Qv,1,0,"ng-template",7),e.YNc(12,Xv,1,0,"ng-template",7),e.YNc(13,Kd,1,0,"ng-template",7),e.YNc(14,Ls,2,4,"ng-template",8),e.YNc(15,ds,3,2,"ng-template",9),e.YNc(16,Qd,3,4,"ng-template",8),e.YNc(17,hc,3,4,"ng-template",8),e.YNc(18,pc,1,1,"ng-template",8),e.qZA()()()),2&c&&(e.xp6(5),e.Q6J("wiki",e.DdM(3,mc)),e.xp6(3),e.Q6J("rows",d.rows),e.xp6(7),e.Q6J("tdClass","ws-nw"))},dependencies:[Q.sg,Q.O5,J.rH,Xo,Ns,ks,Sa,Ia,fr,us],styles:[".completed[_ngcontent-%COMP%]{color:var(--color-unlock-check)}.spirit-img[_ngcontent-%COMP%]{display:none}.spirit-img[_ngcontent-%COMP%]:not(:first-child){margin-left:var(--padding-content)}@media screen and (min-width: 992px){.spirit-img[_ngcontent-%COMP%]{display:inline-block;width:var(--item-size);height:var(--item-size)}.spirit-count[_ngcontent-%COMP%]{display:none}}@media screen and (min-width: 1400px){.spirit-img[_ngcontent-%COMP%]{width:calc(2 * var(--item-size));height:calc(2 * var(--item-size))}}"]})}return r})();function vc(r,f){if(1&r&&(e.TgZ(0,"span",18),e._uU(1," ("),e._UZ(2,"app-days-left",10),e._uU(3,") "),e.qZA()),2&r){const i=e.oxw();e.xp6(2),e.Q6J("start",i.rs.date)("end",i.rs.endDate)}}function yc(r,f){if(1&r&&(e.TgZ(0,"span",18),e._uU(1," ("),e._UZ(2,"app-days-left",10),e._uU(3,") "),e.qZA()),2&r){const i=e.oxw();e.xp6(2),e.Q6J("start",i.rs.date)("end",i.rs.endDate)}}const Dc=function(r){return["/realm",r]};function Bp(r,f){if(1&r&&(e.TgZ(0,"a",19)(1,"mat-icon",7),e._uU(2,"map"),e.qZA(),e.TgZ(3,"span",8),e._uU(4),e.qZA()()),2&r){const i=e.oxw();e.Q6J("routerLink",e.VKq(2,Dc,i.rs.area.realm.guid)),e.xp6(4),e.hij(" ",i.rs.area.realm.name," ")}}function Up(r,f){if(1&r&&(e.TgZ(0,"div",6)(1,"mat-icon",7),e._uU(2,"location_on"),e.qZA(),e.TgZ(3,"span",8),e._uU(4),e.qZA()()),2&r){const i=e.oxw();e.xp6(4),e.hij(" ",i.rs.area.name," ")}}const jp=function(r){return["/spirit",r]},Hp=function(r){return{highlightTree:r}};function Zp(r,f){if(1&r&&(e.TgZ(0,"div",22)(1,"app-spirit-tree",23)(2,"div",24)(3,"a",25),e._uU(4),e.qZA()()()()),2&r){const i=e.oxw().$implicit;e.xp6(1),e.Q6J("tree",i.tree)("name",i.spirit.name),e.xp6(2),e.Q6J("routerLink",e.VKq(5,jp,i.spirit.guid))("queryParams",e.VKq(7,Hp,i.tree.guid)),e.xp6(1),e.hij(" ",i.spirit.name," ")}}function Vp(r,f){if(1&r&&(e.ynx(0),e.YNc(1,Zp,5,9,"div",21),e.BQk()),2&r){const i=f.$implicit;e.xp6(1),e.Q6J("ngIf",i.tree)}}function $p(r,f){if(1&r&&(e.ynx(0),e.YNc(1,Vp,2,1,"ng-container",20),e.BQk()),2&r){const i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.rs.spirits)}}let Gp=(()=>{class r{constructor(i,c){this._dataService=i,this._route=c,c.queryParamMap.subscribe(d=>this.onQueryChanged(d)),c.paramMap.subscribe(d=>this.onParamsChanged(d))}onQueryChanged(i){}onParamsChanged(i){const c=i.get("guid");this.initializeRs(c)}initializeRs(i){this.rs=this._dataService.guidMap.get(i),this.state=De.O.getStateFromPeriod(this.rs.date,this.rs.endDate)}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(He.D),e.Y36(J.gz))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-returning-spirit"]],decls:30,vars:20,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card-body"],[1,"grid","grid-2"],[3,"wiki","aClass"],[1,"container"],[1,"menu-icon"],[1,"menu-label"],["class","c-accent",4,"ngIf"],[3,"start","end"],["class","container",3,"routerLink",4,"ngIf"],["class","container",4,"ngIf"],[1,"sky-card","mt"],[1,"h3"],[1,"sky-card-body","pad-0"],[1,"sky-flex","scroll-x","pad"],[4,"ngIf"],[1,"c-accent"],[1,"container",3,"routerLink"],[4,"ngFor","ngForOf"],["class","tree-wrapper",4,"ngIf"],[1,"tree-wrapper"],[3,"tree","name"],["name",""],[3,"routerLink","queryParams"]],template:function(c,d){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4),e._UZ(6,"app-wiki-link",5),e.TgZ(7,"div",6)(8,"mat-icon",7),e._uU(9,"calendar_month"),e.qZA(),e.TgZ(10,"span",8),e._uU(11),e.ALo(12,"dayjs"),e.ALo(13,"dayjs"),e.qZA(),e.YNc(14,vc,4,2,"span",9),e.qZA(),e.TgZ(15,"div",6)(16,"mat-icon",7),e._uU(17,"schedule"),e.qZA(),e.TgZ(18,"span",8),e._UZ(19,"app-duration",10),e.YNc(20,yc,4,2,"span",9),e.qZA()(),e.YNc(21,Bp,5,4,"a",11),e.YNc(22,Up,5,1,"div",12),e.qZA()()(),e.TgZ(23,"div",13)(24,"div",1)(25,"h2",14),e._uU(26,"Spirits"),e.qZA()(),e.TgZ(27,"div",15)(28,"div",16),e.YNc(29,$p,2,1,"ng-container",17),e.qZA()()()),2&c&&(e.xp6(3),e.Oqu(d.rs.name),e.xp6(3),e.Q6J("wiki",d.rs._wiki)("aClass","container colspan-2"),e.xp6(1),e.ekj("expired","ended"===d.state),e.xp6(4),e.AsE(" ",e.lcZ(12,16,d.rs.date)," to ",e.lcZ(13,18,d.rs.endDate)," "),e.xp6(3),e.Q6J("ngIf","future"===d.state),e.xp6(1),e.ekj("expired","ended"===d.state),e.xp6(4),e.Q6J("start",d.rs.date)("end",d.rs.endDate),e.xp6(1),e.Q6J("ngIf","active"===d.state),e.xp6(1),e.Q6J("ngIf",null==d.rs.area?null:d.rs.area.realm),e.xp6(1),e.Q6J("ngIf",d.rs.area),e.xp6(7),e.Q6J("ngIf",null==d.rs.spirits?null:d.rs.spirits.length))},dependencies:[Q.sg,Q.O5,J.rH,W.Hw,Ma,Aa,Vl,fr,us],styles:["app-spirit-tree[_ngcontent-%COMP%]{vertical-align:bottom}.tree-wrapper[_ngcontent-%COMP%]{display:inline-block}"]})}return r})();const il=function(){return["/spirit"]},Xd=function(){return{type:"Regular"}},t0=function(){return{type:"Elder"}},O1=function(){return{type:"Season"}},N1=function(){return{type:"Guide"}},n0=function(){return["/ts"]},o0=function(){return["/rs"]};let P1=(()=>{class r{constructor(i){this._dataService=i,this.spiritCounts={},this.tsCount=i.travelingSpiritConfig.items.length,this.rsCount=i.returningSpiritsConfig.items.length,this.spiritCounts=this._dataService.spiritConfig.items.reduce((c,d)=>(c[d.type]=(c[d.type]||0)+1,c),{})}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(He.D))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-spirits-overview"]],decls:44,vars:30,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card-body"],[1,"grid","grid-2"],[1,"container",3,"routerLink","queryParams"],[1,"menu-icon",3,"type"],[1,"menu-label"],[1,"c-accent"],[1,"container",3,"routerLink"],[1,"menu-icon"]],template:function(c,d){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Spirits"),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4)(6,"a",5),e._UZ(7,"app-spirit-type-icon",6),e.TgZ(8,"span",7),e._uU(9," Regular Spirits "),e.TgZ(10,"span",8),e._uU(11),e.qZA()()(),e.TgZ(12,"a",5),e._UZ(13,"app-spirit-type-icon",6),e.TgZ(14,"span",7),e._uU(15," Elder Spirits "),e.TgZ(16,"span",8),e._uU(17),e.qZA()()(),e.TgZ(18,"a",5),e._UZ(19,"app-spirit-type-icon",6),e.TgZ(20,"span",7),e._uU(21," Season Spirits "),e.TgZ(22,"span",8),e._uU(23),e.qZA()()(),e.TgZ(24,"a",5),e._UZ(25,"app-spirit-type-icon",6),e.TgZ(26,"span",7),e._uU(27," Season Guides "),e.TgZ(28,"span",8),e._uU(29),e.qZA()()(),e.TgZ(30,"a",9)(31,"mat-icon",10),e._uU(32,"hikings"),e.qZA(),e.TgZ(33,"span",7),e._uU(34," Traveling Spirits "),e.TgZ(35,"span",8),e._uU(36),e.qZA()()(),e.TgZ(37,"a",9)(38,"mat-icon",10),e._uU(39,"flight"),e.qZA(),e.TgZ(40,"span",7),e._uU(41," Special Visits "),e.TgZ(42,"span",8),e._uU(43),e.qZA()()()()()()),2&c&&(e.xp6(6),e.Q6J("routerLink",e.DdM(20,il))("queryParams",e.DdM(21,Xd)),e.xp6(1),e.Q6J("type","Regular"),e.xp6(4),e.hij("(",d.spiritCounts.Regular,")"),e.xp6(1),e.Q6J("routerLink",e.DdM(22,il))("queryParams",e.DdM(23,t0)),e.xp6(1),e.Q6J("type","Elder"),e.xp6(4),e.hij("(",d.spiritCounts.Elder,")"),e.xp6(1),e.Q6J("routerLink",e.DdM(24,il))("queryParams",e.DdM(25,O1)),e.xp6(1),e.Q6J("type","Season"),e.xp6(4),e.hij("(",d.spiritCounts.Season,")"),e.xp6(1),e.Q6J("routerLink",e.DdM(26,il))("queryParams",e.DdM(27,N1)),e.xp6(1),e.Q6J("type","Guide"),e.xp6(4),e.hij("(",d.spiritCounts.Guide,")"),e.xp6(1),e.Q6J("routerLink",e.DdM(28,n0)),e.xp6(6),e.hij("(",d.tsCount,")"),e.xp6(1),e.Q6J("routerLink",e.DdM(29,o0)),e.xp6(6),e.hij("(",d.rsCount,")"))},dependencies:[J.rH,W.Hw,Oa]})}return r})();var r0=M(9074),zp=M.n(r0),s0=M(655);let a0=(()=>{class r{transform(i){switch(i){case di.q.Hat:return"Hat";case di.q.Hair:return"Hair";case di.q.Mask:return"Mask";case di.q.FaceAccessory:return"Face accessory";case di.q.Necklace:return"Necklace";case di.q.Outfit:return"Outfit";case di.q.Shoes:return"Shoes";case di.q.Cape:return"Cape";case di.q.Instrument:return"Instrument";case di.q.Held:return"Held prop";case di.q.Prop:return"Placeable prop";case di.q.Emote:return"Emote";case di.q.Stance:return"Stance";case di.q.Call:return"Call";case di.q.Spell:return"Spell";case di.q.Music:return"Music sheet";case di.q.Quest:return"Quest";case di.q.WingBuff:return"Wing buff";case di.q.Special:return"Special";default:return"Unknown"}}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275pipe=e.Yjl({name:"itemType",type:r,pure:!0})}return r})();const c0=["input"];function eh(r,f){1&r&&e._uU(0,"Type")}function ol(r,f){1&r&&e._uU(0,"Icon")}function th(r,f){1&r&&e._uU(0,"Name")}function ou(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"itemType"),e.qZA()),2&r){const i=e.oxw().row;e.xp6(1),e.Oqu(e.lcZ(2,1,i.data.type))}}function Yp(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const i=e.oxw().row;e.xp6(1),e.Oqu(i.type)}}function rl(r,f){if(1&r&&(e.YNc(0,ou,3,3,"span",16),e.YNc(1,Yp,2,1,"ng-template",null,17,e.W1O)),2&r){const i=f.row,c=e.MAs(2);e.Q6J("ngIf","Item"===i.type)("ngIfElse",c)}}function Wp(r,f){if(1&r&&(e.TgZ(0,"div",19,20),e._UZ(2,"app-icon",21),e.TgZ(3,"mat-icon",22),e._uU(4,"done"),e.qZA()()),2&r){const i=e.oxw().row;e.xp6(2),e.Q6J("src",i.data.iconUrl),e.xp6(1),e.ekj("self",i.data.unlocked)("unlocked",i.data.unlocked)}}function l0(r,f){if(1&r&&(e.TgZ(0,"div",19,23),e._UZ(2,"app-icon",21),e.TgZ(3,"mat-icon",22),e._uU(4,"done"),e.qZA()()),2&r){const i=e.oxw().row;e.xp6(2),e.Q6J("src",i.data.icon),e.xp6(1),e.ekj("self",i.data.unlocked)("unlocked",i.data.unlocked)}}function sl(r,f){if(1&r&&(e.TgZ(0,"div",19,24),e._UZ(2,"app-icon",25),e.qZA()),2&r){const i=e.oxw().row;e.xp6(2),e.Q6J("src",i.data.imageUrl)("width","auto")}}function u0(r,f){if(1&r&&(e.YNc(0,Wp,5,5,"div",18),e.YNc(1,l0,5,5,"div",18),e.YNc(2,sl,3,2,"div",18)),2&r){const i=f.row;e.Q6J("ngIf",i.data.iconUrl),e.xp6(1),e.Q6J("ngIf",i.data.icon),e.xp6(1),e.Q6J("ngIf",!(i.data.iconUrl||i.data.icon)&&i.data.imageUrl)}}function d0(r,f){if(1&r&&(e.TgZ(0,"a",26),e._UZ(1,"span",27),e.qZA()),2&r){const i=f.row;e.ekj("link",i.route),e.Q6J("routerLink",i.route)("queryParams",i.queryParams),e.xp6(1),e.Q6J("innerHTML",i.highlightedName||i.name,e.oJD)}}function h0(r,f){if(1&r&&(e.TgZ(0,"div",10)(1,"app-table",11),e.YNc(2,eh,1,0,"ng-template",12),e.YNc(3,ol,1,0,"ng-template",13),e.YNc(4,th,1,0,"ng-template",14),e.YNc(5,rl,3,2,"ng-template",15),e.YNc(6,u0,3,3,"ng-template",15),e.YNc(7,d0,2,5,"ng-template",15),e.qZA()()),2&r){const i=e.oxw();e.xp6(1),e.Q6J("rows",i.searchResults),e.xp6(1),e.Q6J("fit",!0),e.xp6(1),e.Q6J("fit",!0)("textAlign","center")}}function f0(r,f){if(1&r){const i=e.EpF();e.TgZ(0,"div",28),e._uU(1," There are no results. Try searching for "),e.TgZ(2,"a",29),e.NdJ("click",function(d){e.CHM(i);const D=e.oxw();return e.KtG(D.searchDemo(d))}),e._uU(3),e.qZA(),e._uU(4,"! "),e.qZA()}if(2&r){const i=e.oxw();e.xp6(3),e.Oqu(i.demoText)}}function nh(r,f){if(1&r){const i=e.EpF();e.TgZ(0,"div",30)(1,"div",3)(2,"span",29),e.NdJ("click",function(){e.CHM(i);const d=e.oxw();return e.KtG(d.focusInput())}),e._uU(3,"Refine your search for more results."),e.qZA()()()}}let ru=(()=>{class r{static#e=this.items=[];constructor(i,c,d,D,x){this._dataService=i,this._eventService=c,this._changeDetectorRef=d,this._route=D,this._router=x,this.demoText="Gratitude",r.items.length||this.initializeItems()}initializeItems(){r.items.push(...this._dataService.itemConfig.items.filter(i=>{if("Spell"!==i.type&&"Quest"!==i.type&&"Special"!==i.type&&!("Emote"===i.type&&i.level>1))return!0}).map(i=>({name:i.name,type:"Item",data:i,search:i.name}))),r.items.push(...this._dataService.spiritConfig.items.filter(i=>"Special"!==i.type&&"Event"!==i.type).map(i=>({name:i.name,type:"Spirit",data:i,search:i.name}))),r.items.push(...this._dataService.seasonConfig.items.map(i=>({name:i.name,type:"Season",data:i,search:i.name}))),r.items.push(...this._dataService.eventConfig.items.map(i=>({name:i.name,type:"Event",data:i,search:i.name}))),r.items.forEach(i=>{"string"==typeof i.search&&(i.search=zp().prepare(i.search))})}ngAfterViewInit(){if(!this.input)return;this.resetSubscription=this._eventService.searchReset.subscribe(()=>{this.input?.nativeElement&&(this.input.nativeElement.setSelectionRange(0,this.input.nativeElement.value.length),this.input.nativeElement.focus())});const i=this._route.snapshot.queryParamMap.get("search");i&&(this.input.nativeElement.value=i,setTimeout(()=>{this.search()})),this._route.snapshot.queryParamMap.get("focus")&&this.input.nativeElement.focus(),this.searchSubscription=rt(this.input.nativeElement,"input").pipe((0,s0.b)(250)).subscribe(()=>{this.updateCurrentRoute()})}updateCurrentRoute(){const i=this.input?.nativeElement.value||"";let c=window.location.pathname;i&&(c+=`?search=${encodeURIComponent(i)}`),window.history.replaceState(window.history.state,"",c)}searchDemo(i){this.input?.nativeElement&&(this.input.nativeElement.value=i.target.innerText,this.search(),this.updateCurrentRoute(),this._changeDetectorRef.markForCheck())}search(){const i=0===this.searchResults?.length,c=this.input?.nativeElement.value||"";if(!c)return void(this.searchResults=void 0);const d=zp().go(c,r.items,{key:"search",limit:25});if(this.searchResults=d.map(D=>(D.obj.highlightedName=zp().highlight(D,"<b>","</b>")??"",this.setItemLink(D.obj),D.obj)),!i&&!this.searchResults.length){const D=this._dataService.seasonConfig.items,x=D[Math.floor(Math.random()*D.length)];this.demoText=x.shortName}this._changeDetectorRef.markForCheck()}setItemLink(i){switch(i.route=void 0,i.queryParams=void 0,i.type){case"Item":const c=sc.getItemLink(i.data);i.route=c?.route,i.queryParams=c?.extras?.queryParams||void 0;break;case"Spirit":i.route=["/spirit",i.data.guid];break;case"Season":i.route=["/season",i.data.guid];break;case"Event":i.route=["/event",i.data.guid]}}focusInput(){this.input?.nativeElement.focus(),scrollTo(0,0)}unsubscribe(){this.searchSubscription?.unsubscribe()}ngOnDestroy(){this.unsubscribe()}static#t=this.\u0275fac=function(c){return new(c||r)(e.Y36(He.D),e.Y36(Ye),e.Y36(e.sBO),e.Y36(J.gz),e.Y36(J.F0))};static#n=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-search"]],viewQuery:function(c,d){if(1&c&&e.Gf(c0,5),2&c){let D;e.iGM(D=e.CRH())&&(d.input=D.first)}},decls:13,vars:3,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h3","mb-0"],[1,"sky-card-body"],[1,"search"],["type","search","placeholder","Tip: use Ctrl+Shift+F to start a new search at any time.",1,"input",3,"input"],["input",""],["class","mt",4,"ngIf"],["class","container mt",4,"ngIf"],["class","sky-card mt",4,"ngIf"],[1,"mt"],[3,"rows"],[3,"appTableHeader","fit"],[3,"appTableHeader","fit","textAlign"],[3,"appTableHeader"],[3,"appTableColumn"],[4,"ngIf","ngIfElse"],["type",""],["class","result-icon",4,"ngIf"],[1,"result-icon"],["iconUrl",""],[3,"src"],[1,"unlock-check"],["icon",""],["imageUrl",""],[3,"src","width"],[3,"routerLink","queryParams"],[3,"innerHTML"],[1,"container","mt"],[1,"link",3,"click"],[1,"sky-card","mt"]],template:function(c,d){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Search"),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4)(6,"input",5,6),e.NdJ("input",function(){return d.search()}),e.qZA(),e.TgZ(8,"mat-icon"),e._uU(9,"search"),e.qZA()(),e.YNc(10,h0,8,4,"div",7),e.YNc(11,f0,5,1,"div",8),e.qZA()(),e.YNc(12,nh,4,0,"div",9)),2&c&&(e.xp6(10),e.Q6J("ngIf",null==d.searchResults?null:d.searchResults.length),e.xp6(1),e.Q6J("ngIf",d.searchResults&&!d.searchResults.length),e.xp6(1),e.Q6J("ngIf",(null==d.searchResults?null:d.searchResults.length)>=25))},dependencies:[Q.O5,J.rH,W.Hw,Ns,ks,Sa,Ia,a0],styles:[".search[_ngcontent-%COMP%]{position:relative}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:36px}.search[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;left:8px;top:50%;transform:translateY(-50%);opacity:1;transition:opacity var(--animation-short)}.result-icon[_ngcontent-%COMP%]{position:relative;display:inline-block;width:var(--item-size);height:var(--item-size);text-align:center;overflow:hidden;border-radius:var(--border-radius)}"],changeDetection:0})}return r})();function su(r,f){1&r&&e._UZ(0,"div",15)}function k1(r,f){if(1&r&&(e.TgZ(0,"div",16),e._UZ(1,"img",17),e.qZA()),2&r){const i=e.oxw(3);e.xp6(1),e.Q6J("src",i.spirit.imageUrl,e.LSH)("alt",i.spirit.name)}}function p0(r,f){if(1&r&&(e.TgZ(0,"div",12),e.YNc(1,su,1,0,"div",13),e.YNc(2,k1,2,2,"div",14),e.qZA()),2&r){const i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==i.options?null:i.options.homeBackground),e.xp6(1),e.Q6J("ngIf",i.spirit.imageUrl)}}const g0=function(r){return["/spirit",r]},al=function(r){return{highlightTree:r}};function m0(r,f){if(1&r&&(e.TgZ(0,"a",18),e._UZ(1,"app-spirit-type-icon",19),e.TgZ(2,"span",20),e._uU(3),e.qZA()()),2&r){const i=e.oxw(2);e.Udp("order",i.sections.ts),e.Q6J("routerLink",e.VKq(6,g0,i.ts.spirit.guid))("queryParams",e.VKq(8,al,i.ts.tree.guid)),e.xp6(1),e.Q6J("type",i.spirit.type),e.xp6(2),e.Oqu(i.spirit.name)}}function qp(r,f){if(1&r&&(e.TgZ(0,"div",21)(1,"mat-icon"),e._uU(2,"calendar_month"),e.qZA(),e.TgZ(3,"span",20),e._uU(4),e.ALo(5,"dayjs"),e.ALo(6,"dayjs"),e.TgZ(7,"span",22),e._uU(8," ("),e._UZ(9,"app-days-left",23),e._uU(10,") "),e.qZA()()()),2&r){const i=e.oxw(2);e.Udp("order",i.sections.ts),e.xp6(4),e.AsE(" ",e.lcZ(5,6,i.ts.date)," to ",e.lcZ(6,8,i.ts.endDate)," "),e.xp6(5),e.Q6J("start",i.ts.date)("end",i.ts.endDate)}}function _0(r,f){if(1&r&&e._UZ(0,"app-wiki-link",24),2&r){const i=e.oxw(2);e.Q6J("wiki",i.spirit._wiki)("aClass","spirit-grid-item sky-card-item sky-card-item-icon")("order",i.sections.wiki)}}function v0(r,f){if(1&r&&e._UZ(0,"img",27),2&r){const i=e.oxw(3);e.Q6J("src",i.spirit.season.iconUrl,e.LSH)}}function Jp(r,f){1&r&&(e.TgZ(0,"mat-icon"),e._uU(1,"ac_unit"),e.qZA())}const Kp=function(r){return["/season",r]};function Qp(r,f){if(1&r&&(e.TgZ(0,"a",18),e.YNc(1,v0,1,1,"img",25),e.YNc(2,Jp,2,0,"ng-template",null,26,e.W1O),e.TgZ(4,"span",20),e._uU(5),e.qZA()()),2&r){const i=e.MAs(3),c=e.oxw(2);e.Udp("order",c.sections.season),e.Q6J("routerLink",e.VKq(7,Kp,null==c.spirit.season?null:c.spirit.season.guid))("queryParams",e.VKq(9,al,null==c.spirit.tree?null:c.spirit.tree.guid)),e.xp6(1),e.Q6J("ngIf",null==c.spirit.season?null:c.spirit.season.iconUrl)("ngIfElse",i),e.xp6(4),e.hij(" ",null==c.spirit.season?null:c.spirit.season.name," ")}}const y0=function(r){return["/event",r]};function D0(r,f){if(1&r&&(e.TgZ(0,"a",29),e._uU(1),e.qZA()),2&r){const i=e.oxw(3);e.Q6J("routerLink",e.VKq(2,y0,i.event.guid)),e.xp6(1),e.hij(" ",i.event.name," ")}}function b0(r,f){if(1&r&&(e.TgZ(0,"div",21)(1,"mat-icon"),e._uU(2,"event"),e.qZA(),e.YNc(3,D0,2,4,"a",28),e.qZA()),2&r){const i=e.oxw(2);e.Udp("order",i.sections.event),e.xp6(3),e.Q6J("ngIf",i.event)}}function Xp(r,f){1&r&&(e.TgZ(0,"span",20),e._uU(1," Regular Spirit "),e.qZA())}function ih(r,f){if(1&r&&(e.TgZ(0,"span",20),e._uU(1),e.qZA()),2&r){const i=e.oxw(3);e.xp6(1),e.hij(" ",i.spirit.type," ")}}const oh=function(){return["/spirit"]},C0=function(r){return{type:r}};function au(r,f){if(1&r&&(e.TgZ(0,"a",18)(1,"mat-icon"),e._uU(2,"person"),e.qZA(),e.YNc(3,Xp,2,0,"span",30),e.YNc(4,ih,2,1,"span",30),e.qZA()),2&r){const i=e.oxw(2);e.Udp("order",i.sections.regular),e.Q6J("routerLink",e.DdM(6,oh))("queryParams",e.VKq(7,C0,i.spirit.type)),e.xp6(3),e.Q6J("ngIf","Regular"===i.spirit.type),e.xp6(1),e.Q6J("ngIf","Elder"===i.spirit.type||"Special"===i.spirit.type)}}const cu=function(r){return["/realm",r]};function rh(r,f){if(1&r&&(e.TgZ(0,"div",21)(1,"mat-icon"),e._uU(2,"map"),e.qZA(),e.TgZ(3,"a",31),e._uU(4),e.qZA()()),2&r){const i=e.oxw(2);e.Udp("order",i.sections.realm),e.xp6(3),e.Q6J("routerLink",e.VKq(5,cu,i.spirit.area.realm.guid))("queryParams",e.VKq(7,al,null==i.spirit.tree?null:i.spirit.tree.guid)),e.xp6(1),e.hij(" ",i.spirit.area.realm.name," ")}}function eg(r,f){if(1&r&&(e.TgZ(0,"div",21)(1,"mat-icon"),e._uU(2,"location_on"),e.qZA(),e.TgZ(3,"span",20),e._uU(4),e.qZA()()),2&r){const i=e.oxw(2);e.Udp("order",i.sections.area),e.xp6(4),e.hij(" ",i.spirit.area.name," ")}}function w0(r,f){if(1&r&&(e.TgZ(0,"div",21)(1,"mat-icon",32),e._uU(2,"sell"),e.qZA(),e.TgZ(3,"span",20),e._UZ(4,"app-cost",33),e.qZA()()),2&r){const i=e.oxw(2);e.Udp("order",i.sections.cost),e.xp6(4),e.Q6J("cost",i.cost)("remaining",i.remainingCost)("borderLeft",!0)}}function E0(r,f){if(1&r&&(e.TgZ(0,"div",1)(1,"div",2)(2,"div",3),e.Hsn(3,0,["[select]","title"]),e.qZA(),e.TgZ(4,"h2",4),e._UZ(5,"app-spirit-type-icon",5),e._uU(6),e.qZA()(),e.TgZ(7,"div",6),e.YNc(8,p0,3,2,"div",7),e.TgZ(9,"div",8),e.YNc(10,m0,4,10,"a",9),e.YNc(11,qp,11,10,"div",10),e.YNc(12,_0,1,3,"app-wiki-link",11),e.YNc(13,Qp,6,11,"a",9),e.YNc(14,b0,4,3,"div",10),e.YNc(15,au,5,9,"a",9),e.YNc(16,rh,5,9,"div",10),e.YNc(17,eg,5,3,"div",10),e.YNc(18,w0,5,5,"div",10),e.qZA()()()),2&r){const i=e.oxw();e.xp6(5),e.Q6J("type",i.spirit.type),e.xp6(1),e.hij(" ",i.spirit.name," "),e.xp6(2),e.Q6J("ngIf",i.sections.img&&i.spirit.imageUrl),e.xp6(2),e.Q6J("ngIf",i.sections.ts&&i.ts),e.xp6(1),e.Q6J("ngIf",i.sections.ts&&i.ts),e.xp6(1),e.Q6J("ngIf",i.sections.wiki),e.xp6(1),e.Q6J("ngIf",i.sections.season&&("Season"===i.spirit.type||"Guide"===i.spirit.type)),e.xp6(1),e.Q6J("ngIf",i.sections.event&&"Event"===i.spirit.type),e.xp6(1),e.Q6J("ngIf",i.sections.regular&&("Regular"===i.spirit.type||"Elder"===i.spirit.type||"Special"===i.spirit.type)),e.xp6(1),e.Q6J("ngIf",i.sections.realm&&(null==i.spirit.area?null:i.spirit.area.realm)),e.xp6(1),e.Q6J("ngIf",i.sections.area&&i.spirit.area),e.xp6(1),e.Q6J("ngIf",i.sections.cost&&i.cost)}}const T0=["*"];let lu=(()=>{class r{constructor(){this.options={show:["img","wiki","season","event","realm","area"]},this.sections={}}ngOnInit(){this.updateSections()}ngOnChanges(i){i.spirit&&this.updateSpirit(),i.options&&this.updateSections(),i.tree&&this.updateCosts()}updateSpirit(){this.typeName=(new ev).transform(this.spirit.type),this.event=this.spirit?.events?.at(-1)?.eventInstance?.event}updateSections(){this.sections={},this.options.show?.forEach((i,c)=>{this.sections[i]=c+2})}updateCosts(){if(this.cost=this.remainingCost=void 0,!this.tree)return;const i=Se.f.all(this.tree.node);this.cost=Wi.T.add(Wi.T.create(),...i);const c=i.filter(d=>!d.unlocked&&!d.item?.unlocked);this.remainingCost=Wi.T.add(Wi.T.create(),...c)}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-spirit-card"]],inputs:{spirit:"spirit",ts:"ts",tree:"tree",options:"options"},features:[e.TTD],ngContentSelectors:T0,decls:1,vars:1,consts:[["class","sky-card",4,"ngIf"],[1,"sky-card"],[1,"sky-card-header"],[1,"title-select"],[1,"h3","mb-0","title-default"],[3,"type"],[1,"sky-card-body"],["class","spirit-grid-img spirit-grid-item sky-card-item",4,"ngIf"],[1,"spirit-grid","mt"],["class","spirit-grid-item sky-card-item sky-card-item-icon",3,"routerLink","queryParams","order",4,"ngIf"],["class","spirit-grid-item sky-card-item sky-card-item-icon",3,"order",4,"ngIf"],[3,"wiki","aClass","order",4,"ngIf"],[1,"spirit-grid-img","spirit-grid-item","sky-card-item"],["class","spirit-img-bg",4,"ngIf"],["class","spirit-img",4,"ngIf"],[1,"spirit-img-bg"],[1,"spirit-img"],[3,"src","alt"],[1,"spirit-grid-item","sky-card-item","sky-card-item-icon",3,"routerLink","queryParams"],[1,"menu-icon",3,"type"],[1,"menu-label"],[1,"spirit-grid-item","sky-card-item","sky-card-item-icon"],[1,"c-accent"],[3,"start","end"],[3,"wiki","aClass","order"],["class","icon",3,"src",4,"ngIf","ngIfElse"],["seasonIcon",""],[1,"icon",3,"src"],["class","menu-label",3,"routerLink",4,"ngIf"],[1,"menu-label",3,"routerLink"],["class","menu-label",4,"ngIf"],[1,"menu-label",3,"routerLink","queryParams"],[1,"menu-icon"],[3,"cost","remaining","borderLeft"]],template:function(c,d){1&c&&(e.F$t(),e.YNc(0,E0,19,12,"div",0)),2&c&&e.Q6J("ngIf",d.spirit)},dependencies:[Q.O5,J.rH,W.Hw,Oa,Aa,$c,fr,us],styles:[".spirit-img[_ngcontent-%COMP%]{position:relative}.spirit-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:var(--border-radius);padding:5px 0;width:auto;height:192px;max-height:192px}.title-select[_ngcontent-%COMP%]:not(:empty) + .title-default[_ngcontent-%COMP%]{display:none}.spirit-img-bg[_ngcontent-%COMP%]{position:absolute;inset:0;background-image:url(https://silverfeelin.github.io/SkyGame-Planner/assets/game/realms/Home.webp);background-size:cover;background-position:bottom;filter:brightness(.6) blur(4px)}.spirit-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-template-rows:1fr;gap:8px}.spirit-grid-img[_ngcontent-%COMP%]{position:relative;grid-area:1 / 1 / 2 / 2;width:100%;height:100%;padding:0}.spirit-grid-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.spirit-img[_ngcontent-%COMP%]{width:auto;height:var(--img-preview-height)}.spirit-grid-item[_ngcontent-%COMP%]{width:100%;overflow:auto;border:var(--border-solid)}"],changeDetection:0})}return r})();function uu(r,f){if(1&r&&(e.TgZ(0,"span",11),e._uU(1),e.ALo(2,"dayjs"),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.Oqu(e.xi3(2,1,i.nowLocal,"HH:mm:ss"))}}function sh(r,f){if(1&r&&(e.TgZ(0,"span",11),e._uU(1),e.ALo(2,"dayjs"),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.Oqu(e.xi3(2,1,i.nowSky,"HH:mm:ss"))}}let tg=(()=>{class r{constructor(i){this._changeDetectorRef=i,this.localDegHr=0,this.localDegMin=0,this.localDegSec=0,this.skyDegHr=0,this.skyDegMin=0,this.skyDegSec=0}ngOnInit(){this.updateTime(),this._interval=window.setInterval(()=>{this.updateTime()},1e3)}ngOnDestroy(){this._interval&&window.clearInterval(this._interval)}updateTime(){this.nowLocal=ao()();const i=this.nowLocal.hour(),c=this.nowLocal.minute();this.localDegHr=i%12*30+.5*c+180,this.localDegMin=6*c+180,this.localDegSec=6*this.nowLocal.second()+180,this.nowSky=this.nowLocal.tz(De.O.skyTimeZone);const d=this.nowSky.hour(),D=this.nowSky.minute();this.skyDegHr=d%12*30+.5*D+180,this.skyDegMin=6*D+180,this.skyDegSec=6*this.nowSky.second()+180,this._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-clock"]],decls:25,vars:14,consts:[[1,"clock"],[1,"clock-item"],[1,"container"],[1,"sky-clock"],[1,"hand-hour","hand"],[1,"hand-minute","hand"],[1,"hand-second","hand"],[1,"hand-inner"],[1,"clock-text"],[1,"clock-title"],["class","clock-time",4,"ngIf"],[1,"clock-time"]],template:function(c,d){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),e.qZA(),e.TgZ(8,"div",8)(9,"span",9),e._uU(10,"Local time"),e.qZA(),e._UZ(11,"br"),e.YNc(12,uu,3,4,"span",10),e.qZA()()(),e.TgZ(13,"div",1)(14,"div",2)(15,"div",3),e._UZ(16,"div",4)(17,"div",5)(18,"div",6)(19,"div",7),e.qZA(),e.TgZ(20,"div",8)(21,"span",9),e._uU(22,"Sky time"),e.qZA(),e._UZ(23,"br"),e.YNc(24,sh,3,4,"span",10),e.qZA()()()()),2&c&&(e.xp6(4),e.Udp("transform","rotate("+d.localDegHr+"deg)"),e.xp6(1),e.Udp("transform","rotate("+d.localDegMin+"deg)"),e.xp6(1),e.Udp("transform","rotate("+d.localDegSec+"deg)"),e.xp6(6),e.Q6J("ngIf",d.nowLocal),e.xp6(4),e.Udp("transform","rotate("+d.skyDegHr+"deg)"),e.xp6(1),e.Udp("transform","rotate("+d.skyDegMin+"deg)"),e.xp6(1),e.Udp("transform","rotate("+d.skyDegSec+"deg)"),e.xp6(6),e.Q6J("ngIf",d.nowSky))},dependencies:[Q.O5,us],styles:[".clock[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:row;flex-wrap:wrap;align-items:stretch;gap:var(--padding-content);overflow:hidden}.clock-item[_ngcontent-%COMP%]{text-align:center;flex:1 1 auto}.clock-title[_ngcontent-%COMP%]{font-size:34px;line-height:34px}.clock-time[_ngcontent-%COMP%]{font-size:52px;line-height:52px}.clock-text[_ngcontent-%COMP%]{vertical-align:top;display:inline-block;filter:var(--shadow-clock)}.sky-clock[_ngcontent-%COMP%]{position:relative;display:none;top:0;width:92px;height:92px;border-radius:100%;border:solid var(--color);border-width:9px;box-sizing:border-box;filter:var(--shadow-clock)}.hand[_ngcontent-%COMP%]{position:absolute;top:50%;left:calc(50% - 3px);transform-origin:3px 0;width:6px;border-radius:0 0 50px 50px;background-color:var(--color);outline:var(--shadow-clock)}.hand-hour[_ngcontent-%COMP%]{height:21px}.hand-minute[_ngcontent-%COMP%]{height:32px}.hand-second[_ngcontent-%COMP%]{height:32px;width:2px;left:calc(50% - 1px);transform-origin:1px 0}.hand-inner[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);height:6px;width:6px;border-radius:100%;background:var(--color)}@media screen and (min-width: 992px){.clock-title[_ngcontent-%COMP%]{font-size:36px;line-height:36px}.clock-time[_ngcontent-%COMP%]{font-size:60px;line-height:60px}.sky-clock[_ngcontent-%COMP%]{display:inline-block}.clock-text[_ngcontent-%COMP%]{margin-left:20px}}@media screen and (min-width: 1400px){.clock-title[_ngcontent-%COMP%]{font-size:44px;line-height:44px}.clock-time[_ngcontent-%COMP%]{font-size:72px;line-height:90px}.sky-clock[_ngcontent-%COMP%]{width:128px;height:128px;border-width:12px}.hand[_ngcontent-%COMP%]{left:calc(50% - 4px);transform-origin:4px 0;width:8px}.hand-hour[_ngcontent-%COMP%]{height:28px}.hand-minute[_ngcontent-%COMP%]{height:48px}.hand-second[_ngcontent-%COMP%]{height:48px;transform-origin:1px 0;width:2px;left:calc(50% - 1px)}.hand-inner[_ngcontent-%COMP%]{height:8px;width:8px}}"],changeDetection:0})}return r})();function M0(r,f){1&r&&(e.TgZ(0,"div",8)(1,"div",1)(2,"div",9),e._uU(3," There is currently no season or event active."),e._UZ(4,"br"),e._uU(5," You can view items, seasons, events and more in the menu on the left. "),e.qZA()()())}const ng=function(){return["img","overview","date","checkin","cost"]},ah=function(r){return{show:r}};function ch(r,f){if(1&r&&e._UZ(0,"app-season-card",10),2&r){const i=e.oxw();e.Q6J("season",i.season)("options",e.VKq(3,ah,e.DdM(2,ng)))}}function ig(r,f){if(1&r&&e._UZ(0,"app-event-card",11),2&r){const i=e.oxw();e.Q6J("event",i.eventInstance.event)("instance",i.eventInstance)("options",e.VKq(4,ah,e.DdM(3,ng)))}}const lh=function(){return["img","ts","cost"]},og=function(r){return{homeBackground:!0,show:r}};function A0(r,f){if(1&r&&(e.TgZ(0,"app-spirit-card",12)(1,"div",13)(2,"h2",14),e._uU(3,"Traveling Spirit "),e.TgZ(4,"span",15),e._uU(5),e.qZA()()()()),2&r){const i=e.oxw();e.Q6J("spirit",i.ts.spirit)("ts",i.ts)("tree",i.ts.tree)("options",e.VKq(6,og,e.DdM(5,lh))),e.xp6(5),e.hij("(#",i.ts.number,")")}}let rg=(()=>{class r{constructor(i){this._dataService=i}ngOnInit(){this.season=this._dataService.seasonConfig.items.findLast(i=>De.O.isActive(i.date,i.endDate)),this.ts=this._dataService.travelingSpiritConfig.items.findLast(i=>De.O.isActive(i.date,i.endDate));for(const i of this._dataService.eventConfig.items){const c=i.instances?.findLast(d=>De.O.isActive(d.date,d.endDate));if(c){this.eventInstance=c;break}}}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(He.D))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-dashboard"]],decls:10,vars:4,consts:[[1,"sky-card"],[1,"sky-card-body"],[1,"mt"],["class","sky-card mt",4,"ngIf"],[1,"grid","grid-2","mt"],[3,"season","options",4,"ngIf"],[3,"event","instance","options",4,"ngIf"],[3,"spirit","ts","tree","options",4,"ngIf"],[1,"sky-card","mt"],[1,"container"],[3,"season","options"],[3,"event","instance","options"],[3,"spirit","ts","tree","options"],["title",""],[1,"h3","mb-0"],[1,"c-accent","h4"]],template:function(c,d){1&c&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-clock"),e.qZA()(),e.TgZ(3,"div",2),e._UZ(4,"app-search"),e.qZA(),e.YNc(5,M0,6,0,"div",3),e.TgZ(6,"div",4),e.YNc(7,ch,1,5,"app-season-card",5),e.YNc(8,ig,1,6,"app-event-card",6),e.YNc(9,A0,6,8,"app-spirit-card",7),e.qZA()),2&c&&(e.xp6(5),e.Q6J("ngIf",!d.season&&!d.eventInstance&&!d.ts),e.xp6(2),e.Q6J("ngIf",d.season),e.xp6(1),e.Q6J("ngIf",d.eventInstance),e.xp6(1),e.Q6J("ngIf",d.ts))},dependencies:[Q.O5,ru,Ld,Uf,lu,tg],styles:[".show-empty[_ngcontent-%COMP%]{display:none}.show-empty[_ngcontent-%COMP%]:only-child{display:block}.img[_ngcontent-%COMP%]{height:var(--img-preview-height)}.search[_ngcontent-%COMP%]{position:relative;cursor:pointer}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:32px;cursor:pointer}.search[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;left:8px;top:50%;transform:translateY(-50%);opacity:1;transition:opacity var(--animation-short)}"]})}return r})(),sg=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-blank"]],decls:0,vars:0,template:function(c,d){},encapsulation:2,changeDetection:0})}return r})();const ag=function(){return["/col"]},cg=function(){return["/wing-buff"]};let S0=(()=>{class r{constructor(i,c){this._dataService=i,this._storageService=c,this.wb=0,this.totalWb=0,this.col=0,this.totalCol=0,this.col=c.unlockedCol.size,this.totalCol=this._dataService.wingedLightConfig.items.length;const d=this._dataService.itemConfig.items.filter(D=>D.type===di.q.WingBuff);this.wb=d.filter(D=>D.unlocked).length,this.totalWb=d.length}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(He.D),e.Y36(pt.V))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-winged-light"]],decls:16,vars:8,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card-body"],[1,"grid","grid-2"],[1,"container",3,"routerLink"],[1,""],[1,"c-accent"]],template:function(c,d){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Winged Light"),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4)(6,"a",5)(7,"span",6),e._uU(8," Children of Light "),e.TgZ(9,"span",7),e._uU(10),e.qZA()()(),e.TgZ(11,"a",5)(12,"span",6),e._uU(13," Wing Buffs "),e.TgZ(14,"span",7),e._uU(15),e.qZA()()()()()()),2&c&&(e.xp6(6),e.Q6J("routerLink",e.DdM(6,ag)),e.xp6(4),e.AsE("(",d.col," / ",d.totalCol,")"),e.xp6(1),e.Q6J("routerLink",e.DdM(7,cg)),e.xp6(4),e.AsE("(",d.wb," / ",d.totalWb,")"))},dependencies:[J.rH],styles:[".wl[_ngcontent-%COMP%]{color:var(--color-wing-buff)}"],changeDetection:0})}return r})();var lg=M(7198),Pa=M.n(lg);const uh=["table"];function du(r,f){}function ug(r,f){1&r&&e._uU(0,"Found")}function dg(r,f){1&r&&e._uU(0,"Area")}function hg(r,f){1&r&&e._uU(0,"Realm")}function fg(r,f){if(1&r){const i=e.EpF();e.TgZ(0,"span",17)(1,"mat-icon",18),e.NdJ("click",function(){const D=e.CHM(i).row,x=e.oxw();return e.KtG(x.showArea(D))}),e._uU(2,"location_on"),e.qZA()()}if(2&r){const i=f.row;e.ekj("completed",i.unlocked===i.wl.length)}}function pg(r,f){if(1&r){const i=e.EpF();e.TgZ(0,"span",19),e._uU(1),e.TgZ(2,"mat-icon",20),e.NdJ("click",function(){const D=e.CHM(i).row,x=e.oxw();return e.KtG(x.toggleRow(D))}),e._uU(3,"lock_open"),e.qZA()()}if(2&r){const i=f.row;e.ekj("completed",i.unlocked===i.wl.length),e.xp6(1),e.AsE(" ",i.unlocked," / ",i.wl.length," ")}}function gg(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const i=f.row;e.ekj("completed",i.unlocked===i.wl.length),e.xp6(1),e.Oqu(i.area.name)}}function mg(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const i=f.row;e.ekj("completed",i.unlocked===i.wl.length),e.xp6(1),e.Oqu(i.area.realm.name)}}let _g=(()=>{class r{constructor(i,c,d,D,x){this._dataService=i,this._storageService=c,this._activatedRoute=d,this._changeDetectorRef=D,this._zone=x,this.unlockedCol=0,this.totalCol=0,this.light=[],this.lightMap={},this.rowMap={},this.unlockedCol=c.unlockedCol.size,this.totalCol=this._dataService.wingedLightConfig.items.length;const Y=new Set;this.rows=[],this._dataService.wingedLightConfig.items.forEach(ee=>{const Oe=ee.area;if(!Oe||Y.has(Oe.guid))return;Y.add(Oe.guid);const Fe={area:Oe,wl:Oe.wingedLights||[],unlocked:(Oe.wingedLights||[]).filter(Nt=>Nt.unlocked).length};Fe.wl.forEach(Nt=>{this.rowMap[Nt.guid]=Fe}),this.rows.push(Fe)})}ngOnInit(){const i=Pa().icon({iconUrl:"assets/icons/light.svg",iconSize:[32,32],popupAnchor:[0,-12]});this.map=Pa().map("map",{crs:Pa().CRS.Simple,minZoom:-2,maxZoom:1,maxBounds:[[-3e3,-3e3],[3e3,3e3]]}).setView([-1e3,0],-1),Pa().imageOverlay("assets/game/map.webp",[[-2160,-2160],[2160,2160]],{attribution:'Map &copy; <a href="https://www.thatskygame.com/" target="_blank">Sky: Children of the Light</a>'}).addTo(this.map),Pa().imageOverlay("assets/game/void.webp",[[1025,-675],[1225,-475]]).addTo(this.map),document.cookie.includes("mapcopy=")&&this.map.on("click",Y=>{console.log(Y),navigator.clipboard.writeText(JSON.stringify([Math.floor(Y.latlng.lat),Math.floor(Y.latlng.lng)]))}),this.map.on("popupopen",Y=>{this.onPopupOpen(Y)});const c=this._activatedRoute.snapshot.queryParamMap,d=+(c.get("x")||0),D=+(c.get("y")||0),x=c.has("z")?+(c.get("z")||0):void 0;void 0!==x&&this.map.setView([d,D],x),this.map.on("moveend",()=>{const Y=new URL(location.href),ee=this.map.getCenter();Y.searchParams.set("x",`${Math.floor(ee.lat)}`),Y.searchParams.set("y",`${Math.floor(ee.lng)}`),Y.searchParams.set("z",`${this.map.getZoom()}`),window.history.replaceState(window.history.state,"",Y.pathname+Y.search)}),this._dataService.wingedLightConfig.items.forEach(Y=>{if(!Y.mapData)return;const ee={wl:Y};ee.marker=Pa().marker(Y.mapData.position,{icon:i,opacity:Y.unlocked?.4:1}).addTo(this.map),ee.marker.bindPopup(this.createPopup(Y),{maxWidth:480}),this.light.push(ee),this.lightMap[Y.guid]=ee}),window.markCol=(Y,ee)=>{this._zone.run(()=>{this.markCol(Y,ee)})},window.nextCol=(Y,ee)=>{this._zone.run(()=>{ee<0?this.prevCol(Y):this.nextCol(Y)})}}ngOnDestroy(){this.map?.remove()}scrollToList(){this.table&&this.table.nativeElement.scrollIntoView({behavior:"smooth",block:"start"})}reset(){confirm("Are you sure you want to reset your found Children of Light?")&&(this._storageService.unlockedCol.clear(),this._storageService.saveCol(),this._dataService.reloadUnlocked(),this.unlockedCol=0,this.rows.forEach(i=>i.unlocked=0),this.light.forEach(i=>{i.marker?.setOpacity(1)}),this.map.closePopup(),this._changeDetectorRef.markForCheck())}showArea(i){this.shownArea=i.area;const c=this.light.filter(D=>D.wl.area===this.shownArea),d=c.find(D=>!D.wl.unlocked)?.wl??c[0]?.wl;d&&this.flyAndOpen(d,!0)}toggleRow(i,c){c??=i.unlocked<i.wl.length,this.map.closePopup(),i.area.wingedLights?.forEach(d=>{this.toggleWingedLight(d,c),this.updateTable(d),this.updateMarker(d)})}createPopup(i){let c="",d=i.mapData?.videoUrl;d&&(d.includes("youtube")||(d=`https://silverfeelin.github.io/SkyGame-Planner-Videos/CoL/${d}`),c=`<iframe width="480" height="270" src="${d}" title="CoL" frameborder="0" allow="autoplay; encrypted-media;" allowfullscreen></iframe>`);let D="";return i._wiki?.href&&(D=`<a href="${i._wiki.href}" class="button link float-right" target="_blank">Wiki</a>`),`\n<div class="s-leaflet-tooltip" data-wl="${i.guid}" onkeydown="keydownCol(event, this)">\n  <div class="s-leaflet-grid">\n    <div class="container"><div class="menu-icon s-leaflet-maticon">map</div><div class="menu-label">${i.area?.realm?.name||""}</div></div>\n    <div class="container"><div class="menu-icon s-leaflet-maticon">location_on</div><div class="menu-label">${i.area?.name||""}</div></div>\n    <div class="container s-leaflet-desc">\n      <div class="menu-icon s-leaflet-maticon">description</div><div class="menu-label">${i.description||""}</div>\n    </div>\n  </div>\n  <div class="s-leaflet-mt">${c}</div>\n  <div class="s-leaflet-mt">\n    <button type="button" class="s-leaflet-hasicon s-leaflet-found" data-action="mark" onclick="markCol(this, '${i.guid}')">\n      <span class="s-leaflet-maticon">check_box_outline_blank</span>\n      <span class="s-leaflet-check-label">Found</span>\n    </button>\n    <button class="s-leaflet-hasicon" data-direction="left" type="button" onclick="nextCol('${i.guid}', -1)"><span class="s-leaflet-maticon">arrow_back</span>&nbsp;</button>\n    <button class="s-leaflet-hasicon" data-direction="right" type="button" onclick="nextCol('${i.guid}', 1)"><span class="s-leaflet-maticon">arrow_forward</span>&nbsp;</button>\n    ${D}\n  </div>\n</div>\n`}onPopupOpen(i){const c=i.popup.getElement()?.querySelector(".s-leaflet-tooltip");if(!c)return;const D=this._dataService.guidMap.get(c.dataset.wl);this.updatePopup(c,D)}updatePopup(i,c){i.querySelector(".s-leaflet-found .s-leaflet-maticon").innerText=c.unlocked?"check_box":"check_box_outline_blank"}updateMarker(i){const c=this.lightMap[i.guid];c&&c.marker?.setOpacity(i.unlocked?.4:1)}updateTable(i){const c=this.rowMap[i.guid];c&&(c.unlocked=(c.wl||[]).filter(d=>d.unlocked).length,this.unlockedCol=this._storageService.unlockedCol.size,this._changeDetectorRef.markForCheck())}flyAndOpen(i,c=!1){if(!i)return;const d=this.lightMap[i.guid];if(!d)return;c&&window.scrollTo({top:0,behavior:"smooth"}),this.map.closePopup();const D=i.mapData?.position||[0,0];this.map.flyTo([D[0]+200,D[1]],0),d.marker?.openPopup()}toggleWingedLight(i,c){i.unlocked="boolean"==typeof c?c:!i.unlocked,i.unlocked?this._storageService.addCol(i.guid):this._storageService.removeCol(i.guid),this._storageService.saveCol()}allDone(){this.map.closePopup(),this.map.setZoom(this.map.getMinZoom())}markCol(i,c){const d=this._dataService.guidMap.get(c);this.toggleWingedLight(d),this.updatePopup(i,d),this.updateMarker(d),this.updateTable(d),d.unlocked&&this.nextCol(c,!0)}prevCol(i){const c=this._dataService.guidMap.get(i),d=this._dataService.wingedLightConfig.items.findIndex(x=>x===c),D=this._dataService.wingedLightConfig.items[d-1]||this._dataService.wingedLightConfig.items[this._dataService.wingedLightConfig.items.length-1];this.lightMap[D.guid]?.marker?this.flyAndOpen(D):alert("Missing marker for previous Child of Light!")}nextCol(i,c=!1){const d=this._dataService.guidMap.get(i),D=this._dataService.wingedLightConfig.items.findIndex(ee=>ee===d);let Y,x=(D+1)%this._dataService.wingedLightConfig.items.length;for(;x!==D&&(Y=this._dataService.wingedLightConfig.items[x],Y.unlocked&&c);)x+=1,x%=this._dataService.wingedLightConfig.items.length;if(x!==D){if(Y){if(!this.lightMap[Y.guid]?.marker)return void alert("Missing marker for next Child of Light!");this.flyAndOpen(Y)}}else this.allDone()}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(He.D),e.Y36(pt.V),e.Y36(J.gz),e.Y36(e.sBO),e.Y36(e.R0b))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-children-of-light"]],viewQuery:function(c,d){if(1&c&&e.Gf(uh,7),2&c){let D;e.iGM(D=e.CRH())&&(d.table=D.first)}},decls:28,vars:7,consts:[["data-theme","dark",1,"map"],["id","map"],["type","button",1,"map-controls",3,"click"],[1,""],[1,"sky-card","mt"],["table",""],[1,"sky-card-header"],[1,"h3","mb-0","d-inline-block"],[1,"c-accent","show-desktop"],[1,"c-accent","show-mobile"],["type","button",1,"btn-reset",3,"click"],[1,"sky-card-body","scroll-x"],[3,"rows"],[3,"appTableHeader","fit"],[3,"appTableHeader","width"],[3,"appTableHeader"],[3,"appTableColumn"],[1,"link","map-icon"],[3,"click"],[1,"row-unlocked"],[1,"row-toggle",3,"click"]],template:function(c,d){1&c&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"button",2),e.NdJ("click",function(){return d.scrollToList()}),e.TgZ(3,"mat-icon"),e._uU(4,"arrow_downward"),e.qZA()()(),e.TgZ(5,"div",3)(6,"div",4,5)(8,"div",6)(9,"h2",7)(10,"span"),e._uU(11,"Children of Light"),e.qZA(),e.TgZ(12,"span",8),e._uU(13),e.qZA(),e.TgZ(14,"div",9),e._uU(15),e.qZA()(),e.TgZ(16,"button",10),e.NdJ("click",function(){return d.reset()}),e._uU(17,"Reset"),e.qZA()(),e.TgZ(18,"div",11)(19,"app-table",12),e.YNc(20,du,0,0,"ng-template",13),e.YNc(21,ug,1,0,"ng-template",14),e.YNc(22,dg,1,0,"ng-template",15),e.YNc(23,hg,1,0,"ng-template",15),e.YNc(24,fg,3,2,"ng-template",16),e.YNc(25,pg,4,4,"ng-template",16),e.YNc(26,gg,2,3,"ng-template",16),e.YNc(27,mg,2,3,"ng-template",16),e.qZA()()()()),2&c&&(e.xp6(13),e.AsE(" (",d.unlockedCol," / ",d.totalCol,")"),e.xp6(2),e.AsE("",d.unlockedCol," / ",d.totalCol,""),e.xp6(4),e.Q6J("rows",d.rows),e.xp6(1),e.Q6J("fit",!0),e.xp6(1),e.Q6J("width","84px"))},dependencies:[W.Hw,ks,Sa,Ia],styles:['.map[_ngcontent-%COMP%]{height:calc(100vh - 64px);max-height:800px;width:100%;position:relative}#map[_ngcontent-%COMP%]{height:100%;width:100%}.map-controls[_ngcontent-%COMP%]{position:absolute;z-index:9999;bottom:var(--padding-content);left:var(--padding-content);padding:var(--padding-content);color:var(--color-map-tooltip);background:var(--color-map-tooltip-background);border-radius:var(--border-radius);width:32px;height:32px}.map-controls[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;bottom:3px;left:3px}.btn-reset[_ngcontent-%COMP%]{color:var(--color-danger);background:var(--color-danger-background);border-color:var(--color-danger-accent);position:absolute;right:var(--padding-content);top:50%;transform:translateY(-50%)}input.map-input[_ngcontent-%COMP%]{width:auto;display:inline-block}.map-icon[_ngcontent-%COMP%]{position:relative;display:inline-block;width:24px}.map-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;top:-17px;left:0}.row-unlocked[_ngcontent-%COMP%]{position:relative;white-space:nowrap;padding-right:30px}.row-toggle[_ngcontent-%COMP%]{position:absolute;cursor:pointer;top:-3px;right:0}.completed[_ngcontent-%COMP%]{color:var(--color-unlock-check);font-weight:700}.show-desktop[_ngcontent-%COMP%]{display:none}@media screen and (min-width: 720px){.show-desktop[_ngcontent-%COMP%]{display:unset}.show-mobile[_ngcontent-%COMP%]{display:none}}  .leaflet-container{border-radius:var(--border-radius);background:#0F1520;outline:0}  .leaflet-popup-content{margin:6px!important}  .leaflet-popup-close-button{color:var(--color-map-tooltip)!important}  .leaflet-popup-content-wrapper{color:var(--color-map-tooltip)!important;background-color:var(--color-map-tooltip-background)!important;border-radius:var(--border-radius)!important;border:1px solid var(--color-map-tooltip-border)!important}  .leaflet-popup-tip{background-color:var(--color-map-tooltip-border)!important}  .s-leaflet-grid{display:grid;gap:6px;grid-template-columns:repeat(2,1fr)}  .s-leaflet-grid *:nth-child(n+3){grid-column:span 2}  .s-leaflet-tooltip .container{display:inline-block;border:none!important}  .s-leaflet-tooltip a{color:var(--color-map-tooltip)!important;text-decoration:none}  .s-leaflet-tooltip iframe{vertical-align:top;border-radius:var(--border-radius)!important}  .s-leaflet-mt{margin-top:6px!important}  .s-leaflet-hasicon{position:relative;min-width:32px}  .s-leaflet-hasicon .s-leaflet-maticon{position:absolute;left:4px}  .s-leaflet-check-label{margin-left:22px}  .s-leaflet-maticon{font-family:Material Symbols Outlined;font-variation-settings:"FILL" 1;font-size:22px;line-height:17px}'],changeDetection:0})}return r})();const er=r=>`${r} - Sky Planner`,ca=[{path:"",component:rg,title:"Sky Planner"},{path:"blank",component:sg,title:"Sky Planner"},{path:"credits",component:ne,title:er("Credits")},{path:"event",component:x_,title:er("Events")},{path:"event/:guid",component:w_,title:dc},{path:"event-instance/:guid",component:g_,title:Lp},{path:"item",component:F_,title:er("Items")},{path:"realm",component:D1,title:er("Realms")},{path:"realm/:guid",component:Jv,title:dc},{path:"season",component:X_,title:er("Seasons")},{path:"season/:guid",component:Ys,title:dc},{path:"settings",component:Vv,title:er("Settings")},{path:"shop",component:xv,title:er("Shops")},{path:"spirits",component:P1,title:er("Spirits")},{path:"spirit",component:$d,title:er("Spirits")},{path:"spirit/:guid",component:hp,title:dc},{path:"ts",component:Tp,title:er("Traveling Spirits")},{path:"rs",component:_c,title:er("Special Visits")},{path:"rs/:guid",component:Gp,title:dc},{path:"winged-light",component:S0,title:er("Winged Light")},{path:"wing-buff",component:Zv,title:er("Wing Buffs")},{path:"col",component:_g,title:er("Children of Light")},{path:"editor",loadChildren:()=>M.e(471).then(M.bind(M,4471)).then(r=>r.EditorModule)}];let I0=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({imports:[J.Bz.forRoot(ca,{scrollPositionRestoration:"enabled"}),J.Bz]})}return r})();var x0=M(736),dh=M.n(x0),ka=M(7014),hh=M.n(ka),O0=M(6669),fh=M.n(O0);function R1(r,f){if(1&r&&e._UZ(0,"img",11),2&r){const i=e.oxw();e.Q6J("src",i.seasonIconUrl,e.LSH)}}function F1(r,f){1&r&&(e.TgZ(0,"mat-icon"),e._uU(1,"ac_unit"),e.qZA())}let N0=(()=>{class r{constructor(i,c,d){this._dataService=i,this._breakpointObserver=c,this._router=d,this.wide=!1,c.observe(["(min-width: 992px)"]).subscribe(D=>this.onLg(D)),this.seasonIconUrl=i.seasonConfig.items.at(-1)?.iconUrl}onLg(i){this.wide=i.matches}gotoHome(i){i.preventDefault(),this._router.navigate(["/blank"],{skipLocationChange:!0}).then(()=>{this._router.navigate(["/"])})}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(He.D),e.Y36(ce.Yg),e.Y36(J.F0))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-menu"]],decls:66,vars:23,consts:[[1,"items"],["href","/","placement","right","container","body",1,"item",3,"ngbTooltip","click"],[1,"name","header"],["routerLinkActive","menu-active","placement","right","container","body",1,"item",3,"routerLink","ngbTooltip"],[1,"name"],["svgIcon","flaps"],["class","icon",3,"src",4,"ngIf","ngIfElse"],["seasonIcon",""],[1,"bottom"],["href","https://sky-clock.netlify.app/","target","_blank","placement","right","container","body",1,"item",3,"ngbTooltip"],["href","https://github.com/Silverfeelin/SkyGame-Planner/","target","_blank","placement","right","container","body",1,"item",3,"ngbTooltip"],[1,"icon",3,"src"]],template:function(c,d){if(1&c&&(e.TgZ(0,"aside")(1,"nav")(2,"div",0)(3,"a",1),e.NdJ("click",function(x){return d.gotoHome(x)}),e.TgZ(4,"mat-icon"),e._uU(5,"home"),e.qZA(),e.TgZ(6,"span",2),e._uU(7,"Sky Planner"),e.qZA()(),e._UZ(8,"hr"),e.TgZ(9,"a",3)(10,"mat-icon"),e._uU(11,"checkroom"),e.qZA(),e.TgZ(12,"span",4),e._uU(13,"Items"),e.qZA()(),e.TgZ(14,"a",3)(15,"mat-icon"),e._uU(16,"person"),e.qZA(),e.TgZ(17,"span",4),e._uU(18,"Spirits"),e.qZA()(),e.TgZ(19,"a",3),e._UZ(20,"mat-icon",5),e.TgZ(21,"span",4),e._uU(22,"Winged Light"),e.qZA()(),e.TgZ(23,"a",3)(24,"mat-icon"),e._uU(25,"map"),e.qZA(),e.TgZ(26,"span",4),e._uU(27,"Realms"),e.qZA()(),e.TgZ(28,"a",3),e.YNc(29,R1,1,1,"img",6),e.YNc(30,F1,2,0,"ng-template",null,7,e.W1O),e.TgZ(32,"span",4),e._uU(33,"Seasons"),e.qZA()(),e.TgZ(34,"a",3)(35,"mat-icon"),e._uU(36,"celebration"),e.qZA(),e.TgZ(37,"span",4),e._uU(38,"Events"),e.qZA()(),e.TgZ(39,"a",3)(40,"mat-icon"),e._uU(41,"shopping_cart"),e.qZA(),e.TgZ(42,"span",4),e._uU(43,"Permanent IAP"),e.qZA()(),e._UZ(44,"hr",8),e.TgZ(45,"a",9)(46,"mat-icon"),e._uU(47,"schedule"),e.qZA(),e.TgZ(48,"span",4),e._uU(49,"Sky Clock"),e.qZA()(),e._UZ(50,"hr"),e.TgZ(51,"a",3)(52,"mat-icon"),e._uU(53,"settings"),e.qZA(),e.TgZ(54,"span",4),e._uU(55,"Settings"),e.qZA()(),e.TgZ(56,"a",10)(57,"mat-icon"),e._uU(58,"code"),e.qZA(),e.TgZ(59,"span",4),e._uU(60,"GitHub"),e.qZA()(),e.TgZ(61,"a",3)(62,"mat-icon"),e._uU(63,"info"),e.qZA(),e.TgZ(64,"span",4),e._uU(65,"Credits"),e.qZA()()()()()),2&c){const D=e.MAs(31);e.xp6(3),e.Q6J("ngbTooltip",d.wide?"":"Home"),e.xp6(6),e.Q6J("routerLink","item")("ngbTooltip",d.wide?"":"Items"),e.xp6(5),e.Q6J("routerLink","spirits")("ngbTooltip",d.wide?"":"Spirits"),e.xp6(5),e.Q6J("routerLink","winged-light")("ngbTooltip",d.wide?"":"Winged Light"),e.xp6(4),e.Q6J("routerLink","realm")("ngbTooltip",d.wide?"":"Realms"),e.xp6(5),e.Q6J("routerLink","season")("ngbTooltip",d.wide?"":"Seasons"),e.xp6(1),e.Q6J("ngIf",d.seasonIconUrl)("ngIfElse",D),e.xp6(5),e.Q6J("routerLink","event")("ngbTooltip",d.wide?"":"Events"),e.xp6(5),e.Q6J("routerLink","shop")("ngbTooltip",d.wide?"":"Shop"),e.xp6(6),e.Q6J("ngbTooltip",d.wide?"":"Sky Clock"),e.xp6(6),e.Q6J("routerLink","settings")("ngbTooltip",d.wide?"":"Settings"),e.xp6(5),e.Q6J("ngbTooltip",d.wide?"":"GitHub"),e.xp6(5),e.Q6J("routerLink","credits")("ngbTooltip",d.wide?"":"Credits")}},dependencies:[Q.O5,J.rH,J.Od,Xo,W.Hw],styles:["aside[_ngcontent-%COMP%]{position:fixed;left:0;top:0;bottom:0;width:var(--menu-width);background-color:var(--color-menu-background);z-index:100;overflow-x:hidden;overflow-y:auto;border-right:1px solid var(--color-border)}.header[_ngcontent-%COMP%]{position:relative;font-size:24px;text-align:left;text-decoration:none}.header[_ngcontent-%COMP%]:hover{background-color:var(--color-menu-item-active-background)}.header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:relative;top:3px}.title[_ngcontent-%COMP%]{padding-left:4px}.items[_ngcontent-%COMP%]{display:flex;height:100vh;flex-direction:column;align-content:stretch;position:relative;font-size:18px}.item[_ngcontent-%COMP%]{display:block;padding:10px;cursor:pointer;background-color:var(--color-menu-item-background)}.bottom[_ngcontent-%COMP%]{margin-top:auto}.item.menu-active[_ngcontent-%COMP%], .item[_ngcontent-%COMP%]:hover{background-color:var(--color-menu-item-active-background)}.item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:sub}.item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:10px}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus, a[_ngcontent-%COMP%]:active, a[_ngcontent-%COMP%]:visited{color:unset}hr[_ngcontent-%COMP%]{margin:0;color:var(--color-menu-border)}.header[_ngcontent-%COMP%], .name[_ngcontent-%COMP%]{display:none}@media screen and (min-width: 992px){.header[_ngcontent-%COMP%]{display:block}.name[_ngcontent-%COMP%]{display:inline-block}.item[_ngcontent-%COMP%]{padding:15px 10px}}"]})}return r})();function P0(r,f){1&r&&(e.TgZ(0,"div",2)(1,"mat-icon",3),e._uU(2,"cached"),e.qZA()())}function vg(r,f){1&r&&(e.TgZ(0,"div",6)(1,"div",7),e._uU(2,"Data was changed in another tab. Please refresh this tab to avoid losing changes!"),e.qZA()())}function k0(r,f){if(1&r&&(e.ynx(0),e._UZ(1,"app-menu"),e.YNc(2,vg,3,0,"div",4),e.TgZ(3,"div",5),e._UZ(4,"router-outlet"),e.qZA(),e.BQk()),2&r){const i=e.oxw();e.xp6(2),e.Q6J("ngIf",i.dataLoss)}}let Po=(()=>{class r{constructor(i,c,d,D,x,Y){this._dataService=i,this._eventService=c,this._themeService=d,this._domSanitizer=D,this._matIconRegistry=x,this._router=Y,this.ready=!1,this.dataLoss=!1,this._dataService.onData.subscribe(()=>{this.onData()}),this._themeService.init(),this.initDisplayDate(),x.setDefaultFontSetClass("material-symbols-outlined"),x.addSvgIconSet(D.bypassSecurityTrustResourceUrl("assets/icons/icons.svg")),window.addEventListener("storage",()=>{this.dataLoss=!0}),ao().extend(dh()),ao().extend(hh()),ao().extend(fh()),ao().tz.setDefault(De.O.skyTimeZone),window.dayjs=ao()}initDisplayDate(){De.O.displayFormat=localStorage.getItem("date.format")||"",(!De.O.displayFormat||!De.O.displayFormats.includes(De.O.displayFormat))&&(De.O.displayFormat=De.O.displayFormats[0])}onData(){this.ready=!0}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(He.D),e.Y36(Ye),e.Y36(qd),e.Y36(g.H7),e.Y36(W.jv),e.Y36(J.F0))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-root"]],decls:2,vars:2,consts:[["class","loading fade-in",4,"ngIf"],[4,"ngIf"],[1,"loading","fade-in"],[1,"spin"],["class","data-loss",4,"ngIf"],[1,"content"],[1,"data-loss"],[1,"data-loss-inner"]],template:function(c,d){1&c&&(e.YNc(0,P0,3,0,"div",0),e.YNc(1,k0,5,1,"ng-container",1)),2&c&&(e.Q6J("ngIf",!d.ready),e.xp6(1),e.Q6J("ngIf",d.ready))},dependencies:[Q.O5,J.lC,W.Hw,N0],styles:[".loading[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;justify-content:center;align-items:center;height:100%;transform:scaleX(-1)}.loading[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{scale:3}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading[_ngcontent-%COMP%]   .spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 2s linear infinite}@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0}to{opacity:1}}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade-in 2s ease-in;animation-fill-mode:forwards}  body{position:relative;left:var(--menu-width);width:calc(100% - var(--menu-width));padding:var(--padding-content)}.data-loss[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#0008;z-index:999}.data-loss-inner[_ngcontent-%COMP%]{position:relative;display:inline-block;top:50%;left:50%;transform:translate(-50%,-50%)}"]})}return r})(),yg=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.oAB({type:r,bootstrap:[Po]});static#n=this.\u0275inj=e.cJS({imports:[g.b2,I0,X.JF,mf,ce.xu,W.Ps]})}return r})();Array.prototype.findLast=function(r){for(let f=this.length-1;f>=0;f--){const i=this[f];if(r(i,f,this))return i}},g.q6().bootstrapModule(yg).catch(r=>console.error(r))},292:function(Ot){Ot.exports=function(){"use strict";var M=6e4,g=36e5,X="millisecond",W="second",ce="minute",J="hour",e="day",Q="week",Le="month",pe="quarter",ge="year",Ae="date",ne="Invalid Date",De=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Se=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,He={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function($e){var it=["th","st","nd","rd"],Ue=$e%100;return"["+$e+(it[(Ue-20)%10]||it[Ue]||it[0])+"]"}},K=function($e,it,Ue){var ft=String($e);return!ft||ft.length>=it?$e:""+Array(it+1-ft.length).join(Ue)+$e},be={s:K,z:function($e){var it=-$e.utcOffset(),Ue=Math.abs(it),ft=Math.floor(Ue/60),Je=Ue%60;return(it<=0?"+":"-")+K(ft,2,"0")+":"+K(Je,2,"0")},m:function $e(it,Ue){if(it.date()<Ue.date())return-$e(Ue,it);var ft=12*(Ue.year()-it.year())+(Ue.month()-it.month()),Je=it.clone().add(ft,Le),Ft=Ue-Je<0,rt=it.clone().add(ft+(Ft?-1:1),Le);return+(-(ft+(Ue-Je)/(Ft?Je-rt:rt-Je))||0)},a:function($e){return $e<0?Math.ceil($e)||0:Math.floor($e)},p:function($e){return{M:Le,y:ge,w:Q,d:e,D:Ae,h:J,m:ce,s:W,ms:X,Q:pe}[$e]||String($e||"").toLowerCase().replace(/s$/,"")},u:function($e){return void 0===$e}},Ye="en",pt={};pt[Ye]=He;var Rt=function($e){return $e instanceof ut},Te=function $e(it,Ue,ft){var Je;if(!it)return Ye;if("string"==typeof it){var Ft=it.toLowerCase();pt[Ft]&&(Je=Ft),Ue&&(pt[Ft]=Ue,Je=Ft);var rt=it.split("-");if(!Je&&rt.length>1)return $e(rt[0])}else{var dt=it.name;pt[dt]=it,Je=dt}return!ft&&Je&&(Ye=Je),Je||!ft&&Ye},Ie=function($e,it){if(Rt($e))return $e.clone();var Ue="object"==typeof it?it:{};return Ue.date=$e,Ue.args=arguments,new ut(Ue)},fe=be;fe.l=Te,fe.i=Rt,fe.w=function($e,it){return Ie($e,{locale:it.$L,utc:it.$u,x:it.$x,$offset:it.$offset})};var ut=function(){function $e(Ue){this.$L=Te(Ue.locale,null,!0),this.parse(Ue)}var it=$e.prototype;return it.parse=function(Ue){this.$d=function(ft){var Je=ft.date,Ft=ft.utc;if(null===Je)return new Date(NaN);if(fe.u(Je))return new Date;if(Je instanceof Date)return new Date(Je);if("string"==typeof Je&&!/Z$/i.test(Je)){var rt=Je.match(De);if(rt){var dt=rt[2]-1||0,Re=(rt[7]||"0").substring(0,3);return Ft?new Date(Date.UTC(rt[1],dt,rt[3]||1,rt[4]||0,rt[5]||0,rt[6]||0,Re)):new Date(rt[1],dt,rt[3]||1,rt[4]||0,rt[5]||0,rt[6]||0,Re)}}return new Date(Je)}(Ue),this.$x=Ue.x||{},this.init()},it.init=function(){var Ue=this.$d;this.$y=Ue.getFullYear(),this.$M=Ue.getMonth(),this.$D=Ue.getDate(),this.$W=Ue.getDay(),this.$H=Ue.getHours(),this.$m=Ue.getMinutes(),this.$s=Ue.getSeconds(),this.$ms=Ue.getMilliseconds()},it.$utils=function(){return fe},it.isValid=function(){return this.$d.toString()!==ne},it.isSame=function(Ue,ft){var Je=Ie(Ue);return this.startOf(ft)<=Je&&Je<=this.endOf(ft)},it.isAfter=function(Ue,ft){return Ie(Ue)<this.startOf(ft)},it.isBefore=function(Ue,ft){return this.endOf(ft)<Ie(Ue)},it.$g=function(Ue,ft,Je){return fe.u(Ue)?this[ft]:this.set(Je,Ue)},it.unix=function(){return Math.floor(this.valueOf()/1e3)},it.valueOf=function(){return this.$d.getTime()},it.startOf=function(Ue,ft){var Je=this,Ft=!!fe.u(ft)||ft,rt=fe.p(Ue),dt=function(Ze,et){var nt=fe.w(Je.$u?Date.UTC(Je.$y,et,Ze):new Date(Je.$y,et,Ze),Je);return Ft?nt:nt.endOf(e)},Re=function(Ze,et){return fe.w(Je.toDate()[Ze].apply(Je.toDate("s"),(Ft?[0,0,0,0]:[23,59,59,999]).slice(et)),Je)},ht=this.$W,ae=this.$M,le=this.$D,we="set"+(this.$u?"UTC":"");switch(rt){case ge:return Ft?dt(1,0):dt(31,11);case Le:return Ft?dt(1,ae):dt(0,ae+1);case Q:var ye=this.$locale().weekStart||0,Me=(ht<ye?ht+7:ht)-ye;return dt(Ft?le-Me:le+(6-Me),ae);case e:case Ae:return Re(we+"Hours",0);case J:return Re(we+"Minutes",1);case ce:return Re(we+"Seconds",2);case W:return Re(we+"Milliseconds",3);default:return this.clone()}},it.endOf=function(Ue){return this.startOf(Ue,!1)},it.$set=function(Ue,ft){var Je,Ft=fe.p(Ue),rt="set"+(this.$u?"UTC":""),dt=(Je={},Je[e]=rt+"Date",Je[Ae]=rt+"Date",Je[Le]=rt+"Month",Je[ge]=rt+"FullYear",Je[J]=rt+"Hours",Je[ce]=rt+"Minutes",Je[W]=rt+"Seconds",Je[X]=rt+"Milliseconds",Je)[Ft],Re=Ft===e?this.$D+(ft-this.$W):ft;if(Ft===Le||Ft===ge){var ht=this.clone().set(Ae,1);ht.$d[dt](Re),ht.init(),this.$d=ht.set(Ae,Math.min(this.$D,ht.daysInMonth())).$d}else dt&&this.$d[dt](Re);return this.init(),this},it.set=function(Ue,ft){return this.clone().$set(Ue,ft)},it.get=function(Ue){return this[fe.p(Ue)]()},it.add=function(Ue,ft){var Je,Ft=this;Ue=Number(Ue);var rt=fe.p(ft),dt=function(ae){var le=Ie(Ft);return fe.w(le.date(le.date()+Math.round(ae*Ue)),Ft)};if(rt===Le)return this.set(Le,this.$M+Ue);if(rt===ge)return this.set(ge,this.$y+Ue);if(rt===e)return dt(1);if(rt===Q)return dt(7);var Re=(Je={},Je[ce]=M,Je[J]=g,Je[W]=1e3,Je)[rt]||1,ht=this.$d.getTime()+Ue*Re;return fe.w(ht,this)},it.subtract=function(Ue,ft){return this.add(-1*Ue,ft)},it.format=function(Ue){var ft=this,Je=this.$locale();if(!this.isValid())return Je.invalidDate||ne;var Ft=Ue||"YYYY-MM-DDTHH:mm:ssZ",rt=fe.z(this),dt=this.$H,Re=this.$m,ht=this.$M,ae=Je.weekdays,le=Je.months,ye=function(et,nt,cn,ct){return et&&(et[nt]||et(ft,Ft))||cn[nt].slice(0,ct)},Me=function(et){return fe.s(dt%12||12,et,"0")},Ze=Je.meridiem||function(et,nt,cn){var ct=et<12?"AM":"PM";return cn?ct.toLowerCase():ct};return Ft.replace(Se,function(et,nt){return nt||function(cn){switch(cn){case"YY":return String(ft.$y).slice(-2);case"YYYY":return fe.s(ft.$y,4,"0");case"M":return ht+1;case"MM":return fe.s(ht+1,2,"0");case"MMM":return ye(Je.monthsShort,ht,le,3);case"MMMM":return ye(le,ht);case"D":return ft.$D;case"DD":return fe.s(ft.$D,2,"0");case"d":return String(ft.$W);case"dd":return ye(Je.weekdaysMin,ft.$W,ae,2);case"ddd":return ye(Je.weekdaysShort,ft.$W,ae,3);case"dddd":return ae[ft.$W];case"H":return String(dt);case"HH":return fe.s(dt,2,"0");case"h":return Me(1);case"hh":return Me(2);case"a":return Ze(dt,Re,!0);case"A":return Ze(dt,Re,!1);case"m":return String(Re);case"mm":return fe.s(Re,2,"0");case"s":return String(ft.$s);case"ss":return fe.s(ft.$s,2,"0");case"SSS":return fe.s(ft.$ms,3,"0");case"Z":return rt}return null}(et)||rt.replace(":","")})},it.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},it.diff=function(Ue,ft,Je){var Ft,rt=this,dt=fe.p(ft),Re=Ie(Ue),ht=(Re.utcOffset()-this.utcOffset())*M,ae=this-Re,le=function(){return fe.m(rt,Re)};switch(dt){case ge:Ft=le()/12;break;case Le:Ft=le();break;case pe:Ft=le()/3;break;case Q:Ft=(ae-ht)/6048e5;break;case e:Ft=(ae-ht)/864e5;break;case J:Ft=ae/g;break;case ce:Ft=ae/M;break;case W:Ft=ae/1e3;break;default:Ft=ae}return Je?Ft:fe.a(Ft)},it.daysInMonth=function(){return this.endOf(Le).$D},it.$locale=function(){return pt[this.$L]},it.locale=function(Ue,ft){if(!Ue)return this.$L;var Je=this.clone(),Ft=Te(Ue,ft,!0);return Ft&&(Je.$L=Ft),Je},it.clone=function(){return fe.w(this.$d,this)},it.toDate=function(){return new Date(this.valueOf())},it.toJSON=function(){return this.isValid()?this.toISOString():null},it.toISOString=function(){return this.$d.toISOString()},it.toString=function(){return this.$d.toUTCString()},$e}(),Xe=ut.prototype;return Ie.prototype=Xe,[["$ms",X],["$s",W],["$m",ce],["$H",J],["$W",e],["$M",Le],["$y",ge],["$D",Ae]].forEach(function($e){Xe[$e[1]]=function(it){return this.$g(it,$e[0],$e[1])}}),Ie.extend=function($e,it){return $e.$i||($e(it,ut,Ie),$e.$i=!0),Ie},Ie.locale=Te,Ie.isDayjs=Rt,Ie.unix=function($e){return Ie(1e3*$e)},Ie.en=pt[Ye],Ie.Ls=pt,Ie.p={},Ie}()},7014:function(Ot){Ot.exports=function(){"use strict";return function(M,g,X){var W=function(e){return e.add(4-e.isoWeekday(),"day")},ce=g.prototype;ce.isoWeekYear=function(){return W(this).year()},ce.isoWeek=function(e){if(!this.$utils().u(e))return this.add(7*(e-this.isoWeek()),"day");var Q,pe,ge,Ae=W(this),ne=(Q=this.isoWeekYear(),ge=4-(pe=(this.$u?X.utc:X)().year(Q).startOf("year")).isoWeekday(),pe.isoWeekday()>4&&(ge+=7),pe.add(ge,"day"));return Ae.diff(ne,"week")+1},ce.isoWeekday=function(e){return this.$utils().u(e)?this.day()||7:this.day(this.day()%7?e:e-7)};var J=ce.startOf;ce.startOf=function(e,Q){var Le=this.$utils(),pe=!!Le.u(Q)||Q;return"isoweek"===Le.p(e)?pe?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):J.bind(this)(e,Q)}}}()},6669:function(Ot){Ot.exports=function(){"use strict";var ke={year:0,month:1,day:2,hour:3,minute:4,second:5},M={};return function(g,X,W){var ce,J=function(pe,ge,Ae){void 0===Ae&&(Ae={});var ne=new Date(pe);return function(Se,He){void 0===He&&(He={});var K=He.timeZoneName||"short",be=Se+"|"+K,Ye=M[be];return Ye||(Ye=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:Se,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:K}),M[be]=Ye),Ye}(ge,Ae).formatToParts(ne)},e=function(pe,ge){for(var Ae=J(pe,ge),ne=[],De=0;De<Ae.length;De+=1){var Se=Ae[De],be=ke[Se.type];be>=0&&(ne[be]=parseInt(Se.value,10))}var Ye=ne[3],Te=+pe;return(W.utc(ne[0]+"-"+ne[1]+"-"+ne[2]+" "+(24===Ye?0:Ye)+":"+ne[4]+":"+ne[5]+":000").valueOf()-(Te-=Te%1e3))/6e4},Q=X.prototype;Q.tz=function(pe,ge){void 0===pe&&(pe=ce);var Ae=this.utcOffset(),ne=this.toDate(),De=ne.toLocaleString("en-US",{timeZone:pe}),Se=Math.round((ne-new Date(De))/1e3/60),He=W(De).$set("millisecond",this.$ms).utcOffset(15*-Math.round(ne.getTimezoneOffset()/15)-Se,!0);if(ge){var K=He.utcOffset();He=He.add(Ae-K,"minute")}return He.$x.$timezone=pe,He},Q.offsetName=function(pe){var ge=this.$x.$timezone||W.tz.guess(),Ae=J(this.valueOf(),ge,{timeZoneName:pe}).find(function(ne){return"timezonename"===ne.type.toLowerCase()});return Ae&&Ae.value};var Le=Q.startOf;Q.startOf=function(pe,ge){if(!this.$x||!this.$x.$timezone)return Le.call(this,pe,ge);var Ae=W(this.format("YYYY-MM-DD HH:mm:ss:SSS"));return Le.call(Ae,pe,ge).tz(this.$x.$timezone,!0)},W.tz=function(pe,ge,Ae){var ne=Ae&&ge,De=Ae||ge||ce,Se=e(+W(),De);if("string"!=typeof pe)return W(pe).tz(De);var He=function(pt,Rt,Te){var Ie=pt-60*Rt*1e3,fe=e(Ie,Te);if(Rt===fe)return[Ie,Rt];var ut=e(Ie-=60*(fe-Rt)*1e3,Te);return fe===ut?[Ie,fe]:[pt-60*Math.min(fe,ut)*1e3,Math.max(fe,ut)]}(W.utc(pe,ne).valueOf(),Se,De),be=He[1],Ye=W(He[0]).utcOffset(be);return Ye.$x.$timezone=De,Ye},W.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},W.tz.setDefault=function(pe){ce=pe}}}()},736:function(Ot){Ot.exports=function(){"use strict";var M=/[+-]\d\d(?::?\d\d)?/g,g=/([+-]|\d\d)/g;return function(X,W,ce){var J=W.prototype;ce.utc=function(ne){return new W({date:ne,utc:!0,args:arguments})},J.utc=function(ne){var De=ce(this.toDate(),{locale:this.$L,utc:!0});return ne?De.add(this.utcOffset(),"minute"):De},J.local=function(){return ce(this.toDate(),{locale:this.$L,utc:!1})};var e=J.parse;J.parse=function(ne){ne.utc&&(this.$u=!0),this.$utils().u(ne.$offset)||(this.$offset=ne.$offset),e.call(this,ne)};var Q=J.init;J.init=function(){if(this.$u){var ne=this.$d;this.$y=ne.getUTCFullYear(),this.$M=ne.getUTCMonth(),this.$D=ne.getUTCDate(),this.$W=ne.getUTCDay(),this.$H=ne.getUTCHours(),this.$m=ne.getUTCMinutes(),this.$s=ne.getUTCSeconds(),this.$ms=ne.getUTCMilliseconds()}else Q.call(this)};var Le=J.utcOffset;J.utcOffset=function(ne,De){var Se=this.$utils().u;if(Se(ne))return this.$u?0:Se(this.$offset)?Le.call(this):this.$offset;if("string"==typeof ne&&null===(ne=function(Ye){void 0===Ye&&(Ye="");var pt=Ye.match(M);if(!pt)return null;var Rt=(""+pt[0]).match(g)||["-",0,0],Ie=60*+Rt[1]+ +Rt[2];return 0===Ie?0:"+"===Rt[0]?Ie:-Ie}(ne)))return this;var He=Math.abs(ne)<=16?60*ne:ne,K=this;if(De)return K.$offset=He,K.$u=0===ne,K;if(0!==ne){var be=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(K=this.local().add(He+be,"minute")).$offset=He,K.$x.$localOffset=be}else K=this.utc();return K};var pe=J.format;J.format=function(ne){return pe.call(this,ne||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":""))},J.valueOf=function(){var ne=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*ne},J.isUTC=function(){return!!this.$u},J.toISOString=function(){return this.toDate().toISOString()},J.toString=function(){return this.toDate().toUTCString()};var ge=J.toDate;J.toDate=function(ne){return"s"===ne&&this.$offset?ce(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():ge.call(this)};var Ae=J.diff;J.diff=function(ne,De,Se){if(ne&&this.$u===ne.$u)return Ae.call(this,ne,De,Se);var He=this.local(),K=ce(ne).local();return Ae.call(He,K,De,Se)}}}()},9074:function(Ot,ke){var M,X;void 0!==(X="function"==typeof(M=W=>{"use strict";var Q=(et,Re)=>{if(et===Je)return Je;var ht=et.target,ae=ht.length,le=et._indexes;le=le.slice(0,le.len).sort((ct,sn)=>ct-sn);for(var we="",ye=0,Me=0,Ze=!1,nt=(et=[],0);nt<ae;++nt){var cn=ht[nt];if(le[Me]===nt){if(++Me,Ze||(Ze=!0,et.push(we),we=""),Me===le.length){et.push(Re(we+=cn,ye++)),we="",et.push(ht.substr(nt+1));break}}else Ze&&(Ze=!1,et.push(Re(we,ye++)),we="");we+=cn}return et},pe=dt=>{"string"!=typeof dt&&(dt="");var Re=K(dt);return{target:dt,_targetLower:Re._lower,_targetLowerCodes:Re.lowerCodes,_nextBeginningIndexes:Je,_bitflags:Re.bitflags,score:Je,_indexes:[0],obj:Je}},ge=dt=>{"string"!=typeof dt&&(dt=""),dt=dt.trim();var Re=K(dt),ht=[];if(Re.containsSpace){var ae=dt.split(/\s+/);ae=[...new Set(ae)];for(var le=0;le<ae.length;le++)if(""!==ae[le]){var we=K(ae[le]);ht.push({lowerCodes:we.lowerCodes,_lower:ae[le].toLowerCase(),containsSpace:!1})}}return{lowerCodes:Re.lowerCodes,bitflags:Re.bitflags,containsSpace:Re.containsSpace,_lower:Re._lower,spaceSearches:ht}},Ae=dt=>{if(dt.length>999)return pe(dt);var Re=Rt.get(dt);return void 0!==Re||(Re=pe(dt),Rt.set(dt,Re)),Re},ne=dt=>{if(dt.length>999)return ge(dt);var Re=Te.get(dt);return void 0!==Re||(Re=ge(dt),Te.set(dt,Re)),Re},De=(dt,Re,ht)=>{var ae=[];ae.total=Re.length;var le=ht&&ht.limit||it;if(ht&&ht.key){for(var we=0;we<Re.length;we++)if(Me=Xe(ye=Re[we],ht.key)){$e(Me)||(Me=Ae(Me)),Me.score=Ue,Me._indexes.len=0;if(ae.push({target:Me.target,_targetLower:"",_targetLowerCodes:Je,_nextBeginningIndexes:Je,_bitflags:0,score:Me.score,_indexes:Je,obj:ye}),ae.length>=le)return ae}}else if(ht&&ht.keys)for(we=0;we<Re.length;we++){for(var ye=Re[we],et=new Array(ht.keys.length),nt=ht.keys.length-1;nt>=0;--nt)(Me=Xe(ye,ht.keys[nt]))?($e(Me)||(Me=Ae(Me)),Me.score=Ue,Me._indexes.len=0,et[nt]=Me):et[nt]=Je;if(et.obj=ye,et.score=Ue,ae.push(et),ae.length>=le)return ae}else for(we=0;we<Re.length;we++){var Me;if((Me=Re[we])&&($e(Me)||(Me=Ae(Me)),Me.score=Ue,Me._indexes.len=0,ae.push(Me),ae.length>=le))return ae}return ae},Se=(dt,Re,ht=!1)=>{if(!1===ht&&dt.containsSpace)return He(dt,Re);for(var ae=dt._lower,le=dt.lowerCodes,we=le[0],ye=Re._targetLowerCodes,Me=le.length,Ze=ye.length,ct=0,et=0,nt=0;;){if(we===ye[et]){if(Ie[nt++]=et,++ct===Me)break;we=le[ct]}if(++et>=Ze)return Je}ct=0;var sn=!1,Ht=0,Ct=Re._nextBeginningIndexes;Ct===Je&&(Ct=Re._nextBeginningIndexes=Ye(Re.target));var gn=0;if((et=0===Ie[0]?0:Ct[Ie[0]-1])!==Ze)for(;;)if(et>=Ze){if(ct<=0||++gn>200)break;--ct,et=Ct[fe[--Ht]]}else if(le[ct]===ye[et]){if(fe[Ht++]=et,++ct===Me){sn=!0;break}++et}else et=Ct[et];var ve=Re._targetLower.indexOf(ae,Ie[0]),Be=~ve;if(Be&&!sn)for(var ze=0;ze<nt;++ze)Ie[ze]=ve+ze;var mt=!1;if(Be&&(mt=Re._nextBeginningIndexes[ve-1]===ve),sn)var xt=fe,bn=Ht;else xt=Ie,bn=nt;var on=0,kt=0;for(ze=1;ze<Me;++ze)xt[ze]-xt[ze-1]!=1&&(on-=xt[ze],++kt);if(on-=(xt[Me-1]-xt[0]-(Me-1)+12)*kt,0!==xt[0]&&(on-=xt[0]*xt[0]*.2),sn){var St=1;for(ze=Ct[0];ze<Ze;ze=Ct[ze])++St;St>24&&(on*=10*(St-24))}else on*=1e3;for(Be&&(on/=1+Me*Me*1),mt&&(on/=1+Me*Me*1),Re.score=on-=Ze-Me,ze=0;ze<bn;++ze)Re._indexes[ze]=xt[ze];return Re._indexes.len=bn,Re},He=(dt,Re)=>{for(var ht=new Set,ae=0,le=Je,we=0,ye=dt.spaceSearches,nt=0;nt<ye.length;++nt){if((le=Se(ye[nt],Re))===Je)return Je;ae+=le.score,le._indexes[0]<we&&(ae-=we-le._indexes[0]),we=le._indexes[0];for(var Ze=0;Ze<le._indexes.len;++Ze)ht.add(le._indexes[Ze])}var et=Se(dt,Re,!0);if(et!==Je&&et.score>ae)return et;le.score=ae,nt=0;for(let cn of ht)le._indexes[nt++]=cn;return le._indexes.len=nt,le},K=dt=>{for(var Re=dt.length,ht=dt.toLowerCase(),ae=[],le=0,we=!1,ye=0;ye<Re;++ye){var Me=ae[ye]=ht.charCodeAt(ye);32!==Me?le|=1<<(Me>=97&&Me<=122?Me-97:Me>=48&&Me<=57?26:Me<=127?30:31):we=!0}return{lowerCodes:ae,bitflags:le,containsSpace:we,_lower:ht}},Ye=dt=>{for(var Re=dt.length,ht=(dt=>{for(var Re=dt.length,ht=[],ae=0,le=!1,we=!1,ye=0;ye<Re;++ye){var Me=dt.charCodeAt(ye),Ze=Me>=65&&Me<=90,et=Ze||Me>=97&&Me<=122||Me>=48&&Me<=57,nt=Ze&&!le||!we||!et;le=Ze,we=et,nt&&(ht[ae++]=ye)}return ht})(dt),ae=[],le=ht[0],we=0,ye=0;ye<Re;++ye)le>ye?ae[ye]=le:(le=ht[++we],ae[ye]=void 0===le?Re:le);return ae},Rt=new Map,Te=new Map,Ie=[],fe=[],ut=dt=>{for(var Re=Ue,ht=dt.length,ae=0;ae<ht;++ae){var le=dt[ae];if(le!==Je){var we=le.score;we>Re&&(Re=we)}}return Re===Ue?Je:Re},Xe=(dt,Re)=>{var ht=dt[Re];if(void 0!==ht)return ht;var ae=Re;Array.isArray(Re)||(ae=Re.split("."));for(var le=ae.length,we=-1;dt&&++we<le;)dt=dt[ae[we]];return dt},$e=dt=>"object"==typeof dt,it=1/0,Ue=-it,ft=[];ft.total=0;var Re,ht,ae,le,Je=null,rt=(Re=[],ht=0,le=we=>{for(var ye=0,Me=Re[ye],Ze=1;Ze<ht;){var et=Ze+1;ye=Ze,et<ht&&Re[et].score<Re[Ze].score&&(ye=et),Re[ye-1>>1]=Re[ye],Ze=1+(ye<<1)}for(var nt=ye-1>>1;ye>0&&Me.score<Re[nt].score;nt=(ye=nt)-1>>1)Re[ye]=Re[nt];Re[ye]=Me},(ae={}).add=we=>{var ye=ht;Re[ht++]=we;for(var Me=ye-1>>1;ye>0&&we.score<Re[Me].score;Me=(ye=Me)-1>>1)Re[ye]=Re[Me];Re[ye]=we},ae.poll=we=>{if(0!==ht){var ye=Re[0];return Re[0]=Re[--ht],le(),ye}},ae.peek=we=>{if(0!==ht)return Re[0]},ae.replaceTop=we=>{Re[0]=we,le()},ae);return{single:(dt,Re)=>{if("farzher"==dt)return{target:"farzher was here (^-^*)/",score:0,_indexes:[0]};if(!dt||!Re)return Je;var ht=ne(dt);$e(Re)||(Re=Ae(Re));var ae=ht.bitflags;return(ae&Re._bitflags)!==ae?Je:Se(ht,Re)},go:(dt,Re,ht)=>{if("farzher"==dt)return[{target:"farzher was here (^-^*)/",score:0,_indexes:[0],obj:Re?Re[0]:Je}];if(!dt)return ht&&ht.all?De(dt,Re,ht):ft;var ae=ne(dt),le=ae.bitflags,ye=ht&&ht.threshold||Ue,Me=ht&&ht.limit||it,Ze=0,et=0,nt=Re.length;if(ht&&ht.key)for(var cn=ht.key,ct=0;ct<nt;++ct)(Ht=Xe(sn=Re[ct],cn))&&($e(Ht)||(Ht=Ae(Ht)),(le&Ht._bitflags)===le)&&(Ct=Se(ae,Ht))!==Je&&(Ct.score<ye||(Ct={target:Ct.target,_targetLower:"",_targetLowerCodes:Je,_nextBeginningIndexes:Je,_bitflags:0,score:Ct.score,_indexes:Ct._indexes,obj:sn},Ze<Me?(rt.add(Ct),++Ze):(++et,Ct.score>rt.peek().score&&rt.replaceTop(Ct))));else if(ht&&ht.keys){var wn=ht.scoreFn||ut,gn=ht.keys,he=gn.length;for(ct=0;ct<nt;++ct){for(var sn=Re[ct],ve=new Array(he),Be=0;Be<he;++Be)(Ht=Xe(sn,cn=gn[Be]))?($e(Ht)||(Ht=Ae(Ht)),ve[Be]=(le&Ht._bitflags)!==le?Je:Se(ae,Ht)):ve[Be]=Je;ve.obj=sn;var ze=wn(ve);ze!==Je&&(ze<ye||(ve.score=ze,Ze<Me?(rt.add(ve),++Ze):(++et,ze>rt.peek().score&&rt.replaceTop(ve))))}}else for(ct=0;ct<nt;++ct){var Ht,Ct;(Ht=Re[ct])&&($e(Ht)||(Ht=Ae(Ht)),(le&Ht._bitflags)===le)&&(Ct=Se(ae,Ht))!==Je&&(Ct.score<ye||(Ze<Me?(rt.add(Ct),++Ze):(++et,Ct.score>rt.peek().score&&rt.replaceTop(Ct))))}if(0===Ze)return ft;var mt=new Array(Ze);for(ct=Ze-1;ct>=0;--ct)mt[ct]=rt.poll();return mt.total=Ze+et,mt},highlight:(dt,Re,ht)=>{if("function"==typeof Re)return Q(dt,Re);if(dt===Je)return Je;void 0===Re&&(Re="<b>"),void 0===ht&&(ht="</b>");var ae="",le=0,we=!1,ye=dt.target,Me=ye.length,Ze=dt._indexes;Ze=Ze.slice(0,Ze.len).sort((cn,ct)=>cn-ct);for(var et=0;et<Me;++et){var nt=ye[et];if(Ze[le]===et){if(we||(we=!0,ae+=Re),++le===Ze.length){ae+=nt+ht+ye.substr(et+1);break}}else we&&(we=!1,ae+=ht);ae+=nt}return ae},prepare:pe,indexes:dt=>dt._indexes.slice(0,dt._indexes.len).sort((Re,ht)=>Re-ht),cleanup:()=>{Rt.clear(),Te.clear(),Ie=[],fe=[]}}})?M.apply(ke,[]):M)&&(Ot.exports=X)},3947:function(Ot){Ot.exports=function(){"use strict";function ke(H,ie){return H(ie={exports:{}},ie.exports),ie.exports}var M=ke(function(H){var ie=H.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=ie)}),g=ke(function(H){var ie=H.exports={version:"2.6.5"};"number"==typeof __e&&(__e=ie)}),W=function(H){return"object"==typeof H?null!==H:"function"==typeof H},ce=function(H){if(!W(H))throw TypeError(H+" is not an object!");return H},J=function(H){try{return!!H()}catch{return!0}},e=!J(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),Q=M.document,Le=W(Q)&&W(Q.createElement),ge=!e&&!J(function(){return 7!=Object.defineProperty(function(H){return Le?Q.createElement(H):{}}("div"),"a",{get:function(){return 7}}).a}),ne=Object.defineProperty,Se={f:e?Object.defineProperty:function(ie,Ne,ot){if(ce(ie),Ne=function(H,ie){if(!W(H))return H;var Ne,ot;if(ie&&"function"==typeof(Ne=H.toString)&&!W(ot=Ne.call(H))||"function"==typeof(Ne=H.valueOf)&&!W(ot=Ne.call(H))||!ie&&"function"==typeof(Ne=H.toString)&&!W(ot=Ne.call(H)))return ot;throw TypeError("Can't convert object to primitive value")}(Ne,!0),ce(ot),ge)try{return ne(ie,Ne,ot)}catch{}if("get"in ot||"set"in ot)throw TypeError("Accessors not supported!");return"value"in ot&&(ie[Ne]=ot.value),ie}},K=e?function(H,ie,Ne){return Se.f(H,ie,function(H,ie){return{enumerable:!(1&H),configurable:!(2&H),writable:!(4&H),value:ie}}(1,Ne))}:function(H,ie,Ne){return H[ie]=Ne,H},be={}.hasOwnProperty,Ye=function(H,ie){return be.call(H,ie)},pt=0,Rt=Math.random(),fe=ke(function(H){var ie="__core-js_shared__",Ne=M[ie]||(M[ie]={});(H.exports=function(ot,Lt){return Ne[ot]||(Ne[ot]=void 0!==Lt?Lt:{})})("versions",[]).push({version:g.version,mode:"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})}),ut=fe("native-function-to-string",Function.toString),Xe=ke(function(H){var ie=function(H){return"Symbol(".concat(void 0===H?"":H,")_",(++pt+Rt).toString(36))}("src"),Ne="toString",ot=(""+ut).split(Ne);g.inspectSource=function(Lt){return ut.call(Lt)},(H.exports=function(Lt,wt,Wt,Sn){var Rn="function"==typeof Wt;Rn&&(Ye(Wt,"name")||K(Wt,"name",wt)),Lt[wt]!==Wt&&(Rn&&(Ye(Wt,ie)||K(Wt,ie,Lt[wt]?""+Lt[wt]:ot.join(String(wt)))),Lt===M?Lt[wt]=Wt:Sn?Lt[wt]?Lt[wt]=Wt:K(Lt,wt,Wt):(delete Lt[wt],K(Lt,wt,Wt)))})(Function.prototype,Ne,function(){return"function"==typeof this&&this[ie]||ut.call(this)})}),it=function(H,ie,Ne){if(function(H){if("function"!=typeof H)throw TypeError(H+" is not a function!")}(H),void 0===ie)return H;switch(Ne){case 1:return function(ot){return H.call(ie,ot)};case 2:return function(ot,Lt){return H.call(ie,ot,Lt)};case 3:return function(ot,Lt,wt){return H.call(ie,ot,Lt,wt)}}return function(){return H.apply(ie,arguments)}},Ue="prototype",ft=function(H,ie,Ne){var Ce,Ke,vt,Mt,ot=H&ft.F,Lt=H&ft.G,Wt=H&ft.P,Sn=H&ft.B,Rn=Lt?M:H&ft.S?M[ie]||(M[ie]={}):(M[ie]||{})[Ue],Pe=Lt?g:g[ie]||(g[ie]={}),ue=Pe[Ue]||(Pe[Ue]={});for(Ce in Lt&&(Ne=ie),Ne)vt=((Ke=!ot&&Rn&&void 0!==Rn[Ce])?Rn:Ne)[Ce],Mt=Sn&&Ke?it(vt,M):Wt&&"function"==typeof vt?it(Function.call,vt):vt,Rn&&Xe(Rn,Ce,vt,H&ft.U),Pe[Ce]!=vt&&K(Pe,Ce,Mt),Wt&&ue[Ce]!=vt&&(ue[Ce]=vt)};M.core=g,ft.F=1,ft.G=2,ft.S=4,ft.P=8,ft.B=16,ft.W=32,ft.U=64,ft.R=128;var Je=ft,Ft=Math.ceil,rt=Math.floor,dt=function(H){return isNaN(H=+H)?0:(H>0?rt:Ft)(H)},ae=(!1,function(ie,Ne){var Wt,Sn,ot=String(function(H){if(null==H)throw TypeError("Can't call method on  "+H);return H}(ie)),Lt=dt(Ne),wt=ot.length;return Lt<0||Lt>=wt?void 0:(Wt=ot.charCodeAt(Lt))<55296||Wt>56319||Lt+1===wt||(Sn=ot.charCodeAt(Lt+1))<56320||Sn>57343?Wt:Sn-56320+(Wt-55296<<10)+65536});Je(Je.P,"String",{codePointAt:function(ie){return ae(this,ie)}});var we=Math.max,ye=Math.min,Me=function(H,ie){return(H=dt(H))<0?we(H+ie,0):ye(H,ie)},Ze=String.fromCharCode,et=String.fromCodePoint;Je(Je.S+Je.F*(!!et&&1!=et.length),"String",{fromCodePoint:function(ie){for(var Wt,Ne=arguments,ot=[],Lt=arguments.length,wt=0;Lt>wt;){if(Wt=+Ne[wt++],Me(Wt,1114111)!==Wt)throw RangeError(Wt+" is not a valid code point");ot.push(Wt<65536?Ze(Wt):Ze(55296+((Wt-=65536)>>10),Wt%1024+56320))}return ot.join("")}});var wn,gn,he,ve,Be,ze,mt,xt,bn,Tt,St,$n,ri,tn,Ht={Space_Separator:/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,ID_Start:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,ID_Continue:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},Ct={isSpaceSeparator:function(ie){return"string"==typeof ie&&Ht.Space_Separator.test(ie)},isIdStartChar:function(ie){return"string"==typeof ie&&(ie>="a"&&ie<="z"||ie>="A"&&ie<="Z"||"$"===ie||"_"===ie||Ht.ID_Start.test(ie))},isIdContinueChar:function(ie){return"string"==typeof ie&&(ie>="a"&&ie<="z"||ie>="A"&&ie<="Z"||ie>="0"&&ie<="9"||"$"===ie||"_"===ie||"\u200c"===ie||"\u200d"===ie||Ht.ID_Continue.test(ie))},isDigit:function(ie){return"string"==typeof ie&&/[0-9]/.test(ie)},isHexDigit:function(ie){return"string"==typeof ie&&/[0-9A-Fa-f]/.test(ie)}};function kt(H,ie,Ne){var ot=H[ie];if(null!=ot&&"object"==typeof ot)if(Array.isArray(ot))for(var Lt=0;Lt<ot.length;Lt++){var wt=String(Lt),Wt=kt(ot,wt,Ne);void 0===Wt?delete ot[wt]:Object.defineProperty(ot,wt,{value:Wt,writable:!0,enumerable:!0,configurable:!0})}else for(var Sn in ot){var Rn=kt(ot,Sn,Ne);void 0===Rn?delete ot[Sn]:Object.defineProperty(ot,Sn,{value:Rn,writable:!0,enumerable:!0,configurable:!0})}return Ne.call(H,ie,ot)}function $t(){for(Tt="default",St="",$n=!1,ri=1;;){tn=jn();var H=hn[Tt]();if(H)return H}}function jn(){if(wn[ve])return String.fromCodePoint(wn.codePointAt(ve))}function st(){var H=jn();return"\n"===H?(Be++,ze=0):H?ze+=H.length:ze++,H&&(ve+=H.length),H}var hn={default:function(){switch(tn){case"\t":case"\v":case"\f":case" ":case"\xa0":case"\ufeff":case"\n":case"\r":case"\u2028":case"\u2029":return void st();case"/":return st(),void(Tt="comment");case void 0:return st(),An("eof")}if(!Ct.isSpaceSeparator(tn))return hn[gn]();st()},comment:function(){switch(tn){case"*":return st(),void(Tt="multiLineComment");case"/":return st(),void(Tt="singleLineComment")}throw Dn(st())},multiLineComment:function(){switch(tn){case"*":return st(),void(Tt="multiLineCommentAsterisk");case void 0:throw Dn(st())}st()},multiLineCommentAsterisk:function(){switch(tn){case"*":return void st();case"/":return st(),void(Tt="default");case void 0:throw Dn(st())}st(),Tt="multiLineComment"},singleLineComment:function(){switch(tn){case"\n":case"\r":case"\u2028":case"\u2029":return st(),void(Tt="default");case void 0:return st(),An("eof")}st()},value:function(){switch(tn){case"{":case"[":return An("punctuator",st());case"n":return st(),mn("ull"),An("null",null);case"t":return st(),mn("rue"),An("boolean",!0);case"f":return st(),mn("alse"),An("boolean",!1);case"-":case"+":return"-"===st()&&(ri=-1),void(Tt="sign");case".":return St=st(),void(Tt="decimalPointLeading");case"0":return St=st(),void(Tt="zero");case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return St=st(),void(Tt="decimalInteger");case"I":return st(),mn("nfinity"),An("numeric",1/0);case"N":return st(),mn("aN"),An("numeric",NaN);case'"':case"'":return $n='"'===st(),St="",void(Tt="string")}throw Dn(st())},identifierNameStartEscape:function(){if("u"!==tn)throw Dn(st());st();var ie=Fi();switch(ie){case"$":case"_":break;default:if(!Ct.isIdStartChar(ie))throw Si()}St+=ie,Tt="identifierName"},identifierName:function(){switch(tn){case"$":case"_":case"\u200c":case"\u200d":return void(St+=st());case"\\":return st(),void(Tt="identifierNameEscape")}if(!Ct.isIdContinueChar(tn))return An("identifier",St);St+=st()},identifierNameEscape:function(){if("u"!==tn)throw Dn(st());st();var ie=Fi();switch(ie){case"$":case"_":case"\u200c":case"\u200d":break;default:if(!Ct.isIdContinueChar(ie))throw Si()}St+=ie,Tt="identifierName"},sign:function(){switch(tn){case".":return St=st(),void(Tt="decimalPointLeading");case"0":return St=st(),void(Tt="zero");case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return St=st(),void(Tt="decimalInteger");case"I":return st(),mn("nfinity"),An("numeric",ri*(1/0));case"N":return st(),mn("aN"),An("numeric",NaN)}throw Dn(st())},zero:function(){switch(tn){case".":return St+=st(),void(Tt="decimalPoint");case"e":case"E":return St+=st(),void(Tt="decimalExponent");case"x":case"X":return St+=st(),void(Tt="hexadecimal")}return An("numeric",0*ri)},decimalInteger:function(){switch(tn){case".":return St+=st(),void(Tt="decimalPoint");case"e":case"E":return St+=st(),void(Tt="decimalExponent")}if(!Ct.isDigit(tn))return An("numeric",ri*Number(St));St+=st()},decimalPointLeading:function(){if(Ct.isDigit(tn))return St+=st(),void(Tt="decimalFraction");throw Dn(st())},decimalPoint:function(){switch(tn){case"e":case"E":return St+=st(),void(Tt="decimalExponent")}return Ct.isDigit(tn)?(St+=st(),void(Tt="decimalFraction")):An("numeric",ri*Number(St))},decimalFraction:function(){switch(tn){case"e":case"E":return St+=st(),void(Tt="decimalExponent")}if(!Ct.isDigit(tn))return An("numeric",ri*Number(St));St+=st()},decimalExponent:function(){switch(tn){case"+":case"-":return St+=st(),void(Tt="decimalExponentSign")}if(Ct.isDigit(tn))return St+=st(),void(Tt="decimalExponentInteger");throw Dn(st())},decimalExponentSign:function(){if(Ct.isDigit(tn))return St+=st(),void(Tt="decimalExponentInteger");throw Dn(st())},decimalExponentInteger:function(){if(!Ct.isDigit(tn))return An("numeric",ri*Number(St));St+=st()},hexadecimal:function(){if(Ct.isHexDigit(tn))return St+=st(),void(Tt="hexadecimalInteger");throw Dn(st())},hexadecimalInteger:function(){if(!Ct.isHexDigit(tn))return An("numeric",ri*Number(St));St+=st()},string:function(){switch(tn){case"\\":return st(),void(St+=function Mi(){switch(jn()){case"b":return st(),"\b";case"f":return st(),"\f";case"n":return st(),"\n";case"r":return st(),"\r";case"t":return st(),"\t";case"v":return st(),"\v";case"0":if(st(),Ct.isDigit(jn()))throw Dn(st());return"\0";case"x":return st(),function mi(){var H="",ie=jn();if(!Ct.isHexDigit(ie)||(H+=st(),ie=jn(),!Ct.isHexDigit(ie)))throw Dn(st());return H+=st(),String.fromCodePoint(parseInt(H,16))}();case"u":return st(),Fi();case"\n":case"\u2028":case"\u2029":return st(),"";case"\r":return st(),"\n"===jn()&&st(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case void 0:throw Dn(st())}return st()}());case'"':return $n?(st(),An("string",St)):void(St+=st());case"'":return $n?void(St+=st()):(st(),An("string",St));case"\n":case"\r":throw Dn(st());case"\u2028":case"\u2029":!function Ji(H){console.warn("JSON5: '"+Zi(H)+"' in strings is not valid ECMAScript; consider escaping")}(tn);break;case void 0:throw Dn(st())}St+=st()},start:function(){switch(tn){case"{":case"[":return An("punctuator",st())}Tt="value"},beforePropertyName:function(){switch(tn){case"$":case"_":return St=st(),void(Tt="identifierName");case"\\":return st(),void(Tt="identifierNameStartEscape");case"}":return An("punctuator",st());case'"':case"'":return $n='"'===st(),void(Tt="string")}if(Ct.isIdStartChar(tn))return St+=st(),void(Tt="identifierName");throw Dn(st())},afterPropertyName:function(){if(":"===tn)return An("punctuator",st());throw Dn(st())},beforePropertyValue:function(){Tt="value"},afterPropertyValue:function(){switch(tn){case",":case"}":return An("punctuator",st())}throw Dn(st())},beforeArrayValue:function(){if("]"===tn)return An("punctuator",st());Tt="value"},afterArrayValue:function(){switch(tn){case",":case"]":return An("punctuator",st())}throw Dn(st())},end:function(){throw Dn(st())}};function An(H,ie){return{type:H,value:ie,line:Be,column:ze}}function mn(H){for(var ie=0,Ne=H;ie<Ne.length;ie+=1){var ot=Ne[ie];if(jn()!==ot)throw Dn(st());st()}}function Fi(){for(var H="",ie=4;ie-- >0;){var Ne=jn();if(!Ct.isHexDigit(Ne))throw Dn(st());H+=st()}return String.fromCodePoint(parseInt(H,16))}var Ai={start:function(){if("eof"===mt.type)throw Jn();Hn()},beforePropertyName:function(){switch(mt.type){case"identifier":case"string":return xt=mt.value,void(gn="afterPropertyName");case"punctuator":return void Gn();case"eof":throw Jn()}},afterPropertyName:function(){if("eof"===mt.type)throw Jn();gn="beforePropertyValue"},beforePropertyValue:function(){if("eof"===mt.type)throw Jn();Hn()},beforeArrayValue:function(){if("eof"===mt.type)throw Jn();"punctuator"!==mt.type||"]"!==mt.value?Hn():Gn()},afterPropertyValue:function(){if("eof"===mt.type)throw Jn();switch(mt.value){case",":return void(gn="beforePropertyName");case"}":Gn()}},afterArrayValue:function(){if("eof"===mt.type)throw Jn();switch(mt.value){case",":return void(gn="beforeArrayValue");case"]":Gn()}},end:function(){}};function Hn(){var H;switch(mt.type){case"punctuator":switch(mt.value){case"{":H={};break;case"[":H=[]}break;case"null":case"boolean":case"numeric":case"string":H=mt.value}if(void 0===bn)bn=H;else{var ie=he[he.length-1];Array.isArray(ie)?ie.push(H):Object.defineProperty(ie,xt,{value:H,writable:!0,enumerable:!0,configurable:!0})}if(null!==H&&"object"==typeof H)he.push(H),gn=Array.isArray(H)?"beforeArrayValue":"beforePropertyName";else{var Ne=he[he.length-1];gn=null==Ne?"end":Array.isArray(Ne)?"afterArrayValue":"afterPropertyValue"}}function Gn(){he.pop();var H=he[he.length-1];gn=null==H?"end":Array.isArray(H)?"afterArrayValue":"afterPropertyValue"}function Dn(H){return lo(void 0===H?"JSON5: invalid end of input at "+Be+":"+ze:"JSON5: invalid character '"+Zi(H)+"' at "+Be+":"+ze)}function Jn(){return lo("JSON5: invalid end of input at "+Be+":"+ze)}function Si(){return lo("JSON5: invalid identifier character at "+Be+":"+(ze-=5))}function Zi(H){var ie={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(ie[H])return ie[H];if(H<" "){var Ne=H.charCodeAt(0).toString(16);return"\\x"+("00"+Ne).substring(Ne.length)}return H}function lo(H){var ie=new SyntaxError(H);return ie.lineNumber=Be,ie.columnNumber=ze,ie}return{parse:function(ie,Ne){wn=String(ie),gn="start",he=[],ve=0,Be=1,ze=0,mt=void 0,xt=void 0,bn=void 0;do{mt=$t(),Ai[gn]()}while("eof"!==mt.type);return"function"==typeof Ne?kt({"":bn},"",Ne):bn},stringify:function(ie,Ne,ot){var Wt,Sn,Pe,Lt=[],wt="",Rn="";if(null!=Ne&&"object"==typeof Ne&&!Array.isArray(Ne)&&(ot=Ne.space,Pe=Ne.quote,Ne=Ne.replacer),"function"==typeof Ne)Sn=Ne;else if(Array.isArray(Ne)){Wt=[];for(var ue=0,Ce=Ne;ue<Ce.length;ue+=1){var Ke=Ce[ue],vt=void 0;"string"==typeof Ke?vt=Ke:("number"==typeof Ke||Ke instanceof String||Ke instanceof Number)&&(vt=String(Ke)),void 0!==vt&&Wt.indexOf(vt)<0&&Wt.push(vt)}}return ot instanceof Number?ot=Number(ot):ot instanceof String&&(ot=String(ot)),"number"==typeof ot?ot>0&&(ot=Math.min(10,Math.floor(ot)),Rn="          ".substr(0,ot)):"string"==typeof ot&&(Rn=ot.substr(0,10)),Mt("",{"":ie});function Mt(ln,zn){var Jt=zn[ln];switch(null!=Jt&&("function"==typeof Jt.toJSON5?Jt=Jt.toJSON5(ln):"function"==typeof Jt.toJSON&&(Jt=Jt.toJSON(ln))),Sn&&(Jt=Sn.call(zn,ln,Jt)),Jt instanceof Number?Jt=Number(Jt):Jt instanceof String?Jt=String(Jt):Jt instanceof Boolean&&(Jt=Jt.valueOf()),Jt){case null:return"null";case!0:return"true";case!1:return"false"}return"string"==typeof Jt?At(Jt):"number"==typeof Jt?String(Jt):"object"==typeof Jt?Array.isArray(Jt)?function fi(ln){if(Lt.indexOf(ln)>=0)throw TypeError("Converting circular structure to JSON5");Lt.push(ln);var nn,zn=wt;wt+=Rn;for(var Jt=[],Zn=0;Zn<ln.length;Zn++){var ii=Mt(String(Zn),ln);Jt.push(void 0!==ii?ii:"null")}if(0===Jt.length)nn="[]";else if(""===Rn)nn="["+Jt.join(",")+"]";else{var Ii=Jt.join(",\n"+wt);nn="[\n"+wt+Ii+",\n"+zn+"]"}return Lt.pop(),wt=zn,nn}(Jt):function qt(ln){if(Lt.indexOf(ln)>=0)throw TypeError("Converting circular structure to JSON5");Lt.push(ln);var Vt,_n,zn=wt;wt+=Rn;for(var Zn=[],ii=0,nn=Wt||Object.keys(ln);ii<nn.length;ii+=1){var In=nn[ii],Wn=Mt(In,ln);if(void 0!==Wn){var Ii=en(In)+":";""!==Rn&&(Ii+=" "),Zn.push(Ii+=Wn)}}return 0===Zn.length?Vt="{}":""===Rn?Vt="{"+(_n=Zn.join(","))+"}":(_n=Zn.join(",\n"+wt),Vt="{\n"+wt+_n+",\n"+zn+"}"),Lt.pop(),wt=zn,Vt}(Jt):void 0}function At(ln){for(var zn={"'":.1,'"':.2},Jt={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"},Zn="",ii=0;ii<ln.length;ii++){var nn=ln[ii];switch(nn){case"'":case'"':zn[nn]++,Zn+=nn;continue;case"\0":if(Ct.isDigit(ln[ii+1])){Zn+="\\x00";continue}}if(Jt[nn])Zn+=Jt[nn];else if(nn<" "){var In=nn.charCodeAt(0).toString(16);Zn+="\\x"+("00"+In).substring(In.length)}else Zn+=nn}var Wn=Pe||Object.keys(zn).reduce(function(Ii,Vt){return zn[Ii]<zn[Vt]?Ii:Vt});return Wn+(Zn=Zn.replace(new RegExp(Wn,"g"),Jt[Wn]))+Wn}function en(ln){if(0===ln.length)return At(ln);var zn=String.fromCodePoint(ln.codePointAt(0));if(!Ct.isIdStartChar(zn))return At(ln);for(var Jt=zn.length;Jt<ln.length;Jt++)if(!Ct.isIdContinueChar(String.fromCodePoint(ln.codePointAt(Jt))))return At(ln);return ln}}}}()},7198:function(Ot,ke){!function(M){"use strict";function X(s){var u,p,C,O;for(p=1,C=arguments.length;p<C;p++)for(u in O=arguments[p])s[u]=O[u];return s}var W=Object.create||function(){function s(){}return function(u){return s.prototype=u,new s}}();function ce(s,u){var p=Array.prototype.slice;if(s.bind)return s.bind.apply(s,p.call(arguments,1));var C=p.call(arguments,2);return function(){return s.apply(u,C.length?C.concat(p.call(arguments)):arguments)}}var J=0;function e(s){return"_leaflet_id"in s||(s._leaflet_id=++J),s._leaflet_id}function Q(s,u,p){var C,O,$,me;return me=function(){C=!1,O&&($.apply(p,O),O=!1)},$=function(){C?O=arguments:(s.apply(p,arguments),setTimeout(me,u),C=!0)},$}function Le(s,u,p){var C=u[1],O=u[0],$=C-O;return s===C&&p?s:((s-O)%$+$)%$+O}function pe(){return!1}function ge(s,u){if(!1===u)return s;var p=Math.pow(10,void 0===u?6:u);return Math.round(s*p)/p}function Ae(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function ne(s){return Ae(s).split(/\s+/)}function De(s,u){for(var p in Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?W(s.options):{}),u)s.options[p]=u[p];return s.options}function Se(s,u,p){var C=[];for(var O in s)C.push(encodeURIComponent(p?O.toUpperCase():O)+"="+encodeURIComponent(s[O]));return(u&&-1!==u.indexOf("?")?"&":"?")+C.join("&")}var He=/\{ *([\w_ -]+) *\}/g;function K(s,u){return s.replace(He,function(p,C){var O=u[C];if(void 0===O)throw new Error("No value provided for variable "+p);return"function"==typeof O&&(O=O(u)),O})}var be=Array.isArray||function(s){return"[object Array]"===Object.prototype.toString.call(s)};function Ye(s,u){for(var p=0;p<s.length;p++)if(s[p]===u)return p;return-1}var pt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Rt(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var Te=0;function Ie(s){var u=+new Date,p=Math.max(0,16-(u-Te));return Te=u+p,window.setTimeout(s,p)}var fe=window.requestAnimationFrame||Rt("RequestAnimationFrame")||Ie,ut=window.cancelAnimationFrame||Rt("CancelAnimationFrame")||Rt("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function Xe(s,u,p){if(!p||fe!==Ie)return fe.call(window,ce(s,u));s.call(u)}function $e(s){s&&ut.call(window,s)}var it={__proto__:null,extend:X,create:W,bind:ce,get lastId(){return J},stamp:e,throttle:Q,wrapNum:Le,falseFn:pe,formatNum:ge,trim:Ae,splitWords:ne,setOptions:De,getParamString:Se,template:K,isArray:be,indexOf:Ye,emptyImageUrl:pt,requestFn:fe,cancelFn:ut,requestAnimFrame:Xe,cancelAnimFrame:$e};function Ue(){}Ue.extend=function(s){var u=function(){De(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=u.__super__=this.prototype,C=W(p);for(var O in C.constructor=u,u.prototype=C,this)Object.prototype.hasOwnProperty.call(this,O)&&"prototype"!==O&&"__super__"!==O&&(u[O]=this[O]);return s.statics&&X(u,s.statics),s.includes&&(function ft(s){if(!(typeof L>"u")&&L&&L.Mixin){s=be(s)?s:[s];for(var u=0;u<s.length;u++)s[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(s.includes),X.apply(null,[C].concat(s.includes))),X(C,s),delete C.statics,delete C.includes,C.options&&(C.options=p.options?W(p.options):{},X(C.options,s.options)),C._initHooks=[],C.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var $=0,me=C._initHooks.length;$<me;$++)C._initHooks[$].call(this)}},u},Ue.include=function(s){var u=this.prototype.options;return X(this.prototype,s),s.options&&(this.prototype.options=u,this.mergeOptions(s.options)),this},Ue.mergeOptions=function(s){return X(this.prototype.options,s),this},Ue.addInitHook=function(s){var u=Array.prototype.slice.call(arguments,1),p="function"==typeof s?s:function(){this[s].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};var Je={on:function(s,u,p){if("object"==typeof s)for(var C in s)this._on(C,s[C],u);else for(var O=0,$=(s=ne(s)).length;O<$;O++)this._on(s[O],u,p);return this},off:function(s,u,p){if(arguments.length)if("object"==typeof s)for(var C in s)this._off(C,s[C],u);else{s=ne(s);for(var O=1===arguments.length,$=0,me=s.length;$<me;$++)O?this._off(s[$]):this._off(s[$],u,p)}else delete this._events;return this},_on:function(s,u,p,C){if("function"==typeof u){if(!1===this._listens(s,u,p)){p===this&&(p=void 0);var O={fn:u,ctx:p};C&&(O.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(O)}}else console.warn("wrong listener type: "+typeof u)},_off:function(s,u,p){var C,O,$;if(this._events&&(C=this._events[s])){if(1===arguments.length){if(this._firingCount)for(O=0,$=C.length;O<$;O++)C[O].fn=pe;return void delete this._events[s]}if("function"!=typeof u)return void console.warn("wrong listener type: "+typeof u);var me=this._listens(s,u,p);!1!==me&&(this._firingCount&&(C[me].fn=pe,this._events[s]=C=C.slice()),C.splice(me,1))}},fire:function(s,u,p){if(!this.listens(s,p))return this;var C=X({},u,{type:s,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var O=this._events[s];if(O){this._firingCount=this._firingCount+1||1;for(var $=0,me=O.length;$<me;$++){var Ge=O[$],tt=Ge.fn;Ge.once&&this.off(s,tt,Ge.ctx),tt.call(Ge.ctx||this,C)}this._firingCount--}}return p&&this._propagateEvent(C),this},listens:function(s,u,p,C){"string"!=typeof s&&console.warn('"string" type argument expected');var O=u;"function"!=typeof u&&(C=!!u,O=void 0,p=void 0);var $=this._events&&this._events[s];if($&&$.length&&!1!==this._listens(s,O,p))return!0;if(C)for(var me in this._eventParents)if(this._eventParents[me].listens(s,u,p,C))return!0;return!1},_listens:function(s,u,p){if(!this._events)return!1;var C=this._events[s]||[];if(!u)return!!C.length;p===this&&(p=void 0);for(var O=0,$=C.length;O<$;O++)if(C[O].fn===u&&C[O].ctx===p)return O;return!1},once:function(s,u,p){if("object"==typeof s)for(var C in s)this._on(C,s[C],u,!0);else for(var O=0,$=(s=ne(s)).length;O<$;O++)this._on(s[O],u,p,!0);return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[e(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[e(s)],this},_propagateEvent:function(s){for(var u in this._eventParents)this._eventParents[u].fire(s.type,X({layer:s.target,propagatedFrom:s.target},s),!0)}};Je.addEventListener=Je.on,Je.removeEventListener=Je.clearAllEventListeners=Je.off,Je.addOneTimeEventListener=Je.once,Je.fireEvent=Je.fire,Je.hasEventListeners=Je.listens;var Ft=Ue.extend(Je);function rt(s,u,p){this.x=p?Math.round(s):s,this.y=p?Math.round(u):u}var dt=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};function Re(s,u,p){return s instanceof rt?s:be(s)?new rt(s[0],s[1]):null==s?s:"object"==typeof s&&"x"in s&&"y"in s?new rt(s.x,s.y):new rt(s,u,p)}function ht(s,u){if(s)for(var p=u?[s,u]:s,C=0,O=p.length;C<O;C++)this.extend(p[C])}function ae(s,u){return!s||s instanceof ht?s:new ht(s,u)}function le(s,u){if(s)for(var p=u?[s,u]:s,C=0,O=p.length;C<O;C++)this.extend(p[C])}function we(s,u){return s instanceof le?s:new le(s,u)}function ye(s,u,p){if(isNaN(s)||isNaN(u))throw new Error("Invalid LatLng object: ("+s+", "+u+")");this.lat=+s,this.lng=+u,void 0!==p&&(this.alt=+p)}function Me(s,u,p){return s instanceof ye?s:be(s)&&"object"!=typeof s[0]?3===s.length?new ye(s[0],s[1],s[2]):2===s.length?new ye(s[0],s[1]):null:null==s?s:"object"==typeof s&&"lat"in s?new ye(s.lat,"lng"in s?s.lng:s.lon,s.alt):void 0===u?null:new ye(s,u,p)}rt.prototype={clone:function(){return new rt(this.x,this.y)},add:function(s){return this.clone()._add(Re(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(Re(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new rt(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new rt(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=dt(this.x),this.y=dt(this.y),this},distanceTo:function(s){var u=(s=Re(s)).x-this.x,p=s.y-this.y;return Math.sqrt(u*u+p*p)},equals:function(s){return(s=Re(s)).x===this.x&&s.y===this.y},contains:function(s){return s=Re(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+ge(this.x)+", "+ge(this.y)+")"}},ht.prototype={extend:function(s){var u,p;if(!s)return this;if(s instanceof rt||"number"==typeof s[0]||"x"in s)u=p=Re(s);else if(p=(s=ae(s)).max,!(u=s.min)||!p)return this;return this.min||this.max?(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)):(this.min=u.clone(),this.max=p.clone()),this},getCenter:function(s){return Re((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return Re(this.min.x,this.max.y)},getTopRight:function(){return Re(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var u,p;return(s="number"==typeof s[0]||s instanceof rt?Re(s):ae(s))instanceof ht?(u=s.min,p=s.max):u=p=s,u.x>=this.min.x&&p.x<=this.max.x&&u.y>=this.min.y&&p.y<=this.max.y},intersects:function(s){s=ae(s);var u=this.min,p=this.max,C=s.min,O=s.max;return O.x>=u.x&&C.x<=p.x&&O.y>=u.y&&C.y<=p.y},overlaps:function(s){s=ae(s);var u=this.min,p=this.max,C=s.min,O=s.max;return O.x>u.x&&C.x<p.x&&O.y>u.y&&C.y<p.y},isValid:function(){return!(!this.min||!this.max)},pad:function(s){var u=this.min,p=this.max,C=Math.abs(u.x-p.x)*s,O=Math.abs(u.y-p.y)*s;return ae(Re(u.x-C,u.y-O),Re(p.x+C,p.y+O))},equals:function(s){return!!s&&(s=ae(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight()))}},le.prototype={extend:function(s){var C,O,u=this._southWest,p=this._northEast;if(s instanceof ye)C=s,O=s;else{if(!(s instanceof le))return s?this.extend(Me(s)||we(s)):this;if(O=s._northEast,!(C=s._southWest)||!O)return this}return u||p?(u.lat=Math.min(C.lat,u.lat),u.lng=Math.min(C.lng,u.lng),p.lat=Math.max(O.lat,p.lat),p.lng=Math.max(O.lng,p.lng)):(this._southWest=new ye(C.lat,C.lng),this._northEast=new ye(O.lat,O.lng)),this},pad:function(s){var u=this._southWest,p=this._northEast,C=Math.abs(u.lat-p.lat)*s,O=Math.abs(u.lng-p.lng)*s;return new le(new ye(u.lat-C,u.lng-O),new ye(p.lat+C,p.lng+O))},getCenter:function(){return new ye((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ye(this.getNorth(),this.getWest())},getSouthEast:function(){return new ye(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){s="number"==typeof s[0]||s instanceof ye||"lat"in s?Me(s):we(s);var C,O,u=this._southWest,p=this._northEast;return s instanceof le?(C=s.getSouthWest(),O=s.getNorthEast()):C=O=s,C.lat>=u.lat&&O.lat<=p.lat&&C.lng>=u.lng&&O.lng<=p.lng},intersects:function(s){s=we(s);var u=this._southWest,p=this._northEast,C=s.getSouthWest(),O=s.getNorthEast();return O.lat>=u.lat&&C.lat<=p.lat&&O.lng>=u.lng&&C.lng<=p.lng},overlaps:function(s){s=we(s);var u=this._southWest,p=this._northEast,C=s.getSouthWest(),O=s.getNorthEast();return O.lat>u.lat&&C.lat<p.lat&&O.lng>u.lng&&C.lng<p.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,u){return!!s&&(s=we(s),this._southWest.equals(s.getSouthWest(),u)&&this._northEast.equals(s.getNorthEast(),u))},isValid:function(){return!(!this._southWest||!this._northEast)}},ye.prototype={equals:function(s,u){return!!s&&(s=Me(s),Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng))<=(void 0===u?1e-9:u))},toString:function(s){return"LatLng("+ge(this.lat,s)+", "+ge(this.lng,s)+")"},distanceTo:function(s){return et.distance(this,Me(s))},wrap:function(){return et.wrapLatLng(this)},toBounds:function(s){var u=180*s/40075017,p=u/Math.cos(Math.PI/180*this.lat);return we([this.lat-u,this.lng-p],[this.lat+u,this.lng+p])},clone:function(){return new ye(this.lat,this.lng,this.alt)}};var s,Ze={latLngToPoint:function(s,u){var p=this.projection.project(s),C=this.scale(u);return this.transformation._transform(p,C)},pointToLatLng:function(s,u){var p=this.scale(u),C=this.transformation.untransform(s,p);return this.projection.unproject(C)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var u=this.projection.bounds,p=this.scale(s);return new ht(this.transformation.transform(u.min,p),this.transformation.transform(u.max,p))},infinite:!1,wrapLatLng:function(s){var u=this.wrapLng?Le(s.lng,this.wrapLng,!0):s.lng;return new ye(this.wrapLat?Le(s.lat,this.wrapLat,!0):s.lat,u,s.alt)},wrapLatLngBounds:function(s){var u=s.getCenter(),p=this.wrapLatLng(u),C=u.lat-p.lat,O=u.lng-p.lng;if(0===C&&0===O)return s;var $=s.getSouthWest(),me=s.getNorthEast();return new le(new ye($.lat-C,$.lng-O),new ye(me.lat-C,me.lng-O))}},et=X({},Ze,{wrapLng:[-180,180],R:6371e3,distance:function(s,u){var p=Math.PI/180,C=s.lat*p,O=u.lat*p,$=Math.sin((u.lat-s.lat)*p/2),me=Math.sin((u.lng-s.lng)*p/2),Ge=$*$+Math.cos(C)*Math.cos(O)*me*me,tt=2*Math.atan2(Math.sqrt(Ge),Math.sqrt(1-Ge));return this.R*tt}}),cn={R:6378137,MAX_LATITUDE:85.0511287798,project:function(s){var u=Math.PI/180,p=this.MAX_LATITUDE,C=Math.max(Math.min(p,s.lat),-p),O=Math.sin(C*u);return new rt(this.R*s.lng*u,this.R*Math.log((1+O)/(1-O))/2)},unproject:function(s){var u=180/Math.PI;return new ye((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*u,s.x*u/this.R)},bounds:(s=6378137*Math.PI,new ht([-s,-s],[s,s]))};function ct(s,u,p,C){if(be(s))return this._a=s[0],this._b=s[1],this._c=s[2],void(this._d=s[3]);this._a=s,this._b=u,this._c=p,this._d=C}function sn(s,u,p,C){return new ct(s,u,p,C)}ct.prototype={transform:function(s,u){return this._transform(s.clone(),u)},_transform:function(s,u){return s.x=(u=u||1)*(this._a*s.x+this._b),s.y=u*(this._c*s.y+this._d),s},untransform:function(s,u){return new rt((s.x/(u=u||1)-this._b)/this._a,(s.y/u-this._d)/this._c)}};var Ht=X({},et,{code:"EPSG:3857",projection:cn,transformation:function(){var s=.5/(Math.PI*cn.R);return sn(s,.5,-s,.5)}()}),Ct=X({},Ht,{code:"EPSG:900913"});function wn(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function gn(s,u){var C,O,$,me,Ge,tt,p="";for(C=0,$=s.length;C<$;C++){for(O=0,me=(Ge=s[C]).length;O<me;O++)p+=(O?"L":"M")+(tt=Ge[O]).x+" "+tt.y;p+=u?Ne.svg?"z":"x":""}return p||"M0 0"}var he=document.documentElement.style,ve="ActiveXObject"in window,Be=ve&&!document.addEventListener,ze="msLaunchUri"in navigator&&!("documentMode"in document),mt=ie("webkit"),xt=ie("android"),bn=ie("android 2")||ie("android 3"),on=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),kt=xt&&ie("Google")&&on<537&&!("AudioNode"in window),Tt=!!window.opera,St=!ze&&ie("chrome"),$n=ie("gecko")&&!mt&&!Tt&&!ve,ri=!St&&ie("safari"),tn=ie("phantom"),$t="OTransition"in he,jn=0===navigator.platform.indexOf("Win"),st=ve&&"transition"in he,hn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!bn,An="MozPerspective"in he,mn=!window.L_DISABLE_3D&&(st||hn||An)&&!$t&&!tn,Mi=typeof orientation<"u"||ie("mobile"),mi=Mi&&mt,Fi=Mi&&hn,Ai=!window.PointerEvent&&window.MSPointerEvent,Hn=!(!window.PointerEvent&&!Ai),Gn="ontouchstart"in window||!!window.TouchEvent,Dn=!window.L_NO_TOUCH&&(Gn||Hn),Jn=Mi&&Tt,Si=Mi&&$n,Ji=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Zi=function(){var s=!1;try{var u=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",pe,u),window.removeEventListener("testPassiveEventSupport",pe,u)}catch{}return s}(),lo=!!document.createElement("canvas").getContext,$o=!(!document.createElementNS||!wn("svg").createSVGRect),at=!!$o&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(s.firstChild&&s.firstChild.namespaceURI)}(),Ve=!$o&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var u=s.firstChild;return u.style.behavior="url(#default#VML)",u&&"object"==typeof u.adj}catch{return!1}}();function ie(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var Ne={ie:ve,ielt9:Be,edge:ze,webkit:mt,android:xt,android23:bn,androidStock:kt,opera:Tt,chrome:St,gecko:$n,safari:ri,phantom:tn,opera12:$t,win:jn,ie3d:st,webkit3d:hn,gecko3d:An,any3d:mn,mobile:Mi,mobileWebkit:mi,mobileWebkit3d:Fi,msPointer:Ai,pointer:Hn,touch:Dn,touchNative:Gn,mobileOpera:Jn,mobileGecko:Si,retina:Ji,passiveEvents:Zi,canvas:lo,svg:$o,vml:Ve,inlineSvg:at,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},ot=Ne.msPointer?"MSPointerDown":"pointerdown",Lt=Ne.msPointer?"MSPointerMove":"pointermove",wt=Ne.msPointer?"MSPointerUp":"pointerup",Wt=Ne.msPointer?"MSPointerCancel":"pointercancel",Sn={touchstart:ot,touchmove:Lt,touchend:wt,touchcancel:Wt},Rn={touchstart:function fi(s,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Xt(u),en(s,u)},touchmove:en,touchend:en,touchcancel:en},Pe={},ue=!1;function Ce(s,u,p){return"touchstart"===u&&function qt(){ue||(document.addEventListener(ot,vt,!0),document.addEventListener(Lt,Mt,!0),document.addEventListener(wt,At,!0),document.addEventListener(Wt,At,!0),ue=!0)}(),Rn[u]?(p=Rn[u].bind(this,p),s.addEventListener(Sn[u],p,!1),p):(console.warn("wrong event specified:",u),pe)}function vt(s){Pe[s.pointerId]=s}function Mt(s){Pe[s.pointerId]&&(Pe[s.pointerId]=s)}function At(s){delete Pe[s.pointerId]}function en(s,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){for(var p in u.touches=[],Pe)u.touches.push(Pe[p]);u.changedTouches=[u],s(u)}}var zn=200;var tr,Oi,xr,or,Hr,ii=Ir(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),nn=Ir(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),In="webkitTransition"===nn||"OTransition"===nn?nn+"End":"transitionend";function Wn(s){return"string"==typeof s?document.getElementById(s):s}function Ii(s,u){var p=s.style[u]||s.currentStyle&&s.currentStyle[u];if((!p||"auto"===p)&&document.defaultView){var C=document.defaultView.getComputedStyle(s,null);p=C?C[u]:null}return"auto"===p?null:p}function Vt(s,u,p){var C=document.createElement(s);return C.className=u||"",p&&p.appendChild(C),C}function _n(s){var u=s.parentNode;u&&u.removeChild(s)}function xi(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Ci(s){var u=s.parentNode;u&&u.lastChild!==s&&u.appendChild(s)}function Vi(s){var u=s.parentNode;u&&u.firstChild!==s&&u.insertBefore(s,u.firstChild)}function _o(s,u){if(void 0!==s.classList)return s.classList.contains(u);var p=Go(s);return p.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(p)}function fn(s,u){if(void 0!==s.classList)for(var p=ne(u),C=0,O=p.length;C<O;C++)s.classList.add(p[C]);else if(!_o(s,u)){var $=Go(s);to(s,($?$+" ":"")+u)}}function En(s,u){void 0!==s.classList?s.classList.remove(u):to(s,Ae((" "+Go(s)+" ").replace(" "+u+" "," ")))}function to(s,u){void 0===s.className.baseVal?s.className=u:s.className.baseVal=u}function Go(s){return s.correspondingElement&&(s=s.correspondingElement),void 0===s.className.baseVal?s.className:s.className.baseVal}function Ki(s,u){"opacity"in s.style?s.style.opacity=u:"filter"in s.style&&function Js(s,u){var p=!1,C="DXImageTransform.Microsoft.Alpha";try{p=s.filters.item(C)}catch{if(1===u)return}u=Math.round(100*u),p?(p.Enabled=100!==u,p.Opacity=u):s.style.filter+=" progid:"+C+"(opacity="+u+")"}(s,u)}function Ir(s){for(var u=document.documentElement.style,p=0;p<s.length;p++)if(s[p]in u)return s[p];return!1}function Fo(s,u,p){var C=u||new rt(0,0);s.style[ii]=(Ne.ie3d?"translate("+C.x+"px,"+C.y+"px)":"translate3d("+C.x+"px,"+C.y+"px,0)")+(p?" scale("+p+")":"")}function _i(s,u){s._leaflet_pos=u,Ne.any3d?Fo(s,u):(s.style.left=u.x+"px",s.style.top=u.y+"px")}function no(s){return s._leaflet_pos||new rt(0,0)}if("onselectstart"in document)tr=function(){zt(window,"selectstart",Xt)},Oi=function(){Cn(window,"selectstart",Xt)};else{var gr=Ir(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);tr=function(){if(gr){var s=document.documentElement.style;xr=s[gr],s[gr]="none"}},Oi=function(){gr&&(document.documentElement.style[gr]=xr,xr=void 0)}}function nr(){zt(window,"dragstart",Xt)}function ir(){Cn(window,"dragstart",Xt)}function Zr(s){for(;-1===s.tabIndex;)s=s.parentNode;s.style&&(Io(),or=s,Hr=s.style.outlineStyle,s.style.outlineStyle="none",zt(window,"keydown",Io))}function Io(){or&&(or.style.outlineStyle=Hr,or=void 0,Hr=void 0,Cn(window,"keydown",Io))}function Vr(s){do{s=s.parentNode}while(!(s.offsetWidth&&s.offsetHeight||s===document.body));return s}function yn(s){var u=s.getBoundingClientRect();return{x:u.width/s.offsetWidth||1,y:u.height/s.offsetHeight||1,boundingClientRect:u}}var Di={__proto__:null,TRANSFORM:ii,TRANSITION:nn,TRANSITION_END:In,get:Wn,getStyle:Ii,create:Vt,remove:_n,empty:xi,toFront:Ci,toBack:Vi,hasClass:_o,addClass:fn,removeClass:En,setClass:to,getClass:Go,setOpacity:Ki,testProp:Ir,setTransform:Fo,setPosition:_i,getPosition:no,get disableTextSelection(){return tr},get enableTextSelection(){return Oi},disableImageDrag:nr,enableImageDrag:ir,preventOutline:Zr,restoreOutline:Io,getSizedParentNode:Vr,getScale:yn};function zt(s,u,p,C){if(u&&"object"==typeof u)for(var O in u)io(s,O,u[O],p);else for(var $=0,me=(u=ne(u)).length;$<me;$++)io(s,u[$],p,C);return this}var vi="_leaflet_events";function Cn(s,u,p,C){if(1===arguments.length)rr(s),delete s[vi];else if(u&&"object"==typeof u)for(var O in u)$r(s,O,u[O],p);else if(u=ne(u),2===arguments.length)rr(s,function(Ge){return-1!==Ye(u,Ge)});else for(var $=0,me=u.length;$<me;$++)$r(s,u[$],p,C);return this}function rr(s,u){for(var p in s[vi]){var C=p.split(/\d/)[0];(!u||u(C))&&$r(s,C,null,null,p)}}var mr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function io(s,u,p,C){var O=u+e(p)+(C?"_"+e(C):"");if(s[vi]&&s[vi][O])return this;var $=function(Ge){return p.call(C||s,Ge||window.event)},me=$;!Ne.touchNative&&Ne.pointer&&0===u.indexOf("touch")?$=Ce(s,u,$):Ne.touch&&"dblclick"===u?$=function Jt(s,u){s.addEventListener("dblclick",u);var C,p=0;function O($){if(1===$.detail){if("mouse"!==$.pointerType&&(!$.sourceCapabilities||$.sourceCapabilities.firesTouchEvents)){var me=$i($);if(!me.some(function(tt){return tt instanceof HTMLLabelElement&&tt.attributes.for})||me.some(function(tt){return tt instanceof HTMLInputElement||tt instanceof HTMLSelectElement})){var Ge=Date.now();Ge-p<=zn?2==++C&&u(function ln(s){var p,C,u={};for(C in s)u[C]=(p=s[C])&&p.bind?p.bind(s):p;return s=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}($)):C=1,p=Ge}}}else C=$.detail}return s.addEventListener("click",O),{dblclick:u,simDblclick:O}}(s,$):"addEventListener"in s?"touchstart"===u||"touchmove"===u||"wheel"===u||"mousewheel"===u?s.addEventListener(mr[u]||u,$,!!Ne.passiveEvents&&{passive:!1}):"mouseenter"===u||"mouseleave"===u?s.addEventListener(mr[u],$=function(Ge){Ge=Ge||window.event,ci(s,Ge)&&me(Ge)},!1):s.addEventListener(u,me,!1):s.attachEvent("on"+u,$),s[vi]=s[vi]||{},s[vi][O]=$}function $r(s,u,p,C,O){O=O||u+e(p)+(C?"_"+e(C):"");var $=s[vi]&&s[vi][O];if(!$)return this;!Ne.touchNative&&Ne.pointer&&0===u.indexOf("touch")?function Ke(s,u,p){Sn[u]?s.removeEventListener(Sn[u],p,!1):console.warn("wrong event specified:",u)}(s,u,$):Ne.touch&&"dblclick"===u?function Zn(s,u){s.removeEventListener("dblclick",u.dblclick),s.removeEventListener("click",u.simDblclick)}(s,$):"removeEventListener"in s?s.removeEventListener(mr[u]||u,$,!1):s.detachEvent("on"+u,$),s[vi][O]=null}function Lo(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Kn(s){return io(s,"wheel",Lo),this}function jt(s){return zt(s,"mousedown touchstart dblclick contextmenu",Lo),s._leaflet_disable_click=!0,this}function Xt(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function qn(s){return Xt(s),Lo(s),this}function $i(s){if(s.composedPath)return s.composedPath();for(var u=[],p=s.target;p;)u.push(p),p=p.parentNode;return u}function xo(s,u){if(!u)return new rt(s.clientX,s.clientY);var p=yn(u),C=p.boundingClientRect;return new rt((s.clientX-C.left)/p.x-u.clientLeft,(s.clientY-C.top)/p.y-u.clientTop)}var wi=Ne.linux&&Ne.chrome?window.devicePixelRatio:Ne.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function _r(s){return Ne.edge?s.wheelDeltaY/2:s.deltaY&&0===s.deltaMode?-s.deltaY/wi:s.deltaY&&1===s.deltaMode?20*-s.deltaY:s.deltaY&&2===s.deltaMode?60*-s.deltaY:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?20*-s.detail:s.detail?s.detail/-32765*60:0}function ci(s,u){var p=u.relatedTarget;if(!p)return!0;try{for(;p&&p!==s;)p=p.parentNode}catch{return!1}return p!==s}var uo={__proto__:null,on:zt,off:Cn,stopPropagation:Lo,disableScrollPropagation:Kn,disableClickPropagation:jt,preventDefault:Xt,stop:qn,getPropagationPath:$i,getMousePosition:xo,getWheelDelta:_r,isExternalTarget:ci,addListener:zt,removeListener:Cn},Bo=Ft.extend({run:function(s,u,p,C){this.stop(),this._el=s,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(C||.5,.2),this._startPos=no(s),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Xe(this._animate,this),this._step()},_step:function(s){var u=+new Date-this._startTime,p=1e3*this._duration;u<p?this._runFrame(this._easeOut(u/p),s):(this._runFrame(1),this._complete())},_runFrame:function(s,u){var p=this._startPos.add(this._offset.multiplyBy(s));u&&p._round(),_i(this._el,p),this.fire("step")},_complete:function(){$e(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Ut=Ft.extend({options:{crs:Ht,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,u){u=De(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=ce(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),void 0!==u.zoom&&(this._zoom=this._limitZoom(u.zoom)),u.center&&void 0!==u.zoom&&this.setView(Me(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=nn&&Ne.any3d&&!Ne.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),zt(this._proxy,In,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,u,p){return u=void 0===u?this._zoom:this._limitZoom(u),s=this._limitCenter(Me(s),u,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&!0!==p&&(void 0!==p.animate&&(p.zoom=X({animate:p.animate},p.zoom),p.pan=X({animate:p.animate,duration:p.duration},p.pan)),this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,u,p.zoom):this._tryAnimatedPan(s,p.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(s,u,p.pan&&p.pan.noMoveStart),this)},setZoom:function(s,u){return this._loaded?this.setView(this.getCenter(),s,{zoom:u}):(this._zoom=s,this)},zoomIn:function(s,u){return this.setZoom(this._zoom+(s=s||(Ne.any3d?this.options.zoomDelta:1)),u)},zoomOut:function(s,u){return this.setZoom(this._zoom-(s=s||(Ne.any3d?this.options.zoomDelta:1)),u)},setZoomAround:function(s,u,p){var C=this.getZoomScale(u),O=this.getSize().divideBy(2),me=(s instanceof rt?s:this.latLngToContainerPoint(s)).subtract(O).multiplyBy(1-1/C),Ge=this.containerPointToLatLng(O.add(me));return this.setView(Ge,u,{zoom:p})},_getBoundsCenterZoom:function(s,u){u=u||{},s=s.getBounds?s.getBounds():we(s);var p=Re(u.paddingTopLeft||u.padding||[0,0]),C=Re(u.paddingBottomRight||u.padding||[0,0]),O=this.getBoundsZoom(s,!1,p.add(C));if((O="number"==typeof u.maxZoom?Math.min(u.maxZoom,O):O)===1/0)return{center:s.getCenter(),zoom:O};var $=C.subtract(p).divideBy(2),me=this.project(s.getSouthWest(),O),Ge=this.project(s.getNorthEast(),O);return{center:this.unproject(me.add(Ge).divideBy(2).add($),O),zoom:O}},fitBounds:function(s,u){if(!(s=we(s)).isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(s,u);return this.setView(p.center,p.zoom,u)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,u){return this.setView(s,this._zoom,{pan:u})},panBy:function(s,u){if(u=u||{},!(s=Re(s).round()).x&&!s.y)return this.fire("moveend");if(!0!==u.animate&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Bo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),!1!==u.animate){fn(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,p,u.duration||.25,u.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,u,p){if(!1===(p=p||{}).animate||!Ne.any3d)return this.setView(s,u,p);this._stop();var C=this.project(this.getCenter()),O=this.project(s),$=this.getSize(),me=this._zoom;s=Me(s),u=void 0===u?me:u;var Ge=Math.max($.x,$.y),tt=Ge*this.getZoomScale(me,u),yt=O.distanceTo(C)||1,Bt=1.42,vn=Bt*Bt;function Tn(It){var Dt=(tt*tt-Ge*Ge+(It?-1:1)*vn*vn*yt*yt)/(2*(It?tt:Ge)*vn*yt),Ln=Math.sqrt(Dt*Dt+1)-Dt;return Ln<1e-9?-18:Math.log(Ln)}function Xn(It){return(Math.exp(It)-Math.exp(-It))/2}function Yn(It){return(Math.exp(It)+Math.exp(-It))/2}var Qt=Tn(0);function _e(It){return Ge*(Yn(Qt)*function bi(It){return Xn(It)/Yn(It)}(Qt+Bt*It)-Xn(Qt))/vn}var P=Date.now(),q=(Tn(1)-Qt)/Bt,Ee=p.duration?1e3*p.duration:1e3*q*.8;return this._moveStart(!0,p.noMoveStart),function lt(){var It=(Date.now()-P)/Ee,Vn=function U(It){return 1-Math.pow(1-It,1.5)}(It)*q;It<=1?(this._flyToFrame=Xe(lt,this),this._move(this.unproject(C.add(O.subtract(C).multiplyBy(_e(Vn)/yt)),me),this.getScaleZoom(Ge/function Jr(It){return Ge*(Yn(Qt)/Yn(Qt+Bt*It))}(Vn),me),{flyTo:!0})):this._move(s,u)._moveEnd(!0)}.call(this),this},flyToBounds:function(s,u){var p=this._getBoundsCenterZoom(s,u);return this.flyTo(p.center,p.zoom,u)},setMaxBounds:function(s){return s=we(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var u=this.options.minZoom;return this.options.minZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var u=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,u){this._enforcingBounds=!0;var p=this.getCenter(),C=this._limitCenter(p,this._zoom,we(s));return p.equals(C)||this.panTo(C,u),this._enforcingBounds=!1,this},panInside:function(s,u){var p=Re((u=u||{}).paddingTopLeft||u.padding||[0,0]),C=Re(u.paddingBottomRight||u.padding||[0,0]),O=this.project(this.getCenter()),$=this.project(s),me=this.getPixelBounds(),Ge=ae([me.min.add(p),me.max.subtract(C)]),tt=Ge.getSize();if(!Ge.contains($)){this._enforcingBounds=!0;var yt=$.subtract(Ge.getCenter()),Bt=Ge.extend($).getSize().subtract(tt);O.x+=yt.x<0?-Bt.x:Bt.x,O.y+=yt.y<0?-Bt.y:Bt.y,this.panTo(this.unproject(O),u),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=X({animate:!1,pan:!0},!0===s?{animate:!0}:s);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),C=u.divideBy(2).round(),O=p.divideBy(2).round(),$=C.subtract(O);return $.x||$.y?(s.animate&&s.pan?this.panBy($):(s.pan&&this._rawPanBy($),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(ce(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:p})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=X({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=ce(this._handleGeolocationResponse,this),p=ce(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,p,s):navigator.geolocation.getCurrentPosition(u,p,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var u=s.code,p=s.message||(1===u?"permission denied":2===u?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var C=new ye(s.coords.latitude,s.coords.longitude),O=C.toBounds(2*s.coords.accuracy),$=this._locateOptions;if($.setView){var me=this.getBoundsZoom(O);this.setView(C,$.maxZoom?Math.min(me,$.maxZoom):me)}var Ge={latlng:C,bounds:O,timestamp:s.timestamp};for(var tt in s.coords)"number"==typeof s.coords[tt]&&(Ge[tt]=s.coords[tt]);this.fire("locationfound",Ge)}},addHandler:function(s,u){if(!u)return this;var p=this[s]=new u(this);return this._handlers.push(p),this.options[s]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}var s;for(s in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),_n(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&($e(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[s].remove();for(s in this._panes)_n(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,u){var C=Vt("div","leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),u||this._mapPane);return s&&(this._panes[s]=C),C},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds();return new le(this.unproject(s.getBottomLeft()),this.unproject(s.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,u,p){s=we(s),p=Re(p||[0,0]);var C=this.getZoom()||0,O=this.getMinZoom(),$=this.getMaxZoom(),me=s.getNorthWest(),Ge=s.getSouthEast(),tt=this.getSize().subtract(p),yt=ae(this.project(Ge,C),this.project(me,C)).getSize(),Bt=Ne.any3d?this.options.zoomSnap:1,vn=tt.x/yt.x,Tn=tt.y/yt.y,Xn=u?Math.max(vn,Tn):Math.min(vn,Tn);return C=this.getScaleZoom(Xn,C),Bt&&(C=Math.round(C/(Bt/100))*(Bt/100),C=u?Math.ceil(C/Bt)*Bt:Math.floor(C/Bt)*Bt),Math.max(O,Math.min($,C))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new rt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,u){var p=this._getTopLeftPoint(s,u);return new ht(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(void 0===s?this.getZoom():s)},getPane:function(s){return"string"==typeof s?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,u){var p=this.options.crs;return u=void 0===u?this._zoom:u,p.scale(s)/p.scale(u)},getScaleZoom:function(s,u){var p=this.options.crs,C=p.zoom(s*p.scale(u=void 0===u?this._zoom:u));return isNaN(C)?1/0:C},project:function(s,u){return u=void 0===u?this._zoom:u,this.options.crs.latLngToPoint(Me(s),u)},unproject:function(s,u){return u=void 0===u?this._zoom:u,this.options.crs.pointToLatLng(Re(s),u)},layerPointToLatLng:function(s){var u=Re(s).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(s){return this.project(Me(s))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(Me(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(we(s))},distance:function(s,u){return this.options.crs.distance(Me(s),Me(u))},containerPointToLayerPoint:function(s){return Re(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return Re(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var u=this.containerPointToLayerPoint(Re(s));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Me(s)))},mouseEventToContainerPoint:function(s){return xo(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var u=this._container=Wn(s);if(!u)throw new Error("Map container not found.");if(u._leaflet_id)throw new Error("Map container is already initialized.");zt(u,"scroll",this._onScroll,this),this._containerId=e(u)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ne.any3d,fn(s,"leaflet-container"+(Ne.touch?" leaflet-touch":"")+(Ne.retina?" leaflet-retina":"")+(Ne.ielt9?" leaflet-oldie":"")+(Ne.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Ii(s,"position");"absolute"!==u&&"relative"!==u&&"fixed"!==u&&"sticky"!==u&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),_i(this._mapPane,new rt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(fn(s.markerPane,"leaflet-zoom-hide"),fn(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,u,p){_i(this._mapPane,new rt(0,0));var C=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var O=this._zoom!==u;this._moveStart(O,p)._move(s,u)._moveEnd(O),this.fire("viewreset"),C&&this.fire("load")},_moveStart:function(s,u){return s&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(s,u,p,C){void 0===u&&(u=this._zoom);var O=this._zoom!==u;return this._zoom=u,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),C?p&&p.pinch&&this.fire("zoom",p):((O||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return $e(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){_i(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[e(this._container)]=this;var u=s?Cn:zt;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Ne.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){$e(this._resizeRequest),this._resizeRequest=Xe(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,u){for(var C,p=[],O="mouseout"===u||"mouseover"===u,$=s.target||s.srcElement,me=!1;$;){if((C=this._targets[e($)])&&("click"===u||"preclick"===u)&&this._draggableMoved(C)){me=!0;break}if(C&&C.listens(u,!0)&&(O&&!ci($,s)||(p.push(C),O))||$===this._container)break;$=$.parentNode}return!p.length&&!me&&!O&&this.listens(u,!0)&&(p=[this]),p},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var u=s.target||s.srcElement;if(!(!this._loaded||u._leaflet_disable_events||"click"===s.type&&this._isClickDisabled(u))){var p=s.type;"mousedown"===p&&Zr(u),this._fireDOMEvent(s,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,u,p){if("click"===s.type){var C=X({},s);C.type="preclick",this._fireDOMEvent(C,C.type,p)}var O=this._findEventTargets(s,u);if(p){for(var $=[],me=0;me<p.length;me++)p[me].listens(u,!0)&&$.push(p[me]);O=$.concat(O)}if(O.length){"contextmenu"===u&&Xt(s);var Ge=O[0],tt={originalEvent:s};if("keypress"!==s.type&&"keydown"!==s.type&&"keyup"!==s.type){var yt=Ge.getLatLng&&(!Ge._radius||Ge._radius<=10);tt.containerPoint=yt?this.latLngToContainerPoint(Ge.getLatLng()):this.mouseEventToContainerPoint(s),tt.layerPoint=this.containerPointToLayerPoint(tt.containerPoint),tt.latlng=yt?Ge.getLatLng():this.layerPointToLatLng(tt.layerPoint)}for(me=0;me<O.length;me++)if(O[me].fire(u,tt,!0),tt.originalEvent._stopped||!1===O[me].options.bubblingMouseEvents&&-1!==Ye(this._mouseEvents,u))return}},_draggableMoved:function(s){return(s=s.dragging&&s.dragging.enabled()?s:this).dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,u=this._handlers.length;s<u;s++)this._handlers[s].disable()},whenReady:function(s,u){return this._loaded?s.call(u||this,{target:this}):this.on("load",s,u),this},_getMapPanePos:function(){return no(this._mapPane)||new rt(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,u){return(s&&void 0!==u?this._getNewPixelOrigin(s,u):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,u){var p=this.getSize()._divideBy(2);return this.project(s,u)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,u,p){var C=this._getNewPixelOrigin(p,u);return this.project(s,u)._subtract(C)},_latLngBoundsToNewLayerBounds:function(s,u,p){var C=this._getNewPixelOrigin(p,u);return ae([this.project(s.getSouthWest(),u)._subtract(C),this.project(s.getNorthWest(),u)._subtract(C),this.project(s.getSouthEast(),u)._subtract(C),this.project(s.getNorthEast(),u)._subtract(C)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,u,p){if(!p)return s;var C=this.project(s,u),O=this.getSize().divideBy(2),$=new ht(C.subtract(O),C.add(O)),me=this._getBoundsOffset($,p,u);return Math.abs(me.x)<=1&&Math.abs(me.y)<=1?s:this.unproject(C.add(me),u)},_limitOffset:function(s,u){if(!u)return s;var p=this.getPixelBounds(),C=new ht(p.min.add(s),p.max.add(s));return s.add(this._getBoundsOffset(C,u))},_getBoundsOffset:function(s,u,p){var C=ae(this.project(u.getNorthEast(),p),this.project(u.getSouthWest(),p)),O=C.min.subtract(s.min),$=C.max.subtract(s.max);return new rt(this._rebound(O.x,-$.x),this._rebound(O.y,-$.y))},_rebound:function(s,u){return s+u>0?Math.round(s-u)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(u))},_limitZoom:function(s){var u=this.getMinZoom(),p=this.getMaxZoom(),C=Ne.any3d?this.options.zoomSnap:1;return C&&(s=Math.round(s/C)*C),Math.max(u,Math.min(p,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){En(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,u){var p=this._getCenterOffset(s)._trunc();return!(!0!==(u&&u.animate)&&!this.getSize().contains(p)||(this.panBy(p,u),0))},_createAnimProxy:function(){var s=this._proxy=Vt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(u){var p=ii,C=this._proxy.style[p];Fo(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),C===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){_n(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),u=this.getZoom();Fo(this._proxy,this.project(s,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,u,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||!1===p.animate||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var C=this.getZoomScale(u),O=this._getCenterOffset(s)._divideBy(1-1/C);return!(!0!==p.animate&&!this.getSize().contains(O)||(Xe(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(s,u,!0)},this),0))},_animateZoom:function(s,u,p,C){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=u,fn(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:u,noUpdate:C}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(ce(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&En(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});var Qi=Ue.extend({options:{position:"topright"},initialize:function(s){De(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var u=this._map;return u&&u.removeControl(this),this.options.position=s,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var u=this._container=this.onAdd(s),p=this.getPosition(),C=s._controlCorners[p];return fn(u,"leaflet-control"),-1!==p.indexOf("bottom")?C.insertBefore(u,C.firstChild):C.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(_n(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),ho=function(s){return new Qi(s)};Ut.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},u="leaflet-",p=this._controlContainer=Vt("div",u+"control-container",this._container);function C(O,$){s[O+$]=Vt("div",u+O+" "+u+$,p)}C("top","left"),C("top","right"),C("bottom","left"),C("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)_n(this._controlCorners[s]);_n(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var gi=Qi.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,u,p,C){return p<C?-1:C<p?1:0}},initialize:function(s,u,p){for(var C in De(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,s)this._addLayer(s[C],C);for(C in u)this._addLayer(u[C],C,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return Qi.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,u){return this._addLayer(s,u),this._map?this._update():this},addOverlay:function(s,u){return this._addLayer(s,u,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var u=this._getLayer(e(s));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){fn(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(fn(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):En(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return En(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",u=this._container=Vt("div",s),p=this.options.collapsed;u.setAttribute("aria-haspopup",!0),jt(u),Kn(u);var C=this._section=Vt("section",s+"-list");p&&(this._map.on("click",this.collapse,this),zt(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var O=this._layersLink=Vt("a",s+"-toggle",u);O.href="#",O.title="Layers",O.setAttribute("role","button"),zt(O,{keydown:function($){13===$.keyCode&&this._expandSafely()},click:function($){Xt($),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=Vt("div",s+"-base",C),this._separator=Vt("div",s+"-separator",C),this._overlaysList=Vt("div",s+"-overlays",C),u.appendChild(C)},_getLayer:function(s){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&e(this._layers[u].layer)===s)return this._layers[u]},_addLayer:function(s,u,p){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:u,overlay:p}),this.options.sortLayers&&this._layers.sort(ce(function(C,O){return this.options.sortFunction(C.layer,O.layer,C.name,O.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;xi(this._baseLayersList),xi(this._overlaysList),this._layerControlInputs=[];var s,u,p,C,O=0;for(p=0;p<this._layers.length;p++)this._addItem(C=this._layers[p]),u=u||C.overlay,s=s||!C.overlay,O+=C.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(s=s&&O>1)?"":"none"),this._separator.style.display=u&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var u=this._getLayer(e(s.target)),p=u.overlay?"add"===s.type?"overlayadd":"overlayremove":"add"===s.type?"baselayerchange":null;p&&this._map.fire(p,u)},_createRadioElement:function(s,u){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(u?' checked="checked"':"")+"/>",C=document.createElement("div");return C.innerHTML=p,C.firstChild},_addItem:function(s){var C,u=document.createElement("label"),p=this._map.hasLayer(s.layer);s.overlay?((C=document.createElement("input")).type="checkbox",C.className="leaflet-control-layers-selector",C.defaultChecked=p):C=this._createRadioElement("leaflet-base-layers_"+e(this),p),this._layerControlInputs.push(C),C.layerId=e(s.layer),zt(C,"click",this._onInputClick,this);var O=document.createElement("span");O.innerHTML=" "+s.name;var $=document.createElement("span");return u.appendChild($),$.appendChild(C),$.appendChild(O),(s.overlay?this._overlaysList:this._baseLayersList).appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var u,p,s=this._layerControlInputs,C=[],O=[];this._handlingClick=!0;for(var $=s.length-1;$>=0;$--)p=this._getLayer((u=s[$]).layerId).layer,u.checked?C.push(p):u.checked||O.push(p);for($=0;$<O.length;$++)this._map.hasLayer(O[$])&&this._map.removeLayer(O[$]);for($=0;$<C.length;$++)this._map.hasLayer(C[$])||this._map.addLayer(C[$]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var u,p,s=this._layerControlInputs,C=this._map.getZoom(),O=s.length-1;O>=0;O--)p=this._getLayer((u=s[O]).layerId).layer,u.disabled=void 0!==p.options.minZoom&&C<p.options.minZoom||void 0!==p.options.maxZoom&&C>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,zt(s,"click",Xt),this.expand();var u=this;setTimeout(function(){Cn(s,"click",Xt),u._preventClick=!1})}}),zo=Qi.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var u="leaflet-control-zoom",p=Vt("div",u+" leaflet-bar"),C=this.options;return this._zoomInButton=this._createButton(C.zoomInText,C.zoomInTitle,u+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(C.zoomOutText,C.zoomOutTitle,u+"-out",p,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,u,p,C,O){var $=Vt("a",p,C);return $.innerHTML=s,$.href="#",$.title=u,$.setAttribute("role","button"),$.setAttribute("aria-label",u),jt($),zt($,"click",qn),zt($,"click",O,this),zt($,"click",this._refocusOnMap,this),$},_updateDisabled:function(){var s=this._map,u="leaflet-disabled";En(this._zoomInButton,u),En(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(fn(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(fn(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ut.mergeOptions({zoomControl:!0}),Ut.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new zo,this.addControl(this.zoomControl))});var sr=Qi.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var u="leaflet-control-scale",p=Vt("div",u),C=this.options;return this._addScales(C,u+"-line",p),s.on(C.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),p},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,u,p){s.metric&&(this._mScale=Vt("div",u,p)),s.imperial&&(this._iScale=Vt("div",u,p))},_update:function(){var s=this._map,u=s.getSize().y/2,p=s.distance(s.containerPointToLatLng([0,u]),s.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(p)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var u=this._getRoundNum(s);this._updateScale(this._mScale,u<1e3?u+" m":u/1e3+" km",u/s)},_updateImperial:function(s){var p,C,O,u=3.2808399*s;u>5280?(C=this._getRoundNum(p=u/5280),this._updateScale(this._iScale,C+" mi",C/p)):(O=this._getRoundNum(u),this._updateScale(this._iScale,O+" ft",O/u))},_updateScale:function(s,u,p){s.style.width=Math.round(this.options.maxWidth*p)+"px",s.innerHTML=u},_getRoundNum:function(s){var u=Math.pow(10,(Math.floor(s)+"").length-1),p=s/u;return u*(p>=10?10:p>=5?5:p>=3?3:p>=2?2:1)}}),Oo=Qi.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ne.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(s){De(this,s),this._attributions={}},onAdd:function(s){for(var u in s.attributionControl=this,this._container=Vt("div","leaflet-control-attribution"),jt(this._container),s._layers)s._layers[u].getAttribution&&this.addAttribution(s._layers[u].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var u in this._attributions)this._attributions[u]&&s.push(u);var p=[];this.options.prefix&&p.push(this.options.prefix),s.length&&p.push(s.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});Ut.mergeOptions({attributionControl:!0}),Ut.addInitHook(function(){this.options.attributionControl&&(new Oo).addTo(this)});Qi.Layers=gi,Qi.Zoom=zo,Qi.Scale=sr,Qi.Attribution=Oo,ho.layers=function(s,u,p){return new gi(s,u,p)},ho.zoom=function(s){return new zo(s)},ho.scale=function(s){return new sr(s)},ho.attribution=function(s){return new Oo(s)};var Xi=Ue.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Xi.addTo=function(s,u){return s.addHandler(u,this),this};var Fn={Events:Je},is=Ne.touch?"touchstart mousedown":"mousedown",yo=Ft.extend({options:{clickTolerance:3},initialize:function(s,u,p,C){De(this,C),this._element=s,this._dragStartTarget=u||s,this._preventOutline=p},enable:function(){this._enabled||(zt(this._dragStartTarget,is,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(yo._dragging===this&&this.finishDrag(!0),Cn(this._dragStartTarget,is,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!_o(this._element,"leaflet-zoom-anim"))){if(s.touches&&1!==s.touches.length)return void(yo._dragging===this&&this.finishDrag());if(!(yo._dragging||s.shiftKey||1!==s.which&&1!==s.button&&!s.touches||(yo._dragging=this,this._preventOutline&&Zr(this._element),nr(),tr(),this._moving))){this.fire("down");var u=s.touches?s.touches[0]:s,p=Vr(this._element);this._startPoint=new rt(u.clientX,u.clientY),this._startPos=no(this._element),this._parentScale=yn(p);var C="mousedown"===s.type;zt(document,C?"mousemove":"touchmove",this._onMove,this),zt(document,C?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1)return void(this._moved=!0);var u=s.touches&&1===s.touches.length?s.touches[0]:s,p=new rt(u.clientX,u.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,Xt(s),this._moved||(this.fire("dragstart"),this._moved=!0,fn(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),fn(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),_i(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){En(document.body,"leaflet-dragging"),this._lastTarget&&(En(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Cn(document,"mousemove touchmove",this._onMove,this),Cn(document,"mouseup touchend touchcancel",this._onUp,this),ir(),Oi();var u=this._moved&&this._moving;this._moving=!1,yo._dragging=!1,u&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function ar(s,u,p){var C,$,me,Ge,tt,yt,Bt,vn,Tn,O=[1,4,2,8];for($=0,Bt=s.length;$<Bt;$++)s[$]._code=Co(s[$],u);for(Ge=0;Ge<4;Ge++){for(vn=O[Ge],C=[],$=0,me=(Bt=s.length)-1;$<Bt;me=$++)yt=s[me],(tt=s[$])._code&vn?yt._code&vn||((Tn=eo(yt,tt,vn,u,p))._code=Co(Tn,u),C.push(Tn)):(yt._code&vn&&((Tn=eo(yt,tt,vn,u,p))._code=Co(Tn,u),C.push(Tn)),C.push(tt));s=C}return s}function Gi(s,u){var p,C,O,$,me,Ge,tt,yt;if(!s||0===s.length)throw new Error("latlngs not passed");wo(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var vn=Me([0,0]),Tn=we(s);Tn.getNorthWest().distanceTo(Tn.getSouthWest())*Tn.getNorthEast().distanceTo(Tn.getNorthWest())<1700&&(vn=zi(s));var Yn=s.length,bi=[];for(p=0;p<Yn;p++){var Qt=Me(s[p]);bi.push(u.project(Me([Qt.lat-vn.lat,Qt.lng-vn.lng])))}for(Ge=tt=yt=0,p=0,C=Yn-1;p<Yn;C=p++)tt+=((O=bi[p]).x+($=bi[C]).x)*(me=O.y*$.x-$.y*O.x),yt+=(O.y+$.y)*me,Ge+=3*me;var Jr=u.unproject(Re(0===Ge?bi[0]:[tt/Ge,yt/Ge]));return Me([Jr.lat+vn.lat,Jr.lng+vn.lng])}function zi(s){for(var u=0,p=0,C=0,O=0;O<s.length;O++){var $=Me(s[O]);u+=$.lat,p+=$.lng,C++}return Me([u/C,p/C])}var Wo,Nr={__proto__:null,clipPolygon:ar,polygonCenter:Gi,centroid:zi};function Do(s,u){if(!u||!s.length)return s.slice();var p=u*u;return function bo(s,u){var p=s.length,O=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(p);O[0]=O[p-1]=1,Li(s,O,u,0,p-1);var $,me=[];for($=0;$<p;$++)O[$]&&me.push(s[$]);return me}(s=function Yo(s,u){for(var p=[s[0]],C=1,O=0,$=s.length;C<$;C++)Ks(s[C],s[O])>u&&(p.push(s[C]),O=C);return O<$-1&&p.push(s[$-1]),p}(s,p),p)}function Yi(s,u,p){return Math.sqrt(os(s,u,p,!0))}function Li(s,u,p,C,O){var me,Ge,tt,$=0;for(Ge=C+1;Ge<=O-1;Ge++)(tt=os(s[Ge],s[C],s[O],!0))>$&&(me=Ge,$=tt);$>p&&(u[me]=1,Li(s,u,p,C,me),Li(s,u,p,me,O))}function cr(s,u,p,C,O){var Ge,tt,yt,$=C?Wo:Co(s,p),me=Co(u,p);for(Wo=me;;){if(!($|me))return[s,u];if($&me)return!1;yt=Co(tt=eo(s,u,Ge=$||me,p,O),p),Ge===$?(s=tt,$=yt):(u=tt,me=yt)}}function eo(s,u,p,C,O){var yt,Bt,$=u.x-s.x,me=u.y-s.y,Ge=C.min,tt=C.max;return 8&p?(yt=s.x+$*(tt.y-s.y)/me,Bt=tt.y):4&p?(yt=s.x+$*(Ge.y-s.y)/me,Bt=Ge.y):2&p?(yt=tt.x,Bt=s.y+me*(tt.x-s.x)/$):1&p&&(yt=Ge.x,Bt=s.y+me*(Ge.x-s.x)/$),new rt(yt,Bt,O)}function Co(s,u){var p=0;return s.x<u.min.x?p|=1:s.x>u.max.x&&(p|=2),s.y<u.min.y?p|=4:s.y>u.max.y&&(p|=8),p}function Ks(s,u){var p=u.x-s.x,C=u.y-s.y;return p*p+C*C}function os(s,u,p,C){var yt,O=u.x,$=u.y,me=p.x-O,Ge=p.y-$,tt=me*me+Ge*Ge;return tt>0&&((yt=((s.x-O)*me+(s.y-$)*Ge)/tt)>1?(O=p.x,$=p.y):yt>0&&(O+=me*yt,$+=Ge*yt)),me=s.x-O,Ge=s.y-$,C?me*me+Ge*Ge:new rt(O,$)}function wo(s){return!be(s[0])||"object"!=typeof s[0][0]&&typeof s[0][0]<"u"}function Pr(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),wo(s)}function Ms(s,u){var p,C,O,$,me,Ge,tt,yt;if(!s||0===s.length)throw new Error("latlngs not passed");wo(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Bt=Me([0,0]),vn=we(s);vn.getNorthWest().distanceTo(vn.getSouthWest())*vn.getNorthEast().distanceTo(vn.getNorthWest())<1700&&(Bt=zi(s));var Xn=s.length,Yn=[];for(p=0;p<Xn;p++){var bi=Me(s[p]);Yn.push(u.project(Me([bi.lat-Bt.lat,bi.lng-Bt.lng])))}for(p=0,C=0;p<Xn-1;p++)C+=Yn[p].distanceTo(Yn[p+1])/2;if(0===C)yt=Yn[0];else for(p=0,$=0;p<Xn-1;p++)if(($+=O=(me=Yn[p]).distanceTo(Ge=Yn[p+1]))>C){yt=[Ge.x-(tt=($-C)/O)*(Ge.x-me.x),Ge.y-tt*(Ge.y-me.y)];break}var Qt=u.unproject(Re(yt));return Me([Qt.lat+Bt.lat,Qt.lng+Bt.lng])}var R={__proto__:null,simplify:Do,pointToSegmentDistance:Yi,closestPointOnSegment:function da(s,u,p){return os(s,u,p)},clipSegment:cr,_getEdgeIntersection:eo,_getBitCode:Co,_sqClosestPointOnSegment:os,isFlat:wo,_flat:Pr,polylineCenter:Ms},B={project:function(s){return new rt(s.lng,s.lat)},unproject:function(s){return new ye(s.y,s.x)},bounds:new ht([-180,-90],[180,90])},S={R:6378137,R_MINOR:6356752.314245179,bounds:new ht([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(s){var u=Math.PI/180,p=this.R,C=s.lat*u,O=this.R_MINOR/p,$=Math.sqrt(1-O*O),me=$*Math.sin(C),Ge=Math.tan(Math.PI/4-C/2)/Math.pow((1-me)/(1+me),$/2);return C=-p*Math.log(Math.max(Ge,1e-10)),new rt(s.lng*u*p,C)},unproject:function(s){for(var yt,u=180/Math.PI,p=this.R,C=this.R_MINOR/p,O=Math.sqrt(1-C*C),$=Math.exp(-s.y/p),me=Math.PI/2-2*Math.atan($),Ge=0,tt=.1;Ge<15&&Math.abs(tt)>1e-7;Ge++)yt=O*Math.sin(me),yt=Math.pow((1-yt)/(1+yt),O/2),me+=tt=Math.PI/2-2*Math.atan($*yt)-me;return new ye(me*u,s.x*u/p)}},z={__proto__:null,LonLat:B,Mercator:S,SphericalMercator:cn},de=X({},et,{code:"EPSG:3395",projection:S,transformation:function(){var s=.5/(Math.PI*S.R);return sn(s,.5,-s,.5)}()}),rn=X({},et,{code:"EPSG:4326",projection:B,transformation:sn(1/180,1,-1/180,.5)}),xn=X({},Ze,{projection:B,transformation:sn(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,u){var p=u.lng-s.lng,C=u.lat-s.lat;return Math.sqrt(p*p+C*C)},infinite:!0});Ze.Earth=et,Ze.EPSG3395=de,Ze.EPSG3857=Ht,Ze.EPSG900913=Ct,Ze.EPSG4326=rn,Ze.Simple=xn;var Bi=Ft.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[e(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[e(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var u=s.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var p=this.getEvents();u.on(p,this),this.once("remove",function(){u.off(p,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Ut.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var u=e(s);return this._layers[u]||(this._layers[u]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s)),this},removeLayer:function(s){var u=e(s);return this._layers[u]?(this._loaded&&s.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return e(s)in this._layers},eachLayer:function(s,u){for(var p in this._layers)s.call(u,this._layers[p]);return this},_addLayers:function(s){for(var u=0,p=(s=s?be(s)?s:[s]:[]).length;u<p;u++)this.addLayer(s[u])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[e(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var u=e(s);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,u=-1/0,p=this._getZoomSpan();for(var C in this._zoomBoundLayers){var O=this._zoomBoundLayers[C].options;s=void 0===O.minZoom?s:Math.min(s,O.minZoom),u=void 0===O.maxZoom?u:Math.max(u,O.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=s===1/0?void 0:s,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var No=Bi.extend({initialize:function(s,u){var p,C;if(De(this,u),this._layers={},s)for(p=0,C=s.length;p<C;p++)this.addLayer(s[p])},addLayer:function(s){var u=this.getLayerId(s);return this._layers[u]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var u=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(s){return("number"==typeof s?s:this.getLayerId(s))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var p,C,u=Array.prototype.slice.call(arguments,1);for(p in this._layers)(C=this._layers[p])[s]&&C[s].apply(C,u);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,u){for(var p in this._layers)s.call(u,this._layers[p]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return e(s)}}),br=No.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),No.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),No.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new le;for(var u in this._layers){var p=this._layers[u];s.extend(p.getBounds?p.getBounds():p.getLatLng())}return s}}),kr=Ue.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){De(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,u){var p=this._getIconUrl(s);if(!p){if("icon"===s)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var C=this._createImg(p,u&&"IMG"===u.tagName?u:null);return this._setIconStyles(C,s),(this.options.crossOrigin||""===this.options.crossOrigin)&&(C.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),C},_setIconStyles:function(s,u){var p=this.options,C=p[u+"Size"];"number"==typeof C&&(C=[C,C]);var O=Re(C),$=Re("shadow"===u&&p.shadowAnchor||p.iconAnchor||O&&O.divideBy(2,!0));s.className="leaflet-marker-"+u+" "+(p.className||""),$&&(s.style.marginLeft=-$.x+"px",s.style.marginTop=-$.y+"px"),O&&(s.style.width=O.x+"px",s.style.height=O.y+"px")},_createImg:function(s,u){return(u=u||document.createElement("img")).src=s,u},_getIconUrl:function(s){return Ne.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});var As=kr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return"string"!=typeof As.imagePath&&(As.imagePath=this._detectIconPath()),(this.options.imagePath||As.imagePath)+kr.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var u=function(p,C,O){var $=C.exec(p);return $&&$[O]};return(s=u(s,/^url\((['"])?(.+)\1\)$/,2))&&u(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=Vt("div","leaflet-default-icon-path",document.body),u=Ii(s,"background-image")||Ii(s,"backgroundImage");if(document.body.removeChild(s),u=this._stripUrl(u))return u;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),ha=Xi.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new yo(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),fn(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&En(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var u=this._marker,p=u._map,C=this._marker.options.autoPanSpeed,O=this._marker.options.autoPanPadding,$=no(u._icon),me=p.getPixelBounds(),Ge=p.getPixelOrigin(),tt=ae(me.min._subtract(Ge).add(O),me.max._subtract(Ge).subtract(O));if(!tt.contains($)){var yt=Re((Math.max(tt.max.x,$.x)-tt.max.x)/(me.max.x-tt.max.x)-(Math.min(tt.min.x,$.x)-tt.min.x)/(me.min.x-tt.min.x),(Math.max(tt.max.y,$.y)-tt.max.y)/(me.max.y-tt.max.y)-(Math.min(tt.min.y,$.y)-tt.min.y)/(me.min.y-tt.min.y)).multiplyBy(C);p.panBy(yt,{animate:!1}),this._draggable._newPos._add(yt),this._draggable._startPos._add(yt),_i(u._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=Xe(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&($e(this._panRequest),this._panRequest=Xe(this._adjustPan.bind(this,s)))},_onDrag:function(s){var u=this._marker,p=u._shadow,C=no(u._icon),O=u._map.layerPointToLatLng(C);p&&_i(p,C),u._latlng=O,s.latlng=O,s.oldLatLng=this._oldLatLng,u.fire("move",s).fire("drag",s)},_onDragEnd:function(s){$e(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),rs=Bi.extend({options:{icon:new As,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,u){De(this,u),this._latlng=Me(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var u=this._latlng;return this._latlng=Me(s),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=s.icon.createIcon(this._icon),C=!1;p!==this._icon&&(this._icon&&this._removeIcon(),C=!0,s.title&&(p.title=s.title),"IMG"===p.tagName&&(p.alt=s.alt||"")),fn(p,u),s.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&zt(p,"focus",this._panOnFocus,this);var O=s.icon.createShadow(this._shadow),$=!1;O!==this._shadow&&(this._removeShadow(),$=!0),O&&(fn(O,u),O.alt=""),this._shadow=O,s.opacity<1&&this._updateOpacity(),C&&this.getPane().appendChild(this._icon),this._initInteraction(),O&&$&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Cn(this._icon,"focus",this._panOnFocus,this),_n(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&_n(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&_i(this._icon,s),this._shadow&&_i(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(fn(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ha)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ha(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Ki(this._icon,s),this._shadow&&Ki(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var u=this.options.icon.options,p=u.iconSize?Re(u.iconSize):Re(0,0),C=u.iconAnchor?Re(u.iconAnchor):Re(0,0);s.panInside(this._latlng,{paddingTopLeft:C,paddingBottomRight:p.subtract(C)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var fo=Bi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return De(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),zr=fo.extend({options:{fill:!0,radius:10},initialize:function(s,u){De(this,u),this._latlng=Me(s),this._radius=this.options.radius},setLatLng:function(s){var u=this._latlng;return this._latlng=Me(s),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var u=s&&s.radius||this._radius;return fo.prototype.setStyle.call(this,s),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,u=this._radiusY||s,p=this._clickTolerance(),C=[s+p,u+p];this._pxBounds=new ht(this._point.subtract(C),this._point.add(C))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var Ni=zr.extend({initialize:function(s,u,p){if("number"==typeof u&&(u=X({},p,{radius:u})),De(this,u),this._latlng=Me(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new le(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:fo.prototype.setStyle,_project:function(){var s=this._latlng.lng,u=this._latlng.lat,p=this._map,C=p.options.crs;if(C.distance===et.distance){var O=Math.PI/180,$=this._mRadius/et.R/O,me=p.project([u+$,s]),Ge=p.project([u-$,s]),tt=me.add(Ge).divideBy(2),yt=p.unproject(tt).lat,Bt=Math.acos((Math.cos($*O)-Math.sin(u*O)*Math.sin(yt*O))/(Math.cos(u*O)*Math.cos(yt*O)))/O;(isNaN(Bt)||0===Bt)&&(Bt=$/Math.cos(Math.PI/180*u)),this._point=tt.subtract(p.getPixelOrigin()),this._radius=isNaN(Bt)?0:tt.x-p.project([yt,s-Bt]).x,this._radiusY=tt.y-me.y}else{var vn=C.unproject(C.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(vn).x}this._updateBounds()}});var pi=fo.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,u){De(this,u),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var O,$,u=1/0,p=null,C=os,me=0,Ge=this._parts.length;me<Ge;me++)for(var tt=this._parts[me],yt=1,Bt=tt.length;yt<Bt;yt++){var vn=C(s,O=tt[yt-1],$=tt[yt],!0);vn<u&&(u=vn,p=C(s,O,$))}return p&&(p.distance=Math.sqrt(u)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ms(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,u){return u=u||this._defaultShape(),s=Me(s),u.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new le,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return wo(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var u=[],p=wo(s),C=0,O=s.length;C<O;C++)p?(u[C]=Me(s[C]),this._bounds.extend(u[C])):u[C]=this._convertLatLngs(s[C]);return u},_project:function(){var s=new ht;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),u=new rt(s,s);this._rawPxBounds&&(this._pxBounds=new ht([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(s,u,p){var $,me,O=s.length;if(s[0]instanceof ye){for(me=[],$=0;$<O;$++)me[$]=this._map.latLngToLayerPoint(s[$]),p.extend(me[$]);u.push(me)}else for($=0;$<O;$++)this._projectLatlngs(s[$],u,p)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(s)){if(this.options.noClip)return void(this._parts=this._rings);var p,C,O,$,me,Ge,tt,u=this._parts;for(p=0,O=0,$=this._rings.length;p<$;p++)for(C=0,me=(tt=this._rings[p]).length;C<me-1;C++)(Ge=cr(tt[C],tt[C+1],s,C,!0))&&(u[O]=u[O]||[],u[O].push(Ge[0]),(Ge[1]!==tt[C+1]||C===me-2)&&(u[O].push(Ge[1]),O++))}},_simplifyPoints:function(){for(var s=this._parts,u=this.options.smoothFactor,p=0,C=s.length;p<C;p++)s[p]=Do(s[p],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,u){var p,C,O,$,me,Ge,tt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(p=0,$=this._parts.length;p<$;p++)for(C=0,O=(me=(Ge=this._parts[p]).length)-1;C<me;O=C++)if((u||0!==C)&&Yi(s,Ge[O],Ge[C])<=tt)return!0;return!1}});pi._flat=Pr;var Yr=pi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Gi(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var u=pi.prototype._convertLatLngs.call(this,s),p=u.length;return p>=2&&u[0]instanceof ye&&u[0].equals(u[p-1])&&u.pop(),u},_setLatLngs:function(s){pi.prototype._setLatLngs.call(this,s),wo(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return wo(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,u=this.options.weight,p=new rt(u,u);if(s=new ht(s.min.subtract(p),s.max.add(p)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(s)){if(this.options.noClip)return void(this._parts=this._rings);for(var $,C=0,O=this._rings.length;C<O;C++)($=ar(this._rings[C],s,!0)).length&&this._parts.push($)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var p,C,O,$,me,Ge,tt,yt,u=!1;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for($=0,tt=this._parts.length;$<tt;$++)for(me=0,Ge=(yt=(p=this._parts[$]).length)-1;me<yt;Ge=me++)(C=p[me]).y>s.y!=(O=p[Ge]).y>s.y&&s.x<(O.x-C.x)*(s.y-C.y)/(O.y-C.y)+C.x&&(u=!u);return u||pi.prototype._containsPoint.call(this,s,!0)}});var qo=br.extend({initialize:function(s,u){De(this,u),this._layers={},s&&this.addData(s)},addData:function(s){var p,C,O,u=be(s)?s:s.features;if(u){for(p=0,C=u.length;p<C;p++)((O=u[p]).geometries||O.geometry||O.features||O.coordinates)&&this.addData(O);return this}var $=this.options;if($.filter&&!$.filter(s))return this;var me=lr(s,$);return me?(me.feature=Br(s),me.defaultOptions=me.options,this.resetStyle(me),$.onEachFeature&&$.onEachFeature(s,me),this.addLayer(me)):this},resetStyle:function(s){return void 0===s?this.eachLayer(this.resetStyle,this):(s.options=X({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(u){this._setLayerStyle(u,s)},this)},_setLayerStyle:function(s,u){s.setStyle&&("function"==typeof u&&(u=u(s.feature)),s.setStyle(u))}});function lr(s,u){var Ge,tt,yt,Bt,p="Feature"===s.type?s.geometry:s,C=p?p.coordinates:null,O=[],$=u&&u.pointToLayer,me=u&&u.coordsToLatLng||Wr;if(!C&&!p)return null;switch(p.type){case"Point":return Fr($,s,Ge=me(C),u);case"MultiPoint":for(yt=0,Bt=C.length;yt<Bt;yt++)Ge=me(C[yt]),O.push(Fr($,s,Ge,u));return new br(O);case"LineString":case"MultiLineString":return tt=Lr(C,"LineString"===p.type?0:1,me),new pi(tt,u);case"Polygon":case"MultiPolygon":return tt=Lr(C,"Polygon"===p.type?1:2,me),new Yr(tt,u);case"GeometryCollection":for(yt=0,Bt=p.geometries.length;yt<Bt;yt++){var vn=lr({geometry:p.geometries[yt],type:"Feature",properties:s.properties},u);vn&&O.push(vn)}return new br(O);case"FeatureCollection":for(yt=0,Bt=p.features.length;yt<Bt;yt++){var Tn=lr(p.features[yt],u);Tn&&O.push(Tn)}return new br(O);default:throw new Error("Invalid GeoJSON object.")}}function Fr(s,u,p,C){return s?s(u,p):new rs(p,C&&C.markersInheritOptions&&C)}function Wr(s){return new ye(s[1],s[0],s[2])}function Lr(s,u,p){for(var me,C=[],O=0,$=s.length;O<$;O++)me=u?Lr(s[O],u-1,p):(p||Wr)(s[O]),C.push(me);return C}function ss(s,u){return void 0!==(s=Me(s)).alt?[ge(s.lng,u),ge(s.lat,u),ge(s.alt,u)]:[ge(s.lng,u),ge(s.lat,u)]}function as(s,u,p,C){for(var O=[],$=0,me=s.length;$<me;$++)O.push(u?as(s[$],wo(s[$])?0:u-1,p,C):ss(s[$],C));return!u&&p&&O.length>0&&O.push(O[0].slice()),O}function Cr(s,u){return s.feature?X({},s.feature,{geometry:u}):Br(u)}function Br(s){return"Feature"===s.type||"FeatureCollection"===s.type?s:{type:"Feature",properties:{},geometry:s}}var Uo={toGeoJSON:function(s){return Cr(this,{type:"Point",coordinates:ss(this.getLatLng(),s)})}};function ur(s,u){return new qo(s,u)}rs.include(Uo),Ni.include(Uo),zr.include(Uo),pi.include({toGeoJSON:function(s){var u=!wo(this._latlngs);return Cr(this,{type:(u?"Multi":"")+"LineString",coordinates:as(this._latlngs,u?1:0,!1,s)})}}),Yr.include({toGeoJSON:function(s){var u=!wo(this._latlngs),p=u&&!wo(this._latlngs[0]),C=as(this._latlngs,p?2:u?1:0,!0,s);return u||(C=[C]),Cr(this,{type:(p?"Multi":"")+"Polygon",coordinates:C})}}),No.include({toMultiPoint:function(s){var u=[];return this.eachLayer(function(p){u.push(p.toGeoJSON(s).geometry.coordinates)}),Cr(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(s){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===u)return this.toMultiPoint(s);var p="GeometryCollection"===u,C=[];return this.eachLayer(function(O){if(O.toGeoJSON){var $=O.toGeoJSON(s);if(p)C.push($.geometry);else{var me=Br($);"FeatureCollection"===me.type?C.push.apply(C,me.features):C.push(me)}}}),p?Cr(this,{geometries:C,type:"GeometryCollection"}):{type:"FeatureCollection",features:C}}});var Ss=ur,Ur=Bi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,u,p){this._url=s,this._bounds=we(u),De(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(fn(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){_n(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Ci(this._image),this},bringToBack:function(){return this._map&&Vi(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=we(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s="IMG"===this._url.tagName,u=this._image=s?this._url:Vt("img");fn(u,"leaflet-image-layer"),this._zoomAnimated&&fn(u,"leaflet-zoom-animated"),this.options.className&&fn(u,this.options.className),u.onselectstart=pe,u.onmousemove=pe,u.onload=ce(this.fire,this,"load"),u.onerror=ce(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(u.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s?this._url=u.src:(u.src=this._url,u.alt=this.options.alt)},_animateZoom:function(s){var u=this._map.getZoomScale(s.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Fo(this._image,p,u)},_reset:function(){var s=this._image,u=new ht(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=u.getSize();_i(s,u.min),s.style.width=p.x+"px",s.style.height=p.y+"px"},_updateOpacity:function(){Ki(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),fa=Ur.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s="VIDEO"===this._url.tagName,u=this._image=s?this._url:Vt("video");if(fn(u,"leaflet-image-layer"),this._zoomAnimated&&fn(u,"leaflet-zoom-animated"),this.options.className&&fn(u,this.options.className),u.onselectstart=pe,u.onmousemove=pe,u.onloadeddata=ce(this.fire,this,"load"),s){for(var p=u.getElementsByTagName("source"),C=[],O=0;O<p.length;O++)C.push(p[O].src);this._url=p.length>0?C:[u.src]}else{be(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var $=0;$<this._url.length;$++){var me=Vt("source");me.src=this._url[$],u.appendChild(me)}}}});var js=Ur.extend({_initImage:function(){var s=this._image=this._url;fn(s,"leaflet-image-layer"),this._zoomAnimated&&fn(s,"leaflet-zoom-animated"),this.options.className&&fn(s,this.options.className),s.onselectstart=pe,s.onmousemove=pe}});var jo=Bi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,u){s&&(s instanceof ye||be(s))?(this._latlng=Me(s),De(this,u)):(De(this,s),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(s){return(s=arguments.length?s:this._source._map).hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Ki(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Ki(this._container,1),this.bringToFront(),this.options.interactive&&(fn(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Ki(this._container,0),this._removeTimeout=setTimeout(ce(_n,void 0,this._container),200)):_n(this._container),this.options.interactive&&(En(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=Me(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ci(this._container),this},bringToBack:function(){return this._map&&Vi(this._container),this},_prepareOpen:function(s){var u=this._source;if(!u._map)return!1;if(u instanceof br){u=null;var p=this._source._layers;for(var C in p)if(p[C]._map){u=p[C];break}if(!u)return!1;this._source=u}if(!s)if(u.getCenter)s=u.getCenter();else if(u.getLatLng)s=u.getLatLng();else{if(!u.getBounds)throw new Error("Unable to get source layer LatLng.");s=u.getBounds().getCenter()}return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,u="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof u)s.innerHTML=u;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),u=Re(this.options.offset),p=this._getAnchor();this._zoomAnimated?_i(this._container,s.add(p)):u=u.add(s).add(p);var C=this._containerBottom=-u.y,O=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=C+"px",this._container.style.left=O+"px"}},_getAnchor:function(){return[0,0]}});Ut.include({_initOverlay:function(s,u,p,C){var O=u;return O instanceof s||(O=new s(C).setContent(u)),p&&O.setLatLng(p),O}}),Bi.include({_initOverlay:function(s,u,p,C){var O=p;return O instanceof s?(De(O,C),O._source=this):(O=u&&!C?u:new s(C,this)).setContent(p),O}});var qr=jo.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return!(s=arguments.length?s:this._source._map).hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,jo.prototype.openOn.call(this,s)},onAdd:function(s){jo.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof fo||this._source.on("preclick",Lo))},onRemove:function(s){jo.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof fo||this._source.off("preclick",Lo))},getEvents:function(){var s=jo.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",u=this._container=Vt("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=Vt("div",s+"-content-wrapper",u);if(this._contentNode=Vt("div",s+"-content",p),jt(u),Kn(this._contentNode),zt(u,"contextmenu",Lo),this._tipContainer=Vt("div",s+"-tip-container",u),this._tip=Vt("div",s+"-tip",this._tipContainer),this.options.closeButton){var C=this._closeButton=Vt("a",s+"-close-button",u);C.setAttribute("role","button"),C.setAttribute("aria-label","Close popup"),C.href="#close",C.innerHTML='<span aria-hidden="true">&#215;</span>',zt(C,"click",function(O){Xt(O),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,u=s.style;u.width="",u.whiteSpace="nowrap";var p=s.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),u.width=p+1+"px",u.whiteSpace="",u.height="";var O=this.options.maxHeight,$="leaflet-popup-scrolled";O&&s.offsetHeight>O?(u.height=O+"px",fn(s,$)):En(s,$),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),p=this._getAnchor();_i(this._container,u.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)return void(this._autopanning=!1);var s=this._map,u=parseInt(Ii(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+u,C=this._containerWidth,O=new rt(this._containerLeft,-p-this._containerBottom);O._add(no(this._container));var $=s.layerPointToContainerPoint(O),me=Re(this.options.autoPanPadding),Ge=Re(this.options.autoPanPaddingTopLeft||me),tt=Re(this.options.autoPanPaddingBottomRight||me),yt=s.getSize(),Bt=0,vn=0;$.x+C+tt.x>yt.x&&(Bt=$.x+C-yt.x+tt.x),$.x-Bt-Ge.x<0&&(Bt=$.x-Ge.x),$.y+p+tt.y>yt.y&&(vn=$.y+p-yt.y+tt.y),$.y-vn-Ge.y<0&&(vn=$.y-Ge.y),(Bt||vn)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([Bt,vn]))}},_getAnchor:function(){return Re(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Ut.mergeOptions({closePopupOnClick:!0}),Ut.include({openPopup:function(s,u,p){return this._initOverlay(qr,s,u,p).openOn(this),this},closePopup:function(s){return(s=arguments.length?s:this._popup)&&s.close(),this}}),Bi.include({bindPopup:function(s,u){return this._popup=this._initOverlay(qr,this._popup,s,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof br||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(this._popup&&this._map){qn(s);var u=s.layer||s.target;if(this._popup._source===u&&!(u instanceof fo))return void(this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng));this._popup._source=u,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){13===s.originalEvent.keyCode&&this._openPopup(s)}});var cs=jo.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){jo.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){jo.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=jo.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){this._contentNode=this._container=Vt("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide")),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+e(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var u,p,C=this._map,O=this._container,$=C.latLngToContainerPoint(C.getCenter()),me=C.layerPointToContainerPoint(s),Ge=this.options.direction,tt=O.offsetWidth,yt=O.offsetHeight,Bt=Re(this.options.offset),vn=this._getAnchor();"top"===Ge?(u=tt/2,p=yt):"bottom"===Ge?(u=tt/2,p=0):"center"===Ge?(u=tt/2,p=yt/2):"right"===Ge?(u=0,p=yt/2):"left"===Ge?(u=tt,p=yt/2):me.x<$.x?(Ge="right",u=0,p=yt/2):(Ge="left",u=tt+2*(Bt.x+vn.x),p=yt/2),s=s.subtract(Re(u,p,!0)).add(Bt).add(vn),En(O,"leaflet-tooltip-right"),En(O,"leaflet-tooltip-left"),En(O,"leaflet-tooltip-top"),En(O,"leaflet-tooltip-bottom"),fn(O,"leaflet-tooltip-"+Ge),_i(O,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Ki(this._container,s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(u)},_getAnchor:function(){return Re(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Ut.include({openTooltip:function(s,u,p){return this._initOverlay(cs,s,u,p).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),Bi.include({bindTooltip:function(s,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(cs,this._tooltip,s,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(s||!this._tooltipHandlersAdded){var u=s?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[u](p),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof br||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var u="function"==typeof s.getElement&&s.getElement();u&&(zt(u,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),zt(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var u="function"==typeof s.getElement&&s.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(this._tooltip&&this._map){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;return void this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(s)})}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var p,C,u=s.latlng;this._tooltip.options.sticky&&s.originalEvent&&(p=this._map.mouseEventToContainerPoint(s.originalEvent),C=this._map.containerPointToLayerPoint(p),u=this._map.layerPointToLatLng(C)),this._tooltip.setLatLng(u)}});var ga=kr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var u=s&&"DIV"===s.tagName?s:document.createElement("div"),p=this.options;if(p.html instanceof Element?(xi(u),u.appendChild(p.html)):u.innerHTML=!1!==p.html?p.html:"",p.bgPos){var C=Re(p.bgPos);u.style.backgroundPosition=-C.x+"px "+-C.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});kr.Default=As;var ls=Bi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ne.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){De(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),_n(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ci(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Vi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=Q(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof rt?s:new rt(s,s)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var $,u=this.getPane().children,p=-s(-1/0,1/0),C=0,O=u.length;C<O;C++)$=u[C].style.zIndex,u[C]!==this._container&&$&&(p=s(p,+$));isFinite(p)&&(this.options.zIndex=p+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ne.ielt9){Ki(this._container,this.options.opacity);var s=+new Date,u=!1,p=!1;for(var C in this._tiles){var O=this._tiles[C];if(O.current&&O.loaded){var $=Math.min(1,(s-O.loaded)/200);Ki(O.el,$),$<1?u=!0:(O.active?p=!0:this._onOpaqueTile(O),O.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),u&&($e(this._fadeFrame),this._fadeFrame=Xe(this._updateOpacity,this))}},_onOpaqueTile:pe,_initContainer:function(){this._container||(this._container=Vt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,u=this.options.maxZoom;if(void 0!==s){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===s?(this._levels[p].el.style.zIndex=u-Math.abs(s-p),this._onUpdateLevel(p)):(_n(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var C=this._levels[s],O=this._map;return C||((C=this._levels[s]={}).el=Vt("div","leaflet-tile-container leaflet-zoom-animated",this._container),C.el.style.zIndex=u,C.origin=O.project(O.unproject(O.getPixelOrigin()),s).round(),C.zoom=s,this._setZoomTransform(C,O.getCenter(),O.getZoom()),this._onCreateLevel(C)),this._level=C,C}},_onUpdateLevel:pe,_onRemoveLevel:pe,_onCreateLevel:pe,_pruneTiles:function(){if(this._map){var s,u,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom)return void this._removeAllTiles();for(s in this._tiles)(u=this._tiles[s]).retain=u.current;for(s in this._tiles)if((u=this._tiles[s]).current&&!u.active){var C=u.coords;this._retainParent(C.x,C.y,C.z,C.z-5)||this._retainChildren(C.x,C.y,C.z,C.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var u in this._tiles)this._tiles[u].coords.z===s&&this._removeTile(u)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)_n(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,u,p,C){var O=Math.floor(s/2),$=Math.floor(u/2),me=p-1,Ge=new rt(+O,+$);Ge.z=+me;var tt=this._tileCoordsToKey(Ge),yt=this._tiles[tt];return yt&&yt.active?(yt.retain=!0,!0):(yt&&yt.loaded&&(yt.retain=!0),me>C&&this._retainParent(O,$,me,C))},_retainChildren:function(s,u,p,C){for(var O=2*s;O<2*s+2;O++)for(var $=2*u;$<2*u+2;$++){var me=new rt(O,$);me.z=p+1;var Ge=this._tileCoordsToKey(me),tt=this._tiles[Ge];tt&&tt.active?tt.retain=!0:(tt&&tt.loaded&&(tt.retain=!0),p+1<C&&this._retainChildren(O,$,p+1,C))}},_resetView:function(s){var u=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var u=this.options;return void 0!==u.minNativeZoom&&s<u.minNativeZoom?u.minNativeZoom:void 0!==u.maxNativeZoom&&u.maxNativeZoom<s?u.maxNativeZoom:s},_setView:function(s,u,p,C){var O=Math.round(u);O=void 0!==this.options.maxZoom&&O>this.options.maxZoom||void 0!==this.options.minZoom&&O<this.options.minZoom?void 0:this._clampZoom(O),(!C||this.options.updateWhenZooming&&O!==this._tileZoom)&&(this._tileZoom=O,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==O&&this._update(s),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(s,u)},_setZoomTransforms:function(s,u){for(var p in this._levels)this._setZoomTransform(this._levels[p],s,u)},_setZoomTransform:function(s,u,p){var C=this._map.getZoomScale(p,s.zoom),O=s.origin.multiplyBy(C).subtract(this._map._getNewPixelOrigin(u,p)).round();Ne.any3d?Fo(s.el,O,C):_i(s.el,O)},_resetGrid:function(){var s=this._map,u=s.options.crs,p=this._tileSize=this.getTileSize(),C=this._tileZoom,O=this._map.getPixelWorldBounds(this._tileZoom);O&&(this._globalTileRange=this._pxBoundsToTileRange(O)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,u.wrapLng[0]],C).x/p.x),Math.ceil(s.project([0,u.wrapLng[1]],C).x/p.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([u.wrapLat[0],0],C).y/p.x),Math.ceil(s.project([u.wrapLat[1],0],C).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var u=this._map,p=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),C=u.getZoomScale(p,this._tileZoom),O=u.project(s,this._tileZoom).floor(),$=u.getSize().divideBy(2*C);return new ht(O.subtract($),O.add($))},_update:function(s){var u=this._map;if(u){var p=this._clampZoom(u.getZoom());if(void 0===s&&(s=u.getCenter()),void 0!==this._tileZoom){var C=this._getTiledPixelBounds(s),O=this._pxBoundsToTileRange(C),$=O.getCenter(),me=[],Ge=this.options.keepBuffer,tt=new ht(O.getBottomLeft().subtract([Ge,-Ge]),O.getTopRight().add([Ge,-Ge]));if(!(isFinite(O.min.x)&&isFinite(O.min.y)&&isFinite(O.max.x)&&isFinite(O.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var yt in this._tiles){var Bt=this._tiles[yt].coords;(Bt.z!==this._tileZoom||!tt.contains(new rt(Bt.x,Bt.y)))&&(this._tiles[yt].current=!1)}if(Math.abs(p-this._tileZoom)>1)return void this._setView(s,p);for(var vn=O.min.y;vn<=O.max.y;vn++)for(var Tn=O.min.x;Tn<=O.max.x;Tn++){var Xn=new rt(Tn,vn);if(Xn.z=this._tileZoom,this._isValidTile(Xn)){var Yn=this._tiles[this._tileCoordsToKey(Xn)];Yn?Yn.current=!0:me.push(Xn)}}if(me.sort(function(Qt,Jr){return Qt.distanceTo($)-Jr.distanceTo($)}),0!==me.length){this._loading||(this._loading=!0,this.fire("loading"));var bi=document.createDocumentFragment();for(Tn=0;Tn<me.length;Tn++)this._addTile(me[Tn],bi);this._level.el.appendChild(bi)}}}},_isValidTile:function(s){var u=this._map.options.crs;if(!u.infinite){var p=this._globalTileRange;if(!u.wrapLng&&(s.x<p.min.x||s.x>p.max.x)||!u.wrapLat&&(s.y<p.min.y||s.y>p.max.y))return!1}if(!this.options.bounds)return!0;var C=this._tileCoordsToBounds(s);return we(this.options.bounds).overlaps(C)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var u=this._map,p=this.getTileSize(),C=s.scaleBy(p),O=C.add(p);return[u.unproject(C,s.z),u.unproject(O,s.z)]},_tileCoordsToBounds:function(s){var u=this._tileCoordsToNwSe(s),p=new le(u[0],u[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var u=s.split(":"),p=new rt(+u[0],+u[1]);return p.z=+u[2],p},_removeTile:function(s){var u=this._tiles[s];u&&(_n(u.el),delete this._tiles[s],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){fn(s,"leaflet-tile");var u=this.getTileSize();s.style.width=u.x+"px",s.style.height=u.y+"px",s.onselectstart=pe,s.onmousemove=pe,Ne.ielt9&&this.options.opacity<1&&Ki(s,this.options.opacity)},_addTile:function(s,u){var p=this._getTilePos(s),C=this._tileCoordsToKey(s),O=this.createTile(this._wrapCoords(s),ce(this._tileReady,this,s));this._initTile(O),this.createTile.length<2&&Xe(ce(this._tileReady,this,s,null,O)),_i(O,p),this._tiles[C]={el:O,coords:s,current:!0},u.appendChild(O),this.fire("tileloadstart",{tile:O,coords:s})},_tileReady:function(s,u,p){u&&this.fire("tileerror",{error:u,tile:p,coords:s});var C=this._tileCoordsToKey(s);(p=this._tiles[C])&&(p.loaded=+new Date,this._map._fadeAnimated?(Ki(p.el,0),$e(this._fadeFrame),this._fadeFrame=Xe(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),u||(fn(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ne.ielt9||!this._map._fadeAnimated?Xe(this._pruneTiles,this):setTimeout(ce(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var u=new rt(this._wrapX?Le(s.x,this._wrapX):s.x,this._wrapY?Le(s.y,this._wrapY):s.y);return u.z=s.z,u},_pxBoundsToTileRange:function(s){var u=this.getTileSize();return new ht(s.min.unscaleBy(u).floor(),s.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});var j=ls.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,u){this._url=s,(u=De(this,u)).detectRetina&&Ne.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),"string"==typeof u.subdomains&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,u){return this._url===s&&void 0===u&&(u=!0),this._url=s,u||this.redraw(),this},createTile:function(s,u){var p=document.createElement("img");return zt(p,"load",ce(this._tileOnLoad,this,u,p)),zt(p,"error",ce(this._tileOnError,this,u,p)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(p.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(s),p},getTileUrl:function(s){var u={r:Ne.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-s.y;this.options.tms&&(u.y=p),u["-y"]=p}return K(this._url,X(u,this.options))},_tileOnLoad:function(s,u){Ne.ielt9?setTimeout(ce(s,this,null,u),0):s(null,u)},_tileOnError:function(s,u,p){var C=this.options.errorTileUrl;C&&u.getAttribute("src")!==C&&(u.src=C),s(p,u)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom;return this.options.zoomReverse&&(s=this.options.maxZoom-s),s+this.options.zoomOffset},_getSubdomain:function(s){var u=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var s,u;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&((u=this._tiles[s].el).onload=pe,u.onerror=pe,!u.complete)){u.src=pt;var p=this._tiles[s].coords;_n(u),delete this._tiles[s],this.fire("tileabort",{tile:u,coords:p})}},_removeTile:function(s){var u=this._tiles[s];if(u)return u.el.setAttribute("src",pt),ls.prototype._removeTile.call(this,s)},_tileReady:function(s,u,p){if(this._map&&(!p||p.getAttribute("src")!==pt))return ls.prototype._tileReady.call(this,s,u,p)}});function I(s,u){return new j(s,u)}var F=j.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,u){this._url=s;var p=X({},this.defaultWmsParams);for(var C in u)C in this.options||(p[C]=u[C]);var O=(u=De(this,u)).detectRetina&&Ne.retina?2:1,$=this.getTileSize();p.width=$.x*O,p.height=$.y*O,this.wmsParams=p},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,j.prototype.onAdd.call(this,s)},getTileUrl:function(s){var u=this._tileCoordsToNwSe(s),p=this._crs,C=ae(p.project(u[0]),p.project(u[1])),O=C.min,$=C.max,me=(this._wmsVersion>=1.3&&this._crs===rn?[O.y,O.x,$.y,$.x]:[O.x,O.y,$.x,$.y]).join(","),Ge=j.prototype.getTileUrl.call(this,s);return Ge+Se(this.wmsParams,Ge,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+me},setParams:function(s,u){return X(this.wmsParams,s),u||this.redraw(),this}});j.WMS=F,I.wms=function re(s,u){return new F(s,u)};var We=Bi.extend({options:{padding:.1},initialize:function(s){De(this,s),e(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),fn(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,u){var p=this._map.getZoomScale(u,this._zoom),C=this._map.getSize().multiplyBy(.5+this.options.padding),O=this._map.project(this._center,u),$=C.multiplyBy(-p).add(O).subtract(this._map._getNewPixelOrigin(s,u));Ne.any3d?Fo(this._container,$,p):_i(this._container,$)},_reset:function(){for(var s in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,u=this._map.getSize(),p=this._map.containerPointToLayerPoint(u.multiplyBy(-s)).round();this._bounds=new ht(p,p.add(u.multiplyBy(1+2*s)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),gt=We.extend({options:{tolerance:0},getEvents:function(){var s=We.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){We.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");zt(s,"mousemove",this._onMouseMove,this),zt(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),zt(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){$e(this._redrawRequest),delete this._ctx,_n(this._container),Cn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var u in this._redrawBounds=null,this._layers)this._layers[u]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){We.prototype._update.call(this);var s=this._bounds,u=this._container,p=s.getSize(),C=Ne.retina?2:1;_i(u,s.min),u.width=C*p.x,u.height=C*p.y,u.style.width=p.x+"px",u.style.height=p.y+"px",Ne.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){We.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[e(s)]=s;var u=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var u=s._order,p=u.next,C=u.prev;p?p.prev=C:this._drawLast=C,C?C.next=p:this._drawFirst=p,delete s._order,delete this._layers[e(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if("string"==typeof s.options.dashArray){var C,O,u=s.options.dashArray.split(/[, ]+/),p=[];for(O=0;O<u.length;O++){if(C=Number(u[O]),isNaN(C))return;p.push(C)}s.options._dashArray=p}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||Xe(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var u=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ht,this._redrawBounds.extend(s._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(s._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var u=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,u=this._redrawBounds;if(this._ctx.save(),u){var p=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var C=this._drawFirst;C;C=C.next)s=C.layer,(!u||s._pxBounds&&s._pxBounds.intersects(u))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,u){if(this._drawing){var p,C,O,$,me=s._parts,Ge=me.length,tt=this._ctx;if(Ge){for(tt.beginPath(),p=0;p<Ge;p++){for(C=0,O=me[p].length;C<O;C++)tt[C?"lineTo":"moveTo"](($=me[p][C]).x,$.y);u&&tt.closePath()}this._fillStroke(tt,s)}}},_updateCircle:function(s){if(this._drawing&&!s._empty()){var u=s._point,p=this._ctx,C=Math.max(Math.round(s._radius),1),O=(Math.max(Math.round(s._radiusY),1)||C)/C;1!==O&&(p.save(),p.scale(1,O)),p.beginPath(),p.arc(u.x,u.y/O,C,0,2*Math.PI,!1),1!==O&&p.restore(),this._fillStroke(p,s)}},_fillStroke:function(s,u){var p=u.options;p.fill&&(s.globalAlpha=p.fillOpacity,s.fillStyle=p.fillColor||p.color,s.fill(p.fillRule||"evenodd")),p.stroke&&0!==p.weight&&(s.setLineDash&&s.setLineDash(u.options&&u.options._dashArray||[]),s.globalAlpha=p.opacity,s.lineWidth=p.weight,s.strokeStyle=p.color,s.lineCap=p.lineCap,s.lineJoin=p.lineJoin,s.stroke())},_onClick:function(s){for(var p,C,u=this._map.mouseEventToLayerPoint(s),O=this._drawFirst;O;O=O.next)(p=O.layer).options.interactive&&p._containsPoint(u)&&("click"!==s.type&&"preclick"!==s.type||!this._map._draggableMoved(p))&&(C=p);this._fireEvent(!!C&&[C],s)},_onMouseMove:function(s){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var u=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,u)}},_handleMouseOut:function(s){var u=this._hoveredLayer;u&&(En(this._container,"leaflet-interactive"),this._fireEvent([u],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,u){if(!this._mouseHoverThrottled){for(var p,C,O=this._drawFirst;O;O=O.next)(p=O.layer).options.interactive&&p._containsPoint(u)&&(C=p);C!==this._hoveredLayer&&(this._handleMouseOut(s),C&&(fn(this._container,"leaflet-interactive"),this._fireEvent([C],s,"mouseover"),this._hoveredLayer=C)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],s),this._mouseHoverThrottled=!0,setTimeout(ce(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,u,p){this._map._fireDOMEvent(u,p||u.type,s)},_bringToFront:function(s){var u=s._order;if(u){var p=u.next,C=u.prev;if(!p)return;p.prev=C,C?C.next=p:p&&(this._drawFirst=p),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(s)}},_bringToBack:function(s){var u=s._order;if(u){var p=u.next,C=u.prev;if(!C)return;C.next=p,p?p.prev=C:C&&(this._drawLast=C),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(s)}}});function Kt(s){return Ne.canvas?new gt(s):null}var Qn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),si={_initContainer:function(){this._container=Vt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(We.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var u=s._container=Qn("shape");fn(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",s._path=Qn("path"),u.appendChild(s._path),this._updateStyle(s),this._layers[e(s)]=s},_addPath:function(s){var u=s._container;this._container.appendChild(u),s.options.interactive&&s.addInteractiveTarget(u)},_removePath:function(s){var u=s._container;_n(u),s.removeInteractiveTarget(u),delete this._layers[e(s)]},_updateStyle:function(s){var u=s._stroke,p=s._fill,C=s.options,O=s._container;O.stroked=!!C.stroke,O.filled=!!C.fill,C.stroke?(u||(u=s._stroke=Qn("stroke")),O.appendChild(u),u.weight=C.weight+"px",u.color=C.color,u.opacity=C.opacity,u.dashStyle=C.dashArray?be(C.dashArray)?C.dashArray.join(" "):C.dashArray.replace(/( *, *)/g," "):"",u.endcap=C.lineCap.replace("butt","flat"),u.joinstyle=C.lineJoin):u&&(O.removeChild(u),s._stroke=null),C.fill?(p||(p=s._fill=Qn("fill")),O.appendChild(p),p.color=C.fillColor||C.color,p.opacity=C.fillOpacity):p&&(O.removeChild(p),s._fill=null)},_updateCircle:function(s){var u=s._point.round(),p=Math.round(s._radius),C=Math.round(s._radiusY||p);this._setPath(s,s._empty()?"M0 0":"AL "+u.x+","+u.y+" "+p+","+C+" 0,23592600")},_setPath:function(s,u){s._path.v=u},_bringToFront:function(s){Ci(s._container)},_bringToBack:function(s){Vi(s._container)}},On=Ne.vml?Qn:wn,pn=We.extend({_initContainer:function(){this._container=On("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=On("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){_n(this._container),Cn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){We.prototype._update.call(this);var s=this._bounds,u=s.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,p.setAttribute("width",u.x),p.setAttribute("height",u.y)),_i(p,s.min),p.setAttribute("viewBox",[s.min.x,s.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(s){var u=s._path=On("path");s.options.className&&fn(u,s.options.className),s.options.interactive&&fn(u,"leaflet-interactive"),this._updateStyle(s),this._layers[e(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){_n(s._path),s.removeInteractiveTarget(s._path),delete this._layers[e(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var u=s._path,p=s.options;u&&(p.stroke?(u.setAttribute("stroke",p.color),u.setAttribute("stroke-opacity",p.opacity),u.setAttribute("stroke-width",p.weight),u.setAttribute("stroke-linecap",p.lineCap),u.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?u.setAttribute("stroke-dasharray",p.dashArray):u.removeAttribute("stroke-dasharray"),p.dashOffset?u.setAttribute("stroke-dashoffset",p.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),p.fill?(u.setAttribute("fill",p.fillColor||p.color),u.setAttribute("fill-opacity",p.fillOpacity),u.setAttribute("fill-rule",p.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(s,u){this._setPath(s,gn(s._parts,u))},_updateCircle:function(s){var u=s._point,p=Math.max(Math.round(s._radius),1),O="a"+p+","+(Math.max(Math.round(s._radiusY),1)||p)+" 0 1,0 ",$=s._empty()?"M0 0":"M"+(u.x-p)+","+u.y+O+2*p+",0 "+O+2*-p+",0 ";this._setPath(s,$)},_setPath:function(s,u){s._path.setAttribute("d",u)},_bringToFront:function(s){Ci(s._path)},_bringToBack:function(s){Vi(s._path)}});function Ei(s){return Ne.svg||Ne.vml?new pn(s):null}Ne.vml&&pn.include(si),Ut.include({getRenderer:function(s){var u=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(s){if("overlayPane"===s||void 0===s)return!1;var u=this._paneRenderers[s];return void 0===u&&(u=this._createRenderer({pane:s}),this._paneRenderers[s]=u),u},_createRenderer:function(s){return this.options.preferCanvas&&Kt(s)||Ei(s)}});var li=Yr.extend({initialize:function(s,u){Yr.prototype.initialize.call(this,this._boundsToLatLngs(s),u)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return[(s=we(s)).getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});pn.create=On,pn.pointsToPath=gn,qo.geometryToLayer=lr,qo.coordsToLatLng=Wr,qo.coordsToLatLngs=Lr,qo.latLngToCoords=ss,qo.latLngsToCoords=as,qo.getFeature=Cr,qo.asFeature=Br,Ut.mergeOptions({boxZoom:!0});var Jo=Xi.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){zt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Cn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){_n(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||1!==s.which&&1!==s.button)return!1;this._clearDeferredResetState(),this._resetState(),tr(),nr(),this._startPoint=this._map.mouseEventToContainerPoint(s),zt(document,{contextmenu:qn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=Vt("div","leaflet-zoom-box",this._container),fn(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var u=new ht(this._point,this._startPoint),p=u.getSize();_i(this._box,u.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(_n(this._box),En(this._container,"leaflet-crosshair")),Oi(),ir(),Cn(document,{contextmenu:qn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if((1===s.which||1===s.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(ce(this._resetState,this),0);var u=new le(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(s){27===s.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ut.addInitHook("addHandler","boxZoom",Jo),Ut.mergeOptions({doubleClickZoom:!0});var Ho=Xi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var u=this._map,p=u.getZoom(),C=u.options.zoomDelta,O=s.originalEvent.shiftKey?p-C:p+C;"center"===u.options.doubleClickZoom?u.setZoom(O):u.setZoomAround(s.containerPoint,O)}});Ut.addInitHook("addHandler","doubleClickZoom",Ho),Ut.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var po=Xi.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new yo(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}fn(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){En(this._map._container,"leaflet-grab"),En(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=we(this._map.options.maxBounds);this._offsetLimit=ae(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var u=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(u),this._prunePositions(u)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,u){return s-(s-u)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var s=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;s.x<u.min.x&&(s.x=this._viscousLimit(s.x,u.min.x)),s.y<u.min.y&&(s.y=this._viscousLimit(s.y,u.min.y)),s.x>u.max.x&&(s.x=this._viscousLimit(s.x,u.max.x)),s.y>u.max.y&&(s.y=this._viscousLimit(s.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,u=Math.round(s/2),p=this._initialWorldOffset,C=this._draggable._newPos.x,O=(C-u+p)%s+u-p,$=(C+u+p)%s-u-p,me=Math.abs(O+p)<Math.abs($+p)?O:$;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=me},_onDragEnd:function(s){var u=this._map,p=u.options,C=!p.inertia||s.noInertia||this._times.length<2;if(u.fire("dragend",s),C)u.fire("moveend");else{this._prunePositions(+new Date);var O=this._lastPos.subtract(this._positions[0]),me=p.easeLinearity,Ge=O.multiplyBy(me/((this._lastTime-this._times[0])/1e3)),tt=Ge.distanceTo([0,0]),yt=Math.min(p.inertiaMaxSpeed,tt),Bt=Ge.multiplyBy(yt/tt),vn=yt/(p.inertiaDeceleration*me),Tn=Bt.multiplyBy(-vn/2).round();Tn.x||Tn.y?(Tn=u._limitOffset(Tn,u.options.maxBounds),Xe(function(){u.panBy(Tn,{duration:vn,easeLinearity:me,noMoveStart:!0,animate:!0})})):u.fire("moveend")}}});Ut.addInitHook("addHandler","dragging",po),Ut.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Eo=Xi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),zt(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Cn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,u=document.documentElement,p=s.scrollTop||u.scrollTop,C=s.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(C,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var C,O,u=this._panKeys={},p=this.keyCodes;for(C=0,O=p.left.length;C<O;C++)u[p.left[C]]=[-1*s,0];for(C=0,O=p.right.length;C<O;C++)u[p.right[C]]=[s,0];for(C=0,O=p.down.length;C<O;C++)u[p.down[C]]=[0,s];for(C=0,O=p.up.length;C<O;C++)u[p.up[C]]=[0,-1*s]},_setZoomDelta:function(s){var C,O,u=this._zoomKeys={},p=this.keyCodes;for(C=0,O=p.zoomIn.length;C<O;C++)u[p.zoomIn[C]]=s;for(C=0,O=p.zoomOut.length;C<O;C++)u[p.zoomOut[C]]=-s},_addHooks:function(){zt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Cn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var C,u=s.keyCode,p=this._map;if(u in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(C=this._panKeys[u],s.shiftKey&&(C=Re(C).multiplyBy(3)),p.options.maxBounds&&(C=p._limitOffset(Re(C),p.options.maxBounds)),p.options.worldCopyJump){var O=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(C)));p.panTo(O)}else p.panBy(C)}else if(u in this._zoomKeys)p.setZoom(p.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[u]);else{if(27!==u||!p._popup||!p._popup.options.closeOnEscapeKey)return;p.closePopup()}qn(s)}}});Ut.addInitHook("addHandler","keyboard",Eo),Ut.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ui=Xi.extend({addHooks:function(){zt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Cn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var u=_r(s),p=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var C=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(ce(this._performZoom,this),C),qn(s)},_performZoom:function(){var s=this._map,u=s.getZoom(),p=this._map.options.zoomSnap||0;s._stop();var O=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,$=p?Math.ceil(O/p)*p:O,me=s._limitZoom(u+(this._delta>0?$:-$))-u;this._delta=0,this._startTime=null,me&&("center"===s.options.scrollWheelZoom?s.setZoom(u+me):s.setZoomAround(this._lastMousePos,u+me))}});Ut.addInitHook("addHandler","scrollWheelZoom",Ui);Ut.mergeOptions({tapHold:Ne.touchNative&&Ne.safari&&Ne.mobile,tapTolerance:15});var Ao=Xi.extend({addHooks:function(){zt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Cn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),1===s.touches.length){var u=s.touches[0];this._startPos=this._newPos=new rt(u.clientX,u.clientY),this._holdTimeout=setTimeout(ce(function(){this._cancel(),this._isTapValid()&&(zt(document,"touchend",Xt),zt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),600),zt(document,"touchend touchcancel contextmenu",this._cancel,this),zt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){Cn(document,"touchend",Xt),Cn(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),Cn(document,"touchend touchcancel contextmenu",this._cancel,this),Cn(document,"touchmove",this._onMove,this)},_onMove:function(s){var u=s.touches[0];this._newPos=new rt(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,u){var p=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});p._simulated=!0,u.target.dispatchEvent(p)}});Ut.addInitHook("addHandler","tapHold",Ao),Ut.mergeOptions({touchZoom:Ne.touch,bounceAtZoomLimits:!0});var ui=Xi.extend({addHooks:function(){fn(this._map._container,"leaflet-touch-zoom"),zt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){En(this._map._container,"leaflet-touch-zoom"),Cn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var u=this._map;if(s.touches&&2===s.touches.length&&!u._animatingZoom&&!this._zooming){var p=u.mouseEventToContainerPoint(s.touches[0]),C=u.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),"center"!==u.options.touchZoom&&(this._pinchStartLatLng=u.containerPointToLatLng(p.add(C)._divideBy(2))),this._startDist=p.distanceTo(C),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),zt(document,"touchmove",this._onTouchMove,this),zt(document,"touchend touchcancel",this._onTouchEnd,this),Xt(s)}},_onTouchMove:function(s){if(s.touches&&2===s.touches.length&&this._zooming){var u=this._map,p=u.mouseEventToContainerPoint(s.touches[0]),C=u.mouseEventToContainerPoint(s.touches[1]),O=p.distanceTo(C)/this._startDist;if(this._zoom=u.getScaleZoom(O,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&O<1||this._zoom>u.getMaxZoom()&&O>1)&&(this._zoom=u._limitZoom(this._zoom)),"center"===u.options.touchZoom){if(this._center=this._startLatLng,1===O)return}else{var $=p._add(C)._divideBy(2)._subtract(this._centerPoint);if(1===O&&0===$.x&&0===$.y)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract($),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),$e(this._animRequest);var me=ce(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Xe(me,this,!0),Xt(s)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,$e(this._animRequest),Cn(document,"touchmove",this._onTouchMove,this),Cn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Ut.addInitHook("addHandler","touchZoom",ui),Ut.BoxZoom=Jo,Ut.DoubleClickZoom=Ho,Ut.Drag=po,Ut.Keyboard=Eo,Ut.ScrollWheelZoom=Ui,Ut.TapHold=Ao,Ut.TouchZoom=ui,M.Bounds=ht,M.Browser=Ne,M.CRS=Ze,M.Canvas=gt,M.Circle=Ni,M.CircleMarker=zr,M.Class=Ue,M.Control=Qi,M.DivIcon=ga,M.DivOverlay=jo,M.DomEvent=uo,M.DomUtil=Di,M.Draggable=yo,M.Evented=Ft,M.FeatureGroup=br,M.GeoJSON=qo,M.GridLayer=ls,M.Handler=Xi,M.Icon=kr,M.ImageOverlay=Ur,M.LatLng=ye,M.LatLngBounds=le,M.Layer=Bi,M.LayerGroup=No,M.LineUtil=R,M.Map=Ut,M.Marker=rs,M.Mixin=Fn,M.Path=fo,M.Point=rt,M.PolyUtil=Nr,M.Polygon=Yr,M.Polyline=pi,M.Popup=qr,M.PosAnimation=Bo,M.Projection=z,M.Rectangle=li,M.Renderer=We,M.SVG=pn,M.SVGOverlay=js,M.TileLayer=j,M.Tooltip=cs,M.Transformation=ct,M.Util=it,M.VideoOverlay=fa,M.bind=ce,M.bounds=ae,M.canvas=Kt,M.circle=function _s(s,u,p){return new Ni(s,u,p)},M.circleMarker=function ms(s,u){return new zr(s,u)},M.control=ho,M.divIcon=function ys(s){return new ga(s)},M.extend=X,M.featureGroup=function(s,u){return new br(s,u)},M.geoJSON=ur,M.geoJson=Ss,M.gridLayer=function b(s){return new ls(s)},M.icon=function Qs(s){return new kr(s)},M.imageOverlay=function(s,u,p){return new Ur(s,u,p)},M.latLng=Me,M.latLngBounds=we,M.layerGroup=function(s,u){return new No(s,u)},M.map=function vr(s,u){return new Ut(s,u)},M.marker=function Rr(s,u){return new rs(s,u)},M.point=Re,M.polygon=function Us(s,u){return new Yr(s,u)},M.polyline=function vs(s,u){return new pi(s,u)},M.popup=function(s,u){return new qr(s,u)},M.rectangle=function Ti(s,u){return new li(s,u)},M.setOptions=De,M.stamp=e,M.svg=Ei,M.svgOverlay=function Ec(s,u,p){return new js(s,u,p)},M.tileLayer=I,M.tooltip=function(s,u){return new cs(s,u)},M.transformation=sn,M.version="1.9.4",M.videoOverlay=function pa(s,u,p){return new fa(s,u,p)};var So=window.L;M.noConflict=function(){return window.L=So,this},window.L=M}(ke)},8071:(Ot,ke,M)=>{"use strict";M.d(ke,{X:()=>X});var g=M(9877);class X extends g.x{constructor(ce){super(),this._value=ce}get value(){return this.getValue()}_subscribe(ce){const J=super._subscribe(ce);return!J.closed&&ce.next(this._value),J}getValue(){const{hasError:ce,thrownError:J,_value:e}=this;if(ce)throw J;return this._throwIfClosed(),e}next(ce){super.next(this._value=ce)}}},2235:(Ot,ke,M)=>{"use strict";M.d(ke,{y:()=>Le});var g=M(6343),X=M(6482),W=M(4373),ce=M(2476),J=M(5445),e=M(2602),Q=M(575);let Le=(()=>{class ne{constructor(Se){Se&&(this._subscribe=Se)}lift(Se){const He=new ne;return He.source=this,He.operator=Se,He}subscribe(Se,He,K){const be=function Ae(ne){return ne&&ne instanceof g.Lv||function ge(ne){return ne&&(0,e.m)(ne.next)&&(0,e.m)(ne.error)&&(0,e.m)(ne.complete)}(ne)&&(0,X.Nn)(ne)}(Se)?Se:new g.Hp(Se,He,K);return(0,Q.x)(()=>{const{operator:Ye,source:pt}=this;be.add(Ye?Ye.call(be,pt):pt?this._subscribe(be):this._trySubscribe(be))}),be}_trySubscribe(Se){try{return this._subscribe(Se)}catch(He){Se.error(He)}}forEach(Se,He){return new(He=pe(He))((K,be)=>{const Ye=new g.Hp({next:pt=>{try{Se(pt)}catch(Rt){be(Rt),Ye.unsubscribe()}},error:be,complete:K});this.subscribe(Ye)})}_subscribe(Se){var He;return null===(He=this.source)||void 0===He?void 0:He.subscribe(Se)}[W.L](){return this}pipe(...Se){return(0,ce.U)(Se)(this)}toPromise(Se){return new(Se=pe(Se))((He,K)=>{let be;this.subscribe(Ye=>be=Ye,Ye=>K(Ye),()=>He(be))})}}return ne.create=De=>new ne(De),ne})();function pe(ne){var De;return null!==(De=ne??J.config.Promise)&&void 0!==De?De:Promise}},5400:(Ot,ke,M)=>{"use strict";M.d(ke,{t:()=>W});var g=M(9877),X=M(6926);class W extends g.x{constructor(J=1/0,e=1/0,Q=X.l){super(),this._bufferSize=J,this._windowTime=e,this._timestampProvider=Q,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,J),this._windowTime=Math.max(1,e)}next(J){const{isStopped:e,_buffer:Q,_infiniteTimeWindow:Le,_timestampProvider:pe,_windowTime:ge}=this;e||(Q.push(J),!Le&&Q.push(pe.now()+ge)),this._trimBuffer(),super.next(J)}_subscribe(J){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(J),{_infiniteTimeWindow:Q,_buffer:Le}=this,pe=Le.slice();for(let ge=0;ge<pe.length&&!J.closed;ge+=Q?1:2)J.next(pe[ge]);return this._checkFinalizedStatuses(J),e}_trimBuffer(){const{_bufferSize:J,_timestampProvider:e,_buffer:Q,_infiniteTimeWindow:Le}=this,pe=(Le?1:2)*J;if(J<1/0&&pe<Q.length&&Q.splice(0,Q.length-pe),!Le){const ge=e.now();let Ae=0;for(let ne=1;ne<Q.length&&Q[ne]<=ge;ne+=2)Ae=ne;Ae&&Q.splice(0,Ae+1)}}}},9877:(Ot,ke,M)=>{"use strict";M.d(ke,{x:()=>Q});var g=M(2235),X=M(6482);const ce=(0,M(1566).d)(pe=>function(){pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var J=M(5559),e=M(575);let Q=(()=>{class pe extends g.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Ae){const ne=new Le(this,this);return ne.operator=Ae,ne}_throwIfClosed(){if(this.closed)throw new ce}next(Ae){(0,e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ne of this.currentObservers)ne.next(Ae)}})}error(Ae){(0,e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Ae;const{observers:ne}=this;for(;ne.length;)ne.shift().error(Ae)}})}complete(){(0,e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Ae}=this;for(;Ae.length;)Ae.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Ae;return(null===(Ae=this.observers)||void 0===Ae?void 0:Ae.length)>0}_trySubscribe(Ae){return this._throwIfClosed(),super._trySubscribe(Ae)}_subscribe(Ae){return this._throwIfClosed(),this._checkFinalizedStatuses(Ae),this._innerSubscribe(Ae)}_innerSubscribe(Ae){const{hasError:ne,isStopped:De,observers:Se}=this;return ne||De?X.Lc:(this.currentObservers=null,Se.push(Ae),new X.w0(()=>{this.currentObservers=null,(0,J.P)(Se,Ae)}))}_checkFinalizedStatuses(Ae){const{hasError:ne,thrownError:De,isStopped:Se}=this;ne?Ae.error(De):Se&&Ae.complete()}asObservable(){const Ae=new g.y;return Ae.source=this,Ae}}return pe.create=(ge,Ae)=>new Le(ge,Ae),pe})();class Le extends Q{constructor(ge,Ae){super(),this.destination=ge,this.source=Ae}next(ge){var Ae,ne;null===(ne=null===(Ae=this.destination)||void 0===Ae?void 0:Ae.next)||void 0===ne||ne.call(Ae,ge)}error(ge){var Ae,ne;null===(ne=null===(Ae=this.destination)||void 0===Ae?void 0:Ae.error)||void 0===ne||ne.call(Ae,ge)}complete(){var ge,Ae;null===(Ae=null===(ge=this.destination)||void 0===ge?void 0:ge.complete)||void 0===Ae||Ae.call(ge)}_subscribe(ge){var Ae,ne;return null!==(ne=null===(Ae=this.source)||void 0===Ae?void 0:Ae.subscribe(ge))&&void 0!==ne?ne:X.Lc}}},6343:(Ot,ke,M)=>{"use strict";M.d(ke,{Hp:()=>K,Lv:()=>ne});var g=M(2602),X=M(6482),W=M(5445),ce=M(6929),J=M(2707);const e=pe("C",void 0,void 0);function pe(Te,Ie,fe){return{kind:Te,value:Ie,error:fe}}var ge=M(8411),Ae=M(575);class ne extends X.w0{constructor(Ie){super(),this.isStopped=!1,Ie?(this.destination=Ie,(0,X.Nn)(Ie)&&Ie.add(this)):this.destination=Rt}static create(Ie,fe,ut){return new K(Ie,fe,ut)}next(Ie){this.isStopped?pt(function Le(Te){return pe("N",Te,void 0)}(Ie),this):this._next(Ie)}error(Ie){this.isStopped?pt(function Q(Te){return pe("E",void 0,Te)}(Ie),this):(this.isStopped=!0,this._error(Ie))}complete(){this.isStopped?pt(e,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ie){this.destination.next(Ie)}_error(Ie){try{this.destination.error(Ie)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const De=Function.prototype.bind;function Se(Te,Ie){return De.call(Te,Ie)}class He{constructor(Ie){this.partialObserver=Ie}next(Ie){const{partialObserver:fe}=this;if(fe.next)try{fe.next(Ie)}catch(ut){be(ut)}}error(Ie){const{partialObserver:fe}=this;if(fe.error)try{fe.error(Ie)}catch(ut){be(ut)}else be(Ie)}complete(){const{partialObserver:Ie}=this;if(Ie.complete)try{Ie.complete()}catch(fe){be(fe)}}}class K extends ne{constructor(Ie,fe,ut){let Xe;if(super(),(0,g.m)(Ie)||!Ie)Xe={next:Ie??void 0,error:fe??void 0,complete:ut??void 0};else{let $e;this&&W.config.useDeprecatedNextContext?($e=Object.create(Ie),$e.unsubscribe=()=>this.unsubscribe(),Xe={next:Ie.next&&Se(Ie.next,$e),error:Ie.error&&Se(Ie.error,$e),complete:Ie.complete&&Se(Ie.complete,$e)}):Xe=Ie}this.destination=new He(Xe)}}function be(Te){W.config.useDeprecatedSynchronousErrorHandling?(0,Ae.O)(Te):(0,ce.h)(Te)}function pt(Te,Ie){const{onStoppedNotification:fe}=W.config;fe&&ge.z.setTimeout(()=>fe(Te,Ie))}const Rt={closed:!0,next:J.Z,error:function Ye(Te){throw Te},complete:J.Z}},6482:(Ot,ke,M)=>{"use strict";M.d(ke,{Lc:()=>e,w0:()=>J,Nn:()=>Q});var g=M(2602);const W=(0,M(1566).d)(pe=>function(Ae){pe(this),this.message=Ae?`${Ae.length} errors occurred during unsubscription:\n${Ae.map((ne,De)=>`${De+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Ae});var ce=M(5559);class J{constructor(ge){this.initialTeardown=ge,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ge;if(!this.closed){this.closed=!0;const{_parentage:Ae}=this;if(Ae)if(this._parentage=null,Array.isArray(Ae))for(const Se of Ae)Se.remove(this);else Ae.remove(this);const{initialTeardown:ne}=this;if((0,g.m)(ne))try{ne()}catch(Se){ge=Se instanceof W?Se.errors:[Se]}const{_finalizers:De}=this;if(De){this._finalizers=null;for(const Se of De)try{Le(Se)}catch(He){ge=ge??[],He instanceof W?ge=[...ge,...He.errors]:ge.push(He)}}if(ge)throw new W(ge)}}add(ge){var Ae;if(ge&&ge!==this)if(this.closed)Le(ge);else{if(ge instanceof J){if(ge.closed||ge._hasParent(this))return;ge._addParent(this)}(this._finalizers=null!==(Ae=this._finalizers)&&void 0!==Ae?Ae:[]).push(ge)}}_hasParent(ge){const{_parentage:Ae}=this;return Ae===ge||Array.isArray(Ae)&&Ae.includes(ge)}_addParent(ge){const{_parentage:Ae}=this;this._parentage=Array.isArray(Ae)?(Ae.push(ge),Ae):Ae?[Ae,ge]:ge}_removeParent(ge){const{_parentage:Ae}=this;Ae===ge?this._parentage=null:Array.isArray(Ae)&&(0,ce.P)(Ae,ge)}remove(ge){const{_finalizers:Ae}=this;Ae&&(0,ce.P)(Ae,ge),ge instanceof J&&ge._removeParent(this)}}J.EMPTY=(()=>{const pe=new J;return pe.closed=!0,pe})();const e=J.EMPTY;function Q(pe){return pe instanceof J||pe&&"closed"in pe&&(0,g.m)(pe.remove)&&(0,g.m)(pe.add)&&(0,g.m)(pe.unsubscribe)}function Le(pe){(0,g.m)(pe)?pe():pe.unsubscribe()}},5445:(Ot,ke,M)=>{"use strict";M.d(ke,{config:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3839:(Ot,ke,M)=>{"use strict";M.d(ke,{a:()=>ge});var g=M(2235),X=M(7346),W=M(4683),ce=M(204),J=M(7825),e=M(6190),Q=M(6118),Le=M(5678),pe=M(9701);function ge(...De){const Se=(0,e.yG)(De),He=(0,e.jO)(De),{args:K,keys:be}=(0,X.D)(De);if(0===K.length)return(0,W.D)([],Se);const Ye=new g.y(function Ae(De,Se,He=ce.y){return K=>{ne(Se,()=>{const{length:be}=De,Ye=new Array(be);let pt=be,Rt=be;for(let Te=0;Te<be;Te++)ne(Se,()=>{const Ie=(0,W.D)(De[Te],Se);let fe=!1;Ie.subscribe((0,Le.x)(K,ut=>{Ye[Te]=ut,fe||(fe=!0,Rt--),Rt||K.next(He(Ye.slice()))},()=>{--pt||K.complete()}))},K)},K)}}(K,Se,be?pt=>(0,Q.n)(be,pt):ce.y));return He?Ye.pipe((0,J.Z)(He)):Ye}function ne(De,Se,He){De?(0,pe.f)(He,De,Se):Se()}},5823:(Ot,ke,M)=>{"use strict";M.d(ke,{z:()=>J});var g=M(7047),W=M(6190),ce=M(4683);function J(...e){return function X(){return(0,g.J)(1)}()((0,ce.D)(e,(0,W.yG)(e)))}},6290:(Ot,ke,M)=>{"use strict";M.d(ke,{E:()=>X});const X=new(M(2235).y)(J=>J.complete())},4300:(Ot,ke,M)=>{"use strict";M.d(ke,{D:()=>Le});var g=M(2235),X=M(7346),W=M(384),ce=M(6190),J=M(5678),e=M(7825),Q=M(6118);function Le(...pe){const ge=(0,ce.jO)(pe),{args:Ae,keys:ne}=(0,X.D)(pe),De=new g.y(Se=>{const{length:He}=Ae;if(!He)return void Se.complete();const K=new Array(He);let be=He,Ye=He;for(let pt=0;pt<He;pt++){let Rt=!1;(0,W.Xf)(Ae[pt]).subscribe((0,J.x)(Se,Te=>{Rt||(Rt=!0,Ye--),K[pt]=Te},()=>be--,void 0,()=>{(!be||!Rt)&&(Ye||Se.next(ne?(0,Q.n)(ne,K):K),Se.complete())}))}});return ge?De.pipe((0,e.Z)(ge)):De}},4683:(Ot,ke,M)=>{"use strict";M.d(ke,{D:()=>ut});var g=M(384),X=M(9701),W=M(4114),ce=M(5678);function J(Xe,$e=0){return(0,W.e)((it,Ue)=>{it.subscribe((0,ce.x)(Ue,ft=>(0,X.f)(Ue,Xe,()=>Ue.next(ft),$e),()=>(0,X.f)(Ue,Xe,()=>Ue.complete(),$e),ft=>(0,X.f)(Ue,Xe,()=>Ue.error(ft),$e)))})}function e(Xe,$e=0){return(0,W.e)((it,Ue)=>{Ue.add(Xe.schedule(()=>it.subscribe(Ue),$e))})}var pe=M(2235),Ae=M(6691),ne=M(2602);function Se(Xe,$e){if(!Xe)throw new Error("Iterable cannot be null");return new pe.y(it=>{(0,X.f)(it,$e,()=>{const Ue=Xe[Symbol.asyncIterator]();(0,X.f)(it,$e,()=>{Ue.next().then(ft=>{ft.done?it.complete():it.next(ft.value)})},0,!0)})})}var He=M(7808),K=M(3972),be=M(1287),Ye=M(9449),pt=M(5235),Rt=M(2614),Te=M(401);function ut(Xe,$e){return $e?function fe(Xe,$e){if(null!=Xe){if((0,He.c)(Xe))return function Q(Xe,$e){return(0,g.Xf)(Xe).pipe(e($e),J($e))}(Xe,$e);if((0,be.z)(Xe))return function ge(Xe,$e){return new pe.y(it=>{let Ue=0;return $e.schedule(function(){Ue===Xe.length?it.complete():(it.next(Xe[Ue++]),it.closed||this.schedule())})})}(Xe,$e);if((0,K.t)(Xe))return function Le(Xe,$e){return(0,g.Xf)(Xe).pipe(e($e),J($e))}(Xe,$e);if((0,pt.D)(Xe))return Se(Xe,$e);if((0,Ye.T)(Xe))return function De(Xe,$e){return new pe.y(it=>{let Ue;return(0,X.f)(it,$e,()=>{Ue=Xe[Ae.h](),(0,X.f)(it,$e,()=>{let ft,Je;try{({value:ft,done:Je}=Ue.next())}catch(Ft){return void it.error(Ft)}Je?it.complete():it.next(ft)},0,!0)}),()=>(0,ne.m)(Ue?.return)&&Ue.return()})}(Xe,$e);if((0,Te.L)(Xe))return function Ie(Xe,$e){return Se((0,Te.Q)(Xe),$e)}(Xe,$e)}throw(0,Rt.z)(Xe)}(Xe,$e):(0,g.Xf)(Xe)}},384:(Ot,ke,M)=>{"use strict";M.d(ke,{Xf:()=>De});var g=M(2321),X=M(1287),W=M(3972),ce=M(2235),J=M(7808),e=M(5235),Q=M(2614),Le=M(9449),pe=M(401),ge=M(2602),Ae=M(6929),ne=M(4373);function De(Te){if(Te instanceof ce.y)return Te;if(null!=Te){if((0,J.c)(Te))return function Se(Te){return new ce.y(Ie=>{const fe=Te[ne.L]();if((0,ge.m)(fe.subscribe))return fe.subscribe(Ie);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Te);if((0,X.z)(Te))return function He(Te){return new ce.y(Ie=>{for(let fe=0;fe<Te.length&&!Ie.closed;fe++)Ie.next(Te[fe]);Ie.complete()})}(Te);if((0,W.t)(Te))return function K(Te){return new ce.y(Ie=>{Te.then(fe=>{Ie.closed||(Ie.next(fe),Ie.complete())},fe=>Ie.error(fe)).then(null,Ae.h)})}(Te);if((0,e.D)(Te))return Ye(Te);if((0,Le.T)(Te))return function be(Te){return new ce.y(Ie=>{for(const fe of Te)if(Ie.next(fe),Ie.closed)return;Ie.complete()})}(Te);if((0,pe.L)(Te))return function pt(Te){return Ye((0,pe.Q)(Te))}(Te)}throw(0,Q.z)(Te)}function Ye(Te){return new ce.y(Ie=>{(function Rt(Te,Ie){var fe,ut,Xe,$e;return(0,g.mG)(this,void 0,void 0,function*(){try{for(fe=(0,g.KL)(Te);!(ut=yield fe.next()).done;)if(Ie.next(ut.value),Ie.closed)return}catch(it){Xe={error:it}}finally{try{ut&&!ut.done&&($e=fe.return)&&(yield $e.call(fe))}finally{if(Xe)throw Xe.error}}Ie.complete()})})(Te,Ie).catch(fe=>Ie.error(fe))})}},7835:(Ot,ke,M)=>{"use strict";M.d(ke,{T:()=>e});var g=M(7047),X=M(384),W=M(6290),ce=M(6190),J=M(4683);function e(...Q){const Le=(0,ce.yG)(Q),pe=(0,ce._6)(Q,1/0),ge=Q;return ge.length?1===ge.length?(0,X.Xf)(ge[0]):(0,g.J)(pe)((0,J.D)(ge,Le)):W.E}},4980:(Ot,ke,M)=>{"use strict";M.d(ke,{of:()=>W});var g=M(6190),X=M(4683);function W(...ce){const J=(0,g.yG)(ce);return(0,X.D)(ce,J)}},3252:(Ot,ke,M)=>{"use strict";M.d(ke,{_:()=>W});var g=M(2235),X=M(2602);function W(ce,J){const e=(0,X.m)(ce)?ce:()=>ce,Q=Le=>Le.error(e());return new g.y(J?Le=>J.schedule(Q,0,Le):Q)}},5678:(Ot,ke,M)=>{"use strict";M.d(ke,{x:()=>X});var g=M(6343);function X(ce,J,e,Q,Le){return new W(ce,J,e,Q,Le)}class W extends g.Lv{constructor(J,e,Q,Le,pe,ge){super(J),this.onFinalize=pe,this.shouldUnsubscribe=ge,this._next=e?function(Ae){try{e(Ae)}catch(ne){J.error(ne)}}:super._next,this._error=Le?function(Ae){try{Le(Ae)}catch(ne){J.error(ne)}finally{this.unsubscribe()}}:super._error,this._complete=Q?function(){try{Q()}catch(Ae){J.error(Ae)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var J;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(J=this.onFinalize)||void 0===J||J.call(this))}}}},2389:(Ot,ke,M)=>{"use strict";M.d(ke,{K:()=>ce});var g=M(384),X=M(5678),W=M(4114);function ce(J){return(0,W.e)((e,Q)=>{let ge,Le=null,pe=!1;Le=e.subscribe((0,X.x)(Q,void 0,void 0,Ae=>{ge=(0,g.Xf)(J(Ae,ce(J)(e))),Le?(Le.unsubscribe(),Le=null,ge.subscribe(Q)):pe=!0})),pe&&(Le.unsubscribe(),Le=null,ge.subscribe(Q))})}},5616:(Ot,ke,M)=>{"use strict";M.d(ke,{b:()=>W});var g=M(9912),X=M(2602);function W(ce,J){return(0,X.m)(J)?(0,g.z)(ce,J,1):(0,g.z)(ce,1)}},655:(Ot,ke,M)=>{"use strict";M.d(ke,{b:()=>ce});var g=M(1826),X=M(4114),W=M(5678);function ce(J,e=g.z){return(0,X.e)((Q,Le)=>{let pe=null,ge=null,Ae=null;const ne=()=>{if(pe){pe.unsubscribe(),pe=null;const Se=ge;ge=null,Le.next(Se)}};function De(){const Se=Ae+J,He=e.now();if(He<Se)return pe=this.schedule(void 0,Se-He),void Le.add(pe);ne()}Q.subscribe((0,W.x)(Le,Se=>{ge=Se,Ae=e.now(),pe||(pe=e.schedule(De,J),Le.add(pe))},()=>{ne(),Le.complete()},void 0,()=>{ge=pe=null}))})}},728:(Ot,ke,M)=>{"use strict";M.d(ke,{d:()=>W});var g=M(4114),X=M(5678);function W(ce){return(0,g.e)((J,e)=>{let Q=!1;J.subscribe((0,X.x)(e,Le=>{Q=!0,e.next(Le)},()=>{Q||e.next(ce),e.complete()}))})}},3317:(Ot,ke,M)=>{"use strict";M.d(ke,{x:()=>ce});var g=M(204),X=M(4114),W=M(5678);function ce(e,Q=g.y){return e=e??J,(0,X.e)((Le,pe)=>{let ge,Ae=!0;Le.subscribe((0,W.x)(pe,ne=>{const De=Q(ne);(Ae||!e(ge,De))&&(Ae=!1,ge=De,pe.next(ne))}))})}function J(e,Q){return e===Q}},4520:(Ot,ke,M)=>{"use strict";M.d(ke,{h:()=>W});var g=M(4114),X=M(5678);function W(ce,J){return(0,g.e)((e,Q)=>{let Le=0;e.subscribe((0,X.x)(Q,pe=>ce.call(J,pe,Le++)&&Q.next(pe)))})}},7474:(Ot,ke,M)=>{"use strict";M.d(ke,{x:()=>X});var g=M(4114);function X(W){return(0,g.e)((ce,J)=>{try{ce.subscribe(J)}finally{J.add(W)}})}},5267:(Ot,ke,M)=>{"use strict";M.d(ke,{P:()=>Q});var g=M(1967),X=M(4520),W=M(1527),ce=M(728),J=M(3614),e=M(204);function Q(Le,pe){const ge=arguments.length>=2;return Ae=>Ae.pipe(Le?(0,X.h)((ne,De)=>Le(ne,De,Ae)):e.y,(0,W.q)(1),ge?(0,ce.d)(pe):(0,J.T)(()=>new g.K))}},9736:(Ot,ke,M)=>{"use strict";M.d(ke,{U:()=>W});var g=M(4114),X=M(5678);function W(ce,J){return(0,g.e)((e,Q)=>{let Le=0;e.subscribe((0,X.x)(Q,pe=>{Q.next(ce.call(J,pe,Le++))}))})}},8037:(Ot,ke,M)=>{"use strict";M.d(ke,{h:()=>X});var g=M(9736);function X(W){return(0,g.U)(()=>W)}},7047:(Ot,ke,M)=>{"use strict";M.d(ke,{J:()=>W});var g=M(9912),X=M(204);function W(ce=1/0){return(0,g.z)(X.y,ce)}},9912:(Ot,ke,M)=>{"use strict";M.d(ke,{z:()=>Le});var g=M(9736),X=M(384),W=M(4114),ce=M(9701),J=M(5678),Q=M(2602);function Le(pe,ge,Ae=1/0){return(0,Q.m)(ge)?Le((ne,De)=>(0,g.U)((Se,He)=>ge(ne,Se,De,He))((0,X.Xf)(pe(ne,De))),Ae):("number"==typeof ge&&(Ae=ge),(0,W.e)((ne,De)=>function e(pe,ge,Ae,ne,De,Se,He,K){const be=[];let Ye=0,pt=0,Rt=!1;const Te=()=>{Rt&&!be.length&&!Ye&&ge.complete()},Ie=ut=>Ye<ne?fe(ut):be.push(ut),fe=ut=>{Se&&ge.next(ut),Ye++;let Xe=!1;(0,X.Xf)(Ae(ut,pt++)).subscribe((0,J.x)(ge,$e=>{De?.($e),Se?Ie($e):ge.next($e)},()=>{Xe=!0},void 0,()=>{if(Xe)try{for(Ye--;be.length&&Ye<ne;){const $e=be.shift();He?(0,ce.f)(ge,He,()=>fe($e)):fe($e)}Te()}catch($e){ge.error($e)}}))};return pe.subscribe((0,J.x)(ge,Ie,()=>{Rt=!0,Te()})),()=>{K?.()}}(ne,De,pe,Ae)))}},5584:(Ot,ke,M)=>{"use strict";M.d(ke,{B:()=>J});var g=M(384),X=M(9877),W=M(6343),ce=M(4114);function J(Q={}){const{connector:Le=(()=>new X.x),resetOnError:pe=!0,resetOnComplete:ge=!0,resetOnRefCountZero:Ae=!0}=Q;return ne=>{let De,Se,He,K=0,be=!1,Ye=!1;const pt=()=>{Se?.unsubscribe(),Se=void 0},Rt=()=>{pt(),De=He=void 0,be=Ye=!1},Te=()=>{const Ie=De;Rt(),Ie?.unsubscribe()};return(0,ce.e)((Ie,fe)=>{K++,!Ye&&!be&&pt();const ut=He=He??Le();fe.add(()=>{K--,0===K&&!Ye&&!be&&(Se=e(Te,Ae))}),ut.subscribe(fe),!De&&K>0&&(De=new W.Hp({next:Xe=>ut.next(Xe),error:Xe=>{Ye=!0,pt(),Se=e(Rt,pe,Xe),ut.error(Xe)},complete:()=>{be=!0,pt(),Se=e(Rt,ge),ut.complete()}}),(0,g.Xf)(Ie).subscribe(De))})(ne)}}function e(Q,Le,...pe){if(!0===Le)return void Q();if(!1===Le)return;const ge=new W.Hp({next:()=>{ge.unsubscribe(),Q()}});return Le(...pe).subscribe(ge)}},5357:(Ot,ke,M)=>{"use strict";M.d(ke,{T:()=>X});var g=M(4520);function X(W){return(0,g.h)((ce,J)=>W<=J)}},5043:(Ot,ke,M)=>{"use strict";M.d(ke,{O:()=>ce});var g=M(5823),X=M(6190),W=M(4114);function ce(...J){const e=(0,X.yG)(J);return(0,W.e)((Q,Le)=>{(e?(0,g.z)(J,Q,e):(0,g.z)(J,Q)).subscribe(Le)})}},1891:(Ot,ke,M)=>{"use strict";M.d(ke,{w:()=>ce});var g=M(384),X=M(4114),W=M(5678);function ce(J,e){return(0,X.e)((Q,Le)=>{let pe=null,ge=0,Ae=!1;const ne=()=>Ae&&!pe&&Le.complete();Q.subscribe((0,W.x)(Le,De=>{pe?.unsubscribe();let Se=0;const He=ge++;(0,g.Xf)(J(De,He)).subscribe(pe=(0,W.x)(Le,K=>Le.next(e?e(De,K,He,Se++):K),()=>{pe=null,ne()}))},()=>{Ae=!0,ne()}))})}},1527:(Ot,ke,M)=>{"use strict";M.d(ke,{q:()=>ce});var g=M(6290),X=M(4114),W=M(5678);function ce(J){return J<=0?()=>g.E:(0,X.e)((e,Q)=>{let Le=0;e.subscribe((0,W.x)(Q,pe=>{++Le<=J&&(Q.next(pe),J<=Le&&Q.complete())}))})}},274:(Ot,ke,M)=>{"use strict";M.d(ke,{R:()=>J});var g=M(4114),X=M(5678),W=M(384),ce=M(2707);function J(e){return(0,g.e)((Q,Le)=>{(0,W.Xf)(e).subscribe((0,X.x)(Le,()=>Le.complete(),ce.Z)),!Le.closed&&Q.subscribe(Le)})}},3738:(Ot,ke,M)=>{"use strict";M.d(ke,{b:()=>J});var g=M(2602),X=M(4114),W=M(5678),ce=M(204);function J(e,Q,Le){const pe=(0,g.m)(e)||Q||Le?{next:e,error:Q,complete:Le}:e;return pe?(0,X.e)((ge,Ae)=>{var ne;null===(ne=pe.subscribe)||void 0===ne||ne.call(pe);let De=!0;ge.subscribe((0,W.x)(Ae,Se=>{var He;null===(He=pe.next)||void 0===He||He.call(pe,Se),Ae.next(Se)},()=>{var Se;De=!1,null===(Se=pe.complete)||void 0===Se||Se.call(pe),Ae.complete()},Se=>{var He;De=!1,null===(He=pe.error)||void 0===He||He.call(pe,Se),Ae.error(Se)},()=>{var Se,He;De&&(null===(Se=pe.unsubscribe)||void 0===Se||Se.call(pe)),null===(He=pe.finalize)||void 0===He||He.call(pe)}))}):ce.y}},3614:(Ot,ke,M)=>{"use strict";M.d(ke,{T:()=>ce});var g=M(1967),X=M(4114),W=M(5678);function ce(e=J){return(0,X.e)((Q,Le)=>{let pe=!1;Q.subscribe((0,W.x)(Le,ge=>{pe=!0,Le.next(ge)},()=>pe?Le.complete():Le.error(e())))})}function J(){return new g.K}},1826:(Ot,ke,M)=>{"use strict";M.d(ke,{P:()=>ge,z:()=>pe});var g=M(6482);class X extends g.w0{constructor(ne,De){super()}schedule(ne,De=0){return this}}const W={setInterval(Ae,ne,...De){const{delegate:Se}=W;return Se?.setInterval?Se.setInterval(Ae,ne,...De):setInterval(Ae,ne,...De)},clearInterval(Ae){const{delegate:ne}=W;return(ne?.clearInterval||clearInterval)(Ae)},delegate:void 0};var ce=M(5559),e=M(6926);class Q{constructor(ne,De=Q.now){this.schedulerActionCtor=ne,this.now=De}schedule(ne,De=0,Se){return new this.schedulerActionCtor(this,ne).schedule(Se,De)}}Q.now=e.l.now;const pe=new class Le extends Q{constructor(ne,De=Q.now){super(ne,De),this.actions=[],this._active=!1}flush(ne){const{actions:De}=this;if(this._active)return void De.push(ne);let Se;this._active=!0;do{if(Se=ne.execute(ne.state,ne.delay))break}while(ne=De.shift());if(this._active=!1,Se){for(;ne=De.shift();)ne.unsubscribe();throw Se}}}(class J extends X{constructor(ne,De){super(ne,De),this.scheduler=ne,this.work=De,this.pending=!1}schedule(ne,De=0){var Se;if(this.closed)return this;this.state=ne;const He=this.id,K=this.scheduler;return null!=He&&(this.id=this.recycleAsyncId(K,He,De)),this.pending=!0,this.delay=De,this.id=null!==(Se=this.id)&&void 0!==Se?Se:this.requestAsyncId(K,this.id,De),this}requestAsyncId(ne,De,Se=0){return W.setInterval(ne.flush.bind(ne,this),Se)}recycleAsyncId(ne,De,Se=0){if(null!=Se&&this.delay===Se&&!1===this.pending)return De;null!=De&&W.clearInterval(De)}execute(ne,De){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Se=this._execute(ne,De);if(Se)return Se;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ne,De){let He,Se=!1;try{this.work(ne)}catch(K){Se=!0,He=K||new Error("Scheduled action threw falsy error")}if(Se)return this.unsubscribe(),He}unsubscribe(){if(!this.closed){const{id:ne,scheduler:De}=this,{actions:Se}=De;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ce.P)(Se,this),null!=ne&&(this.id=this.recycleAsyncId(De,ne,null)),this.delay=null,super.unsubscribe()}}}),ge=pe},6926:(Ot,ke,M)=>{"use strict";M.d(ke,{l:()=>g});const g={now:()=>(g.delegate||Date).now(),delegate:void 0}},8411:(Ot,ke,M)=>{"use strict";M.d(ke,{z:()=>g});const g={setTimeout(X,W,...ce){const{delegate:J}=g;return J?.setTimeout?J.setTimeout(X,W,...ce):setTimeout(X,W,...ce)},clearTimeout(X){const{delegate:W}=g;return(W?.clearTimeout||clearTimeout)(X)},delegate:void 0}},6691:(Ot,ke,M)=>{"use strict";M.d(ke,{h:()=>X});const X=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4373:(Ot,ke,M)=>{"use strict";M.d(ke,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},1967:(Ot,ke,M)=>{"use strict";M.d(ke,{K:()=>X});const X=(0,M(1566).d)(W=>function(){W(this),this.name="EmptyError",this.message="no elements in sequence"})},6190:(Ot,ke,M)=>{"use strict";M.d(ke,{_6:()=>e,jO:()=>ce,yG:()=>J});var g=M(2602),X=M(7426);function W(Q){return Q[Q.length-1]}function ce(Q){return(0,g.m)(W(Q))?Q.pop():void 0}function J(Q){return(0,X.K)(W(Q))?Q.pop():void 0}function e(Q,Le){return"number"==typeof W(Q)?Q.pop():Le}},7346:(Ot,ke,M)=>{"use strict";M.d(ke,{D:()=>J});const{isArray:g}=Array,{getPrototypeOf:X,prototype:W,keys:ce}=Object;function J(Q){if(1===Q.length){const Le=Q[0];if(g(Le))return{args:Le,keys:null};if(function e(Q){return Q&&"object"==typeof Q&&X(Q)===W}(Le)){const pe=ce(Le);return{args:pe.map(ge=>Le[ge]),keys:pe}}}return{args:Q,keys:null}}},5559:(Ot,ke,M)=>{"use strict";function g(X,W){if(X){const ce=X.indexOf(W);0<=ce&&X.splice(ce,1)}}M.d(ke,{P:()=>g})},1566:(Ot,ke,M)=>{"use strict";function g(X){const ce=X(J=>{Error.call(J),J.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}M.d(ke,{d:()=>g})},6118:(Ot,ke,M)=>{"use strict";function g(X,W){return X.reduce((ce,J,e)=>(ce[J]=W[e],ce),{})}M.d(ke,{n:()=>g})},575:(Ot,ke,M)=>{"use strict";M.d(ke,{O:()=>ce,x:()=>W});var g=M(5445);let X=null;function W(J){if(g.config.useDeprecatedSynchronousErrorHandling){const e=!X;if(e&&(X={errorThrown:!1,error:null}),J(),e){const{errorThrown:Q,error:Le}=X;if(X=null,Q)throw Le}}else J()}function ce(J){g.config.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=J)}},9701:(Ot,ke,M)=>{"use strict";function g(X,W,ce,J=0,e=!1){const Q=W.schedule(function(){ce(),e?X.add(this.schedule(null,J)):this.unsubscribe()},J);if(X.add(Q),!e)return Q}M.d(ke,{f:()=>g})},204:(Ot,ke,M)=>{"use strict";function g(X){return X}M.d(ke,{y:()=>g})},1287:(Ot,ke,M)=>{"use strict";M.d(ke,{z:()=>g});const g=X=>X&&"number"==typeof X.length&&"function"!=typeof X},5235:(Ot,ke,M)=>{"use strict";M.d(ke,{D:()=>X});var g=M(2602);function X(W){return Symbol.asyncIterator&&(0,g.m)(W?.[Symbol.asyncIterator])}},2602:(Ot,ke,M)=>{"use strict";function g(X){return"function"==typeof X}M.d(ke,{m:()=>g})},7808:(Ot,ke,M)=>{"use strict";M.d(ke,{c:()=>W});var g=M(4373),X=M(2602);function W(ce){return(0,X.m)(ce[g.L])}},9449:(Ot,ke,M)=>{"use strict";M.d(ke,{T:()=>W});var g=M(6691),X=M(2602);function W(ce){return(0,X.m)(ce?.[g.h])}},3972:(Ot,ke,M)=>{"use strict";M.d(ke,{t:()=>X});var g=M(2602);function X(W){return(0,g.m)(W?.then)}},401:(Ot,ke,M)=>{"use strict";M.d(ke,{L:()=>ce,Q:()=>W});var g=M(2321),X=M(2602);function W(J){return(0,g.FC)(this,arguments,function*(){const Q=J.getReader();try{for(;;){const{value:Le,done:pe}=yield(0,g.qq)(Q.read());if(pe)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(Le)}}finally{Q.releaseLock()}})}function ce(J){return(0,X.m)(J?.getReader)}},7426:(Ot,ke,M)=>{"use strict";M.d(ke,{K:()=>X});var g=M(2602);function X(W){return W&&(0,g.m)(W.schedule)}},4114:(Ot,ke,M)=>{"use strict";M.d(ke,{A:()=>X,e:()=>W});var g=M(2602);function X(ce){return(0,g.m)(ce?.lift)}function W(ce){return J=>{if(X(J))return J.lift(function(e){try{return ce(e,this)}catch(Q){this.error(Q)}});throw new TypeError("Unable to lift unknown Observable type")}}},7825:(Ot,ke,M)=>{"use strict";M.d(ke,{Z:()=>ce});var g=M(9736);const{isArray:X}=Array;function ce(J){return(0,g.U)(e=>function W(J,e){return X(e)?J(...e):J(e)}(J,e))}},2707:(Ot,ke,M)=>{"use strict";function g(){}M.d(ke,{Z:()=>g})},2476:(Ot,ke,M)=>{"use strict";M.d(ke,{U:()=>W,z:()=>X});var g=M(204);function X(...ce){return W(ce)}function W(ce){return 0===ce.length?g.y:1===ce.length?ce[0]:function(e){return ce.reduce((Q,Le)=>Le(Q),e)}}},6929:(Ot,ke,M)=>{"use strict";M.d(ke,{h:()=>W});var g=M(5445),X=M(8411);function W(ce){X.z.setTimeout(()=>{const{onUnhandledError:J}=g.config;if(!J)throw ce;J(ce)})}},2614:(Ot,ke,M)=>{"use strict";function g(X){return new TypeError(`You provided ${null!==X&&"object"==typeof X?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}M.d(ke,{z:()=>g})},3344:(Ot,ke,M)=>{"use strict";M.d(ke,{Eq:()=>J,Ig:()=>X,fI:()=>Q});var g=M(1699);function X(pe){return null!=pe&&"false"!=`${pe}`}function J(pe){return Array.isArray(pe)?pe:[pe]}function Q(pe){return pe instanceof g.SBq?pe.nativeElement:pe}},1134:(Ot,ke,M)=>{"use strict";M.d(ke,{Yg:()=>Rt,xu:()=>Se});var g=M(1699),X=M(3344),W=M(9877),ce=M(3839),J=M(5823),e=M(2235),Q=M(1527),Le=M(5357),pe=M(655),ge=M(9736),Ae=M(5043),ne=M(274),De=M(6744);let Se=(()=>{class fe{}return fe.\u0275fac=function(Xe){return new(Xe||fe)},fe.\u0275mod=g.oAB({type:fe}),fe.\u0275inj=g.cJS({}),fe})();const He=new Set;let K,be=(()=>{class fe{constructor(Xe){this._platform=Xe,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):pt}matchMedia(Xe){return(this._platform.WEBKIT||this._platform.BLINK)&&function Ye(fe){if(!He.has(fe))try{K||(K=document.createElement("style"),K.setAttribute("type","text/css"),document.head.appendChild(K)),K.sheet&&(K.sheet.insertRule(`@media ${fe} {body{ }}`,0),He.add(fe))}catch(ut){console.error(ut)}}(Xe),this._matchMedia(Xe)}}return fe.\u0275fac=function(Xe){return new(Xe||fe)(g.LFG(De.t4))},fe.\u0275prov=g.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})();function pt(fe){return{matches:"all"===fe||""===fe,media:fe,addListener:()=>{},removeListener:()=>{}}}let Rt=(()=>{class fe{constructor(Xe,$e){this._mediaMatcher=Xe,this._zone=$e,this._queries=new Map,this._destroySubject=new W.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(Xe){return Te((0,X.Eq)(Xe)).some(it=>this._registerQuery(it).mql.matches)}observe(Xe){const it=Te((0,X.Eq)(Xe)).map(ft=>this._registerQuery(ft).observable);let Ue=(0,ce.a)(it);return Ue=(0,J.z)(Ue.pipe((0,Q.q)(1)),Ue.pipe((0,Le.T)(1),(0,pe.b)(0))),Ue.pipe((0,ge.U)(ft=>{const Je={matches:!1,breakpoints:{}};return ft.forEach(({matches:Ft,query:rt})=>{Je.matches=Je.matches||Ft,Je.breakpoints[rt]=Ft}),Je}))}_registerQuery(Xe){if(this._queries.has(Xe))return this._queries.get(Xe);const $e=this._mediaMatcher.matchMedia(Xe),Ue={observable:new e.y(ft=>{const Je=Ft=>this._zone.run(()=>ft.next(Ft));return $e.addListener(Je),()=>{$e.removeListener(Je)}}).pipe((0,Ae.O)($e),(0,ge.U)(({matches:ft})=>({query:Xe,matches:ft})),(0,ne.R)(this._destroySubject)),mql:$e};return this._queries.set(Xe,Ue),Ue}}return fe.\u0275fac=function(Xe){return new(Xe||fe)(g.LFG(be),g.LFG(g.R0b))},fe.\u0275prov=g.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})();function Te(fe){return fe.map(ut=>ut.split(",")).reduce((ut,Xe)=>ut.concat(Xe)).map(ut=>ut.trim())}},6744:(Ot,ke,M)=>{"use strict";M.d(ke,{Oy:()=>Te,i$:()=>Ae,sA:()=>Rt,t4:()=>ce});var g=M(1699),X=M(6575);let W;try{W=typeof Intl<"u"&&Intl.v8BreakIterator}catch{W=!1}let pe,ce=(()=>{class Ie{constructor(ut){this._platformId=ut,this.isBrowser=this._platformId?(0,X.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!W)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return Ie.\u0275fac=function(ut){return new(ut||Ie)(g.LFG(g.Lbi))},Ie.\u0275prov=g.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie})();function Ae(Ie){return function ge(){if(null==pe&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>pe=!0}))}finally{pe=pe||!1}return pe}()?Ie:!!Ie.capture}function Rt(Ie){return Ie.composedPath?Ie.composedPath()[0]:Ie.target}function Te(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},6575:(Ot,ke,M)=>{"use strict";M.d(ke,{Do:()=>K,ED:()=>Ki,EM:()=>vo,HT:()=>ce,JF:()=>Oo,K0:()=>e,Mn:()=>rt,Mx:()=>Zn,NF:()=>Qi,O5:()=>Vi,PM:()=>ho,RF:()=>to,S$:()=>De,Tn:()=>$e,UT:()=>dt,V_:()=>Le,Ye:()=>be,ax:()=>_n,b0:()=>He,bD:()=>uo,ez:()=>ci,i8:()=>Hr,n9:()=>Go,p6:()=>$n,q:()=>W,sg:()=>_n,tP:()=>no,w_:()=>J,x:()=>Xe});var g=M(1699);let X=null;function W(){return X}function ce(b){X||(X=b)}class J{}const e=new g.OlP("DocumentToken");let Q=(()=>{class b{historyGo(I){throw new Error("Not implemented")}static#e=this.\u0275fac=function(F){return new(F||b)};static#t=this.\u0275prov=g.Yz7({token:b,factory:function(){return(0,g.f3M)(pe)},providedIn:"platform"})}return b})();const Le=new g.OlP("Location Initialized");let pe=(()=>{class b extends Q{constructor(){super(),this._doc=(0,g.f3M)(e),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return W().getBaseHref(this._doc)}onPopState(I){const F=W().getGlobalEventTarget(this._doc,"window");return F.addEventListener("popstate",I,!1),()=>F.removeEventListener("popstate",I)}onHashChange(I){const F=W().getGlobalEventTarget(this._doc,"window");return F.addEventListener("hashchange",I,!1),()=>F.removeEventListener("hashchange",I)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(I){this._location.pathname=I}pushState(I,F,re){this._history.pushState(I,F,re)}replaceState(I,F,re){this._history.replaceState(I,F,re)}forward(){this._history.forward()}back(){this._history.back()}historyGo(I=0){this._history.go(I)}getState(){return this._history.state}static#e=this.\u0275fac=function(F){return new(F||b)};static#t=this.\u0275prov=g.Yz7({token:b,factory:function(){return new b},providedIn:"platform"})}return b})();function ge(b,j){if(0==b.length)return j;if(0==j.length)return b;let I=0;return b.endsWith("/")&&I++,j.startsWith("/")&&I++,2==I?b+j.substring(1):1==I?b+j:b+"/"+j}function Ae(b){const j=b.match(/#|\?|$/),I=j&&j.index||b.length;return b.slice(0,I-("/"===b[I-1]?1:0))+b.slice(I)}function ne(b){return b&&"?"!==b[0]?"?"+b:b}let De=(()=>{class b{historyGo(I){throw new Error("Not implemented")}static#e=this.\u0275fac=function(F){return new(F||b)};static#t=this.\u0275prov=g.Yz7({token:b,factory:function(){return(0,g.f3M)(He)},providedIn:"root"})}return b})();const Se=new g.OlP("appBaseHref");let He=(()=>{class b extends De{constructor(I,F){super(),this._platformLocation=I,this._removeListenerFns=[],this._baseHref=F??this._platformLocation.getBaseHrefFromDOM()??(0,g.f3M)(e).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(I){this._removeListenerFns.push(this._platformLocation.onPopState(I),this._platformLocation.onHashChange(I))}getBaseHref(){return this._baseHref}prepareExternalUrl(I){return ge(this._baseHref,I)}path(I=!1){const F=this._platformLocation.pathname+ne(this._platformLocation.search),re=this._platformLocation.hash;return re&&I?`${F}${re}`:F}pushState(I,F,re,We){const gt=this.prepareExternalUrl(re+ne(We));this._platformLocation.pushState(I,F,gt)}replaceState(I,F,re,We){const gt=this.prepareExternalUrl(re+ne(We));this._platformLocation.replaceState(I,F,gt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(I=0){this._platformLocation.historyGo?.(I)}static#e=this.\u0275fac=function(F){return new(F||b)(g.LFG(Q),g.LFG(Se,8))};static#t=this.\u0275prov=g.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})(),K=(()=>{class b extends De{constructor(I,F){super(),this._platformLocation=I,this._baseHref="",this._removeListenerFns=[],null!=F&&(this._baseHref=F)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(I){this._removeListenerFns.push(this._platformLocation.onPopState(I),this._platformLocation.onHashChange(I))}getBaseHref(){return this._baseHref}path(I=!1){let F=this._platformLocation.hash;return null==F&&(F="#"),F.length>0?F.substring(1):F}prepareExternalUrl(I){const F=ge(this._baseHref,I);return F.length>0?"#"+F:F}pushState(I,F,re,We){let gt=this.prepareExternalUrl(re+ne(We));0==gt.length&&(gt=this._platformLocation.pathname),this._platformLocation.pushState(I,F,gt)}replaceState(I,F,re,We){let gt=this.prepareExternalUrl(re+ne(We));0==gt.length&&(gt=this._platformLocation.pathname),this._platformLocation.replaceState(I,F,gt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(I=0){this._platformLocation.historyGo?.(I)}static#e=this.\u0275fac=function(F){return new(F||b)(g.LFG(Q),g.LFG(Se,8))};static#t=this.\u0275prov=g.Yz7({token:b,factory:b.\u0275fac})}return b})(),be=(()=>{class b{constructor(I){this._subject=new g.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=I;const F=this._locationStrategy.getBaseHref();this._basePath=function Te(b){if(new RegExp("^(https?:)?//").test(b)){const[,I]=b.split(/\/\/[^\/]+/);return I}return b}(Ae(Rt(F))),this._locationStrategy.onPopState(re=>{this._subject.emit({url:this.path(!0),pop:!0,state:re.state,type:re.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(I=!1){return this.normalize(this._locationStrategy.path(I))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(I,F=""){return this.path()==this.normalize(I+ne(F))}normalize(I){return b.stripTrailingSlash(function pt(b,j){if(!b||!j.startsWith(b))return j;const I=j.substring(b.length);return""===I||["/",";","?","#"].includes(I[0])?I:j}(this._basePath,Rt(I)))}prepareExternalUrl(I){return I&&"/"!==I[0]&&(I="/"+I),this._locationStrategy.prepareExternalUrl(I)}go(I,F="",re=null){this._locationStrategy.pushState(re,"",I,F),this._notifyUrlChangeListeners(this.prepareExternalUrl(I+ne(F)),re)}replaceState(I,F="",re=null){this._locationStrategy.replaceState(re,"",I,F),this._notifyUrlChangeListeners(this.prepareExternalUrl(I+ne(F)),re)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(I=0){this._locationStrategy.historyGo?.(I)}onUrlChange(I){return this._urlChangeListeners.push(I),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(F=>{this._notifyUrlChangeListeners(F.url,F.state)})),()=>{const F=this._urlChangeListeners.indexOf(I);this._urlChangeListeners.splice(F,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(I="",F){this._urlChangeListeners.forEach(re=>re(I,F))}subscribe(I,F,re){return this._subject.subscribe({next:I,error:F,complete:re})}static#e=this.normalizeQueryParams=ne;static#t=this.joinWithSlash=ge;static#n=this.stripTrailingSlash=Ae;static#i=this.\u0275fac=function(F){return new(F||b)(g.LFG(De))};static#o=this.\u0275prov=g.Yz7({token:b,factory:function(){return function Ye(){return new be((0,g.LFG)(De))}()},providedIn:"root"})}return b})();function Rt(b){return b.replace(/\/index.html$/,"")}var Xe=function(b){return b[b.Format=0]="Format",b[b.Standalone=1]="Standalone",b}(Xe||{}),$e=function(b){return b[b.Narrow=0]="Narrow",b[b.Abbreviated=1]="Abbreviated",b[b.Wide=2]="Wide",b[b.Short=3]="Short",b}($e||{}),it=function(b){return b[b.Short=0]="Short",b[b.Medium=1]="Medium",b[b.Long=2]="Long",b[b.Full=3]="Full",b}(it||{}),Ue=function(b){return b[b.Decimal=0]="Decimal",b[b.Group=1]="Group",b[b.List=2]="List",b[b.PercentSign=3]="PercentSign",b[b.PlusSign=4]="PlusSign",b[b.MinusSign=5]="MinusSign",b[b.Exponential=6]="Exponential",b[b.SuperscriptingExponent=7]="SuperscriptingExponent",b[b.PerMille=8]="PerMille",b[b.Infinity=9]="Infinity",b[b.NaN=10]="NaN",b[b.TimeSeparator=11]="TimeSeparator",b[b.CurrencyDecimal=12]="CurrencyDecimal",b[b.CurrencyGroup=13]="CurrencyGroup",b}(Ue||{});function rt(b,j,I){const F=(0,g.cg1)(b),We=he([F[g.wAp.DaysFormat],F[g.wAp.DaysStandalone]],j);return he(We,I)}function dt(b,j,I){const F=(0,g.cg1)(b),We=he([F[g.wAp.MonthsFormat],F[g.wAp.MonthsStandalone]],j);return he(We,I)}function le(b,j){return he((0,g.cg1)(b)[g.wAp.DateFormat],j)}function we(b,j){return he((0,g.cg1)(b)[g.wAp.TimeFormat],j)}function ye(b,j){return he((0,g.cg1)(b)[g.wAp.DateTimeFormat],j)}function Me(b,j){const I=(0,g.cg1)(b),F=I[g.wAp.NumberSymbols][j];if(typeof F>"u"){if(j===Ue.CurrencyDecimal)return I[g.wAp.NumberSymbols][Ue.Decimal];if(j===Ue.CurrencyGroup)return I[g.wAp.NumberSymbols][Ue.Group]}return F}function Ht(b){if(!b[g.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${b[g.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function he(b,j){for(let I=j;I>-1;I--)if(typeof b[I]<"u")return b[I];throw new Error("Locale data API: locale data undefined")}function ve(b){const[j,I]=b.split(":");return{hours:+j,minutes:+I}}const xt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,bn={},on=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var kt=function(b){return b[b.Short=0]="Short",b[b.ShortGMT=1]="ShortGMT",b[b.Long=2]="Long",b[b.Extended=3]="Extended",b}(kt||{}),Tt=function(b){return b[b.FullYear=0]="FullYear",b[b.Month=1]="Month",b[b.Date=2]="Date",b[b.Hours=3]="Hours",b[b.Minutes=4]="Minutes",b[b.Seconds=5]="Seconds",b[b.FractionalSeconds=6]="FractionalSeconds",b[b.Day=7]="Day",b}(Tt||{}),St=function(b){return b[b.DayPeriods=0]="DayPeriods",b[b.Days=1]="Days",b[b.Months=2]="Months",b[b.Eras=3]="Eras",b}(St||{});function $n(b,j,I,F){let re=function at(b){if(se(b))return b;if("number"==typeof b&&!isNaN(b))return new Date(b);if("string"==typeof b){if(b=b.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(b)){const[re,We=1,gt=1]=b.split("-").map(Kt=>+Kt);return ri(re,We-1,gt)}const I=parseFloat(b);if(!isNaN(b-I))return new Date(I);let F;if(F=b.match(xt))return function Ve(b){const j=new Date(0);let I=0,F=0;const re=b[8]?j.setUTCFullYear:j.setFullYear,We=b[8]?j.setUTCHours:j.setHours;b[9]&&(I=Number(b[9]+b[10]),F=Number(b[9]+b[11])),re.call(j,Number(b[1]),Number(b[2])-1,Number(b[3]));const gt=Number(b[4]||0)-I,Kt=Number(b[5]||0)-F,Qn=Number(b[6]||0),si=Math.floor(1e3*parseFloat("0."+(b[7]||0)));return We.call(j,gt,Kt,Qn,si),j}(F)}const j=new Date(b);if(!se(j))throw new Error(`Unable to convert "${b}" into a date`);return j}(b);j=tn(I,j)||j;let Kt,gt=[];for(;j;){if(Kt=on.exec(j),!Kt){gt.push(j);break}{gt=gt.concat(Kt.slice(1));const On=gt.pop();if(!On)break;j=On}}let Qn=re.getTimezoneOffset();F&&(Qn=Zi(F,Qn),re=function $o(b,j,I){const F=I?-1:1,re=b.getTimezoneOffset();return function lo(b,j){return(b=new Date(b.getTime())).setMinutes(b.getMinutes()+j),b}(b,F*(Zi(j,re)-re))}(re,F,!0));let si="";return gt.forEach(On=>{const pn=function Ji(b){if(Si[b])return Si[b];let j;switch(b){case"G":case"GG":case"GGG":j=mn(St.Eras,$e.Abbreviated);break;case"GGGG":j=mn(St.Eras,$e.Wide);break;case"GGGGG":j=mn(St.Eras,$e.Narrow);break;case"y":j=hn(Tt.FullYear,1,0,!1,!0);break;case"yy":j=hn(Tt.FullYear,2,0,!0,!0);break;case"yyy":j=hn(Tt.FullYear,3,0,!1,!0);break;case"yyyy":j=hn(Tt.FullYear,4,0,!1,!0);break;case"Y":j=Jn(1);break;case"YY":j=Jn(2,!0);break;case"YYY":j=Jn(3);break;case"YYYY":j=Jn(4);break;case"M":case"L":j=hn(Tt.Month,1,1);break;case"MM":case"LL":j=hn(Tt.Month,2,1);break;case"MMM":j=mn(St.Months,$e.Abbreviated);break;case"MMMM":j=mn(St.Months,$e.Wide);break;case"MMMMM":j=mn(St.Months,$e.Narrow);break;case"LLL":j=mn(St.Months,$e.Abbreviated,Xe.Standalone);break;case"LLLL":j=mn(St.Months,$e.Wide,Xe.Standalone);break;case"LLLLL":j=mn(St.Months,$e.Narrow,Xe.Standalone);break;case"w":j=Dn(1);break;case"ww":j=Dn(2);break;case"W":j=Dn(1,!0);break;case"d":j=hn(Tt.Date,1);break;case"dd":j=hn(Tt.Date,2);break;case"c":case"cc":j=hn(Tt.Day,1);break;case"ccc":j=mn(St.Days,$e.Abbreviated,Xe.Standalone);break;case"cccc":j=mn(St.Days,$e.Wide,Xe.Standalone);break;case"ccccc":j=mn(St.Days,$e.Narrow,Xe.Standalone);break;case"cccccc":j=mn(St.Days,$e.Short,Xe.Standalone);break;case"E":case"EE":case"EEE":j=mn(St.Days,$e.Abbreviated);break;case"EEEE":j=mn(St.Days,$e.Wide);break;case"EEEEE":j=mn(St.Days,$e.Narrow);break;case"EEEEEE":j=mn(St.Days,$e.Short);break;case"a":case"aa":case"aaa":j=mn(St.DayPeriods,$e.Abbreviated);break;case"aaaa":j=mn(St.DayPeriods,$e.Wide);break;case"aaaaa":j=mn(St.DayPeriods,$e.Narrow);break;case"b":case"bb":case"bbb":j=mn(St.DayPeriods,$e.Abbreviated,Xe.Standalone,!0);break;case"bbbb":j=mn(St.DayPeriods,$e.Wide,Xe.Standalone,!0);break;case"bbbbb":j=mn(St.DayPeriods,$e.Narrow,Xe.Standalone,!0);break;case"B":case"BB":case"BBB":j=mn(St.DayPeriods,$e.Abbreviated,Xe.Format,!0);break;case"BBBB":j=mn(St.DayPeriods,$e.Wide,Xe.Format,!0);break;case"BBBBB":j=mn(St.DayPeriods,$e.Narrow,Xe.Format,!0);break;case"h":j=hn(Tt.Hours,1,-12);break;case"hh":j=hn(Tt.Hours,2,-12);break;case"H":j=hn(Tt.Hours,1);break;case"HH":j=hn(Tt.Hours,2);break;case"m":j=hn(Tt.Minutes,1);break;case"mm":j=hn(Tt.Minutes,2);break;case"s":j=hn(Tt.Seconds,1);break;case"ss":j=hn(Tt.Seconds,2);break;case"S":j=hn(Tt.FractionalSeconds,1);break;case"SS":j=hn(Tt.FractionalSeconds,2);break;case"SSS":j=hn(Tt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":j=mi(kt.Short);break;case"ZZZZZ":j=mi(kt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":j=mi(kt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":j=mi(kt.Long);break;default:return null}return Si[b]=j,j}(On);si+=pn?pn(re,I,Qn):"''"===On?"'":On.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),si}function ri(b,j,I){const F=new Date(0);return F.setFullYear(b,j,I),F.setHours(0,0,0),F}function tn(b,j){const I=function Je(b){return(0,g.cg1)(b)[g.wAp.LocaleId]}(b);if(bn[I]=bn[I]||{},bn[I][j])return bn[I][j];let F="";switch(j){case"shortDate":F=le(b,it.Short);break;case"mediumDate":F=le(b,it.Medium);break;case"longDate":F=le(b,it.Long);break;case"fullDate":F=le(b,it.Full);break;case"shortTime":F=we(b,it.Short);break;case"mediumTime":F=we(b,it.Medium);break;case"longTime":F=we(b,it.Long);break;case"fullTime":F=we(b,it.Full);break;case"short":const re=tn(b,"shortTime"),We=tn(b,"shortDate");F=$t(ye(b,it.Short),[re,We]);break;case"medium":const gt=tn(b,"mediumTime"),Kt=tn(b,"mediumDate");F=$t(ye(b,it.Medium),[gt,Kt]);break;case"long":const Qn=tn(b,"longTime"),si=tn(b,"longDate");F=$t(ye(b,it.Long),[Qn,si]);break;case"full":const On=tn(b,"fullTime"),pn=tn(b,"fullDate");F=$t(ye(b,it.Full),[On,pn])}return F&&(bn[I][j]=F),F}function $t(b,j){return j&&(b=b.replace(/\{([^}]+)}/g,function(I,F){return null!=j&&F in j?j[F]:I})),b}function jn(b,j,I="-",F,re){let We="";(b<0||re&&b<=0)&&(re?b=1-b:(b=-b,We=I));let gt=String(b);for(;gt.length<j;)gt="0"+gt;return F&&(gt=gt.slice(gt.length-j)),We+gt}function hn(b,j,I=0,F=!1,re=!1){return function(We,gt){let Kt=function An(b,j){switch(b){case Tt.FullYear:return j.getFullYear();case Tt.Month:return j.getMonth();case Tt.Date:return j.getDate();case Tt.Hours:return j.getHours();case Tt.Minutes:return j.getMinutes();case Tt.Seconds:return j.getSeconds();case Tt.FractionalSeconds:return j.getMilliseconds();case Tt.Day:return j.getDay();default:throw new Error(`Unknown DateType value "${b}".`)}}(b,We);if((I>0||Kt>-I)&&(Kt+=I),b===Tt.Hours)0===Kt&&-12===I&&(Kt=12);else if(b===Tt.FractionalSeconds)return function st(b,j){return jn(b,3).substring(0,j)}(Kt,j);const Qn=Me(gt,Ue.MinusSign);return jn(Kt,j,Qn,F,re)}}function mn(b,j,I=Xe.Format,F=!1){return function(re,We){return function Mi(b,j,I,F,re,We){switch(I){case St.Months:return dt(j,re,F)[b.getMonth()];case St.Days:return rt(j,re,F)[b.getDay()];case St.DayPeriods:const gt=b.getHours(),Kt=b.getMinutes();if(We){const si=function Ct(b){const j=(0,g.cg1)(b);return Ht(j),(j[g.wAp.ExtraData][2]||[]).map(F=>"string"==typeof F?ve(F):[ve(F[0]),ve(F[1])])}(j),On=function wn(b,j,I){const F=(0,g.cg1)(b);Ht(F);const We=he([F[g.wAp.ExtraData][0],F[g.wAp.ExtraData][1]],j)||[];return he(We,I)||[]}(j,re,F),pn=si.findIndex(Ei=>{if(Array.isArray(Ei)){const[li,Ti]=Ei,Jo=gt>=li.hours&&Kt>=li.minutes,Ho=gt<Ti.hours||gt===Ti.hours&&Kt<Ti.minutes;if(li.hours<Ti.hours){if(Jo&&Ho)return!0}else if(Jo||Ho)return!0}else if(Ei.hours===gt&&Ei.minutes===Kt)return!0;return!1});if(-1!==pn)return On[pn]}return function Ft(b,j,I){const F=(0,g.cg1)(b),We=he([F[g.wAp.DayPeriodsFormat],F[g.wAp.DayPeriodsStandalone]],j);return he(We,I)}(j,re,F)[gt<12?0:1];case St.Eras:return function Re(b,j){return he((0,g.cg1)(b)[g.wAp.Eras],j)}(j,F)[b.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${I}`)}}(re,We,b,j,I,F)}}function mi(b){return function(j,I,F){const re=-1*F,We=Me(I,Ue.MinusSign),gt=re>0?Math.floor(re/60):Math.ceil(re/60);switch(b){case kt.Short:return(re>=0?"+":"")+jn(gt,2,We)+jn(Math.abs(re%60),2,We);case kt.ShortGMT:return"GMT"+(re>=0?"+":"")+jn(gt,1,We);case kt.Long:return"GMT"+(re>=0?"+":"")+jn(gt,2,We)+":"+jn(Math.abs(re%60),2,We);case kt.Extended:return 0===F?"Z":(re>=0?"+":"")+jn(gt,2,We)+":"+jn(Math.abs(re%60),2,We);default:throw new Error(`Unknown zone width "${b}"`)}}}const Fi=0,Ai=4;function Gn(b){return ri(b.getFullYear(),b.getMonth(),b.getDate()+(Ai-b.getDay()))}function Dn(b,j=!1){return function(I,F){let re;if(j){const We=new Date(I.getFullYear(),I.getMonth(),1).getDay()-1,gt=I.getDate();re=1+Math.floor((gt+We)/7)}else{const We=Gn(I),gt=function Hn(b){const j=ri(b,Fi,1).getDay();return ri(b,0,1+(j<=Ai?Ai:Ai+7)-j)}(We.getFullYear()),Kt=We.getTime()-gt.getTime();re=1+Math.round(Kt/6048e5)}return jn(re,b,Me(F,Ue.MinusSign))}}function Jn(b,j=!1){return function(I,F){return jn(Gn(I).getFullYear(),b,Me(F,Ue.MinusSign),j)}}const Si={};function Zi(b,j){b=b.replace(/:/g,"");const I=Date.parse("Jan 01, 1970 00:00:00 "+b)/6e4;return isNaN(I)?j:I}function se(b){return b instanceof Date&&!isNaN(b.valueOf())}function Zn(b,j){j=encodeURIComponent(j);for(const I of b.split(";")){const F=I.indexOf("="),[re,We]=-1==F?[I,""]:[I.slice(0,F),I.slice(F+1)];if(re.trim()===j)return decodeURIComponent(We)}return null}class Vt{constructor(j,I,F,re){this.$implicit=j,this.ngForOf=I,this.index=F,this.count=re}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let _n=(()=>{class b{set ngForOf(I){this._ngForOf=I,this._ngForOfDirty=!0}set ngForTrackBy(I){this._trackByFn=I}get ngForTrackBy(){return this._trackByFn}constructor(I,F,re){this._viewContainer=I,this._template=F,this._differs=re,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(I){I&&(this._template=I)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const I=this._ngForOf;!this._differ&&I&&(this._differ=this._differs.find(I).create(this.ngForTrackBy))}if(this._differ){const I=this._differ.diff(this._ngForOf);I&&this._applyChanges(I)}}_applyChanges(I){const F=this._viewContainer;I.forEachOperation((re,We,gt)=>{if(null==re.previousIndex)F.createEmbeddedView(this._template,new Vt(re.item,this._ngForOf,-1,-1),null===gt?void 0:gt);else if(null==gt)F.remove(null===We?void 0:We);else if(null!==We){const Kt=F.get(We);F.move(Kt,gt),xi(Kt,re)}});for(let re=0,We=F.length;re<We;re++){const Kt=F.get(re).context;Kt.index=re,Kt.count=We,Kt.ngForOf=this._ngForOf}I.forEachIdentityChange(re=>{xi(F.get(re.currentIndex),re)})}static ngTemplateContextGuard(I,F){return!0}static#e=this.\u0275fac=function(F){return new(F||b)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))};static#t=this.\u0275dir=g.lG2({type:b,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return b})();function xi(b,j){b.context.$implicit=j.item}let Vi=(()=>{class b{constructor(I,F){this._viewContainer=I,this._context=new _o,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=F}set ngIf(I){this._context.$implicit=this._context.ngIf=I,this._updateView()}set ngIfThen(I){fn("ngIfThen",I),this._thenTemplateRef=I,this._thenViewRef=null,this._updateView()}set ngIfElse(I){fn("ngIfElse",I),this._elseTemplateRef=I,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(I,F){return!0}static#e=this.\u0275fac=function(F){return new(F||b)(g.Y36(g.s_b),g.Y36(g.Rgc))};static#t=this.\u0275dir=g.lG2({type:b,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return b})();class _o{constructor(){this.$implicit=null,this.ngIf=null}}function fn(b,j){if(j&&!j.createEmbeddedView)throw new Error(`${b} must be a TemplateRef, but received '${(0,g.AaK)(j)}'.`)}class En{constructor(j,I){this._viewContainerRef=j,this._templateRef=I,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(j){j&&!this._created?this.create():!j&&this._created&&this.destroy()}}let to=(()=>{class b{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(I){this._ngSwitch=I,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(I){this._defaultViews.push(I)}_matchCase(I){const F=I==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||F,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),F}_updateDefaultCases(I){if(this._defaultViews.length>0&&I!==this._defaultUsed){this._defaultUsed=I;for(const F of this._defaultViews)F.enforceState(I)}}static#e=this.\u0275fac=function(F){return new(F||b)};static#t=this.\u0275dir=g.lG2({type:b,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return b})(),Go=(()=>{class b{constructor(I,F,re){this.ngSwitch=re,re._addCase(),this._view=new En(I,F)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(F){return new(F||b)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(to,9))};static#t=this.\u0275dir=g.lG2({type:b,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return b})(),Ki=(()=>{class b{constructor(I,F,re){re._addDefault(new En(I,F))}static#e=this.\u0275fac=function(F){return new(F||b)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(to,9))};static#t=this.\u0275dir=g.lG2({type:b,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return b})(),no=(()=>{class b{constructor(I){this._viewContainerRef=I,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(I){if(I.ngTemplateOutlet||I.ngTemplateOutletInjector){const F=this._viewContainerRef;if(this._viewRef&&F.remove(F.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:re,ngTemplateOutletContext:We,ngTemplateOutletInjector:gt}=this;this._viewRef=F.createEmbeddedView(re,We,gt?{injector:gt}:void 0)}else this._viewRef=null}else this._viewRef&&I.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(F){return new(F||b)(g.Y36(g.s_b))};static#t=this.\u0275dir=g.lG2({type:b,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[g.TTD]})}return b})();let Hr=(()=>{class b{transform(I){if(null==I)return null;if("string"!=typeof I)throw function Oi(b,j){return new g.vHH(2100,!1)}();return I.toLowerCase()}static#e=this.\u0275fac=function(F){return new(F||b)};static#t=this.\u0275pipe=g.Yjl({name:"lowercase",type:b,pure:!0,standalone:!0})}return b})(),ci=(()=>{class b{static#e=this.\u0275fac=function(F){return new(F||b)};static#t=this.\u0275mod=g.oAB({type:b});static#n=this.\u0275inj=g.cJS({})}return b})();const uo="browser",Bo="server";function Qi(b){return b===uo}function ho(b){return b===Bo}let vo=(()=>{class b{static#e=this.\u0275prov=(0,g.Yz7)({token:b,providedIn:"root",factory:()=>new sr((0,g.LFG)(e),window)})}return b})();class sr{constructor(j,I){this.document=j,this.window=I,this.offset=()=>[0,0]}setOffset(j){this.offset=Array.isArray(j)?()=>j:j}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(j){this.supportsScrolling()&&this.window.scrollTo(j[0],j[1])}scrollToAnchor(j){if(!this.supportsScrolling())return;const I=function Gr(b,j){const I=b.getElementById(j)||b.getElementsByName(j)[0];if(I)return I;if("function"==typeof b.createTreeWalker&&b.body&&"function"==typeof b.body.attachShadow){const F=b.createTreeWalker(b.body,NodeFilter.SHOW_ELEMENT);let re=F.currentNode;for(;re;){const We=re.shadowRoot;if(We){const gt=We.getElementById(j)||We.querySelector(`[name="${j}"]`);if(gt)return gt}re=F.nextNode()}}return null}(this.document,j);I&&(this.scrollToElement(I),I.focus())}setHistoryScrollRestoration(j){this.supportsScrolling()&&(this.window.history.scrollRestoration=j)}scrollToElement(j){const I=j.getBoundingClientRect(),F=I.left+this.window.pageXOffset,re=I.top+this.window.pageYOffset,We=this.offset();this.window.scrollTo(F-We[0],re-We[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Oo{}},4860:(Ot,ke,M)=>{"use strict";M.d(ke,{JF:()=>H,eN:()=>ae});var g=M(1699),X=M(4980),W=M(4683),ce=M(2235),J=M(5616),e=M(4520),Q=M(9736),Le=M(7474),pe=M(1891),ge=M(6575);class Ae{}class ne{}class De{constructor(ue){this.normalizedNames=new Map,this.lazyUpdate=null,ue?"string"==typeof ue?this.lazyInit=()=>{this.headers=new Map,ue.split("\n").forEach(Ce=>{const Ke=Ce.indexOf(":");if(Ke>0){const vt=Ce.slice(0,Ke),Mt=vt.toLowerCase(),At=Ce.slice(Ke+1).trim();this.maybeSetNormalizedName(vt,Mt),this.headers.has(Mt)?this.headers.get(Mt).push(At):this.headers.set(Mt,[At])}})}:typeof Headers<"u"&&ue instanceof Headers?(this.headers=new Map,ue.forEach((Ce,Ke)=>{this.setHeaderEntries(Ke,Ce)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(ue).forEach(([Ce,Ke])=>{this.setHeaderEntries(Ce,Ke)})}:this.headers=new Map}has(ue){return this.init(),this.headers.has(ue.toLowerCase())}get(ue){this.init();const Ce=this.headers.get(ue.toLowerCase());return Ce&&Ce.length>0?Ce[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ue){return this.init(),this.headers.get(ue.toLowerCase())||null}append(ue,Ce){return this.clone({name:ue,value:Ce,op:"a"})}set(ue,Ce){return this.clone({name:ue,value:Ce,op:"s"})}delete(ue,Ce){return this.clone({name:ue,value:Ce,op:"d"})}maybeSetNormalizedName(ue,Ce){this.normalizedNames.has(Ce)||this.normalizedNames.set(Ce,ue)}init(){this.lazyInit&&(this.lazyInit instanceof De?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ue=>this.applyUpdate(ue)),this.lazyUpdate=null))}copyFrom(ue){ue.init(),Array.from(ue.headers.keys()).forEach(Ce=>{this.headers.set(Ce,ue.headers.get(Ce)),this.normalizedNames.set(Ce,ue.normalizedNames.get(Ce))})}clone(ue){const Ce=new De;return Ce.lazyInit=this.lazyInit&&this.lazyInit instanceof De?this.lazyInit:this,Ce.lazyUpdate=(this.lazyUpdate||[]).concat([ue]),Ce}applyUpdate(ue){const Ce=ue.name.toLowerCase();switch(ue.op){case"a":case"s":let Ke=ue.value;if("string"==typeof Ke&&(Ke=[Ke]),0===Ke.length)return;this.maybeSetNormalizedName(ue.name,Ce);const vt=("a"===ue.op?this.headers.get(Ce):void 0)||[];vt.push(...Ke),this.headers.set(Ce,vt);break;case"d":const Mt=ue.value;if(Mt){let At=this.headers.get(Ce);if(!At)return;At=At.filter(qt=>-1===Mt.indexOf(qt)),0===At.length?(this.headers.delete(Ce),this.normalizedNames.delete(Ce)):this.headers.set(Ce,At)}else this.headers.delete(Ce),this.normalizedNames.delete(Ce)}}setHeaderEntries(ue,Ce){const Ke=(Array.isArray(Ce)?Ce:[Ce]).map(Mt=>Mt.toString()),vt=ue.toLowerCase();this.headers.set(vt,Ke),this.maybeSetNormalizedName(ue,vt)}forEach(ue){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ce=>ue(this.normalizedNames.get(Ce),this.headers.get(Ce)))}}class He{encodeKey(ue){return pt(ue)}encodeValue(ue){return pt(ue)}decodeKey(ue){return decodeURIComponent(ue)}decodeValue(ue){return decodeURIComponent(ue)}}const be=/%(\d[a-f0-9])/gi,Ye={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function pt(Pe){return encodeURIComponent(Pe).replace(be,(ue,Ce)=>Ye[Ce]??ue)}function Rt(Pe){return`${Pe}`}class Te{constructor(ue={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ue.encoder||new He,ue.fromString){if(ue.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function K(Pe,ue){const Ce=new Map;return Pe.length>0&&Pe.replace(/^\?/,"").split("&").forEach(vt=>{const Mt=vt.indexOf("="),[At,qt]=-1==Mt?[ue.decodeKey(vt),""]:[ue.decodeKey(vt.slice(0,Mt)),ue.decodeValue(vt.slice(Mt+1))],en=Ce.get(At)||[];en.push(qt),Ce.set(At,en)}),Ce}(ue.fromString,this.encoder)}else ue.fromObject?(this.map=new Map,Object.keys(ue.fromObject).forEach(Ce=>{const Ke=ue.fromObject[Ce],vt=Array.isArray(Ke)?Ke.map(Rt):[Rt(Ke)];this.map.set(Ce,vt)})):this.map=null}has(ue){return this.init(),this.map.has(ue)}get(ue){this.init();const Ce=this.map.get(ue);return Ce?Ce[0]:null}getAll(ue){return this.init(),this.map.get(ue)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ue,Ce){return this.clone({param:ue,value:Ce,op:"a"})}appendAll(ue){const Ce=[];return Object.keys(ue).forEach(Ke=>{const vt=ue[Ke];Array.isArray(vt)?vt.forEach(Mt=>{Ce.push({param:Ke,value:Mt,op:"a"})}):Ce.push({param:Ke,value:vt,op:"a"})}),this.clone(Ce)}set(ue,Ce){return this.clone({param:ue,value:Ce,op:"s"})}delete(ue,Ce){return this.clone({param:ue,value:Ce,op:"d"})}toString(){return this.init(),this.keys().map(ue=>{const Ce=this.encoder.encodeKey(ue);return this.map.get(ue).map(Ke=>Ce+"="+this.encoder.encodeValue(Ke)).join("&")}).filter(ue=>""!==ue).join("&")}clone(ue){const Ce=new Te({encoder:this.encoder});return Ce.cloneFrom=this.cloneFrom||this,Ce.updates=(this.updates||[]).concat(ue),Ce}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ue=>this.map.set(ue,this.cloneFrom.map.get(ue))),this.updates.forEach(ue=>{switch(ue.op){case"a":case"s":const Ce=("a"===ue.op?this.map.get(ue.param):void 0)||[];Ce.push(Rt(ue.value)),this.map.set(ue.param,Ce);break;case"d":if(void 0===ue.value){this.map.delete(ue.param);break}{let Ke=this.map.get(ue.param)||[];const vt=Ke.indexOf(Rt(ue.value));-1!==vt&&Ke.splice(vt,1),Ke.length>0?this.map.set(ue.param,Ke):this.map.delete(ue.param)}}}),this.cloneFrom=this.updates=null)}}class fe{constructor(){this.map=new Map}set(ue,Ce){return this.map.set(ue,Ce),this}get(ue){return this.map.has(ue)||this.map.set(ue,ue.defaultValue()),this.map.get(ue)}delete(ue){return this.map.delete(ue),this}has(ue){return this.map.has(ue)}keys(){return this.map.keys()}}function Xe(Pe){return typeof ArrayBuffer<"u"&&Pe instanceof ArrayBuffer}function $e(Pe){return typeof Blob<"u"&&Pe instanceof Blob}function it(Pe){return typeof FormData<"u"&&Pe instanceof FormData}class ft{constructor(ue,Ce,Ke,vt){let Mt;if(this.url=Ce,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ue.toUpperCase(),function ut(Pe){switch(Pe){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||vt?(this.body=void 0!==Ke?Ke:null,Mt=vt):Mt=Ke,Mt&&(this.reportProgress=!!Mt.reportProgress,this.withCredentials=!!Mt.withCredentials,Mt.responseType&&(this.responseType=Mt.responseType),Mt.headers&&(this.headers=Mt.headers),Mt.context&&(this.context=Mt.context),Mt.params&&(this.params=Mt.params)),this.headers||(this.headers=new De),this.context||(this.context=new fe),this.params){const At=this.params.toString();if(0===At.length)this.urlWithParams=Ce;else{const qt=Ce.indexOf("?");this.urlWithParams=Ce+(-1===qt?"?":qt<Ce.length-1?"&":"")+At}}else this.params=new Te,this.urlWithParams=Ce}serializeBody(){return null===this.body?null:Xe(this.body)||$e(this.body)||it(this.body)||function Ue(Pe){return typeof URLSearchParams<"u"&&Pe instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Te?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||it(this.body)?null:$e(this.body)?this.body.type||null:Xe(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Te?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ue={}){const Ce=ue.method||this.method,Ke=ue.url||this.url,vt=ue.responseType||this.responseType,Mt=void 0!==ue.body?ue.body:this.body,At=void 0!==ue.withCredentials?ue.withCredentials:this.withCredentials,qt=void 0!==ue.reportProgress?ue.reportProgress:this.reportProgress;let en=ue.headers||this.headers,fi=ue.params||this.params;const ln=ue.context??this.context;return void 0!==ue.setHeaders&&(en=Object.keys(ue.setHeaders).reduce((zn,Jt)=>zn.set(Jt,ue.setHeaders[Jt]),en)),ue.setParams&&(fi=Object.keys(ue.setParams).reduce((zn,Jt)=>zn.set(Jt,ue.setParams[Jt]),fi)),new ft(Ce,Ke,Mt,{params:fi,headers:en,context:ln,reportProgress:qt,responseType:vt,withCredentials:At})}}var Je=function(Pe){return Pe[Pe.Sent=0]="Sent",Pe[Pe.UploadProgress=1]="UploadProgress",Pe[Pe.ResponseHeader=2]="ResponseHeader",Pe[Pe.DownloadProgress=3]="DownloadProgress",Pe[Pe.Response=4]="Response",Pe[Pe.User=5]="User",Pe}(Je||{});class Ft{constructor(ue,Ce=200,Ke="OK"){this.headers=ue.headers||new De,this.status=void 0!==ue.status?ue.status:Ce,this.statusText=ue.statusText||Ke,this.url=ue.url||null,this.ok=this.status>=200&&this.status<300}}class rt extends Ft{constructor(ue={}){super(ue),this.type=Je.ResponseHeader}clone(ue={}){return new rt({headers:ue.headers||this.headers,status:void 0!==ue.status?ue.status:this.status,statusText:ue.statusText||this.statusText,url:ue.url||this.url||void 0})}}class dt extends Ft{constructor(ue={}){super(ue),this.type=Je.Response,this.body=void 0!==ue.body?ue.body:null}clone(ue={}){return new dt({body:void 0!==ue.body?ue.body:this.body,headers:ue.headers||this.headers,status:void 0!==ue.status?ue.status:this.status,statusText:ue.statusText||this.statusText,url:ue.url||this.url||void 0})}}class Re extends Ft{constructor(ue){super(ue,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ue.url||"(unknown url)"}`:`Http failure response for ${ue.url||"(unknown url)"}: ${ue.status} ${ue.statusText}`,this.error=ue.error||null}}function ht(Pe,ue){return{body:ue,headers:Pe.headers,context:Pe.context,observe:Pe.observe,params:Pe.params,reportProgress:Pe.reportProgress,responseType:Pe.responseType,withCredentials:Pe.withCredentials}}let ae=(()=>{class Pe{constructor(Ce){this.handler=Ce}request(Ce,Ke,vt={}){let Mt;if(Ce instanceof ft)Mt=Ce;else{let en,fi;en=vt.headers instanceof De?vt.headers:new De(vt.headers),vt.params&&(fi=vt.params instanceof Te?vt.params:new Te({fromObject:vt.params})),Mt=new ft(Ce,Ke,void 0!==vt.body?vt.body:null,{headers:en,context:vt.context,params:fi,reportProgress:vt.reportProgress,responseType:vt.responseType||"json",withCredentials:vt.withCredentials})}const At=(0,X.of)(Mt).pipe((0,J.b)(en=>this.handler.handle(en)));if(Ce instanceof ft||"events"===vt.observe)return At;const qt=At.pipe((0,e.h)(en=>en instanceof dt));switch(vt.observe||"body"){case"body":switch(Mt.responseType){case"arraybuffer":return qt.pipe((0,Q.U)(en=>{if(null!==en.body&&!(en.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return en.body}));case"blob":return qt.pipe((0,Q.U)(en=>{if(null!==en.body&&!(en.body instanceof Blob))throw new Error("Response is not a Blob.");return en.body}));case"text":return qt.pipe((0,Q.U)(en=>{if(null!==en.body&&"string"!=typeof en.body)throw new Error("Response is not a string.");return en.body}));default:return qt.pipe((0,Q.U)(en=>en.body))}case"response":return qt;default:throw new Error(`Unreachable: unhandled observe type ${vt.observe}}`)}}delete(Ce,Ke={}){return this.request("DELETE",Ce,Ke)}get(Ce,Ke={}){return this.request("GET",Ce,Ke)}head(Ce,Ke={}){return this.request("HEAD",Ce,Ke)}jsonp(Ce,Ke){return this.request("JSONP",Ce,{params:(new Te).append(Ke,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ce,Ke={}){return this.request("OPTIONS",Ce,Ke)}patch(Ce,Ke,vt={}){return this.request("PATCH",Ce,ht(vt,Ke))}post(Ce,Ke,vt={}){return this.request("POST",Ce,ht(vt,Ke))}put(Ce,Ke,vt={}){return this.request("PUT",Ce,ht(vt,Ke))}static#e=this.\u0275fac=function(Ke){return new(Ke||Pe)(g.LFG(Ae))};static#t=this.\u0275prov=g.Yz7({token:Pe,factory:Pe.\u0275fac})}return Pe})();function cn(Pe,ue){return ue(Pe)}function ct(Pe,ue){return(Ce,Ke)=>ue.intercept(Ce,{handle:vt=>Pe(vt,Ke)})}const Ht=new g.OlP(""),Ct=new g.OlP(""),wn=new g.OlP("");function gn(){let Pe=null;return(ue,Ce)=>{null===Pe&&(Pe=((0,g.f3M)(Ht,{optional:!0})??[]).reduceRight(ct,cn));const Ke=(0,g.f3M)(g.HDt),vt=Ke.add();return Pe(ue,Ce).pipe((0,Le.x)(()=>Ke.remove(vt)))}}let he=(()=>{class Pe extends Ae{constructor(Ce,Ke){super(),this.backend=Ce,this.injector=Ke,this.chain=null,this.pendingTasks=(0,g.f3M)(g.HDt)}handle(Ce){if(null===this.chain){const vt=Array.from(new Set([...this.injector.get(Ct),...this.injector.get(wn,[])]));this.chain=vt.reduceRight((Mt,At)=>function sn(Pe,ue,Ce){return(Ke,vt)=>Ce.runInContext(()=>ue(Ke,Mt=>Pe(Mt,vt)))}(Mt,At,this.injector),cn)}const Ke=this.pendingTasks.add();return this.chain(Ce,vt=>this.backend.handle(vt)).pipe((0,Le.x)(()=>this.pendingTasks.remove(Ke)))}static#e=this.\u0275fac=function(Ke){return new(Ke||Pe)(g.LFG(ne),g.LFG(g.lqb))};static#t=this.\u0275prov=g.Yz7({token:Pe,factory:Pe.\u0275fac})}return Pe})();const ri=/^\)\]\}',?\n/;let $t=(()=>{class Pe{constructor(Ce){this.xhrFactory=Ce}handle(Ce){if("JSONP"===Ce.method)throw new g.vHH(-2800,!1);const Ke=this.xhrFactory;return(Ke.\u0275loadImpl?(0,W.D)(Ke.\u0275loadImpl()):(0,X.of)(null)).pipe((0,pe.w)(()=>new ce.y(Mt=>{const At=Ke.build();if(At.open(Ce.method,Ce.urlWithParams),Ce.withCredentials&&(At.withCredentials=!0),Ce.headers.forEach((nn,In)=>At.setRequestHeader(nn,In.join(","))),Ce.headers.has("Accept")||At.setRequestHeader("Accept","application/json, text/plain, */*"),!Ce.headers.has("Content-Type")){const nn=Ce.detectContentTypeHeader();null!==nn&&At.setRequestHeader("Content-Type",nn)}if(Ce.responseType){const nn=Ce.responseType.toLowerCase();At.responseType="json"!==nn?nn:"text"}const qt=Ce.serializeBody();let en=null;const fi=()=>{if(null!==en)return en;const nn=At.statusText||"OK",In=new De(At.getAllResponseHeaders()),Wn=function tn(Pe){return"responseURL"in Pe&&Pe.responseURL?Pe.responseURL:/^X-Request-URL:/m.test(Pe.getAllResponseHeaders())?Pe.getResponseHeader("X-Request-URL"):null}(At)||Ce.url;return en=new rt({headers:In,status:At.status,statusText:nn,url:Wn}),en},ln=()=>{let{headers:nn,status:In,statusText:Wn,url:Ii}=fi(),Vt=null;204!==In&&(Vt=typeof At.response>"u"?At.responseText:At.response),0===In&&(In=Vt?200:0);let _n=In>=200&&In<300;if("json"===Ce.responseType&&"string"==typeof Vt){const xi=Vt;Vt=Vt.replace(ri,"");try{Vt=""!==Vt?JSON.parse(Vt):null}catch(Ci){Vt=xi,_n&&(_n=!1,Vt={error:Ci,text:Vt})}}_n?(Mt.next(new dt({body:Vt,headers:nn,status:In,statusText:Wn,url:Ii||void 0})),Mt.complete()):Mt.error(new Re({error:Vt,headers:nn,status:In,statusText:Wn,url:Ii||void 0}))},zn=nn=>{const{url:In}=fi(),Wn=new Re({error:nn,status:At.status||0,statusText:At.statusText||"Unknown Error",url:In||void 0});Mt.error(Wn)};let Jt=!1;const Zn=nn=>{Jt||(Mt.next(fi()),Jt=!0);let In={type:Je.DownloadProgress,loaded:nn.loaded};nn.lengthComputable&&(In.total=nn.total),"text"===Ce.responseType&&At.responseText&&(In.partialText=At.responseText),Mt.next(In)},ii=nn=>{let In={type:Je.UploadProgress,loaded:nn.loaded};nn.lengthComputable&&(In.total=nn.total),Mt.next(In)};return At.addEventListener("load",ln),At.addEventListener("error",zn),At.addEventListener("timeout",zn),At.addEventListener("abort",zn),Ce.reportProgress&&(At.addEventListener("progress",Zn),null!==qt&&At.upload&&At.upload.addEventListener("progress",ii)),At.send(qt),Mt.next({type:Je.Sent}),()=>{At.removeEventListener("error",zn),At.removeEventListener("abort",zn),At.removeEventListener("load",ln),At.removeEventListener("timeout",zn),Ce.reportProgress&&(At.removeEventListener("progress",Zn),null!==qt&&At.upload&&At.upload.removeEventListener("progress",ii)),At.readyState!==At.DONE&&At.abort()}})))}static#e=this.\u0275fac=function(Ke){return new(Ke||Pe)(g.LFG(ge.JF))};static#t=this.\u0275prov=g.Yz7({token:Pe,factory:Pe.\u0275fac})}return Pe})();const jn=new g.OlP("XSRF_ENABLED"),hn=new g.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),mn=new g.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Mi{}let mi=(()=>{class Pe{constructor(Ce,Ke,vt){this.doc=Ce,this.platform=Ke,this.cookieName=vt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ce=this.doc.cookie||"";return Ce!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,ge.Mx)(Ce,this.cookieName),this.lastCookieString=Ce),this.lastToken}static#e=this.\u0275fac=function(Ke){return new(Ke||Pe)(g.LFG(ge.K0),g.LFG(g.Lbi),g.LFG(hn))};static#t=this.\u0275prov=g.Yz7({token:Pe,factory:Pe.\u0275fac})}return Pe})();function Fi(Pe,ue){const Ce=Pe.url.toLowerCase();if(!(0,g.f3M)(jn)||"GET"===Pe.method||"HEAD"===Pe.method||Ce.startsWith("http://")||Ce.startsWith("https://"))return ue(Pe);const Ke=(0,g.f3M)(Mi).getToken(),vt=(0,g.f3M)(mn);return null!=Ke&&!Pe.headers.has(vt)&&(Pe=Pe.clone({headers:Pe.headers.set(vt,Ke)})),ue(Pe)}var Hn=function(Pe){return Pe[Pe.Interceptors=0]="Interceptors",Pe[Pe.LegacyInterceptors=1]="LegacyInterceptors",Pe[Pe.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Pe[Pe.NoXsrfProtection=3]="NoXsrfProtection",Pe[Pe.JsonpSupport=4]="JsonpSupport",Pe[Pe.RequestsMadeViaParent=5]="RequestsMadeViaParent",Pe[Pe.Fetch=6]="Fetch",Pe}(Hn||{});function Dn(...Pe){const ue=[ae,$t,he,{provide:Ae,useExisting:he},{provide:ne,useExisting:$t},{provide:Ct,useValue:Fi,multi:!0},{provide:jn,useValue:!0},{provide:Mi,useClass:mi}];for(const Ce of Pe)ue.push(...Ce.\u0275providers);return(0,g.MR2)(ue)}const Si=new g.OlP("LEGACY_INTERCEPTOR_FN");function Ji(){return function Gn(Pe,ue){return{\u0275kind:Pe,\u0275providers:ue}}(Hn.LegacyInterceptors,[{provide:Si,useFactory:gn},{provide:Ct,useExisting:Si,multi:!0}])}let H=(()=>{class Pe{static#e=this.\u0275fac=function(Ke){return new(Ke||Pe)};static#t=this.\u0275mod=g.oAB({type:Pe});static#n=this.\u0275inj=g.cJS({providers:[Dn(Ji())]})}return Pe})()},1699:(Ot,ke,M)=>{"use strict";M.d(ke,{$8M:()=>Oc,$WT:()=>vi,$Z:()=>up,AFp:()=>Nf,ALo:()=>ZD,AaK:()=>ne,AsE:()=>qs,BQk:()=>uu,CHM:()=>ro,CRH:()=>rb,DdM:()=>PD,EJc:()=>BE,EiD:()=>Ef,EpF:()=>ah,F$t:()=>lg,F4k:()=>ig,FYo:()=>jf,FiY:()=>$s,Gf:()=>ib,GfV:()=>sc,GkF:()=>sh,Gpc:()=>He,HDt:()=>Sb,Hsn:()=>Pa,Ikx:()=>L0,JOm:()=>Bc,JVY:()=>Zm,JZr:()=>Rt,KtG:()=>ma,L6k:()=>Vm,LAX:()=>Gm,LFG:()=>ot,LMc:()=>qT,LSH:()=>hd,Lbi:()=>vd,Lck:()=>Sw,MAs:()=>Xp,MGl:()=>du,MMx:()=>TD,MR2:()=>pd,NdJ:()=>lh,Ojb:()=>p_,OlP:()=>yi,Oqu:()=>Fa,P3R:()=>Mf,PXZ:()=>dT,Q6J:()=>ih,QGY:()=>ch,Qsj:()=>S_,R0b:()=>Vo,RDi:()=>o1,Rgc:()=>wh,SBq:()=>rc,SDv:()=>yD,Sil:()=>HE,Suo:()=>ob,TTD:()=>On,TgZ:()=>au,Tol:()=>ni,Udp:()=>Zt,VKq:()=>kD,VuI:()=>YT,W1O:()=>lb,WLB:()=>RD,X6Q:()=>yT,XFs:()=>kt,Xpm:()=>xr,Xq5:()=>Lp,Xts:()=>zc,Y36:()=>lc,YKP:()=>wD,YNc:()=>Jp,Yjl:()=>Vr,Yz7:()=>Ht,Z0I:()=>he,ZZ4:()=>_y,_Bn:()=>CD,_UZ:()=>rh,_c5:()=>RT,_uU:()=>bc,aQg:()=>vy,c2e:()=>Ab,cJS:()=>wn,cg1:()=>B0,dDg:()=>aT,dqk:()=>$t,eBb:()=>$m,eFA:()=>Bb,eJc:()=>ty,ekj:()=>Bn,eoX:()=>kb,f3M:()=>wt,g9A:()=>Pf,h0i:()=>dl,hGG:()=>FT,hij:()=>La,iGM:()=>nb,ifc:()=>Mt,ip1:()=>Mb,jDz:()=>MD,kEZ:()=>FD,kL8:()=>Y1,lG2:()=>Io,lcZ:()=>VD,lqb:()=>Ps,lri:()=>Nb,mCW:()=>jl,n5z:()=>Lh,oAB:()=>or,oJD:()=>Tf,oxw:()=>cg,pB0:()=>_f,q3G:()=>Ta,qFp:()=>JT,qLn:()=>aa,qOj:()=>Jd,qZA:()=>cu,qzn:()=>Ns,rWj:()=>Pb,rg0:()=>re,s9C:()=>uh,sBO:()=>DT,s_b:()=>Bg,soG:()=>jg,tb:()=>dy,tp0:()=>oa,uIk:()=>Qd,vHH:()=>Te,vpe:()=>Rs,wAp:()=>vu,xi3:()=>$D,xp6:()=>cp,ynx:()=>lu,z2F:()=>Cu,z3N:()=>Gs,zSh:()=>fr,zW0:()=>kp,zs3:()=>Ts});var g=M(9877),X=M(6482),W=M(2235),ce=M(7835),J=M(8071),e=M(4980),Q=M(5584),Le=M(1891),pe=M(3317);function ge(t){for(let n in t)if(t[n]===ge)return n;throw Error("Could not find renamed property on target object.")}function Ae(t,n){for(const o in n)n.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=n[o])}function ne(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ne).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const o=n.indexOf("\n");return-1===o?n:n.substring(0,o)}function De(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Se=ge({__forward_ref__:ge});function He(t){return t.__forward_ref__=He,t.toString=function(){return ne(this())},t}function K(t){return be(t)?t():t}function be(t){return"function"==typeof t&&t.hasOwnProperty(Se)&&t.__forward_ref__===He}function Ye(t){return t&&!!t.\u0275providers}const Rt="https://g.co/ng/security#xss";class Te extends Error{constructor(n,o){super(function Ie(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,o)),this.code=n}}function fe(t){return"string"==typeof t?t:null==t?"":String(t)}function Ue(t,n){throw new Te(-201,!1)}function nt(t,n,o,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${o} ${a} ${n} <=Actual]`))}function Ht(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function wn(t){return{providers:t.providers||[],imports:t.imports||[]}}function gn(t){return ve(t,mt)||ve(t,bn)}function he(t){return null!==gn(t)}function ve(t,n){return t.hasOwnProperty(n)?t[n]:null}function ze(t){return t&&(t.hasOwnProperty(xt)||t.hasOwnProperty(on))?t[xt]:null}const mt=ge({\u0275prov:ge}),xt=ge({\u0275inj:ge}),bn=ge({ngInjectableDef:ge}),on=ge({ngInjectorDef:ge});var kt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(kt||{});let Tt;function $n(t){const n=Tt;return Tt=t,n}function ri(t,n,o){const a=gn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&kt.Optional?null:void 0!==n?n:void Ue(ne(t))}const $t=globalThis,Si={},Ji="__NG_DI_FLAG__",Zi="ngTempTokenPath",$o=/\n/gm,Ve="__source";let se;function ie(t){const n=se;return se=t,n}function Ne(t,n=kt.Default){if(void 0===se)throw new Te(-203,!1);return null===se?ri(t,void 0,n):se.get(t,n&kt.Optional?null:void 0,n)}function ot(t,n=kt.Default){return(function St(){return Tt}()||Ne)(K(t),n)}function wt(t,n=kt.Default){return ot(t,Wt(n))}function Wt(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Sn(t){const n=[];for(let o=0;o<t.length;o++){const a=K(t[o]);if(Array.isArray(a)){if(0===a.length)throw new Te(900,!1);let l,h=kt.Default;for(let m=0;m<a.length;m++){const v=a[m],w=Pe(v);"number"==typeof w?-1===w?l=v.token:h|=w:l=v}n.push(ot(l,h))}else n.push(ot(a))}return n}function Rn(t,n){return t[Ji]=n,t.prototype[Ji]=n,t}function Pe(t){return t[Ji]}function Ke(t){return{toString:t}.toString()}var vt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(vt||{}),Mt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Mt||{});const At={},qt=[],en=ge({\u0275cmp:ge}),fi=ge({\u0275dir:ge}),ln=ge({\u0275pipe:ge}),zn=ge({\u0275mod:ge}),Jt=ge({\u0275fac:ge}),Zn=ge({__NG_ELEMENT_ID__:ge}),ii=ge({__NG_ENV_ID__:ge});function nn(t,n,o){let a=t.length;for(;;){const l=t.indexOf(n,o);if(-1===l)return l;if(0===l||t.charCodeAt(l-1)<=32){const h=n.length;if(l+h===a||t.charCodeAt(l+h)<=32)return l}o=l+1}}function In(t,n,o){let a=0;for(;a<o.length;){const l=o[a];if("number"==typeof l){if(0!==l)break;a++;const h=o[a++],m=o[a++],v=o[a++];t.setAttribute(n,m,v,h)}else{const h=l,m=o[++a];Ii(h)?t.setProperty(n,h,m):t.setAttribute(n,h,m),a++}}return a}function Wn(t){return 3===t||4===t||6===t}function Ii(t){return 64===t.charCodeAt(0)}function Vt(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let o=-1;for(let a=0;a<n.length;a++){const l=n[a];"number"==typeof l?o=l:0===o||_n(t,o,l,null,-1===o||2===o?n[++a]:null)}}return t}function _n(t,n,o,a,l){let h=0,m=t.length;if(-1===n)m=-1;else for(;h<t.length;){const v=t[h++];if("number"==typeof v){if(v===n){m=-1;break}if(v>n){m=h-1;break}}}for(;h<t.length;){const v=t[h];if("number"==typeof v)break;if(v===o){if(null===a)return void(null!==l&&(t[h+1]=l));if(a===t[h+1])return void(t[h+2]=l)}h++,null!==a&&h++,null!==l&&h++}-1!==m&&(t.splice(m,0,n),h=m+1),t.splice(h++,0,o),null!==a&&t.splice(h++,0,a),null!==l&&t.splice(h++,0,l)}const xi="ng-template";function Ci(t,n,o){let a=0,l=!0;for(;a<t.length;){let h=t[a++];if("string"==typeof h&&l){const m=t[a++];if(o&&"class"===h&&-1!==nn(m.toLowerCase(),n,0))return!0}else{if(1===h){for(;a<t.length&&"string"==typeof(h=t[a++]);)if(h.toLowerCase()===n)return!0;return!1}"number"==typeof h&&(l=!1)}}return!1}function Vi(t){return 4===t.type&&t.value!==xi}function _o(t,n,o){return n===(4!==t.type||o?t.value:xi)}function fn(t,n,o){let a=4;const l=t.attrs||[],h=function Js(t){for(let n=0;n<t.length;n++)if(Wn(t[n]))return n;return t.length}(l);let m=!1;for(let v=0;v<n.length;v++){const w=n[v];if("number"!=typeof w){if(!m)if(4&a){if(a=2|1&a,""!==w&&!_o(t,w,o)||""===w&&1===n.length){if(En(a))return!1;m=!0}}else{const N=8&a?w:n[++v];if(8&a&&null!==t.attrs){if(!Ci(t.attrs,N,o)){if(En(a))return!1;m=!0}continue}const te=to(8&a?"class":w,l,Vi(t),o);if(-1===te){if(En(a))return!1;m=!0;continue}if(""!==N){let xe;xe=te>h?"":l[te+1].toLowerCase();const je=8&a?xe:null;if(je&&-1!==nn(je,N,0)||2&a&&N!==xe){if(En(a))return!1;m=!0}}}}else{if(!m&&!En(a)&&!En(w))return!1;if(m&&En(w))continue;m=!1,a=w|1&a}}return En(a)||m}function En(t){return 0==(1&t)}function to(t,n,o,a){if(null===n)return-1;let l=0;if(a||!o){let h=!1;for(;l<n.length;){const m=n[l];if(m===t)return l;if(3===m||6===m)h=!0;else{if(1===m||2===m){let v=n[++l];for(;"string"==typeof v;)v=n[++l];continue}if(4===m)break;if(0===m){l+=4;continue}}l+=h?1:2}return-1}return function Ir(t,n){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const a=t[o];if("number"==typeof a)return-1;if(a===n)return o;o++}return-1}(n,t)}function Go(t,n,o=!1){for(let a=0;a<n.length;a++)if(fn(t,n[a],o))return!0;return!1}function Fo(t,n){e:for(let o=0;o<n.length;o++){const a=n[o];if(t.length===a.length){for(let l=0;l<t.length;l++)if(t[l]!==a[l])continue e;return!0}}return!1}function _i(t,n){return t?":not("+n.trim()+")":n}function no(t){let n=t[0],o=1,a=2,l="",h=!1;for(;o<t.length;){let m=t[o];if("string"==typeof m)if(2&a){const v=t[++o];l+="["+m+(v.length>0?'="'+v+'"':"")+"]"}else 8&a?l+="."+m:4&a&&(l+=" "+m);else""!==l&&!En(m)&&(n+=_i(h,l),l=""),a=m,h=h||!En(a);o++}return""!==l&&(n+=_i(h,l)),n}function xr(t){return Ke(()=>{const n=rr(t),o={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===vt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Mt.Emulated,styles:t.styles||qt,_:null,schemas:t.schemas||null,tView:null,id:""};mr(o);const a=t.dependencies;return o.directiveDefs=io(a,!1),o.pipeDefs=io(a,!0),o.id=function Lo(t){let n=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const l of o)n=Math.imul(31,n)+l.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(o),o})}function nr(t){return yn(t)||Di(t)}function ir(t){return null!==t}function or(t){return Ke(()=>({type:t.type,bootstrap:t.bootstrap||qt,declarations:t.declarations||qt,imports:t.imports||qt,exports:t.exports||qt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Zr(t,n){if(null==t)return At;const o={};for(const a in t)if(t.hasOwnProperty(a)){let l=t[a],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),o[l]=a,n&&(n[l]=h)}return o}function Io(t){return Ke(()=>{const n=rr(t);return mr(n),n})}function Vr(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function yn(t){return t[en]||null}function Di(t){return t[fi]||null}function zt(t){return t[ln]||null}function vi(t){const n=yn(t)||Di(t)||zt(t);return null!==n&&n.standalone}function Cn(t,n){const o=t[zn]||null;if(!o&&!0===n)throw new Error(`Type ${ne(t)} does not have '\u0275mod' property.`);return o}function rr(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||At,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||qt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Zr(t.inputs,n),outputs:Zr(t.outputs)}}function mr(t){t.features?.forEach(n=>n(t))}function io(t,n){if(!t)return null;const o=n?zt:nr;return()=>("function"==typeof t?t():t).map(a=>o(a)).filter(ir)}const Kn=0,jt=1,Xt=2,qn=3,$i=4,xo=5,wi=6,_r=7,ci=8,uo=9,Bo=10,Ut=11,vr=12,Qi=13,ho=14,gi=15,Mo=16,zo=17,vo=18,sr=19,Gr=20,yr=21,Oo=22,Or=23,Xi=24,Fn=25,yo=1,ar=2,Gi=7,Nr=9,Yi=11;function bo(t){return Array.isArray(t)&&"object"==typeof t[yo]}function Li(t){return Array.isArray(t)&&!0===t[yo]}function Yo(t){return 0!=(4&t.flags)}function Wo(t){return t.componentOffset>-1}function cr(t){return 1==(1&t.flags)}function eo(t){return!!t.template}function Co(t){return 0!=(512&t[Xt])}function Rr(t,n){return t.hasOwnProperty(Jt)?t[Jt]:null}let Ni=null,_s=!1;function pi(t){const n=Ni;return Ni=t,n}const vs={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Us(t){if(!Uo(t)||t.dirty){if(!t.producerMustRecompute(t)&&!ss(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Fr(t){t.dirty=!0,function qo(t){if(void 0===t.liveConsumerNode)return;const n=_s;_s=!0;try{for(const o of t.liveConsumerNode)o.dirty||Fr(o)}finally{_s=n}}(t),t.consumerMarkedDirty?.(t)}function Wr(t){return t&&(t.nextProducerIndex=0),pi(t)}function Lr(t,n){if(pi(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Uo(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)Br(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ss(t){ur(t);for(let n=0;n<t.producerNode.length;n++){const o=t.producerNode[n],a=t.producerLastReadVersion[n];if(a!==o.version||(Us(o),a!==o.version))return!0}return!1}function as(t){if(ur(t),Uo(t))for(let n=0;n<t.producerNode.length;n++)Br(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Br(t,n){if(function Ss(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),ur(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)Br(t.producerNode[a],t.producerIndexOfThis[a]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[n],l=t.liveConsumerNode[n];ur(l),l.producerIndexOfThis[a]=n}}function Uo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ur(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let jo=null;function re(t){const n=pi(null);try{return t()}finally{pi(n)}}const gt=()=>{},Kt=(()=>({...vs,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:gt}))();class si{constructor(n,o,a){this.previousValue=n,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function On(){return pn}function pn(t){return t.type.prototype.ngOnChanges&&(t.setInput=li),Ei}function Ei(){const t=Jo(this),n=t?.current;if(n){const o=t.previous;if(o===At)t.previous=n;else for(let a in n)o[a]=n[a];t.current=null,this.ngOnChanges(n)}}function li(t,n,o,a){const l=this.declaredInputs[o],h=Jo(t)||function Ho(t,n){return t[Ti]=n}(t,{previous:At,current:null}),m=h.current||(h.current={}),v=h.previous,w=v[l];m[l]=new si(w&&w.currentValue,n,v===At),t[a]=n}On.ngInherit=!0;const Ti="__ngSimpleChanges__";function Jo(t){return t[Ti]||null}const Ui=function(t,n,o){};function ui(t){for(;Array.isArray(t);)t=t[Kn];return t}function s(t,n){return ui(n[t])}function u(t,n){return ui(n[t.index])}function C(t,n){return t.data[n]}function O(t,n){return t[n]}function $(t,n){const o=n[t];return bo(o)?o:o[Kn]}function yt(t,n){return null==n?null:t[n]}function Bt(t){t[zo]=0}function vn(t){1024&t[Xt]||(t[Xt]|=1024,Xn(t,1))}function Tn(t){1024&t[Xt]&&(t[Xt]&=-1025,Xn(t,-1))}function Xn(t,n){let o=t[qn];if(null===o)return;o[xo]+=n;let a=o;for(o=o[qn];null!==o&&(1===n&&1===a[xo]||-1===n&&0===a[xo]);)o[xo]+=n,a=o,o=o[qn]}const Qt={lFrame:Pi(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ee(){return Qt.bindingsEnabled}function lt(){return null!==Qt.skipHydrationRootTNode}function Dt(){return Qt.lFrame.lView}function Ln(){return Qt.lFrame.tView}function ro(t){return Qt.lFrame.contextLView=t,t[ci]}function ma(t){return Qt.lFrame.contextLView=null,t}function ji(){let t=Zs();for(;null!==t&&64===t.type;)t=t.parent;return t}function Zs(){return Qt.lFrame.currentTNode}function jr(){const t=Qt.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function dr(t,n){const o=Qt.lFrame;o.currentTNode=t,o.isParent=n}function Tc(){return Qt.lFrame.isParent}function _a(){Qt.lFrame.isParent=!1}function hr(){const t=Qt.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function va(){return Qt.lFrame.bindingIndex++}function bs(t){const n=Qt.lFrame,o=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,o}function y(t){Qt.lFrame.inI18n=t}function E(t,n){const o=Qt.lFrame;o.bindingIndex=o.bindingRootIndex=t,T(n)}function T(t){Qt.lFrame.currentDirectiveIndex=t}function G(){return Qt.lFrame.currentQueryIndex}function oe(t){Qt.lFrame.currentQueryIndex=t}function Qe(t){const n=t[jt];return 2===n.type?n.declTNode:1===n.type?t[wi]:null}function qe(t,n,o){if(o&kt.SkipSelf){let l=n,h=t;for(;!(l=l.parent,null!==l||o&kt.Host||(l=Qe(h),null===l||(h=h[ho],10&l.type))););if(null===l)return!1;n=l,t=h}const a=Qt.lFrame=Nn();return a.currentTNode=n,a.lView=t,!0}function Gt(t){const n=Nn(),o=t[jt];Qt.lFrame=n,n.currentTNode=o.firstChild,n.lView=t,n.tView=o,n.contextLView=t,n.bindingIndex=o.bindingStartIndex,n.inI18n=!1}function Nn(){const t=Qt.lFrame,n=null===t?null:t.child;return null===n?Pi(t):n}function Pi(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function ti(){const t=Qt.lFrame;return Qt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Kr=ti;function Is(){const t=ti();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function To(){return Qt.lFrame.selectedIndex}function ta(t){Qt.lFrame.selectedIndex=t}function go(){const t=Qt.lFrame;return C(t.tView,t.selectedIndex)}let Tu=!0;function mo(){return Tu}function Qr(t){Tu=t}function ml(t,n){for(let o=n.directiveStart,a=n.directiveEnd;o<a;o++){const h=t.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:v,ngAfterViewInit:w,ngAfterViewChecked:N,ngOnDestroy:V}=h;m&&(t.contentHooks??=[]).push(-o,m),v&&((t.contentHooks??=[]).push(o,v),(t.contentCheckHooks??=[]).push(o,v)),w&&(t.viewHooks??=[]).push(-o,w),N&&((t.viewHooks??=[]).push(o,N),(t.viewCheckHooks??=[]).push(o,N)),null!=V&&(t.destroyHooks??=[]).push(o,V)}}function _l(t,n,o){Sh(t,n,3,o)}function ya(t,n,o,a){(3&t[Xt])===o&&Sh(t,n,o,a)}function Mc(t,n){let o=t[Xt];(3&o)===n&&(o&=8191,o+=1,t[Xt]=o)}function Sh(t,n,o,a){const h=a??-1,m=n.length-1;let v=0;for(let w=void 0!==a?65535&t[zo]:0;w<m;w++)if("number"==typeof n[w+1]){if(v=n[w],null!=a&&v>=a)break}else n[w]<0&&(t[zo]+=65536),(v<h||-1==h)&&(Yg(t,o,n,w),t[zo]=(4294901760&t[zo])+w+2),w++}function Ih(t,n){Ui(4,t,n);const o=pi(null);try{n.call(t)}finally{pi(o),Ui(5,t,n)}}function Yg(t,n,o,a){const l=o[a]<0,h=o[a+1],v=t[l?-o[a]:o[a]];l?t[Xt]>>13<t[zo]>>16&&(3&t[Xt])===n&&(t[Xt]+=8192,Ih(v,h)):Ih(v,h)}const Va=-1;class Ac{constructor(n,o,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function Vs(t){return t!==Va}function Sc(t){return 32767&t}function na(t,n){let o=function Au(t){return t>>16}(t),a=n;for(;o>0;)a=a[ho],o--;return a}let Su=!0;function Dl(t){const n=Su;return Su=t,n}const ki=255,xh=5;let Iu=0;const xs={};function bl(t,n){const o=Ou(t,n);if(-1!==o)return o;const a=n[jt];a.firstCreatePass&&(t.injectorIndex=n.length,Cl(a.data,t),Cl(n,null),Cl(a.blueprint,null));const l=$a(t,n),h=t.injectorIndex;if(Vs(l)){const m=Sc(l),v=na(l,n),w=v[jt].data;for(let N=0;N<8;N++)n[h+N]=v[m+N]|w[m+N]}return n[h+8]=l,h}function Cl(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Ou(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function $a(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,a=null,l=n;for(;null!==l;){if(a=ku(l),null===a)return Va;if(o++,l=l[ho],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return Va}function Ga(t,n,o){!function xu(t,n,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(Zn)&&(a=o[Zn]),null==a&&(a=o[Zn]=Iu++);const l=a&ki;n.data[t+(l>>xh)]|=1<<l}(t,n,o)}function Nh(t,n,o){if(o&kt.Optional||void 0!==t)return t;Ue()}function Ph(t,n,o,a){if(o&kt.Optional&&void 0===a&&(a=null),!(o&(kt.Self|kt.Host))){const l=t[uo],h=$n(void 0);try{return l?l.get(n,a,o&kt.Optional):ri(n,a,o&kt.Optional)}finally{$n(h)}}return Nh(a,0,o)}function wl(t,n,o,a=kt.Default,l){if(null!==t){if(2048&n[Xt]&&!(a&kt.Self)){const m=function Bh(t,n,o,a,l){let h=t,m=n;for(;null!==h&&null!==m&&2048&m[Xt]&&!(512&m[Xt]);){const v=Nu(h,m,o,a|kt.Self,xs);if(v!==xs)return v;let w=h.parent;if(!w){const N=m[Gr];if(N){const V=N.get(o,xs,a);if(V!==xs)return V}w=ku(m),m=m[ho]}h=w}return l}(t,n,o,a,xs);if(m!==xs)return m}const h=Nu(t,n,o,a,xs);if(h!==xs)return h}return Ph(n,o,a,l)}function Nu(t,n,o,a,l){const h=function Jg(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Zn)?t[Zn]:void 0;return"number"==typeof n?n>=0?n&ki:Qg:n}(o);if("function"==typeof h){if(!qe(n,t,a))return a&kt.Host?Nh(l,0,a):Ph(n,o,a,l);try{let m;if(m=h(a),null!=m||a&kt.Optional)return m;Ue()}finally{Kr()}}else if("number"==typeof h){let m=null,v=Ou(t,n),w=Va,N=a&kt.Host?n[gi][wi]:null;for((-1===v||a&kt.SkipSelf)&&(w=-1===v?$a(t,n):n[v+8],w!==Va&&Fh(a,!1)?(m=n[jt],v=Sc(w),n=na(w,n)):v=-1);-1!==v;){const V=n[jt];if(Rh(h,v,V.data)){const te=kh(v,n,o,m,a,N);if(te!==xs)return te}w=n[v+8],w!==Va&&Fh(a,n[jt].data[v+8]===N)&&Rh(h,v,n)?(m=V,v=Sc(w),n=na(w,n)):v=-1}}return l}function kh(t,n,o,a,l,h){const m=n[jt],v=m.data[t+8],V=Ic(v,m,o,null==a?Wo(v)&&Su:a!=m&&0!=(3&v.type),l&kt.Host&&h===v);return null!==V?Da(n,m,V,v):xs}function Ic(t,n,o,a,l){const h=t.providerIndexes,m=n.data,v=1048575&h,w=t.directiveStart,V=h>>20,xe=l?v+V:t.directiveEnd;for(let je=a?v:v+V;je<xe;je++){const _t=m[je];if(je<w&&o===_t||je>=w&&_t.type===o)return je}if(l){const je=m[w];if(je&&eo(je)&&je.type===o)return w}return null}function Da(t,n,o,a){let l=t[o];const h=n.data;if(function Wg(t){return t instanceof Ac}(l)){const m=l;m.resolving&&function Xe(t,n){const o=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Te(-200,`Circular dependency in DI detected for ${t}${o}`)}(function ut(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():fe(t)}(h[o]));const v=Dl(m.canSeeViewProviders);m.resolving=!0;const N=m.injectImpl?$n(m.injectImpl):null;qe(t,a,kt.Default);try{l=t[o]=m.factory(void 0,h,t,a),n.firstCreatePass&&o>=a.directiveStart&&function Ah(t,n,o){const{ngOnChanges:a,ngOnInit:l,ngDoCheck:h}=n.type.prototype;if(a){const m=pn(n);(o.preOrderHooks??=[]).push(t,m),(o.preOrderCheckHooks??=[]).push(t,m)}l&&(o.preOrderHooks??=[]).push(0-t,l),h&&((o.preOrderHooks??=[]).push(t,h),(o.preOrderCheckHooks??=[]).push(t,h))}(o,h[o],n)}finally{null!==N&&$n(N),Dl(v),m.resolving=!1,Kr()}}return l}function Rh(t,n,o){return!!(o[n+(t>>xh)]&1<<t)}function Fh(t,n){return!(t&kt.Self||t&kt.Host&&n)}class Tr{constructor(n,o){this._tNode=n,this._lView=o}get(n,o,a){return wl(this._tNode,this._lView,n,Wt(a),o)}}function Qg(){return new Tr(ji(),Dt())}function Lh(t){return Ke(()=>{const n=t.prototype.constructor,o=n[Jt]||Pu(n),a=Object.prototype;let l=Object.getPrototypeOf(t.prototype).constructor;for(;l&&l!==a;){const h=l[Jt]||Pu(l);if(h&&h!==o)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function Pu(t){return be(t)?()=>{const n=Pu(K(t));return n&&n()}:Rr(t)}function ku(t){const n=t[jt],o=n.type;return 2===o?n.declTNode:1===o?t[wi]:null}function Oc(t){return function Oh(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const o=t.attrs;if(o){const a=o.length;let l=0;for(;l<a;){const h=o[l];if(Wn(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<a&&"string"==typeof o[l];)l++;else{if(h===n)return o[l+1];l+=2}}}return null}(ji(),t)}const Ca="__parameters__";function Ya(t,n,o){return Ke(()=>{const a=function Fu(t){return function(...o){if(t){const a=t(...o);for(const l in a)this[l]=a[l]}}}(n);function l(...h){if(this instanceof l)return a.apply(this,h),this;const m=new l(...h);return v.annotation=m,v;function v(w,N,V){const te=w.hasOwnProperty(Ca)?w[Ca]:Object.defineProperty(w,Ca,{value:[]})[Ca];for(;te.length<=V;)te.push(null);return(te[V]=te[V]||[]).push(m),w}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=t,l.annotationCls=l,l})}function kc(t,n){t.forEach(o=>Array.isArray(o)?kc(o,n):n(o))}function Xg(t,n,o){n>=t.length?t.push(o):t.splice(n,0,o)}function Lu(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function El(t,n){const o=[];for(let a=0;a<t;a++)o.push(n);return o}function Mr(t,n,o){let a=ia(t,n);return a>=0?t[1|a]=o:(a=~a,function Es(t,n,o,a){let l=t.length;if(l==n)t.push(o,a);else if(1===l)t.push(a,t[0]),t[0]=o;else{for(l--,t.push(t[l-1],t[l]);l>n;)t[l]=t[l-2],l--;t[n]=o,t[n+1]=a}}(t,a,n,o)),a}function Tl(t,n){const o=ia(t,n);if(o>=0)return t[1|o]}function ia(t,n){return function jh(t,n,o){let a=0,l=t.length>>o;for(;l!==a;){const h=a+(l-a>>1),m=t[h<<o];if(n===m)return h<<o;m>n?l=h:a=h+1}return~(l<<o)}(t,n,1)}const $s=Rn(Ya("Optional"),8),oa=Rn(Ya("SkipSelf"),4);function Lc(t){return 128==(128&t.flags)}var Bc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Bc||{});const lm=/^>|^->|<!--|-->|--!>|<!-$/g,Jh=/(<|>)/g,um="\u200b$1\u200b";const ra=new Map;let kl=0;const zu="__ngContext__";function Qo(t,n){bo(n)?(t[zu]=n[sr],function hm(t){ra.set(t[sr],t)}(n)):t[zu]=n}let Ku;function Qu(t,n){return Ku(t,n)}function Uc(t){const n=t[qn];return Li(n)?n[qn]:n}function vm(t){return Dm(t[vr])}function ym(t){return Dm(t[$i])}function Dm(t){for(;null!==t&&!Li(t);)t=t[$i];return t}function Ea(t,n,o,a,l){if(null!=a){let h,m=!1;Li(a)?h=a:bo(a)&&(m=!0,a=a[Kn]);const v=ui(a);0===t&&null!==o?null==l?Mm(n,o,v):ec(n,o,v,l||null,!0):1===t&&null!==o?ec(n,o,v,l||null,!0):2===t?function Ul(t,n,o){const a=nd(t,n);a&&function Sm(t,n,o,a){t.removeChild(n,o,a)}(t,a,n,o)}(n,v,m):3===t&&n.destroyNode(v),null!=h&&function Xy(t,n,o,a,l){const h=o[Gi];h!==ui(o)&&Ea(n,t,a,h,l);for(let v=Yi;v<o.length;v++){const w=o[v];Xo(w[jt],w,t,n,a,h)}}(n,t,h,o,l)}}function Xu(t,n){return t.createText(n)}function Rl(t,n){return t.createComment(function Qa(t){return t.replace(lm,n=>n.replace(Jh,um))}(n))}function ed(t,n,o){return t.createElement(n,o)}function Em(t,n){const o=t[Nr],a=o.indexOf(n);Tn(n),o.splice(a,1)}function td(t,n){if(t.length<=Yi)return;const o=Yi+n,a=t[o];if(a){const l=a[Mo];null!==l&&l!==t&&Em(l,a),n>0&&(t[o-1][$i]=a[$i]);const h=Lu(t,Yi+n);!function Wy(t,n){Xo(t,n,n[Ut],2,null,null),n[Kn]=null,n[wi]=null}(a[jt],a);const m=h[vo];null!==m&&m.detachView(h[jt]),a[qn]=null,a[$i]=null,a[Xt]&=-129}return a}function rf(t,n){if(!(256&n[Xt])){const o=n[Ut];n[Or]&&as(n[Or]),n[Xi]&&as(n[Xi]),o.destroyNode&&Xo(t,n,o,3,null,null),function wm(t){let n=t[vr];if(!n)return sf(t[jt],t);for(;n;){let o=null;if(bo(n))o=n[vr];else{const a=n[Yi];a&&(o=a)}if(!o){for(;n&&!n[$i]&&n!==t;)bo(n)&&sf(n[jt],n),n=n[qn];null===n&&(n=t),bo(n)&&sf(n[jt],n),o=n&&n[$i]}n=o}}(n)}}function sf(t,n){if(!(256&n[Xt])){n[Xt]&=-129,n[Xt]|=256,function Qy(t,n){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let a=0;a<o.length;a+=2){const l=n[o[a]];if(!(l instanceof Ac)){const h=o[a+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const v=l[h[m]],w=h[m+1];Ui(4,v,w);try{w.call(v)}finally{Ui(5,v,w)}}else{Ui(4,l,h);try{h.call(l)}finally{Ui(5,l,h)}}}}}(t,n),function Ky(t,n){const o=t.cleanup,a=n[_r];if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const m=o[h+3];m>=0?a[m]():a[-m].unsubscribe(),h+=2}else o[h].call(a[o[h+1]]);null!==a&&(n[_r]=null);const l=n[yr];if(null!==l){n[yr]=null;for(let h=0;h<l.length;h++)(0,l[h])()}}(t,n),1===n[jt].type&&n[Ut].destroy();const o=n[Mo];if(null!==o&&Li(n[qn])){o!==n[qn]&&Em(o,n);const a=n[vo];null!==a&&a.detachView(t)}!function fm(t){ra.delete(t[sr])}(n)}}function Fl(t,n,o){return Tm(t,n.parent,o)}function Tm(t,n,o){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return o[Kn];{const{componentOffset:l}=a;if(l>-1){const{encapsulation:h}=t.data[a.directiveStart+l];if(h===Mt.None||h===Mt.Emulated)return null}return u(a,o)}}function ec(t,n,o,a,l){t.insertBefore(n,o,a,l)}function Mm(t,n,o){t.appendChild(n,o)}function Am(t,n,o,a,l){null!==a?ec(t,n,o,a,l):Mm(t,n,o)}function nd(t,n){return t.parentNode(n)}function xm(t,n,o){return id(t,n,o)}function Om(t,n,o){return 40&t.type?u(t,o):null}let af,sd,ff,ad,id=Om;function Nm(t,n){id=t,af=n}function od(t,n,o,a){const l=Fl(t,a,n),h=n[Ut],v=xm(a.parent||n[wi],a,n);if(null!=l)if(Array.isArray(o))for(let w=0;w<o.length;w++)Am(h,l,o[w],v,!1);else Am(h,l,o,v,!1);void 0!==af&&af(h,a,n,o,l)}function Ll(t,n){if(null!==n){const o=n.type;if(3&o)return u(n,t);if(4&o)return Bl(-1,t[n.index]);if(8&o){const a=n.child;if(null!==a)return Ll(t,a);{const l=t[n.index];return Li(l)?Bl(-1,l):ui(l)}}if(32&o)return Qu(n,t)()||ui(t[n.index]);{const a=Pm(t,n);return null!==a?Array.isArray(a)?a[0]:Ll(Uc(t[gi]),a):Ll(t,n.next)}}return null}function Pm(t,n){return null!==n?t[gi][wi].projection[n.projection]:null}function Bl(t,n){const o=Yi+t+1;if(o<n.length){const a=n[o],l=a[jt].firstChild;if(null!==l)return Ll(a,l)}return n[Gi]}function rd(t,n,o,a,l,h,m){for(;null!=o;){const v=a[o.index],w=o.type;if(m&&0===n&&(v&&Qo(ui(v),a),o.flags|=2),32!=(32&o.flags))if(8&w)rd(t,n,o.child,a,l,h,!1),Ea(n,t,l,v,h);else if(32&w){const N=Qu(o,a);let V;for(;V=N();)Ea(n,t,l,V,h);Ea(n,t,l,v,h)}else 16&w?km(t,n,a,o,l,h):Ea(n,t,l,v,h);o=m?o.projectionNext:o.next}}function Xo(t,n,o,a,l,h){rd(o,a,t.firstChild,n,l,h,!1)}function km(t,n,o,a,l,h){const m=o[gi],w=m[wi].projection[a.projection];if(Array.isArray(w))for(let N=0;N<w.length;N++)Ea(n,t,l,w[N],h);else{let N=w;const V=m[qn];Lc(a)&&(N.flags|=128),rd(t,n,N,V,l,h,!0)}}function uf(t,n,o){""===o?t.removeAttribute(n,"class"):t.setAttribute(n,"class",o)}function Rm(t,n,o){const{mergedAttrs:a,classes:l,styles:h}=o;null!==a&&In(t,n,a),null!==l&&uf(t,n,l),null!==h&&function t1(t,n,o){t.setAttribute(n,"style",o)}(t,n,h)}function jc(t){return function df(){if(void 0===sd&&(sd=null,$t.trustedTypes))try{sd=$t.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return sd}()?.createHTML(t)||t}function o1(t){ff=t}function Hc(){if(void 0!==ff)return ff;if(typeof document<"u")return document;throw new Te(210,!1)}function pf(){if(void 0===ad&&(ad=null,$t.trustedTypes))try{ad=$t.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ad}function cd(t){return pf()?.createHTML(t)||t}function mf(t){return pf()?.createScriptURL(t)||t}class Wi{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Rt})`}}class di extends Wi{getTypeName(){return"HTML"}}class Lm extends Wi{getTypeName(){return"Style"}}class Bm extends Wi{getTypeName(){return"Script"}}class Um extends Wi{getTypeName(){return"URL"}}class jm extends Wi{getTypeName(){return"ResourceURL"}}function Gs(t){return t instanceof Wi?t.changingThisBreaksApplicationSecurity:t}function Ns(t,n){const o=function Hm(t){return t instanceof Wi&&t.getTypeName()||null}(t);if(null!=o&&o!==n){if("ResourceURL"===o&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${o} (see ${Rt})`)}return o===n}function Zm(t){return new di(t)}function Vm(t){return new Lm(t)}function $m(t){return new Bm(t)}function Gm(t){return new Um(t)}function _f(t){return new jm(t)}function vf(t){const n=new Ym(t);return function Zc(){try{return!!(new window.DOMParser).parseFromString(jc(""),"text/html")}catch{return!1}}()?new zm(n):n}class zm{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const o=(new window.DOMParser).parseFromString(jc(n),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(n):(o.removeChild(o.firstChild),o)}catch{return null}}}class Ym{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const o=this.inertDocument.createElement("template");return o.innerHTML=jc(n),o}}const Wm=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function jl(t){return(t=String(t)).match(Wm)?t:"unsafe:"+t}function zs(t){const n={};for(const o of t.split(","))n[o]=!0;return n}function Vc(...t){const n={};for(const o of t)for(const a in o)o.hasOwnProperty(a)&&(n[a]=!0);return n}const yf=zs("area,br,col,hr,img,wbr"),Df=zs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),bf=zs("rp,rt"),ld=Vc(yf,Vc(Df,zs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Vc(bf,zs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Vc(bf,Df)),ud=zs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Cf=Vc(ud,zs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),zs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),qm=zs("script,style,template");class Jm{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let o=n.firstChild,a=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?a=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,a&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let l=this.checkClobberedElement(o,o.nextSibling);if(l){o=l;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(n){const o=n.nodeName.toLowerCase();if(!ld.hasOwnProperty(o))return this.sanitizedSomething=!0,!qm.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const a=n.attributes;for(let l=0;l<a.length;l++){const h=a.item(l),m=h.name,v=m.toLowerCase();if(!Cf.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let w=h.value;ud[v]&&(w=jl(w)),this.buf.push(" ",m,'="',wf(w),'"')}return this.buf.push(">"),!0}endElement(n){const o=n.nodeName.toLowerCase();ld.hasOwnProperty(o)&&!yf.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(n){this.buf.push(wf(n))}checkClobberedElement(n,o){if(o&&(n.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return o}}const Km=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Qm=/([^\#-~ |!])/g;function wf(t){return t.replace(/&/g,"&amp;").replace(Km,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Qm,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Hl;function Ef(t,n){let o=null;try{Hl=Hl||vf(t);let a=n?String(n):"";o=Hl.getInertBodyElement(a);let l=5,h=a;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,a=h,h=o.innerHTML,o=Hl.getInertBodyElement(a)}while(a!==h);return jc((new Jm).sanitizeChildren(dd(o)||o))}finally{if(o){const a=dd(o)||o;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function dd(t){return"content"in t&&function Xm(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Ta=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ta||{});function Tf(t){const n=Gc();return n?cd(n.sanitize(Ta.HTML,t)||""):Ns(t,"HTML")?cd(Gs(t)):Ef(Hc(),fe(t))}function hd(t){const n=Gc();return n?n.sanitize(Ta.URL,t)||"":Ns(t,"URL")?Gs(t):jl(fe(t))}function $c(t){const n=Gc();if(n)return mf(n.sanitize(Ta.RESOURCE_URL,t)||"");if(Ns(t,"ResourceURL"))return mf(Gs(t));throw new Te(904,!1)}function Mf(t,n,o){return function i_(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?$c:hd}(n,o)(t)}function Gc(){const t=Dt();return t&&t[Bo].sanitizer}class yi{constructor(n,o){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Ht({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const zc=new yi("ENVIRONMENT_INITIALIZER"),Af=new yi("INJECTOR",-1),Sf=new yi("INJECTOR_DEF_TYPES");class fd{get(n,o=Si){if(o===Si){const a=new Error(`NullInjectorError: No provider for ${ne(n)}!`);throw a.name="NullInjectorError",a}return o}}function pd(t){return{\u0275providers:t}}function o_(...t){return{\u0275providers:If(0,t),\u0275fromNgModule:!0}}function If(t,...n){const o=[],a=new Set;let l;const h=m=>{o.push(m)};return kc(n,m=>{const v=m;Zl(v,h,[],a)&&(l||=[],l.push(v))}),void 0!==l&&xf(l,h),o}function xf(t,n){for(let o=0;o<t.length;o++){const{ngModule:a,providers:l}=t[o];Ma(l,h=>{n(h,a)})}}function Zl(t,n,o,a){if(!(t=K(t)))return!1;let l=null,h=ze(t);const m=!h&&yn(t);if(h||m){if(m&&!m.standalone)return!1;l=t}else{const w=t.ngModule;if(h=ze(w),!h)return!1;l=w}const v=a.has(l);if(m){if(v)return!1;if(a.add(l),m.dependencies){const w="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const N of w)Zl(N,n,o,a)}}else{if(!h)return!1;{if(null!=h.imports&&!v){let N;a.add(l);try{kc(h.imports,V=>{Zl(V,n,o,a)&&(N||=[],N.push(V))})}finally{}void 0!==N&&xf(N,n)}if(!v){const N=Rr(l)||(()=>new l);n({provide:l,useFactory:N,deps:qt},l),n({provide:Sf,useValue:l,multi:!0},l),n({provide:zc,useValue:()=>ot(l),multi:!0},l)}const w=h.providers;if(null!=w&&!v){const N=t;Ma(w,V=>{n(V,N)})}}}return l!==t&&void 0!==t.providers}function Ma(t,n){for(let o of t)Ye(o)&&(o=o.\u0275providers),Array.isArray(o)?Ma(o,n):n(o)}const r_=ge({provide:String,useValue:ge});function ao(t){return null!==t&&"object"==typeof t&&r_ in t}function sa(t){return"function"==typeof t}const fr=new yi("Set Injector scope."),$l={},a_={};let gd;function Gl(){return void 0===gd&&(gd=new fd),gd}class Ps{}class zl extends Ps{get destroyed(){return this._destroyed}constructor(n,o,a,l){super(),this.parent=o,this.source=a,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,_d(n,m=>this.processProvider(m)),this.records.set(Af,tc(void 0,this)),l.has("environment")&&this.records.set(Ps,tc(void 0,this));const h=this.records.get(fr);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Sf.multi,qt,kt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of n)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const o=ie(this),a=$n(void 0);try{return n()}finally{ie(o),$n(a)}}get(n,o=Si,a=kt.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(ii))return n[ii](this);a=Wt(a);const h=ie(this),m=$n(void 0);try{if(!(a&kt.SkipSelf)){let w=this.records.get(n);if(void 0===w){const N=function h_(t){return"function"==typeof t||"object"==typeof t&&t instanceof yi}(n)&&gn(n);w=N&&this.injectableDefInScope(N)?tc(md(n),$l):null,this.records.set(n,w)}if(null!=w)return this.hydrate(n,w)}return(a&kt.Self?Gl():this.parent).get(n,o=a&kt.Optional&&o===Si?null:o)}catch(v){if("NullInjectorError"===v.name){if((v[Zi]=v[Zi]||[]).unshift(ne(n)),h)throw v;return function ue(t,n,o,a){const l=t[Zi];throw n[Ve]&&l.unshift(n[Ve]),t.message=function Ce(t,n,o,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let l=ne(n);if(Array.isArray(n))l=n.map(ne).join(" -> ");else if("object"==typeof n){let h=[];for(let m in n)if(n.hasOwnProperty(m)){let v=n[m];h.push(m+":"+("string"==typeof v?JSON.stringify(v):ne(v)))}l=`{${h.join(", ")}}`}return`${o}${a?"("+a+")":""}[${l}]: ${t.replace($o,"\n  ")}`}("\n"+t.message,l,o,a),t.ngTokenPath=l,t[Zi]=null,t}(v,n,"R3InjectorError",this.source)}throw v}finally{$n(m),ie(h)}}resolveInjectorInitializers(){const n=ie(this),o=$n(void 0);try{const l=this.get(zc.multi,qt,kt.Self);for(const h of l)h()}finally{ie(n),$n(o)}}toString(){const n=[],o=this.records;for(const a of o.keys())n.push(ne(a));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Te(205,!1)}processProvider(n){let o=sa(n=K(n))?n:K(n&&n.provide);const a=function l_(t){return ao(t)?tc(void 0,t.useValue):tc(Of(t),$l)}(n);if(sa(n)||!0!==n.multi)this.records.get(o);else{let l=this.records.get(o);l||(l=tc(void 0,$l,!0),l.factory=()=>Sn(l.multi),this.records.set(o,l)),o=n,l.multi.push(n)}this.records.set(o,a)}hydrate(n,o){return o.value===$l&&(o.value=a_,o.value=o.factory()),"object"==typeof o.value&&o.value&&function d_(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(n){if(!n.providedIn)return!1;const o=K(n.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(n){const o=this._onDestroyHooks.indexOf(n);-1!==o&&this._onDestroyHooks.splice(o,1)}}function md(t){const n=gn(t),o=null!==n?n.factory:Rr(t);if(null!==o)return o;if(t instanceof yi)throw new Te(204,!1);if(t instanceof Function)return function c_(t){const n=t.length;if(n>0)throw El(n,"?"),new Te(204,!1);const o=function Be(t){return t&&(t[mt]||t[bn])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new Te(204,!1)}function Of(t,n,o){let a;if(sa(t)){const l=K(t);return Rr(l)||md(l)}if(ao(t))a=()=>K(t.useValue);else if(function Vl(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Sn(t.deps||[]));else if(function Aa(t){return!(!t||!t.useExisting)}(t))a=()=>ot(K(t.useExisting));else{const l=K(t&&(t.useClass||t.provide));if(!function u_(t){return!!t.deps}(t))return Rr(l)||md(l);a=()=>new l(...Sn(t.deps))}return a}function tc(t,n,o=!1){return{factory:t,value:n,multi:o?[]:void 0}}function _d(t,n){for(const o of t)Array.isArray(o)?_d(o,n):o&&Ye(o)?_d(o.\u0275providers,n):n(o)}const Nf=new yi("AppId",{providedIn:"root",factory:()=>f_}),f_="ng",Pf=new yi("Platform Initializer"),vd=new yi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),p_=new yi("CSP nonce",{providedIn:"root",factory:()=>Hc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let kf=(t,n,o)=>null;function Md(t,n,o=!1){return kf(t,n,o)}class E_{}class Lf{}class M_{resolveComponentFactory(n){throw function T_(t){const n=Error(`No component factory found for ${ne(t)}.`);return n.ngComponent=t,n}(n)}}let ql=(()=>{class t{static#e=this.NULL=new M_}return t})();function Uf(){return xa(ji(),Dt())}function xa(t,n){return new rc(u(t,n))}let rc=(()=>{class t{constructor(o){this.nativeElement=o}static#e=this.__NG_ELEMENT_ID__=Uf}return t})();function A_(t){return t instanceof rc?t.nativeElement:t}class jf{}let S_=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function I_(){const t=Dt(),o=$(ji().index,t);return(bo(o)?o:t)[Ut]}()}return t})(),x_=(()=>{class t{static#e=this.\u0275prov=Ht({token:t,providedIn:"root",factory:()=>null})}return t})();class sc{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const O_=new sc("16.2.9"),Id={};function $f(t,n=null,o=null,a){const l=Gf(t,n,o,a);return l.resolveInjectorInitializers(),l}function Gf(t,n=null,o=null,a,l=new Set){const h=[o||qt,o_(t)];return a=a||("object"==typeof t?void 0:ne(t)),new zl(h,n||Gl(),a||null,l)}let Ts=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Si;static#t=this.NULL=new fd;static create(o,a){if(Array.isArray(o))return $f({name:""},a,o,"");{const l=o.name??"";return $f({name:l},o.parent,o.providers,l)}}static#n=this.\u0275prov=Ht({token:t,providedIn:"any",factory:()=>ot(Af)});static#i=this.__NG_ELEMENT_ID__=-1}return t})();function Od(t){return t.ngOriginalError}class aa{constructor(){this._console=console}handleError(n){const o=this._findOriginalError(n);this._console.error("ERROR",n),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(n){let o=n&&Od(n);for(;o&&Od(o);)o=Od(o);return o||null}}function Pd(t){return n=>{setTimeout(t,void 0,n)}}const Rs=class B_ extends g.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,o,a){let l=n,h=o||(()=>null),m=a;if(n&&"object"==typeof n){const w=n;l=w.next?.bind(w),h=w.error?.bind(w),m=w.complete?.bind(w)}this.__isAsync&&(h=Pd(h),l&&(l=Pd(l)),m&&(m=Pd(m)));const v=super.subscribe({next:l,error:h,complete:m});return n instanceof X.w0&&n.add(v),v}};function Yf(...t){}class Vo{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Rs(!1),this.onMicrotaskEmpty=new Rs(!1),this.onStable=new Rs(!1),this.onError=new Rs(!1),typeof Zone>"u")throw new Te(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!a&&o,l.shouldCoalesceRunChangeDetection=a,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function U_(){const t="function"==typeof $t.requestAnimationFrame;let n=$t[t?"requestAnimationFrame":"setTimeout"],o=$t[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&o){const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Z_(t){const n=()=>{!function H_(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call($t,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Rd(t),t.isCheckStableRunning=!0,kd(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Rd(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,l,h,m,v)=>{if(function $_(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(v))return o.invokeTask(l,h,m,v);try{return Wf(t),o.invokeTask(l,h,m,v)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||t.shouldCoalesceRunChangeDetection)&&n(),qf(t)}},onInvoke:(o,a,l,h,m,v,w)=>{try{return Wf(t),o.invoke(l,h,m,v,w)}finally{t.shouldCoalesceRunChangeDetection&&n(),qf(t)}},onHasTask:(o,a,l,h)=>{o.hasTask(l,h),a===l&&("microTask"==h.change?(t._hasPendingMicrotasks=h.microTask,Rd(t),kd(t)):"macroTask"==h.change&&(t.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,a,l,h)=>(o.handleError(l,h),t.runOutsideAngular(()=>t.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Vo.isInAngularZone())throw new Te(909,!1)}static assertNotInAngularZone(){if(Vo.isInAngularZone())throw new Te(909,!1)}run(n,o,a){return this._inner.run(n,o,a)}runTask(n,o,a,l){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+l,n,j_,Yf,Yf);try{return h.runTask(m,o,a)}finally{h.cancelTask(m)}}runGuarded(n,o,a){return this._inner.runGuarded(n,o,a)}runOutsideAngular(n){return this._outer.run(n)}}const j_={};function kd(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Rd(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Wf(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function qf(t){t._nesting--,kd(t)}class V_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Rs,this.onMicrotaskEmpty=new Rs,this.onStable=new Rs,this.onError=new Rs}run(n,o,a){return n.apply(o,a)}runGuarded(n,o,a){return n.apply(o,a)}runOutsideAngular(n){return n()}runTask(n,o,a,l){return n.apply(o,a)}}const Jf=new yi("",{providedIn:"root",factory:Kf});function Kf(){const t=wt(Vo);let n=!0;const o=new W.y(l=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{l.next(n),l.complete()})}),a=new W.y(l=>{let h;t.runOutsideAngular(()=>{h=t.onStable.subscribe(()=>{Vo.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,l.next(!0))})})});const m=t.onUnstable.subscribe(()=>{Vo.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{l.next(!1)}))});return()=>{h.unsubscribe(),m.unsubscribe()}});return(0,ce.T)(o,a.pipe((0,Q.B)()))}function Ys(t){return t instanceof Function?t():t}let Fd=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Ht({token:t,providedIn:"root",factory:()=>new t})}return t})();function Jc(t){for(;t;){t[Xt]|=64;const n=Uc(t);if(Co(t)&&!n)return t;t=n}return null}const Ld=new yi("",{providedIn:"root",factory:()=>!1});let Kl=null;function Oa(t,n){return t[n]??ap()}function rp(t,n){const o=ap();o.producerNode?.length&&(t[n]=Kl,o.lView=t,Kl=sp())}const tv={...vs,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Jc(t.lView)},lView:null};function sp(){return Object.create(tv)}function ap(){return Kl??=sp(),Kl}const Pn={};function cp(t){lp(Ln(),Dt(),To()+t,!1)}function lp(t,n,o,a){if(!a)if(3==(3&n[Xt])){const h=t.preOrderCheckHooks;null!==h&&_l(n,h,o)}else{const h=t.preOrderHooks;null!==h&&ya(n,h,0,o)}ta(o)}function lc(t,n=kt.Default){const o=Dt();return null===o?ot(t,n):wl(ji(),o,K(t),n)}function up(){throw new Error("invalid")}function Ql(t,n,o,a,l,h,m,v,w,N,V){const te=n.blueprint.slice();return te[Kn]=l,te[Xt]=140|a,(null!==N||t&&2048&t[Xt])&&(te[Xt]|=2048),Bt(te),te[qn]=te[ho]=t,te[ci]=o,te[Bo]=m||t&&t[Bo],te[Ut]=v||t&&t[Ut],te[uo]=w||t&&t[uo]||null,te[wi]=h,te[sr]=function dm(){return kl++}(),te[Oo]=V,te[Gr]=N,te[gi]=2==n.type?t[gi]:te,te}function uc(t,n,o,a,l){let h=t.data[n];if(null===h)h=Bd(t,n,o,a,l),function Mh(){return Qt.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=o,h.value=a,h.attrs=l;const m=jr();h.injectorIndex=null===m?-1:m.injectorIndex}return dr(h,!0),h}function Bd(t,n,o,a,l){const h=Zs(),m=Tc(),w=t.data[n]=function cv(t,n,o,a,l,h){let m=n?n.injectorIndex:-1,v=0;return lt()&&(v|=128),{type:o,index:a,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:v,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,o,n,a,l);return null===t.firstChild&&(t.firstChild=w),null!==h&&(m?null==h.child&&null!==w.parent&&(h.child=w):null===h.next&&(h.next=w,w.prev=h)),w}function Kc(t,n,o,a){if(0===o)return-1;const l=n.length;for(let h=0;h<o;h++)n.push(a),t.blueprint.push(a),t.data.push(null);return l}function dp(t,n,o,a,l){const h=Oa(n,Or),m=To(),v=2&a;try{ta(-1),v&&n.length>Fn&&lp(t,n,Fn,!1),Ui(v?2:0,l);const N=v?h:null,V=Wr(N);try{null!==N&&(N.dirty=!1),o(a,l)}finally{Lr(N,V)}}finally{v&&null===n[Or]&&rp(n,Or),ta(m),Ui(v?3:1,l)}}function Ud(t,n,o){if(Yo(n)){const a=pi(null);try{const h=n.directiveEnd;for(let m=n.directiveStart;m<h;m++){const v=t.data[m];v.contentQueries&&v.contentQueries(1,o[m],m)}}finally{pi(a)}}}function jd(t,n,o){Ee()&&(function gv(t,n,o,a){const l=o.directiveStart,h=o.directiveEnd;Wo(o)&&function Cv(t,n,o){const a=u(n,t),l=hp(o);let m=16;o.signals?m=4096:o.onPush&&(m=64);const v=Xl(t,Ql(t,l,null,m,a,n,null,t[Bo].rendererFactory.createRenderer(a,o),null,null,null));t[n.index]=v}(n,o,t.data[l+o.componentOffset]),t.firstCreatePass||bl(o,n),Qo(a,n);const m=o.initialInputs;for(let v=l;v<h;v++){const w=t.data[v],N=Da(n,t,v,o);Qo(N,n),null!==m&&wv(0,v-l,N,w,0,m),eo(w)&&($(o.index,n)[ci]=Da(n,t,v,o))}}(t,n,o,u(o,n)),64==(64&o.flags)&&vp(t,n,o))}function Hd(t,n,o=u){const a=n.localNames;if(null!==a){let l=n.index+1;for(let h=0;h<a.length;h+=2){const m=a[h+1],v=-1===m?o(n,t):t[m];t[l++]=v}}}function hp(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Zd(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Zd(t,n,o,a,l,h,m,v,w,N,V){const te=Fn+a,xe=te+l,je=function iv(t,n){const o=[];for(let a=0;a<n;a++)o.push(a<t?null:Pn);return o}(te,xe),_t="function"==typeof N?N():N;return je[jt]={type:t,blueprint:je,template:o,queries:null,viewQuery:v,declTNode:n,data:je.slice().fill(null,te),bindingStartIndex:te,expandoStartIndex:xe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:w,consts:_t,incompleteFirstPass:!1,ssrId:V}}let fp=t=>null;function gp(t,n,o,a){for(let l in t)if(t.hasOwnProperty(l)){o=null===o?{}:o;const h=t[l];null===a?mp(o,n,l,h):a.hasOwnProperty(l)&&mp(o,n,a[l],h)}return o}function mp(t,n,o,a){t.hasOwnProperty(o)?t[o].push(n,a):t[o]=[n,a]}function es(t,n,o,a,l,h,m,v){const w=u(n,o);let V,N=n.inputs;!v&&null!=N&&(V=N[a])?(Yd(t,o,V,a,l),Wo(n)&&function dv(t,n){const o=$(n,t);16&o[Xt]||(o[Xt]|=64)}(o,n.index)):3&n.type&&(a=function uv(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),l=null!=m?m(l,n.value||"",a):l,h.setProperty(w,a,l))}function Vd(t,n,o,a){if(Ee()){const l=null===a?null:{"":-1},h=function _v(t,n){const o=t.directiveRegistry;let a=null,l=null;if(o)for(let h=0;h<o.length;h++){const m=o[h];if(Go(n,m.selectors,!1))if(a||(a=[]),eo(m))if(null!==m.findHostDirectiveDefs){const v=[];l=l||new Map,m.findHostDirectiveDefs(m,v,l),a.unshift(...v,m),$d(t,n,v.length)}else a.unshift(m),$d(t,n,0);else l=l||new Map,m.findHostDirectiveDefs?.(m,a,l),a.push(m)}return null===a?null:[a,l]}(t,o);let m,v;null===h?m=v=null:[m,v]=h,null!==m&&_p(t,n,o,m,l,v),l&&function vv(t,n,o){if(n){const a=t.localNames=[];for(let l=0;l<n.length;l+=2){const h=o[n[l+1]];if(null==h)throw new Te(-301,!1);a.push(n[l],h)}}}(o,a,l)}o.mergedAttrs=Vt(o.mergedAttrs,o.attrs)}function _p(t,n,o,a,l,h){for(let N=0;N<a.length;N++)Ga(bl(o,n),t,a[N].type);!function Dv(t,n,o){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+o,t.providerIndexes=n}(o,t.data.length,a.length);for(let N=0;N<a.length;N++){const V=a[N];V.providersResolver&&V.providersResolver(V)}let m=!1,v=!1,w=Kc(t,n,a.length,null);for(let N=0;N<a.length;N++){const V=a[N];o.mergedAttrs=Vt(o.mergedAttrs,V.hostAttrs),bv(t,o,n,w,V),yv(w,V,l),null!==V.contentQueries&&(o.flags|=4),(null!==V.hostBindings||null!==V.hostAttrs||0!==V.hostVars)&&(o.flags|=64);const te=V.type.prototype;!m&&(te.ngOnChanges||te.ngOnInit||te.ngDoCheck)&&((t.preOrderHooks??=[]).push(o.index),m=!0),!v&&(te.ngOnChanges||te.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(o.index),v=!0),w++}!function lv(t,n,o){const l=n.directiveEnd,h=t.data,m=n.attrs,v=[];let w=null,N=null;for(let V=n.directiveStart;V<l;V++){const te=h[V],xe=o?o.get(te):null,_t=xe?xe.outputs:null;w=gp(te.inputs,V,w,xe?xe.inputs:null),N=gp(te.outputs,V,N,_t);const Pt=null===w||null===m||Vi(n)?null:Ev(w,V,m);v.push(Pt)}null!==w&&(w.hasOwnProperty("class")&&(n.flags|=8),w.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=v,n.inputs=w,n.outputs=N}(t,o,h)}function vp(t,n,o){const a=o.directiveStart,l=o.directiveEnd,h=o.index,m=function _(){return Qt.lFrame.currentDirectiveIndex}();try{ta(h);for(let v=a;v<l;v++){const w=t.data[v],N=n[v];T(v),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&mv(w,N)}}finally{ta(-1),T(m)}}function mv(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function $d(t,n,o){n.componentOffset=o,(t.components??=[]).push(n.index)}function yv(t,n,o){if(o){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)o[n.exportAs[a]]=t;eo(n)&&(o[""]=t)}}function bv(t,n,o,a,l){t.data[a]=l;const h=l.factory||(l.factory=Rr(l.type)),m=new Ac(h,eo(l),lc);t.blueprint[a]=m,o[a]=m,function fv(t,n,o,a,l){const h=l.hostBindings;if(h){let m=t.hostBindingOpCodes;null===m&&(m=t.hostBindingOpCodes=[]);const v=~n.index;(function pv(t){let n=t.length;for(;n>0;){const o=t[--n];if("number"==typeof o&&o<0)return o}return 0})(m)!=v&&m.push(v),m.push(o,a,h)}}(t,n,a,Kc(t,o,l.hostVars,Pn),l)}function Fs(t,n,o,a,l,h){const m=u(t,n);!function Gd(t,n,o,a,l,h,m){if(null==h)t.removeAttribute(n,l,o);else{const v=null==m?fe(h):m(h,a||"",l);t.setAttribute(n,l,v,o)}}(n[Ut],m,h,t.value,o,a,l)}function wv(t,n,o,a,l,h){const m=h[n];if(null!==m)for(let v=0;v<m.length;)yp(a,o,m[v++],m[v++],m[v++])}function yp(t,n,o,a,l){const h=pi(null);try{const m=t.inputTransforms;null!==m&&m.hasOwnProperty(a)&&(l=m[a].call(n,l)),null!==t.setInput?t.setInput(n,l,o,a):n[a]=l}finally{pi(h)}}function Ev(t,n,o){let a=null,l=0;for(;l<o.length;){const h=o[l];if(0!==h)if(5!==h){if("number"==typeof h)break;if(t.hasOwnProperty(h)){null===a&&(a=[]);const m=t[h];for(let v=0;v<m.length;v+=2)if(m[v]===n){a.push(h,m[v+1],o[l+1]);break}}l+=2}else l+=2;else l+=4}return a}function Dp(t,n,o,a){return[t,!0,!1,n,null,0,a,o,null,null,null]}function bp(t,n){const o=t.contentQueries;if(null!==o)for(let a=0;a<o.length;a+=2){const h=o[a+1];if(-1!==h){const m=t.data[h];oe(o[a]),m.contentQueries(2,n[h],h)}}}function Xl(t,n){return t[vr]?t[Qi][$i]=n:t[vr]=n,t[Qi]=n,n}function zd(t,n,o){oe(0);const a=pi(null);try{n(t,o)}finally{pi(a)}}function Cp(t){return t[_r]||(t[_r]=[])}function wp(t){return t.cleanup||(t.cleanup=[])}function Tp(t,n){const o=t[uo],a=o?o.get(aa,null):null;a&&a.handleError(n)}function Yd(t,n,o,a,l){for(let h=0;h<o.length;){const m=o[h++],v=o[h++];yp(t.data[m],n[m],a,v,l)}}function Ws(t,n,o){const a=s(n,t);!function bm(t,n,o){t.setValue(n,o)}(t[Ut],a,o)}function Tv(t,n){const o=$(n,t),a=o[jt];!function Mv(t,n){for(let o=n.length;o<t.blueprint.length;o++)n.push(t.blueprint[o])}(a,o);const l=o[Kn];null!==l&&null===o[Oo]&&(o[Oo]=Md(l,o[uo])),Wd(a,o,o[ci])}function Wd(t,n,o){Gt(n);try{const a=t.viewQuery;null!==a&&zd(1,a,o);const l=t.template;null!==l&&dp(t,n,l,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&bp(t,n),t.staticViewQueries&&zd(2,t.viewQuery,o);const h=t.components;null!==h&&function Av(t,n){for(let o=0;o<n.length;o++)Tv(t,n[o])}(n,h)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{n[Xt]&=-5,Is()}}let Mp=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(o,a,l){const h=typeof Zone>"u"?null:Zone.current,m=function We(t,n,o){const a=Object.create(Kt);o&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=n;const l=m=>{a.cleanupFn=m};return a.ref={notify:()=>Fr(a),run:()=>{if(a.dirty=!1,a.hasRun&&!ss(a))return;a.hasRun=!0;const m=Wr(a);try{a.cleanupFn(),a.cleanupFn=gt,a.fn(l)}finally{Lr(a,m)}},cleanup:()=>a.cleanupFn()},a.ref}(o,N=>{this.all.has(N)&&this.queue.set(N,h)},l);let v;this.all.add(m),m.notify();const w=()=>{m.cleanup(),v?.(),this.all.delete(m),this.queue.delete(m)};return v=a?.onDestroy(w),{destroy:w}}flush(){if(0!==this.queue.size)for(const[o,a]of this.queue)this.queue.delete(o),a?a.run(()=>o.run()):o.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Ht({token:t,providedIn:"root",factory:()=>new t})}return t})();function eu(t,n,o){let a=o?t.styles:null,l=o?t.classes:null,h=0;if(null!==n)for(let m=0;m<n.length;m++){const v=n[m];"number"==typeof v?h=v:1==h?l=De(l,v):2==h&&(a=De(a,v+": "+n[++m]+";"))}o?t.styles=a:t.stylesWithoutHost=a,o?t.classes=l:t.classesWithoutHost=l}function Qc(t,n,o,a,l=!1){for(;null!==o;){const h=n[o.index];null!==h&&a.push(ui(h)),Li(h)&&Ap(h,a);const m=o.type;if(8&m)Qc(t,n,o.child,a);else if(32&m){const v=Qu(o,n);let w;for(;w=v();)a.push(w)}else if(16&m){const v=Pm(n,o);if(Array.isArray(v))a.push(...v);else{const w=Uc(n[gi]);Qc(w[jt],w,v,a,!0)}}o=l?o.projectionNext:o.next}return a}function Ap(t,n){for(let o=Yi;o<t.length;o++){const a=t[o],l=a[jt].firstChild;null!==l&&Qc(a[jt],a,l,n)}t[Gi]!==t[Kn]&&n.push(t[Gi])}function tu(t,n,o,a=!0){const l=n[Bo],h=l.rendererFactory,m=l.afterRenderEventManager;h.begin?.(),m?.begin();try{Sp(t,n,t.template,o)}catch(w){throw a&&Tp(n,w),w}finally{h.end?.(),l.effectManager?.flush(),m?.end()}}function Sp(t,n,o,a){const l=n[Xt];if(256!=(256&l)){n[Bo].effectManager?.flush(),Gt(n);try{Bt(n),function gl(t){return Qt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&dp(t,n,o,2,a);const m=3==(3&l);if(m){const N=t.preOrderCheckHooks;null!==N&&_l(n,N,null)}else{const N=t.preOrderHooks;null!==N&&ya(n,N,0,null),Mc(n,0)}if(function xv(t){for(let n=vm(t);null!==n;n=ym(n)){if(!n[ar])continue;const o=n[Nr];for(let a=0;a<o.length;a++){vn(o[a])}}}(n),Ip(n,2),null!==t.contentQueries&&bp(t,n),m){const N=t.contentCheckHooks;null!==N&&_l(n,N)}else{const N=t.contentHooks;null!==N&&ya(n,N,1),Mc(n,1)}!function nv(t,n){const o=t.hostBindingOpCodes;if(null===o)return;const a=Oa(n,Xi);try{for(let l=0;l<o.length;l++){const h=o[l];if(h<0)ta(~h);else{const m=h,v=o[++l],w=o[++l];E(v,m),a.dirty=!1;const N=Wr(a);try{w(2,n[m])}finally{Lr(a,N)}}}}finally{null===n[Xi]&&rp(n,Xi),ta(-1)}}(t,n);const v=t.components;null!==v&&Op(n,v,0);const w=t.viewQuery;if(null!==w&&zd(2,w,a),m){const N=t.viewCheckHooks;null!==N&&_l(n,N)}else{const N=t.viewHooks;null!==N&&ya(n,N,2),Mc(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Xt]&=-73,Tn(n)}finally{Is()}}}function Ip(t,n){for(let o=vm(t);null!==o;o=ym(o))for(let a=Yi;a<o.length;a++)xp(o[a],n)}function Ov(t,n,o){xp($(n,t),o)}function xp(t,n){if(!function Ge(t){return 128==(128&t[Xt])}(t))return;const o=t[jt],a=t[Xt];if(80&a&&0===n||1024&a||2===n)Sp(o,t,o.template,t[ci]);else if(t[xo]>0){Ip(t,1);const l=o.components;null!==l&&Op(t,l,1)}}function Op(t,n,o){for(let a=0;a<n.length;a++)Ov(t,n[a],o)}class Xc{get rootNodes(){const n=this._lView,o=n[jt];return Qc(o,n,o.firstChild,[])}constructor(n,o){this._lView=n,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ci]}set context(n){this._lView[ci]=n}get destroyed(){return 256==(256&this._lView[Xt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[qn];if(Li(n)){const o=n[8],a=o?o.indexOf(this):-1;a>-1&&(td(n,a),Lu(o,a))}this._attachedToViewContainer=!1}rf(this._lView[jt],this._lView)}onDestroy(n){!function Yn(t,n){if(256==(256&t[Xt]))throw new Te(911,!1);null===t[yr]&&(t[yr]=[]),t[yr].push(n)}(this._lView,n)}markForCheck(){Jc(this._cdRefInjectingView||this._lView)}detach(){this._lView[Xt]&=-129}reattach(){this._lView[Xt]|=128}detectChanges(){tu(this._lView[jt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Cm(t,n){Xo(t,n,n[Ut],2,null,null)}(this._lView[jt],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Te(902,!1);this._appRef=n}}class Nv extends Xc{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;tu(n[jt],n,n[ci],!1)}checkNoChanges(){}get context(){return null}}class Np extends ql{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const o=yn(n);return new el(o,this.ngModule)}}function Pp(t){const n=[];for(let o in t)t.hasOwnProperty(o)&&n.push({propName:t[o],templateName:o});return n}class kv{constructor(n,o){this.injector=n,this.parentInjector=o}get(n,o,a){a=Wt(a);const l=this.injector.get(n,Id,a);return l!==Id||o===Id?l:this.parentInjector.get(n,o,a)}}class el extends Lf{get inputs(){const n=this.componentDef,o=n.inputTransforms,a=Pp(n.inputs);if(null!==o)for(const l of a)o.hasOwnProperty(l.propName)&&(l.transform=o[l.propName]);return a}get outputs(){return Pp(this.componentDef.outputs)}constructor(n,o){super(),this.componentDef=n,this.ngModule=o,this.componentType=n.type,this.selector=function tr(t){return t.map(no).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!o}create(n,o,a,l){let h=(l=l||this.ngModule)instanceof Ps?l:l?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const m=h?new kv(n,h):n,v=m.get(jf,null);if(null===v)throw new Te(407,!1);const te={rendererFactory:v,sanitizer:m.get(x_,null),effectManager:m.get(Mp,null),afterRenderEventManager:m.get(Fd,null)},xe=v.createRenderer(null,this.componentDef),je=this.componentDef.selectors[0][0]||"div",_t=a?function ov(t,n,o,a){const h=a.get(Ld,!1)||o===Mt.ShadowDom,m=t.selectRootElement(n,h);return function rv(t){fp(t)}(m),m}(xe,a,this.componentDef.encapsulation,m):ed(xe,je,function Pv(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(je)),dn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Et=null;null!==_t&&(Et=Md(_t,m,!0));const kn=Zd(0,null,null,1,0,null,null,null,null,null,null),ei=Ql(null,kn,null,dn,null,null,te,xe,m,null,Et);let Hi,gs;Gt(ei);try{const Ua=this.componentDef;let wu,Dy=null;Ua.findHostDirectiveDefs?(wu=[],Dy=new Map,Ua.findHostDirectiveDefs(Ua,wu,Dy),wu.push(Ua)):wu=[Ua];const KT=function Fv(t,n){const o=t[jt],a=Fn;return t[a]=n,uc(o,a,2,"#host",null)}(ei,_t),QT=function Lv(t,n,o,a,l,h,m){const v=l[jt];!function Bv(t,n,o,a){for(const l of t)n.mergedAttrs=Vt(n.mergedAttrs,l.hostAttrs);null!==n.mergedAttrs&&(eu(n,n.mergedAttrs,!0),null!==o&&Rm(a,o,n))}(a,t,n,m);let w=null;null!==n&&(w=Md(n,l[uo]));const N=h.rendererFactory.createRenderer(n,o);let V=16;o.signals?V=4096:o.onPush&&(V=64);const te=Ql(l,hp(o),null,V,l[t.index],t,h,N,null,null,w);return v.firstCreatePass&&$d(v,t,a.length-1),Xl(l,te),l[t.index]=te}(KT,_t,Ua,wu,ei,te,xe);gs=C(kn,Fn),_t&&function jv(t,n,o,a){if(a)In(t,o,["ng-version",O_.full]);else{const{attrs:l,classes:h}=function Oi(t){const n=[],o=[];let a=1,l=2;for(;a<t.length;){let h=t[a];if("string"==typeof h)2===l?""!==h&&n.push(h,t[++a]):8===l&&o.push(h);else{if(!En(l))break;l=h}a++}return{attrs:n,classes:o}}(n.selectors[0]);l&&In(t,o,l),h&&h.length>0&&uf(t,o,h.join(" "))}}(xe,Ua,_t,a),void 0!==o&&function Hv(t,n,o){const a=t.projection=[];for(let l=0;l<n.length;l++){const h=o[l];a.push(null!=h?Array.from(h):null)}}(gs,this.ngContentSelectors,o),Hi=function Uv(t,n,o,a,l,h){const m=ji(),v=l[jt],w=u(m,l);_p(v,l,m,o,null,a);for(let V=0;V<o.length;V++)Qo(Da(l,v,m.directiveStart+V,m),l);vp(v,l,m),w&&Qo(w,l);const N=Da(l,v,m.directiveStart+m.componentOffset,m);if(t[ci]=l[ci]=N,null!==h)for(const V of h)V(N,n);return Ud(v,m,t),N}(QT,Ua,wu,Dy,ei,[Zv]),Wd(kn,ei,null)}finally{Is()}return new Rv(this.componentType,Hi,xa(gs,ei),ei,gs)}}class Rv extends E_{constructor(n,o,a,l,h){super(),this.location=a,this._rootLView=l,this._tNode=h,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new Nv(l),this.componentType=n}setInput(n,o){const a=this._tNode.inputs;let l;if(null!==a&&(l=a[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),o))return;const h=this._rootLView;Yd(h[jt],h,l,n,o),this.previousInputValues.set(n,o),Jc($(this._tNode.index,h))}}get injector(){return new Tr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function Zv(){const t=ji();ml(Dt()[jt],t)}function Jd(t){let n=function qd(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const a=[t];for(;n;){let l;if(eo(t))l=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Te(903,!1);l=n.\u0275dir}if(l){if(o){a.push(l);const m=t;m.inputs=tl(t.inputs),m.inputTransforms=tl(t.inputTransforms),m.declaredInputs=tl(t.declaredInputs),m.outputs=tl(t.outputs);const v=l.hostBindings;v&&zv(t,v);const w=l.viewQuery,N=l.contentQueries;if(w&&$v(t,w),N&&Gv(t,N),Ae(t.inputs,l.inputs),Ae(t.declaredInputs,l.declaredInputs),Ae(t.outputs,l.outputs),null!==l.inputTransforms&&(null===m.inputTransforms&&(m.inputTransforms={}),Ae(m.inputTransforms,l.inputTransforms)),eo(l)&&l.data.animation){const V=t.data;V.animation=(V.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let m=0;m<h.length;m++){const v=h[m];v&&v.ngInherit&&v(t),v===Jd&&(o=!1)}}n=Object.getPrototypeOf(n)}!function Vv(t){let n=0,o=null;for(let a=t.length-1;a>=0;a--){const l=t[a];l.hostVars=n+=l.hostVars,l.hostAttrs=Vt(l.hostAttrs,o=Vt(o,l.hostAttrs))}}(a)}function tl(t){return t===At?{}:t===qt?[]:t}function $v(t,n){const o=t.viewQuery;t.viewQuery=o?(a,l)=>{n(a,l),o(a,l)}:n}function Gv(t,n){const o=t.contentQueries;t.contentQueries=o?(a,l,h)=>{n(a,l,h),o(a,l,h)}:n}function zv(t,n){const o=t.hostBindings;t.hostBindings=o?(a,l)=>{n(a,l),o(a,l)}:n}function kp(t){return n=>{n.findHostDirectiveDefs=Rp,n.hostDirectives=(Array.isArray(t)?t:t()).map(o=>"function"==typeof o?{directive:K(o),inputs:At,outputs:At}:{directive:K(o.directive),inputs:Fp(o.inputs),outputs:Fp(o.outputs)})}}function Rp(t,n,o){if(null!==t.hostDirectives)for(const a of t.hostDirectives){const l=Di(a.directive);Jv(l.declaredInputs,a.inputs),Rp(l,n,o),o.set(l,a),n.push(l)}}function Fp(t){if(void 0===t||0===t.length)return At;const n={};for(let o=0;o<t.length;o+=2)n[t[o]]=t[o+1];return n}function Jv(t,n){for(const o in n)n.hasOwnProperty(o)&&(t[n[o]]=t[o])}function Lp(t){const n=t.inputConfig,o={};for(const a in n)if(n.hasOwnProperty(a)){const l=n[a];Array.isArray(l)&&l[2]&&(o[a]=l[2])}t.inputTransforms=o}function nu(t){return!!Kd(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Kd(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ls(t,n,o){return t[n]=o}function pr(t,n,o){return!Object.is(t[n],o)&&(t[n]=o,!0)}function Na(t,n,o,a){const l=pr(t,n,o);return pr(t,n+1,a)||l}function Qd(t,n,o,a){const l=Dt();return pr(l,va(),n)&&(Ln(),Fs(go(),l,t,n,o,a)),Qd}function fc(t,n,o,a){return pr(t,va(),o)?n+fe(o)+a:Pn}function pc(t,n,o,a,l,h){const v=Na(t,function Ds(){return Qt.lFrame.bindingIndex}(),o,l);return bs(2),v?n+fe(o)+a+fe(l)+h:Pn}function Jp(t,n,o,a,l,h,m,v){const w=Dt(),N=Ln(),V=t+Fn,te=N.firstCreatePass?function v0(t,n,o,a,l,h,m,v,w){const N=n.consts,V=uc(n,t,4,m||null,yt(N,v));Vd(n,o,V,yt(N,w)),ml(n,V);const te=V.tView=Zd(2,V,a,l,h,n.directiveRegistry,n.pipeRegistry,null,n.schemas,N,null);return null!==n.queries&&(n.queries.template(n,V),te.queries=n.queries.embeddedTView(V)),V}(V,N,w,n,o,a,l,h,m):N.data[V];dr(te,!1);const xe=Kp(N,w,te,t);mo()&&od(N,w,xe,te),Qo(xe,w),Xl(w,w[V]=Dp(xe,w,xe,te)),cr(te)&&jd(N,w,te),null!=m&&Hd(w,te,v)}let Kp=function Qp(t,n,o,a){return Qr(!0),n[Ut].createComment("")};function Xp(t){return O(function fl(){return Qt.lFrame.contextLView}(),Fn+t)}function ih(t,n,o){const a=Dt();return pr(a,va(),n)&&es(Ln(),go(),a,t,n,a[Ut],o,!1),ih}function oh(t,n,o,a,l){const m=l?"class":"style";Yd(t,o,n.inputs[m],m,a)}function au(t,n,o,a){const l=Dt(),h=Ln(),m=Fn+t,v=l[Ut],w=h.firstCreatePass?function C0(t,n,o,a,l,h){const m=n.consts,w=uc(n,t,2,a,yt(m,l));return Vd(n,o,w,yt(m,h)),null!==w.attrs&&eu(w,w.attrs,!1),null!==w.mergedAttrs&&eu(w,w.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,w),w}(m,h,l,n,o,a):h.data[m],N=eg(h,l,w,v,n,t);l[m]=N;const V=cr(w);return dr(w,!0),Rm(v,N,w),32!=(32&w.flags)&&mo()&&od(h,l,N,w),0===function U(){return Qt.lFrame.elementDepthCount}()&&Qo(N,l),function P(){Qt.lFrame.elementDepthCount++}(),V&&(jd(h,l,w),Ud(h,w,l)),null!==a&&Hd(l,w),au}function cu(){let t=ji();Tc()?_a():(t=t.parent,dr(t,!1));const n=t;(function It(t){return Qt.skipHydrationRootTNode===t})(n)&&function oo(){Qt.skipHydrationRootTNode=null}(),function q(){Qt.lFrame.elementDepthCount--}();const o=Ln();return o.firstCreatePass&&(ml(o,t),Yo(t)&&o.queries.elementEnd(t)),null!=n.classesWithoutHost&&function qg(t){return 0!=(8&t.flags)}(n)&&oh(o,n,Dt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function yl(t){return 0!=(16&t.flags)}(n)&&oh(o,n,Dt(),n.stylesWithoutHost,!1),cu}function rh(t,n,o,a){return au(t,n,o,a),cu(),rh}let eg=(t,n,o,a,l,h)=>(Qr(!0),ed(a,l,function Eu(){return Qt.lFrame.currentNamespace}()));function lu(t,n,o){const a=Dt(),l=Ln(),h=t+Fn,m=l.firstCreatePass?function T0(t,n,o,a,l){const h=n.consts,m=yt(h,a),v=uc(n,t,8,"ng-container",m);return null!==m&&eu(v,m,!0),Vd(n,o,v,yt(h,l)),null!==n.queries&&n.queries.elementStart(n,v),v}(h,l,a,n,o):l.data[h];dr(m,!0);const v=tg(l,a,m,t);return a[h]=v,mo()&&od(l,a,v,m),Qo(v,a),cr(m)&&(jd(l,a,m),Ud(l,m,a)),null!=o&&Hd(a,m),lu}function uu(){let t=ji();const n=Ln();return Tc()?_a():(t=t.parent,dr(t,!1)),n.firstCreatePass&&(ml(n,t),Yo(t)&&n.queries.elementEnd(t)),uu}function sh(t,n,o){return lu(t,n,o),uu(),sh}let tg=(t,n,o,a)=>(Qr(!0),Rl(n[Ut],""));function ah(){return Dt()}function ch(t){return!!t&&"function"==typeof t.then}function ig(t){return!!t&&"function"==typeof t.subscribe}function lh(t,n,o,a){const l=Dt(),h=Ln(),m=ji();return function rg(t,n,o,a,l,h,m){const v=cr(a),N=t.firstCreatePass&&wp(t),V=n[ci],te=Cp(n);let xe=!0;if(3&a.type||m){const Pt=u(a,n),Yt=m?m(Pt):Pt,dn=te.length,Et=m?ei=>m(ui(ei[a.index])):a.index;let kn=null;if(!m&&v&&(kn=function A0(t,n,o,a){const l=t.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const m=l[h];if(m===o&&l[h+1]===a){const v=n[_r],w=l[h+2];return v.length>w?v[w]:null}"string"==typeof m&&(h+=2)}return null}(t,n,l,a.index)),null!==kn)(kn.__ngLastListenerFn__||kn).__ngNextListenerFn__=h,kn.__ngLastListenerFn__=h,xe=!1;else{h=ag(a,n,V,h,!1);const ei=o.listen(Yt,l,h);te.push(h,ei),N&&N.push(l,Et,dn,dn+1)}}else h=ag(a,n,V,h,!1);const je=a.outputs;let _t;if(xe&&null!==je&&(_t=je[l])){const Pt=_t.length;if(Pt)for(let Yt=0;Yt<Pt;Yt+=2){const Hi=n[_t[Yt]][_t[Yt+1]].subscribe(h),gs=te.length;te.push(h,Hi),N&&N.push(l,a.index,gs,-(gs+1))}}}(h,l,l[Ut],m,t,n,a),lh}function sg(t,n,o,a){try{return Ui(6,n,o),!1!==o(a)}catch(l){return Tp(t,l),!1}finally{Ui(7,n,o)}}function ag(t,n,o,a,l){return function h(m){if(m===Function)return a;Jc(t.componentOffset>-1?$(t.index,n):n);let w=sg(n,o,a,m),N=h.__ngNextListenerFn__;for(;N;)w=sg(n,o,N,m)&&w,N=N.__ngNextListenerFn__;return l&&!1===w&&m.preventDefault(),w}}function cg(t=1){return function Cs(t){return(Qt.lFrame.contextLView=function ea(t,n){for(;t>0;)n=n[ho],t--;return n}(t,Qt.lFrame.contextLView))[ci]}(t)}function S0(t,n){let o=null;const a=function Ki(t){const n=t.attrs;if(null!=n){const o=n.indexOf(5);if(!(1&o))return n[o+1]}return null}(t);for(let l=0;l<n.length;l++){const h=n[l];if("*"!==h){if(null===a?Go(t,h,!0):Fo(a,h))return l}else o=l}return o}function lg(t){const n=Dt()[gi][wi];if(!n.projection){const a=n.projection=El(t?t.length:1,null),l=a.slice();let h=n.child;for(;null!==h;){const m=t?S0(h,t):0;null!==m&&(l[m]?l[m].projectionNext=h:a[m]=h,l[m]=h),h=h.next}}}function Pa(t,n=0,o){const a=Dt(),l=Ln(),h=uc(l,Fn+t,16,null,o||null);null===h.projection&&(h.projection=n),_a(),(!a[Oo]||lt())&&32!=(32&h.flags)&&function lf(t,n,o){km(n[Ut],0,n,o,Fl(t,o,n),xm(o.parent||n[wi],o,n))}(l,a,h)}function uh(t,n,o){return du(t,"",n,"",o),uh}function du(t,n,o,a,l){const h=Dt(),m=fc(h,n,o,a);return m!==Pn&&es(Ln(),go(),h,t,m,h[Ut],l,!1),du}function er(t,n){return t<<17|n<<2}function ca(t){return t>>17&32767}function dh(t){return 2|t}function ka(t){return(131068&t)>>2}function hh(t,n){return-131069&t|n<<2}function fh(t){return 1|t}function vg(t,n,o,a,l){const h=t[o+1],m=null===n;let v=a?ca(h):ka(h),w=!1;for(;0!==v&&(!1===w||m);){const V=t[v+1];k0(t[v],n)&&(w=!0,t[v+1]=a?fh(V):dh(V)),v=a?ca(V):ka(V)}w&&(t[o+1]=a?dh(h):fh(h))}function k0(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&ia(t,n)>=0}const Po={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function yg(t){return t.substring(Po.key,Po.keyEnd)}function i(t,n){const o=Po.textEnd;return o===n?-1:(n=Po.keyEnd=function Y(t,n,o){for(;n<o&&t.charCodeAt(n)>32;)n++;return n}(t,Po.key=n,o),x(t,n,o))}function x(t,n,o){for(;n<o&&t.charCodeAt(n)<=32;)n++;return n}function Zt(t,n,o){return ai(t,n,o,!1),Zt}function Bn(t,n){return ai(t,n,null,!0),Bn}function ni(t){!function Un(t,n,o,a){const l=Ln(),h=bs(2);l.firstUpdatePass&&hi(l,null,h,a);const m=Dt();if(o!==Pn&&pr(m,h,o)){const v=l.data[To()];if(fu(v,a)&&!oi(l,h)){let w=a?v.classesWithoutHost:v.stylesWithoutHost;null!==w&&(o=De(w,o||"")),oh(l,v,m,o,a)}else!function ts(t,n,o,a,l,h,m,v){l===Pn&&(l=qt);let w=0,N=0,V=0<l.length?l[0]:null,te=0<h.length?h[0]:null;for(;null!==V||null!==te;){const xe=w<l.length?l[w+1]:void 0,je=N<h.length?h[N+1]:void 0;let Pt,_t=null;V===te?(w+=2,N+=2,xe!==je&&(_t=te,Pt=je)):null===te||null!==V&&V<te?(w+=2,_t=V):(N+=2,_t=te,Pt=je),null!==_t&&hs(t,n,o,a,_t,Pt,m,v),V=w<l.length?l[w]:null,te=N<h.length?h[N]:null}}(l,v,m,m[Ut],m[h+1],m[h+1]=function Sr(t,n,o){if(null==o||""===o)return qt;const a=[],l=Gs(o);if(Array.isArray(l))for(let h=0;h<l.length;h++)t(a,l[h],!0);else if("object"==typeof l)for(const h in l)l.hasOwnProperty(h)&&t(a,h,l[h]);else"string"==typeof l&&n(a,l);return a}(t,n,o),a,h)}}(Ra,Mn,t,!0)}function Mn(t,n){for(let o=function f(t){return function D(t){Po.key=0,Po.keyEnd=0,Po.value=0,Po.valueEnd=0,Po.textEnd=t.length}(t),i(t,x(t,0,Po.textEnd))}(n);o>=0;o=i(n,o))Mr(t,yg(n),!0)}function ai(t,n,o,a){const l=Dt(),h=Ln(),m=bs(2);h.firstUpdatePass&&hi(h,t,m,a),n!==Pn&&pr(l,m,n)&&hs(h,h.data[To()],l,l[Ut],t,l[m+1]=function hu(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=ne(Gs(t)))),t}(n,o),a,m)}function oi(t,n){return n>=t.expandoStartIndex}function hi(t,n,o,a){const l=t.data;if(null===l[o+1]){const h=l[To()],m=oi(t,o);fu(h,a)&&null===n&&!m&&(n=!1),n=function qi(t,n,o,a){const l=function k(t){const n=Qt.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let h=a?n.residualClasses:n.residualStyles;if(null===l)0===(a?n.classBindings:n.styleBindings)&&(o=Ar(o=co(null,t,n,o,a),n.attrs,a),h=null);else{const m=n.directiveStylingLast;if(-1===m||t[m]!==l)if(o=co(l,t,n,o,a),null===h){let w=function Ri(t,n,o){const a=o?n.classBindings:n.styleBindings;if(0!==ka(a))return t[ca(a)]}(t,n,a);void 0!==w&&Array.isArray(w)&&(w=co(null,t,n,w[1],a),w=Ar(w,n.attrs,a),function ko(t,n,o,a){t[ca(o?n.classBindings:n.styleBindings)]=a}(t,n,a,w))}else h=function Ro(t,n,o){let a;const l=n.directiveEnd;for(let h=1+n.directiveStylingLast;h<l;h++)a=Ar(a,t[h].hostAttrs,o);return Ar(a,n.attrs,o)}(t,n,a)}return void 0!==h&&(a?n.residualClasses=h:n.residualStyles=h),o}(l,h,n,a),function N0(t,n,o,a,l,h){let m=h?n.classBindings:n.styleBindings,v=ca(m),w=ka(m);t[a]=o;let V,N=!1;if(Array.isArray(o)?(V=o[1],(null===V||ia(o,V)>0)&&(N=!0)):V=o,l)if(0!==w){const xe=ca(t[v+1]);t[a+1]=er(xe,v),0!==xe&&(t[xe+1]=hh(t[xe+1],a)),t[v+1]=function x0(t,n){return 131071&t|n<<17}(t[v+1],a)}else t[a+1]=er(v,0),0!==v&&(t[v+1]=hh(t[v+1],a)),v=a;else t[a+1]=er(w,0),0===v?v=a:t[w+1]=hh(t[w+1],a),w=a;N&&(t[a+1]=dh(t[a+1])),vg(t,V,a,!0),vg(t,V,a,!1),function P0(t,n,o,a,l){const h=l?t.residualClasses:t.residualStyles;null!=h&&"string"==typeof n&&ia(h,n)>=0&&(o[a+1]=fh(o[a+1]))}(n,V,t,a,h),m=er(v,w),h?n.classBindings=m:n.styleBindings=m}(l,h,n,o,m,a)}}function co(t,n,o,a,l){let h=null;const m=o.directiveEnd;let v=o.directiveStylingLast;for(-1===v?v=o.directiveStart:v++;v<m&&(h=n[v],a=Ar(a,h.hostAttrs,l),h!==t);)v++;return null!==t&&(o.directiveStylingLast=v),a}function Ar(t,n,o){const a=o?1:2;let l=-1;if(null!==n)for(let h=0;h<n.length;h++){const m=n[h];"number"==typeof m?l=m:l===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Mr(t,m,!!o||n[++h]))}return void 0===t?null:t}function Ra(t,n,o){const a=String(n);""!==a&&!a.includes(" ")&&Mr(t,a,o)}function hs(t,n,o,a,l,h,m,v){if(!(3&n.type))return;const w=t.data,N=w[v+1],V=function O0(t){return 1==(1&t)}(N)?cl(w,n,o,l,ka(N),m):void 0;Bs(V)||(Bs(h)||function I0(t){return 2==(2&t)}(N)&&(h=cl(w,null,o,l,v,m)),function e1(t,n,o,a,l){if(n)l?t.addClass(o,a):t.removeClass(o,a);else{let h=-1===a.indexOf("-")?void 0:Bc.DashCase;null==l?t.removeStyle(o,a,h):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),h|=Bc.Important),t.setStyle(o,a,l,h))}}(a,m,s(To(),o),l,h))}function cl(t,n,o,a,l,h){const m=null===n;let v;for(;l>0;){const w=t[l],N=Array.isArray(w),V=N?w[1]:w,te=null===V;let xe=o[l+1];xe===Pn&&(xe=te?qt:void 0);let je=te?Tl(xe,a):V===a?xe:void 0;if(N&&!Bs(je)&&(je=Tl(w,a)),Bs(je)&&(v=je,m))return v;const _t=t[l+1];l=m?ca(_t):ka(_t)}if(null!==n){let w=h?n.residualClasses:n.residualStyles;null!=w&&(v=Tl(w,a))}return v}function Bs(t){return void 0!==t}function fu(t,n){return 0!=(t.flags&(n?8:16))}function bc(t,n=""){const o=Dt(),a=Ln(),l=t+Fn,h=a.firstCreatePass?uc(a,l,1,n,null):a.data[l],m=ll(a,o,h,n,t);o[l]=m,mo()&&od(a,o,m,h),dr(h,!1)}let ll=(t,n,o,a,l)=>(Qr(!0),Xu(n[Ut],a));function Fa(t){return La("",t,""),Fa}function La(t,n,o){const a=Dt(),l=fc(a,t,n,o);return l!==Pn&&Ws(a,To(),l),La}function qs(t,n,o,a,l){const h=Dt(),m=pc(h,t,n,o,a,l);return m!==Pn&&Ws(h,To(),m),qs}function L0(t,n,o){const a=Dt();return pr(a,va(),n)&&es(Ln(),go(),a,t,n,a[Ut],o,!0),L0}const ul=void 0;var IC=["en",[["a","p"],["AM","PM"],ul],[["AM","PM"],ul,ul],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ul,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ul,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ul,"{1} 'at' {0}",ul],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function SC(t){const o=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let _u={};function B0(t){const n=function xC(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=W1(n);if(o)return o;const a=n.split("-")[0];if(o=W1(a),o)return o;if("en"===a)return IC;throw new Te(701,!1)}function Y1(t){return B0(t)[vu.PluralCase]}function W1(t){return t in _u||(_u[t]=$t.ng&&$t.ng.common&&$t.ng.common.locales&&$t.ng.common.locales[t]),_u[t]}var vu=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(vu||{});const yu="en-US",Ng={marker:"element"},Pg={marker:"ICU"};var fs=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}(fs||{});let q1=yu;function J1(t){(function et(t,n){null==t&&nt(n,t,null,"!=")})(t,"Expected localeId to be defined"),"string"==typeof t&&(q1=t.toLowerCase().replace(/_/g,"-"))}function K1(t,n,o){const a=n.insertBeforeIndex,l=Array.isArray(a)?a[0]:a;return null===l?Om(t,0,o):ui(o[l])}function Q1(t,n,o,a,l){const h=n.insertBeforeIndex;if(Array.isArray(h)){let m=a,v=null;if(3&n.type||(v=m,m=l),null!==m&&-1===n.componentOffset)for(let w=1;w<h.length;w++)ec(t,m,o[h[w]],v,!1)}}function X1(t,n){if(t.push(n),t.length>1)for(let o=t.length-2;o>=0;o--){const a=t[o];eD(a)||RC(a,n)&&null===FC(a)&&LC(a,n.index)}}function eD(t){return!(64&t.type)}function RC(t,n){return eD(n)||t.index>n.index}function FC(t){const n=t.insertBeforeIndex;return Array.isArray(n)?n[0]:n}function LC(t,n){const o=t.insertBeforeIndex;Array.isArray(o)?o[0]=n:(Nm(K1,Q1),t.insertBeforeIndex=n)}function jC(t,n,o){const a=Bd(t,o,64,null,null);return X1(n,a),a}function YC(){const t=[];let o,a,n=-1;function h(v,w){n=0;const N=function kg(t,n){const o=n[t.currentCaseLViewIndex];return null===o?o:o<0?~o:o}(v,w);a=null!==N?v.remove[N]:qt}function m(){if(n<a.length){const v=a[n++];return v>0?o[v]:(t.push(n,a),h(o[jt].data[~v],o),m())}return 0===t.length?null:(a=t.pop(),n=t.pop(),m())}return function l(v,w){for(o=w;t.length;)t.pop();return h(v.value,w),m}}const Rg=/\ufffd(\d+):?\d*\ufffd/gi,qC=/\ufffd(\d+)\ufffd/,lD=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,yh="\ufffd",JC=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,KC=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,QC=/\uE500/g;function uD(t,n,o,a,l,h,m){const v=Kc(t,a,1,null);let w=v<<fs.SHIFT,N=jr();n===N&&(N=null),null===N&&(w|=fs.APPEND_EAGERLY),m&&(w|=fs.COMMENT,function tf(t){void 0===Ku&&(Ku=t())}(YC)),l.push(w,null===h?"":h);const V=Bd(t,v,m?32:1,null===h?"":h,null);X1(o,V);const te=V.index;return dr(V,!1),null!==N&&n!==N&&function UC(t,n){let o=t.insertBeforeIndex;null===o?(Nm(K1,Q1),o=t.insertBeforeIndex=[null,n]):(function dt(t,n,o){t!=n&&nt(o,t,n,"==")}(Array.isArray(o),!0,"Expecting array here"),o.push(n))}(N,te),V}function tw(t,n,o,a,l,h,m){const v=m.match(Rg),w=uD(t,n,o,h,a,v?null:m,!1);v&&Dh(l,m,w.index,null,0,null)}function Dh(t,n,o,a,l,h){const m=t.length,v=m+1;t.push(null,null);const w=m+2,N=n.split(Rg);let V=0;for(let te=0;te<N.length;te++){const xe=N[te];if(1&te){const je=l+parseInt(xe,10);t.push(-1-je),V|=dD(je)}else""!==xe&&t.push(xe)}return t.push(o<<2|(a?1:0)),a&&t.push(a,h),t[m]=V,t[v]=t.length-w,V}function dD(t){return 1<<Math.min(t,31)}function hD(t){let n,h,o="",a=0,l=!1;for(;null!==(n=JC.exec(t));)l?n[0]===`${yh}/*${h}${yh}`&&(a=n.index,l=!1):(o+=t.substring(a,n.index+n[0].length),h=n[1],l=!0);return o+=t.slice(a),o}function fD(t,n,o,a,l,h){let m=0;const v={type:l.type,currentCaseLViewIndex:Kc(t,n,1,null),anchorIdx:h,cases:[],create:[],remove:[],update:[]};(function lw(t,n,o){t.push(dD(n.mainBinding),2,-1-n.mainBinding,o<<2|2)})(o,l,h),function BC(t,n,o){const a=t.data[n];null===a?t.data[n]=o:a.value=o}(t,h,v);const w=l.values;for(let N=0;N<w.length;N++){const V=w[N],te=[];for(let xe=0;xe<V.length;xe++){const je=V[xe];if("string"!=typeof je){const _t=te.push(je)-1;V[xe]=`\x3c!--\ufffd${_t}\ufffd--\x3e`}}m=aw(t,v,n,o,a,l.cases[N],V.join(""),te)|m}m&&function uw(t,n,o){t.push(n,1,o<<2|3)}(o,m,h)}function sw(t){const n=[],o=[];let a=1,l=0;const h=U0(t=t.replace(lD,function(m,v,w){return a="select"===w?0:1,l=parseInt(v.slice(1),10),""}));for(let m=0;m<h.length;){let v=h[m++].trim();1===a&&(v=v.replace(/\s*(?:=)?(\w+)\s*/,"$1")),v.length&&n.push(v);const w=U0(h[m++]);n.length>o.length&&o.push(w)}return{type:a,mainBinding:l,cases:n,values:o}}function U0(t){if(!t)return[];let n=0;const o=[],a=[],l=/[{}]/g;let h;for(l.lastIndex=0;h=l.exec(t);){const v=h.index;if("}"==h[0]){if(o.pop(),0==o.length){const w=t.substring(n,v);lD.test(w)?a.push(sw(w)):a.push(w),n=v+1}}else{if(0==o.length){const w=t.substring(n,v);a.push(w),n=v+1}o.push("{")}}const m=t.substring(n);return a.push(m),a}function aw(t,n,o,a,l,h,m,v){const w=[],N=[],V=[];n.cases.push(h),n.create.push(w),n.remove.push(N),n.update.push(V);const xe=vf(Hc()).getInertBodyElement(m),je=dd(xe)||xe;return je?pD(t,n,o,a,w,N,V,je,l,v,0):0}function pD(t,n,o,a,l,h,m,v,w,N,V){let te=0,xe=v.firstChild;for(;xe;){const je=Kc(t,o,1,null);switch(xe.nodeType){case Node.ELEMENT_NODE:const _t=xe,Pt=_t.tagName.toLowerCase();if(ld.hasOwnProperty(Pt)){j0(l,Ng,Pt,w,je),t.data[je]=Pt;const kn=_t.attributes;for(let ei=0;ei<kn.length;ei++){const Hi=kn.item(ei),gs=Hi.name.toLowerCase();Hi.value.match(Rg)?Cf.hasOwnProperty(gs)&&Dh(m,Hi.value,je,Hi.name,0,ud[gs]?jl:null):dw(l,je,Hi)}te=pD(t,n,o,a,l,h,m,xe,je,N,V+1)|te,gD(h,je,V)}break;case Node.TEXT_NODE:const Yt=xe.textContent||"",dn=Yt.match(Rg);j0(l,null,dn?"":Yt,w,je),gD(h,je,V),dn&&(te=Dh(m,Yt,je,null,0,null)|te);break;case Node.COMMENT_NODE:const Et=qC.exec(xe.textContent||"");if(Et){const ei=N[parseInt(Et[1],10)];j0(l,Pg,"",w,je),fD(t,o,a,w,ei,je),cw(h,je,V)}}xe=xe.nextSibling}return te}function gD(t,n,o){0===o&&t.push(n)}function cw(t,n,o){0===o&&(t.push(~n),t.push(n))}function j0(t,n,o,a,l){null!==n&&t.push(n),t.push(o,l,function HC(t,n,o){return t|n<<17|o<<1}(0,a,l))}function dw(t,n,o){t.push(n<<1|1,o.name,o.value)}function _D(t,n,o=-1){const a=Ln(),l=Dt(),h=Fn+t,m=yt(a.consts,n),v=jr();a.firstCreatePass&&function ew(t,n,o,a,l,h){const m=jr(),v=[],w=[],N=[[]];l=function rw(t,n){if(function ow(t){return-1===t}(n))return hD(t);{const o=t.indexOf(`:${n}${yh}`)+2+n.toString().length,a=t.search(new RegExp(`${yh}\\/\\*\\d+:${n}${yh}`));return hD(t.substring(o,a))}}(l,h);const V=function XC(t){return t.replace(QC," ")}(l).split(KC);for(let te=0;te<V.length;te++){let xe=V[te];if(1&te){const je=47===xe.charCodeAt(0),Pt=(xe.charCodeAt(je?1:0),Fn+Number.parseInt(xe.substring(je?2:1)));if(je)N.shift(),dr(jr(),!1);else{const Yt=jC(t,N[0],Pt);N.unshift([]),dr(Yt,!0)}}else{const je=U0(xe);for(let _t=0;_t<je.length;_t++){let Pt=je[_t];if(1&_t){const Yt=Pt;if("object"!=typeof Yt)throw new Error(`Unable to parse ICU expression in "${l}" message.`);fD(t,o,w,n,Yt,uD(t,m,N[0],o,v,"",!0).index)}else""!==Pt&&tw(t,m,N[0],v,w,o,Pt)}}}t.data[a]={create:v,update:w}}(a,null===v?0:v.index,l,h,m,o),2===a.type?l[gi][Xt]|=32:l[Xt]|=32;const w=a.data[h],V=Tm(a,v===l[wi]?null:v,l);(function $C(t,n,o,a){const l=t[Ut];for(let h=0;h<n.length;h++){const m=n[h++],v=n[h],N=(m&fs.APPEND_EAGERLY)===fs.APPEND_EAGERLY,V=m>>>fs.SHIFT;let te=t[V];null===te&&(te=t[V]=(m&fs.COMMENT)===fs.COMMENT?l.createComment(v):Xu(l,v)),N&&null!==o&&ec(l,o,te,a,!1)}})(l,w.create,V,v&&8&v.type?l[v.index]:null),y(!0)}function yD(t,n,o){_D(t,n,o),function vD(){y(!1)}()}function H0(t,n,o,a,l){if(t=K(t),Array.isArray(t))for(let h=0;h<t.length;h++)H0(t[h],n,o,a,l);else{const h=Ln(),m=Dt(),v=ji();let w=sa(t)?t:K(t.provide);const N=Of(t),V=1048575&v.providerIndexes,te=v.directiveStart,xe=v.providerIndexes>>20;if(sa(t)||!t.multi){const je=new Ac(N,l,lc),_t=V0(w,n,l?V:V+xe,te);-1===_t?(Ga(bl(v,m),h,w),Z0(h,t,n.length),n.push(w),v.directiveStart++,v.directiveEnd++,l&&(v.providerIndexes+=1048576),o.push(je),m.push(je)):(o[_t]=je,m[_t]=je)}else{const je=V0(w,n,V+xe,te),_t=V0(w,n,V,V+xe),Yt=_t>=0&&o[_t];if(l&&!Yt||!l&&!(je>=0&&o[je])){Ga(bl(v,m),h,w);const dn=function Aw(t,n,o,a,l){const h=new Ac(t,o,lc);return h.multi=[],h.index=n,h.componentProviders=0,bD(h,l,a&&!o),h}(l?Mw:Tw,o.length,l,a,N);!l&&Yt&&(o[_t].providerFactory=dn),Z0(h,t,n.length,0),n.push(w),v.directiveStart++,v.directiveEnd++,l&&(v.providerIndexes+=1048576),o.push(dn),m.push(dn)}else Z0(h,t,je>-1?je:_t,bD(o[l?_t:je],N,!l&&a));!l&&a&&Yt&&o[_t].componentProviders++}}}function Z0(t,n,o,a){const l=sa(n),h=function s_(t){return!!t.useClass}(n);if(l||h){const w=(h?K(n.useClass):n).prototype.ngOnDestroy;if(w){const N=t.destroyHooks||(t.destroyHooks=[]);if(!l&&n.multi){const V=N.indexOf(o);-1===V?N.push(o,[a,w]):N[V+1].push(a,w)}else N.push(o,w)}}}function bD(t,n,o){return o&&t.componentProviders++,t.multi.push(n)-1}function V0(t,n,o,a){for(let l=o;l<a;l++)if(n[l]===t)return l;return-1}function Tw(t,n,o,a){return $0(this.multi,[])}function Mw(t,n,o,a){const l=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,v=Da(o,o[jt],this.providerFactory.index,a);h=v.slice(0,m),$0(l,h);for(let w=m;w<v.length;w++)h.push(v[w])}else h=[],$0(l,h);return h}function $0(t,n){for(let o=0;o<t.length;o++)n.push((0,t[o])());return n}function CD(t,n=[]){return o=>{o.providersResolver=(a,l)=>function Ew(t,n,o){const a=Ln();if(a.firstCreatePass){const l=eo(t);H0(o,a.data,a.blueprint,l,!0),H0(n,a.data,a.blueprint,l,!1)}}(a,l?l(t):t,n)}}class dl{}class wD{}function Sw(t,n){return new G0(t,n??null,[])}class G0 extends dl{constructor(n,o,a){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Np(this);const l=Cn(n);this._bootstrapComponents=Ys(l.bootstrap),this._r3Injector=Gf(n,o,[{provide:dl,useValue:this},{provide:ql,useValue:this.componentFactoryResolver},...a],ne(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class z0 extends wD{constructor(n){super(),this.moduleType=n}create(n){return new G0(this.moduleType,n,[])}}class ED extends dl{constructor(n){super(),this.componentFactoryResolver=new Np(this),this.instance=null;const o=new zl([...n.providers,{provide:dl,useValue:this},{provide:ql,useValue:this.componentFactoryResolver}],n.parent||Gl(),n.debugName,new Set(["environment"]));this.injector=o,n.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function TD(t,n,o=null){return new ED({providers:t,parent:n,debugName:o,runEnvironmentInitializers:!0}).injector}let xw=(()=>{class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const a=If(0,o.type),l=a.length>0?TD([a],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,l)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Ht({token:t,providedIn:"environment",factory:()=>new t(ot(Ps))})}return t})();function MD(t){t.getStandaloneInjector=n=>n.get(xw).getOrCreateStandaloneInjector(t)}function PD(t,n,o){const a=hr()+t,l=Dt();return l[a]===Pn?Ls(l,a,o?n.call(o):n()):function nl(t,n){return t[n]}(l,a)}function kD(t,n,o,a){return LD(Dt(),hr(),t,n,o,a)}function RD(t,n,o,a,l){return BD(Dt(),hr(),t,n,o,a,l)}function FD(t,n,o,a,l,h){return function UD(t,n,o,a,l,h,m,v){const w=n+o;return function iu(t,n,o,a,l){const h=Na(t,n,o,a);return pr(t,n+2,l)||h}(t,w,l,h,m)?Ls(t,w+3,v?a.call(v,l,h,m):a(l,h,m)):bh(t,w+3)}(Dt(),hr(),t,n,o,a,l,h)}function bh(t,n){const o=t[n];return o===Pn?void 0:o}function LD(t,n,o,a,l,h){const m=n+o;return pr(t,m,l)?Ls(t,m+1,h?a.call(h,l):a(l)):bh(t,m+1)}function BD(t,n,o,a,l,h,m){const v=n+o;return Na(t,v,l,h)?Ls(t,v+2,m?a.call(m,l,h):a(l,h)):bh(t,v+2)}function ZD(t,n){const o=Ln();let a;const l=t+Fn;o.firstCreatePass?(a=function Gw(t,n){if(n)for(let o=n.length-1;o>=0;o--){const a=n[o];if(t===a.name)return a}}(n,o.pipeRegistry),o.data[l]=a,a.onDestroy&&(o.destroyHooks??=[]).push(l,a.onDestroy)):a=o.data[l];const h=a.factory||(a.factory=Rr(a.type)),v=$n(lc);try{const w=Dl(!1),N=h();return Dl(w),function b0(t,n,o,a){o>=t.data.length&&(t.data[o]=null,t.blueprint[o]=null),n[o]=a}(o,Dt(),l,N),N}finally{$n(v)}}function VD(t,n,o){const a=t+Fn,l=Dt(),h=O(l,a);return Ch(l,a)?LD(l,hr(),n,h.transform,o,h):h.transform(o)}function $D(t,n,o,a){const l=t+Fn,h=Dt(),m=O(h,l);return Ch(h,l)?BD(h,hr(),n,m.transform,o,a,m):m.transform(o,a)}function Ch(t,n){return t[jt].data[n].pure}function qw(){return this._results[Symbol.iterator]()}class W0{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Rs)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=W0.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=qw)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,o){return this._results.reduce(n,o)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,o){const a=this;a.dirty=!1;const l=function ws(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Ny(t,n,o){if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++){let l=t[a],h=n[a];if(o&&(l=o(l),h=o(h)),h!==l)return!1}return!0}(a._results,l,o))&&(a._results=l,a.length=l.length,a.last=l[this.length-1],a.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Kw(t,n,o,a=!0){const l=n[jt];if(function qy(t,n,o,a){const l=Yi+a,h=o.length;a>0&&(o[l-1][$i]=n),a<h-Yi?(n[$i]=o[l],Xg(o,Yi+a,n)):(o.push(n),n[$i]=null),n[qn]=o;const m=n[Mo];null!==m&&o!==m&&function Jy(t,n){const o=t[Nr];n[gi]!==n[qn][qn][gi]&&(t[ar]=!0),null===o?t[Nr]=[n]:o.push(n)}(m,n);const v=n[vo];null!==v&&v.insertView(t),n[Xt]|=128}(l,n,t,o),a){const h=Bl(o,t),m=n[Ut],v=nd(m,t[Gi]);null!==v&&function nf(t,n,o,a,l,h){a[Kn]=l,a[wi]=n,Xo(t,a,o,1,l,h)}(l,t[wi],m,n,v,h)}}let wh=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=eE}return t})();const Qw=wh,Xw=class extends Qw{constructor(n,o,a){super(),this._declarationLView=n,this._declarationTContainer=o,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,o){return this.createEmbeddedViewImpl(n,o)}createEmbeddedViewImpl(n,o,a){const l=function Jw(t,n,o,a){const l=n.tView,v=Ql(t,l,o,4096&t[Xt]?4096:16,null,n,null,null,null,a?.injector??null,a?.hydrationInfo??null);v[Mo]=t[n.index];const N=t[vo];return null!==N&&(v[vo]=N.createEmbeddedView(l)),Wd(l,v,o),v}(this._declarationLView,this._declarationTContainer,n,{injector:o,hydrationInfo:a});return new Xc(l)}};function eE(){return Fg(ji(),Dt())}function Fg(t,n){return 4&t.type?new Xw(n,t,xa(t,n)):null}let Bg=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=sE}return t})();function sE(){return KD(ji(),Dt())}const aE=Bg,qD=class extends aE{constructor(n,o,a){super(),this._lContainer=n,this._hostTNode=o,this._hostLView=a}get element(){return xa(this._hostTNode,this._hostLView)}get injector(){return new Tr(this._hostTNode,this._hostLView)}get parentInjector(){const n=$a(this._hostTNode,this._hostLView);if(Vs(n)){const o=na(n,this._hostLView),a=Sc(n);return new Tr(o[jt].data[a+8],o)}return new Tr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const o=JD(this._lContainer);return null!==o&&o[n]||null}get length(){return this._lContainer.length-Yi}createEmbeddedView(n,o,a){let l,h;"number"==typeof a?l=a:null!=a&&(l=a.index,h=a.injector);const v=n.createEmbeddedViewImpl(o||{},h,null);return this.insertImpl(v,l,false),v}createComponent(n,o,a,l,h){const m=n&&!function Pc(t){return"function"==typeof t}(n);let v;if(m)v=o;else{const Pt=o||{};v=Pt.index,a=Pt.injector,l=Pt.projectableNodes,h=Pt.environmentInjector||Pt.ngModuleRef}const w=m?n:new el(yn(n)),N=a||this.parentInjector;if(!h&&null==w.ngModule){const Yt=(m?N:this.parentInjector).get(Ps,null);Yt&&(h=Yt)}yn(w.componentType??{});const je=w.create(N,l,null,h);return this.insertImpl(je.hostView,v,false),je}insert(n,o){return this.insertImpl(n,o,!1)}insertImpl(n,o,a){const l=n._lView;if(function tt(t){return Li(t[qn])}(l)){const w=this.indexOf(n);if(-1!==w)this.detach(w);else{const N=l[qn],V=new qD(N,N[wi],N[qn]);V.detach(V.indexOf(n))}}const m=this._adjustIndex(o),v=this._lContainer;return Kw(v,l,m,!a),n.attachToViewContainerRef(),Xg(q0(v),m,n),n}move(n,o){return this.insert(n,o)}indexOf(n){const o=JD(this._lContainer);return null!==o?o.indexOf(n):-1}remove(n){const o=this._adjustIndex(n,-1),a=td(this._lContainer,o);a&&(Lu(q0(this._lContainer),o),rf(a[jt],a))}detach(n){const o=this._adjustIndex(n,-1),a=td(this._lContainer,o);return a&&null!=Lu(q0(this._lContainer),o)?new Xc(a):null}_adjustIndex(n,o=0){return n??this.length+o}};function JD(t){return t[8]}function q0(t){return t[8]||(t[8]=[])}function KD(t,n){let o;const a=n[t.index];return Li(a)?o=a:(o=Dp(a,n,null,t),n[t.index]=o,Xl(n,o)),QD(o,n,t,a),new qD(o,t,n)}let QD=function XD(t,n,o,a){if(t[Gi])return;let l;l=8&o.type?ui(a):function cE(t,n){const o=t[Ut],a=o.createComment(""),l=u(n,t);return ec(o,nd(o,l),a,function Im(t,n){return t.nextSibling(n)}(o,l),!1),a}(n,o),t[Gi]=l};class J0{constructor(n){this.queryList=n,this.matches=null}clone(){return new J0(this.queryList)}setDirty(){this.queryList.setDirty()}}class K0{constructor(n=[]){this.queries=n}createEmbeddedView(n){const o=n.queries;if(null!==o){const a=null!==n.contentQueries?n.contentQueries[0]:o.length,l=[];for(let h=0;h<a;h++){const m=o.getByIndex(h);l.push(this.queries[m.indexInDeclarationView].clone())}return new K0(l)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let o=0;o<this.queries.length;o++)null!==cb(n,o).matches&&this.queries[o].setDirty()}}class eb{constructor(n,o,a=null){this.predicate=n,this.flags=o,this.read=a}}class Q0{constructor(n=[]){this.queries=n}elementStart(n,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,o)}elementEnd(n){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(n)}embeddedTView(n){let o=null;for(let a=0;a<this.length;a++){const l=null!==o?o.length:0,h=this.getByIndex(a).embeddedTView(n,l);h&&(h.indexInDeclarationView=a,null!==o?o.push(h):o=[h])}return null!==o?new Q0(o):null}template(n,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,o)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class X0{constructor(n,o=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(n,o){this.isApplyingToNode(o)&&this.matchTNode(n,o)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,o){this.elementStart(n,o)}embeddedTView(n,o){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,o),new X0(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let l=0;l<a.length;l++){const h=a[l];this.matchTNodeWithReadOption(n,o,dE(o,h)),this.matchTNodeWithReadOption(n,o,Ic(o,n,h,!1,!1))}else a===wh?4&o.type&&this.matchTNodeWithReadOption(n,o,-1):this.matchTNodeWithReadOption(n,o,Ic(o,n,a,!1,!1))}matchTNodeWithReadOption(n,o,a){if(null!==a){const l=this.metadata.read;if(null!==l)if(l===rc||l===Bg||l===wh&&4&o.type)this.addMatch(o.index,-2);else{const h=Ic(o,n,l,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,a)}}addMatch(n,o){null===this.matches?this.matches=[n,o]:this.matches.push(n,o)}}function dE(t,n){const o=t.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===n)return o[a+1];return null}function fE(t,n,o,a){return-1===o?function hE(t,n){return 11&t.type?xa(t,n):4&t.type?Fg(t,n):null}(n,t):-2===o?function pE(t,n,o){return o===rc?xa(n,t):o===wh?Fg(n,t):o===Bg?KD(n,t):void 0}(t,n,a):Da(t,t[jt],o,n)}function tb(t,n,o,a){const l=n[vo].queries[a];if(null===l.matches){const h=t.data,m=o.matches,v=[];for(let w=0;w<m.length;w+=2){const N=m[w];v.push(N<0?null:fE(n,h[N],m[w+1],o.metadata.read))}l.matches=v}return l.matches}function ey(t,n,o,a){const l=t.queries.getByIndex(o),h=l.matches;if(null!==h){const m=tb(t,n,l,o);for(let v=0;v<h.length;v+=2){const w=h[v];if(w>0)a.push(m[v/2]);else{const N=h[v+1],V=n[-w];for(let te=Yi;te<V.length;te++){const xe=V[te];xe[Mo]===xe[qn]&&ey(xe[jt],xe,N,a)}if(null!==V[Nr]){const te=V[Nr];for(let xe=0;xe<te.length;xe++){const je=te[xe];ey(je[jt],je,N,a)}}}}}return a}function nb(t){const n=Dt(),o=Ln(),a=G();oe(a+1);const l=cb(o,a);if(t.dirty&&function me(t){return 4==(4&t[Xt])}(n)===(2==(2&l.metadata.flags))){if(null===l.matches)t.reset([]);else{const h=l.crossesNgTemplate?ey(o,n,a,[]):tb(o,n,l,a);t.reset(h,A_),t.notifyOnChanges()}return!0}return!1}function ib(t,n,o){const a=Ln();a.firstCreatePass&&(ab(a,new eb(t,n,o),-1),2==(2&n)&&(a.staticViewQueries=!0)),sb(a,Dt(),n)}function ob(t,n,o,a){const l=Ln();if(l.firstCreatePass){const h=ji();ab(l,new eb(n,o,a),h.index),function mE(t,n){const o=t.contentQueries||(t.contentQueries=[]);n!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,n)}(l,t),2==(2&o)&&(l.staticContentQueries=!0)}sb(l,Dt(),o)}function rb(){return function gE(t,n){return t[vo].queries[n].queryList}(Dt(),G())}function sb(t,n,o){const a=new W0(4==(4&o));(function av(t,n,o,a){const l=Cp(n);l.push(o),t.firstCreatePass&&wp(t).push(a,l.length-1)})(t,n,a,a.destroy),null===n[vo]&&(n[vo]=new K0),n[vo].queries.push(new J0(a))}function ab(t,n,o){null===t.queries&&(t.queries=new Q0),t.queries.track(new X0(n,o))}function cb(t,n){return t.queries.getByIndex(n)}function lb(t,n){return Fg(t,n)}function ty(t){return!!Cn(t)}const Mb=new yi("Application Initializer");let sy=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,a)=>{this.resolve=o,this.reject=a}),this.appInits=wt(Mb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const l of this.appInits){const h=l();if(ch(h))o.push(h);else if(ig(h)){const m=new Promise((v,w)=>{h.subscribe({complete:v,error:w})});o.push(m)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{a()}).catch(l=>{this.reject(l)}),0===o.length&&a(),this.initialized=!0}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Ht({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ab=(()=>{class t{log(o){console.log(o)}warn(o){console.warn(o)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Ht({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const jg=new yi("LocaleId",{providedIn:"root",factory:()=>wt(jg,kt.Optional|kt.SkipSelf)||function LE(){return typeof $localize<"u"&&$localize.locale||yu}()}),BE=new yi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Sb=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new J.X(!1)}add(){this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Ht({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class jE{constructor(n,o){this.ngModuleFactory=n,this.componentFactories=o}}let HE=(()=>{class t{compileModuleSync(o){return new z0(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),h=Ys(Cn(o).declarations).reduce((m,v)=>{const w=yn(v);return w&&m.push(new el(w)),m},[]);return new jE(a,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Ht({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Nb=new yi(""),Pb=new yi("");let ly,aT=(()=>{class t{constructor(o,a,l){this._ngZone=o,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ly||(function cT(t){ly=t}(l),l.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Vo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,l){let h=-1;a&&a>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==h),o(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:l})}whenStable(o,a,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,l){return[]}static#e=this.\u0275fac=function(a){return new(a||t)(ot(Vo),ot(kb),ot(Pb))};static#t=this.\u0275prov=Ht({token:t,factory:t.\u0275fac})}return t})(),kb=(()=>{class t{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){return ly?.findTestabilityInTree(this,o,a)??null}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Ht({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),wc=null;const Rb=new yi("AllowMultipleToken"),uy=new yi("PlatformDestroyListeners"),dy=new yi("appBootstrapListener");class dT{constructor(n,o){this.name=n,this.token=o}}function Bb(t,n,o=[]){const a=`Platform: ${n}`,l=new yi(a);return(h=[])=>{let m=hy();if(!m||m.injector.get(Rb,!1)){const v=[...o,...h,{provide:l,useValue:!0}];t?t(v):function hT(t){if(wc&&!wc.get(Rb,!1))throw new Te(400,!1);(function Fb(){!function Hs(t){jo=t}(()=>{throw new Te(600,!1)})})(),wc=t;const n=t.get(jb);(function Lb(t){t.get(Pf,null)?.forEach(o=>o())})(t)}(function Ub(t=[],n){return Ts.create({name:n,providers:[{provide:fr,useValue:"platform"},{provide:uy,useValue:new Set([()=>wc=null])},...t]})}(v,a))}return function pT(t){const n=hy();if(!n)throw new Te(401,!1);return n}()}}function hy(){return wc?.get(jb)??null}let jb=(()=>{class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const l=function gT(t="zone.js",n){return"noop"===t?new V_:"zone.js"===t?new Vo(n):t}(a?.ngZone,function Hb(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return l.run(()=>{const h=function Iw(t,n,o){return new G0(t,n,o)}(o.moduleType,this.injector,function zb(t){return[{provide:Vo,useFactory:t},{provide:zc,multi:!0,useFactory:()=>{const n=wt(_T,{optional:!0});return()=>n.initialize()}},{provide:Gb,useFactory:mT},{provide:Jf,useFactory:Kf}]}(()=>l)),m=h.injector.get(aa,null);return l.runOutsideAngular(()=>{const v=l.onError.subscribe({next:w=>{m.handleError(w)}});h.onDestroy(()=>{Zg(this._modules,h),v.unsubscribe()})}),function Zb(t,n,o){try{const a=o();return ch(a)?a.catch(l=>{throw n.runOutsideAngular(()=>t.handleError(l)),l}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}(m,l,()=>{const v=h.injector.get(sy);return v.runInitializers(),v.donePromise.then(()=>(J1(h.injector.get(jg,yu)||yu),this._moduleDoBootstrap(h),h))})})}bootstrapModule(o,a=[]){const l=Vb({},a);return function lT(t,n,o){const a=new z0(o);return Promise.resolve(a)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(o){const a=o.injector.get(Cu);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>a.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new Te(-403,!1);o.instance.ngDoBootstrap(a)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Te(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(uy,null);o&&(o.forEach(a=>a()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(a){return new(a||t)(ot(Ts))};static#t=this.\u0275prov=Ht({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function Vb(t,n){return Array.isArray(n)?n.reduce(Vb,t):{...t,...n}}let Cu=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=wt(Gb),this.zoneIsStable=wt(Jf),this.componentTypes=[],this.components=[],this.isStable=wt(Sb).hasPendingTasks.pipe((0,Le.w)(o=>o?(0,e.of)(!1):this.zoneIsStable),(0,pe.x)(),(0,Q.B)()),this._injector=wt(Ps)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,a){const l=o instanceof Lf;if(!this._injector.get(sy).done)throw!l&&vi(o),new Te(405,!1);let m;m=l?o:this._injector.get(ql).resolveComponentFactory(o),this.componentTypes.push(m.componentType);const v=function uT(t){return t.isBoundToModule}(m)?void 0:this._injector.get(dl),N=m.create(Ts.NULL,[],a||m.selector,v),V=N.location.nativeElement,te=N.injector.get(Nb,null);return te?.registerApplication(V),N.onDestroy(()=>{this.detachView(N.hostView),Zg(this.components,N),te?.unregisterApplication(V)}),this._loadComponent(N),N}tick(){if(this._runningTick)throw new Te(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1}}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;Zg(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const a=this._injector.get(dy,[]);a.push(...this._bootstrapListeners),a.forEach(l=>l(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Zg(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Te(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Ht({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Zg(t,n){const o=t.indexOf(n);o>-1&&t.splice(o,1)}const Gb=new yi("",{providedIn:"root",factory:()=>wt(aa).handleError.bind(void 0)});function mT(){const t=wt(Vo),n=wt(aa);return o=>t.runOutsideAngular(()=>n.handleError(o))}let _T=(()=>{class t{constructor(){this.zone=wt(Vo),this.applicationRef=wt(Cu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Ht({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function yT(){return!1}let DT=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=bT}return t})();function bT(t){return function CT(t,n,o){if(Wo(t)&&!o){const a=$(t.index,n);return new Xc(a,a)}return 47&t.type?new Xc(n[gi],n):null}(ji(),Dt(),16==(16&t))}class Jb{constructor(){}supports(n){return nu(n)}create(n){return new ST(n)}}const AT=(t,n)=>n;class ST{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||AT}forEachItem(n){let o;for(o=this._itHead;null!==o;o=o._next)n(o)}forEachOperation(n){let o=this._itHead,a=this._removalsHead,l=0,h=null;for(;o||a;){const m=!a||o&&o.currentIndex<Qb(a,l,h)?o:a,v=Qb(m,l,h),w=m.currentIndex;if(m===a)l--,a=a._nextRemoved;else if(o=o._next,null==m.previousIndex)l++;else{h||(h=[]);const N=v-l,V=w-l;if(N!=V){for(let xe=0;xe<N;xe++){const je=xe<h.length?h[xe]:h[xe]=0,_t=je+xe;V<=_t&&_t<N&&(h[xe]=je+1)}h[m.previousIndex]=V-N}}v!==w&&n(m,v,w)}}forEachPreviousItem(n){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)n(o)}forEachAddedItem(n){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)n(o)}forEachMovedItem(n){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)n(o)}forEachRemovedItem(n){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)n(o)}forEachIdentityChange(n){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)n(o)}diff(n){if(null==n&&(n=[]),!nu(n))throw new Te(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let l,h,m,o=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let v=0;v<this.length;v++)h=n[v],m=this._trackByFn(v,h),null!==o&&Object.is(o.trackById,m)?(a&&(o=this._verifyReinsertion(o,h,m,v)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,m,v),a=!0),o=o._next}else l=0,function Xv(t,n){if(Array.isArray(t))for(let o=0;o<t.length;o++)n(t[o]);else{const o=t[Symbol.iterator]();let a;for(;!(a=o.next()).done;)n(a.value)}}(n,v=>{m=this._trackByFn(l,v),null!==o&&Object.is(o.trackById,m)?(a&&(o=this._verifyReinsertion(o,v,m,l)),Object.is(o.item,v)||this._addIdentityChange(o,v)):(o=this._mismatch(o,v,m,l),a=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,o,a,l){let h;return null===n?h=this._itTail:(h=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,o)||this._addIdentityChange(n,o),this._reinsertAfter(n,h,l)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,l))?(Object.is(n.item,o)||this._addIdentityChange(n,o),this._moveAfter(n,h,l)):n=this._addAfter(new IT(o,a),h,l),n}_verifyReinsertion(n,o,a,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?n=this._reinsertAfter(h,n._prev,l):n.currentIndex!=l&&(n.currentIndex=l,this._addToMoves(n,l)),n}_truncate(n){for(;null!==n;){const o=n._next;this._addToRemovals(this._unlink(n)),n=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const l=n._prevRemoved,h=n._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(n,o,a),this._addToMoves(n,a),n}_moveAfter(n,o,a){return this._unlink(n),this._insertAfter(n,o,a),this._addToMoves(n,a),n}_addAfter(n,o,a){return this._insertAfter(n,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,o,a){const l=null===o?this._itHead:o._next;return n._next=l,n._prev=o,null===l?this._itTail=n:l._prev=n,null===o?this._itHead=n:o._next=n,null===this._linkedRecords&&(this._linkedRecords=new Kb),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const o=n._prev,a=n._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,n}_addToMoves(n,o){return n.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Kb),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,o){return n.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class IT{constructor(n,o){this.item=n,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xT{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const o=n._prevDup,a=n._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class Kb{constructor(){this.map=new Map}put(n){const o=n.trackById;let a=this.map.get(o);a||(a=new xT,this.map.set(o,a)),a.add(n)}get(n,o){const l=this.map.get(n);return l?l.get(n,o):null}remove(n){const o=n.trackById;return this.map.get(o).remove(n)&&this.map.delete(o),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Qb(t,n,o){const a=t.previousIndex;if(null===a)return a;let l=0;return o&&a<o.length&&(l=o[a]),a+n+l}class Xb{constructor(){}supports(n){return n instanceof Map||Kd(n)}create(){return new OT}}class OT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let o;for(o=this._mapHead;null!==o;o=o._next)n(o)}forEachPreviousItem(n){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)n(o)}forEachChangedItem(n){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)n(o)}forEachAddedItem(n){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)n(o)}forEachRemovedItem(n){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)n(o)}diff(n){if(n){if(!(n instanceof Map||Kd(n)))throw new Te(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(l,a);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,o){if(n){const a=n._prev;return o._next=n,o._prev=a,n._prev=o,a&&(a._next=o),n===this._mapHead&&(this._mapHead=o),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(n,o){if(this._records.has(n)){const l=this._records.get(n);this._maybeAddToChanges(l,o);const h=l._prev,m=l._next;return h&&(h._next=m),m&&(m._prev=h),l._next=null,l._prev=null,l}const a=new NT(n);return this._records.set(n,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,o){Object.is(o,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=o,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,o){n instanceof Map?n.forEach(o):Object.keys(n).forEach(a=>o(n[a],a))}}class NT{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function eC(){return new _y([new Jb])}let _y=(()=>{class t{static#e=this.\u0275prov=Ht({token:t,providedIn:"root",factory:eC});constructor(o){this.factories=o}static create(o,a){if(null!=a){const l=a.factories.slice();o=o.concat(l)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||eC()),deps:[[t,new oa,new $s]]}}find(o){const a=this.factories.find(l=>l.supports(o));if(null!=a)return a;throw new Te(901,!1)}}return t})();function tC(){return new vy([new Xb])}let vy=(()=>{class t{static#e=this.\u0275prov=Ht({token:t,providedIn:"root",factory:tC});constructor(o){this.factories=o}static create(o,a){if(a){const l=a.factories.slice();o=o.concat(l)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||tC()),deps:[[t,new oa,new $s]]}}find(o){const a=this.factories.find(l=>l.supports(o));if(a)return a;throw new Te(901,!1)}}return t})();const RT=Bb(null,"core",[]);let FT=(()=>{class t{constructor(o){}static#e=this.\u0275fac=function(a){return new(a||t)(ot(Cu))};static#t=this.\u0275mod=or({type:t});static#n=this.\u0275inj=wn({})}return t})();function YT(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function qT(t,n){const o=yn(t),a=n.elementInjector||Gl();return new el(o).create(a,n.projectableNodes,n.hostElement,n.environmentInjector)}function JT(t){const n=yn(t);if(!n)return null;const o=new el(n);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},8849:(Ot,ke,M)=>{"use strict";M.d(ke,{Cf:()=>be,EJ:()=>wi,Fj:()=>Se,JJ:()=>Be,JU:()=>Le,Kr:()=>Qi,On:()=>Oi,Wl:()=>ge,YN:()=>_r,u5:()=>Pr,wV:()=>nr});var g=M(1699),X=M(6575),W=M(4683),ce=M(4300),J=M(9736);let e=(()=>{class R{constructor(S,z){this._renderer=S,this._elementRef=z,this.onChange=de=>{},this.onTouched=()=>{}}setProperty(S,z){this._renderer.setProperty(this._elementRef.nativeElement,S,z)}registerOnTouched(S){this.onTouched=S}registerOnChange(S){this.onChange=S}setDisabledState(S){this.setProperty("disabled",S)}static#e=this.\u0275fac=function(z){return new(z||R)(g.Y36(g.Qsj),g.Y36(g.SBq))};static#t=this.\u0275dir=g.lG2({type:R})}return R})(),Q=(()=>{class R extends e{static#e=this.\u0275fac=function(){let S;return function(de){return(S||(S=g.n5z(R)))(de||R)}}();static#t=this.\u0275dir=g.lG2({type:R,features:[g.qOj]})}return R})();const Le=new g.OlP("NgValueAccessor"),pe={provide:Le,useExisting:(0,g.Gpc)(()=>ge),multi:!0};let ge=(()=>{class R extends Q{writeValue(S){this.setProperty("checked",S)}static#e=this.\u0275fac=function(){let S;return function(de){return(S||(S=g.n5z(R)))(de||R)}}();static#t=this.\u0275dir=g.lG2({type:R,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(z,de){1&z&&g.NdJ("change",function(xn){return de.onChange(xn.target.checked)})("blur",function(){return de.onTouched()})},features:[g._Bn([pe]),g.qOj]})}return R})();const Ae={provide:Le,useExisting:(0,g.Gpc)(()=>Se),multi:!0},De=new g.OlP("CompositionEventMode");let Se=(()=>{class R extends e{constructor(S,z,de){super(S,z),this._compositionMode=de,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ne(){const R=(0,X.q)()?(0,X.q)().getUserAgent():"";return/android (\d+)/.test(R.toLowerCase())}())}writeValue(S){this.setProperty("value",S??"")}_handleInput(S){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(S)}_compositionStart(){this._composing=!0}_compositionEnd(S){this._composing=!1,this._compositionMode&&this.onChange(S)}static#e=this.\u0275fac=function(z){return new(z||R)(g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(De,8))};static#t=this.\u0275dir=g.lG2({type:R,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(z,de){1&z&&g.NdJ("input",function(xn){return de._handleInput(xn.target.value)})("blur",function(){return de.onTouched()})("compositionstart",function(){return de._compositionStart()})("compositionend",function(xn){return de._compositionEnd(xn.target.value)})},features:[g._Bn([Ae]),g.qOj]})}return R})();const be=new g.OlP("NgValidators"),Ye=new g.OlP("NgAsyncValidators");function Je(R){return null!=R}function Ft(R){return(0,g.QGY)(R)?(0,W.D)(R):R}function rt(R){let B={};return R.forEach(S=>{B=null!=S?{...B,...S}:B}),0===Object.keys(B).length?null:B}function dt(R,B){return B.map(S=>S(R))}function ht(R){return R.map(B=>function Re(R){return!R.validate}(B)?B:S=>B.validate(S))}function le(R){return null!=R?function ae(R){if(!R)return null;const B=R.filter(Je);return 0==B.length?null:function(S){return rt(dt(S,B))}}(ht(R)):null}function ye(R){return null!=R?function we(R){if(!R)return null;const B=R.filter(Je);return 0==B.length?null:function(S){const z=dt(S,B).map(Ft);return(0,ce.D)(z).pipe((0,J.U)(rt))}}(ht(R)):null}function Me(R,B){return null===R?[B]:Array.isArray(R)?[...R,B]:[R,B]}function nt(R){return R?Array.isArray(R)?R:[R]:[]}function cn(R,B){return Array.isArray(R)?R.includes(B):R===B}function ct(R,B){const S=nt(B);return nt(R).forEach(de=>{cn(S,de)||S.push(de)}),S}function sn(R,B){return nt(B).filter(S=>!cn(R,S))}class Ht{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(B){this._rawValidators=B||[],this._composedValidatorFn=le(this._rawValidators)}_setAsyncValidators(B){this._rawAsyncValidators=B||[],this._composedAsyncValidatorFn=ye(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(B){this._onDestroyCallbacks.push(B)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(B=>B()),this._onDestroyCallbacks=[]}reset(B=void 0){this.control&&this.control.reset(B)}hasError(B,S){return!!this.control&&this.control.hasError(B,S)}getError(B,S){return this.control?this.control.getError(B,S):null}}class Ct extends Ht{get formDirective(){return null}get path(){return null}}class wn extends Ht{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class gn{constructor(B){this._cd=B}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Be=(()=>{class R extends gn{constructor(S){super(S)}static#e=this.\u0275fac=function(z){return new(z||R)(g.Y36(wn,2))};static#t=this.\u0275dir=g.lG2({type:R,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(z,de){2&z&&g.ekj("ng-untouched",de.isUntouched)("ng-touched",de.isTouched)("ng-pristine",de.isPristine)("ng-dirty",de.isDirty)("ng-valid",de.isValid)("ng-invalid",de.isInvalid)("ng-pending",de.isPending)},features:[g.qOj]})}return R})();const mi="VALID",Fi="INVALID",Ai="PENDING",Hn="DISABLED";function Ji(R){return null!=R&&!Array.isArray(R)&&"object"==typeof R}class $o{constructor(B,S){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(B),this._assignAsyncValidators(S)}get validator(){return this._composedValidatorFn}set validator(B){this._rawValidators=this._composedValidatorFn=B}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(B){this._rawAsyncValidators=this._composedAsyncValidatorFn=B}get parent(){return this._parent}get valid(){return this.status===mi}get invalid(){return this.status===Fi}get pending(){return this.status==Ai}get disabled(){return this.status===Hn}get enabled(){return this.status!==Hn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(B){this._assignValidators(B)}setAsyncValidators(B){this._assignAsyncValidators(B)}addValidators(B){this.setValidators(ct(B,this._rawValidators))}addAsyncValidators(B){this.setAsyncValidators(ct(B,this._rawAsyncValidators))}removeValidators(B){this.setValidators(sn(B,this._rawValidators))}removeAsyncValidators(B){this.setAsyncValidators(sn(B,this._rawAsyncValidators))}hasValidator(B){return cn(this._rawValidators,B)}hasAsyncValidator(B){return cn(this._rawAsyncValidators,B)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(B={}){this.touched=!0,this._parent&&!B.onlySelf&&this._parent.markAsTouched(B)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(B=>B.markAllAsTouched())}markAsUntouched(B={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(S=>{S.markAsUntouched({onlySelf:!0})}),this._parent&&!B.onlySelf&&this._parent._updateTouched(B)}markAsDirty(B={}){this.pristine=!1,this._parent&&!B.onlySelf&&this._parent.markAsDirty(B)}markAsPristine(B={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(S=>{S.markAsPristine({onlySelf:!0})}),this._parent&&!B.onlySelf&&this._parent._updatePristine(B)}markAsPending(B={}){this.status=Ai,!1!==B.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!B.onlySelf&&this._parent.markAsPending(B)}disable(B={}){const S=this._parentMarkedDirty(B.onlySelf);this.status=Hn,this.errors=null,this._forEachChild(z=>{z.disable({...B,onlySelf:!0})}),this._updateValue(),!1!==B.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...B,skipPristineCheck:S}),this._onDisabledChange.forEach(z=>z(!0))}enable(B={}){const S=this._parentMarkedDirty(B.onlySelf);this.status=mi,this._forEachChild(z=>{z.enable({...B,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:B.emitEvent}),this._updateAncestors({...B,skipPristineCheck:S}),this._onDisabledChange.forEach(z=>z(!1))}_updateAncestors(B){this._parent&&!B.onlySelf&&(this._parent.updateValueAndValidity(B),B.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(B){this._parent=B}getRawValue(){return this.value}updateValueAndValidity(B={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===mi||this.status===Ai)&&this._runAsyncValidator(B.emitEvent)),!1!==B.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!B.onlySelf&&this._parent.updateValueAndValidity(B)}_updateTreeValidity(B={emitEvent:!0}){this._forEachChild(S=>S._updateTreeValidity(B)),this.updateValueAndValidity({onlySelf:!0,emitEvent:B.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Hn:mi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(B){if(this.asyncValidator){this.status=Ai,this._hasOwnPendingAsyncValidator=!0;const S=Ft(this.asyncValidator(this));this._asyncValidationSubscription=S.subscribe(z=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(z,{emitEvent:B})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(B,S={}){this.errors=B,this._updateControlsErrors(!1!==S.emitEvent)}get(B){let S=B;return null==S||(Array.isArray(S)||(S=S.split(".")),0===S.length)?null:S.reduce((z,de)=>z&&z._find(de),this)}getError(B,S){const z=S?this.get(S):this;return z&&z.errors?z.errors[B]:null}hasError(B,S){return!!this.getError(B,S)}get root(){let B=this;for(;B._parent;)B=B._parent;return B}_updateControlsErrors(B){this.status=this._calculateStatus(),B&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(B)}_initObservables(){this.valueChanges=new g.vpe,this.statusChanges=new g.vpe}_calculateStatus(){return this._allControlsDisabled()?Hn:this.errors?Fi:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ai)?Ai:this._anyControlsHaveStatus(Fi)?Fi:mi}_anyControlsHaveStatus(B){return this._anyControls(S=>S.status===B)}_anyControlsDirty(){return this._anyControls(B=>B.dirty)}_anyControlsTouched(){return this._anyControls(B=>B.touched)}_updatePristine(B={}){this.pristine=!this._anyControlsDirty(),this._parent&&!B.onlySelf&&this._parent._updatePristine(B)}_updateTouched(B={}){this.touched=this._anyControlsTouched(),this._parent&&!B.onlySelf&&this._parent._updateTouched(B)}_registerOnCollectionChange(B){this._onCollectionChange=B}_setUpdateStrategy(B){Ji(B)&&null!=B.updateOn&&(this._updateOn=B.updateOn)}_parentMarkedDirty(B){return!B&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(B){return null}_assignValidators(B){this._rawValidators=Array.isArray(B)?B.slice():B,this._composedValidatorFn=function Dn(R){return Array.isArray(R)?le(R):R||null}(this._rawValidators)}_assignAsyncValidators(B){this._rawAsyncValidators=Array.isArray(B)?B.slice():B,this._composedAsyncValidatorFn=function Si(R){return Array.isArray(R)?ye(R):R||null}(this._rawAsyncValidators)}}const Ne=new g.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ot}),ot="always";function wt(R,B,S=ot){(function Pe(R,B){const S=function Ze(R){return R._rawValidators}(R);null!==B.validator?R.setValidators(Me(S,B.validator)):"function"==typeof S&&R.setValidators([S]);const z=function et(R){return R._rawAsyncValidators}(R);null!==B.asyncValidator?R.setAsyncValidators(Me(z,B.asyncValidator)):"function"==typeof z&&R.setAsyncValidators([z]);const de=()=>R.updateValueAndValidity();Sn(B._rawValidators,de),Sn(B._rawAsyncValidators,de)})(R,B),B.valueAccessor.writeValue(R.value),(R.disabled||"always"===S)&&B.valueAccessor.setDisabledState?.(R.disabled),function Ce(R,B){B.valueAccessor.registerOnChange(S=>{R._pendingValue=S,R._pendingChange=!0,R._pendingDirty=!0,"change"===R.updateOn&&vt(R,B)})}(R,B),function Mt(R,B){const S=(z,de)=>{B.valueAccessor.writeValue(z),de&&B.viewToModelUpdate(z)};R.registerOnChange(S),B._registerOnDestroy(()=>{R._unregisterOnChange(S)})}(R,B),function Ke(R,B){B.valueAccessor.registerOnTouched(()=>{R._pendingTouched=!0,"blur"===R.updateOn&&R._pendingChange&&vt(R,B),"submit"!==R.updateOn&&R.markAsTouched()})}(R,B),function Rn(R,B){if(B.valueAccessor.setDisabledState){const S=z=>{B.valueAccessor.setDisabledState(z)};R.registerOnDisabledChange(S),B._registerOnDestroy(()=>{R._unregisterOnDisabledChange(S)})}}(R,B)}function Sn(R,B){R.forEach(S=>{S.registerOnValidatorChange&&S.registerOnValidatorChange(B)})}function vt(R,B){R._pendingDirty&&R.markAsDirty(),R.setValue(R._pendingValue,{emitModelToViewChange:!1}),B.viewToModelUpdate(R._pendingValue),R._pendingChange=!1}function Ci(R,B){const S=R.indexOf(B);S>-1&&R.splice(S,1)}function Vi(R){return"object"==typeof R&&null!==R&&2===Object.keys(R).length&&"value"in R&&"disabled"in R}const _o=class extends $o{constructor(B=null,S,z){super(function Gn(R){return(Ji(R)?R.validators:R)||null}(S),function Jn(R,B){return(Ji(B)?B.asyncValidators:R)||null}(z,S)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(B),this._setUpdateStrategy(S),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ji(S)&&(S.nonNullable||S.initialValueIsDefault)&&(this.defaultValue=Vi(B)?B.value:B)}setValue(B,S={}){this.value=this._pendingValue=B,this._onChange.length&&!1!==S.emitModelToViewChange&&this._onChange.forEach(z=>z(this.value,!1!==S.emitViewToModelChange)),this.updateValueAndValidity(S)}patchValue(B,S={}){this.setValue(B,S)}reset(B=this.defaultValue,S={}){this._applyFormState(B),this.markAsPristine(S),this.markAsUntouched(S),this.setValue(this.value,S),this._pendingChange=!1}_updateValue(){}_anyControls(B){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(B){this._onChange.push(B)}_unregisterOnChange(B){Ci(this._onChange,B)}registerOnDisabledChange(B){this._onDisabledChange.push(B)}_unregisterOnDisabledChange(B){Ci(this._onDisabledChange,B)}_forEachChild(B){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(B){Vi(B)?(this.value=this._pendingValue=B.value,B.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=B}},no={provide:wn,useExisting:(0,g.Gpc)(()=>Oi)},tr=(()=>Promise.resolve())();let Oi=(()=>{class R extends wn{constructor(S,z,de,rn,xn,Bi){super(),this._changeDetectorRef=xn,this.callSetDisabledState=Bi,this.control=new _o,this._registered=!1,this.name="",this.update=new g.vpe,this._parent=S,this._setValidators(z),this._setAsyncValidators(de),this.valueAccessor=function In(R,B){if(!B)return null;let S,z,de;return Array.isArray(B),B.forEach(rn=>{rn.constructor===Se?S=rn:function ii(R){return Object.getPrototypeOf(R.constructor)===Q}(rn)?z=rn:de=rn}),de||z||S||null}(0,rn)}ngOnChanges(S){if(this._checkForErrors(),!this._registered||"name"in S){if(this._registered&&(this._checkName(),this.formDirective)){const z=S.name.previousValue;this.formDirective.removeControl({name:z,path:this._getPath(z)})}this._setUpControl()}"isDisabled"in S&&this._updateDisabled(S),function Zn(R,B){if(!R.hasOwnProperty("model"))return!1;const S=R.model;return!!S.isFirstChange()||!Object.is(B,S.currentValue)}(S,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(S){this.viewModel=S,this.update.emit(S)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){wt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(S){tr.then(()=>{this.control.setValue(S,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(S){const z=S.isDisabled.currentValue,de=0!==z&&(0,g.VuI)(z);tr.then(()=>{de&&!this.control.disabled?this.control.disable():!de&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(S){return this._parent?function Lt(R,B){return[...B.path,R]}(S,this._parent):[S]}static#e=this.\u0275fac=function(z){return new(z||R)(g.Y36(Ct,9),g.Y36(be,10),g.Y36(Ye,10),g.Y36(Le,10),g.Y36(g.sBO,8),g.Y36(Ne,8))};static#t=this.\u0275dir=g.lG2({type:R,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[g._Bn([no]),g.qOj,g.TTD]})}return R})();const gr={provide:Le,useExisting:(0,g.Gpc)(()=>nr),multi:!0};let nr=(()=>{class R extends Q{writeValue(S){this.setProperty("value",S??"")}registerOnChange(S){this.onChange=z=>{S(""==z?null:parseFloat(z))}}static#e=this.\u0275fac=function(){let S;return function(de){return(S||(S=g.n5z(R)))(de||R)}}();static#t=this.\u0275dir=g.lG2({type:R,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(z,de){1&z&&g.NdJ("input",function(xn){return de.onChange(xn.target.value)})("blur",function(){return de.onTouched()})},features:[g._Bn([gr]),g.qOj]})}return R})(),Hr=(()=>{class R{static#e=this.\u0275fac=function(z){return new(z||R)};static#t=this.\u0275mod=g.oAB({type:R});static#n=this.\u0275inj=g.cJS({})}return R})();const qn={provide:Le,useExisting:(0,g.Gpc)(()=>wi),multi:!0};function $i(R,B){return null==R?`${B}`:(B&&"object"==typeof B&&(B="Object"),`${R}: ${B}`.slice(0,50))}let wi=(()=>{class R extends Q{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(S){this._compareWith=S}writeValue(S){this.value=S;const de=$i(this._getOptionId(S),S);this.setProperty("value",de)}registerOnChange(S){this.onChange=z=>{this.value=this._getOptionValue(z),S(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(S){for(const z of this._optionMap.keys())if(this._compareWith(this._optionMap.get(z),S))return z;return null}_getOptionValue(S){const z=function xo(R){return R.split(":")[0]}(S);return this._optionMap.has(z)?this._optionMap.get(z):S}static#e=this.\u0275fac=function(){let S;return function(de){return(S||(S=g.n5z(R)))(de||R)}}();static#t=this.\u0275dir=g.lG2({type:R,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(z,de){1&z&&g.NdJ("change",function(xn){return de.onChange(xn.target.value)})("blur",function(){return de.onTouched()})},inputs:{compareWith:"compareWith"},features:[g._Bn([qn]),g.qOj]})}return R})(),_r=(()=>{class R{constructor(S,z,de){this._element=S,this._renderer=z,this._select=de,this._select&&(this.id=this._select._registerOption())}set ngValue(S){null!=this._select&&(this._select._optionMap.set(this.id,S),this._setElementValue($i(this.id,S)),this._select.writeValue(this._select.value))}set value(S){this._setElementValue(S),this._select&&this._select.writeValue(this._select.value)}_setElementValue(S){this._renderer.setProperty(this._element.nativeElement,"value",S)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(z){return new(z||R)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(wi,9))};static#t=this.\u0275dir=g.lG2({type:R,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return R})();const ci={provide:Le,useExisting:(0,g.Gpc)(()=>vr),multi:!0};function uo(R,B){return null==R?`${B}`:("string"==typeof B&&(B=`'${B}'`),B&&"object"==typeof B&&(B="Object"),`${R}: ${B}`.slice(0,50))}let vr=(()=>{class R extends Q{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(S){this._compareWith=S}writeValue(S){let z;if(this.value=S,Array.isArray(S)){const de=S.map(rn=>this._getOptionId(rn));z=(rn,xn)=>{rn._setSelected(de.indexOf(xn.toString())>-1)}}else z=(de,rn)=>{de._setSelected(!1)};this._optionMap.forEach(z)}registerOnChange(S){this.onChange=z=>{const de=[],rn=z.selectedOptions;if(void 0!==rn){const xn=rn;for(let Bi=0;Bi<xn.length;Bi++){const Dr=this._getOptionValue(xn[Bi].value);de.push(Dr)}}else{const xn=z.options;for(let Bi=0;Bi<xn.length;Bi++){const No=xn[Bi];if(No.selected){const Dr=this._getOptionValue(No.value);de.push(Dr)}}}this.value=de,S(de)}}_registerOption(S){const z=(this._idCounter++).toString();return this._optionMap.set(z,S),z}_getOptionId(S){for(const z of this._optionMap.keys())if(this._compareWith(this._optionMap.get(z)._value,S))return z;return null}_getOptionValue(S){const z=function Bo(R){return R.split(":")[0]}(S);return this._optionMap.has(z)?this._optionMap.get(z)._value:S}static#e=this.\u0275fac=function(){let S;return function(de){return(S||(S=g.n5z(R)))(de||R)}}();static#t=this.\u0275dir=g.lG2({type:R,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(z,de){1&z&&g.NdJ("change",function(xn){return de.onChange(xn.target)})("blur",function(){return de.onTouched()})},inputs:{compareWith:"compareWith"},features:[g._Bn([ci]),g.qOj]})}return R})(),Qi=(()=>{class R{constructor(S,z,de){this._element=S,this._renderer=z,this._select=de,this._select&&(this.id=this._select._registerOption(this))}set ngValue(S){null!=this._select&&(this._value=S,this._setElementValue(uo(this.id,S)),this._select.writeValue(this._select.value))}set value(S){this._select?(this._value=S,this._setElementValue(uo(this.id,S)),this._select.writeValue(this._select.value)):this._setElementValue(S)}_setElementValue(S){this._renderer.setProperty(this._element.nativeElement,"value",S)}_setSelected(S){this._renderer.setProperty(this._element.nativeElement,"selected",S)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(z){return new(z||R)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(vr,9))};static#t=this.\u0275dir=g.lG2({type:R,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return R})(),Li=(()=>{class R{static#e=this.\u0275fac=function(z){return new(z||R)};static#t=this.\u0275mod=g.oAB({type:R});static#n=this.\u0275inj=g.cJS({imports:[Hr]})}return R})(),Pr=(()=>{class R{static withConfig(S){return{ngModule:R,providers:[{provide:Ne,useValue:S.callSetDisabledState??ot}]}}static#e=this.\u0275fac=function(z){return new(z||R)};static#t=this.\u0275mod=g.oAB({type:R});static#n=this.\u0275inj=g.cJS({imports:[Li]})}return R})()},9713:()=>{"use strict";const Ot=":";const Ct=function(he,...ve){if(Ct.translate){const ze=Ct.translate(he,ve);he=ze[0],ve=ze[1]}let Be=gn(he[0],he.raw[0]);for(let ze=1;ze<he.length;ze++)Be+=ve[ze-1]+gn(he[ze],he.raw[ze]);return Be},wn=":";function gn(he,ve){return ve.charAt(0)===wn?he.substring(function le(he,ve){for(let Be=1,ze=1;Be<he.length;Be++,ze++)if("\\"===ve[ze])ze++;else if(he[Be]===Ot)return Be;throw new Error(`Unterminated $localize metadata block in "${ve}".`)}(he,ve)+1):he}globalThis.$localize=Ct},140:(Ot,ke,M)=>{"use strict";M.d(ke,{Hw:()=>Qt,Ps:()=>Jr,jv:()=>C});var g=M(1699),X=M(6575),W=M(6744),Go=M(1134);const is="cdk-high-contrast-black-on-white",yo="cdk-high-contrast-white-on-black",ar="cdk-high-contrast-active";let Gi=(()=>{class _e{constructor(P,q){this._platform=P,this._document=q,this._breakpointSubscription=(0,g.f3M)(Go.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const P=this._document.createElement("div");P.style.backgroundColor="rgb(1,2,3)",P.style.position="absolute",this._document.body.appendChild(P);const q=this._document.defaultView||window,Ee=q&&q.getComputedStyle?q.getComputedStyle(P):null,lt=(Ee&&Ee.backgroundColor||"").replace(/ /g,"");switch(P.remove(),lt){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const P=this._document.body.classList;P.remove(ar,is,yo),this._hasCheckedHighContrastMode=!0;const q=this.getHighContrastMode();1===q?P.add(ar,is):2===q&&P.add(ar,yo)}}}return _e.\u0275fac=function(P){return new(P||_e)(g.LFG(W.t4),g.LFG(X.K0))},_e.\u0275prov=g.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})(),Yo=(()=>{class _e{}return _e.\u0275fac=function(P){return new(P||_e)},_e.\u0275mod=g.oAB({type:_e}),_e.\u0275inj=g.cJS({}),_e})();var cr=M(3344);const de=new g.OlP("mat-sanity-checks",{providedIn:"root",factory:function z(){return!0}});let rn=(()=>{class _e{constructor(P,q,Ee){this._sanityChecks=q,this._document=Ee,this._hasDoneGlobalChecks=!1,P._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(P){return!(0,W.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[P])}}return _e.\u0275fac=function(P){return new(P||_e)(g.LFG(Gi),g.LFG(de,8),g.LFG(X.K0))},_e.\u0275mod=g.oAB({type:_e}),_e.\u0275inj=g.cJS({imports:[Yo,Yo]}),_e})();function br(_e,U){return class extends _e{get color(){return this._color}set color(P){const q=P||this.defaultColor;q!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),q&&this._elementRef.nativeElement.classList.add(`mat-${q}`),this._color=q)}constructor(...P){super(...P),this.defaultColor=U,this.color=U}}}class Lr{constructor(U,P,q,Ee=!1){this._renderer=U,this.element=P,this.config=q,this._animationForciblyDisabledThroughCss=Ee,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const ss=(0,W.i$)({passive:!0,capture:!0});class as{constructor(){this._events=new Map,this._delegateEventHandler=U=>{const P=(0,W.sA)(U);P&&this._events.get(U.type)?.forEach((q,Ee)=>{(Ee===P||Ee.contains(P))&&q.forEach(lt=>lt.handleEvent(U))})}}addHandler(U,P,q,Ee){const lt=this._events.get(P);if(lt){const It=lt.get(q);It?It.add(Ee):lt.set(q,new Set([Ee]))}else this._events.set(P,new Map([[q,new Set([Ee])]])),U.runOutsideAngular(()=>{document.addEventListener(P,this._delegateEventHandler,ss)})}removeHandler(U,P,q){const Ee=this._events.get(U);if(!Ee)return;const lt=Ee.get(P);lt&&(lt.delete(q),0===lt.size&&Ee.delete(P),0===Ee.size&&(this._events.delete(U),document.removeEventListener(U,this._delegateEventHandler,ss)))}}const Cr={enterDuration:225,exitDuration:150},Uo=(0,W.i$)({passive:!0,capture:!0}),ur=["mousedown","touchstart"],Ss=["mouseup","mouseleave","touchend","touchcancel"];class Ur{constructor(U,P,q,Ee){this._target=U,this._ngZone=P,this._platform=Ee,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,Ee.isBrowser&&(this._containerElement=(0,cr.fI)(q))}fadeInRipple(U,P,q={}){const Ee=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),lt={...Cr,...q.animation};q.centered&&(U=Ee.left+Ee.width/2,P=Ee.top+Ee.height/2);const It=q.radius||function Xs(_e,U,P){const q=Math.max(Math.abs(_e-P.left),Math.abs(_e-P.right)),Ee=Math.max(Math.abs(U-P.top),Math.abs(U-P.bottom));return Math.sqrt(q*q+Ee*Ee)}(U,P,Ee),Vn=U-Ee.left,Er=P-Ee.top,Ko=lt.enterDuration,oo=document.createElement("div");oo.classList.add("mat-ripple-element"),oo.style.left=Vn-It+"px",oo.style.top=Er-It+"px",oo.style.height=2*It+"px",oo.style.width=2*It+"px",null!=q.color&&(oo.style.backgroundColor=q.color),oo.style.transitionDuration=`${Ko}ms`,this._containerElement.appendChild(oo);const Dt=window.getComputedStyle(oo),ro=Dt.transitionDuration,ma="none"===Dt.transitionProperty||"0s"===ro||"0s, 0s"===ro||0===Ee.width&&0===Ee.height,ji=new Lr(this,oo,q,ma);oo.style.transform="scale3d(1, 1, 1)",ji.state=0,q.persistent||(this._mostRecentTransientRipple=ji);let Zs=null;return!ma&&(Ko||lt.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const jr=()=>this._finishRippleTransition(ji),dr=()=>this._destroyRipple(ji);oo.addEventListener("transitionend",jr),oo.addEventListener("transitioncancel",dr),Zs={onTransitionEnd:jr,onTransitionCancel:dr}}),this._activeRipples.set(ji,Zs),(ma||!Ko)&&this._finishRippleTransition(ji),ji}fadeOutRipple(U){if(2===U.state||3===U.state)return;const P=U.element,q={...Cr,...U.config.animation};P.style.transitionDuration=`${q.exitDuration}ms`,P.style.opacity="0",U.state=2,(U._animationForciblyDisabledThroughCss||!q.exitDuration)&&this._finishRippleTransition(U)}fadeOutAll(){this._getActiveRipples().forEach(U=>U.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(U=>{U.config.persistent||U.fadeOut()})}setupTriggerEvents(U){const P=(0,cr.fI)(U);!this._platform.isBrowser||!P||P===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=P,ur.forEach(q=>{Ur._eventManager.addHandler(this._ngZone,q,P,this)}))}handleEvent(U){"mousedown"===U.type?this._onMousedown(U):"touchstart"===U.type?this._onTouchStart(U):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Ss.forEach(P=>{this._triggerElement.addEventListener(P,this,Uo)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(U){0===U.state?this._startFadeOutTransition(U):2===U.state&&this._destroyRipple(U)}_startFadeOutTransition(U){const P=U===this._mostRecentTransientRipple,{persistent:q}=U.config;U.state=1,!q&&(!P||!this._isPointerDown)&&U.fadeOut()}_destroyRipple(U){const P=this._activeRipples.get(U)??null;this._activeRipples.delete(U),this._activeRipples.size||(this._containerRect=null),U===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),U.state=3,null!==P&&(U.element.removeEventListener("transitionend",P.onTransitionEnd),U.element.removeEventListener("transitioncancel",P.onTransitionCancel)),U.element.remove()}_onMousedown(U){const P=function uo(_e){return 0===_e.buttons||0===_e.offsetX&&0===_e.offsetY}(U),q=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!P&&!q&&(this._isPointerDown=!0,this.fadeInRipple(U.clientX,U.clientY,this._target.rippleConfig))}_onTouchStart(U){if(!this._target.rippleDisabled&&!function Bo(_e){const U=_e.touches&&_e.touches[0]||_e.changedTouches&&_e.changedTouches[0];return!(!U||-1!==U.identifier||null!=U.radiusX&&1!==U.radiusX||null!=U.radiusY&&1!==U.radiusY)}(U)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const P=U.changedTouches;for(let q=0;q<P.length;q++)this.fadeInRipple(P[q].clientX,P[q].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(U=>{!U.config.persistent&&(1===U.state||U.config.terminateOnPointerUp&&0===U.state)&&U.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const U=this._triggerElement;U&&(ur.forEach(P=>Ur._eventManager.removeHandler(P,U,this)),this._pointerUpEventsRegistered&&Ss.forEach(P=>U.removeEventListener(P,this,Uo)))}}Ur._eventManager=new as;var gt=M(4980),Kt=M(3252),Qn=M(4300),si=M(6482),On=M(3738),pn=M(9736),Ei=M(2389),li=M(7474),Ti=M(5584),Jo=M(1527),Ho=M(4860),po=M(6480);const Eo=["*"];let Ui;function Ao(_e){return function wr(){if(void 0===Ui&&(Ui=null,typeof window<"u")){const _e=window;void 0!==_e.trustedTypes&&(Ui=_e.trustedTypes.createPolicy("angular#components",{createHTML:U=>U}))}return Ui}()?.createHTML(_e)||_e}function ui(_e){return Error(`Unable to find icon with the name "${_e}"`)}function s(_e){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${_e}".`)}function u(_e){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${_e}".`)}class p{constructor(U,P,q){this.url=U,this.svgText=P,this.options=q}}let C=(()=>{class _e{constructor(P,q,Ee,lt){this._httpClient=P,this._sanitizer=q,this._errorHandler=lt,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=Ee}addSvgIcon(P,q,Ee){return this.addSvgIconInNamespace("",P,q,Ee)}addSvgIconLiteral(P,q,Ee){return this.addSvgIconLiteralInNamespace("",P,q,Ee)}addSvgIconInNamespace(P,q,Ee,lt){return this._addSvgIconConfig(P,q,new p(Ee,null,lt))}addSvgIconResolver(P){return this._resolvers.push(P),this}addSvgIconLiteralInNamespace(P,q,Ee,lt){const It=this._sanitizer.sanitize(g.q3G.HTML,Ee);if(!It)throw u(Ee);const Vn=Ao(It);return this._addSvgIconConfig(P,q,new p("",Vn,lt))}addSvgIconSet(P,q){return this.addSvgIconSetInNamespace("",P,q)}addSvgIconSetLiteral(P,q){return this.addSvgIconSetLiteralInNamespace("",P,q)}addSvgIconSetInNamespace(P,q,Ee){return this._addSvgIconSetConfig(P,new p(q,null,Ee))}addSvgIconSetLiteralInNamespace(P,q,Ee){const lt=this._sanitizer.sanitize(g.q3G.HTML,q);if(!lt)throw u(q);const It=Ao(lt);return this._addSvgIconSetConfig(P,new p("",It,Ee))}registerFontClassAlias(P,q=P){return this._fontCssClassesByAlias.set(P,q),this}classNameForFontAlias(P){return this._fontCssClassesByAlias.get(P)||P}setDefaultFontSetClass(...P){return this._defaultFontSetClass=P,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(P){const q=this._sanitizer.sanitize(g.q3G.RESOURCE_URL,P);if(!q)throw s(P);const Ee=this._cachedIconsByUrl.get(q);return Ee?(0,gt.of)(me(Ee)):this._loadSvgIconFromConfig(new p(P,null)).pipe((0,On.b)(lt=>this._cachedIconsByUrl.set(q,lt)),(0,pn.U)(lt=>me(lt)))}getNamedSvgIcon(P,q=""){const Ee=Ge(q,P);let lt=this._svgIconConfigs.get(Ee);if(lt)return this._getSvgFromConfig(lt);if(lt=this._getIconConfigFromResolvers(q,P),lt)return this._svgIconConfigs.set(Ee,lt),this._getSvgFromConfig(lt);const It=this._iconSetConfigs.get(q);return It?this._getSvgFromIconSetConfigs(P,It):(0,Kt._)(ui(Ee))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(P){return P.svgText?(0,gt.of)(me(this._svgElementFromConfig(P))):this._loadSvgIconFromConfig(P).pipe((0,pn.U)(q=>me(q)))}_getSvgFromIconSetConfigs(P,q){const Ee=this._extractIconWithNameFromAnySet(P,q);if(Ee)return(0,gt.of)(Ee);const lt=q.filter(It=>!It.svgText).map(It=>this._loadSvgIconSetFromConfig(It).pipe((0,Ei.K)(Vn=>{const Ko=`Loading icon set URL: ${this._sanitizer.sanitize(g.q3G.RESOURCE_URL,It.url)} failed: ${Vn.message}`;return this._errorHandler.handleError(new Error(Ko)),(0,gt.of)(null)})));return(0,Qn.D)(lt).pipe((0,pn.U)(()=>{const It=this._extractIconWithNameFromAnySet(P,q);if(!It)throw ui(P);return It}))}_extractIconWithNameFromAnySet(P,q){for(let Ee=q.length-1;Ee>=0;Ee--){const lt=q[Ee];if(lt.svgText&&lt.svgText.toString().indexOf(P)>-1){const It=this._svgElementFromConfig(lt),Vn=this._extractSvgIconFromSet(It,P,lt.options);if(Vn)return Vn}}return null}_loadSvgIconFromConfig(P){return this._fetchIcon(P).pipe((0,On.b)(q=>P.svgText=q),(0,pn.U)(()=>this._svgElementFromConfig(P)))}_loadSvgIconSetFromConfig(P){return P.svgText?(0,gt.of)(null):this._fetchIcon(P).pipe((0,On.b)(q=>P.svgText=q))}_extractSvgIconFromSet(P,q,Ee){const lt=P.querySelector(`[id="${q}"]`);if(!lt)return null;const It=lt.cloneNode(!0);if(It.removeAttribute("id"),"svg"===It.nodeName.toLowerCase())return this._setSvgAttributes(It,Ee);if("symbol"===It.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(It),Ee);const Vn=this._svgElementFromString(Ao("<svg></svg>"));return Vn.appendChild(It),this._setSvgAttributes(Vn,Ee)}_svgElementFromString(P){const q=this._document.createElement("DIV");q.innerHTML=P;const Ee=q.querySelector("svg");if(!Ee)throw Error("<svg> tag not found");return Ee}_toSvgElement(P){const q=this._svgElementFromString(Ao("<svg></svg>")),Ee=P.attributes;for(let lt=0;lt<Ee.length;lt++){const{name:It,value:Vn}=Ee[lt];"id"!==It&&q.setAttribute(It,Vn)}for(let lt=0;lt<P.childNodes.length;lt++)P.childNodes[lt].nodeType===this._document.ELEMENT_NODE&&q.appendChild(P.childNodes[lt].cloneNode(!0));return q}_setSvgAttributes(P,q){return P.setAttribute("fit",""),P.setAttribute("height","100%"),P.setAttribute("width","100%"),P.setAttribute("preserveAspectRatio","xMidYMid meet"),P.setAttribute("focusable","false"),q&&q.viewBox&&P.setAttribute("viewBox",q.viewBox),P}_fetchIcon(P){const{url:q,options:Ee}=P,lt=Ee?.withCredentials??!1;if(!this._httpClient)throw function So(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==q)throw Error(`Cannot fetch icon from URL "${q}".`);const It=this._sanitizer.sanitize(g.q3G.RESOURCE_URL,q);if(!It)throw s(q);const Vn=this._inProgressUrlFetches.get(It);if(Vn)return Vn;const Er=this._httpClient.get(It,{responseType:"text",withCredentials:lt}).pipe((0,pn.U)(Ko=>Ao(Ko)),(0,li.x)(()=>this._inProgressUrlFetches.delete(It)),(0,Ti.B)());return this._inProgressUrlFetches.set(It,Er),Er}_addSvgIconConfig(P,q,Ee){return this._svgIconConfigs.set(Ge(P,q),Ee),this}_addSvgIconSetConfig(P,q){const Ee=this._iconSetConfigs.get(P);return Ee?Ee.push(q):this._iconSetConfigs.set(P,[q]),this}_svgElementFromConfig(P){if(!P.svgElement){const q=this._svgElementFromString(P.svgText);this._setSvgAttributes(q,P.options),P.svgElement=q}return P.svgElement}_getIconConfigFromResolvers(P,q){for(let Ee=0;Ee<this._resolvers.length;Ee++){const lt=this._resolvers[Ee](q,P);if(lt)return tt(lt)?new p(lt.url,null,lt.options):new p(lt,null)}}}return _e.\u0275fac=function(P){return new(P||_e)(g.LFG(Ho.eN,8),g.LFG(po.H7),g.LFG(X.K0,8),g.LFG(g.qLn))},_e.\u0275prov=g.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})();function me(_e){return _e.cloneNode(!0)}function Ge(_e,U){return _e+":"+U}function tt(_e){return!(!_e.url||!_e.options)}const yt=br(class{constructor(_e){this._elementRef=_e}}),Bt=new g.OlP("MAT_ICON_DEFAULT_OPTIONS"),vn=new g.OlP("mat-icon-location",{providedIn:"root",factory:function Tn(){const _e=(0,g.f3M)(X.K0),U=_e?_e.location:null;return{getPathname:()=>U?U.pathname+U.search:""}}}),Xn=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Yn=Xn.map(_e=>`[${_e}]`).join(", "),bi=/^url\(['"]?#(.*?)['"]?\)$/;let Qt=(()=>{class _e extends yt{get inline(){return this._inline}set inline(P){this._inline=(0,cr.Ig)(P)}get svgIcon(){return this._svgIcon}set svgIcon(P){P!==this._svgIcon&&(P?this._updateSvgIcon(P):this._svgIcon&&this._clearSvgElement(),this._svgIcon=P)}get fontSet(){return this._fontSet}set fontSet(P){const q=this._cleanupFontValue(P);q!==this._fontSet&&(this._fontSet=q,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(P){const q=this._cleanupFontValue(P);q!==this._fontIcon&&(this._fontIcon=q,this._updateFontIconClasses())}constructor(P,q,Ee,lt,It,Vn){super(P),this._iconRegistry=q,this._location=lt,this._errorHandler=It,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=si.w0.EMPTY,Vn&&(Vn.color&&(this.color=this.defaultColor=Vn.color),Vn.fontSet&&(this.fontSet=Vn.fontSet)),Ee||P.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(P){if(!P)return["",""];const q=P.split(":");switch(q.length){case 1:return["",q[0]];case 2:return q;default:throw Error(`Invalid icon name: "${P}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const P=this._elementsWithExternalReferences;if(P&&P.size){const q=this._location.getPathname();q!==this._previousPath&&(this._previousPath=q,this._prependPathToReferences(q))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(P){this._clearSvgElement();const q=this._location.getPathname();this._previousPath=q,this._cacheChildrenWithExternalReferences(P),this._prependPathToReferences(q),this._elementRef.nativeElement.appendChild(P)}_clearSvgElement(){const P=this._elementRef.nativeElement;let q=P.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();q--;){const Ee=P.childNodes[q];(1!==Ee.nodeType||"svg"===Ee.nodeName.toLowerCase())&&Ee.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const P=this._elementRef.nativeElement,q=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(Ee=>Ee.length>0);this._previousFontSetClass.forEach(Ee=>P.classList.remove(Ee)),q.forEach(Ee=>P.classList.add(Ee)),this._previousFontSetClass=q,this.fontIcon!==this._previousFontIconClass&&!q.includes("mat-ligature-font")&&(this._previousFontIconClass&&P.classList.remove(this._previousFontIconClass),this.fontIcon&&P.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(P){return"string"==typeof P?P.trim().split(" ")[0]:P}_prependPathToReferences(P){const q=this._elementsWithExternalReferences;q&&q.forEach((Ee,lt)=>{Ee.forEach(It=>{lt.setAttribute(It.name,`url('${P}#${It.value}')`)})})}_cacheChildrenWithExternalReferences(P){const q=P.querySelectorAll(Yn),Ee=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let lt=0;lt<q.length;lt++)Xn.forEach(It=>{const Vn=q[lt],Er=Vn.getAttribute(It),Ko=Er?Er.match(bi):null;if(Ko){let oo=Ee.get(Vn);oo||(oo=[],Ee.set(Vn,oo)),oo.push({name:It,value:Ko[1]})}})}_updateSvgIcon(P){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),P){const[q,Ee]=this._splitIconName(P);q&&(this._svgNamespace=q),Ee&&(this._svgName=Ee),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(Ee,q).pipe((0,Jo.q)(1)).subscribe(lt=>this._setSvgElement(lt),lt=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${q}:${Ee}! ${lt.message}`))})}}}return _e.\u0275fac=function(P){return new(P||_e)(g.Y36(g.SBq),g.Y36(C),g.$8M("aria-hidden"),g.Y36(vn),g.Y36(g.qLn),g.Y36(Bt,8))},_e.\u0275cmp=g.Xpm({type:_e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(P,q){2&P&&(g.uIk("data-mat-icon-type",q._usingFontIcon()?"font":"svg")("data-mat-icon-name",q._svgName||q.fontIcon)("data-mat-icon-namespace",q._svgNamespace||q.fontSet)("fontIcon",q._usingFontIcon()?q.fontIcon:null),g.ekj("mat-icon-inline",q.inline)("mat-icon-no-color","primary"!==q.color&&"accent"!==q.color&&"warn"!==q.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[g.qOj],ngContentSelectors:Eo,decls:1,vars:0,template:function(P,q){1&P&&(g.F$t(),g.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),_e})(),Jr=(()=>{class _e{}return _e.\u0275fac=function(P){return new(P||_e)},_e.\u0275mod=g.oAB({type:_e}),_e.\u0275inj=g.cJS({imports:[rn,rn]}),_e})()},6480:(Ot,ke,M)=>{"use strict";M.d(ke,{Dx:()=>xt,H7:()=>Fi,b2:()=>he,q6:()=>Ht});var g=M(1699),X=M(6575);class W extends X.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ce extends W{static makeCurrent(){(0,X.HT)(new ce)}onAndCancel(Ve,se,H){return Ve.addEventListener(se,H),()=>{Ve.removeEventListener(se,H)}}dispatchEvent(Ve,se){Ve.dispatchEvent(se)}remove(Ve){Ve.parentNode&&Ve.parentNode.removeChild(Ve)}createElement(Ve,se){return(se=se||this.getDefaultDocument()).createElement(Ve)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ve){return Ve.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ve){return Ve instanceof DocumentFragment}getGlobalEventTarget(Ve,se){return"window"===se?window:"document"===se?Ve:"body"===se?Ve.body:null}getBaseHref(Ve){const se=function e(){return J=J||document.querySelector("base"),J?J.getAttribute("href"):null}();return null==se?null:function Le(at){Q=Q||document.createElement("a"),Q.setAttribute("href",at);const Ve=Q.pathname;return"/"===Ve.charAt(0)?Ve:`/${Ve}`}(se)}resetBaseElement(){J=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ve){return(0,X.Mx)(document.cookie,Ve)}}let Q,J=null,ge=(()=>{class at{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(H){return new(H||at)};static#t=this.\u0275prov=g.Yz7({token:at,factory:at.\u0275fac})}return at})();const Ae=new g.OlP("EventManagerPlugins");let ne=(()=>{class at{constructor(se,H){this._zone=H,this._eventNameToPlugin=new Map,se.forEach(ie=>{ie.manager=this}),this._plugins=se.slice().reverse()}addEventListener(se,H,ie){return this._findPluginFor(H).addEventListener(se,H,ie)}getZone(){return this._zone}_findPluginFor(se){let H=this._eventNameToPlugin.get(se);if(H)return H;if(H=this._plugins.find(Ne=>Ne.supports(se)),!H)throw new g.vHH(5101,!1);return this._eventNameToPlugin.set(se,H),H}static#e=this.\u0275fac=function(H){return new(H||at)(g.LFG(Ae),g.LFG(g.R0b))};static#t=this.\u0275prov=g.Yz7({token:at,factory:at.\u0275fac})}return at})();class De{constructor(Ve){this._doc=Ve}}const Se="ng-app-id";let He=(()=>{class at{constructor(se,H,ie,Ne={}){this.doc=se,this.appId=H,this.nonce=ie,this.platformId=Ne,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,X.PM)(Ne),this.resetHostNodes()}addStyles(se){for(const H of se)1===this.changeUsageCount(H,1)&&this.onStyleAdded(H)}removeStyles(se){for(const H of se)this.changeUsageCount(H,-1)<=0&&this.onStyleRemoved(H)}ngOnDestroy(){const se=this.styleNodesInDOM;se&&(se.forEach(H=>H.remove()),se.clear());for(const H of this.getAllStyles())this.onStyleRemoved(H);this.resetHostNodes()}addHost(se){this.hostNodes.add(se);for(const H of this.getAllStyles())this.addStyleToHost(se,H)}removeHost(se){this.hostNodes.delete(se)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(se){for(const H of this.hostNodes)this.addStyleToHost(H,se)}onStyleRemoved(se){const H=this.styleRef;H.get(se)?.elements?.forEach(ie=>ie.remove()),H.delete(se)}collectServerRenderedStyles(){const se=this.doc.head?.querySelectorAll(`style[${Se}="${this.appId}"]`);if(se?.length){const H=new Map;return se.forEach(ie=>{null!=ie.textContent&&H.set(ie.textContent,ie)}),H}return null}changeUsageCount(se,H){const ie=this.styleRef;if(ie.has(se)){const Ne=ie.get(se);return Ne.usage+=H,Ne.usage}return ie.set(se,{usage:H,elements:[]}),H}getStyleElement(se,H){const ie=this.styleNodesInDOM,Ne=ie?.get(H);if(Ne?.parentNode===se)return ie.delete(H),Ne.removeAttribute(Se),Ne;{const ot=this.doc.createElement("style");return this.nonce&&ot.setAttribute("nonce",this.nonce),ot.textContent=H,this.platformIsServer&&ot.setAttribute(Se,this.appId),ot}}addStyleToHost(se,H){const ie=this.getStyleElement(se,H);se.appendChild(ie);const Ne=this.styleRef,ot=Ne.get(H)?.elements;ot?ot.push(ie):Ne.set(H,{elements:[ie],usage:1})}resetHostNodes(){const se=this.hostNodes;se.clear(),se.add(this.doc.head)}static#e=this.\u0275fac=function(H){return new(H||at)(g.LFG(X.K0),g.LFG(g.AFp),g.LFG(g.Ojb,8),g.LFG(g.Lbi))};static#t=this.\u0275prov=g.Yz7({token:at,factory:at.\u0275fac})}return at})();const K={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},be=/%COMP%/g,Ie=new g.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Xe(at,Ve){return Ve.map(se=>se.replace(be,at))}let $e=(()=>{class at{constructor(se,H,ie,Ne,ot,Lt,wt,Wt=null){this.eventManager=se,this.sharedStylesHost=H,this.appId=ie,this.removeStylesOnCompDestroy=Ne,this.doc=ot,this.platformId=Lt,this.ngZone=wt,this.nonce=Wt,this.rendererByCompId=new Map,this.platformIsServer=(0,X.PM)(Lt),this.defaultRenderer=new it(se,ot,wt,this.platformIsServer)}createRenderer(se,H){if(!se||!H)return this.defaultRenderer;this.platformIsServer&&H.encapsulation===g.ifc.ShadowDom&&(H={...H,encapsulation:g.ifc.Emulated});const ie=this.getOrCreateRenderer(se,H);return ie instanceof dt?ie.applyToHost(se):ie instanceof rt&&ie.applyStyles(),ie}getOrCreateRenderer(se,H){const ie=this.rendererByCompId;let Ne=ie.get(H.id);if(!Ne){const ot=this.doc,Lt=this.ngZone,wt=this.eventManager,Wt=this.sharedStylesHost,Sn=this.removeStylesOnCompDestroy,Rn=this.platformIsServer;switch(H.encapsulation){case g.ifc.Emulated:Ne=new dt(wt,Wt,H,this.appId,Sn,ot,Lt,Rn);break;case g.ifc.ShadowDom:return new Ft(wt,Wt,se,H,ot,Lt,this.nonce,Rn);default:Ne=new rt(wt,Wt,H,Sn,ot,Lt,Rn)}ie.set(H.id,Ne)}return Ne}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(H){return new(H||at)(g.LFG(ne),g.LFG(He),g.LFG(g.AFp),g.LFG(Ie),g.LFG(X.K0),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(g.Ojb))};static#t=this.\u0275prov=g.Yz7({token:at,factory:at.\u0275fac})}return at})();class it{constructor(Ve,se,H,ie){this.eventManager=Ve,this.doc=se,this.ngZone=H,this.platformIsServer=ie,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Ve,se){return se?this.doc.createElementNS(K[se]||se,Ve):this.doc.createElement(Ve)}createComment(Ve){return this.doc.createComment(Ve)}createText(Ve){return this.doc.createTextNode(Ve)}appendChild(Ve,se){(Je(Ve)?Ve.content:Ve).appendChild(se)}insertBefore(Ve,se,H){Ve&&(Je(Ve)?Ve.content:Ve).insertBefore(se,H)}removeChild(Ve,se){Ve&&Ve.removeChild(se)}selectRootElement(Ve,se){let H="string"==typeof Ve?this.doc.querySelector(Ve):Ve;if(!H)throw new g.vHH(-5104,!1);return se||(H.textContent=""),H}parentNode(Ve){return Ve.parentNode}nextSibling(Ve){return Ve.nextSibling}setAttribute(Ve,se,H,ie){if(ie){se=ie+":"+se;const Ne=K[ie];Ne?Ve.setAttributeNS(Ne,se,H):Ve.setAttribute(se,H)}else Ve.setAttribute(se,H)}removeAttribute(Ve,se,H){if(H){const ie=K[H];ie?Ve.removeAttributeNS(ie,se):Ve.removeAttribute(`${H}:${se}`)}else Ve.removeAttribute(se)}addClass(Ve,se){Ve.classList.add(se)}removeClass(Ve,se){Ve.classList.remove(se)}setStyle(Ve,se,H,ie){ie&(g.JOm.DashCase|g.JOm.Important)?Ve.style.setProperty(se,H,ie&g.JOm.Important?"important":""):Ve.style[se]=H}removeStyle(Ve,se,H){H&g.JOm.DashCase?Ve.style.removeProperty(se):Ve.style[se]=""}setProperty(Ve,se,H){Ve[se]=H}setValue(Ve,se){Ve.nodeValue=se}listen(Ve,se,H){if("string"==typeof Ve&&!(Ve=(0,X.q)().getGlobalEventTarget(this.doc,Ve)))throw new Error(`Unsupported event target ${Ve} for event ${se}`);return this.eventManager.addEventListener(Ve,se,this.decoratePreventDefault(H))}decoratePreventDefault(Ve){return se=>{if("__ngUnwrap__"===se)return Ve;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Ve(se)):Ve(se))&&se.preventDefault()}}}function Je(at){return"TEMPLATE"===at.tagName&&void 0!==at.content}class Ft extends it{constructor(Ve,se,H,ie,Ne,ot,Lt,wt){super(Ve,Ne,ot,wt),this.sharedStylesHost=se,this.hostEl=H,this.shadowRoot=H.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Wt=Xe(ie.id,ie.styles);for(const Sn of Wt){const Rn=document.createElement("style");Lt&&Rn.setAttribute("nonce",Lt),Rn.textContent=Sn,this.shadowRoot.appendChild(Rn)}}nodeOrShadowRoot(Ve){return Ve===this.hostEl?this.shadowRoot:Ve}appendChild(Ve,se){return super.appendChild(this.nodeOrShadowRoot(Ve),se)}insertBefore(Ve,se,H){return super.insertBefore(this.nodeOrShadowRoot(Ve),se,H)}removeChild(Ve,se){return super.removeChild(this.nodeOrShadowRoot(Ve),se)}parentNode(Ve){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ve)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class rt extends it{constructor(Ve,se,H,ie,Ne,ot,Lt,wt){super(Ve,Ne,ot,Lt),this.sharedStylesHost=se,this.removeStylesOnCompDestroy=ie,this.styles=wt?Xe(wt,H.styles):H.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class dt extends rt{constructor(Ve,se,H,ie,Ne,ot,Lt,wt){const Wt=ie+"-"+H.id;super(Ve,se,H,Ne,ot,Lt,wt,Wt),this.contentAttr=function fe(at){return"_ngcontent-%COMP%".replace(be,at)}(Wt),this.hostAttr=function ut(at){return"_nghost-%COMP%".replace(be,at)}(Wt)}applyToHost(Ve){this.applyStyles(),this.setAttribute(Ve,this.hostAttr,"")}createElement(Ve,se){const H=super.createElement(Ve,se);return super.setAttribute(H,this.contentAttr,""),H}}let Re=(()=>{class at extends De{constructor(se){super(se)}supports(se){return!0}addEventListener(se,H,ie){return se.addEventListener(H,ie,!1),()=>this.removeEventListener(se,H,ie)}removeEventListener(se,H,ie){return se.removeEventListener(H,ie)}static#e=this.\u0275fac=function(H){return new(H||at)(g.LFG(X.K0))};static#t=this.\u0275prov=g.Yz7({token:at,factory:at.\u0275fac})}return at})();const ht=["alt","control","meta","shift"],ae={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},le={alt:at=>at.altKey,control:at=>at.ctrlKey,meta:at=>at.metaKey,shift:at=>at.shiftKey};let we=(()=>{class at extends De{constructor(se){super(se)}supports(se){return null!=at.parseEventName(se)}addEventListener(se,H,ie){const Ne=at.parseEventName(H),ot=at.eventCallback(Ne.fullKey,ie,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,X.q)().onAndCancel(se,Ne.domEventName,ot))}static parseEventName(se){const H=se.toLowerCase().split("."),ie=H.shift();if(0===H.length||"keydown"!==ie&&"keyup"!==ie)return null;const Ne=at._normalizeKey(H.pop());let ot="",Lt=H.indexOf("code");if(Lt>-1&&(H.splice(Lt,1),ot="code."),ht.forEach(Wt=>{const Sn=H.indexOf(Wt);Sn>-1&&(H.splice(Sn,1),ot+=Wt+".")}),ot+=Ne,0!=H.length||0===Ne.length)return null;const wt={};return wt.domEventName=ie,wt.fullKey=ot,wt}static matchEventFullKeyCode(se,H){let ie=ae[se.key]||se.key,Ne="";return H.indexOf("code.")>-1&&(ie=se.code,Ne="code."),!(null==ie||!ie)&&(ie=ie.toLowerCase()," "===ie?ie="space":"."===ie&&(ie="dot"),ht.forEach(ot=>{ot!==ie&&(0,le[ot])(se)&&(Ne+=ot+".")}),Ne+=ie,Ne===H)}static eventCallback(se,H,ie){return Ne=>{at.matchEventFullKeyCode(Ne,se)&&ie.runGuarded(()=>H(Ne))}}static _normalizeKey(se){return"esc"===se?"escape":se}static#e=this.\u0275fac=function(H){return new(H||at)(g.LFG(X.K0))};static#t=this.\u0275prov=g.Yz7({token:at,factory:at.\u0275fac})}return at})();const Ht=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:X.bD},{provide:g.g9A,useValue:function nt(){ce.makeCurrent()},multi:!0},{provide:X.K0,useFactory:function ct(){return(0,g.RDi)(document),document},deps:[]}]),Ct=new g.OlP(""),wn=[{provide:g.rWj,useClass:class pe{addToWindow(Ve){g.dqk.getAngularTestability=(H,ie=!0)=>{const Ne=Ve.findTestabilityInTree(H,ie);if(null==Ne)throw new g.vHH(5103,!1);return Ne},g.dqk.getAllAngularTestabilities=()=>Ve.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>Ve.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(H=>{const ie=g.dqk.getAllAngularTestabilities();let Ne=ie.length,ot=!1;const Lt=function(wt){ot=ot||wt,Ne--,0==Ne&&H(ot)};ie.forEach(wt=>{wt.whenStable(Lt)})})}findTestabilityInTree(Ve,se,H){return null==se?null:Ve.getTestability(se)??(H?(0,X.q)().isShadowRoot(se)?this.findTestabilityInTree(Ve,se.host,!0):this.findTestabilityInTree(Ve,se.parentElement,!0):null)}},deps:[]},{provide:g.lri,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]}],gn=[{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function cn(){return new g.qLn},deps:[]},{provide:Ae,useClass:Re,multi:!0,deps:[X.K0,g.R0b,g.Lbi]},{provide:Ae,useClass:we,multi:!0,deps:[X.K0]},$e,He,ne,{provide:g.FYo,useExisting:$e},{provide:X.JF,useClass:ge,deps:[]},[]];let he=(()=>{class at{constructor(se){}static withServerTransition(se){return{ngModule:at,providers:[{provide:g.AFp,useValue:se.appId}]}}static#e=this.\u0275fac=function(H){return new(H||at)(g.LFG(Ct,12))};static#t=this.\u0275mod=g.oAB({type:at});static#n=this.\u0275inj=g.cJS({providers:[...gn,...wn],imports:[X.ez,g.hGG]})}return at})(),xt=(()=>{class at{constructor(se){this._doc=se}getTitle(){return this._doc.title}setTitle(se){this._doc.title=se||""}static#e=this.\u0275fac=function(H){return new(H||at)(g.LFG(X.K0))};static#t=this.\u0275prov=g.Yz7({token:at,factory:function(H){let ie=null;return ie=H?new H:function mt(){return new xt((0,g.LFG)(X.K0))}(),ie},providedIn:"root"})}return at})();typeof window<"u"&&window;let Fi=(()=>{class at{static#e=this.\u0275fac=function(H){return new(H||at)};static#t=this.\u0275prov=g.Yz7({token:at,factory:function(H){let ie=null;return ie=H?new(H||at):g.LFG(Hn),ie},providedIn:"root"})}return at})(),Hn=(()=>{class at extends Fi{constructor(se){super(),this._doc=se}sanitize(se,H){if(null==H)return null;switch(se){case g.q3G.NONE:return H;case g.q3G.HTML:return(0,g.qzn)(H,"HTML")?(0,g.z3N)(H):(0,g.EiD)(this._doc,String(H)).toString();case g.q3G.STYLE:return(0,g.qzn)(H,"Style")?(0,g.z3N)(H):H;case g.q3G.SCRIPT:if((0,g.qzn)(H,"Script"))return(0,g.z3N)(H);throw new g.vHH(5200,!1);case g.q3G.URL:return(0,g.qzn)(H,"URL")?(0,g.z3N)(H):(0,g.mCW)(String(H));case g.q3G.RESOURCE_URL:if((0,g.qzn)(H,"ResourceURL"))return(0,g.z3N)(H);throw new g.vHH(5201,!1);default:throw new g.vHH(5202,!1)}}bypassSecurityTrustHtml(se){return(0,g.JVY)(se)}bypassSecurityTrustStyle(se){return(0,g.L6k)(se)}bypassSecurityTrustScript(se){return(0,g.eBb)(se)}bypassSecurityTrustUrl(se){return(0,g.LAX)(se)}bypassSecurityTrustResourceUrl(se){return(0,g.pB0)(se)}static#e=this.\u0275fac=function(H){return new(H||at)(g.LFG(X.K0))};static#t=this.\u0275prov=g.Yz7({token:at,factory:function(H){let ie=null;return ie=H?new H:function Ai(at){return new Hn(at.get(X.K0))}(g.LFG(g.zs3)),ie},providedIn:"root"})}return at})()},7723:(Ot,ke,M)=>{"use strict";M.d(ke,{gz:()=>io,F0:()=>So,rH:()=>p,Od:()=>C,Bz:()=>Zs,lC:()=>wi,AF:()=>Ct});var g=M(1699),X=M(2235),W=M(2602),J=M(4683),e=M(4980),Q=M(8071),Le=M(3839),pe=M(1967),ge=M(5823),Ae=M(384);function ne(y){return new X.y(E=>{(0,Ae.Xf)(y()).subscribe(E)})}var De=M(2476),Se=M(3252),He=M(6290),K=M(6482),be=M(4114),Ye=M(5678);function pt(){return(0,be.e)((y,E)=>{let _=null;y._refCount++;const T=(0,Ye.x)(E,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(_=null);const k=y._connection,G=_;_=null,k&&(!G||k===G)&&k.unsubscribe(),E.unsubscribe()});y.subscribe(T),T.closed||(_=y.connect())})}class Rt extends X.y{constructor(E,_){super(),this.source=E,this.subjectFactory=_,this._subject=null,this._refCount=0,this._connection=null,(0,be.A)(E)&&(this.lift=E.lift)}_subscribe(E){return this.getSubject().subscribe(E)}getSubject(){const E=this._subject;return(!E||E.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:E}=this;this._subject=this._connection=null,E?.unsubscribe()}connect(){let E=this._connection;if(!E){E=this._connection=new K.w0;const _=this.getSubject();E.add(this.source.subscribe((0,Ye.x)(_,void 0,()=>{this._teardown(),_.complete()},T=>{this._teardown(),_.error(T)},()=>this._teardown()))),E.closed&&(this._connection=null,E=K.w0.EMPTY)}return E}refCount(){return pt()(this)}}var Te=M(9877),Ie=M(6575),fe=M(9736),ut=M(1891),Xe=M(1527),$e=M(5043),it=M(4520),Ue=M(9912),ft=M(5267),Je=M(5616),Ft=M(3738),rt=M(2389);var ht=M(728);function ae(y){return y<=0?()=>He.E:(0,be.e)((E,_)=>{let T=[];E.subscribe((0,Ye.x)(_,k=>{T.push(k),y<T.length&&T.shift()},()=>{for(const k of T)_.next(k);_.complete()},void 0,()=>{T=null}))})}var le=M(3614),we=M(204),Me=M(8037),Ze=M(7474),et=M(274),nt=M(7047),cn=M(6480);const ct="primary",sn=Symbol("RouteTitle");class Ht{constructor(E){this.params=E||{}}has(E){return Object.prototype.hasOwnProperty.call(this.params,E)}get(E){if(this.has(E)){const _=this.params[E];return Array.isArray(_)?_[0]:_}return null}getAll(E){if(this.has(E)){const _=this.params[E];return Array.isArray(_)?_:[_]}return[]}get keys(){return Object.keys(this.params)}}function Ct(y){return new Ht(y)}function wn(y,E,_){const T=_.path.split("/");if(T.length>y.length||"full"===_.pathMatch&&(E.hasChildren()||T.length<y.length))return null;const k={};for(let G=0;G<T.length;G++){const oe=T[G],Qe=y[G];if(oe.startsWith(":"))k[oe.substring(1)]=Qe;else if(oe!==Qe.path)return null}return{consumed:y.slice(0,T.length),posParams:k}}function he(y,E){const _=y?Object.keys(y):void 0,T=E?Object.keys(E):void 0;if(!_||!T||_.length!=T.length)return!1;let k;for(let G=0;G<_.length;G++)if(k=_[G],!ve(y[k],E[k]))return!1;return!0}function ve(y,E){if(Array.isArray(y)&&Array.isArray(E)){if(y.length!==E.length)return!1;const _=[...y].sort(),T=[...E].sort();return _.every((k,G)=>T[G]===k)}return y===E}function Be(y){return y.length>0?y[y.length-1]:null}function ze(y){return function ce(y){return!!y&&(y instanceof X.y||(0,W.m)(y.lift)&&(0,W.m)(y.subscribe))}(y)?y:(0,g.QGY)(y)?(0,J.D)(Promise.resolve(y)):(0,e.of)(y)}const mt={exact:function kt(y,E,_){if(!hn(y.segments,E.segments)||!ri(y.segments,E.segments,_)||y.numberOfChildren!==E.numberOfChildren)return!1;for(const T in E.children)if(!y.children[T]||!kt(y.children[T],E.children[T],_))return!1;return!0},subset:St},xt={exact:function on(y,E){return he(y,E)},subset:function Tt(y,E){return Object.keys(E).length<=Object.keys(y).length&&Object.keys(E).every(_=>ve(y[_],E[_]))},ignored:()=>!0};function bn(y,E,_){return mt[_.paths](y.root,E.root,_.matrixParams)&&xt[_.queryParams](y.queryParams,E.queryParams)&&!("exact"===_.fragment&&y.fragment!==E.fragment)}function St(y,E,_){return $n(y,E,E.segments,_)}function $n(y,E,_,T){if(y.segments.length>_.length){const k=y.segments.slice(0,_.length);return!(!hn(k,_)||E.hasChildren()||!ri(k,_,T))}if(y.segments.length===_.length){if(!hn(y.segments,_)||!ri(y.segments,_,T))return!1;for(const k in E.children)if(!y.children[k]||!St(y.children[k],E.children[k],T))return!1;return!0}{const k=_.slice(0,y.segments.length),G=_.slice(y.segments.length);return!!(hn(y.segments,k)&&ri(y.segments,k,T)&&y.children[ct])&&$n(y.children[ct],E,G,T)}}function ri(y,E,_){return E.every((T,k)=>xt[_](y[k].parameters,T.parameters))}class tn{constructor(E=new $t([],{}),_={},T=null){this.root=E,this.queryParams=_,this.fragment=T}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ct(this.queryParams)),this._queryParamMap}toString(){return mi.serialize(this)}}class $t{constructor(E,_){this.segments=E,this.children=_,this.parent=null,Object.values(_).forEach(T=>T.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fi(this)}}class jn{constructor(E,_){this.path=E,this.parameters=_}get parameterMap(){return this._parameterMap||(this._parameterMap=Ct(this.parameters)),this._parameterMap}toString(){return Zi(this)}}function hn(y,E){return y.length===E.length&&y.every((_,T)=>_.path===E[T].path)}let mn=(()=>{class y{static#e=this.\u0275fac=function(T){return new(T||y)};static#t=this.\u0275prov=g.Yz7({token:y,factory:function(){return new Mi},providedIn:"root"})}return y})();class Mi{parse(E){const _=new wt(E);return new tn(_.parseRootSegment(),_.parseQueryParams(),_.parseFragment())}serialize(E){const _=`/${Ai(E.root,!0)}`,T=function $o(y){const E=Object.keys(y).map(_=>{const T=y[_];return Array.isArray(T)?T.map(k=>`${Gn(_)}=${Gn(k)}`).join("&"):`${Gn(_)}=${Gn(T)}`}).filter(_=>!!_);return E.length?`?${E.join("&")}`:""}(E.queryParams);return`${_}${T}${"string"==typeof E.fragment?`#${function Dn(y){return encodeURI(y)}(E.fragment)}`:""}`}}const mi=new Mi;function Fi(y){return y.segments.map(E=>Zi(E)).join("/")}function Ai(y,E){if(!y.hasChildren())return Fi(y);if(E){const _=y.children[ct]?Ai(y.children[ct],!1):"",T=[];return Object.entries(y.children).forEach(([k,G])=>{k!==ct&&T.push(`${k}:${Ai(G,!1)}`)}),T.length>0?`${_}(${T.join("//")})`:_}{const _=function An(y,E){let _=[];return Object.entries(y.children).forEach(([T,k])=>{T===ct&&(_=_.concat(E(k,T)))}),Object.entries(y.children).forEach(([T,k])=>{T!==ct&&(_=_.concat(E(k,T)))}),_}(y,(T,k)=>k===ct?[Ai(y.children[ct],!1)]:[`${k}:${Ai(T,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[ct]?`${Fi(y)}/${_[0]}`:`${Fi(y)}/(${_.join("//")})`}}function Hn(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gn(y){return Hn(y).replace(/%3B/gi,";")}function Jn(y){return Hn(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Si(y){return decodeURIComponent(y)}function Ji(y){return Si(y.replace(/\+/g,"%20"))}function Zi(y){return`${Jn(y.path)}${function lo(y){return Object.keys(y).map(E=>`;${Jn(E)}=${Jn(y[E])}`).join("")}(y.parameters)}`}const at=/^[^\/()?;#]+/;function Ve(y){const E=y.match(at);return E?E[0]:""}const se=/^[^\/()?;=#]+/,ie=/^[^=?&#]+/,ot=/^[^&#]+/;class wt{constructor(E){this.url=E,this.remaining=E}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new $t([],{}):new $t([],this.parseChildren())}parseQueryParams(){const E={};if(this.consumeOptional("?"))do{this.parseQueryParam(E)}while(this.consumeOptional("&"));return E}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const E=[];for(this.peekStartsWith("(")||E.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),E.push(this.parseSegment());let _={};this.peekStartsWith("/(")&&(this.capture("/"),_=this.parseParens(!0));let T={};return this.peekStartsWith("(")&&(T=this.parseParens(!1)),(E.length>0||Object.keys(_).length>0)&&(T[ct]=new $t(E,_)),T}parseSegment(){const E=Ve(this.remaining);if(""===E&&this.peekStartsWith(";"))throw new g.vHH(4009,!1);return this.capture(E),new jn(Si(E),this.parseMatrixParams())}parseMatrixParams(){const E={};for(;this.consumeOptional(";");)this.parseParam(E);return E}parseParam(E){const _=function H(y){const E=y.match(se);return E?E[0]:""}(this.remaining);if(!_)return;this.capture(_);let T="";if(this.consumeOptional("=")){const k=Ve(this.remaining);k&&(T=k,this.capture(T))}E[Si(_)]=Si(T)}parseQueryParam(E){const _=function Ne(y){const E=y.match(ie);return E?E[0]:""}(this.remaining);if(!_)return;this.capture(_);let T="";if(this.consumeOptional("=")){const oe=function Lt(y){const E=y.match(ot);return E?E[0]:""}(this.remaining);oe&&(T=oe,this.capture(T))}const k=Ji(_),G=Ji(T);if(E.hasOwnProperty(k)){let oe=E[k];Array.isArray(oe)||(oe=[oe],E[k]=oe),oe.push(G)}else E[k]=G}parseParens(E){const _={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const T=Ve(this.remaining),k=this.remaining[T.length];if("/"!==k&&")"!==k&&";"!==k)throw new g.vHH(4010,!1);let G;T.indexOf(":")>-1?(G=T.slice(0,T.indexOf(":")),this.capture(G),this.capture(":")):E&&(G=ct);const oe=this.parseChildren();_[G]=1===Object.keys(oe).length?oe[ct]:new $t([],oe),this.consumeOptional("//")}return _}peekStartsWith(E){return this.remaining.startsWith(E)}consumeOptional(E){return!!this.peekStartsWith(E)&&(this.remaining=this.remaining.substring(E.length),!0)}capture(E){if(!this.consumeOptional(E))throw new g.vHH(4011,!1)}}function Wt(y){return y.segments.length>0?new $t([],{[ct]:y}):y}function Sn(y){const E={};for(const T of Object.keys(y.children)){const G=Sn(y.children[T]);if(T===ct&&0===G.segments.length&&G.hasChildren())for(const[oe,Qe]of Object.entries(G.children))E[oe]=Qe;else(G.segments.length>0||G.hasChildren())&&(E[T]=G)}return function Rn(y){if(1===y.numberOfChildren&&y.children[ct]){const E=y.children[ct];return new $t(y.segments.concat(E.segments),E.children)}return y}(new $t(y.segments,E))}function Pe(y){return y instanceof tn}function Ce(y){let E;const k=Wt(function _(G){const oe={};for(const qe of G.children){const Gt=_(qe);oe[qe.outlet]=Gt}const Qe=new $t(G.url,oe);return G===y&&(E=Qe),Qe}(y.root));return E??k}function Ke(y,E,_,T){let k=y;for(;k.parent;)k=k.parent;if(0===E.length)return At(k,k,k,_,T);const G=function fi(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new en(!0,0,y);let E=0,_=!1;const T=y.reduce((k,G,oe)=>{if("object"==typeof G&&null!=G){if(G.outlets){const Qe={};return Object.entries(G.outlets).forEach(([qe,Gt])=>{Qe[qe]="string"==typeof Gt?Gt.split("/"):Gt}),[...k,{outlets:Qe}]}if(G.segmentPath)return[...k,G.segmentPath]}return"string"!=typeof G?[...k,G]:0===oe?(G.split("/").forEach((Qe,qe)=>{0==qe&&"."===Qe||(0==qe&&""===Qe?_=!0:".."===Qe?E++:""!=Qe&&k.push(Qe))}),k):[...k,G]},[]);return new en(_,E,T)}(E);if(G.toRoot())return At(k,k,new $t([],{}),_,T);const oe=function zn(y,E,_){if(y.isAbsolute)return new ln(E,!0,0);if(!_)return new ln(E,!1,NaN);if(null===_.parent)return new ln(_,!0,0);const T=vt(y.commands[0])?0:1;return function Jt(y,E,_){let T=y,k=E,G=_;for(;G>k;){if(G-=k,T=T.parent,!T)throw new g.vHH(4005,!1);k=T.segments.length}return new ln(T,!1,k-G)}(_,_.segments.length-1+T,y.numberOfDoubleDots)}(G,k,y),Qe=oe.processChildren?nn(oe.segmentGroup,oe.index,G.commands):ii(oe.segmentGroup,oe.index,G.commands);return At(k,oe.segmentGroup,Qe,_,T)}function vt(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function Mt(y){return"object"==typeof y&&null!=y&&y.outlets}function At(y,E,_,T,k){let oe,G={};T&&Object.entries(T).forEach(([qe,Gt])=>{G[qe]=Array.isArray(Gt)?Gt.map(Nn=>`${Nn}`):`${Gt}`}),oe=y===E?_:qt(y,E,_);const Qe=Wt(Sn(oe));return new tn(Qe,G,k)}function qt(y,E,_){const T={};return Object.entries(y.children).forEach(([k,G])=>{T[k]=G===E?_:qt(G,E,_)}),new $t(y.segments,T)}class en{constructor(E,_,T){if(this.isAbsolute=E,this.numberOfDoubleDots=_,this.commands=T,E&&T.length>0&&vt(T[0]))throw new g.vHH(4003,!1);const k=T.find(Mt);if(k&&k!==Be(T))throw new g.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ln{constructor(E,_,T){this.segmentGroup=E,this.processChildren=_,this.index=T}}function ii(y,E,_){if(y||(y=new $t([],{})),0===y.segments.length&&y.hasChildren())return nn(y,E,_);const T=function In(y,E,_){let T=0,k=E;const G={match:!1,pathIndex:0,commandIndex:0};for(;k<y.segments.length;){if(T>=_.length)return G;const oe=y.segments[k],Qe=_[T];if(Mt(Qe))break;const qe=`${Qe}`,Gt=T<_.length-1?_[T+1]:null;if(k>0&&void 0===qe)break;if(qe&&Gt&&"object"==typeof Gt&&void 0===Gt.outlets){if(!_n(qe,Gt,oe))return G;T+=2}else{if(!_n(qe,{},oe))return G;T++}k++}return{match:!0,pathIndex:k,commandIndex:T}}(y,E,_),k=_.slice(T.commandIndex);if(T.match&&T.pathIndex<y.segments.length){const G=new $t(y.segments.slice(0,T.pathIndex),{});return G.children[ct]=new $t(y.segments.slice(T.pathIndex),y.children),nn(G,0,k)}return T.match&&0===k.length?new $t(y.segments,{}):T.match&&!y.hasChildren()?Wn(y,E,_):T.match?nn(y,0,k):Wn(y,E,_)}function nn(y,E,_){if(0===_.length)return new $t(y.segments,{});{const T=function Zn(y){return Mt(y[0])?y[0].outlets:{[ct]:y}}(_),k={};if(Object.keys(T).some(G=>G!==ct)&&y.children[ct]&&1===y.numberOfChildren&&0===y.children[ct].segments.length){const G=nn(y.children[ct],E,_);return new $t(y.segments,G.children)}return Object.entries(T).forEach(([G,oe])=>{"string"==typeof oe&&(oe=[oe]),null!==oe&&(k[G]=ii(y.children[G],E,oe))}),Object.entries(y.children).forEach(([G,oe])=>{void 0===T[G]&&(k[G]=oe)}),new $t(y.segments,k)}}function Wn(y,E,_){const T=y.segments.slice(0,E);let k=0;for(;k<_.length;){const G=_[k];if(Mt(G)){const qe=Ii(G.outlets);return new $t(T,qe)}if(0===k&&vt(_[0])){T.push(new jn(y.segments[E].path,Vt(_[0]))),k++;continue}const oe=Mt(G)?G.outlets[ct]:`${G}`,Qe=k<_.length-1?_[k+1]:null;oe&&Qe&&vt(Qe)?(T.push(new jn(oe,Vt(Qe))),k+=2):(T.push(new jn(oe,{})),k++)}return new $t(T,{})}function Ii(y){const E={};return Object.entries(y).forEach(([_,T])=>{"string"==typeof T&&(T=[T]),null!==T&&(E[_]=Wn(new $t([],{}),0,T))}),E}function Vt(y){const E={};return Object.entries(y).forEach(([_,T])=>E[_]=`${T}`),E}function _n(y,E,_){return y==_.path&&he(E,_.parameters)}const xi="imperative";class Ci{constructor(E,_){this.id=E,this.url=_}}class Vi extends Ci{constructor(E,_,T="imperative",k=null){super(E,_),this.type=0,this.navigationTrigger=T,this.restoredState=k}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _o extends Ci{constructor(E,_,T){super(E,_),this.urlAfterRedirects=T,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fn extends Ci{constructor(E,_,T,k){super(E,_),this.reason=T,this.code=k,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class En extends Ci{constructor(E,_,T,k){super(E,_),this.reason=T,this.code=k,this.type=16}}class to extends Ci{constructor(E,_,T,k){super(E,_),this.error=T,this.target=k,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Go extends Ci{constructor(E,_,T,k){super(E,_),this.urlAfterRedirects=T,this.state=k,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ki extends Ci{constructor(E,_,T,k){super(E,_),this.urlAfterRedirects=T,this.state=k,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Js extends Ci{constructor(E,_,T,k,G){super(E,_),this.urlAfterRedirects=T,this.state=k,this.shouldActivate=G,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ir extends Ci{constructor(E,_,T,k){super(E,_),this.urlAfterRedirects=T,this.state=k,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fo extends Ci{constructor(E,_,T,k){super(E,_),this.urlAfterRedirects=T,this.state=k,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _i{constructor(E){this.route=E,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class no{constructor(E){this.route=E,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class tr{constructor(E){this.snapshot=E,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oi{constructor(E){this.snapshot=E,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xr{constructor(E){this.snapshot=E,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gr{constructor(E){this.snapshot=E,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nr{constructor(E,_,T){this.routerEvent=E,this.position=_,this.anchor=T,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ir{}class or{constructor(E){this.url=E}}class Zr{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Io,this.attachRef=null}}let Io=(()=>{class y{constructor(){this.contexts=new Map}onChildOutletCreated(_,T){const k=this.getOrCreateContext(_);k.outlet=T,this.contexts.set(_,k)}onChildOutletDestroyed(_){const T=this.getContext(_);T&&(T.outlet=null,T.attachRef=null)}onOutletDeactivated(){const _=this.contexts;return this.contexts=new Map,_}onOutletReAttached(_){this.contexts=_}getOrCreateContext(_){let T=this.getContext(_);return T||(T=new Zr,this.contexts.set(_,T)),T}getContext(_){return this.contexts.get(_)||null}static#e=this.\u0275fac=function(T){return new(T||y)};static#t=this.\u0275prov=g.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();class Vr{constructor(E){this._root=E}get root(){return this._root.value}parent(E){const _=this.pathFromRoot(E);return _.length>1?_[_.length-2]:null}children(E){const _=yn(E,this._root);return _?_.children.map(T=>T.value):[]}firstChild(E){const _=yn(E,this._root);return _&&_.children.length>0?_.children[0].value:null}siblings(E){const _=Di(E,this._root);return _.length<2?[]:_[_.length-2].children.map(k=>k.value).filter(k=>k!==E)}pathFromRoot(E){return Di(E,this._root).map(_=>_.value)}}function yn(y,E){if(y===E.value)return E;for(const _ of E.children){const T=yn(y,_);if(T)return T}return null}function Di(y,E){if(y===E.value)return[E];for(const _ of E.children){const T=Di(y,_);if(T.length)return T.unshift(E),T}return[]}class zt{constructor(E,_){this.value=E,this.children=_}toString(){return`TreeNode(${this.value})`}}function vi(y){const E={};return y&&y.children.forEach(_=>E[_.value.outlet]=_),E}class Cn extends Vr{constructor(E,_){super(E),this.snapshot=_,Xt(this,E)}toString(){return this.snapshot.toString()}}function rr(y,E){const _=function mr(y,E){const oe=new Kn([],{},{},"",{},ct,E,null,{});return new jt("",new zt(oe,[]))}(0,E),T=new Q.X([new jn("",{})]),k=new Q.X({}),G=new Q.X({}),oe=new Q.X({}),Qe=new Q.X(""),qe=new io(T,k,oe,Qe,G,ct,E,_.root);return qe.snapshot=_.root,new Cn(new zt(qe,[]),_)}class io{constructor(E,_,T,k,G,oe,Qe,qe){this.urlSubject=E,this.paramsSubject=_,this.queryParamsSubject=T,this.fragmentSubject=k,this.dataSubject=G,this.outlet=oe,this.component=Qe,this._futureSnapshot=qe,this.title=this.dataSubject?.pipe((0,fe.U)(Gt=>Gt[sn]))??(0,e.of)(void 0),this.url=E,this.params=_,this.queryParams=T,this.fragment=k,this.data=G}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,fe.U)(E=>Ct(E)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,fe.U)(E=>Ct(E)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $r(y,E="emptyOnly"){const _=y.pathFromRoot;let T=0;if("always"!==E)for(T=_.length-1;T>=1;){const k=_[T],G=_[T-1];if(k.routeConfig&&""===k.routeConfig.path)T--;else{if(G.component)break;T--}}return function Lo(y){return y.reduce((E,_)=>({params:{...E.params,..._.params},data:{...E.data,..._.data},resolve:{..._.data,...E.resolve,..._.routeConfig?.data,..._._resolvedData}}),{params:{},data:{},resolve:{}})}(_.slice(T))}class Kn{get title(){return this.data?.[sn]}constructor(E,_,T,k,G,oe,Qe,qe,Gt){this.url=E,this.params=_,this.queryParams=T,this.fragment=k,this.data=G,this.outlet=oe,this.component=Qe,this.routeConfig=qe,this._resolve=Gt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ct(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ct(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(T=>T.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class jt extends Vr{constructor(E,_){super(_),this.url=E,Xt(this,_)}toString(){return qn(this._root)}}function Xt(y,E){E.value._routerState=y,E.children.forEach(_=>Xt(y,_))}function qn(y){const E=y.children.length>0?` { ${y.children.map(qn).join(", ")} } `:"";return`${y.value}${E}`}function $i(y){if(y.snapshot){const E=y.snapshot,_=y._futureSnapshot;y.snapshot=_,he(E.queryParams,_.queryParams)||y.queryParamsSubject.next(_.queryParams),E.fragment!==_.fragment&&y.fragmentSubject.next(_.fragment),he(E.params,_.params)||y.paramsSubject.next(_.params),function gn(y,E){if(y.length!==E.length)return!1;for(let _=0;_<y.length;++_)if(!he(y[_],E[_]))return!1;return!0}(E.url,_.url)||y.urlSubject.next(_.url),he(E.data,_.data)||y.dataSubject.next(_.data)}else y.snapshot=y._futureSnapshot,y.dataSubject.next(y._futureSnapshot.data)}function xo(y,E){const _=he(y.params,E.params)&&function st(y,E){return hn(y,E)&&y.every((_,T)=>he(_.parameters,E[T].parameters))}(y.url,E.url);return _&&!(!y.parent!=!E.parent)&&(!y.parent||xo(y.parent,E.parent))}let wi=(()=>{class y{constructor(){this.activated=null,this._activatedRoute=null,this.name=ct,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.attachEvents=new g.vpe,this.detachEvents=new g.vpe,this.parentContexts=(0,g.f3M)(Io),this.location=(0,g.f3M)(g.s_b),this.changeDetector=(0,g.f3M)(g.sBO),this.environmentInjector=(0,g.f3M)(g.lqb),this.inputBinder=(0,g.f3M)(ci,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(_){if(_.name){const{firstChange:T,previousValue:k}=_.name;if(T)return;this.isTrackedInParentContexts(k)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(k)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(_){return this.parentContexts.getContext(_)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const _=this.parentContexts.getContext(this.name);_?.route&&(_.attachRef?this.attach(_.attachRef,_.route):this.activateWith(_.route,_.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new g.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new g.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new g.vHH(4012,!1);this.location.detach();const _=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(_.instance),_}attach(_,T){this.activated=_,this._activatedRoute=T,this.location.insert(_.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(_.instance)}deactivate(){if(this.activated){const _=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,T){if(this.isActivated)throw new g.vHH(4013,!1);this._activatedRoute=_;const k=this.location,oe=_.snapshot.component,Qe=this.parentContexts.getOrCreateContext(this.name).children,qe=new _r(_,Qe,k.injector);this.activated=k.createComponent(oe,{index:k.length,injector:qe,environmentInjector:T??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(T){return new(T||y)};static#t=this.\u0275dir=g.lG2({type:y,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[g.TTD]})}return y})();class _r{constructor(E,_,T){this.route=E,this.childContexts=_,this.parent=T}get(E,_){return E===io?this.route:E===Io?this.childContexts:this.parent.get(E,_)}}const ci=new g.OlP("");let uo=(()=>{class y{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(_){this.unsubscribeFromRouteData(_),this.subscribeToRouteData(_)}unsubscribeFromRouteData(_){this.outletDataSubscriptions.get(_)?.unsubscribe(),this.outletDataSubscriptions.delete(_)}subscribeToRouteData(_){const{activatedRoute:T}=_,k=(0,Le.a)([T.queryParams,T.params,T.data]).pipe((0,ut.w)(([G,oe,Qe],qe)=>(Qe={...G,...oe,...Qe},0===qe?(0,e.of)(Qe):Promise.resolve(Qe)))).subscribe(G=>{if(!_.isActivated||!_.activatedComponentRef||_.activatedRoute!==T||null===T.component)return void this.unsubscribeFromRouteData(_);const oe=(0,g.qFp)(T.component);if(oe)for(const{templateName:Qe}of oe.inputs)_.activatedComponentRef.setInput(Qe,G[Qe]);else this.unsubscribeFromRouteData(_)});this.outletDataSubscriptions.set(_,k)}static#e=this.\u0275fac=function(T){return new(T||y)};static#t=this.\u0275prov=g.Yz7({token:y,factory:y.\u0275fac})}return y})();function Ut(y,E,_){if(_&&y.shouldReuseRoute(E.value,_.value.snapshot)){const T=_.value;T._futureSnapshot=E.value;const k=function vr(y,E,_){return E.children.map(T=>{for(const k of _.children)if(y.shouldReuseRoute(T.value,k.value.snapshot))return Ut(y,T,k);return Ut(y,T)})}(y,E,_);return new zt(T,k)}{if(y.shouldAttach(E.value)){const G=y.retrieve(E.value);if(null!==G){const oe=G.route;return oe.value._futureSnapshot=E.value,oe.children=E.children.map(Qe=>Ut(y,Qe)),oe}}const T=function Qi(y){return new io(new Q.X(y.url),new Q.X(y.params),new Q.X(y.queryParams),new Q.X(y.fragment),new Q.X(y.data),y.outlet,y.component,y)}(E.value),k=E.children.map(G=>Ut(y,G));return new zt(T,k)}}const ho="ngNavigationCancelingError";function gi(y,E){const{redirectTo:_,navigationBehaviorOptions:T}=Pe(E)?{redirectTo:E,navigationBehaviorOptions:void 0}:E,k=Mo(!1,0,E);return k.url=_,k.navigationBehaviorOptions=T,k}function Mo(y,E,_){const T=new Error("NavigationCancelingError: "+(y||""));return T[ho]=!0,T.cancellationCode=E,_&&(T.url=_),T}function vo(y){return y&&y[ho]}let sr=(()=>{class y{static#e=this.\u0275fac=function(T){return new(T||y)};static#t=this.\u0275cmp=g.Xpm({type:y,selectors:[["ng-component"]],standalone:!0,features:[g.jDz],decls:1,vars:0,template:function(T,k){1&T&&g._UZ(0,"router-outlet")},dependencies:[wi],encapsulation:2})}return y})();function Gi(y){const E=y.children&&y.children.map(Gi),_=E?{...y,children:E}:{...y};return!_.component&&!_.loadComponent&&(E||_.loadChildren)&&_.outlet&&_.outlet!==ct&&(_.component=sr),_}function zi(y){return y.outlet||ct}function Do(y){if(!y)return null;if(y.routeConfig?._injector)return y.routeConfig._injector;for(let E=y.parent;E;E=E.parent){const _=E.routeConfig;if(_?._loadedInjector)return _._loadedInjector;if(_?._injector)return _._injector}return null}class bo{constructor(E,_,T,k,G){this.routeReuseStrategy=E,this.futureState=_,this.currState=T,this.forwardEvent=k,this.inputBindingEnabled=G}activate(E){const _=this.futureState._root,T=this.currState?this.currState._root:null;this.deactivateChildRoutes(_,T,E),$i(this.futureState.root),this.activateChildRoutes(_,T,E)}deactivateChildRoutes(E,_,T){const k=vi(_);E.children.forEach(G=>{const oe=G.value.outlet;this.deactivateRoutes(G,k[oe],T),delete k[oe]}),Object.values(k).forEach(G=>{this.deactivateRouteAndItsChildren(G,T)})}deactivateRoutes(E,_,T){const k=E.value,G=_?_.value:null;if(k===G)if(k.component){const oe=T.getContext(k.outlet);oe&&this.deactivateChildRoutes(E,_,oe.children)}else this.deactivateChildRoutes(E,_,T);else G&&this.deactivateRouteAndItsChildren(_,T)}deactivateRouteAndItsChildren(E,_){E.value.component&&this.routeReuseStrategy.shouldDetach(E.value.snapshot)?this.detachAndStoreRouteSubtree(E,_):this.deactivateRouteAndOutlet(E,_)}detachAndStoreRouteSubtree(E,_){const T=_.getContext(E.value.outlet),k=T&&E.value.component?T.children:_,G=vi(E);for(const oe of Object.keys(G))this.deactivateRouteAndItsChildren(G[oe],k);if(T&&T.outlet){const oe=T.outlet.detach(),Qe=T.children.onOutletDeactivated();this.routeReuseStrategy.store(E.value.snapshot,{componentRef:oe,route:E,contexts:Qe})}}deactivateRouteAndOutlet(E,_){const T=_.getContext(E.value.outlet),k=T&&E.value.component?T.children:_,G=vi(E);for(const oe of Object.keys(G))this.deactivateRouteAndItsChildren(G[oe],k);T&&(T.outlet&&(T.outlet.deactivate(),T.children.onOutletDeactivated()),T.attachRef=null,T.route=null)}activateChildRoutes(E,_,T){const k=vi(_);E.children.forEach(G=>{this.activateRoutes(G,k[G.value.outlet],T),this.forwardEvent(new gr(G.value.snapshot))}),E.children.length&&this.forwardEvent(new Oi(E.value.snapshot))}activateRoutes(E,_,T){const k=E.value,G=_?_.value:null;if($i(k),k===G)if(k.component){const oe=T.getOrCreateContext(k.outlet);this.activateChildRoutes(E,_,oe.children)}else this.activateChildRoutes(E,_,T);else if(k.component){const oe=T.getOrCreateContext(k.outlet);if(this.routeReuseStrategy.shouldAttach(k.snapshot)){const Qe=this.routeReuseStrategy.retrieve(k.snapshot);this.routeReuseStrategy.store(k.snapshot,null),oe.children.onOutletReAttached(Qe.contexts),oe.attachRef=Qe.componentRef,oe.route=Qe.route.value,oe.outlet&&oe.outlet.attach(Qe.componentRef,Qe.route.value),$i(Qe.route.value),this.activateChildRoutes(E,null,oe.children)}else{const Qe=Do(k.snapshot);oe.attachRef=null,oe.route=k,oe.injector=Qe,oe.outlet&&oe.outlet.activateWith(k,oe.injector),this.activateChildRoutes(E,null,oe.children)}}else this.activateChildRoutes(E,null,T)}}class Li{constructor(E){this.path=E,this.route=this.path[this.path.length-1]}}class Yo{constructor(E,_){this.component=E,this.route=_}}function Wo(y,E,_){const T=y._root;return Co(T,E?E._root:null,_,[T.value])}function eo(y,E){const _=Symbol(),T=E.get(y,_);return T===_?"function"!=typeof y||(0,g.Z0I)(y)?E.get(y):y:T}function Co(y,E,_,T,k={canDeactivateChecks:[],canActivateChecks:[]}){const G=vi(E);return y.children.forEach(oe=>{(function Ks(y,E,_,T,k={canDeactivateChecks:[],canActivateChecks:[]}){const G=y.value,oe=E?E.value:null,Qe=_?_.getContext(y.value.outlet):null;if(oe&&G.routeConfig===oe.routeConfig){const qe=function os(y,E,_){if("function"==typeof _)return _(y,E);switch(_){case"pathParamsChange":return!hn(y.url,E.url);case"pathParamsOrQueryParamsChange":return!hn(y.url,E.url)||!he(y.queryParams,E.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xo(y,E)||!he(y.queryParams,E.queryParams);default:return!xo(y,E)}}(oe,G,G.routeConfig.runGuardsAndResolvers);qe?k.canActivateChecks.push(new Li(T)):(G.data=oe.data,G._resolvedData=oe._resolvedData),Co(y,E,G.component?Qe?Qe.children:null:_,T,k),qe&&Qe&&Qe.outlet&&Qe.outlet.isActivated&&k.canDeactivateChecks.push(new Yo(Qe.outlet.component,oe))}else oe&&wo(E,Qe,k),k.canActivateChecks.push(new Li(T)),Co(y,null,G.component?Qe?Qe.children:null:_,T,k)})(oe,G[oe.value.outlet],_,T.concat([oe.value]),k),delete G[oe.value.outlet]}),Object.entries(G).forEach(([oe,Qe])=>wo(Qe,_.getContext(oe),k)),k}function wo(y,E,_){const T=vi(y),k=y.value;Object.entries(T).forEach(([G,oe])=>{wo(oe,k.component?E?E.children.getContext(G):null:E,_)}),_.canDeactivateChecks.push(new Yo(k.component&&E&&E.outlet&&E.outlet.isActivated?E.outlet.component:null,k))}function Pr(y){return"function"==typeof y}function Bi(y){return y instanceof pe.K||"EmptyError"===y?.name}const No=Symbol("INITIAL_VALUE");function Dr(){return(0,ut.w)(y=>(0,Le.a)(y.map(E=>E.pipe((0,Xe.q)(1),(0,$e.O)(No)))).pipe((0,fe.U)(E=>{for(const _ of E)if(!0!==_){if(_===No)return No;if(!1===_||_ instanceof tn)return _}return!0}),(0,it.h)(E=>E!==No),(0,Xe.q)(1)))}function zr(y){return(0,De.z)((0,Ft.b)(E=>{if(Pe(E))throw gi(0,E)}),(0,fe.U)(E=>!0===E))}class Ni{constructor(E){this.segmentGroup=E||null}}class _s{constructor(E){this.urlTree=E}}function pi(y){return(0,Se._)(new Ni(y))}function vs(y){return(0,Se._)(new _s(y))}class qo{constructor(E,_){this.urlSerializer=E,this.urlTree=_}noMatchError(E){return new g.vHH(4002,!1)}lineralizeSegments(E,_){let T=[],k=_.root;for(;;){if(T=T.concat(k.segments),0===k.numberOfChildren)return(0,e.of)(T);if(k.numberOfChildren>1||!k.children[ct])return(0,Se._)(new g.vHH(4e3,!1));k=k.children[ct]}}applyRedirectCommands(E,_,T){return this.applyRedirectCreateUrlTree(_,this.urlSerializer.parse(_),E,T)}applyRedirectCreateUrlTree(E,_,T,k){const G=this.createSegmentGroup(E,_.root,T,k);return new tn(G,this.createQueryParams(_.queryParams,this.urlTree.queryParams),_.fragment)}createQueryParams(E,_){const T={};return Object.entries(E).forEach(([k,G])=>{if("string"==typeof G&&G.startsWith(":")){const Qe=G.substring(1);T[k]=_[Qe]}else T[k]=G}),T}createSegmentGroup(E,_,T,k){const G=this.createSegments(E,_.segments,T,k);let oe={};return Object.entries(_.children).forEach(([Qe,qe])=>{oe[Qe]=this.createSegmentGroup(E,qe,T,k)}),new $t(G,oe)}createSegments(E,_,T,k){return _.map(G=>G.path.startsWith(":")?this.findPosParam(E,G,k):this.findOrReturn(G,T))}findPosParam(E,_,T){const k=T[_.path.substring(1)];if(!k)throw new g.vHH(4001,!1);return k}findOrReturn(E,_){let T=0;for(const k of _){if(k.path===E.path)return _.splice(T),k;T++}return E}}const lr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Fr(y,E,_,T,k){const G=Wr(y,E,_);return G.matched?(T=function Gr(y,E){return y.providers&&!y._injector&&(y._injector=(0,g.MMx)(y.providers,E,`Route: ${y.path}`)),y._injector??E}(E,T),function ms(y,E,_,T){const k=E.canMatch;if(!k||0===k.length)return(0,e.of)(!0);const G=k.map(oe=>{const Qe=eo(oe,y);return ze(function de(y){return y&&Pr(y.canMatch)}(Qe)?Qe.canMatch(E,_):y.runInContext(()=>Qe(E,_)))});return(0,e.of)(G).pipe(Dr(),zr())}(T,E,_).pipe((0,fe.U)(oe=>!0===oe?G:{...lr}))):(0,e.of)(G)}function Wr(y,E,_){if(""===E.path)return"full"===E.pathMatch&&(y.hasChildren()||_.length>0)?{...lr}:{matched:!0,consumedSegments:[],remainingSegments:_,parameters:{},positionalParamSegments:{}};const k=(E.matcher||wn)(_,y,E);if(!k)return{...lr};const G={};Object.entries(k.posParams??{}).forEach(([Qe,qe])=>{G[Qe]=qe.path});const oe=k.consumed.length>0?{...G,...k.consumed[k.consumed.length-1].parameters}:G;return{matched:!0,consumedSegments:k.consumed,remainingSegments:_.slice(k.consumed.length),parameters:oe,positionalParamSegments:k.posParams??{}}}function Lr(y,E,_,T){return _.length>0&&function Cr(y,E,_){return _.some(T=>Uo(y,E,T)&&zi(T)!==ct)}(y,_,T)?{segmentGroup:new $t(E,as(T,new $t(_,y.children))),slicedSegments:[]}:0===_.length&&function Br(y,E,_){return _.some(T=>Uo(y,E,T))}(y,_,T)?{segmentGroup:new $t(y.segments,ss(y,0,_,T,y.children)),slicedSegments:_}:{segmentGroup:new $t(y.segments,y.children),slicedSegments:_}}function ss(y,E,_,T,k){const G={};for(const oe of T)if(Uo(y,_,oe)&&!k[zi(oe)]){const Qe=new $t([],{});G[zi(oe)]=Qe}return{...k,...G}}function as(y,E){const _={};_[ct]=E;for(const T of y)if(""===T.path&&zi(T)!==ct){const k=new $t([],{});_[zi(T)]=k}return _}function Uo(y,E,_){return(!(y.hasChildren()||E.length>0)||"full"!==_.pathMatch)&&""===_.path}class Xs{constructor(E,_,T,k,G,oe,Qe){this.injector=E,this.configLoader=_,this.rootComponentType=T,this.config=k,this.urlTree=G,this.paramsInheritanceStrategy=oe,this.urlSerializer=Qe,this.allowRedirects=!0,this.applyRedirects=new qo(this.urlSerializer,this.urlTree)}noMatchError(E){return new g.vHH(4002,!1)}recognize(){const E=Lr(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,E,ct).pipe((0,rt.K)(_=>{if(_ instanceof _s)return this.allowRedirects=!1,this.urlTree=_.urlTree,this.match(_.urlTree);throw _ instanceof Ni?this.noMatchError(_):_}),(0,fe.U)(_=>{const T=new Kn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ct,this.rootComponentType,null,{}),k=new zt(T,_),G=new jt("",k),oe=function ue(y,E,_=null,T=null){return Ke(Ce(y),E,_,T)}(T,[],this.urlTree.queryParams,this.urlTree.fragment);return oe.queryParams=this.urlTree.queryParams,G.url=this.urlSerializer.serialize(oe),this.inheritParamsAndData(G._root),{state:G,tree:oe}}))}match(E){return this.processSegmentGroup(this.injector,this.config,E.root,ct).pipe((0,rt.K)(T=>{throw T instanceof Ni?this.noMatchError(T):T}))}inheritParamsAndData(E){const _=E.value,T=$r(_,this.paramsInheritanceStrategy);_.params=Object.freeze(T.params),_.data=Object.freeze(T.data),E.children.forEach(k=>this.inheritParamsAndData(k))}processSegmentGroup(E,_,T,k){return 0===T.segments.length&&T.hasChildren()?this.processChildren(E,_,T):this.processSegment(E,_,T,T.segments,k,!0)}processChildren(E,_,T){const k=[];for(const G of Object.keys(T.children))"primary"===G?k.unshift(G):k.push(G);return(0,J.D)(k).pipe((0,Je.b)(G=>{const oe=T.children[G],Qe=function Nr(y,E){const _=y.filter(T=>zi(T)===E);return _.push(...y.filter(T=>zi(T)!==E)),_}(_,G);return this.processSegmentGroup(E,Qe,oe,G)}),function Re(y,E){return(0,be.e)(function dt(y,E,_,T,k){return(G,oe)=>{let Qe=_,qe=E,Gt=0;G.subscribe((0,Ye.x)(oe,Nn=>{const Pi=Gt++;qe=Qe?y(qe,Nn,Pi):(Qe=!0,Nn),T&&oe.next(qe)},k&&(()=>{Qe&&oe.next(qe),oe.complete()})))}}(y,E,arguments.length>=2,!0))}((G,oe)=>(G.push(...oe),G)),(0,ht.d)(null),function ye(y,E){const _=arguments.length>=2;return T=>T.pipe(y?(0,it.h)((k,G)=>y(k,G,T)):we.y,ae(1),_?(0,ht.d)(E):(0,le.T)(()=>new pe.K))}(),(0,Ue.z)(G=>{if(null===G)return pi(T);const oe=js(G);return function fa(y){y.sort((E,_)=>E.value.outlet===ct?-1:_.value.outlet===ct?1:E.value.outlet.localeCompare(_.value.outlet))}(oe),(0,e.of)(oe)}))}processSegment(E,_,T,k,G,oe){return(0,J.D)(_).pipe((0,Je.b)(Qe=>this.processSegmentAgainstRoute(Qe._injector??E,_,Qe,T,k,G,oe).pipe((0,rt.K)(qe=>{if(qe instanceof Ni)return(0,e.of)(null);throw qe}))),(0,ft.P)(Qe=>!!Qe),(0,rt.K)(Qe=>{if(Bi(Qe))return function Ss(y,E,_){return 0===E.length&&!y.children[_]}(T,k,G)?(0,e.of)([]):pi(T);throw Qe}))}processSegmentAgainstRoute(E,_,T,k,G,oe,Qe){return function ur(y,E,_,T){return!!(zi(y)===T||T!==ct&&Uo(E,_,y))&&("**"===y.path||Wr(E,y,_).matched)}(T,k,G,oe)?void 0===T.redirectTo?this.matchSegmentAgainstRoute(E,k,T,G,oe,Qe):Qe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(E,k,_,T,G,oe):pi(k):pi(k)}expandSegmentAgainstRouteUsingRedirect(E,_,T,k,G,oe){return"**"===k.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(E,T,k,oe):this.expandRegularSegmentAgainstRouteUsingRedirect(E,_,T,k,G,oe)}expandWildCardWithParamsAgainstRouteUsingRedirect(E,_,T,k){const G=this.applyRedirects.applyRedirectCommands([],T.redirectTo,{});return T.redirectTo.startsWith("/")?vs(G):this.applyRedirects.lineralizeSegments(T,G).pipe((0,Ue.z)(oe=>{const Qe=new $t(oe,{});return this.processSegment(E,_,Qe,oe,k,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(E,_,T,k,G,oe){const{matched:Qe,consumedSegments:qe,remainingSegments:Gt,positionalParamSegments:Nn}=Wr(_,k,G);if(!Qe)return pi(_);const Pi=this.applyRedirects.applyRedirectCommands(qe,k.redirectTo,Nn);return k.redirectTo.startsWith("/")?vs(Pi):this.applyRedirects.lineralizeSegments(k,Pi).pipe((0,Ue.z)(ti=>this.processSegment(E,T,_,ti.concat(Gt),oe,!1)))}matchSegmentAgainstRoute(E,_,T,k,G,oe){let Qe;if("**"===T.path){const qe=k.length>0?Be(k).parameters:{},Gt=new Kn(k,qe,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jo(T),zi(T),T.component??T._loadedComponent??null,T,qr(T));Qe=(0,e.of)({snapshot:Gt,consumedSegments:[],remainingSegments:[]}),_.children={}}else Qe=Fr(_,T,k,E).pipe((0,fe.U)(({matched:qe,consumedSegments:Gt,remainingSegments:Nn,parameters:Pi})=>qe?{snapshot:new Kn(Gt,Pi,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jo(T),zi(T),T.component??T._loadedComponent??null,T,qr(T)),consumedSegments:Gt,remainingSegments:Nn}:null));return Qe.pipe((0,ut.w)(qe=>null===qe?pi(_):this.getChildConfig(E=T._injector??E,T,k).pipe((0,ut.w)(({routes:Gt})=>{const Nn=T._loadedInjector??E,{snapshot:Pi,consumedSegments:ti,remainingSegments:Kr}=qe,{segmentGroup:Is,slicedSegments:Cs}=Lr(_,ti,Kr,Gt);if(0===Cs.length&&Is.hasChildren())return this.processChildren(Nn,Gt,Is).pipe((0,fe.U)(To=>null===To?null:[new zt(Pi,To)]));if(0===Gt.length&&0===Cs.length)return(0,e.of)([new zt(Pi,[])]);const ea=zi(T)===G;return this.processSegment(Nn,Gt,Is,Cs,ea?ct:G,!0).pipe((0,fe.U)(To=>[new zt(Pi,To)]))}))))}getChildConfig(E,_,T){return _.children?(0,e.of)({routes:_.children,injector:E}):_.loadChildren?void 0!==_._loadedRoutes?(0,e.of)({routes:_._loadedRoutes,injector:_._loadedInjector}):function fo(y,E,_,T){const k=E.canLoad;if(void 0===k||0===k.length)return(0,e.of)(!0);const G=k.map(oe=>{const Qe=eo(oe,y);return ze(function R(y){return y&&Pr(y.canLoad)}(Qe)?Qe.canLoad(E,_):y.runInContext(()=>Qe(E,_)))});return(0,e.of)(G).pipe(Dr(),zr())}(E,_,T).pipe((0,Ue.z)(k=>k?this.configLoader.loadChildren(E,_).pipe((0,Ft.b)(G=>{_._loadedRoutes=G.routes,_._loadedInjector=G.injector})):function Us(y){return(0,Se._)(Mo(!1,3))}())):(0,e.of)({routes:[],injector:E})}}function pa(y){const E=y.value.routeConfig;return E&&""===E.path}function js(y){const E=[],_=new Set;for(const T of y){if(!pa(T)){E.push(T);continue}const k=E.find(G=>T.value.routeConfig===G.value.routeConfig);void 0!==k?(k.children.push(...T.children),_.add(k)):E.push(T)}for(const T of _){const k=js(T.children);E.push(new zt(T.value,k))}return E.filter(T=>!_.has(T))}function jo(y){return y.data||{}}function qr(y){return y.resolve||{}}function b(y){return"string"==typeof y.title||null===y.title}function j(y){return(0,ut.w)(E=>{const _=y(E);return _?(0,J.D)(_).pipe((0,fe.U)(()=>E)):(0,e.of)(E)})}const I=new g.OlP("ROUTES");let F=(()=>{class y{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,g.f3M)(g.Sil)}loadComponent(_){if(this.componentLoaders.get(_))return this.componentLoaders.get(_);if(_._loadedComponent)return(0,e.of)(_._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(_);const T=ze(_.loadComponent()).pipe((0,fe.U)(gt),(0,Ft.b)(G=>{this.onLoadEndListener&&this.onLoadEndListener(_),_._loadedComponent=G}),(0,Ze.x)(()=>{this.componentLoaders.delete(_)})),k=new Rt(T,()=>new Te.x).pipe(pt());return this.componentLoaders.set(_,k),k}loadChildren(_,T){if(this.childrenLoaders.get(T))return this.childrenLoaders.get(T);if(T._loadedRoutes)return(0,e.of)({routes:T._loadedRoutes,injector:T._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(T);const G=function re(y,E,_,T){return ze(y.loadChildren()).pipe((0,fe.U)(gt),(0,Ue.z)(k=>k instanceof g.YKP||Array.isArray(k)?(0,e.of)(k):(0,J.D)(E.compileModuleAsync(k))),(0,fe.U)(k=>{T&&T(y);let G,oe,Qe=!1;return Array.isArray(k)?(oe=k,!0):(G=k.create(_).injector,oe=G.get(I,[],{optional:!0,self:!0}).flat()),{routes:oe.map(Gi),injector:G}}))}(T,this.compiler,_,this.onLoadEndListener).pipe((0,Ze.x)(()=>{this.childrenLoaders.delete(T)})),oe=new Rt(G,()=>new Te.x).pipe(pt());return this.childrenLoaders.set(T,oe),oe}static#e=this.\u0275fac=function(T){return new(T||y)};static#t=this.\u0275prov=g.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();function gt(y){return function We(y){return y&&"object"==typeof y&&"default"in y}(y)?y.default:y}let Kt=(()=>{class y{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Te.x,this.transitionAbortSubject=new Te.x,this.configLoader=(0,g.f3M)(F),this.environmentInjector=(0,g.f3M)(g.lqb),this.urlSerializer=(0,g.f3M)(mn),this.rootContexts=(0,g.f3M)(Io),this.inputBindingEnabled=null!==(0,g.f3M)(ci,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,e.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=k=>this.events.next(new no(k)),this.configLoader.onLoadStartListener=k=>this.events.next(new _i(k))}complete(){this.transitions?.complete()}handleNavigationRequest(_){const T=++this.navigationId;this.transitions?.next({...this.transitions.value,..._,id:T})}setupNavigations(_,T,k){return this.transitions=new Q.X({id:0,currentUrlTree:T,currentRawUrl:T,currentBrowserUrl:T,extractedUrl:_.urlHandlingStrategy.extract(T),urlAfterRedirects:_.urlHandlingStrategy.extract(T),rawUrl:T,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:xi,restoredState:null,currentSnapshot:k.snapshot,targetSnapshot:null,currentRouterState:k,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,it.h)(G=>0!==G.id),(0,fe.U)(G=>({...G,extractedUrl:_.urlHandlingStrategy.extract(G.rawUrl)})),(0,ut.w)(G=>{this.currentTransition=G;let oe=!1,Qe=!1;return(0,e.of)(G).pipe((0,Ft.b)(qe=>{this.currentNavigation={id:qe.id,initialUrl:qe.rawUrl,extractedUrl:qe.extractedUrl,trigger:qe.source,extras:qe.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ut.w)(qe=>{const Gt=qe.currentBrowserUrl.toString(),Nn=!_.navigated||qe.extractedUrl.toString()!==Gt||Gt!==qe.currentUrlTree.toString();if(!Nn&&"reload"!==(qe.extras.onSameUrlNavigation??_.onSameUrlNavigation)){const ti="";return this.events.next(new En(qe.id,this.urlSerializer.serialize(qe.rawUrl),ti,0)),qe.resolve(null),He.E}if(_.urlHandlingStrategy.shouldProcessUrl(qe.rawUrl))return(0,e.of)(qe).pipe((0,ut.w)(ti=>{const Kr=this.transitions?.getValue();return this.events.next(new Vi(ti.id,this.urlSerializer.serialize(ti.extractedUrl),ti.source,ti.restoredState)),Kr!==this.transitions?.getValue()?He.E:Promise.resolve(ti)}),function Hs(y,E,_,T,k,G){return(0,Ue.z)(oe=>function Ur(y,E,_,T,k,G,oe="emptyOnly"){return new Xs(y,E,_,T,k,oe,G).recognize()}(y,E,_,T,oe.extractedUrl,k,G).pipe((0,fe.U)(({state:Qe,tree:qe})=>({...oe,targetSnapshot:Qe,urlAfterRedirects:qe}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,_.config,this.urlSerializer,_.paramsInheritanceStrategy),(0,Ft.b)(ti=>{G.targetSnapshot=ti.targetSnapshot,G.urlAfterRedirects=ti.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:ti.urlAfterRedirects};const Kr=new Go(ti.id,this.urlSerializer.serialize(ti.extractedUrl),this.urlSerializer.serialize(ti.urlAfterRedirects),ti.targetSnapshot);this.events.next(Kr)}));if(Nn&&_.urlHandlingStrategy.shouldProcessUrl(qe.currentRawUrl)){const{id:ti,extractedUrl:Kr,source:Is,restoredState:Cs,extras:ea}=qe,To=new Vi(ti,this.urlSerializer.serialize(Kr),Is,Cs);this.events.next(To);const ta=rr(0,this.rootComponentType).snapshot;return this.currentTransition=G={...qe,targetSnapshot:ta,urlAfterRedirects:Kr,extras:{...ea,skipLocationChange:!1,replaceUrl:!1}},(0,e.of)(G)}{const ti="";return this.events.next(new En(qe.id,this.urlSerializer.serialize(qe.extractedUrl),ti,1)),qe.resolve(null),He.E}}),(0,Ft.b)(qe=>{const Gt=new Ki(qe.id,this.urlSerializer.serialize(qe.extractedUrl),this.urlSerializer.serialize(qe.urlAfterRedirects),qe.targetSnapshot);this.events.next(Gt)}),(0,fe.U)(qe=>(this.currentTransition=G={...qe,guards:Wo(qe.targetSnapshot,qe.currentSnapshot,this.rootContexts)},G)),function br(y,E){return(0,Ue.z)(_=>{const{targetSnapshot:T,currentSnapshot:k,guards:{canActivateChecks:G,canDeactivateChecks:oe}}=_;return 0===oe.length&&0===G.length?(0,e.of)({..._,guardsResult:!0}):function ja(y,E,_,T){return(0,J.D)(y).pipe((0,Ue.z)(k=>function Rr(y,E,_,T,k){const G=E&&E.routeConfig?E.routeConfig.canDeactivate:null;if(!G||0===G.length)return(0,e.of)(!0);const oe=G.map(Qe=>{const qe=Do(E)??k,Gt=eo(Qe,qe);return ze(function z(y){return y&&Pr(y.canDeactivate)}(Gt)?Gt.canDeactivate(y,E,_,T):qe.runInContext(()=>Gt(y,E,_,T))).pipe((0,ft.P)())});return(0,e.of)(oe).pipe(Dr())}(k.component,k.route,_,E,T)),(0,ft.P)(k=>!0!==k,!0))}(oe,T,k,y).pipe((0,Ue.z)(Qe=>Qe&&function Ms(y){return"boolean"==typeof y}(Qe)?function kr(y,E,_,T){return(0,J.D)(E).pipe((0,Je.b)(k=>(0,ge.z)(function As(y,E){return null!==y&&E&&E(new tr(y)),(0,e.of)(!0)}(k.route.parent,T),function Qs(y,E){return null!==y&&E&&E(new xr(y)),(0,e.of)(!0)}(k.route,T),function rs(y,E,_){const T=E[E.length-1],G=E.slice(0,E.length-1).reverse().map(oe=>function cr(y){const E=y.routeConfig?y.routeConfig.canActivateChild:null;return E&&0!==E.length?{node:y,guards:E}:null}(oe)).filter(oe=>null!==oe).map(oe=>ne(()=>{const Qe=oe.guards.map(qe=>{const Gt=Do(oe.node)??_,Nn=eo(qe,Gt);return ze(function S(y){return y&&Pr(y.canActivateChild)}(Nn)?Nn.canActivateChild(T,y):Gt.runInContext(()=>Nn(T,y))).pipe((0,ft.P)())});return(0,e.of)(Qe).pipe(Dr())}));return(0,e.of)(G).pipe(Dr())}(y,k.path,_),function ha(y,E,_){const T=E.routeConfig?E.routeConfig.canActivate:null;if(!T||0===T.length)return(0,e.of)(!0);const k=T.map(G=>ne(()=>{const oe=Do(E)??_,Qe=eo(G,oe);return ze(function B(y){return y&&Pr(y.canActivate)}(Qe)?Qe.canActivate(E,y):oe.runInContext(()=>Qe(E,y))).pipe((0,ft.P)())}));return(0,e.of)(k).pipe(Dr())}(y,k.route,_))),(0,ft.P)(k=>!0!==k,!0))}(T,G,y,E):(0,e.of)(Qe)),(0,fe.U)(Qe=>({..._,guardsResult:Qe})))})}(this.environmentInjector,qe=>this.events.next(qe)),(0,Ft.b)(qe=>{if(G.guardsResult=qe.guardsResult,Pe(qe.guardsResult))throw gi(0,qe.guardsResult);const Gt=new Js(qe.id,this.urlSerializer.serialize(qe.extractedUrl),this.urlSerializer.serialize(qe.urlAfterRedirects),qe.targetSnapshot,!!qe.guardsResult);this.events.next(Gt)}),(0,it.h)(qe=>!!qe.guardsResult||(this.cancelNavigationTransition(qe,"",3),!1)),j(qe=>{if(qe.guards.canActivateChecks.length)return(0,e.of)(qe).pipe((0,Ft.b)(Gt=>{const Nn=new Ir(Gt.id,this.urlSerializer.serialize(Gt.extractedUrl),this.urlSerializer.serialize(Gt.urlAfterRedirects),Gt.targetSnapshot);this.events.next(Nn)}),(0,ut.w)(Gt=>{let Nn=!1;return(0,e.of)(Gt).pipe(function cs(y,E){return(0,Ue.z)(_=>{const{targetSnapshot:T,guards:{canActivateChecks:k}}=_;if(!k.length)return(0,e.of)(_);let G=0;return(0,J.D)(k).pipe((0,Je.b)(oe=>function Ha(y,E,_,T){const k=y.routeConfig,G=y._resolve;return void 0!==k?.title&&!b(k)&&(G[sn]=k.title),function ga(y,E,_,T){const k=function ys(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}(y);if(0===k.length)return(0,e.of)({});const G={};return(0,J.D)(k).pipe((0,Ue.z)(oe=>function ls(y,E,_,T){const k=Do(E)??T,G=eo(y,k);return ze(G.resolve?G.resolve(E,_):k.runInContext(()=>G(E,_)))}(y[oe],E,_,T).pipe((0,ft.P)(),(0,Ft.b)(Qe=>{G[oe]=Qe}))),ae(1),(0,Me.h)(G),(0,rt.K)(oe=>Bi(oe)?He.E:(0,Se._)(oe)))}(G,y,E,T).pipe((0,fe.U)(oe=>(y._resolvedData=oe,y.data=$r(y,_).resolve,k&&b(k)&&(y.data[sn]=k.title),null)))}(oe.route,T,y,E)),(0,Ft.b)(()=>G++),ae(1),(0,Ue.z)(oe=>G===k.length?(0,e.of)(_):He.E))})}(_.paramsInheritanceStrategy,this.environmentInjector),(0,Ft.b)({next:()=>Nn=!0,complete:()=>{Nn||this.cancelNavigationTransition(Gt,"",2)}}))}),(0,Ft.b)(Gt=>{const Nn=new Fo(Gt.id,this.urlSerializer.serialize(Gt.extractedUrl),this.urlSerializer.serialize(Gt.urlAfterRedirects),Gt.targetSnapshot);this.events.next(Nn)}))}),j(qe=>{const Gt=Nn=>{const Pi=[];Nn.routeConfig?.loadComponent&&!Nn.routeConfig._loadedComponent&&Pi.push(this.configLoader.loadComponent(Nn.routeConfig).pipe((0,Ft.b)(ti=>{Nn.component=ti}),(0,fe.U)(()=>{})));for(const ti of Nn.children)Pi.push(...Gt(ti));return Pi};return(0,Le.a)(Gt(qe.targetSnapshot.root)).pipe((0,ht.d)(),(0,Xe.q)(1))}),j(()=>this.afterPreactivation()),(0,fe.U)(qe=>{const Gt=function Bo(y,E,_){const T=Ut(y,E._root,_?_._root:void 0);return new Cn(T,E)}(_.routeReuseStrategy,qe.targetSnapshot,qe.currentRouterState);return this.currentTransition=G={...qe,targetRouterState:Gt},G}),(0,Ft.b)(()=>{this.events.next(new ir)}),((y,E,_,T)=>(0,fe.U)(k=>(new bo(E,k.targetRouterState,k.currentRouterState,_,T).activate(y),k)))(this.rootContexts,_.routeReuseStrategy,qe=>this.events.next(qe),this.inputBindingEnabled),(0,Xe.q)(1),(0,Ft.b)({next:qe=>{oe=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new _o(qe.id,this.urlSerializer.serialize(qe.extractedUrl),this.urlSerializer.serialize(qe.urlAfterRedirects))),_.titleStrategy?.updateTitle(qe.targetRouterState.snapshot),qe.resolve(!0)},complete:()=>{oe=!0}}),(0,et.R)(this.transitionAbortSubject.pipe((0,Ft.b)(qe=>{throw qe}))),(0,Ze.x)(()=>{oe||Qe||this.cancelNavigationTransition(G,"",1),this.currentNavigation?.id===G.id&&(this.currentNavigation=null)}),(0,rt.K)(qe=>{if(Qe=!0,vo(qe))this.events.next(new fn(G.id,this.urlSerializer.serialize(G.extractedUrl),qe.message,qe.cancellationCode)),function zo(y){return vo(y)&&Pe(y.url)}(qe)?this.events.next(new or(qe.url)):G.resolve(!1);else{this.events.next(new to(G.id,this.urlSerializer.serialize(G.extractedUrl),qe,G.targetSnapshot??void 0));try{G.resolve(_.errorHandler(qe))}catch(Gt){G.reject(Gt)}}return He.E}))}))}cancelNavigationTransition(_,T,k){const G=new fn(_.id,this.urlSerializer.serialize(_.extractedUrl),T,k);this.events.next(G),_.resolve(!1)}static#e=this.\u0275fac=function(T){return new(T||y)};static#t=this.\u0275prov=g.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();function Qn(y){return y!==xi}let si=(()=>{class y{buildTitle(_){let T,k=_.root;for(;void 0!==k;)T=this.getResolvedTitleForRoute(k)??T,k=k.children.find(G=>G.outlet===ct);return T}getResolvedTitleForRoute(_){return _.data[sn]}static#e=this.\u0275fac=function(T){return new(T||y)};static#t=this.\u0275prov=g.Yz7({token:y,factory:function(){return(0,g.f3M)(On)},providedIn:"root"})}return y})(),On=(()=>{class y extends si{constructor(_){super(),this.title=_}updateTitle(_){const T=this.buildTitle(_);void 0!==T&&this.title.setTitle(T)}static#e=this.\u0275fac=function(T){return new(T||y)(g.LFG(cn.Dx))};static#t=this.\u0275prov=g.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})(),pn=(()=>{class y{static#e=this.\u0275fac=function(T){return new(T||y)};static#t=this.\u0275prov=g.Yz7({token:y,factory:function(){return(0,g.f3M)(li)},providedIn:"root"})}return y})();class Ei{shouldDetach(E){return!1}store(E,_){}shouldAttach(E){return!1}retrieve(E){return null}shouldReuseRoute(E,_){return E.routeConfig===_.routeConfig}}let li=(()=>{class y extends Ei{static#e=this.\u0275fac=function(){let _;return function(k){return(_||(_=g.n5z(y)))(k||y)}}();static#t=this.\u0275prov=g.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();const Ti=new g.OlP("",{providedIn:"root",factory:()=>({})});let Jo=(()=>{class y{static#e=this.\u0275fac=function(T){return new(T||y)};static#t=this.\u0275prov=g.Yz7({token:y,factory:function(){return(0,g.f3M)(Ho)},providedIn:"root"})}return y})(),Ho=(()=>{class y{shouldProcessUrl(_){return!0}extract(_){return _}merge(_,T){return _}static#e=this.\u0275fac=function(T){return new(T||y)};static#t=this.\u0275prov=g.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();var po=function(y){return y[y.COMPLETE=0]="COMPLETE",y[y.FAILED=1]="FAILED",y[y.REDIRECTING=2]="REDIRECTING",y}(po||{});function Eo(y,E){y.events.pipe((0,it.h)(_=>_ instanceof _o||_ instanceof fn||_ instanceof to||_ instanceof En),(0,fe.U)(_=>_ instanceof _o||_ instanceof En?po.COMPLETE:_ instanceof fn&&(0===_.code||1===_.code)?po.REDIRECTING:po.FAILED),(0,it.h)(_=>_!==po.REDIRECTING),(0,Xe.q)(1)).subscribe(()=>{E()})}function Ui(y){throw y}function wr(y,E,_){return E.parse("/")}const Ao={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ui={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let So=(()=>{class y{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,g.f3M)(g.c2e),this.isNgZoneEnabled=!1,this._events=new Te.x,this.options=(0,g.f3M)(Ti,{optional:!0})||{},this.pendingTasks=(0,g.f3M)(g.HDt),this.errorHandler=this.options.errorHandler||Ui,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||wr,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,g.f3M)(Jo),this.routeReuseStrategy=(0,g.f3M)(pn),this.titleStrategy=(0,g.f3M)(si),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,g.f3M)(I,{optional:!0})?.flat()??[],this.navigationTransitions=(0,g.f3M)(Kt),this.urlSerializer=(0,g.f3M)(mn),this.location=(0,g.f3M)(Ie.Ye),this.componentInputBindingEnabled=!!(0,g.f3M)(ci,{optional:!0}),this.eventsSubscription=new K.w0,this.isNgZoneEnabled=(0,g.f3M)(g.R0b)instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new tn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=rr(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(_=>{this.lastSuccessfulId=_.id,this.currentPageId=this.browserPageId},_=>{this.console.warn(`Unhandled Navigation Error: ${_}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const _=this.navigationTransitions.events.subscribe(T=>{try{const{currentTransition:k}=this.navigationTransitions;if(null===k)return void(u(T)&&this._events.next(T));if(T instanceof Vi)Qn(k.source)&&(this.browserUrlTree=k.extractedUrl);else if(T instanceof En)this.rawUrlTree=k.rawUrl;else if(T instanceof Go){if("eager"===this.urlUpdateStrategy){if(!k.extras.skipLocationChange){const G=this.urlHandlingStrategy.merge(k.urlAfterRedirects,k.rawUrl);this.setBrowserUrl(G,k)}this.browserUrlTree=k.urlAfterRedirects}}else if(T instanceof ir)this.currentUrlTree=k.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(k.urlAfterRedirects,k.rawUrl),this.routerState=k.targetRouterState,"deferred"===this.urlUpdateStrategy&&(k.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,k),this.browserUrlTree=k.urlAfterRedirects);else if(T instanceof fn)0!==T.code&&1!==T.code&&(this.navigated=!0),(3===T.code||2===T.code)&&this.restoreHistory(k);else if(T instanceof or){const G=this.urlHandlingStrategy.merge(T.url,k.currentRawUrl),oe={skipLocationChange:k.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Qn(k.source)};this.scheduleNavigation(G,xi,null,oe,{resolve:k.resolve,reject:k.reject,promise:k.promise})}T instanceof to&&this.restoreHistory(k,!0),T instanceof _o&&(this.navigated=!0),u(T)&&this._events.next(T)}catch(k){this.navigationTransitions.transitionAbortSubject.next(k)}});this.eventsSubscription.add(_)}resetRootComponentType(_){this.routerState.root.component=_,this.navigationTransitions.rootComponentType=_}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const _=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),xi,_)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(_=>{const T="popstate"===_.type?"popstate":"hashchange";"popstate"===T&&setTimeout(()=>{this.navigateToSyncWithBrowser(_.url,T,_.state)},0)}))}navigateToSyncWithBrowser(_,T,k){const G={replaceUrl:!0},oe=k?.navigationId?k:null;if(k){const qe={...k};delete qe.navigationId,delete qe.\u0275routerPageId,0!==Object.keys(qe).length&&(G.state=qe)}const Qe=this.parseUrl(_);this.scheduleNavigation(Qe,T,oe,G)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(_){this.config=_.map(Gi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(_,T={}){const{relativeTo:k,queryParams:G,fragment:oe,queryParamsHandling:Qe,preserveFragment:qe}=T,Gt=qe?this.currentUrlTree.fragment:oe;let Pi,Nn=null;switch(Qe){case"merge":Nn={...this.currentUrlTree.queryParams,...G};break;case"preserve":Nn=this.currentUrlTree.queryParams;break;default:Nn=G||null}null!==Nn&&(Nn=this.removeEmptyProps(Nn));try{Pi=Ce(k?k.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof _[0]||!_[0].startsWith("/"))&&(_=[]),Pi=this.currentUrlTree.root}return Ke(Pi,_,Nn,Gt??null)}navigateByUrl(_,T={skipLocationChange:!1}){const k=Pe(_)?_:this.parseUrl(_),G=this.urlHandlingStrategy.merge(k,this.rawUrlTree);return this.scheduleNavigation(G,xi,null,T)}navigate(_,T={skipLocationChange:!1}){return function s(y){for(let E=0;E<y.length;E++)if(null==y[E])throw new g.vHH(4008,!1)}(_),this.navigateByUrl(this.createUrlTree(_,T),T)}serializeUrl(_){return this.urlSerializer.serialize(_)}parseUrl(_){let T;try{T=this.urlSerializer.parse(_)}catch(k){T=this.malformedUriErrorHandler(k,this.urlSerializer,_)}return T}isActive(_,T){let k;if(k=!0===T?{...Ao}:!1===T?{...ui}:T,Pe(_))return bn(this.currentUrlTree,_,k);const G=this.parseUrl(_);return bn(this.currentUrlTree,G,k)}removeEmptyProps(_){return Object.keys(_).reduce((T,k)=>{const G=_[k];return null!=G&&(T[k]=G),T},{})}scheduleNavigation(_,T,k,G,oe){if(this.disposed)return Promise.resolve(!1);let Qe,qe,Gt;oe?(Qe=oe.resolve,qe=oe.reject,Gt=oe.promise):Gt=new Promise((Pi,ti)=>{Qe=Pi,qe=ti});const Nn=this.pendingTasks.add();return Eo(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Nn))}),this.navigationTransitions.handleNavigationRequest({source:T,restoredState:k,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:_,extras:G,resolve:Qe,reject:qe,promise:Gt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Gt.catch(Pi=>Promise.reject(Pi))}setBrowserUrl(_,T){const k=this.urlSerializer.serialize(_);if(this.location.isCurrentPathEqualTo(k)||T.extras.replaceUrl){const oe={...T.extras.state,...this.generateNgRouterState(T.id,this.browserPageId)};this.location.replaceState(k,"",oe)}else{const G={...T.extras.state,...this.generateNgRouterState(T.id,this.browserPageId+1)};this.location.go(k,"",G)}}restoreHistory(_,T=!1){if("computed"===this.canceledNavigationResolution){const G=this.currentPageId-this.browserPageId;0!==G?this.location.historyGo(G):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===G&&(this.resetState(_),this.browserUrlTree=_.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(T&&this.resetState(_),this.resetUrlToCurrentUrlTree())}resetState(_){this.routerState=_.currentRouterState,this.currentUrlTree=_.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(_,T){return"computed"===this.canceledNavigationResolution?{navigationId:_,\u0275routerPageId:T}:{navigationId:_}}static#e=this.\u0275fac=function(T){return new(T||y)};static#t=this.\u0275prov=g.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();function u(y){return!(y instanceof ir||y instanceof or)}let p=(()=>{class y{constructor(_,T,k,G,oe,Qe){this.router=_,this.route=T,this.tabIndexAttribute=k,this.renderer=G,this.el=oe,this.locationStrategy=Qe,this.href=null,this.commands=null,this.onChanges=new Te.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const qe=oe.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===qe||"area"===qe,this.isAnchorElement?this.subscription=_.events.subscribe(Gt=>{Gt instanceof _o&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(_){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",_)}ngOnChanges(_){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(_){null!=_?(this.commands=Array.isArray(_)?_:[_],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(_,T,k,G,oe){return!!(null===this.urlTree||this.isAnchorElement&&(0!==_||T||k||G||oe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const _=null===this.href?null:(0,g.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",_)}applyAttributeValue(_,T){const k=this.renderer,G=this.el.nativeElement;null!==T?k.setAttribute(G,_,T):k.removeAttribute(G,_)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(T){return new(T||y)(g.Y36(So),g.Y36(io),g.$8M("tabindex"),g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(Ie.S$))};static#t=this.\u0275dir=g.lG2({type:y,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(T,k){1&T&&g.NdJ("click",function(oe){return k.onClick(oe.button,oe.ctrlKey,oe.shiftKey,oe.altKey,oe.metaKey)}),2&T&&g.uIk("target",k.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",g.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",g.VuI],replaceUrl:["replaceUrl","replaceUrl",g.VuI],routerLink:"routerLink"},standalone:!0,features:[g.Xq5,g.TTD]})}return y})(),C=(()=>{class y{get isActive(){return this._isActive}constructor(_,T,k,G,oe){this.router=_,this.element=T,this.renderer=k,this.cdr=G,this.link=oe,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new g.vpe,this.routerEventsSubscription=_.events.subscribe(Qe=>{Qe instanceof _o&&this.update()})}ngAfterContentInit(){(0,e.of)(this.links.changes,(0,e.of)(null)).pipe((0,nt.J)()).subscribe(_=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const _=[...this.links.toArray(),this.link].filter(T=>!!T).map(T=>T.onChanges);this.linkInputChangesSubscription=(0,J.D)(_).pipe((0,nt.J)()).subscribe(T=>{this._isActive!==this.isLinkActive(this.router)(T)&&this.update()})}set routerLinkActive(_){const T=Array.isArray(_)?_:_.split(" ");this.classes=T.filter(k=>!!k)}ngOnChanges(_){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const _=this.hasActiveLinks();this._isActive!==_&&(this._isActive=_,this.cdr.markForCheck(),this.classes.forEach(T=>{_?this.renderer.addClass(this.element.nativeElement,T):this.renderer.removeClass(this.element.nativeElement,T)}),_&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(_))})}isLinkActive(_){const T=function O(y){return!!y.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return k=>!!k.urlTree&&_.isActive(k.urlTree,T)}hasActiveLinks(){const _=this.isLinkActive(this.router);return this.link&&_(this.link)||this.links.some(_)}static#e=this.\u0275fac=function(T){return new(T||y)(g.Y36(So),g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(g.sBO),g.Y36(p,8))};static#t=this.\u0275dir=g.lG2({type:y,selectors:[["","routerLinkActive",""]],contentQueries:function(T,k,G){if(1&T&&g.Suo(G,p,5),2&T){let oe;g.iGM(oe=g.CRH())&&(k.links=oe)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[g.TTD]})}return y})();class ${}let tt=(()=>{class y{constructor(_,T,k,G,oe){this.router=_,this.injector=k,this.preloadingStrategy=G,this.loader=oe}setUpPreloading(){this.subscription=this.router.events.pipe((0,it.h)(_=>_ instanceof _o),(0,Je.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(_,T){const k=[];for(const G of T){G.providers&&!G._injector&&(G._injector=(0,g.MMx)(G.providers,_,`Route: ${G.path}`));const oe=G._injector??_,Qe=G._loadedInjector??oe;(G.loadChildren&&!G._loadedRoutes&&void 0===G.canLoad||G.loadComponent&&!G._loadedComponent)&&k.push(this.preloadConfig(oe,G)),(G.children||G._loadedRoutes)&&k.push(this.processRoutes(Qe,G.children??G._loadedRoutes))}return(0,J.D)(k).pipe((0,nt.J)())}preloadConfig(_,T){return this.preloadingStrategy.preload(T,()=>{let k;k=T.loadChildren&&void 0===T.canLoad?this.loader.loadChildren(_,T):(0,e.of)(null);const G=k.pipe((0,Ue.z)(oe=>null===oe?(0,e.of)(void 0):(T._loadedRoutes=oe.routes,T._loadedInjector=oe.injector,this.processRoutes(oe.injector??_,oe.routes))));if(T.loadComponent&&!T._loadedComponent){const oe=this.loader.loadComponent(T);return(0,J.D)([G,oe]).pipe((0,nt.J)())}return G})}static#e=this.\u0275fac=function(T){return new(T||y)(g.LFG(So),g.LFG(g.Sil),g.LFG(g.lqb),g.LFG($),g.LFG(F))};static#t=this.\u0275prov=g.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();const yt=new g.OlP("");let Bt=(()=>{class y{constructor(_,T,k,G,oe={}){this.urlSerializer=_,this.transitions=T,this.viewportScroller=k,this.zone=G,this.options=oe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},oe.scrollPositionRestoration=oe.scrollPositionRestoration||"disabled",oe.anchorScrolling=oe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(_=>{_ instanceof Vi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=_.navigationTrigger,this.restoredId=_.restoredState?_.restoredState.navigationId:0):_ instanceof _o?(this.lastId=_.id,this.scheduleScrollEvent(_,this.urlSerializer.parse(_.urlAfterRedirects).fragment)):_ instanceof En&&0===_.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(_,this.urlSerializer.parse(_.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(_=>{_ instanceof nr&&(_.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(_.position):_.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(_.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(_,T){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new nr(_,"popstate"===this.lastSource?this.store[this.restoredId]:null,T))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(T){g.$Z()};static#t=this.\u0275prov=g.Yz7({token:y,factory:y.\u0275fac})}return y})();function Xn(y,E){return{\u0275kind:y,\u0275providers:E}}function _e(){const y=(0,g.f3M)(g.zs3);return E=>{const _=y.get(g.z2F);if(E!==_.components[0])return;const T=y.get(So),k=y.get(U);1===y.get(P)&&T.initialNavigation(),y.get(It,null,g.XFs.Optional)?.setUpPreloading(),y.get(yt,null,g.XFs.Optional)?.init(),T.resetRootComponentType(_.componentTypes[0]),k.closed||(k.next(),k.complete(),k.unsubscribe())}}const U=new g.OlP("",{factory:()=>new Te.x}),P=new g.OlP("",{providedIn:"root",factory:()=>1}),It=new g.OlP("");function Vn(y){return Xn(0,[{provide:It,useExisting:tt},{provide:$,useExisting:y}])}const ro=new g.OlP("ROUTER_FORROOT_GUARD"),ma=[Ie.Ye,{provide:mn,useClass:Mi},So,Io,{provide:io,useFactory:function Tn(y){return y.routerState.root},deps:[So]},F,[]];function ji(){return new g.PXZ("Router",So)}let Zs=(()=>{class y{constructor(_){}static forRoot(_,T){return{ngModule:y,providers:[ma,[],{provide:I,multi:!0,useValue:_},{provide:ro,useFactory:_a,deps:[[So,new g.FiY,new g.tp0]]},{provide:Ti,useValue:T||{}},T?.useHash?{provide:Ie.S$,useClass:Ie.Do}:{provide:Ie.S$,useClass:Ie.b0},{provide:yt,useFactory:()=>{const y=(0,g.f3M)(Ie.EM),E=(0,g.f3M)(g.R0b),_=(0,g.f3M)(Ti),T=(0,g.f3M)(Kt),k=(0,g.f3M)(mn);return _.scrollOffset&&y.setOffset(_.scrollOffset),new Bt(k,T,y,E,_)}},T?.preloadingStrategy?Vn(T.preloadingStrategy).\u0275providers:[],{provide:g.PXZ,multi:!0,useFactory:ji},T?.initialNavigation?fl(T):[],T?.bindToComponentInputs?Xn(8,[uo,{provide:ci,useExisting:uo}]).\u0275providers:[],[{provide:pl,useFactory:_e},{provide:g.tb,multi:!0,useExisting:pl}]]}}static forChild(_){return{ngModule:y,providers:[{provide:I,multi:!0,useValue:_}]}}static#e=this.\u0275fac=function(T){return new(T||y)(g.LFG(ro,8))};static#t=this.\u0275mod=g.oAB({type:y});static#n=this.\u0275inj=g.cJS({})}return y})();function _a(y){return"guarded"}function fl(y){return["disabled"===y.initialNavigation?Xn(3,[{provide:g.ip1,multi:!0,useFactory:()=>{const E=(0,g.f3M)(So);return()=>{E.setUpLocationChangeListener()}}},{provide:P,useValue:2}]).\u0275providers:[],"enabledBlocking"===y.initialNavigation?Xn(2,[{provide:P,useValue:0},{provide:g.ip1,multi:!0,deps:[g.zs3],useFactory:E=>{const _=E.get(Ie.V_,Promise.resolve());return()=>_.then(()=>new Promise(T=>{const k=E.get(So),G=E.get(U);Eo(k,()=>{T(!0)}),E.get(Kt).afterPreactivation=()=>(T(!0),G.closed?(0,e.of)(void 0):G),k.initialNavigation()}))}}]).\u0275providers:[]]}const pl=new g.OlP("")},2321:(Ot,ke,M)=>{"use strict";function ne(ae,le,we,ye){return new(we||(we=Promise))(function(Ze,et){function nt(sn){try{ct(ye.next(sn))}catch(Ht){et(Ht)}}function cn(sn){try{ct(ye.throw(sn))}catch(Ht){et(Ht)}}function ct(sn){sn.done?Ze(sn.value):function Me(Ze){return Ze instanceof we?Ze:new we(function(et){et(Ze)})}(sn.value).then(nt,cn)}ct((ye=ye.apply(ae,le||[])).next())})}function Te(ae){return this instanceof Te?(this.v=ae,this):new Te(ae)}function Ie(ae,le,we){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Me,ye=we.apply(ae,le||[]),Ze=[];return Me={},et("next"),et("throw"),et("return"),Me[Symbol.asyncIterator]=function(){return this},Me;function et(Ct){ye[Ct]&&(Me[Ct]=function(wn){return new Promise(function(gn,he){Ze.push([Ct,wn,gn,he])>1||nt(Ct,wn)})})}function nt(Ct,wn){try{!function cn(Ct){Ct.value instanceof Te?Promise.resolve(Ct.value.v).then(ct,sn):Ht(Ze[0][2],Ct)}(ye[Ct](wn))}catch(gn){Ht(Ze[0][3],gn)}}function ct(Ct){nt("next",Ct)}function sn(Ct){nt("throw",Ct)}function Ht(Ct,wn){Ct(wn),Ze.shift(),Ze.length&&nt(Ze[0][0],Ze[0][1])}}function ut(ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var we,le=ae[Symbol.asyncIterator];return le?le.call(ae):(ae=function K(ae){var le="function"==typeof Symbol&&Symbol.iterator,we=le&&ae[le],ye=0;if(we)return we.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&ye>=ae.length&&(ae=void 0),{value:ae&&ae[ye++],done:!ae}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}(ae),we={},ye("next"),ye("throw"),ye("return"),we[Symbol.asyncIterator]=function(){return this},we);function ye(Ze){we[Ze]=ae[Ze]&&function(et){return new Promise(function(nt,cn){!function Me(Ze,et,nt,cn){Promise.resolve(cn).then(function(ct){Ze({value:ct,done:nt})},et)}(nt,cn,(et=ae[Ze](et)).done,et.value)})}}}M.d(ke,{FC:()=>Ie,KL:()=>ut,mG:()=>ne,qq:()=>Te}),"function"==typeof SuppressedError&&SuppressedError}},Ot=>{var ke=g=>Ot(Ot.s=g);ke(9713),ke(3266)}]);
//# sourceMappingURL=main.921b3e334728fee1.js.map