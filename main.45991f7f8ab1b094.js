(self.webpackChunkSkyGame_Planner=self.webpackChunkSkyGame_Planner||[]).push([[179],{1357:(Pt,ke,M)=>{"use strict";M.d(ke,{T:()=>g});class g{static create(){return{c:0,h:0,sc:0,sh:0,ac:0,ec:0}}static isEmpty(Y){return!(Y.c||Y.h||Y.sc||Y.sh||Y.ec||Y.ac)}static add(Y,...ce){for(const q of ce)q.c&&(Y.c=(Y.c||0)+q.c),q.h&&(Y.h=(Y.h||0)+q.h),q.sc&&(Y.sc=(Y.sc||0)+q.sc),q.sh&&(Y.sh=(Y.sh||0)+q.sh),q.ac&&(Y.ac=(Y.ac||0)+q.ac),q.ec&&(Y.ec=(Y.ec||0)+q.ec);return Y}static subtract(Y,...ce){for(const q of ce)q.c&&(Y.c=(Y.c||0)-q.c),q.h&&(Y.h=(Y.h||0)-q.h),q.sc&&(Y.sc=(Y.sc||0)-q.sc),q.sh&&(Y.sh=(Y.sh||0)-q.sh),q.ac&&(Y.ac=(Y.ac||0)-q.ac),q.ec&&(Y.ec=(Y.ec||0)-q.ec);return Y}static invert(Y){return Y.c&&(Y.c=-Y.c),Y.h&&(Y.h=-Y.h),Y.sc&&(Y.sc=-Y.sc),Y.sh&&(Y.sh=-Y.sh),Y.ac&&(Y.ac=-Y.ac),Y.ec&&(Y.ec=-Y.ec),Y}}},6841:(Pt,ke,M)=>{"use strict";M.d(ke,{O:()=>Y});var g=M(292),X=M.n(g);let Y=(()=>{class ce{static#e=this.skyTimeZone="America/Los_Angeles";static#t=this.displayFormats=["DD-MM-YYYY","DD/MM/YYYY","MM-DD-YYYY","MM/DD/YYYY","YYYY-MM-DD","YYYY/MM/DD"];static isActive(e,Q){const Le=X()(),pe=X().tz(e),me=X().tz(Q);return Le.isAfter(pe)&&Le.isBefore(me)}static fromInterfaceLocal(e){if(e)return X().isDayjs(e)?e:X()(`${e.year}-${e.month}-${e.day}`)}static fromInterfaceSky(e){if(e)return X().isDayjs(e)?e:X().tz(`${e.year}-${e.month}-${e.day}`)}static fromStringLocal(e){if(e)return X().isDayjs(e)?e:X()(e)}static fromStringSky(e){if(e)return X().isDayjs(e)?e:X().tz(e)}static daysBetween(e,Q){const Le=Math.abs(e.diff(Q,"hour"));return Math.floor(Le/24)}static getStateFromPeriod(e,Q,Le){return Le??=X()(),e.isAfter(Le)?"future":Le.isAfter(Q)?"ended":"active"}}return ce})()},3311:(Pt,ke,M)=>{"use strict";M.d(ke,{f:()=>g});class g{static find(Y,ce){return ce(Y)?Y:Y?.nw&&this.find(Y.nw,ce)||Y?.ne&&this.find(Y.ne,ce)||Y?.n&&this.find(Y.n,ce)||void 0}static getRoot(Y){if(!Y)return Y;for(;Y.prev;)Y=Y.prev;return Y}static all(Y,ce){return ce??=[],Y&&(ce.push(Y),Y.nw&&this.all(Y.nw,ce),Y.ne&&this.all(Y.ne,ce),Y.n&&this.all(Y.n,ce)),ce}static getItems(Y,ce){const q=new Set;return this.all(Y).filter(e=>e.item).forEach(e=>{q.add(e.item),ce&&e.hiddenItems?.forEach(Q=>q.add(Q))}),[...q]}static trace(Y){const ce=[];for(;Y;)ce.push(Y),Y=Y.prev;return ce.reverse()}}},8460:(Pt,ke,M)=>{"use strict";M.d(ke,{q:()=>g});var g=function(X){return X.Hat="Hat",X.Hair="Hair",X.Mask="Mask",X.FaceAccessory="FaceAccessory",X.Necklace="Necklace",X.Outfit="Outfit",X.Shoes="Shoes",X.Cape="Cape",X.Instrument="Instrument",X.Held="Held",X.Prop="Prop",X.Emote="Emote",X.Stance="Stance",X.Call="Call",X.Spell="Spell",X.Music="Music",X.Quest="Quest",X.WingBuff="WingBuff",X.Special="Special",X}(g||{})},3740:(Pt,ke,M)=>{"use strict";M.d(ke,{D:()=>xe});var g=M(3947),X=M.n(g),Y=M(1699),ce=M(5400),q=M(4300),e=M(6841),Q=M(3311),Le=M(292),pe=M.n(Le),me=M(1357);class Ae{static getItemsByEvent(Ye,ee){const lt=window.skyData.eventConfig.items.find(ge=>ge.name===Ye),gt=[],we=new Set;return lt?.instances?.forEach(ge=>{ge.spirits?.forEach(le=>{const ct=Q.f.getItems(le.tree.node).filter(Je=>!we.has(Je)&&we.add(Je));ee?gt.push(...ct.filter(Je=>Je.type===ee)):gt.push(...ct)}),ge.shops?.forEach(le=>{le.iaps?.forEach(ct=>{const Je=ct.items?.filter(Ze=>!we.has(Ze)&&we.add(Ze))||[];ee?gt.push(...Je.filter(Ze=>Ze.type===ee)):gt.push(...Je)})})}),gt.sort((ge,le)=>(ge.order||99999)-(le.order||99999)),gt}}var ne=M(4860),be=M(9140);let xe=(()=>{class Ue{constructor(ee,Oe){this._httpClient=ee,this._storageService=Oe,this.guidMap=new Map,this.onData=new ce.t,this.loadData().add(()=>{this.exposeData()})}loadData(){const ee=Oe=>this._httpClient.get(`assets/data/${Oe}`,{responseType:"text"});return(0,q.D)({areaConfig:ee("areas.json"),eventConfig:ee("events.json"),itemConfig:ee("items.json"),nodeConfig:ee("nodes.json"),questConfig:ee("quests.json"),realmConfig:ee("realms.json"),seasonConfig:ee("seasons.json"),shopConfig:ee("shops.json"),iapConfig:ee("iaps.json"),spiritConfig:ee("spirits.json"),spiritTreeConfig:ee("spirit-trees.json"),travelingSpiritConfig:ee("traveling-spirits.json"),returningSpiritsConfig:ee("returning-spirits.json"),wingedLightConfig:ee("winged-lights.json")}).subscribe({next:Oe=>{this.onConfigs(Oe)},error:Oe=>console.error(Oe)})}onConfigs(ee){const Oe=Object.keys(ee).map(lt=>{const gt=X().parse(ee[lt]);return this[lt]=gt,gt});this.initializeGuids(Oe),console.debug(`Loaded ${Oe.length} configs.`),this.initializeRealms(),this.initializeAreas(),this.initializeSeasons(),this.initializeSpirits(),this.initializeTravelingSpirits(),this.initializeReturningSpirits(),this.initializeSpiritTrees(),this.initializeEvents(),this.initializeShops(),this.initializeItems(),this.initializeSeasonItems(),this.initializeWingedLight(),this._storageService.save(),(0,Y.X6Q)()&&this.validate(),this.onData.next(),this.onData.complete()}initializeRealms(){this.realmConfig.items.forEach(ee=>{ee.areas?.forEach((Oe,lt)=>{Oe=this.guidMap.get(Oe),ee.areas[lt]=Oe,Oe.realm=ee})})}initializeAreas(){this.areaConfig.items.forEach(ee=>{ee.spirits?.forEach((Oe,lt)=>{Oe=this.guidMap.get(Oe),ee.spirits[lt]=Oe,Oe.area=ee}),ee.wingedLights?.forEach((Oe,lt)=>{Oe=this.guidMap.get(Oe),ee.wingedLights[lt]=Oe,Oe.area=ee})})}initializeSeasons(){this.seasonConfig.items.forEach((ee,Oe)=>{ee.number=Oe+1,ee.date=e.O.fromStringSky(ee.date),ee.endDate=e.O.fromStringSky(ee.endDate).endOf("day"),ee.spirits?.forEach((lt,gt)=>{lt=this.guidMap.get(lt),ee.spirits[gt]=lt,lt.season=ee}),ee.shops?.forEach((lt,gt)=>{lt=this.guidMap.get(lt),ee.shops[gt]=lt,lt.season=ee})})}initializeSpirits(){this.spiritConfig.items.forEach((ee,Oe)=>{if(ee._index=Oe,ee.tree){const lt=this.guidMap.get(ee.tree);lt.spirit=ee,ee.tree=lt}})}initializeTravelingSpirits(){const ee={};this.travelingSpiritConfig.items.forEach((Oe,lt)=>{Oe.date=e.O.fromInterfaceSky(Oe.date),Oe.endDate=e.O.fromInterfaceSky(Oe.endDate)?.endOf("day")??pe()(Oe.date).add(3,"day").endOf("day");const gt=this.guidMap.get(Oe.spirit);Oe.spirit=gt,gt.ts??=[],gt.ts.push(Oe),ee[gt.name]??=0,ee[gt.name]++,Oe.number=lt+1,Oe.visit=ee[gt.name];const we=this.guidMap.get(Oe.tree);Oe.tree=we,we.ts=Oe})}initializeReturningSpirits(){this.returningSpiritsConfig.items.forEach((ee,Oe)=>{if(ee.date=e.O.fromInterfaceSky(ee.date),ee.endDate=e.O.fromInterfaceSky(ee.endDate).endOf("day"),ee.area){const lt=this.guidMap.get(ee.area);ee.area=lt,lt.rs??=[],lt.rs.push(ee)}ee.spirits?.forEach((lt,gt)=>{this.registerGuid(lt),lt.return=ee;const we=this.guidMap.get(lt.spirit);ee.spirits[gt].spirit=we,we.returns??=[],we.returns.push(lt);const ge=this.guidMap.get(lt.tree);ee.spirits[gt].tree=ge,ge.visit=lt})})}initializeSpiritTrees(){this.spiritTreeConfig.items.forEach(ee=>{const Oe=this.guidMap.get(ee.node);Oe||console.error("Node not found",ee.node),ee.node=Oe,Oe.spiritTree=ee,this.initializeNode(Oe)})}initializeNode(ee,Oe){const lt=gt=>{const we=this.guidMap.get(gt);return this.initializeNode(we,ee)};if(Oe&&(ee.prev=Oe),"string"==typeof ee.n&&(ee.n=lt(ee.n)),"string"==typeof ee.nw&&(ee.nw=lt(ee.nw)),"string"==typeof ee.ne&&(ee.ne=lt(ee.ne)),"string"==typeof ee.item){const gt=this.guidMap.get(ee.item);gt||console.error("Node item not found",ee,ee.item),ee.item=gt,gt.nodes??=[],gt.nodes.push(ee)}return ee.unlocked=this._storageService.unlocked.has(ee.guid),ee.hiddenItems?.length&&ee.hiddenItems.forEach((gt,we)=>{if("string"!=typeof gt)return;const ge=this.guidMap.get(gt);ge||console.error("Node hidden item not found",ee,gt),ee.hiddenItems[we]=ge,ge.hiddenNodes??=[],ge.hiddenNodes.push(ee),ee.unlocked&&(ge.unlocked=!0,this._storageService.unlocked.add(ge.guid))}),ee}initializeEvents(){this.eventConfig.items.forEach(ee=>{ee.instances?.forEach((Oe,lt)=>{this.registerGuid(Oe),Oe.number=lt+1,Oe.date=e.O.fromInterfaceSky(Oe.date),Oe.endDate=e.O.fromInterfaceSky(Oe.endDate).endOf("day"),Oe.event=ee,Oe.shops?.forEach((gt,we)=>{gt=this.guidMap.get(gt),Oe.shops[we]=gt,gt.event=Oe}),Oe.spirits?.forEach(gt=>{gt.eventInstance=Oe;const we=this.guidMap.get(gt.spirit);we||console.error("Spirit not found",gt.spirit),gt.spirit=we,gt.spirit.events=[],gt.spirit.events.push(gt);const ge=this.guidMap.get(gt.tree);ge||console.error("Tree not found",gt.tree),gt.tree=ge,ge.eventInstanceSpirit=gt})})})}initializeShops(){this.shopConfig.items.forEach(ee=>{if(ee.spirit){const Oe=this.guidMap.get(ee.spirit);ee.spirit=Oe,Oe.shops??=[],Oe.shops.push(ee)}ee.iaps?.forEach((Oe,lt)=>{Oe=this.guidMap.get(Oe),ee.iaps[lt]=Oe,Oe.shop=ee,Oe.bought=this._storageService.unlocked.has(Oe.guid),Oe.items?.forEach((gt,we)=>{const ge=this.guidMap.get(gt);ge||console.error("Item not found",gt),Oe.items[we]=ge,ge.iaps??=[],ge.iaps.push(Oe),Oe.bought&&(ge.unlocked=!0,this._storageService.unlocked.add(ge.guid))})})})}initializeItems(){this.itemConfig.items.forEach(ee=>{ee.unlocked||=this._storageService.unlocked.has(ee.guid),ee.order??=999999})}initializeSeasonItems(){for(const ee of this.seasonConfig.items){for(const Oe of ee.spirits??[])if(Oe?.tree?.node)for(const lt of Q.f.getItems(Oe.tree.node,!0))lt.season=ee;for(const Oe of ee.shops??[])for(const lt of Oe.iaps??[])for(const gt of lt.items??[])gt.season=ee}}initializeWingedLight(){this.wingedLightConfig.items.forEach(ee=>{ee.unlocked=this._storageService.unlockedCol.has(ee.guid)})}exposeData(){window.skyData={areaConfig:this.areaConfig,spiritTreeConfig:this.spiritTreeConfig,eventConfig:this.eventConfig,itemConfig:this.itemConfig,nodeConfig:this.nodeConfig,questConfig:this.questConfig,realmConfig:this.realmConfig,seasonConfig:this.seasonConfig,shopConfig:this.shopConfig,spiritConfig:this.spiritConfig,travelingSpiritConfig:this.travelingSpiritConfig,returningSpiritsConfig:this.returningSpiritsConfig,wingedLightConfig:this.wingedLightConfig},window.skyGuids=this.guidMap,window.NodeHelper=Q.f,window.DateHelper=e.O,window.CostHelper=me.T,window.ItemHelper=Ae;const ee="color:cyan;";console.log("To view loaded data, see %cwindow.skyData%c.",ee,""),console.log("You can also use the helpers %cNodeHelper%c, %cDateHelper%c and %cCostHelper%c.",ee,"",ee,"",ee,"")}reloadUnlocked(){this.itemConfig.items.forEach(ee=>{ee.unlocked=this._storageService.unlocked.has(ee.guid)}),this.nodeConfig.items.forEach(ee=>{ee.unlocked=this._storageService.unlocked.has(ee.guid)}),this.wingedLightConfig.items.forEach(ee=>{ee.unlocked=this._storageService.unlockedCol.has(ee.guid)})}initializeGuids(ee){for(const Oe of ee)Oe.items.forEach(lt=>this.registerGuid(lt))}registerGuid(ee){if(!ee.guid)throw new Error(`GUID not defined on: ${JSON.stringify(ee)}`);if(10!==ee.guid.length&&console.error("GUID unexpected length:",ee.guid),this.guidMap.has(ee.guid))throw new Error(`GUID ${ee.guid} already registered!`);this.guidMap.set(ee.guid,ee)}validate(){const ee=new Set(this.areaConfig.items.flatMap(lt=>lt.wingedLights||[]).map(lt=>lt.guid)),Oe=this.wingedLightConfig.items.filter(lt=>!ee.has(lt.guid));Oe.length&&console.error("Winged Light not found in areas:",Oe)}static#e=this.\u0275fac=function(Oe){return new(Oe||Ue)(Y.LFG(ne.eN),Y.LFG(be.V))};static#t=this.\u0275prov=Y.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}return Ue})()},9140:(Pt,ke,M)=>{"use strict";M.d(ke,{V:()=>X});var g=M(1699);let X=(()=>{class Y{constructor(){this.unlocked=new Set,this.unlockedCol=new Set,this.initializeItems(),this.initializeCol()}initializeItems(){const q=localStorage.getItem("unlocked");(q?.length&&q.split(",")||[]).forEach(Q=>this.unlocked.add(Q))}add(...q){q?.forEach(e=>this.unlocked.add(e))}remove(...q){q?.forEach(e=>this.unlocked.delete(e))}serializeUnlocked(){return[...this.unlocked].join(",")}save(){const q=this.serializeUnlocked();localStorage.setItem("unlocked",q)}initializeCol(){const q=localStorage.getItem("col.unlocked");(q?.length&&q.split(",")||[]).forEach(Q=>this.unlockedCol.add(Q))}addCol(...q){q?.forEach(e=>this.unlockedCol.add(e))}removeCol(...q){q?.forEach(e=>this.unlockedCol.delete(e))}serializeUnlockedCol(){return[...this.unlockedCol].join(",")}saveCol(){const q=this.serializeUnlockedCol();localStorage.setItem("col.unlocked",q)}static#e=this.\u0275fac=function(e){return new(e||Y)};static#t=this.\u0275prov=g.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"})}return Y})()},6034:(Pt,ke,M)=>{"use strict";var g=M(6480),X=M(4860),Y=M(140),ce=M(1134),q=M(7723),e=M(1699),Q=M(6575);function Le(r,f){1&r&&(e.TgZ(0,"div",30),e._UZ(1,"img",31),e.qZA())}function pe(r,f){1&r&&e.GkF(0)}function me(r,f){1&r&&e.GkF(0)}function Ae(r,f){1&r&&e.GkF(0)}let ne=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-credits"]],decls:119,vars:3,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2"],[1,"sky-card","mt"],[1,"h3"],[1,"sky-card-body"],[1,"container","ws-pl"],["href","https://github.com/Silverfeelin/SkyGame-Planner/","target","_blank"],["href","https://github.com/Silverfeelin/SkyGame-Planner/blob/master/LICENSE","target","_blank"],["href","https://www.thatskygame.com/","target","_blank"],["href","https://thatgamecompany.com/","target","_blank"],["href","https://github.com/Silverfeelin/SkyGame-Planner/blob/master/package.json","target","_blank"],["href","https://www.npmjs.com/","target","_blank"],["discord",""],["href","https://sky-children-of-the-light.fandom.com/wiki/Sky:_Children_of_the_Light_Wiki","target","_blank"],["href","https://www.fandom.com/licensing","target","_blank"],[1,"mb-0"],["href","https://sky-children-of-the-light.fandom.com/wiki/Special:Community"],[1,"flex-credits"],[1,"flex-credit"],[1,"credit-name"],[1,"credit-handle","c-accent"],[4,"ngTemplateOutlet"],[1,"credit-handle-name"],[1,"container","ws-pl","mt"],["href","https://www.youtube.com/channel/UCTdBaJiejXA0WSOkPX0YO0w","target","_blank"],["href","https://www.youtube.com/@noobmode","target","_blank"],["href","https://www.youtube.com/@AppUnwrapper","target","_blank"],["href","https://www.youtube.com/@SkyBat","target","_blank"],["href","https://github.com/Silverfeelin/SkyGame-Planner/issues?q=is%3Aissue","target","_blank"],[1,"d-inline-block"],["src","assets/external/discord-mark-blue.svg","loading","lazy",1,"img-discord"]],template:function(c,u){if(1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Credits"),e.qZA()()(),e.TgZ(4,"div",3)(5,"div",1)(6,"h2",4)(7,"mat-icon"),e._uU(8,"note"),e.qZA(),e._uU(9," License "),e.qZA()(),e.TgZ(10,"div",5)(11,"div",6)(12,"p"),e._uU(13," Source code is publicly available "),e.TgZ(14,"a",7),e._uU(15,"on GitHub"),e.qZA(),e._uU(16," under the "),e.TgZ(17,"a",8),e._uU(18,"MIT License"),e.qZA(),e._uU(19,". "),e.qZA(),e.TgZ(20,"p"),e._uU(21," This project hosts some media and screenshots captured from the game "),e.TgZ(22,"a",9),e._uU(23,"Sky: Children of the Light"),e.qZA(),e._uU(24," developed by "),e.TgZ(25,"a",10),e._uU(26,"thatgamecompany"),e.qZA(),e._uU(27,"."),e._UZ(28,"br"),e._uU(29," Aforementioned license covers which assets are excluded from the terms of the license. "),e.qZA(),e.TgZ(30,"p"),e._uU(31," Sky Planner is non-commercial and is made available for informational purposes. "),e.qZA(),e.TgZ(32,"p"),e._uU(33," This project uses many public packages. These are listed in the "),e.TgZ(34,"a",11),e._uU(35,"package.json"),e.qZA(),e._uU(36," file."),e._UZ(37,"br"),e._uU(38," For respective licenses, please look up the packages on "),e.TgZ(39,"a",12),e._uU(40,"npm"),e.qZA(),e._uU(41,". "),e.qZA()()()(),e.YNc(42,Le,2,0,"ng-template",null,13,e.W1O),e.TgZ(44,"div",3)(45,"div",1)(46,"h2",4)(47,"mat-icon"),e._uU(48,"favorite"),e.qZA(),e._uU(49," Attribution "),e.qZA()(),e.TgZ(50,"div",5)(51,"div",6)(52,"p"),e._uU(53," Various images such as item icons and spirits are loaded directly from the "),e.TgZ(54,"a",14),e._uU(55,"Sky: Children of the Light Fandom wiki"),e.qZA(),e._uU(56,"."),e._UZ(57,"br"),e._uU(58," This project only links to the original assets. For more information refer to "),e.TgZ(59,"a",15),e._uU(60,"Fandom licensing page"),e.qZA(),e._uU(61,"."),e._UZ(62,"br"),e.qZA(),e.TgZ(63,"p",16),e._uU(64," A special thanks to the wiki contributors for all their hard work and for giving me permission to show images from the wiki on Sky Planner. You can find out more about "),e.TgZ(65,"a",17),e._uU(66,"the wiki contributors here"),e.qZA(),e._uU(67,"."),e._UZ(68,"br"),e._uU(69," In particular many icons on the wiki are contributed to the wiki by: "),e.qZA(),e.TgZ(70,"div",18)(71,"div",19)(72,"div",20),e._uU(73,"Morybel"),e.qZA(),e.TgZ(74,"div",21),e.YNc(75,pe,1,0,"ng-container",22),e.TgZ(76,"span",23),e._uU(77,"morybel"),e.qZA()()(),e.TgZ(78,"div",19)(79,"div",20),e._uU(80,"Mimi"),e.qZA(),e.TgZ(81,"div",21),e.YNc(82,me,1,0,"ng-container",22),e.TgZ(83,"span",23),e._uU(84,"mimi4117"),e.qZA()()(),e.TgZ(85,"div",19)(86,"div",20),e._uU(87,"Ray"),e.qZA(),e.TgZ(88,"div",21),e.YNc(89,Ae,1,0,"ng-container",22),e.TgZ(90,"span",23),e._uU(91,"ray808080"),e.qZA()()()()(),e.TgZ(92,"div",24)(93,"p"),e._uU(94," Some Traveling Spirit price corrections were made based on infographics by Jed#9275 (new Discord handle unknown). "),e.qZA(),e.TgZ(95,"p"),e._uU(96," Some YouTube videos by "),e.TgZ(97,"a",25),e._uU(98,"nastymold"),e.qZA(),e._uU(99,", "),e.TgZ(100,"a",26),e._uU(101,"Noob Mode"),e.qZA(),e._uU(102,", "),e.TgZ(103,"a",27),e._uU(104,"App Unwrapper"),e.qZA(),e._uU(105," and "),e.TgZ(106,"a",28),e._uU(107,"Sky Bat"),e.qZA(),e._uU(108," were used as a reference to find missing information for older events."),e._UZ(109,"br"),e._uU(110," Go check out their content! "),e.qZA(),e.TgZ(111,"p"),e._uU(112," Thank you for the suggestions to improve Sky Planner:"),e._UZ(113,"br"),e._uU(114," Daw, Morybel, oWishy "),e.TgZ(115,"i")(116,"a",29),e._uU(117,"and more"),e.qZA()(),e._uU(118,". "),e.qZA()()()()),2&c){const y=e.MAs(43);e.xp6(75),e.Q6J("ngTemplateOutlet",y),e.xp6(7),e.Q6J("ngTemplateOutlet",y),e.xp6(7),e.Q6J("ngTemplateOutlet",y)}},dependencies:[Q.tP,Y.Hw],styles:[".img-discord[_ngcontent-%COMP%]{height:20px}.flex-credits[_ngcontent-%COMP%]{margin-top:var(--padding-content);display:flex;gap:var(--padding-content)}.flex-credit[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:start;gap:4px;text-decoration:none;padding:var(--padding-content)}.flex-credit[_ngcontent-%COMP%]:link{cursor:pointer}.credit-name[_ngcontent-%COMP%]{text-align:left;font-weight:700}.credit-handle-name[_ngcontent-%COMP%]{padding-left:6px}.credit-handle[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:link{color:var(--color-accent);text-decoration:none}.credit-handle[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:link:hover{color:var(--color-link-hover)}"]})}return r})();var be=M(6841),xe=M(3311),Ue=M(3740);let Ye=(()=>{class r{constructor(i){this._zone=i,this._copyItem=!1,this._copyNode=!1,this._copyShop=!1,window.debug=this}set copyItem(i){this._zone.run(()=>{this._copyItem=!!i})}get copyItem(){return this._copyItem}set copyNode(i){this._zone.run(()=>{this._copyNode=!!i})}get copyNode(){return this._copyNode}set copyShop(i){this._zone.run(()=>{this._copyShop=!!i})}get copyShop(){return this._copyShop}static#e=this.\u0275fac=function(c){return new(c||r)(e.LFG(e.R0b))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var ee=M(9877);let Oe=(()=>{class r{constructor(i){this._router=i,this.itemToggled=new ee.x,this.searchReset=new ee.x,document.addEventListener("keydown",c=>{this.onKeyDown(c)})}toggleItem(i){this.itemToggled.next(i)}onKeyDown(i){i.ctrlKey&&i.shiftKey&&"F"===i.key.toUpperCase()&&(i.preventDefault(),this.searchReset.next(),"/"!==(this._router.url.split("?")[0]||"/")&&this._router.navigate(["/"],{skipLocationChange:!1,queryParams:{focus:"1"}}))}static#e=this.\u0275fac=function(c){return new(c||r)(e.LFG(q.F0))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var lt=M(9140);let gt=(()=>{class r{constructor(i,c){this._eventService=i,this._storageService=c}togglePurchased(i){i&&(i.bought?this.lockIap(i):this.unlockIap(i),i.items?.forEach(u=>{this._eventService.toggleItem(u)}))}unlockIap(i){if(i.items?.find(u=>u.unlocked)&&!confirm("This IAP contains an item that is already unlocked. Do you want to continue?"))return;const c=[i.guid];i.bought=!0,i.items?.forEach(u=>{u.unlocked=!0,c.push(u.guid)}),this._storageService.add(...c),this._storageService.save()}lockIap(i){const c=[i.guid];i.bought=!1,i.items?.forEach(u=>{u.unlocked=!!u.iaps?.find(y=>y.bought),u.unlocked||c.push(u.guid)}),this._storageService.remove(...c),this._storageService.save()}static#e=this.\u0275fac=function(c){return new(c||r)(e.LFG(Oe),e.LFG(lt.V))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var we=M(2235),ge=M(6290),le=M(4980),ct=M(384),Je=M(9912),Ze=M(1287),it=M(2602),He=M(7825);const pt=["addListener","removeListener"],Qe=["addEventListener","removeEventListener"],Lt=["on","off"];function rt(r,f,i,c){if((0,it.m)(i)&&(c=i,i=void 0),c)return rt(r,f,i).pipe((0,He.Z)(c));const[u,y]=function ae(r){return(0,it.m)(r.addEventListener)&&(0,it.m)(r.removeEventListener)}(r)?Qe.map(I=>J=>r[I](f,J,i)):function Re(r){return(0,it.m)(r.addListener)&&(0,it.m)(r.removeListener)}(r)?pt.map(ht(r,f)):function ft(r){return(0,it.m)(r.on)&&(0,it.m)(r.off)}(r)?Lt.map(ht(r,f)):[];if(!u&&(0,Ze.z)(r))return(0,Je.z)(I=>rt(I,f,i))((0,ct.Xf)(r));if(!u)throw new TypeError("Invalid event target");return new we.y(I=>{const J=(...K)=>I.next(1<K.length?K:K[0]);return u(J),()=>y(J)})}function ht(r,f){return i=>c=>r[i](f,c)}var ue=M(1826),Ee=M(7426);function Me(r=0,f,i=ue.P){let c=-1;return null!=f&&((0,Ee.K)(f)?i=f:c=f),new we.y(u=>{let y=function De(r){return r instanceof Date&&!isNaN(r)}(r)?+r-i.now():r;y<0&&(y=0);let I=0;return i.schedule(function(){u.closed||(u.next(I++),0<=c?this.schedule(void 0,c):u.complete())},y)})}const{isArray:Ve}=Array;function et(r){return 1===r.length&&Ve(r[0])?r[0]:r}var nt=M(5678);function cn(...r){return 1===(r=et(r)).length?(0,ct.Xf)(r[0]):new we.y(function ut(r){return f=>{let i=[];for(let c=0;i&&!f.closed&&c<r.length;c++)i.push((0,ct.Xf)(r[c]).subscribe((0,nt.x)(f,u=>{if(i){for(let y=0;y<i.length;y++)y!==c&&i[y].unsubscribe();i=null}f.next(u)})))}}(r))}var sn=M(7835),Zt=M(6190);function wt(...r){const f=(0,Zt.jO)(r),i=et(r);return i.length?new we.y(c=>{let u=i.map(()=>[]),y=i.map(()=>!1);c.add(()=>{u=y=null});for(let I=0;!c.closed&&I<i.length;I++)(0,ct.Xf)(i[I]).subscribe((0,nt.x)(c,J=>{if(u[I].push(J),u.every(K=>K.length)){const K=u.map(Se=>Se.shift());c.next(f?f(...K):K),u.some((Se,Fe)=>!Se.length&&y[Fe])&&c.complete()}},()=>{y[I]=!0,!u[I].length&&c.complete()}));return()=>{u=y=null}}):ge.E}var wn=M(5823),fe=M(274),ye=M(4520),Be=M(1527),ze=M(3738),_t=M(9736),Nt=M(4114),Dn=M(204),on=M(2707);function Rt(...r){const f=(0,Zt.jO)(r);return(0,Nt.e)((i,c)=>{const u=r.length,y=new Array(u);let I=r.map(()=>!1),J=!1;for(let K=0;K<u;K++)(0,ct.Xf)(r[K]).subscribe((0,nt.x)(c,Se=>{y[K]=Se,!J&&!I[K]&&(I[K]=!0,(J=I.every(Dn.y))&&(I=null))},on.Z));i.subscribe((0,nt.x)(c,K=>{if(J){const Se=[K,...y];c.next(f?f(...Se):Se)}}))})}var xt=M(8037);function Zn(r,f){return f?i=>(0,wn.z)(f.pipe((0,Be.q)(1),function At(){return(0,Nt.e)((r,f)=>{r.subscribe((0,nt.x)(f,on.Z))})}()),i.pipe(Zn(r))):(0,Je.z)((i,c)=>r(i,c).pipe((0,Be.q)(1),(0,xt.h)(i)))}function ri(r,f=ue.z){const i=Me(r,f);return Zn(()=>i)}var tn=M(1891),dn=(M(5043),M(3317),M(5357),M(5584)),gn=(M(8849),{left:"right",right:"left",bottom:"top",top:"bottom"});function Ti(r){return r.replace(/left|right|bottom|top/g,function(f){return gn[f]})}function gi(r){return r.split("-")[0]}var Ri={start:"end",end:"start"};function Mi(r){return r.replace(/start|end/g,function(f){return Ri[f]})}var Bn="top",Vn="bottom",yn="right",qn="left",Ai="auto",qi=[Bn,Vn,yn,qn],Zi="start",co="end",at="viewport",$e="popper",j=qi.reduce(function(r,f){return r.concat([f+"-"+Zi,f+"-"+co])},[]),ie=[].concat(qi,[Ai]).reduce(function(r,f){return r.concat([f,f+"-"+Zi,f+"-"+co])},[]),Ce=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Ke(r){if(null==r)return window;if("[object Window]"!==r.toString()){var f=r.ownerDocument;return f&&f.defaultView||window}return r}function Dt(r){return r instanceof Ke(r).Element||r instanceof Element}function St(r){return r instanceof Ke(r).HTMLElement||r instanceof HTMLElement}function It(r){return!(typeof ShadowRoot>"u")&&(r instanceof Ke(r).ShadowRoot||r instanceof ShadowRoot)}function qt(r){return((Dt(r)?r.ownerDocument:r.document)||window.document).documentElement}var en=Math.max,di=Math.min,ln=Math.round;function $n(){var r=navigator.userAgentData;return null!=r&&r.brands?r.brands.map(function(f){return f.brand+"/"+f.version}).join(" "):navigator.userAgent}function Jt(){return!/^((?!chrome|android).)*safari/i.test($n())}function Un(r,f,i){void 0===f&&(f=!1),void 0===i&&(i=!1);var c=r.getBoundingClientRect(),u=1,y=1;f&&St(r)&&(u=r.offsetWidth>0&&ln(c.width)/r.offsetWidth||1,y=r.offsetHeight>0&&ln(c.height)/r.offsetHeight||1);var J=(Dt(r)?Ke(r):window).visualViewport,K=!Jt()&&i,Se=(c.left+(K&&J?J.offsetLeft:0))/u,Fe=(c.top+(K&&J?J.offsetTop:0))/y,Tt=c.width/u,vt=c.height/y;return{width:Tt,height:vt,top:Fe,right:Se+Tt,bottom:Fe+vt,left:Se,x:Se,y:Fe}}function ni(r){var f=Ke(r);return{scrollLeft:f.pageXOffset,scrollTop:f.pageYOffset}}function nn(r){return Un(qt(r)).left+ni(r).scrollLeft}function zn(r){return Ke(r).getComputedStyle(r)}function Vt(r){return r?(r.nodeName||"").toLowerCase():null}function mn(r){return"html"===Vt(r)?r:r.assignedSlot||r.parentNode||(It(r)?r.host:null)||qt(r)}function Ii(r){var f=zn(r);return/auto|scroll|overlay|hidden/.test(f.overflow+f.overflowY+f.overflowX)}function bi(r){return["html","body","#document"].indexOf(Vt(r))>=0?r.ownerDocument.body:St(r)&&Ii(r)?r:bi(mn(r))}function Vi(r,f){var i;void 0===f&&(f=[]);var c=bi(r),u=c===(null==(i=r.ownerDocument)?void 0:i.body),y=Ke(c),I=u?[y].concat(y.visualViewport||[],Ii(c)?c:[]):c,J=f.concat(I);return u?J:J.concat(Vi(mn(I)))}function _o(r){return["table","td","th"].indexOf(Vt(r))>=0}function hn(r){return St(r)&&"fixed"!==zn(r).position?r.offsetParent:null}function to(r){for(var f=Ke(r),i=hn(r);i&&_o(i)&&"static"===zn(i).position;)i=hn(i);return i&&("html"===Vt(i)||"body"===Vt(i)&&"static"===zn(i).position)?f:i||function En(r){var f=/firefox/i.test($n());if(/Trident/i.test($n())&&St(r)&&"fixed"===zn(r).position)return null;var u=mn(r);for(It(u)&&(u=u.host);St(u)&&["html","body"].indexOf(Vt(u))<0;){var y=zn(u);if("none"!==y.transform||"none"!==y.perspective||"paint"===y.contain||-1!==["transform","perspective"].indexOf(y.willChange)||f&&"filter"===y.willChange||f&&y.filter&&"none"!==y.filter)return u;u=u.parentNode}return null}(r)||f}function zo(r,f){var i=f.getRootNode&&f.getRootNode();if(r.contains(f))return!0;if(i&&It(i)){var c=f;do{if(c&&r.isSameNode(c))return!0;c=c.parentNode||c.host}while(c)}return!1}function Ji(r){return Object.assign({},r,{left:r.x,top:r.y,right:r.x+r.width,bottom:r.y+r.height})}function Sr(r,f,i){return f===at?Ji(function Sn(r,f){var i=Ke(r),c=qt(r),u=i.visualViewport,y=c.clientWidth,I=c.clientHeight,J=0,K=0;if(u){y=u.width,I=u.height;var Se=Jt();(Se||!Se&&"fixed"===f)&&(J=u.offsetLeft,K=u.offsetTop)}return{width:y,height:I,x:J+nn(r),y:K}}(r,i)):Dt(f)?function Qs(r,f){var i=Un(r,!1,"fixed"===f);return i.top=i.top+r.clientTop,i.left=i.left+r.clientLeft,i.bottom=i.top+r.clientHeight,i.right=i.left+r.clientWidth,i.width=r.clientWidth,i.height=r.clientHeight,i.x=i.left,i.y=i.top,i}(f,i):Ji(function Si(r){var f,i=qt(r),c=ni(r),u=null==(f=r.ownerDocument)?void 0:f.body,y=en(i.scrollWidth,i.clientWidth,u?u.scrollWidth:0,u?u.clientWidth:0),I=en(i.scrollHeight,i.clientHeight,u?u.scrollHeight:0,u?u.clientHeight:0),J=-c.scrollLeft+nn(r),K=-c.scrollTop;return"rtl"===zn(u||i).direction&&(J+=en(i.clientWidth,u?u.clientWidth:0)-y),{width:y,height:I,x:J,y:K}}(qt(r)))}function no(r){return r.split("-")[1]}function er(r){return["top","bottom"].indexOf(r)>=0?"x":"y"}function xi(r){var K,f=r.reference,i=r.element,c=r.placement,u=c?gi(c):null,y=c?no(c):null,I=f.x+f.width/2-i.width/2,J=f.y+f.height/2-i.height/2;switch(u){case Bn:K={x:I,y:f.y-i.height};break;case Vn:K={x:I,y:f.y+f.height};break;case yn:K={x:f.x+f.width,y:J};break;case qn:K={x:f.x-i.width,y:J};break;default:K={x:f.x,y:f.y}}var Se=u?er(u):null;if(null!=Se){var Fe="y"===Se?"height":"width";switch(y){case Zi:K[Se]=K[Se]-(f[Fe]/2-i[Fe]/2);break;case co:K[Se]=K[Se]+(f[Fe]/2-i[Fe]/2)}}return K}function gr(r){return Object.assign({},{top:0,right:0,bottom:0,left:0},r)}function tr(r,f){return f.reduce(function(i,c){return i[c]=r,i},{})}function nr(r,f){void 0===f&&(f={});var c=f.placement,u=void 0===c?r.placement:c,y=f.strategy,I=void 0===y?r.strategy:y,J=f.boundary,K=void 0===J?"clippingParents":J,Se=f.rootBoundary,Fe=void 0===Se?at:Se,Tt=f.elementContext,vt=void 0===Tt?$e:Tt,Ft=f.altBoundary,jn=void 0!==Ft&&Ft,Cn=f.padding,an=void 0===Cn?0:Cn,ii=gr("number"!=typeof an?an:tr(an,qi)),eo=r.rects.popper,oi=r.elements[jn?vt===$e?"reference":$e:vt],Wn=function mi(r,f,i,c){var u="clippingParents"===f?function Fo(r){var f=Vi(mn(r)),c=["absolute","fixed"].indexOf(zn(r).position)>=0&&St(r)?to(r):r;return Dt(c)?f.filter(function(u){return Dt(u)&&zo(u,c)&&"body"!==Vt(u)}):[]}(r):[].concat(f),y=[].concat(u,[i]),J=y.reduce(function(K,Se){var Fe=Sr(r,Se,c);return K.top=en(Fe.top,K.top),K.right=di(Fe.right,K.right),K.bottom=di(Fe.bottom,K.bottom),K.left=en(Fe.left,K.left),K},Sr(r,y[0],c));return J.width=J.right-J.left,J.height=J.bottom-J.top,J.x=J.left,J.y=J.top,J}(Dt(oi)?oi:oi.contextElement||qt(r.elements.popper),K,Fe,I),fi=Un(r.elements.reference),Hi=xi({reference:fi,element:eo,strategy:"absolute",placement:u}),ki=Ji(Object.assign({},eo,Hi)),Ro=vt===$e?ki:fi,Io={top:Wn.top-Ro.top+ii.top,bottom:Ro.bottom-Wn.bottom+ii.bottom,left:Wn.left-Ro.left+ii.left,right:Ro.right-Wn.right+ii.right},mo=r.modifiersData.offset;if(vt===$e&&mo){var Hr=mo[u];Object.keys(Io).forEach(function(Ar){var ua=[yn,Vn].indexOf(Ar)>=0?1:-1,da=[Bn,Vn].indexOf(Ar)>=0?"y":"x";Io[Ar]+=Hr[da]*ua})}return Io}const xo={name:"flip",enabled:!0,phase:"main",fn:function Vr(r){var f=r.state,i=r.options,c=r.name;if(!f.modifiersData[c]._skip){for(var u=i.mainAxis,y=void 0===u||u,I=i.altAxis,J=void 0===I||I,K=i.fallbackPlacements,Se=i.padding,Fe=i.boundary,Tt=i.rootBoundary,vt=i.altBoundary,Ft=i.flipVariations,jn=void 0===Ft||Ft,Cn=i.allowedAutoPlacements,an=f.options.placement,ii=gi(an),eo=K||(ii!==an&&jn?function Zr(r){if(gi(r)===Ai)return[];var f=Ti(r);return[Mi(r),f,Mi(f)]}(an):[Ti(an)]),oi=[an].concat(eo).reduce(function(La,Js){return La.concat(gi(Js)===Ai?function ir(r,f){void 0===f&&(f={});var u=f.boundary,y=f.rootBoundary,I=f.padding,J=f.flipVariations,K=f.allowedAutoPlacements,Se=void 0===K?ie:K,Fe=no(f.placement),Tt=Fe?J?j:j.filter(function(jn){return no(jn)===Fe}):qi,vt=Tt.filter(function(jn){return Se.indexOf(jn)>=0});0===vt.length&&(vt=Tt);var Ft=vt.reduce(function(jn,Cn){return jn[Cn]=nr(r,{placement:Cn,boundary:u,rootBoundary:y,padding:I})[gi(Cn)],jn},{});return Object.keys(Ft).sort(function(jn,Cn){return Ft[jn]-Ft[Cn]})}(f,{placement:Js,boundary:Fe,rootBoundary:Tt,padding:Se,flipVariations:jn,allowedAutoPlacements:Cn}):Js)},[]),Wn=f.rects.reference,fi=f.rects.popper,Hi=new Map,ki=!0,Ro=oi[0],Io=0;Io<oi.length;Io++){var mo=oi[Io],Hr=gi(mo),Ar=no(mo)===Zi,ua=[Bn,Vn].indexOf(Hr)>=0,da=ua?"width":"height",jr=nr(f,{placement:mo,boundary:Fe,rootBoundary:Tt,altBoundary:vt,padding:Se}),Ms=ua?Ar?yn:qn:Ar?Vn:Bn;Wn[da]>fi[da]&&(Ms=Ti(Ms));var mu=Ti(Ms),qs=[];if(y&&qs.push(jr[Hr]<=0),J&&qs.push(jr[Ms]<=0,jr[mu]<=0),qs.every(function(La){return La})){Ro=mo,ki=!1;break}Hi.set(mo,qs)}if(ki)for(var al=function(Js){var wc=oi.find(function(ll){var ha=Hi.get(ll);if(ha)return ha.slice(0,Js).every(function(mh){return mh})});if(wc)return Ro=wc,"break"},Cc=jn?3:1;Cc>0&&"break"!==al(Cc);Cc--);f.placement!==Ro&&(f.modifiersData[c]._skip=!0,f.placement=Ro,f.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function vn(r,f,i){return en(r,di(f,i))}function zt(r){var f=Un(r),i=r.offsetWidth,c=r.offsetHeight;return Math.abs(f.width-i)<=1&&(i=f.width),Math.abs(f.height-c)<=1&&(c=f.height),{x:r.offsetLeft,y:r.offsetTop,width:i,height:c}}const bn={name:"preventOverflow",enabled:!0,phase:"main",fn:function _i(r){var f=r.state,i=r.options,c=r.name,u=i.mainAxis,y=void 0===u||u,I=i.altAxis,J=void 0!==I&&I,vt=i.tether,Ft=void 0===vt||vt,jn=i.tetherOffset,Cn=void 0===jn?0:jn,an=nr(f,{boundary:i.boundary,rootBoundary:i.rootBoundary,padding:i.padding,altBoundary:i.altBoundary}),ii=gi(f.placement),ti=no(f.placement),eo=!ti,oi=er(ii),Wn=function $r(r){return"x"===r?"y":"x"}(oi),fi=f.modifiersData.popperOffsets,Hi=f.rects.reference,ki=f.rects.popper,Ro="function"==typeof Cn?Cn(Object.assign({},f.rects,{placement:f.placement})):Cn,Io="number"==typeof Ro?{mainAxis:Ro,altAxis:Ro}:Object.assign({mainAxis:0,altAxis:0},Ro),mo=f.modifiersData.offset?f.modifiersData.offset[f.placement]:null,Hr={x:0,y:0};if(fi){if(y){var Ar,ua="y"===oi?Bn:qn,da="y"===oi?Vn:yn,jr="y"===oi?"height":"width",Ms=fi[oi],mu=Ms+an[ua],qs=Ms-an[da],Fa=Ft?-ki[jr]/2:0,al=ti===Zi?Hi[jr]:ki[jr],Cc=ti===Zi?-ki[jr]:-Hi[jr],cl=f.elements.arrow,La=Ft&&cl?zt(cl):{width:0,height:0},Js=f.modifiersData["arrow#persistent"]?f.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},wc=Js[ua],ll=Js[da],ha=vn(0,Hi[jr],La[jr]),mh=eo?Hi[jr]/2-Fa-ha-wc-Io.mainAxis:al-ha-wc-Io.mainAxis,F0=eo?-Hi[jr]/2+Fa+ha+ll+Io.mainAxis:Cc+ha+ll+Io.mainAxis,_h=f.elements.arrow&&to(f.elements.arrow),L0=_h?"y"===oi?_h.clientTop||0:_h.clientLeft||0:0,Sg=null!=(Ar=mo?.[oi])?Ar:0,U0=Ms+F0-Sg,Ig=vn(Ft?di(mu,Ms+mh-Sg-L0):mu,Ms,Ft?en(qs,U0):qs);fi[oi]=Ig,Hr[oi]=Ig-Ms}if(J){var xg,Ba=fi[Wn],_u="y"===Wn?"height":"width",Og=Ba+an["x"===oi?Bn:qn],Ng=Ba-an["x"===oi?Vn:yn],vh=-1!==[Bn,qn].indexOf(ii),Pg=null!=(xg=mo?.[Wn])?xg:0,kg=vh?Og:Ba-Hi[_u]-ki[_u]-Pg+Io.altAxis,yh=vh?Ba+Hi[_u]+ki[_u]-Pg-Io.altAxis:Ng,Dh=Ft&&vh?function yi(r,f,i){var c=vn(r,f,i);return c>i?i:c}(kg,Ba,yh):vn(Ft?kg:Og,Ba,Ft?yh:Ng);fi[Wn]=Dh,Hr[Wn]=Dh-Ba}f.modifiersData[c]=Hr}},requiresIfExists:["offset"]},Gr={name:"arrow",enabled:!0,phase:"main",fn:function mr(r){var f,i=r.state,c=r.name,u=r.options,y=i.elements.arrow,I=i.modifiersData.popperOffsets,J=gi(i.placement),K=er(J),Fe=[qn,yn].indexOf(J)>=0?"height":"width";if(y&&I){var Tt=function(f,i){return gr("number"!=typeof(f="function"==typeof f?f(Object.assign({},i.rects,{placement:i.placement})):f)?f:tr(f,qi))}(u.padding,i),vt=zt(y),Ft="y"===K?Bn:qn,jn="y"===K?Vn:yn,Cn=i.rects.reference[Fe]+i.rects.reference[K]-I[K]-i.rects.popper[Fe],an=I[K]-i.rects.reference[K],ii=to(y),ti=ii?"y"===K?ii.clientHeight||0:ii.clientWidth||0:0,fi=ti/2-vt[Fe]/2+(Cn/2-an/2),Hi=vn(Tt[Ft],fi,ti-vt[Fe]-Tt[jn]);i.modifiersData[c]=((f={})[K]=Hi,f.centerOffset=Hi-fi,f)}},effect:function io(r){var f=r.state,c=r.options.element,u=void 0===c?"[data-popper-arrow]":c;null!=u&&("string"==typeof u&&!(u=f.elements.popper.querySelector(u))||zo(f.elements.popper,u)&&(f.elements.arrow=u))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Xt(r,f,i){void 0===i&&(i=!1);var c=St(f),u=St(f)&&function jt(r){var f=r.getBoundingClientRect(),i=ln(f.width)/r.offsetWidth||1,c=ln(f.height)/r.offsetHeight||1;return 1!==i||1!==c}(f),y=qt(f),I=Un(r,u,i),J={scrollLeft:0,scrollTop:0},K={x:0,y:0};return(c||!c&&!i)&&(("body"!==Vt(f)||Ii(y))&&(J=function Jn(r){return r!==Ke(r)&&St(r)?function Lo(r){return{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}}(r):ni(r)}(f)),St(f)?((K=Un(f,!0)).x+=f.clientLeft,K.y+=f.clientTop):y&&(K.x=nn(y))),{x:I.left+J.scrollLeft-K.x,y:I.top+J.scrollTop-K.y,width:I.width,height:I.height}}function Yn(r){var f=new Map,i=new Set,c=[];function u(y){i.add(y.name),[].concat(y.requires||[],y.requiresIfExists||[]).forEach(function(J){if(!i.has(J)){var K=f.get(J);K&&u(K)}}),c.push(y)}return r.forEach(function(y){f.set(y.name,y)}),r.forEach(function(y){i.has(y.name)||u(y)}),c}function Oo(r){var f;return function(){return f||(f=new Promise(function(i){Promise.resolve().then(function(){f=void 0,i(r())})})),f}}var lo={placement:"bottom",modifiers:[],strategy:"absolute"};function Bo(){for(var r=arguments.length,f=new Array(r),i=0;i<r;i++)f[i]=arguments[i];return!f.some(function(c){return!(c&&"function"==typeof c.getBoundingClientRect)})}function Ht(r){void 0===r&&(r={});var i=r.defaultModifiers,c=void 0===i?[]:i,u=r.defaultOptions,y=void 0===u?lo:u;return function(J,K,Se){void 0===Se&&(Se=y);var Fe={placement:"bottom",orderedModifiers:[],options:Object.assign({},lo,y),modifiersData:{},elements:{reference:J,popper:K},attributes:{},styles:{}},Tt=[],vt=!1,Ft={state:Fe,setOptions:function(ii){var ti="function"==typeof ii?ii(Fe.options):ii;Cn(),Fe.options=Object.assign({},y,Fe.options,ti),Fe.scrollParents={reference:Dt(J)?Vi(J):J.contextElement?Vi(J.contextElement):[],popper:Vi(K)};var eo=function $i(r){var f=Yn(r);return Ce.reduce(function(i,c){return i.concat(f.filter(function(u){return u.phase===c}))},[])}(function Ci(r){var f=r.reduce(function(i,c){var u=i[c.name];return i[c.name]=u?Object.assign({},u,c,{options:Object.assign({},u.options,c.options),data:Object.assign({},u.data,c.data)}):c,i},{});return Object.keys(f).map(function(i){return f[i]})}([].concat(c,Fe.options.modifiers)));return Fe.orderedModifiers=eo.filter(function(mo){return mo.enabled}),function jn(){Fe.orderedModifiers.forEach(function(an){var ti=an.options,oi=an.effect;if("function"==typeof oi){var Wn=oi({state:Fe,name:an.name,instance:Ft,options:void 0===ti?{}:ti});Tt.push(Wn||function(){})}})}(),Ft.update()},forceUpdate:function(){if(!vt){var ii=Fe.elements,ti=ii.reference,eo=ii.popper;if(Bo(ti,eo)){Fe.rects={reference:Xt(ti,to(eo),"fixed"===Fe.options.strategy),popper:zt(eo)},Fe.reset=!1,Fe.placement=Fe.options.placement,Fe.orderedModifiers.forEach(function(mo){return Fe.modifiersData[mo.name]=Object.assign({},mo.data)});for(var Wn=0;Wn<Fe.orderedModifiers.length;Wn++)if(!0!==Fe.reset){var fi=Fe.orderedModifiers[Wn],Hi=fi.fn,ki=fi.options;"function"==typeof Hi&&(Fe=Hi({state:Fe,options:void 0===ki?{}:ki,name:fi.name,instance:Ft})||Fe)}else Fe.reset=!1,Wn=-1}}},update:Oo(function(){return new Promise(function(an){Ft.forceUpdate(),an(Fe)})}),destroy:function(){Cn(),vt=!0}};if(!Bo(J,K))return Ft;function Cn(){Tt.forEach(function(an){return an()}),Tt=[]}return Ft.setOptions(Se).then(function(an){!vt&&Se.onFirstUpdate&&Se.onFirstUpdate(an)}),Ft}}var Qi={passive:!0},vo={top:"auto",right:"auto",bottom:"auto",left:"auto"};function zr(r){var f,i=r.popper,c=r.popperRect,u=r.placement,y=r.variation,I=r.offsets,J=r.position,K=r.gpuAcceleration,Se=r.adaptive,Fe=r.roundOffsets,Tt=r.isFixed,vt=I.x,Ft=void 0===vt?0:vt,jn=I.y,Cn=void 0===jn?0:jn,an="function"==typeof Fe?Fe({x:Ft,y:Cn}):{x:Ft,y:Cn};Ft=an.x,Cn=an.y;var ii=I.hasOwnProperty("x"),ti=I.hasOwnProperty("y"),eo=qn,oi=Bn,Wn=window;if(Se){var fi=to(i),Hi="clientHeight",ki="clientWidth";fi===Ke(i)&&"static"!==zn(fi=qt(i)).position&&"absolute"===J&&(Hi="scrollHeight",ki="scrollWidth"),(u===Bn||(u===qn||u===yn)&&y===co)&&(oi=Vn,Cn-=(Tt&&fi===Wn&&Wn.visualViewport?Wn.visualViewport.height:fi[Hi])-c.height,Cn*=K?1:-1),u!==qn&&(u!==Bn&&u!==Vn||y!==co)||(eo=yn,Ft-=(Tt&&fi===Wn&&Wn.visualViewport?Wn.visualViewport.width:fi[ki])-c.width,Ft*=K?1:-1)}var Ar,mo=Object.assign({position:J},Se&&vo),Hr=!0===Fe?function rr(r){var i=r.y,u=window.devicePixelRatio||1;return{x:ln(r.x*u)/u||0,y:ln(i*u)/u||0}}({x:Ft,y:Cn}):{x:Ft,y:Cn};return Ft=Hr.x,Cn=Hr.y,Object.assign({},mo,K?((Ar={})[oi]=ti?"0":"",Ar[eo]=ii?"0":"",Ar.transform=(Wn.devicePixelRatio||1)<=1?"translate("+Ft+"px, "+Cn+"px)":"translate3d("+Ft+"px, "+Cn+"px, 0)",Ar):((f={})[oi]=ti?Cn+"px":"",f[eo]=ii?Ft+"px":"",f.transform="",f))}var yo=Ht({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function uo(r){var f=r.state,i=r.instance,c=r.options,u=c.scroll,y=void 0===u||u,I=c.resize,J=void 0===I||I,K=Ke(f.elements.popper),Se=[].concat(f.scrollParents.reference,f.scrollParents.popper);return y&&Se.forEach(function(Fe){Fe.addEventListener("scroll",i.update,Qi)}),J&&K.addEventListener("resize",i.update,Qi),function(){y&&Se.forEach(function(Fe){Fe.removeEventListener("scroll",i.update,Qi)}),J&&K.removeEventListener("resize",i.update,Qi)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function Mo(r){var f=r.state;f.modifiersData[r.name]=xi({reference:f.rects.reference,element:f.rects.popper,strategy:"absolute",placement:f.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function yr(r){var f=r.state,i=r.options,c=i.gpuAcceleration,u=void 0===c||c,y=i.adaptive,I=void 0===y||y,J=i.roundOffsets,K=void 0===J||J,Fe={placement:gi(f.placement),variation:no(f.placement),popper:f.elements.popper,popperRect:f.rects.popper,gpuAcceleration:u,isFixed:"fixed"===f.options.strategy};null!=f.modifiersData.popperOffsets&&(f.styles.popper=Object.assign({},f.styles.popper,zr(Object.assign({},Fe,{offsets:f.modifiersData.popperOffsets,position:f.options.strategy,adaptive:I,roundOffsets:K})))),null!=f.modifiersData.arrow&&(f.styles.arrow=Object.assign({},f.styles.arrow,zr(Object.assign({},Fe,{offsets:f.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:K})))),f.attributes.popper=Object.assign({},f.attributes.popper,{"data-popper-placement":f.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function xr(r){var f=r.state;Object.keys(f.elements).forEach(function(i){var c=f.styles[i]||{},u=f.attributes[i]||{},y=f.elements[i];!St(y)||!Vt(y)||(Object.assign(y.style,c),Object.keys(u).forEach(function(I){var J=u[I];!1===J?y.removeAttribute(I):y.setAttribute(I,!0===J?"":J)}))})},effect:function Ki(r){var f=r.state,i={popper:{position:f.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(f.elements.popper.style,i.popper),f.styles=i,f.elements.arrow&&Object.assign(f.elements.arrow.style,i.arrow),function(){Object.keys(f.elements).forEach(function(c){var u=f.elements[c],y=f.attributes[c]||{},J=Object.keys(f.styles.hasOwnProperty(c)?f.styles[c]:i[c]).reduce(function(K,Se){return K[Se]="",K},{});!St(u)||!Vt(u)||(Object.assign(u.style,J),Object.keys(y).forEach(function(K){u.removeAttribute(K)}))})}},requires:["computeStyles"]}]});const ar=["*"],Jo=["dialog"];function Kn(r){return"string"==typeof r}function Kt(r){return null!=r}function Te(r){return(r||document.body).getBoundingClientRect()}const Ko={animation:!0,transitionTimerDelayMs:5},oo=()=>{},{transitionTimerDelayMs:Ct}=Ko,Fn=new Map,ro=(r,f,i,c)=>{let u=c.context||{};const y=Fn.get(f);if(y)switch(c.runningTransition){case"continue":return ge.E;case"stop":r.run(()=>y.transition$.complete()),u=Object.assign(y.context,u),Fn.delete(f)}const I=i(f,c.animation,u)||oo;if(!c.animation||"none"===window.getComputedStyle(f).transitionProperty)return r.run(()=>I()),(0,le.of)(void 0).pipe(function dt(r){return f=>new we.y(i=>f.subscribe({next:I=>r.run(()=>i.next(I)),error:I=>r.run(()=>i.error(I)),complete:()=>r.run(()=>i.complete())}))}(r));const J=new ee.x,K=new ee.x,Se=J.pipe(function pn(...r){return f=>(0,wn.z)(f,(0,le.of)(...r))}(!0));Fn.set(f,{transition$:J,complete:()=>{K.next(),K.complete()},context:u});const Fe=function Er(r){const{transitionDelay:f,transitionDuration:i}=window.getComputedStyle(r);return 1e3*(parseFloat(f)+parseFloat(i))}(f);return r.runOutsideAngular(()=>{const Tt=rt(f,"transitionend").pipe((0,fe.R)(Se),(0,ye.h)(({target:Ft})=>Ft===f));cn(Me(Fe+Ct).pipe((0,fe.R)(Se)),Tt,K).pipe((0,fe.R)(Se)).subscribe(()=>{Fn.delete(f),r.run(()=>{I(),J.next(),J.complete()})})}),J.asObservable()};let Ur=(()=>{class r{constructor(){this.animation=Ko.animation}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),qe=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})(),ei=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})(),Tu=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})(),Mu=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})();var Pi=function(r){return r[r.Tab=9]="Tab",r[r.Enter=13]="Enter",r[r.Escape=27]="Escape",r[r.Space=32]="Space",r[r.PageUp=33]="PageUp",r[r.PageDown=34]="PageDown",r[r.End=35]="End",r[r.Home=36]="Home",r[r.ArrowLeft=37]="ArrowLeft",r[r.ArrowUp=38]="ArrowUp",r[r.ArrowRight=39]="ArrowRight",r[r.ArrowDown=40]="ArrowDown",r}(Pi||{});const Ga=(r,f)=>!!f&&f.some(i=>i.contains(r)),Fh=(r,f)=>!f||null!=function W(r,f){return!f||typeof r.closest>"u"?null:r.closest(f)}(r,f),Lh=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Pu=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Uh(r){const f=Array.from(r.querySelectorAll(Pu)).filter(i=>-1!==i.tabIndex);return[f[0],f[f.length-1]]}let Ca=(()=>{class r{constructor(i){this._element=i.documentElement}isRTL(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}static#e=this.\u0275fac=function(c){return new(c||r)(e.LFG(Q.K0))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const Xg=/\s+/,Hh=/  +/gi,jh={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},em=/^left/,Tr=/^right/,tm=/^start/,Zh=/^end/;function Vh({placement:r,baseClass:f},i){let c=Array.isArray(r)?r:r.split(Xg),y=c.findIndex(Se=>"auto"===Se);y>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(Se){null==c.find(Fe=>-1!==Fe.search("^"+Se))&&c.splice(y++,1,Se)});const I=c.map(Se=>function Oc(r,f){const[i,c]=jh[r];return f&&c||i}(Se,i.isRTL()));return{placement:I.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!f,phase:"write",fn({state:Se}){const Fe=new RegExp(f+"(-[a-z]+)*","gi"),Tt=Se.elements.popper,vt=Se.placement;let Ft=Tt.className;Ft=Ft.replace(Fe,""),Ft+=` ${function ku(r,f){let[i,c]=f.split("-");const u=i.replace(em,"start").replace(Tr,"end");let y=[u];if(c){let I=c;("left"===i||"right"===i)&&(I=I.replace(tm,"top").replace(Zh,"bottom")),y.push(`${u}-${I}`)}return r&&(y=y.map(I=>`${r}-${I}`)),y.join(" ")}(f,vt)}`,Ft=Ft.trim().replace(Hh," "),Tt.className=Ft}},xo,bn,Gr,{enabled:!0,name:"flip",options:{fallbackPlacements:I}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function Ru(r){return r}new Date(1882,10,12),new Date(2174,10,25);let cm=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})(),lm=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})();class Ja{constructor(f,i,c){this.nodes=f,this.viewRef=i,this.componentRef=c}}class qy{constructor(f,i,c,u,y,I){this._componentType=f,this._injector=i,this._viewContainerRef=c,this._renderer=u,this._ngZone=y,this._applicationRef=I,this._windowRef=null,this._contentRef=null}open(f,i,c=!1){this._windowRef||(this._contentRef=this._getContentRef(f,i),this._windowRef=this._viewContainerRef.createComponent(this._componentType,{injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:u}=this._windowRef.location,y=this._ngZone.onStable.pipe((0,Be.q)(1),(0,Je.z)(()=>ro(this._ngZone,u,({classList:I})=>I.add("show"),{animation:c,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:y}}close(f=!1){return this._windowRef?ro(this._ngZone,this._windowRef.location.nativeElement,({classList:i})=>i.remove("show"),{animation:f,runningTransition:"stop"}).pipe((0,ze.b)(()=>{this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),this._contentRef?.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):(0,le.of)(void 0)}_getContentRef(f,i){if(f){if(f instanceof e.Rgc){const c=f.createEmbeddedView(i);return this._applicationRef.attachView(c),new Ja([c.rootNodes],c)}return new Ja([[this._renderer.createText(`${f}`)]])}return new Ja([])}}let Jy=(()=>{class r{constructor(i,c){this._el=i,this._zone=c}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Be.q)(1)).subscribe(()=>{ro(this._zone,this._el.nativeElement,(i,c)=>{c&&Te(i),i.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return ro(this._zone,this._el.nativeElement,({classList:i})=>i.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(e.SBq),e.Y36(e.R0b))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(c,u){2&c&&(e.Tol("modal-backdrop"+(u.backdropClass?" "+u.backdropClass:"")),e.ekj("show",!u.animation)("fade",u.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[e.jDz],decls:0,vars:0,template:function(c,u){},encapsulation:2})}return r})();class um{update(f){}close(f){}dismiss(f){}}const dm=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],xl=["animation","backdropClass"];class Ol{_applyWindowOptions(f,i){dm.forEach(c=>{Kt(i[c])&&(f[c]=i[c])})}_applyBackdropOptions(f,i){xl.forEach(c=>{Kt(i[c])&&(f[c]=i[c])})}update(f){this._applyWindowOptions(this._windowCmptRef.instance,f),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,f)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,fe.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,fe.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(f,i,c,u){this._windowCmptRef=f,this._contentRef=i,this._backdropCmptRef=c,this._beforeDismiss=u,this._closed=new ee.x,this._dismissed=new ee.x,this._hidden=new ee.x,f.instance.dismissEvent.subscribe(y=>{this.dismiss(y)}),this.result=new Promise((y,I)=>{this._resolve=y,this._reject=I}),this.result.then(null,()=>{})}close(f){this._windowCmptRef&&(this._closed.next(f),this._resolve(f),this._removeModalElements())}_dismiss(f){this._dismissed.next(f),this._reject(f),this._removeModalElements()}dismiss(f){if(this._windowCmptRef)if(this._beforeDismiss){const i=this._beforeDismiss();!function Qr(r){return r&&r.then}(i)?!1!==i&&this._dismiss(f):i.then(c=>{!1!==c&&this._dismiss(f)},()=>{})}else this._dismiss(f)}_removeModalElements(){const f=this._windowCmptRef.instance.hide(),i=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,le.of)(void 0);f.subscribe(()=>{const{nativeElement:c}=this._windowCmptRef.location;c.parentNode.removeChild(c),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),i.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:c}=this._backdropCmptRef.location;c.parentNode.removeChild(c),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),wt(f,i).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Nl=function(r){return r[r.BACKDROP_CLICK=0]="BACKDROP_CLICK",r[r.ESC=1]="ESC",r}(Nl||{});let Qh=(()=>{class r{constructor(i,c,u){this._document=i,this._elRef=c,this._zone=u,this._closed$=new ee.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new e.vpe,this.shown=new ee.x,this.hidden=new ee.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Kn(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(i){this.dismissEvent.emit(i)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Be.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:i}=this._elRef,c={animation:this.animation,runningTransition:"stop"},I=wt(ro(this._zone,i,()=>i.classList.remove("show"),c),ro(this._zone,this._dialogEl.nativeElement,()=>{},c));return I.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),I}_show(){const i={animation:this.animation,runningTransition:"continue"};wt(ro(this._zone,this._elRef.nativeElement,(y,I)=>{I&&Te(y),y.classList.add("show")},i),ro(this._zone,this._dialogEl.nativeElement,()=>{},i)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:i}=this._elRef;this._zone.runOutsideAngular(()=>{rt(i,"keydown").pipe((0,fe.R)(this._closed$),(0,ye.h)(u=>u.which===Pi.Escape)).subscribe(u=>{this.keyboard?requestAnimationFrame(()=>{u.defaultPrevented||this._zone.run(()=>this.dismiss(Nl.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let c=!1;rt(this._dialogEl.nativeElement,"mousedown").pipe((0,fe.R)(this._closed$),(0,ze.b)(()=>c=!1),(0,tn.w)(()=>rt(i,"mouseup").pipe((0,fe.R)(this._closed$),(0,Be.q)(1))),(0,ye.h)(({target:u})=>i===u)).subscribe(()=>{c=!0}),rt(i,"click").pipe((0,fe.R)(this._closed$)).subscribe(({target:u})=>{i===u&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!c&&this._zone.run(()=>this.dismiss(Nl.BACKDROP_CLICK))),c=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:i}=this._elRef;if(!i.contains(document.activeElement)){const c=i.querySelector("[ngbAutofocus]"),u=Uh(i)[0];(c||u||i).focus()}}_restoreFocus(){const i=this._document.body,c=this._elWithFocus;let u;u=c&&c.focus&&i.contains(c)?c:i,this._zone.runOutsideAngular(()=>{setTimeout(()=>u.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&ro(this._zone,this._elRef.nativeElement,({classList:i})=>(i.add("modal-static"),()=>i.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(Q.K0),e.Y36(e.SBq),e.Y36(e.R0b))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["ngb-modal-window"]],viewQuery:function(c,u){if(1&c&&e.Gf(Jo,7),2&c){let y;e.iGM(y=e.CRH())&&(u._dialogEl=y.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(c,u){2&c&&(e.uIk("aria-modal",!0)("aria-labelledby",u.ariaLabelledBy)("aria-describedby",u.ariaDescribedBy),e.Tol("modal d-block"+(u.windowClass?" "+u.windowClass:"")),e.ekj("fade",u.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[e.jDz],ngContentSelectors:ar,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(c,u){1&c&&(e.F$t(),e.TgZ(0,"div",0,1)(2,"div",2),e.Hsn(3),e.qZA()()),2&c&&e.Tol("modal-dialog"+(u.size?" modal-"+u.size:"")+(u.centered?" modal-dialog-centered":"")+u.fullscreenClass+(u.scrollable?" modal-dialog-scrollable":"")+(u.modalDialogClass?" "+u.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return r})(),Kh=(()=>{class r{constructor(i){this._document=i}hide(){const i=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),c=this._document.body,u=c.style,{overflow:y,paddingRight:I}=u;if(i>0){const J=parseFloat(window.getComputedStyle(c).paddingRight);u.paddingRight=`${J+i}px`}return u.overflow="hidden",()=>{i>0&&(u.paddingRight=I),u.overflow=y}}static#e=this.\u0275fac=function(c){return new(c||r)(e.LFG(Q.K0))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Qa=(()=>{class r{constructor(i,c,u,y,I,J,K){this._applicationRef=i,this._injector=c,this._environmentInjector=u,this._document=y,this._scrollBar=I,this._rendererFactory=J,this._ngZone=K,this._activeWindowCmptHasChanged=new ee.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new e.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const Se=this._windowCmpts[this._windowCmpts.length-1];((r,f,i,c=!1)=>{r.runOutsideAngular(()=>{const u=rt(f,"focusin").pipe((0,fe.R)(i),(0,_t.U)(y=>y.target));rt(f,"keydown").pipe((0,fe.R)(i),(0,ye.h)(y=>y.which===Pi.Tab),Rt(u)).subscribe(([y,I])=>{const[J,K]=Uh(f);(I===J||I===f)&&y.shiftKey&&(K.focus(),y.preventDefault()),I===K&&!y.shiftKey&&(J.focus(),y.preventDefault())}),c&&rt(f,"click").pipe((0,fe.R)(i),Rt(u),(0,_t.U)(y=>y[1])).subscribe(y=>y.focus())})})(this._ngZone,Se.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(Se.location.nativeElement)}})}_restoreScrollBar(){const i=this._scrollBarRestoreFn;i&&(this._scrollBarRestoreFn=null,i())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(i,c,u){const y=u.container instanceof HTMLElement?u.container:Kt(u.container)?this._document.querySelector(u.container):this._document.body,I=this._rendererFactory.createRenderer(null,null);if(!y)throw new Error(`The specified modal container "${u.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const J=new um,K=(i=u.injector||i).get(e.lqb,null)||this._environmentInjector,Se=this._getContentRef(i,K,c,J,u);let Fe=!1!==u.backdrop?this._attachBackdrop(y):void 0,Tt=this._attachWindowComponent(y,Se.nodes),vt=new Ol(Tt,Se,Fe,u.beforeDismiss);return this._registerModalRef(vt),this._registerWindowCmpt(Tt),vt.hidden.pipe((0,Be.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(I.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),J.close=Ft=>{vt.close(Ft)},J.dismiss=Ft=>{vt.dismiss(Ft)},J.update=Ft=>{vt.update(Ft)},vt.update(u),1===this._modalRefs.length&&I.addClass(this._document.body,"modal-open"),Fe&&Fe.instance&&Fe.changeDetectorRef.detectChanges(),Tt.changeDetectorRef.detectChanges(),vt}get activeInstances(){return this._activeInstances}dismissAll(i){this._modalRefs.forEach(c=>c.dismiss(i))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(i){let c=(0,e.LMc)(Jy,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(c.hostView),i.appendChild(c.location.nativeElement),c}_attachWindowComponent(i,c){let u=(0,e.LMc)(Qh,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:c});return this._applicationRef.attachView(u.hostView),i.appendChild(u.location.nativeElement),u}_getContentRef(i,c,u,y,I){return u?u instanceof e.Rgc?this._createFromTemplateRef(u,y):Kn(u)?this._createFromString(u):this._createFromComponent(i,c,u,y,I):new Ja([])}_createFromTemplateRef(i,c){const y=i.createEmbeddedView({$implicit:c,close(I){c.close(I)},dismiss(I){c.dismiss(I)}});return this._applicationRef.attachView(y),new Ja([y.rootNodes],y)}_createFromString(i){const c=this._document.createTextNode(`${i}`);return new Ja([[c]])}_createFromComponent(i,c,u,y,I){const J=e.zs3.create({providers:[{provide:um,useValue:y}],parent:i}),K=(0,e.LMc)(u,{environmentInjector:c,elementInjector:J}),Se=K.location.nativeElement;return I.scrollable&&Se.classList.add("component-host-scrollable"),this._applicationRef.attachView(K.hostView),new Ja([[Se]],K.hostView,K)}_setAriaHidden(i){const c=i.parentElement;c&&i!==this._document.body&&(Array.from(c.children).forEach(u=>{u!==i&&"SCRIPT"!==u.nodeName&&(this._ariaHiddenValues.set(u,u.getAttribute("aria-hidden")),u.setAttribute("aria-hidden","true"))}),this._setAriaHidden(c))}_revertAriaHidden(){this._ariaHiddenValues.forEach((i,c)=>{i?c.setAttribute("aria-hidden",i):c.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(i){const c=()=>{const u=this._modalRefs.indexOf(i);u>-1&&(this._modalRefs.splice(u,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(i),this._activeInstances.emit(this._modalRefs),i.result.then(c,c)}_registerWindowCmpt(i){this._windowCmpts.push(i),this._activeWindowCmptHasChanged.next(),i.onDestroy(()=>{const c=this._windowCmpts.indexOf(i);c>-1&&(this._windowCmpts.splice(c,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(c){return new(c||r)(e.LFG(e.z2F),e.LFG(e.zs3),e.LFG(e.lqb),e.LFG(Q.K0),e.LFG(Kh),e.LFG(e.FYo),e.LFG(e.R0b))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Xh=(()=>{class r{constructor(i){this._ngbConfig=i,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(i){this._animation=i}static#e=this.\u0275fac=function(c){return new(c||r)(e.LFG(Ur))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),ef=(()=>{class r{constructor(i,c,u){this._injector=i,this._modalStack=c,this._config=u}open(i,c={}){const u={...this._config,animation:this._config.animation,...c};return this._modalStack.open(this._injector,i,u)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(i){this._modalStack.dismissAll(i)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(c){return new(c||r)(e.LFG(e.zs3),e.LFG(Qa),e.LFG(Xh))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Bc=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({providers:[ef]})}return r})(),zu=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})(),Qu=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})();class vm{constructor(f,i){this.open=f,this.close=i,i||(this.close=f)}isManual(){return"manual"===this.open||"manual"===this.close}}const ym={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},cf=r=>r>0?ri(r):f=>f;let Ma=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})(),Rl=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})(),lf=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})(),Fl=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})(),od=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})(),Bl=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})(),Ul=(()=>{class r{constructor(i){this._ngbConfig=i,this.autoClose=!0,this.placement="auto",this.popperOptions=c=>c,this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(i){this._animation=i}static#e=this.\u0275fac=function(c){return new(c||r)(e.LFG(Ur))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),ff=0,sd=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip",2,"position","absolute"],hostVars:5,hostBindings:function(c,u){2&c&&(e.Ikx("id",u.id),e.Tol("tooltip"+(u.tooltipClass?" "+u.tooltipClass:"")),e.ekj("fade",u.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},standalone:!0,features:[e.jDz],ngContentSelectors:ar,decls:3,vars:0,consts:[["data-popper-arrow","",1,"tooltip-arrow"],[1,"tooltip-inner"]],template:function(c,u){1&c&&(e.F$t(),e._UZ(0,"div",0),e.TgZ(1,"div",1),e.Hsn(2),e.qZA())},encapsulation:2,changeDetection:0})}return r})(),Vo=(()=>{class r{constructor(i,c,u,y,I,J,K,Se,Fe){this._elementRef=i,this._renderer=c,this._ngZone=J,this._document=K,this._changeDetector=Se,this.shown=new e.vpe,this.hidden=new e.vpe,this._ngbTooltipWindowId="ngb-tooltip-"+ff++,this._windowRef=null,this.animation=I.animation,this.autoClose=I.autoClose,this.placement=I.placement,this.popperOptions=I.popperOptions,this.triggers=I.triggers,this.container=I.container,this.disableTooltip=I.disableTooltip,this.tooltipClass=I.tooltipClass,this.openDelay=I.openDelay,this.closeDelay=I.closeDelay,this._popupService=new qy(sd,u,y,c,this._ngZone,Fe),this._positioning=function Nc(){const r=(0,e.f3M)(Ca);let f=null;return{createPopper(i){if(!f){let u=(i.updatePopperOptions||Ru)(Vh(i,r));f=yo(i.hostElement,i.targetElement,u)}},update(){f&&f.update()},setOptions(i){if(f){let u=(i.updatePopperOptions||Ru)(Vh(i,r));f.setOptions(u)}},destroy(){f&&(f.destroy(),f=null)}}}()}set ngbTooltip(i){this._ngbTooltip=i,!i&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(i){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:c,transition$:u}=this._popupService.open(this._ngbTooltip,i??this.tooltipContext,this.animation);this._windowRef=c,this._windowRef.setInput("animation",this.animation),this._windowRef.setInput("tooltipClass",this.tooltipClass),this._windowRef.setInput("id",this._ngbTooltipWindowId),this._renderer.setAttribute(this._getPositionTargetElement(),"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._getPositionTargetElement(),targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,baseClass:"bs-tooltip",updatePopperOptions:y=>this.popperOptions(y)}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),function wl(r,f,i,c,u,y,I,J){i&&r.runOutsideAngular((r=>Lh?()=>setTimeout(()=>r(),100):r)(()=>{const Se=rt(f,"keydown").pipe((0,fe.R)(u),(0,ye.h)(vt=>vt.which===Pi.Escape),(0,ze.b)(vt=>vt.preventDefault())),Fe=rt(f,"mousedown").pipe((0,_t.U)(vt=>{const Ft=vt.target;return 2!==vt.button&&!Ga(Ft,I)&&("inside"===i?Ga(Ft,y)&&Fh(Ft,J):"outside"===i?!Ga(Ft,y):Fh(Ft,J)||!Ga(Ft,y))}),(0,fe.R)(u)),Tt=rt(f,"mouseup").pipe(Rt(Fe),(0,ye.h)(([vt,Ft])=>Ft),ri(0),(0,fe.R)(u));cn([Se.pipe((0,_t.U)(vt=>0)),Tt.pipe((0,_t.U)(vt=>1))]).subscribe(vt=>r.run(()=>c(vt)))}))}(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),u.subscribe(()=>this.shown.emit())}}close(i=this.animation){null!=this._windowRef&&(this._renderer.removeAttribute(this._getPositionTargetElement(),"aria-describedby"),this._popupService.close(i).subscribe(()=>{this._windowRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function Dm(r,f,i,c,u,y,I=0,J=0){const K=function Ku(r,f=ym){const i=(r||"").trim();if(0===i.length)return[];const c=i.split(/\s+/).map(y=>y.split(":")).map(y=>{let I=f[y[0]]||y;return new vm(I[0],I[1])}),u=c.filter(y=>y.isManual());if(u.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===u.length&&c.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return c}(i);if(1===K.length&&K[0].isManual())return()=>{};const Se=function Xu(r,f,i,c){return new we.y(u=>{const y=[],I=()=>u.next(!0),J=()=>u.next(!1),K=()=>u.next(!c());return i.forEach(Se=>{Se.open===Se.close?y.push(r.listen(f,Se.open,K)):y.push(r.listen(f,Se.open,I),r.listen(f,Se.close,J))}),()=>{y.forEach(Se=>Se())}})}(r,f,K,c).pipe(function Hc(r,f,i){return c=>{let u=null;const y=c.pipe((0,_t.U)(K=>({open:K})),(0,ye.h)(K=>{const Se=i();return Se===K.open||u&&u.open!==Se?(u&&u.open!==K.open&&(u=null),!1):(u=K,!0)}),(0,dn.B)()),I=y.pipe((0,ye.h)(K=>K.open),cf(r)),J=y.pipe((0,ye.h)(K=>!K.open),cf(f));return(0,sn.T)(I,J).pipe((0,ye.h)(K=>K===u&&(u=null,K.open!==i())),(0,_t.U)(K=>K.open))}}(I,J,c)).subscribe(Fe=>Fe?u():y());return()=>Se.unsubscribe()}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:i}){i&&this.isOpen()&&(this._windowRef.instance.tooltipClass=i.currentValue)}ngOnDestroy(){this.close(!1),this._unregisterListenersFn?.()}_getPositionTargetElement(){return(Kn(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget)||this._elementRef.nativeElement}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.zs3),e.Y36(e.s_b),e.Y36(Ul),e.Y36(e.R0b),e.Y36(Q.K0),e.Y36(e.sBO),e.Y36(e.z2F))};static#t=this.\u0275dir=e.lG2({type:r,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",popperOptions:"popperOptions",triggers:"triggers",positionTarget:"positionTarget",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",tooltipContext:"tooltipContext",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],standalone:!0,features:[e.TTD]})}return r})(),pf=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})();new e.OlP("live announcer delay",{providedIn:"root",factory:function gf(){return 100}});let _f=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})(),ld=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})();const Df=[qe,ei,Tu,Mu,cm,lm,Bc,zu,ld,Qu,Ma,Rl,lf,Fl,od,Bl,pf,_f];let bf=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({imports:[Df,qe,ei,Tu,Mu,cm,lm,Bc,zu,ld,Qu,Ma,Rl,lf,Fl,od,Bl,pf,_f]})}return r})();var Wi=M(1357),ui=M(8460),Hm=M(5400);let jm=(()=>{class r{constructor(i){this._http=i}get(i){const c=new Hm.t(1);return this._http.get(i,{responseType:"blob"}).subscribe({next:u=>{const y=window.URL.createObjectURL(u);c.next(y),c.complete()},error:u=>c.error(u)}),c}static#e=this.\u0275fac=function(c){return new(c||r)(e.LFG(X.eN))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Zm(r,f){if(1&r&&e._UZ(0,"img",3),2&r){const i=e.oxw(2);e.Udp("width",i.width)("height",i.height),e.Q6J("src",i.safeString||i.safeUrl,e.LSH),e.uIk("loading",i.lazy?"lazy":void 0)}}function Vm(r,f){if(1&r&&e._UZ(0,"mat-icon",4),2&r){const i=e.oxw(2);e.Q6J("svgIcon",i.safeString)}}function Gs(r,f){if(1&r&&(e.ynx(0),e.YNc(1,Zm,1,6,"img",1),e.YNc(2,Vm,1,1,"mat-icon",2),e.BQk()),2&r){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",!i.isSvg),e.xp6(1),e.Q6J("ngIf",i.isSvg&&i.safeString)}}let Ps=(()=>{class r{constructor(i,c){this._imageService=i,this._domSanitizer=c,this.isSvg=!1}ngOnChanges(i){i.src&&this.updateImage(i.src.currentValue)}updateImage(i){this._loadSource&&(this._loadSource.unsubscribe(),this._loadSource=void 0),i||="",this.isSvg=i.startsWith("#"),this.safeString=this.safeUrl=void 0,this.safeString=this.isSvg&&i.startsWith("#")?i.substring(1):i}loadObjectUrl(i){this._loadSource=this._imageService.get(i).subscribe({next:c=>this.safeUrl=this._domSanitizer.bypassSecurityTrustUrl(c),error:c=>console.error("Failed loading URL",i,c)})}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(jm),e.Y36(g.H7))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-icon"]],hostVars:2,hostBindings:function(c,u){2&c&&e.Udp("opacity",u.opacity)},inputs:{src:"src",opacity:"opacity",width:"width",height:"height",lazy:"lazy"},features:[e.TTD],decls:1,vars:1,consts:[[4,"ngIf"],["class","img",3,"src","width","height",4,"ngIf"],[3,"svgIcon",4,"ngIf"],[1,"img",3,"src"],[3,"svgIcon"]],template:function(c,u){1&c&&e.YNc(0,Gs,3,2,"ng-container",0),2&c&&e.Q6J("ngIf",u.src)},dependencies:[Q.O5,Y.Hw],styles:["img[_ngcontent-%COMP%], mat-icon[_ngcontent-%COMP%]{width:100%;height:100%}"],changeDetection:0})}return r})();function $m(r,f){if(1&r&&e._UZ(0,"app-icon",5),2&r){const i=e.oxw(2);e.Q6J("src",(null==i.item.season?null:i.item.season.iconUrl)||"#season-candle")}}function Gm(r,f){1&r&&e._UZ(0,"app-icon",6),2&r&&e.Q6J("src","#season-heart")}function zm(r,f){1&r&&e._UZ(0,"app-icon",7),2&r&&e.Q6J("src","#ascended-candle")}function Ym(r,f){1&r&&e._UZ(0,"app-icon",8),2&r&&e.Q6J("src","#gift")}function Wm(r,f){if(1&r&&(e.ynx(0),e.YNc(1,$m,1,1,"app-icon",1),e.YNc(2,Gm,1,1,"app-icon",2),e.YNc(3,zm,1,1,"app-icon",3),e.YNc(4,Ym,1,1,"app-icon",4),e.BQk()),2&r){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",null==i.item.season?null:i.item.season.iconUrl),e.xp6(1),e.Q6J("ngIf","Ultimate"===i.item.group),e.xp6(1),e.Q6J("ngIf","Elder"===i.item.group),e.xp6(1),e.Q6J("ngIf",null==i.item.iaps?null:i.item.iaps.length)}}let Cf=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-item-icons"]],inputs:{item:"item"},decls:1,vars:1,consts:[[4,"ngIf"],["class","img-tr",3,"src",4,"ngIf"],["class","img-tl seasonal",3,"src",4,"ngIf"],["class","img-tl",3,"src",4,"ngIf"],["class","img-tl currency",3,"src",4,"ngIf"],[1,"img-tr",3,"src"],[1,"img-tl","seasonal",3,"src"],[1,"img-tl",3,"src"],[1,"img-tl","currency",3,"src"]],template:function(c,u){1&c&&e.YNc(0,Wm,5,4,"ng-container",0),2&c&&e.Q6J("ngIf",u.item)},dependencies:[Q.O5,Ps],styles:["*[_ngcontent-%COMP%]{pointer-events:none}.img-tl[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:var(--icon-size-group);height:var(--icon-size-group)}.img-tr[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:var(--icon-size-group);height:var(--icon-size-group)}"],changeDetection:0})}return r})();function wf(r,f){if(1&r){const i=e.EpF();e.TgZ(0,"app-icon",3),e.NdJ("click",function(u){e.CHM(i);const y=e.oxw();return e.KtG(y.iconClick(u))}),e.qZA()}if(2&r){const i=e.oxw();e.Q6J("src",i.item.icon)("opacity",i.item.unlocked||i.highlight?void 0:.5)}}function qm(r,f){if(1&r&&(e.TgZ(0,"span",4),e._uU(1),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.hij("Lv",i.item.level,"")}}function Jm(r,f){if(1&r&&e._UZ(0,"app-item-icons",5),2&r){const i=e.oxw();e.Q6J("item",i.item)}}let Vc=(()=>{class r{constructor(i,c,u){this._debug=i,this._eventService=c,this._changeDetectorRef=u,this.large=!1,this.hoverHighlight=!0,this.ItemType=ui.q}ngOnInit(){this._sub=this._eventService.itemToggled.subscribe(i=>{i.guid===this.item?.guid&&this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._sub?.unsubscribe()}iconClick(i){this._debug.copyItem&&(i.stopImmediatePropagation(),i.preventDefault(),navigator.clipboard.writeText(this.item.guid))}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(Ye),e.Y36(Oe),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-item"]],hostVars:4,hostBindings:function(c,u){2&c&&e.ekj("large",u.large)("hoverable",u.hoverHighlight)},inputs:{item:"item",large:"large",highlight:"highlight",hoverHighlight:"hoverHighlight",showSubIcons:"showSubIcons"},decls:3,vars:3,consts:[["class","img",3,"src","opacity","click",4,"ngIf"],["class","emote-level",4,"ngIf"],[3,"item",4,"ngIf"],[1,"img",3,"src","opacity","click"],[1,"emote-level"],[3,"item"]],template:function(c,u){1&c&&(e.YNc(0,wf,1,2,"app-icon",0),e.YNc(1,qm,2,1,"span",1),e.YNc(2,Jm,1,1,"app-item-icons",2)),2&c&&(e.Q6J("ngIf",u.item.icon),e.xp6(1),e.Q6J("ngIf",u.item.type===u.ItemType.Emote),e.xp6(1),e.Q6J("ngIf",u.showSubIcons))},dependencies:[Q.O5,Ps,Cf],styles:["[_nghost-%COMP%]{display:inline-block;position:relative;border:0;border-radius:var(--border-radius);width:var(--item-size);height:var(--item-size)}.large[_nghost-%COMP%]{width:var(--item-size-large);height:var(--item-size-large)}.img[_ngcontent-%COMP%]{width:100%;height:100%;transition:var(--animation-short);filter:drop-shadow(0 0 0 #0000)}.hoverable[_nghost-%COMP%]:hover   .img[_ngcontent-%COMP%]{transition:var(--animation-short);filter:drop-shadow(0 0 4px #fffa73)}.img[_ngcontent-%COMP%]{width:100%;height:100%}.emote-level[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;font-size:12px}"],changeDetection:0})}return r})();function Qm(r,f){if(1&r){const i=e.EpF();e.TgZ(0,"div",5),e.NdJ("click",function(u){e.CHM(i);const y=e.oxw();return e.KtG(y.toggleNode(u))})("mouseenter",function(u){e.CHM(i);const y=e.oxw();return e.KtG(y.mouseEnter(u))})("mouseleave",function(u){e.CHM(i);const y=e.oxw();return e.KtG(y.mouseLeave(u))}),e._UZ(1,"app-item",6),e.qZA()}if(2&r){const i=e.oxw(),c=e.MAs(11);e.Q6J("ngbTooltip",c)("placement",i.tooltipPlacement),e.xp6(1),e.Q6J("item",i.node.item)("highlight",i.hover)}}function Hl(r,f){if(1&r&&(e.TgZ(0,"div",7),e._uU(1),e._UZ(2,"mat-icon",8),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.hij(" ",i.node.c,""),e.xp6(1),e.Q6J("inline",!1)}}function zs(r,f){if(1&r&&(e.TgZ(0,"div",7),e._uU(1),e._UZ(2,"mat-icon",9),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.hij(" ",i.node.sc,""),e.xp6(1),e.Q6J("inline",!1)}}function $c(r,f){if(1&r&&(e.TgZ(0,"div",7),e._uU(1),e._UZ(2,"mat-icon",10),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.hij(" ",i.node.h,""),e.xp6(1),e.Q6J("inline",!1)}}function Ef(r,f){if(1&r&&(e.TgZ(0,"div",7),e._uU(1),e._UZ(2,"mat-icon",11),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.hij(" ",i.node.sh,""),e.xp6(1),e.Q6J("inline",!1)}}function Tf(r,f){if(1&r&&(e.TgZ(0,"div",12),e._uU(1),e._UZ(2,"mat-icon",13),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.hij(" ",i.node.ac,""),e.xp6(1),e.Q6J("inline",!1)}}function Mf(r,f){if(1&r&&(e.TgZ(0,"div",7),e._uU(1),e._UZ(2,"mat-icon",14),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.hij(" ",i.node.ec,""),e.xp6(1),e.Q6J("inline",!1)}}function u1(r,f){if(1&r&&(e.ynx(0),e.TgZ(1,"span",16),e._uU(2),e.qZA(),e.BQk()),2&r){const i=e.oxw(2);e.xp6(2),e.Oqu(i.node.item.name)}}function d1(r,f){if(1&r&&e.YNc(0,u1,3,1,"ng-container",15),2&r){const i=e.oxw();e.Q6J("ngIf",i.node.item)}}let h1=(()=>{class r{constructor(i,c,u){this._debug=i,this._eventService=c,this._storageService=u,this.position="center",this.tooltipPlacement="bottom"}ngOnChanges(i){if(i.position){const c=i.position.currentValue;this.tooltipPlacement="left"===c?"bottom-start":"right"===c?"bottom-end":"bottom"}}mouseEnter(i){this.hover=!0}mouseLeave(i){this.hover=!1}toggleNode(i){if(!this.node.item)return;const c=this.node.item;if(this._debug.copyNode)return i.stopImmediatePropagation(),i.preventDefault(),void this.copyDebug(this.node);c.unlocked?this.lockItem():this.unlockItem(),this._eventService.toggleItem(c)}copyDebug(i){navigator.clipboard.writeText(JSON.stringify({nw:!!i.nw,n:!!i.n,ne:!!i.ne,item:i.item?.guid,c:i.c,h:i.h,sc:i.sc,sh:i.sh,ac:i.ac,ec:i.ec}))}unlockItem(){if(!this.node.item)return;const i=[];this.node.item.unlocked=!0,i.push(this.node.item.guid),this.node.unlocked=!0,i.push(this.node.guid),this.node.hiddenItems?.forEach(c=>{c.unlocked=!0,i.push(c.guid)}),this._storageService.add(...i),this._storageService.save()}lockItem(){if(!this.node.item)return;const i=[],u=[this.node.item,...this.node.hiddenItems||[]];for(const y of u)y.unlocked=!1,i.push(y.guid),(y.nodes||[]).forEach(K=>{K.unlocked=!1,i.push(K.guid)}),(y.hiddenNodes||[]).forEach(K=>{K.unlocked=!1,i.push(K.guid)});this._storageService.remove(...i),this._storageService.save()}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(Ye),e.Y36(Oe),e.Y36(lt.V))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-node"]],inputs:{node:"node",position:"position",highlight:"highlight"},features:[e.TTD],decls:12,vars:14,consts:[["class","item-container","container","body",3,"ngbTooltip","placement","click","mouseenter","mouseleave",4,"ngIf"],["class","cost",4,"ngIf"],["class","cost ascend",4,"ngIf"],[1,"unlock-check"],["nodeHover",""],["container","body",1,"item-container",3,"ngbTooltip","placement","click","mouseenter","mouseleave"],[3,"item","highlight"],[1,"cost"],["svgIcon","candle",1,"icon-middle",3,"inline"],["svgIcon","season-candle",1,"icon-middle",3,"inline"],["svgIcon","heart",1,"icon-middle",3,"inline"],["svgIcon","season-heart",1,"seasonal","icon-middle",3,"inline"],[1,"cost","ascend"],["svgIcon","ascended-candle",1,"icon-middle",3,"inline"],["svgIcon","ticket",1,"icon-middle",3,"inline"],[4,"ngIf"],[1,"ws-nw"]],template:function(c,u){1&c&&(e.TgZ(0,"div"),e.YNc(1,Qm,2,4,"div",0),e.YNc(2,Hl,3,2,"div",1),e.YNc(3,zs,3,2,"div",1),e.YNc(4,$c,3,2,"div",1),e.YNc(5,Ef,3,2,"div",1),e.YNc(6,Tf,3,2,"div",2),e.YNc(7,Mf,3,2,"div",1),e.TgZ(8,"mat-icon",3),e._uU(9,"done"),e.qZA()(),e.YNc(10,d1,1,1,"ng-template",null,4,e.W1O)),2&c&&(e.ekj("highlight",u.highlight),e.uIk("data-position",u.position),e.xp6(1),e.Q6J("ngIf",u.node.item),e.xp6(1),e.Q6J("ngIf",null==u.node?null:u.node.c),e.xp6(1),e.Q6J("ngIf",null==u.node?null:u.node.sc),e.xp6(1),e.Q6J("ngIf",null==u.node?null:u.node.h),e.xp6(1),e.Q6J("ngIf",null==u.node?null:u.node.sh),e.xp6(1),e.Q6J("ngIf",null==u.node?null:u.node.ac),e.xp6(1),e.Q6J("ngIf",null==u.node?null:u.node.ec),e.xp6(1),e.ekj("unlocked",u.node.unlocked||(null==u.node.item?null:u.node.item.unlocked))("self",u.node.unlocked))},dependencies:[Q.O5,Vo,Y.Hw,Vc],styles:["[_nghost-%COMP%]{position:relative;display:inline-block;width:100%;height:100%;-webkit-user-select:none;user-select:none}.item-container[_ngcontent-%COMP%]{display:inline-block;cursor:pointer}.cost[_ngcontent-%COMP%]{float:right;text-align:right;right:calc(50% + 3px);position:relative}.cost[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{fill:var(--color-candle)}div[data-position=left][_ngcontent-%COMP%]   .cost[_ngcontent-%COMP%]{left:unset;right:0}mat-icon[_ngcontent-%COMP%]{width:var(--icon-size-cost);vertical-align:text-bottom}"]})}return r})();const ud=function(r,f){return{cost:r,remaining:f,icon:"candle",iconClass:"currency"}};function dd(r,f){if(1&r&&(e.TgZ(0,"div",4),e.GkF(1,5),e.qZA()),2&r){const i=e.oxw(),c=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",e.WLB(2,ud,null==i.cost?null:i.cost.c,null==i.remaining?null:i.remaining.c))}}const f1=function(r,f){return{cost:r,remaining:f,icon:"candle",iconClass:"seasonal"}};function p1(r,f){if(1&r&&(e.TgZ(0,"div",4),e.GkF(1,5),e.qZA()),2&r){const i=e.oxw(),c=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",e.WLB(2,f1,null==i.cost?null:i.cost.sc,null==i.remaining?null:i.remaining.sc))}}const Af=function(r,f){return{cost:r,remaining:f,icon:"heart",iconClass:"currency"}};function Km(r,f){if(1&r&&(e.TgZ(0,"div",4),e.GkF(1,5),e.qZA()),2&r){const i=e.oxw(),c=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",e.WLB(2,Af,null==i.cost?null:i.cost.h,null==i.remaining?null:i.remaining.h))}}const Xm=function(r,f){return{cost:r,remaining:f,icon:"heart",iconClass:"seasonal"}};function e_(r,f){if(1&r&&(e.TgZ(0,"div",4),e.GkF(1,5),e.qZA()),2&r){const i=e.oxw(),c=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",e.WLB(2,Xm,null==i.cost?null:i.cost.sh,null==i.remaining?null:i.remaining.sh))}}const t_=function(r,f){return{cost:r,remaining:f,icon:"ascended-candle",iconClass:"currency"}};function Sf(r,f){if(1&r&&(e.TgZ(0,"div",4),e.GkF(1,5),e.qZA()),2&r){const i=e.oxw(),c=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",e.WLB(2,t_,null==i.cost?null:i.cost.ac,null==i.remaining?null:i.remaining.ac))}}const jl=function(r,f){return{cost:r,remaining:f,icon:"ticket",iconClass:"currency"}};function If(r,f){if(1&r&&(e.TgZ(0,"div",4),e.GkF(1,5),e.qZA()),2&r){const i=e.oxw(),c=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",e.WLB(2,jl,null==i.cost?null:i.cost.ec,null==i.remaining?null:i.remaining.ec))}}function hd(r,f){if(1&r&&(e.TgZ(0,"b",10),e._uU(1),e.qZA()),2&r){const i=e.oxw().cost;e.xp6(1),e.hij(" ",i||0,"")}}function n_(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const i=e.oxw().remaining;e.xp6(1),e.hij(" ",i||0,"")}}function Aa(r,f){if(1&r&&(e.TgZ(0,"span",11),e._uU(1),e.qZA()),2&r){const i=e.oxw().cost;e.xp6(1),e.hij(" (",i||0,")")}}function xf(r,f){if(1&r&&(e._UZ(0,"mat-icon",6),e.TgZ(1,"div"),e.YNc(2,hd,2,1,"b",7),e.YNc(3,n_,2,1,"span",8),e.YNc(4,Aa,2,1,"span",9),e.qZA()),2&r){const i=f.cost,c=f.remaining,u=f.icon;e.Tol(f.iconClass+" cost-icon icon-middle"),e.Q6J("svgIcon",u)("inline",!1),e.xp6(2),e.Q6J("ngIf",i&&!c),e.xp6(1),e.Q6J("ngIf",c),e.xp6(1),e.Q6J("ngIf",i&&c)}}function i_(r,f){1&r&&(e.TgZ(0,"span",11),e._uU(1,"Total cost of all items."),e.qZA())}function fd(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1,"Cost of items not yet unlocked."),e.qZA(),e._UZ(2,"br"),e.YNc(3,i_,2,0,"span",9),e._UZ(4,"br"),e.TgZ(5,"span",10),e._uU(6,"All items are unlocked."),e.qZA()),2&r){const i=e.oxw();e.xp6(3),e.Q6J("ngIf",i.remaining)}}let Gc=(()=>{class r{constructor(){this.borderLeft=!1,this.completed=!1}ngOnChanges(){this.completed=!!this.remaining&&Wi.T.isEmpty(this.remaining)}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-cost"]],inputs:{cost:"cost",remaining:"remaining",borderLeft:"borderLeft"},features:[e.TTD],decls:11,vars:9,consts:[["container","body","placement","top",1,"costs",3,"ngbTooltip"],["class","cost",4,"ngIf"],["costTemplate",""],["costHover",""],[1,"cost"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"svgIcon","inline"],["class","c-completed",4,"ngIf"],[4,"ngIf"],["class","c-accent",4,"ngIf"],[1,"c-completed"],[1,"c-accent"]],template:function(c,u){if(1&c&&(e.TgZ(0,"div",0),e.YNc(1,dd,2,5,"div",1),e.YNc(2,p1,2,5,"div",1),e.YNc(3,Km,2,5,"div",1),e.YNc(4,e_,2,5,"div",1),e.YNc(5,Sf,2,5,"div",1),e.YNc(6,If,2,5,"div",1),e.qZA(),e.YNc(7,xf,5,7,"ng-template",null,2,e.W1O),e.YNc(9,fd,7,1,"ng-template",null,3,e.W1O)),2&c){const y=e.MAs(10);e.ekj("cost-border-left",u.borderLeft),e.Q6J("ngbTooltip",y),e.xp6(1),e.Q6J("ngIf",null==u.cost?null:u.cost.c),e.xp6(1),e.Q6J("ngIf",null==u.cost?null:u.cost.sc),e.xp6(1),e.Q6J("ngIf",null==u.cost?null:u.cost.h),e.xp6(1),e.Q6J("ngIf",null==u.cost?null:u.cost.sh),e.xp6(1),e.Q6J("ngIf",null==u.cost?null:u.cost.ac),e.xp6(1),e.Q6J("ngIf",null==u.cost?null:u.cost.ec)}},dependencies:[Q.O5,Q.tP,Vo,Y.Hw],styles:[".costs[_ngcontent-%COMP%]{display:inline-block}.cost[_ngcontent-%COMP%]{position:relative;display:inline-block;padding:0 8px 0 30px}.cost[_ngcontent-%COMP%]:not(:first-child), .cost-border-left[_ngcontent-%COMP%]   .cost[_ngcontent-%COMP%]{border-left:1px solid var(--color-cost-border)}mat-icon[_ngcontent-%COMP%]{vertical-align:sub;height:auto}.cost[_ngcontent-%COMP%]   mat-icon.cost-icon[_ngcontent-%COMP%]{position:absolute;top:-2px;left:4px}"],changeDetection:0})}return r})(),us=(()=>{class r{transform(i,c){return c??=be.O.displayFormat,i.format(c)}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275pipe=e.Yjl({name:"dayjs",type:r,pure:!0})}return r})();function o_(r,f){if(1&r&&e._UZ(0,"app-node",15),2&r){const i=e.oxw().$implicit,c=e.oxw();e.Q6J("node",i)("position","left")("highlight",c.highlightItem?(null==i.item?null:i.item.guid)===c.highlightItem||i===c.hiddenItems[c.highlightItem]:void 0)}}function r_(r,f){1&r&&e._UZ(0,"div",16)}function s_(r,f){if(1&r&&(e.TgZ(0,"div",12),e.YNc(1,o_,1,3,"app-node",13),e.YNc(2,r_,1,0,"div",14),e.qZA()),2&r){const i=f.$implicit;e.xp6(1),e.Q6J("ngIf",i),e.xp6(1),e.Q6J("ngIf",null==i?null:i.n)}}function Of(r,f){if(1&r&&e._UZ(0,"app-node",15),2&r){const i=e.oxw().$implicit,c=e.oxw();e.Q6J("node",i)("position","center")("highlight",c.highlightItem?(null==i.item?null:i.item.guid)===c.highlightItem||i===c.hiddenItems[c.highlightItem]:void 0)}}function g1(r,f){1&r&&e._UZ(0,"div",19)}function m1(r,f){1&r&&e._UZ(0,"div",16)}function zc(r,f){1&r&&e._UZ(0,"div",20)}function vi(r,f){if(1&r&&(e.TgZ(0,"div",12),e.YNc(1,Of,1,3,"app-node",13),e.YNc(2,g1,1,0,"div",17),e.YNc(3,m1,1,0,"div",14),e.YNc(4,zc,1,0,"div",18),e.qZA()),2&r){const i=f.$implicit;e.xp6(1),e.Q6J("ngIf",i),e.xp6(1),e.Q6J("ngIf",null==i?null:i.nw),e.xp6(1),e.Q6J("ngIf",null==i?null:i.n),e.xp6(1),e.Q6J("ngIf",null==i?null:i.ne)}}function Yc(r,f){if(1&r&&e._UZ(0,"app-node",15),2&r){const i=e.oxw().$implicit,c=e.oxw();e.Q6J("node",i)("position","right")("highlight",c.highlightItem?(null==i.item?null:i.item.guid)===c.highlightItem||i===c.hiddenItems[c.highlightItem]:void 0)}}function Nf(r,f){1&r&&e._UZ(0,"div",16)}function Pf(r,f){if(1&r&&(e.TgZ(0,"div",12),e.YNc(1,Yc,1,3,"app-node",13),e.YNc(2,Nf,1,0,"div",14),e.qZA()),2&r){const i=f.$implicit;e.xp6(1),e.Q6J("ngIf",i),e.xp6(1),e.Q6J("ngIf",null==i?null:i.n)}}function pd(r,f){if(1&r&&(e.TgZ(0,"span",24),e._uU(1),e.ALo(2,"dayjs"),e.qZA()),2&r){const i=e.oxw(2);e.xp6(1),e.hij("(",e.xi3(2,1,i.tsDate,i.dateFormat),")")}}function gd(r,f){if(1&r&&(e.TgZ(0,"span",24),e._uU(1),e.ALo(2,"dayjs"),e.qZA()),2&r){const i=e.oxw(2);e.xp6(1),e.hij("(",e.xi3(2,1,i.rsDate,i.dateFormat),")")}}function a_(r,f){if(1&r&&(e.TgZ(0,"div",21),e.Hsn(1),e.TgZ(2,"div",22),e._uU(3),e.YNc(4,pd,3,4,"span",23),e.YNc(5,gd,3,4,"span",23),e.qZA()()),2&r){const i=e.oxw();e.xp6(3),e.hij(" ",i.name," "),e.xp6(1),e.Q6J("ngIf",i.tsDate),e.xp6(1),e.Q6J("ngIf",i.rsDate)}}function kf(r,f){1&r&&e._UZ(0,"div",25)}function Rf(r,f){if(1&r&&(e.TgZ(0,"div",26),e._UZ(1,"app-cost",27),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.Q6J("cost",i.totalCost)("remaining",i.remainingCost)}}const Zl=[[["div","name",""]]],_1=["div[name]"];let Sa=(()=>{class r{constructor(i,c,u){this._eventService=i,this._storageService=c,this._elementRef=u,this.nodes=[],this.left=[],this.center=[],this.right=[],this.hiddenItems={},this.hasCostAtRoot=!1,this.itemMap=new Map,this.dateFormat=be.O.displayFormat}ngAfterViewInit(){const c=this._elementRef.nativeElement.querySelector(".spirit-tree-scroll");c&&(c.scrollTop=1e3)}ngOnChanges(i){i.tree&&(this.initializeNodes(),this.subscribeItemChanged(),this.calculateRemainingCosts(),this.tsDate=this.tree.ts?.date,this.rsDate=this.tree.visit?.return?.date)}ngOnDestroy(){this._itemSub?.unsubscribe()}initializeNodes(){this.itemMap.clear(),this.totalCost=Wi.T.create(),this.remainingCost=Wi.T.create(),this.nodes=[],this.left=[],this.center=[],this.right=[],this.hasCost=!1,this.tree&&(this.initializeNode(this.tree.node,0,0),this.hasCost=!Wi.T.isEmpty(this.totalCost),this.hasCostAtRoot=!Wi.T.isEmpty(this.tree.node))}subscribeItemChanged(){this._itemSub?.unsubscribe(),this._itemSub=this._eventService.itemToggled.pipe((0,ye.h)(i=>this.itemMap.has(i.guid))).subscribe(i=>this.onItemChanged(i))}onItemChanged(i){this.itemMap.get(i.guid)&&this.calculateRemainingCosts()}initializeNode(i,c,u){i.item&&this.itemMap.set(i.item.guid,i),this.nodes.push(i),(c<0?this.left:c>0?this.right:this.center)[u]=i,Wi.T.add(this.totalCost,i),i.nw&&this.initializeNode(i.nw,c-1,u),i.ne&&this.initializeNode(i.ne,c+1,u),i.n&&this.initializeNode(i.n,c,u+1),i.hiddenItems?.length&&i.hiddenItems.forEach(I=>this.hiddenItems[I.guid]=i)}calculateRemainingCosts(){this.remainingCost=Wi.T.create(),this.nodes.filter(i=>!i.unlocked&&!i.item?.unlocked).forEach(i=>{Wi.T.add(this.remainingCost,i)})}unlockAll(){const i=this.nodes.filter(I=>I.item),u=i.map(I=>I.item).filter(I=>!I.unlocked).length;confirm(`Are you sure you want to ${u?"UNLOCK":"REMOVE"} all items from this tree?`)&&(u?i.filter(I=>!I.item.unlocked).forEach(I=>{I.item.unlocked=!0,I.unlocked=!0,this._storageService.add(I.item.guid,I.guid),this._eventService.toggleItem(I.item)}):i.filter(I=>I.item.unlocked).forEach(I=>{I.item.unlocked=!1;const J=I.item.nodes||[];J.forEach(K=>K.unlocked=!1),this._storageService.remove(I.item.guid,...J.map(K=>K.guid)),this._eventService.toggleItem(I.item)}),this._storageService.save())}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(Oe),e.Y36(lt.V),e.Y36(e.SBq))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-spirit-tree"]],inputs:{tree:"tree",name:"name",highlight:"highlight",highlightItem:"highlightItem"},features:[e.TTD],ngContentSelectors:_1,decls:16,vars:11,consts:[[1,"content","sky-border-solid"],[1,"spirit-tree-scroll"],["container","body","placement","bottom-end",1,"unlock-all",3,"ngbTooltip","click"],[1,"spirit-tree"],[1,"column","left"],["class","st-item",4,"ngFor","ngForOf"],[1,"column","center"],[1,"column","right"],[1,"footer"],["class","name",4,"ngIf"],["class","hr",4,"ngIf"],["class","costs",4,"ngIf"],[1,"st-item"],[3,"node","position","highlight",4,"ngIf"],["class","arrow arrow-up",4,"ngIf"],[3,"node","position","highlight"],[1,"arrow","arrow-up"],["class","arrow arrow-left",4,"ngIf"],["class","arrow arrow-right",4,"ngIf"],[1,"arrow","arrow-left"],[1,"arrow","arrow-right"],[1,"name"],[1,"name-default"],["class","c-accent ts-date",4,"ngIf"],[1,"c-accent","ts-date"],[1,"hr"],[1,"costs"],[3,"cost","remaining"]],template:function(c,u){1&c&&(e.F$t(Zl),e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.NdJ("click",function(){return u.unlockAll()}),e.TgZ(3,"mat-icon"),e._uU(4,"lock_open"),e.qZA()(),e.TgZ(5,"div",3)(6,"div",4),e.YNc(7,s_,3,2,"div",5),e.qZA(),e.TgZ(8,"div",6),e.YNc(9,vi,5,4,"div",5),e.qZA(),e.TgZ(10,"div",7),e.YNc(11,Pf,3,2,"div",5),e.qZA()()(),e.TgZ(12,"div",8),e.YNc(13,a_,6,3,"div",9),e.YNc(14,kf,1,0,"div",10),e.YNc(15,Rf,2,2,"div",11),e.qZA()()),2&c&&(e.ekj("highlight",u.highlight),e.xp6(1),e.ekj("pad-bottom",u.hasCostAtRoot),e.xp6(1),e.Q6J("ngbTooltip","Toggle all"),e.xp6(5),e.Q6J("ngForOf",u.left),e.xp6(2),e.Q6J("ngForOf",u.center),e.xp6(2),e.Q6J("ngForOf",u.right),e.xp6(2),e.Q6J("ngIf",u.name),e.xp6(1),e.Q6J("ngIf",u.name&&u.hasCost),e.xp6(1),e.Q6J("ngIf",u.hasCost))},dependencies:[Q.sg,Q.O5,Vo,Y.Hw,h1,Gc,us],styles:["[_nghost-%COMP%]{display:inline-block}.content[_ngcontent-%COMP%]{border-radius:var(--border-radius);overflow:hidden}.spirit-tree-scroll[_ngcontent-%COMP%]{background:var(--color-tree-background);position:relative;overflow-y:auto;padding-top:20px}.spirit-tree-scroll.pad-bottom[_ngcontent-%COMP%]{padding-bottom:32px}.spirit-tree[_ngcontent-%COMP%]{display:inline-flex;gap:32px;width:min-content;padding:4px}.column[_ngcontent-%COMP%]{display:flex;gap:40px;flex-direction:column-reverse;justify-content:flex-start;counter-reset:item-counter;width:var(--item-size)}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{padding-bottom:48px}.st-item[_ngcontent-%COMP%]{position:relative;width:var(--item-size);height:var(--item-size)}.arrow[_ngcontent-%COMP%]{position:absolute;background:var(--color-tree-line);width:1px}.arrow-left[_ngcontent-%COMP%]{transform:rotate(-45deg);height:32px;left:-18px;top:0}.arrow-up[_ngcontent-%COMP%]{height:24px;top:-30px;left:50%;transform:translate(-50%)}.arrow-right[_ngcontent-%COMP%]{transform:rotate(45deg);height:32px;right:-18px;top:0}.footer[_ngcontent-%COMP%]{text-align:center;background:var(--color-tree-footer-background)}.name[_ngcontent-%COMP%]{padding:4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:bottom}.name-default[_ngcontent-%COMP%]:not(:only-child){display:none}.ts-date[_ngcontent-%COMP%]{font-size:13px;vertical-align:text-bottom}.hr[_ngcontent-%COMP%]{--width:calc(100% - 20px);height:1px;width:var(--width);margin-left:calc((100% - var(--width)) / 2);background:var(--color-tree-footer-border)}.costs[_ngcontent-%COMP%]{padding:4px}.cost[_ngcontent-%COMP%]{display:inline-block;font-size:14px;padding:0 6px}.cost[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:17px;vertical-align:sub;height:auto}.remaining-cost[_ngcontent-%COMP%]{color:var(--color-accent)}.seasonal[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{fill:var(--color-seasonal)}"]})}return r})();var c_=M(292),ao=M.n(c_);let Ia=(()=>{class r{constructor(){this.label=""}ngOnChanges(i){this.label=this.getLabel()}getLabel(){const i=this.date??ao()();return this.start&&i.isBefore(this.start)?this.getLabelBeforeStart(i):this.start&&!this.end?"ongoing":this.end&&i.isBefore(this.end)?this.getLabelBeforeEnd(i):this.end?"ended":""}getLabelBeforeStart(i){const c=be.O.daysBetween(i,this.start);return c?`in ${c+1} days`:"tomorrow"}getLabelBeforeEnd(i){const c=be.O.daysBetween(i,this.end);return c?`${c+1} days left`:"last day"}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-days-left"]],inputs:{date:"date",start:"start",end:"end"},features:[e.TTD],decls:2,vars:1,template:function(c,u){1&c&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&c&&(e.xp6(1),e.Oqu(u.label))},changeDetection:0})}return r})(),Vl=(()=>{class r{constructor(){this.label=""}ngOnChanges(){this.label=this.getLabel()}getLabel(){if(!this.start||!this.end)return"";const i=be.O.daysBetween(this.start,this.end);return i?`${i+1} days`:"1 day"}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-duration"]],inputs:{start:"start",end:"end"},features:[e.TTD],decls:2,vars:1,template:function(c,u){1&c&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&c&&(e.xp6(1),e.Oqu(u.label))},changeDetection:0})}return r})(),aa=(()=>{class r{constructor(){this.settingChanged=new ee.x,this._wikiNewTab=!1,this._wikiNewTab=this.wikiNewTab}get wikiNewTab(){return"1"===localStorage.getItem("wiki.newtab")}set wikiNewTab(i){this._wikiNewTab=i,localStorage.setItem("wiki.newtab",i?"1":"0"),this.settingChanged.next()}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function l_(r,f){if(1&r&&(e.ynx(0),e.TgZ(1,"a",1)(2,"mat-icon",2),e._uU(3,"question_mark"),e.qZA(),e.TgZ(4,"span",3),e._uU(5,"Wiki"),e.qZA()(),e.BQk()),2&r){const i=e.oxw();e.xp6(1),e.Tol(i.aClass),e.Udp("order",i.order),e.Q6J("href",i.wiki.href||"#",e.LSH),e.uIk("target",i.openNewTab?"_blank":void 0)}}let hr=(()=>{class r{constructor(i){this._settingService=i,this.aClass="container d-inline-block",this.openNewTab=!1,this.openNewTab=i._wikiNewTab}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(aa))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-wiki-link"]],inputs:{aClass:"aClass",wiki:"wiki",order:"order"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"href"],[1,"menu-icon"],[1,"menu-label"]],template:function(c,u){1&c&&e.YNc(0,l_,6,6,"ng-container",0),2&c&&e.Q6J("ngIf",u.wiki)},dependencies:[Q.O5,Y.Hw],styles:["[_nghost-%COMP%]{display:contents}"],changeDetection:0})}return r})();function $l(r,f){if(1&r&&(e.TgZ(0,"span",3),e._uU(1," ("),e._UZ(2,"app-days-left",11),e._uU(3,") "),e.qZA()),2&r){const i=e.oxw();e.xp6(2),e.Q6J("start",i.instance.date)("end",i.instance.endDate)}}function u_(r,f){if(1&r&&(e.TgZ(0,"span",3),e._uU(1," ("),e._UZ(2,"app-days-left",11),e._uU(3,") "),e.qZA()),2&r){const i=e.oxw();e.xp6(2),e.Q6J("start",i.instance.date)("end",i.instance.endDate)}}function md(r,f){if(1&r&&(e.TgZ(0,"span",3),e._uU(1),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.hij("(",i.ecLeft," needed)")}}function Gl(r,f){if(1&r&&(e.TgZ(0,"span",3),e._uU(1),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.hij("(",i.cLeft," needed)")}}function ks(r,f){if(1&r&&(e.TgZ(0,"div",21),e._UZ(1,"app-spirit-tree",22),e.qZA()),2&r){const i=f.$implicit,c=e.oxw(2);e.xp6(1),e.Q6J("tree",i.tree)("name",(null==i?null:i.name)||i.spirit.name)("highlightItem",c.highlightItem)}}function zl(r,f){if(1&r&&(e.TgZ(0,"div",16)(1,"div",1)(2,"h2",17),e._uU(3,"Spirits"),e.qZA()(),e.TgZ(4,"div",18)(5,"div",19),e.YNc(6,ks,2,3,"div",20),e.qZA()()()),2&r){const i=e.oxw();e.xp6(6),e.Q6J("ngForOf",i.instance.spirits)}}function _d(r,f){1&r&&(e.TgZ(0,"span",37),e._uU(1,"Returning IAP"),e.qZA())}function d_(r,f){1&r&&(e.TgZ(0,"span",38),e._uU(1,"New IAP"),e.qZA())}function h_(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const i=e.oxw(3).$implicit;e.xp6(1),e.Oqu(i.name)}}function Ff(r,f){1&r&&(e.TgZ(0,"span"),e._uU(1,"Premium Candle Store"),e.qZA())}function tc(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const i=e.oxw(3).$implicit;let c;e.xp6(1),e.Oqu(null!==(c=i.name)&&void 0!==c?c:null==i.spirit?null:i.spirit.name)}}function f_(r,f){if(1&r&&(e.ynx(0),e._UZ(1,"mat-icon",39),e.TgZ(2,"span",9),e._uU(3),e.qZA(),e.BQk()),2&r){const i=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngbTooltip","Regular candles"),e.xp6(2),e.hij(" ",i.c," ")}}function p_(r,f){if(1&r&&(e.ynx(0),e._UZ(1,"mat-icon",40),e.TgZ(2,"span",9),e._uU(3),e.qZA(),e.BQk()),2&r){const i=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngbTooltip","Season candles"),e.xp6(2),e.hij(" ",i.sc," ")}}function g_(r,f){if(1&r&&(e.ynx(0),e._UZ(1,"mat-icon",41),e.TgZ(2,"span",9),e._uU(3),e.qZA(),e.BQk()),2&r){const i=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngbTooltip","Gift Season Pass"),e.xp6(2),e.hij(" ",i.sp," ")}}function vd(r,f){if(1&r&&(e.TgZ(0,"div",32),e.YNc(1,f_,4,2,"ng-container",15),e.YNc(2,p_,4,2,"ng-container",15),e.YNc(3,g_,4,2,"ng-container",15),e.qZA()),2&r){const i=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",i.c),e.xp6(1),e.Q6J("ngIf",i.sc),e.xp6(1),e.Q6J("ngIf",i.sp)}}function Lf(r,f){if(1&r&&(e.ynx(0),e.TgZ(1,"span",46),e._uU(2),e.qZA(),e.BQk()),2&r){const i=e.oxw(2).$implicit;e.xp6(2),e.Oqu(i.name)}}function m_(r,f){if(1&r&&e.YNc(0,Lf,3,1,"ng-container",15),2&r){const i=e.oxw().$implicit;e.Q6J("ngIf",i)}}function Bf(r,f){if(1&r){const i=e.EpF();e.TgZ(0,"div",42),e.NdJ("click",function(u){e.CHM(i);const y=e.oxw().$implicit,I=e.oxw(4);return e.KtG(I.togglePurchased(u,y))}),e._UZ(1,"app-item",43),e.TgZ(2,"mat-icon",44),e._uU(3,"done"),e.qZA(),e.YNc(4,m_,1,1,"ng-template",null,45,e.W1O),e.qZA()}if(2&r){const i=f.$implicit,c=e.MAs(5),u=e.oxw().$implicit;e.xp6(1),e.Q6J("item",i)("ngbTooltip",c),e.xp6(1),e.ekj("unlocked",null==i?null:i.unlocked)("self",u.bought)}}function yd(r,f){if(1&r&&(e.TgZ(0,"div",27)(1,"div",1)(2,"h3",28),e._uU(3),e.qZA()(),e.TgZ(4,"div",4)(5,"div",29)(6,"mat-icon",8),e._uU(7),e.qZA(),e.TgZ(8,"span",9),e.YNc(9,_d,2,0,"span",30),e.YNc(10,d_,2,0,"span",31),e.qZA()(),e.TgZ(11,"div",32)(12,"mat-icon",8),e._uU(13,"location_on"),e.qZA(),e.TgZ(14,"span",9),e.YNc(15,h_,2,1,"span",15),e.YNc(16,Ff,2,0,"span",15),e.YNc(17,tc,2,1,"span",15),e.qZA()(),e.TgZ(18,"div",32)(19,"mat-icon",8),e._uU(20,"attach_money"),e.qZA(),e.TgZ(21,"span",33),e._uU(22),e.qZA()(),e.YNc(23,vd,4,3,"div",34),e.TgZ(24,"div",35),e.YNc(25,Bf,6,6,"div",36),e.qZA()()()),2&r){const i=f.$implicit,c=e.oxw(2).$implicit,u=e.oxw(2);e.ekj("highlight",i.guid===u.highlightIap),e.xp6(2),e.Q6J("ngbTooltip",i.name),e.xp6(1),e.hij(" ",u.iapNames[i.guid]," "),e.xp6(4),e.Oqu(i.returning?"undo":"grade"),e.xp6(2),e.Q6J("ngIf",i.returning),e.xp6(1),e.Q6J("ngIf",!i.returning),e.xp6(5),e.Q6J("ngIf",c.name),e.xp6(1),e.Q6J("ngIf",!c.name&&"Store"===c.type),e.xp6(1),e.Q6J("ngIf",!c.name&&"Store"!==c.type),e.xp6(4),e.Q6J("ngbTooltip","Price of the IAP in USD."),e.xp6(1),e.hij(" ",i.price," "),e.xp6(1),e.Q6J("ngIf",i.c||i.sc||i.sp),e.xp6(2),e.Q6J("ngForOf",i.items)}}function v1(r,f){if(1&r&&(e.ynx(0),e.YNc(1,yd,26,14,"div",26),e.BQk()),2&r){const i=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",i.iaps)}}function y1(r,f){if(1&r&&(e.ynx(0),e.YNc(1,v1,2,1,"ng-container",15),e.BQk()),2&r){const i=f.$implicit;e.xp6(1),e.Q6J("ngIf",null==i.iaps?null:i.iaps.length)}}function __(r,f){if(1&r&&(e.ynx(0),e.TgZ(1,"div",16)(2,"div",1)(3,"h2",17),e._uU(4,"In-App Purchases"),e.qZA()(),e.TgZ(5,"div",23)(6,"div",24),e.YNc(7,y1,2,1,"ng-container",25),e.qZA()()(),e.BQk()),2&r){const i=e.oxw();e.xp6(7),e.Q6J("ngForOf",i.shops)}}let v_=(()=>{class r{constructor(i,c,u,y,I){this._dataService=i,this._debugService=c,this._eventService=u,this._iapService=y,this._route=I,this.iapNames={},this.c=0,this.cLeft=0,this.ec=0,this.ecLeft=0,I.queryParamMap.subscribe(J=>this.onQueryChanged(J)),I.paramMap.subscribe(J=>this.onParamsChanged(J)),this.subscribeItemChanged()}ngOnDestroy(){this._itemSub?.unsubscribe()}subscribeItemChanged(){this._itemSub?.unsubscribe(),this._itemSub=this._eventService.itemToggled.subscribe(i=>this.onItemChanged())}onItemChanged(){this.calculateCandles()}onQueryChanged(i){this.highlightItem=i.get("highlightItem")||void 0,this.highlightIap=i.get("highlightIap")||void 0}onParamsChanged(i){const c=i.get("guid");this.instance=this._dataService.guidMap.get(c),this.state=be.O.getStateFromPeriod(this.instance.date,this.instance.endDate),this.shops=this.instance.shops?[...this.instance.shops]:void 0,this.shops?.sort((y,I)=>{const J=y.iaps?.filter(Se=>!Se.returning).length??0;return(I.iaps?.filter(Se=>!Se.returning).length??0)-J});const u=this.instance.event?.name;u&&this.shops?.forEach(y=>{y.iaps?.forEach(I=>{let J=I.name?.replace(`${u} `,"");-1===J?.indexOf(" ")&&(J=u.startsWith("Days of ")?I.name?.substring(8):I.name),this.iapNames[I.guid]=J})}),this.calculateCandles()}togglePurchased(i,c){if(this._debugService.copyShop)return i.stopImmediatePropagation(),i.preventDefault(),void navigator.clipboard.writeText(c.shop?.guid??"");this._iapService.togglePurchased(c)}calculateCandles(){this.c=this.cLeft=this.ec=this.ecLeft=0,this.instance.spirits?.map(i=>i.tree).forEach(i=>{i&&xe.f.all(i.node).forEach(c=>{this.c+=c.c||0,this.ec+=c.ec||0,!c.unlocked&&!c.item?.unlocked&&(this.cLeft+=c.c||0,this.ecLeft+=c.ec||0)})})}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(Ue.D),e.Y36(Ye),e.Y36(Oe),e.Y36(gt),e.Y36(q.gz))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-event-instance"]],decls:36,vars:27,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"c-accent"],[1,"sky-card-body"],[1,"grid","grid-2"],[3,"wiki","aClass"],[1,"container"],[1,"menu-icon"],[1,"menu-label"],["class","c-accent",4,"ngIf"],[3,"start","end"],["svgIcon","ticket",1,"menu-icon"],["svgIcon","candle",1,"menu-icon"],["class","sky-card mt",4,"ngIf"],[4,"ngIf"],[1,"sky-card","mt"],[1,"h3","mb-0"],[1,"sky-card-body","pad-0"],[1,"sky-flex","scroll-x","pad"],["class","tree-wrapper p-inline-block",4,"ngFor","ngForOf"],[1,"tree-wrapper","p-inline-block"],[3,"tree","name","highlightItem"],[1,"pad","sky-card-body"],[1,"grid","grid-4"],[4,"ngFor","ngForOf"],["class","sky-card sky-card-border p-rel",3,"highlight",4,"ngFor","ngForOf"],[1,"sky-card","sky-card-border","p-rel"],["container","body",1,"h4","mb-0",3,"ngbTooltip"],[1,"item"],["class","c-partial",4,"ngIf"],["class","c-full",4,"ngIf"],[1,"mt-half","item"],["container","body",1,"menu-label",3,"ngbTooltip"],["class","mt-half item",4,"ngIf"],[1,"mt-half","item","iap-items"],["class","iap-item point d-inline-block p-rel",3,"click",4,"ngFor","ngForOf"],[1,"c-partial"],[1,"c-full"],["svgIcon","candle","container","body","placement","right",1,"menu-icon",3,"ngbTooltip"],["svgIcon","season-candle","container","body","placement","right",1,"menu-icon",3,"ngbTooltip"],["svgIcon","gift","container","body","placement","right",1,"menu-icon","seasonal",3,"ngbTooltip"],[1,"iap-item","point","d-inline-block","p-rel",3,"click"],["placement","bottom","container","body",3,"item","ngbTooltip"],[1,"unlock-check"],["itemHover",""],[1,"ws-nw"]],template:function(c,u){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3),e.TgZ(4,"span",3),e._uU(5),e.ALo(6,"dayjs"),e.qZA()()(),e.TgZ(7,"div",4)(8,"div",5),e._UZ(9,"app-wiki-link",6),e.TgZ(10,"div",7)(11,"mat-icon",8),e._uU(12,"calendar_month"),e.qZA(),e.TgZ(13,"span",9),e._uU(14),e.ALo(15,"dayjs"),e.ALo(16,"dayjs"),e.qZA(),e.YNc(17,$l,4,2,"span",10),e.qZA(),e.TgZ(18,"div",7)(19,"mat-icon",8),e._uU(20,"schedule"),e.qZA(),e.TgZ(21,"span",9),e._UZ(22,"app-duration",11),e.YNc(23,u_,4,2,"span",10),e.qZA()(),e.TgZ(24,"div",7),e._UZ(25,"mat-icon",12),e.TgZ(26,"span",9),e._uU(27),e.YNc(28,md,2,1,"span",10),e.qZA()(),e.TgZ(29,"div",7),e._UZ(30,"mat-icon",13),e.TgZ(31,"span",9),e._uU(32),e.YNc(33,Gl,2,1,"span",10),e.qZA()()()()(),e.YNc(34,zl,7,1,"div",14),e.YNc(35,__,8,1,"ng-container",15)),2&c&&(e.xp6(3),e.hij(" ",u.instance.event.name," "),e.xp6(2),e.Oqu(e.xi3(6,20,u.instance.date,"YYYY")),e.xp6(4),e.Q6J("wiki",u.instance.event._wiki)("aClass","container colspan-2"),e.xp6(1),e.ekj("expired","ended"===u.state),e.xp6(4),e.AsE(" ",e.lcZ(15,23,u.instance.date)," to ",e.lcZ(16,25,u.instance.endDate)," "),e.xp6(3),e.Q6J("ngIf","active"!==u.state),e.xp6(1),e.ekj("expired","ended"===u.state),e.xp6(4),e.Q6J("start",u.instance.date)("end",u.instance.endDate),e.xp6(1),e.Q6J("ngIf","active"===u.state),e.xp6(4),e.hij(" ",u.ec," event currency "),e.xp6(1),e.Q6J("ngIf",u.ecLeft),e.xp6(4),e.hij(" ",u.c," candles "),e.xp6(1),e.Q6J("ngIf",u.cLeft),e.xp6(1),e.Q6J("ngIf",null==u.instance.spirits?null:u.instance.spirits.length),e.xp6(1),e.Q6J("ngIf",null==u.shops?null:u.shops.length))},dependencies:[Q.sg,Q.O5,Vo,Y.Hw,Sa,Vc,Ia,Vl,hr,us],styles:[".tree-wrapper[_ngcontent-%COMP%]   app-spirit-tree[_ngcontent-%COMP%]{vertical-align:bottom}"]})}return r})(),xa=(()=>{class r{constructor(i){this.template=i}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:r,selectors:[["","appTableColumn",""]],inputs:{tdClass:"tdClass"}})}return r})(),Oa=(()=>{class r{constructor(i){this.template=i,this.fit=!1}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:r,selectors:[["","appTableHeader",""]],inputs:{fit:"fit",width:"width",textAlign:"textAlign"}})}return r})(),nc=(()=>{class r{constructor(i){this.template=i}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:r,selectors:[["","appTableFooter",""]],inputs:{colspan:"colspan",textAlign:"textAlign"}})}return r})();function y_(r,f){if(1&r&&(e.ynx(0),e.TgZ(1,"th"),e.GkF(2,4),e.qZA(),e.BQk()),2&r){const i=f.$implicit;e.xp6(1),e.Udp("text-align",i.textAlign)("width",i.width),e.ekj("fit",i.fit),e.xp6(1),e.Q6J("ngTemplateOutlet",i.template)}}function Dd(r,f){if(1&r&&(e.TgZ(0,"thead")(1,"tr"),e.YNc(2,y_,3,7,"ng-container",3),e.qZA()()),2&r){const i=e.oxw();e.xp6(2),e.Q6J("ngForOf",i.headers)}}const bd=function(r){return{row:r}};function ic(r,f){if(1&r&&(e.ynx(0),e.TgZ(1,"td"),e.GkF(2,5),e.qZA(),e.BQk()),2&r){const i=f.$implicit,c=e.oxw().$implicit;e.xp6(1),e.Tol(i.tdClass),e.xp6(1),e.Q6J("ngTemplateOutlet",i.template)("ngTemplateOutletContext",e.VKq(4,bd,c))}}function Cd(r,f){if(1&r&&(e.ynx(0),e.TgZ(1,"tr"),e.YNc(2,ic,3,6,"ng-container",3),e.qZA(),e.BQk()),2&r){const i=e.oxw();e.xp6(2),e.Q6J("ngForOf",i.columns)}}function wd(r,f){if(1&r&&(e.ynx(0),e.TgZ(1,"td"),e.GkF(2,4),e.qZA(),e.BQk()),2&r){const i=f.$implicit;e.xp6(1),e.Udp("text-align",i.textAlign),e.uIk("colspan",i.colspan),e.xp6(1),e.Q6J("ngTemplateOutlet",i.template)}}function Wc(r,f){if(1&r&&(e.TgZ(0,"tfoot")(1,"tr"),e.YNc(2,wd,3,4,"ng-container",3),e.qZA()()),2&r){const i=e.oxw();e.xp6(2),e.Q6J("ngForOf",i.footers)}}let Rs=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-table"]],contentQueries:function(c,u,y){if(1&c&&(e.Suo(y,Oa,4),e.Suo(y,xa,4),e.Suo(y,nc,4)),2&c){let I;e.iGM(I=e.CRH())&&(u.headers=I),e.iGM(I=e.CRH())&&(u.columns=I),e.iGM(I=e.CRH())&&(u.footers=I)}},inputs:{rows:"rows"},decls:6,vars:3,consts:[[1,"table-container"],[1,""],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"ngTemplateOutlet"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(c,u){1&c&&(e.TgZ(0,"div",0)(1,"table",1),e.YNc(2,Dd,3,1,"thead",2),e.TgZ(3,"tbody"),e.YNc(4,Cd,3,1,"ng-container",3),e.qZA(),e.YNc(5,Wc,3,1,"tfoot",2),e.qZA()()),2&c&&(e.xp6(2),e.Q6J("ngIf",null==u.headers?null:u.headers.length),e.xp6(2),e.Q6J("ngForOf",u.rows),e.xp6(1),e.Q6J("ngIf",null==u.footers?null:u.footers.length))},dependencies:[Q.sg,Q.O5,Q.tP],styles:[".table-container[_ngcontent-%COMP%]{min-width:-moz-fit-content;min-width:fit-content}table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0 var(--padding-content-half);margin-top:calc(-1 * var(--padding-content-half));margin-bottom:calc(-1 * var(--padding-content-half))}td[_ngcontent-%COMP%]{background-color:var(--color-background)}th[_ngcontent-%COMP%], tfoot[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:var(--color-table-header-background)}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:var(--padding-content);border-top:var(--border-solid);border-bottom:var(--border-solid)}th[_ngcontent-%COMP%]:first-child, td[_ngcontent-%COMP%]:first-child{border-top-left-radius:var(--border-radius);border-bottom-left-radius:var(--border-radius);border-left:var(--border-solid)}th[_ngcontent-%COMP%]:last-child, td[_ngcontent-%COMP%]:last-child{border-top-right-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-right:var(--border-solid)}th.fit[_ngcontent-%COMP%], td.fit[_ngcontent-%COMP%]{width:1px}.link[_ngcontent-%COMP%]{cursor:pointer}.link[_ngcontent-%COMP%]:hover{color:var(--color-link-hover)}"]})}return r})();function oc(r,f){1&r&&e._uU(0,"#")}function Ed(r,f){1&r&&e._uU(0,"Name")}function Td(r,f){1&r&&e._uU(0,"Year")}function Yl(r,f){1&r&&e._uU(0,"Start")}function D1(r,f){1&r&&e._uU(0,"End")}function Md(r,f){1&r&&e._uU(0,"Spirits")}function qc(r,f){1&r&&e._uU(0,"IAPs")}function D_(r,f){1&r&&e._uU(0,"Unlocked")}function Uf(r,f){1&r&&e._uU(0),2&r&&e.hij(" ",f.row.number," ")}const b_=function(r){return["/event-instance",r]};function C_(r,f){if(1&r&&(e.TgZ(0,"a",8),e._uU(1),e.qZA()),2&r){const i=f.row;e.Q6J("routerLink",e.VKq(2,b_,i.guid)),e.xp6(1),e.Oqu(i.name)}}function Ad(r,f){1&r&&e._uU(0),2&r&&e.hij(" ",f.row.year," ")}function Hf(r,f){if(1&r&&(e._uU(0),e.ALo(1,"dayjs")),2&r){const i=f.row,c=e.oxw();e.hij(" ",e.xi3(1,1,i.date,c.dateFormat)," ")}}function w_(r,f){if(1&r&&(e._uU(0),e.ALo(1,"dayjs")),2&r){const i=f.row,c=e.oxw();e.hij(" ",e.xi3(1,1,i.endDate,c.dateFormat)," ")}}function E_(r,f){1&r&&e._uU(0),2&r&&e.hij(" ",f.row.spirits," ")}function b1(r,f){if(1&r&&(e.ynx(0),e._uU(1," ("),e.TgZ(2,"span",10)(3,"mat-icon"),e._uU(4,"undo"),e.qZA(),e._uU(5),e.qZA(),e._uU(6,") "),e.BQk()),2&r){const i=e.oxw().row;e.xp6(2),e.Q6J("ngbTooltip","Contains "+i.returningIaps+" returning IAPs."),e.xp6(3),e.Oqu(i.returningIaps)}}function T_(r,f){if(1&r&&(e._uU(0),e.YNc(1,b1,7,2,"ng-container",9)),2&r){const i=f.row;e.hij(" ",i.iaps," "),e.xp6(1),e.Q6J("ngIf",i.returningIaps)}}function Wl(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const i=e.oxw().row;e.ekj("completed",i.unlockedItems===i.totalItems),e.xp6(1),e.AsE(" ",i.unlockedItems," / ",i.totalItems," ")}}function Sd(r,f){1&r&&e.YNc(0,Wl,2,4,"span",11),2&r&&e.Q6J("ngIf",f.row.totalItems)}let M_=(()=>{class r{constructor(i,c){this._dataService=i,this._route=c,this.rows=[],this.dateFormat=be.O.displayFormat}ngOnInit(){this._route.paramMap.subscribe(i=>this.onParamsChanged(i))}onParamsChanged(i){const c=i.get("guid");this.event=this._dataService.guidMap.get(c),this.instances=[],this.event.instances&&this.instances.push(...this.event.instances),this.initTable()}initTable(){this.rows=this.instances.map((i,c)=>{let u=0,y=0;i.shops?.forEach(K=>{u+=K.iaps?.length??0,y+=K.iaps?.filter(Se=>Se.returning).length??0});let I=0,J=0;return i.spirits?.forEach(K=>{xe.f.getItems(K.tree.node).forEach(Se=>{Se.unlocked&&I++,J++})}),{number:c+1,name:this.event.name,year:i.date.year(),guid:i.guid,date:i.date,endDate:i.endDate,iaps:u,returningIaps:y,spirits:i.spirits?.length??0,unlockedItems:I,totalItems:J}}).reverse()}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(Ue.D),e.Y36(q.gz))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-event"]],decls:23,vars:2,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card","mt"],[1,"sky-card-body"],[3,"rows"],[3,"appTableHeader"],[3,"appTableColumn"],[3,"routerLink"],[4,"ngIf"],["container","body",1,"returning",3,"ngbTooltip"],[3,"completed",4,"ngIf"]],template:function(c,u){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3),e.qZA()()(),e.TgZ(4,"div",3)(5,"div",4)(6,"app-table",5),e.YNc(7,oc,1,0,"ng-template",6),e.YNc(8,Ed,1,0,"ng-template",6),e.YNc(9,Td,1,0,"ng-template",6),e.YNc(10,Yl,1,0,"ng-template",6),e.YNc(11,D1,1,0,"ng-template",6),e.YNc(12,Md,1,0,"ng-template",6),e.YNc(13,qc,1,0,"ng-template",6),e.YNc(14,D_,1,0,"ng-template",6),e.YNc(15,Uf,1,1,"ng-template",7),e.YNc(16,C_,2,4,"ng-template",7),e.YNc(17,Ad,1,1,"ng-template",7),e.YNc(18,Hf,2,4,"ng-template",7),e.YNc(19,w_,2,4,"ng-template",7),e.YNc(20,E_,1,1,"ng-template",7),e.YNc(21,T_,2,2,"ng-template",7),e.YNc(22,Sd,1,1,"ng-template",7),e.qZA()()()),2&c&&(e.xp6(3),e.Oqu(u.event.name),e.xp6(3),e.Q6J("rows",u.rows))},dependencies:[Q.O5,q.rH,Vo,Y.Hw,Rs,xa,Oa,us],styles:[".returning[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:relative;top:6px}.returning[_ngcontent-%COMP%]{color:var(--color-old)}.completed[_ngcontent-%COMP%]{color:var(--color-unlock-check);font-weight:700}"]})}return r})();function jf(r,f){if(1&r&&e._UZ(0,"div",10),2&r){const i=e.oxw(2);e.Udp("order",1)("background-image","url("+i.event.imageUrl+")")("background-position",i.event.imagePosition||void 0)}}function Id(r,f){if(1&r&&(e.TgZ(0,"div",11)(1,"mat-icon",12),e._uU(2,"calendar_month"),e.qZA(),e.TgZ(3,"span",13),e._uU(4),e.ALo(5,"dayjs"),e.ALo(6,"dayjs"),e.TgZ(7,"span",14),e._uU(8," ("),e._UZ(9,"app-days-left",15),e._uU(10,") "),e.qZA()()()),2&r){const i=e.oxw(2);e.Udp("order",i.sections.date),e.xp6(4),e.AsE(" ",e.lcZ(5,6,i.instance.date)," to ",e.lcZ(6,8,i.instance.endDate)," "),e.xp6(5),e.Q6J("start",i.instance.date)("end",i.instance.endDate)}}const Jc=function(r){return["/event-instance",r]};function A_(r,f){if(1&r&&(e.TgZ(0,"a",16)(1,"mat-icon",12),e._uU(2,"article"),e.qZA(),e.TgZ(3,"span",13),e._uU(4," Overview "),e.qZA()()),2&r){const i=e.oxw(2);e.Udp("order",i.sections.overview),e.Q6J("routerLink",e.VKq(3,Jc,i.instance.guid))}}const Zf=function(r){return["/event",r]};function S_(r,f){if(1&r&&(e.TgZ(0,"a",16)(1,"mat-icon",12),e._uU(2,"list"),e.qZA(),e.TgZ(3,"span",13),e._uU(4," List "),e.qZA()()),2&r){const i=e.oxw(2);e.Udp("order",i.sections.list),e.Q6J("routerLink",e.VKq(3,Zf,i.event.guid))}}function Vf(r,f){if(1&r){const i=e.EpF();e.TgZ(0,"div",17),e.NdJ("click",function(){e.CHM(i);const u=e.oxw(2);return e.KtG(u.checkin())}),e.TgZ(1,"mat-icon",12),e._uU(2),e.qZA(),e.TgZ(3,"span",13),e._uU(4," I have done my dailies. "),e.qZA()()}if(2&r){const i=e.oxw(2);e.Udp("order",i.sections.checkin),e.ekj("active",i.checkedIn),e.xp6(2),e.Oqu(i.checkedIn?"check_box":"check_box_outline_blank")}}function C1(r,f){if(1&r&&(e.TgZ(0,"a",16)(1,"mat-icon",12),e._uU(2,"schedule"),e.qZA(),e.TgZ(3,"span",13),e._uU(4," Most recent "),e.TgZ(5,"span",14),e._uU(6),e.ALo(7,"dayjs"),e.qZA()()()),2&r){const i=e.oxw(2);e.Udp("order",i.sections.recent),e.Q6J("routerLink",e.VKq(7,Jc,i.lastInstance.guid)),e.xp6(6),e.hij("(",e.xi3(7,4,i.lastInstance.date,"YYYY"),")")}}function I_(r,f){if(1&r&&(e.TgZ(0,"div",11)(1,"mat-icon",12),e._uU(2,"sell"),e.qZA(),e.TgZ(3,"span",13),e._UZ(4,"app-cost",18),e.qZA()()),2&r){const i=e.oxw(2);e.Udp("order",i.sections.cost),e.xp6(4),e.Q6J("cost",i.cost)("remaining",i.remainingCost)("borderLeft",!0)}}function ql(r,f){if(1&r&&(e.TgZ(0,"div",1)(1,"div",2)(2,"h2",3),e._uU(3),e.qZA()(),e.TgZ(4,"div",4)(5,"div",5),e.YNc(6,jf,1,6,"div",6),e.YNc(7,Id,11,10,"div",7),e.YNc(8,A_,5,5,"a",8),e.YNc(9,S_,5,5,"a",8),e.YNc(10,Vf,5,5,"div",9),e.YNc(11,C1,8,9,"a",8),e.YNc(12,I_,5,5,"div",7),e.qZA()()()),2&r){const i=e.oxw();e.xp6(3),e.Oqu(i.event.name),e.xp6(3),e.Q6J("ngIf",i.sections.img&&i.event.imageUrl),e.xp6(1),e.Q6J("ngIf",i.sections.date&&i.instance),e.xp6(1),e.Q6J("ngIf",i.sections.overview&&i.instance),e.xp6(1),e.Q6J("ngIf",i.sections.list),e.xp6(1),e.Q6J("ngIf",i.sections.checkin),e.xp6(1),e.Q6J("ngIf",i.sections.recent&&i.lastInstance),e.xp6(1),e.Q6J("ngIf",i.sections.cost&&i.cost)}}let $f=(()=>{class r{constructor(){this.options={show:["img","list","recent"]},this.sections={},this.checkedIn=!1}ngOnInit(){this.updateSections(),this.updateEvent(),this.updateInstance()}ngOnChanges(i){i.options&&this.updateSections(),i.event&&this.updateEvent(),i.instance&&this.updateInstance()}checkin(){this.checkedIn=!this.checkedIn,this.checkedIn?localStorage.setItem(`event.checkin.${this.event?.guid}`,ao().tz().format("YYYY-MM-DD")):localStorage.removeItem(`event.checkin.${this.event?.guid}`)}updateEvent(){if(this.event?.instances){const i=ao()();this.lastInstance=this.event.instances.findLast(c=>be.O.isActive(c.date,c.endDate)),this.lastInstance??=this.event.instances.findLast(c=>c.date.isBefore(i))}this.updateCheckin()}updateCheckin(){const i=localStorage.getItem(`event.checkin.${this.event?.guid}`);if(i){const c=ao().tz(i,"YYYY-MM-DD",be.O.skyTimeZone);this.checkedIn=c.isSame(ao().tz(),"day")}}updateInstance(){if(this.cost=this.remainingCost=void 0,!this.instance)return;const i=this.instance.spirits.map(u=>xe.f.all(u.tree?.node)).flat();this.cost=Wi.T.add(Wi.T.create(),...i);const c=i.filter(u=>!u.unlocked&&!u.item?.unlocked);this.remainingCost=Wi.T.add(Wi.T.create(),...c)}updateSections(){this.sections={},this.options.show?.forEach((i,c)=>{this.sections[i]=c+2})}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-event-card"]],inputs:{event:"event",instance:"instance",options:"options"},features:[e.TTD],decls:1,vars:1,consts:[["class","sky-card p-rel",4,"ngIf"],[1,"sky-card","p-rel"],[1,"sky-card-header"],[1,"h3"],[1,"sky-card-body","event-body"],[1,"grid","grid-1"],["class","event-img sky-border-solid",3,"order","background-image","background-position",4,"ngIf"],["class","item",3,"order",4,"ngIf"],["class","item link",3,"routerLink","order",4,"ngIf"],["class","item checkin",3,"active","order","click",4,"ngIf"],[1,"event-img","sky-border-solid"],[1,"item"],[1,"menu-icon"],[1,"menu-label"],[1,"c-accent"],[3,"start","end"],[1,"item","link",3,"routerLink"],[1,"item","checkin",3,"click"],[3,"cost","remaining","borderLeft"]],template:function(c,u){1&c&&e.YNc(0,ql,13,8,"div",0),2&c&&e.Q6J("ngIf",u.event)},dependencies:[Q.O5,q.rH,Y.Hw,Ia,Gc,us],styles:[".event-img[_ngcontent-%COMP%]{box-shadow:0 0 8px 1px var(--color-image-inset) inset;border-radius:var(--border-radius);height:var(--img-preview-height);background-repeat:no-repeat;background-position:center;background-size:100%;max-width:960px}.checkin[_ngcontent-%COMP%]{cursor:pointer}.checkin[_ngcontent-%COMP%]:hover{color:var(--color-link-hover)}"],changeDetection:0})}return r})();const Na=function(){return["img","list","recent"]},rc=function(r){return{show:r}};function x_(r,f){1&r&&e._UZ(0,"app-event-card",9),2&r&&e.Q6J("event",f.$implicit)("options",e.VKq(3,rc,e.DdM(2,Na)))}function Gf(r,f){1&r&&e._UZ(0,"app-event-card",9),2&r&&e.Q6J("event",f.$implicit)("options",e.VKq(3,rc,e.DdM(2,Na)))}const N_=function(){return{href:"https://sky-children-of-the-light.fandom.com/wiki/Special_Events"}};let P_=(()=>{class r{constructor(i){this._dataService=i,this.lastInstances={},this.eventMap={}}ngOnInit(){this.recurring=[],this.old=[],this._dataService.eventConfig.items.forEach(i=>{if(this.eventMap[i.guid]=i,i.recurring?this.recurring.push(i):this.old.push(i),i.instances){const c=[...i.instances],u=[...c].reverse(),y=ao()(),I=c.find(J=>be.O.isActive(J.date,J.endDate))??u.find(J=>J.date.isBefore(y));this.lastInstances[i.guid]=I}}),this.old.sort((i,c)=>this.lastInstances[i.guid]?this.lastInstances[c.guid]?this.lastInstances[c.guid].date.diff(this.lastInstances[i.guid].date):-1:1)}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(Ue.D))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-events"]],decls:20,vars:4,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card-body"],[3,"wiki"],[1,"sky-card","mt"],[1,"h3"],[1,"grid","grid-4"],[3,"event","options",4,"ngFor","ngForOf"],[3,"event","options"]],template:function(c,u){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Events"),e.qZA()(),e.TgZ(4,"div",3),e._UZ(5,"app-wiki-link",4),e.qZA()(),e.TgZ(6,"div",5)(7,"div",1)(8,"h2",6),e._uU(9,"Recurring events"),e.qZA()(),e.TgZ(10,"div",3)(11,"div",7),e.YNc(12,x_,1,5,"app-event-card",8),e.qZA()()(),e.TgZ(13,"div",5)(14,"div",1)(15,"h2",6),e._uU(16,"Other events"),e.qZA()(),e.TgZ(17,"div",3)(18,"div",7),e.YNc(19,Gf,1,5,"app-event-card",8),e.qZA()()()),2&c&&(e.xp6(5),e.Q6J("wiki",e.DdM(3,N_)),e.xp6(7),e.Q6J("ngForOf",u.recurring),e.xp6(7),e.Q6J("ngForOf",u.old))},dependencies:[Q.sg,$f,hr]})}return r})();class sc{static getItemLink(f){return{route:["/item"],extras:{queryParams:{type:f.type,item:f.guid}}}}static getItemSource(f){if(f.nodes?.length||f.hiddenNodes?.length){const i=[...f.nodes||[],...f.hiddenNodes||[]];let c,u=ao()("2000-1-1");for(const K of i){if(K.unlocked){c=K;break}const Se=xe.f.getRoot(K)?.spiritTree;if(!Se)continue;const Fe=Se?.eventInstanceSpirit?.eventInstance?Se.eventInstanceSpirit.eventInstance.date:Se?.ts?Se.ts.date:Se?.visit?Se.visit.return.date:ao()("2000-1-2");Fe.diff(u)<0||(u=Fe,c=K)}if(!c)return;const y=xe.f.getRoot(c)?.spiritTree,I={queryParams:{highlightItem:f.guid}},J=y?.spirit??y?.ts?.spirit??y?.visit?.spirit;if(y?.eventInstanceSpirit)return{route:["/event-instance",y.eventInstanceSpirit.eventInstance.guid],extras:I};if(J)return{route:["/spirit",J.guid],extras:I}}else if(f.iaps?.length){const i=f.iaps.find(y=>y.bought)||f.iaps.find(y=>y?.shop?.permanent)||f.iaps.at(-1),c=i?.shop,u={queryParams:{highlightIap:i?.guid}};if(c?.permanent)return{route:["/shop"],extras:u};if(c?.event)return{route:["/event-instance",c.event.guid],extras:u};if(c?.season)return{route:["/season",c.season.guid],extras:u}}}static getPreviewLink(f){let i;switch(f.type){case"Hat":i="Hair_Accessories";break;case"Hair":i="Hair";break;case"Mask":i="Masks";break;case"FaceAccessory":i="Face_Accessories";break;case"Necklace":i="Necklaces";break;case"Outfit":i="Outfits";break;case"Shoes":i="Shoes";break;case"Cape":i="Capes";break;case"Instrument":case"Held":case"Prop":i="Props";break;default:i=""}if(!i)return"";const c=new URL(`https://sky-children-of-the-light.fandom.com/wiki/${i}`),u=xe.f.getRoot(f.nodes?.at(-1)??f.hiddenNodes?.at(-1))?.spiritTree,y=u?.spirit??u?.ts?.spirit??u?.visit?.spirit;return c.searchParams.append("tabber-active",y?y.name:f.name),c.hash="Held"===f.type||"Instrument"===f.type?"Held_Props_Display":"Prop"===f.type?"Placeable_Props_Display":"Display",c.toString()}static getQueryParams(f){const i=f instanceof URL?f:new URL(f),c={};for(const[u,y]of i.searchParams.entries())c[u]=y;return c}}const k_=["itemDiv"];function xd(r,f){1&r&&(e.TgZ(0,"div",32)(1,"div",33),e._UZ(2,"mat-icon",34),e.qZA()())}function w1(r,f){if(1&r){const i=e.EpF();e.ynx(0),e._UZ(1,"div",35),e.TgZ(2,"div",32)(3,"app-item",36),e.NdJ("click",function(u){const I=e.CHM(i).$implicit,J=e.oxw(2);return e.KtG(J.selectItem(u,I))}),e.qZA(),e.TgZ(4,"mat-icon",37),e._uU(5,"done"),e.qZA()(),e.BQk()}if(2&r){const i=f.$implicit,c=f.index,u=e.oxw(2);e.xp6(1),e.Udp("display",!u.columns||!c||(c+u.offsetNone)%u.columns?void 0:"block"),e.xp6(2),e.ekj("highlight",i&&i===u.selectedItem)("item-unlocked",i.unlocked&&(i.type!==u.typeEmote||i.level>=u.emoteLevels[i.name])),e.Q6J("item",i)("showSubIcons",!0)("ngbTooltip",i.name),e.xp6(1),e.ekj("self",i.type!==u.typeEmote||i.level>=u.emoteLevels[i.name])("unlocked",i.unlocked)}}function Od(r,f){if(1&r){const i=e.EpF();e.TgZ(0,"div",3)(1,"div",1)(2,"div",26),e._uU(3," You have unlocked "),e.TgZ(4,"b"),e._uU(5),e.qZA(),e._uU(6," out of "),e.TgZ(7,"b"),e._uU(8),e.qZA(),e._uU(9," items. "),e.TgZ(10,"div",27)(11,"mat-icon",28),e.NdJ("click",function(){e.CHM(i);const u=e.oxw();return e.KtG(u.setColumns())}),e._uU(12,"apps"),e.qZA()()()(),e.TgZ(13,"div",5)(14,"div",29),e.YNc(15,xd,3,0,"div",30),e.YNc(16,w1,6,13,"ng-container",31),e.qZA()()()}if(2&r){const i=e.oxw();e.xp6(4),e.ekj("completed",i.shownUnlocked==i.shownItems.length),e.xp6(1),e.Oqu(i.shownUnlocked),e.xp6(2),e.ekj("completed",i.shownUnlocked==i.shownItems.length),e.xp6(1),e.Oqu(i.shownItems.length),e.xp6(3),e.Q6J("ngbTooltip","Toggle column size"),e.xp6(3),e.ekj("gap-half-y",i.columns),e.xp6(1),e.Q6J("ngIf",i.showNone&&i.columns),e.xp6(1),e.Q6J("ngForOf",i.shownItems)}}function zf(r,f){if(1&r&&(e.TgZ(0,"a",44)(1,"mat-icon",45),e._uU(2,"search"),e.qZA(),e.TgZ(3,"span",46),e._uU(4,"Find item"),e.qZA()()),2&r){const i=e.oxw(2);e.Q6J("routerLink",i.selectedItemNav.route)("queryParams",null==i.selectedItemNav.extras?null:i.selectedItemNav.extras.queryParams)}}function R_(r,f){if(1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",38),e._uU(3),e.qZA()(),e.TgZ(4,"div",5)(5,"div",39)(6,"a",40),e._UZ(7,"app-item",41),e.qZA(),e._UZ(8,"app-wiki-link",42),e.YNc(9,zf,5,2,"a",43),e.qZA()()()),2&r){const i=e.oxw();e.xp6(3),e.Oqu(i.selectedItem.name),e.xp6(3),e.Q6J("routerLink",null==i.selectedItemNav?null:i.selectedItemNav.route)("queryParams",null==i.selectedItemNav||null==i.selectedItemNav.extras?null:i.selectedItemNav.extras.queryParams),e.xp6(1),e.Q6J("item",i.selectedItem)("large",!0)("highlight",!0)("hoverHighlight",!1),e.xp6(1),e.Q6J("wiki",i.selectedItem._wiki)("aClass","info-grid-find container"),e.xp6(1),e.Q6J("ngIf",i.selectedItemNav)}}function F_(r,f){if(1&r){const i=e.EpF();e.TgZ(0,"div",52),e.NdJ("click",function(){e.CHM(i);const u=e.oxw().$implicit,y=e.oxw(4);return e.KtG(y.openItem(u))}),e.TgZ(1,"div",53)(2,"div",54),e._UZ(3,"app-item",55),e.qZA(),e.TgZ(4,"div",56),e._UZ(5,"img",57)(6,"app-item-icons",58),e.qZA()()()}if(2&r){const i=e.oxw().$implicit,c=e.oxw(4);e.ekj("highlight",i&&i===c.selectedItem),e.Q6J("ngbTooltip",i.name),e.xp6(3),e.Q6J("item",i)("hoverHighlight",!1)("highlight",!0)("showSubIcons",!1),e.xp6(2),e.Q6J("src",i.previewUrl,e.LSH),e.xp6(1),e.Q6J("item",i)}}function Yf(r,f){if(1&r&&(e.ynx(0),e.YNc(1,F_,7,9,"div",51),e.BQk()),2&r){const i=f.$implicit;e.xp6(1),e.Q6J("ngIf",i.previewUrl)}}function L_(r,f){if(1&r&&(e.TgZ(0,"div",50),e.YNc(1,Yf,2,1,"ng-container",31),e.qZA()),2&r){const i=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",i.previewItems)}}function Wf(r,f){if(1&r&&(e.TgZ(0,"div",5),e.YNc(1,L_,2,1,"div",49),e.qZA()),2&r){const i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==i.previewItems?null:i.previewItems.length)}}function B_(r,f){if(1&r){const i=e.EpF();e.ynx(0),e.TgZ(1,"div",3)(2,"div",47),e.NdJ("click",function(){e.CHM(i);const u=e.oxw();return e.KtG(u.togglePreviews())}),e.TgZ(3,"h2",4),e._uU(4," Field guide "),e.TgZ(5,"mat-icon"),e._uU(6),e.qZA()()(),e.YNc(7,Wf,2,1,"div",48),e.qZA(),e.BQk()}if(2&r){const i=e.oxw();e.xp6(6),e.Oqu(i.showFieldGuide?"keyboard_arrow_up":"keyboard_arrow_down"),e.xp6(1),e.Q6J("ngIf",i.showFieldGuide)}}let U_=(()=>{class r{constructor(i,c,u){this._dataService=i,this._route=c,this._router=u,this.typeEmote=ui.q.Emote,this._scrollToPreview=0,this.typeItems={},this.typeUnlocked={},this.emotes={},this.emoteLevels={},this.shownItems=[],this.previewItems=[],this.shownUnlocked=0,this.showFieldGuide=!1,this.showNone=!1,this.offsetNone=0,this.initializeItems(),this.columns=+localStorage.getItem("item.columns")||void 0,c.queryParamMap.subscribe(y=>{this.onQueryParamsChanged(y)})}ngAfterViewInit(){this._previewObserver=new IntersectionObserver(i=>{i.forEach(c=>{this._scrollToPreview=c.isIntersecting&&c.intersectionRatio>=.9?0:c.boundingClientRect.top>0?-1:1})},{threshold:[0,.1,.9,1]}),this._previewObserver.observe(this.itemDiv.nativeElement)}ngOnDestroy(){this._previewObserver?.disconnect()}onQueryParamsChanged(i){const c=i.get("type");this.type=c||ui.q.Outfit,this.shownItems=this.typeItems[this.type]??[],this.shownUnlocked=this.typeUnlocked[this.type]??0,this.previewItems=this.shownItems.filter(y=>y.previewUrl),this.type===ui.q.Emote&&(this.shownItems=Object.values(this.emotes),this.shownUnlocked=this.shownItems.filter(y=>y.unlocked&&y.level===this.emoteLevels[y.name]).length),this.showNone=this.type===ui.q.Necklace||this.type===ui.q.Hat||this.type===ui.q.Held||this.type===ui.q.Shoes||this.type===ui.q.FaceAccessory,this.offsetNone=this.showNone?1:0;const u=i.get("item")||"";u&&(this.selectedItem=this._dataService.guidMap.get(u),this.selectedItemNav=this.selectedItem?sc.getItemSource(this.selectedItem):void 0),this.showFieldGuide="1"===i.get("fg")}setColumns(){switch(this.columns){case 3:this.columns=4;break;case 4:this.columns=5;break;case 5:this.columns=void 0;break;default:this.columns=3}localStorage.setItem("item.columns",`${this.columns||""}`)}selectCategory(i){const c=sc.getQueryParams(location.href);c.type=i,this.selectedItem?c.item=this.selectedItem.guid:delete c.item,this._router.navigate([],{queryParams:c,replaceUrl:!0})}togglePreviews(){this.showFieldGuide=!this.showFieldGuide;const i=new URL(location.href);i.searchParams.set("fg",this.showFieldGuide?"1":"0"),window.history.replaceState(window.history.state,"",i.pathname+i.search)}initializeItems(){this.typeItems={},this.typeUnlocked={};for(const c in ui.q)this.typeItems[c]=[],this.typeUnlocked[c]=0;const i=(c,u)=>{this.typeItems[c].push(u),u.unlocked&&this.typeUnlocked[c]++};this.items=this._dataService.itemConfig.items.slice(),this.items.forEach(c=>{if("Emote"===c.type)return(!this.emoteLevels[c.name]||c.level>this.emoteLevels[c.name])&&(this.emoteLevels[c.name]=c.level),void((!this.emotes[c.name]||c.unlocked)&&(this.emotes[c.name]=c));i(c.type,c),c.type===ui.q.Instrument&&i(ui.q.Held,c)});for(const c in ui.q)this.typeItems[c].sort((u,y)=>u.order-y.order)}selectItem(i,c){if(i.detail>1)return void this.openItem(c);const u=new URL(location.href);u.searchParams.set("type",`${this.type}`),u.searchParams.set("item",c.guid),window.history.replaceState(window.history.state,"",u.pathname+u.search),this.onQueryParamsChanged((0,q.AF)(sc.getQueryParams(u))),this._scrollToPreview&&setTimeout(()=>{this.itemDiv.nativeElement.scrollIntoView({behavior:"smooth",block:this._scrollToPreview>0?"start":"end"})},50)}openItem(i){const c=sc.getItemSource(i);c?this._router.navigate(c.route,c.extras):alert("Could not find item source.")}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(Ue.D),e.Y36(q.gz),e.Y36(q.F0))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-items"]],viewQuery:function(c,u){if(1&c&&e.Gf(k_,7),2&c){let y;e.iGM(y=e.CRH())&&(u.itemDiv=y.first)}},decls:41,vars:43,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card","mt"],[1,"h3","mb-0"],[1,"sky-card-body"],[1,"flex"],["container","body","placement","bottom",1,"item-icon","category",3,"ngbTooltip","click"],["svgIcon","outfit"],["svgIcon","shoes"],["svgIcon","mask"],["svgIcon","face-acc"],["svgIcon","necklace"],["svgIcon","hair"],["svgIcon","hat"],["svgIcon","cape"],["svgIcon","held"],["svgIcon","prop"],["svgIcon","emote"],["svgIcon","stance"],["svgIcon","call"],["class","sky-card mt",4,"ngIf"],[1,"grid","grid-1","item-info","mt",3,"hidden"],["itemDiv",""],["class","sky-card",4,"ngIf"],[4,"ngIf"],[1,"unlock-bar"],[1,"column-toggle"],["container","body","placement","left",3,"ngbTooltip","click"],[1,"flex","item-grid"],["class","item-icon",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"item-icon"],[1,"item-none"],["svgIcon","none",1,""],[1,"item-col-hr"],["container","body","placement","auto",1,"a",3,"item","showSubIcons","ngbTooltip","click"],[1,"unlock-check"],[1,"h3"],[1,"info-grid"],[1,"item-icon","item-icon-large","info-grid-icon","d-inline-block",3,"routerLink","queryParams"],[3,"item","large","highlight","hoverHighlight"],[3,"wiki","aClass"],["class","info-grid-find container",3,"routerLink","queryParams",4,"ngIf"],[1,"info-grid-find","container",3,"routerLink","queryParams"],[1,"menu-icon"],[1,"menu-label"],[1,"sky-card-header","header-previews",3,"click"],["class","sky-card-body",4,"ngIf"],["class","sky-flex flex-wrap",4,"ngIf"],[1,"sky-flex","flex-wrap"],["class","item-preview link","container","body","placement","auto",3,"highlight","ngbTooltip","click",4,"ngIf"],["container","body","placement","auto",1,"item-preview","link",3,"ngbTooltip","click"],[1,"pad"],[1,"item-preview-icon"],[3,"item","hoverHighlight","highlight","showSubIcons"],[1,"mt"],["loading","lazy",1,"preview-img",3,"src"],[3,"item"]],template:function(c,u){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Items"),e.qZA()()(),e.TgZ(4,"div",3)(5,"div",1)(6,"h2",4),e._uU(7,"Type"),e.qZA()(),e.TgZ(8,"div",5)(9,"div",6)(10,"div",7),e.NdJ("click",function(){return u.selectCategory("Outfit")}),e._UZ(11,"mat-icon",8),e.qZA(),e.TgZ(12,"div",7),e.NdJ("click",function(){return u.selectCategory("Shoes")}),e._UZ(13,"mat-icon",9),e.qZA(),e.TgZ(14,"div",7),e.NdJ("click",function(){return u.selectCategory("Mask")}),e._UZ(15,"mat-icon",10),e.qZA(),e.TgZ(16,"div",7),e.NdJ("click",function(){return u.selectCategory("FaceAccessory")}),e._UZ(17,"mat-icon",11),e.qZA(),e.TgZ(18,"div",7),e.NdJ("click",function(){return u.selectCategory("Necklace")}),e._UZ(19,"mat-icon",12),e.qZA(),e.TgZ(20,"div",7),e.NdJ("click",function(){return u.selectCategory("Hair")}),e._UZ(21,"mat-icon",13),e.qZA(),e.TgZ(22,"div",7),e.NdJ("click",function(){return u.selectCategory("Hat")}),e._UZ(23,"mat-icon",14),e.qZA(),e.TgZ(24,"div",7),e.NdJ("click",function(){return u.selectCategory("Cape")}),e._UZ(25,"mat-icon",15),e.qZA(),e.TgZ(26,"div",7),e.NdJ("click",function(){return u.selectCategory("Held")}),e._UZ(27,"mat-icon",16),e.qZA(),e.TgZ(28,"div",7),e.NdJ("click",function(){return u.selectCategory("Prop")}),e._UZ(29,"mat-icon",17),e.qZA(),e.TgZ(30,"div",7),e.NdJ("click",function(){return u.selectCategory("Emote")}),e._UZ(31,"mat-icon",18),e.qZA(),e.TgZ(32,"div",7),e.NdJ("click",function(){return u.selectCategory("Stance")}),e._UZ(33,"mat-icon",19),e.qZA(),e.TgZ(34,"div",7),e.NdJ("click",function(){return u.selectCategory("Call")}),e._UZ(35,"mat-icon",20),e.qZA()()()(),e.YNc(36,Od,17,11,"div",21),e.TgZ(37,"div",22,23),e.YNc(39,R_,10,10,"div",24),e.qZA(),e.YNc(40,B_,8,2,"ng-container",25)),2&c&&(e.xp6(10),e.ekj("highlight","Outfit"===u.type),e.Q6J("ngbTooltip","Outfits"),e.xp6(2),e.ekj("highlight","Shoes"===u.type),e.Q6J("ngbTooltip","Shoes"),e.xp6(2),e.ekj("highlight","Mask"===u.type),e.Q6J("ngbTooltip","Masks"),e.xp6(2),e.ekj("highlight","FaceAccessory"===u.type),e.Q6J("ngbTooltip","Face accessories"),e.xp6(2),e.ekj("highlight","Necklace"===u.type),e.Q6J("ngbTooltip","Necklaces"),e.xp6(2),e.ekj("highlight","Hair"===u.type),e.Q6J("ngbTooltip","Hair"),e.xp6(2),e.ekj("highlight","Hat"===u.type),e.Q6J("ngbTooltip","Hats"),e.xp6(2),e.ekj("highlight","Cape"===u.type),e.Q6J("ngbTooltip","Capes"),e.xp6(2),e.ekj("highlight","Held"===u.type),e.Q6J("ngbTooltip","Held props"),e.xp6(2),e.ekj("highlight","Prop"===u.type),e.Q6J("ngbTooltip","Props"),e.xp6(2),e.ekj("highlight","Emote"===u.type),e.Q6J("ngbTooltip","Emotes"),e.xp6(2),e.ekj("highlight","Stance"===u.type),e.Q6J("ngbTooltip","Stances"),e.xp6(2),e.ekj("highlight","Call"===u.type),e.Q6J("ngbTooltip","Calls"),e.xp6(2),e.Q6J("ngIf",null==u.shownItems?null:u.shownItems.length),e.xp6(1),e.Q6J("hidden",!u.selectedItem),e.xp6(2),e.Q6J("ngIf",u.selectedItem),e.xp6(1),e.Q6J("ngIf",null==u.previewItems?null:u.previewItems.length))},dependencies:[Q.sg,Q.O5,q.rH,Vo,Y.Hw,Vc,Cf,hr],styles:[".category[_ngcontent-%COMP%]{cursor:pointer;border:var(--border-solid)}.category.highlight[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-item-active)}.category[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-item);width:var(--item-size);height:var(--item-size)}.item-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(200px,1fr))}.item-grid.gap-half-y[_ngcontent-%COMP%]{row-gap:calc(var(--padding-content) / 2)}.column-toggle[_ngcontent-%COMP%]{position:absolute;top:0;right:0;cursor:pointer;z-index:2}.column-toggle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:top}.unlock-bar[_ngcontent-%COMP%]{position:relative}.item-unlocked[_ngcontent-%COMP%]{background-color:var(--color-unlock-check-background)}.completed[_ngcontent-%COMP%]{color:var(--color-new);font-weight:700}.header-previews[_ngcontent-%COMP%]{cursor:pointer}.header-previews[_ngcontent-%COMP%]:hover{color:var(--color-link-hover)}.header-previews[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:middle}.item-icon[_ngcontent-%COMP%]{position:relative;width:var(--item-size);height:var(--item-size);background:var(--color-background);border-radius:var(--border-radius)}.item-icon-large[_ngcontent-%COMP%]{width:var(--item-size-large);height:var(--item-size-large)}.item-col-hr[_ngcontent-%COMP%]{display:none;flex-basis:100%;height:0;margin:0;padding:0}.item-none[_ngcontent-%COMP%]{position:relative;width:var(--item-size);height:var(--item-size)}.item-none[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-item);width:100%;height:100%}app-item.a[_ngcontent-%COMP%]{cursor:pointer}.item-preview[_ngcontent-%COMP%]{position:relative;display:inline-block;background:var(--color-background);border-radius:var(--border-radius);border:var(--border-solid);overflow:hidden;min-width:128px;text-align:center}.item-preview-icon[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.preview-img[_ngcontent-%COMP%]{height:192px;max-height:192px;object-fit:scale-down}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-template-rows:1fr;grid-column-gap:8px;grid-row-gap:8px}.info-grid-icon[_ngcontent-%COMP%]{grid-area:1 / 1 / 3 / 2;border:var(--border-solid)}@media screen and (min-width: 720px){.info-grid[_ngcontent-%COMP%]{grid-template-columns:96px 1fr;grid-template-rows:repeat(2,44px)}.info-grid[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]:nth-child(n+4){grid-column:1 / 3}}"],changeDetection:0})}return r})();function E1(r,f){if(1&r&&e._UZ(0,"div",13),2&r){const i=e.oxw().$implicit;e.Udp("background-image","url("+i.imageUrl+")")("background-position",i.imagePosition||void 0)}}const qf=function(r){return["/realm",r]};function Jf(r,f){if(1&r&&(e.TgZ(0,"div",7)(1,"div",1)(2,"h2",8),e._uU(3),e.qZA()(),e.TgZ(4,"div",3),e.YNc(5,E1,1,4,"div",9),e.TgZ(6,"a",10)(7,"mat-icon",11),e._uU(8,"article"),e.qZA(),e.TgZ(9,"span",12),e._uU(10,"Overview"),e.qZA()()()()),2&r){const i=f.$implicit;e.xp6(3),e.Oqu(i.name),e.xp6(2),e.Q6J("ngIf",i.imageUrl),e.xp6(1),e.Q6J("routerLink",e.VKq(3,qf,i.guid))}}const Qf=function(){return{href:"https://sky-children-of-the-light.fandom.com/wiki/Realms"}};let T1=(()=>{class r{constructor(i){this._dataService=i,this.realms=i.realmConfig.items,this.visibleRealms=this.realms.filter(c=>!c.hidden)}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(Ue.D))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-realms"]],decls:8,vars:3,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card-body"],[3,"wiki"],[1,"grid","grid-3","mt"],["class","sky-card p-rel",4,"ngFor","ngForOf"],[1,"sky-card","p-rel"],[1,"h3","mb-0"],["class","p-rel img sky-border-solid",3,"background-image","background-position",4,"ngIf"],[1,"item","link","mt",3,"routerLink"],[1,"menu-icon"],[1,"menu-label"],[1,"p-rel","img","sky-border-solid"]],template:function(c,u){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Realms"),e.qZA()(),e.TgZ(4,"div",3),e._UZ(5,"app-wiki-link",4),e.qZA()(),e.TgZ(6,"div",5),e.YNc(7,Jf,11,5,"div",6),e.qZA()),2&c&&(e.xp6(5),e.Q6J("wiki",e.DdM(2,Qf)),e.xp6(2),e.Q6J("ngForOf",u.visibleRealms))},dependencies:[Q.sg,Q.O5,q.rH,Y.Hw,hr],styles:[".img[_ngcontent-%COMP%]{box-shadow:0 0 16px 2px var(--color-image-inset) inset;border-radius:var(--border-radius);height:var(--img-preview-height);background-size:cover;background-position:bottom}"]})}return r})();function Nd(r,f){if(1&r&&(e.TgZ(0,"span",3),e._uU(1," ("),e._UZ(2,"app-days-left",12),e._uU(3,") "),e.qZA()),2&r){const i=e.oxw();e.xp6(2),e.Q6J("start",i.season.date)("end",i.season.endDate)}}function ca(r,f){if(1&r&&(e.TgZ(0,"span",3),e._uU(1," ("),e._UZ(2,"app-days-left",12),e._uU(3,") "),e.qZA()),2&r){const i=e.oxw();e.xp6(2),e.Q6J("start",i.season.date)("end",i.season.endDate)}}function Pd(r,f){if(1&r&&(e.TgZ(0,"span",3),e._uU(1),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.hij("(",i.scLeft," needed)")}}function H_(r,f){if(1&r&&(e.TgZ(0,"span",3),e._uU(1),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.hij("(",i.shLeft," needed)")}}function M1(r,f){if(1&r&&e._UZ(0,"app-spirit-tree",22),2&r){const i=e.oxw();e.Q6J("tree",i.guide.tree)("name",i.guide.name)("highlight",i.highlightTree===i.guide.tree.guid)}}const j_=function(r){return["/spirit",r]},kd=function(r){return{highlightTree:r}};function Fs(r,f){if(1&r&&(e.TgZ(0,"div",19)(1,"app-spirit-tree",22)(2,"div",25)(3,"a",26),e._uU(4),e.qZA()()()()),2&r){const i=e.oxw().$implicit,c=e.oxw(2);e.xp6(1),e.Q6J("tree",i.tree)("name",i.name)("highlight",c.highlightTree===i.tree.guid),e.xp6(2),e.Q6J("routerLink",e.VKq(6,j_,i.guid))("queryParams",e.VKq(8,kd,i.tree.guid)),e.xp6(1),e.hij(" ",i.name," ")}}function Kf(r,f){if(1&r&&(e.ynx(0),e.YNc(1,Fs,5,10,"div",24),e.BQk()),2&r){const i=f.$implicit;e.xp6(1),e.Q6J("ngIf",i.tree)}}function Z_(r,f){if(1&r&&(e.ynx(0),e.YNc(1,Kf,2,1,"ng-container",23),e.BQk()),2&r){const i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.spirits)}}function A1(r,f){1&r&&(e.TgZ(0,"span",39),e._uU(1,"Returning IAP"),e.qZA())}function $o(r,f){1&r&&(e.TgZ(0,"span",40),e._uU(1,"New IAP"),e.qZA())}function V_(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const i=e.oxw(3).$implicit;e.xp6(1),e.Oqu(i.name)}}function Rd(r,f){1&r&&(e.TgZ(0,"span"),e._uU(1,"Premium Candle Store"),e.qZA())}function $_(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const i=e.oxw(3).$implicit;let c;e.xp6(1),e.Oqu(null!==(c=i.name)&&void 0!==c?c:null==i.spirit?null:i.spirit.name)}}function G_(r,f){if(1&r&&(e.ynx(0),e._UZ(1,"mat-icon",41),e.TgZ(2,"span",9),e._uU(3),e.qZA(),e.BQk()),2&r){const i=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngbTooltip","Regular candles"),e.xp6(2),e.hij(" ",i.c," ")}}function Fd(r,f){if(1&r&&(e.ynx(0),e._UZ(1,"mat-icon",42),e.TgZ(2,"span",9),e._uU(3),e.qZA(),e.BQk()),2&r){const i=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngbTooltip","Season candles"),e.xp6(2),e.hij(" ",i.sc," ")}}function Xf(r,f){if(1&r&&(e.ynx(0),e._UZ(1,"mat-icon",43),e.TgZ(2,"span",9),e._uU(3),e.qZA(),e.BQk()),2&r){const i=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngbTooltip","Gift Season Pass"),e.xp6(2),e.hij(" ",i.sp," ")}}function ep(r,f){if(1&r&&(e.TgZ(0,"div",34),e.YNc(1,G_,4,2,"ng-container",21),e.YNc(2,Fd,4,2,"ng-container",21),e.YNc(3,Xf,4,2,"ng-container",21),e.qZA()),2&r){const i=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",i.c),e.xp6(1),e.Q6J("ngIf",i.sc),e.xp6(1),e.Q6J("ngIf",i.sp)}}function z_(r,f){if(1&r&&(e.ynx(0),e.TgZ(1,"span",48),e._uU(2),e.qZA(),e.BQk()),2&r){const i=e.oxw(2).$implicit;e.xp6(2),e.Oqu(i.name)}}function tp(r,f){if(1&r&&e.YNc(0,z_,3,1,"ng-container",21),2&r){const i=e.oxw().$implicit;e.Q6J("ngIf",i)}}function np(r,f){if(1&r){const i=e.EpF();e.TgZ(0,"div",44),e.NdJ("click",function(u){e.CHM(i);const y=e.oxw().$implicit,I=e.oxw(4);return e.KtG(I.togglePurchased(u,y))}),e._UZ(1,"app-item",45),e.TgZ(2,"mat-icon",46),e._uU(3,"done"),e.qZA(),e.YNc(4,tp,1,1,"ng-template",null,47,e.W1O),e.qZA()}if(2&r){const i=f.$implicit,c=e.MAs(5),u=e.oxw().$implicit;e.xp6(1),e.Q6J("item",i)("ngbTooltip",c),e.xp6(1),e.ekj("unlocked",null==i?null:i.unlocked)("self",u.bought)}}function Y_(r,f){if(1&r&&(e.TgZ(0,"div",29)(1,"div",1)(2,"h3",30),e._uU(3),e.qZA()(),e.TgZ(4,"div",4)(5,"div",31)(6,"mat-icon",8),e._uU(7),e.qZA(),e.TgZ(8,"span",9),e.YNc(9,A1,2,0,"span",32),e.YNc(10,$o,2,0,"span",33),e.qZA()(),e.TgZ(11,"div",34)(12,"mat-icon",8),e._uU(13,"location_on"),e.qZA(),e.TgZ(14,"span",9),e.YNc(15,V_,2,1,"span",21),e.YNc(16,Rd,2,0,"span",21),e.YNc(17,$_,2,1,"span",21),e.qZA()(),e.TgZ(18,"div",34)(19,"mat-icon",8),e._uU(20,"attach_money"),e.qZA(),e.TgZ(21,"span",35),e._uU(22),e.qZA()(),e.YNc(23,ep,4,3,"div",36),e.TgZ(24,"div",37),e.YNc(25,np,6,6,"div",38),e.qZA()()()),2&r){const i=f.$implicit,c=e.oxw(2).$implicit,u=e.oxw(2);e.ekj("highlight",i.guid===u.highlightIap),e.xp6(2),e.Q6J("ngbTooltip",i.name),e.xp6(1),e.hij(" ",i.name," "),e.xp6(4),e.Oqu(i.returning?"undo":"grade"),e.xp6(2),e.Q6J("ngIf",i.returning),e.xp6(1),e.Q6J("ngIf",!i.returning),e.xp6(5),e.Q6J("ngIf",c.name),e.xp6(1),e.Q6J("ngIf",!c.name&&"Store"===c.type),e.xp6(1),e.Q6J("ngIf",!c.name&&"Store"!==c.type),e.xp6(4),e.Q6J("ngbTooltip","Price of the IAP in USD."),e.xp6(1),e.hij(" ",i.price," "),e.xp6(1),e.Q6J("ngIf",i.c||i.sc||i.sp),e.xp6(2),e.Q6J("ngForOf",i.items)}}function W_(r,f){if(1&r&&(e.ynx(0),e.YNc(1,Y_,26,14,"div",28),e.BQk()),2&r){const i=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",i.iaps)}}function q_(r,f){if(1&r&&(e.ynx(0),e.YNc(1,W_,2,1,"ng-container",21),e.BQk()),2&r){const i=f.$implicit;e.xp6(1),e.Q6J("ngIf",null==i.iaps?null:i.iaps.length)}}function ip(r,f){if(1&r&&(e.ynx(0),e.TgZ(1,"div",15)(2,"div",1)(3,"h2",16),e._uU(4,"In-App Purchases"),e.qZA()(),e.TgZ(5,"div",4)(6,"div",27),e.YNc(7,q_,2,1,"ng-container",23),e.qZA()()(),e.BQk()),2&r){const i=e.oxw();e.xp6(7),e.Q6J("ngForOf",i.shops)}}const ac=function(r){return{season:r,type:"Season,Guide"}};let Ys=(()=>{class r{constructor(i,c,u,y){this._dataService=i,this._eventService=c,this._iapService=u,this._route=y,this.spirits=[],this.shops=[],this.nodes=new Set,this.sc=0,this.scLeft=0,this.sh=0,this.shLeft=0,y.queryParamMap.subscribe(I=>this.onQueryChanged(I)),y.paramMap.subscribe(I=>this.onParamsChanged(I)),this.subscribeItemChanged()}ngOnDestroy(){this._itemSub?.unsubscribe()}subscribeItemChanged(){this._itemSub?.unsubscribe(),this._itemSub=this._eventService.itemToggled.subscribe(i=>this.onItemChanged())}onItemChanged(){this.calculateSc()}onQueryChanged(i){this.highlightIap=i.get("highlightIap")||void 0,this.highlightTree=i.get("highlightTree")||void 0}onParamsChanged(i){const c=i.get("guid");this.initializeSeason(c)}initializeSeason(i){this.season=this._dataService.guidMap.get(i),this.state=be.O.getStateFromPeriod(this.season.date,this.season.endDate),this.guide=void 0,this.spirits=[],this.season?.spirits?.forEach(c=>{switch(c.type){case"Guide":this.guide=c;break;case"Season":this.spirits.push(c)}}),this.shops=this.season.shops??[],this.calculateSc()}calculateSc(){this.sc=this.scLeft=this.sh=this.shLeft=0,[this.guide,...this.spirits].map(i=>i?.tree).forEach(i=>{i&&xe.f.all(i.node).forEach(c=>{this.sc+=c.sc||0,this.sh+=c.sh||0,!c.unlocked&&!c.item?.unlocked&&(this.scLeft+=c.sc||0,this.shLeft+=c.sh||0)})})}togglePurchased(i,c){this._iapService.togglePurchased(c)}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(Ue.D),e.Y36(Oe),e.Y36(gt),e.Y36(q.gz))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-season"]],decls:50,vars:30,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"c-accent"],[1,"sky-card-body"],[1,"grid","grid-2"],[3,"wiki","aClass"],[1,"container",3,"routerLink","queryParams"],[1,"menu-icon"],[1,"menu-label"],[1,"container"],["class","c-accent",4,"ngIf"],[3,"start","end"],["svgIcon","season-candle",1,"menu-icon"],["svgIcon","season-heart",1,"menu-icon"],[1,"sky-card","mt"],[1,"h3"],[1,"sky-card-body","pad-0"],[1,"sky-flex","scroll-x","pad"],[1,"tree-wrapper"],[3,"tree","name","highlight",4,"ngIf"],[4,"ngIf"],[3,"tree","name","highlight"],[4,"ngFor","ngForOf"],["class","tree-wrapper",4,"ngIf"],["name",""],[3,"routerLink","queryParams"],[1,"grid","grid-4"],["class","sky-card p-rel",3,"highlight",4,"ngFor","ngForOf"],[1,"sky-card","p-rel"],["container","body",1,"h4",3,"ngbTooltip"],[1,"item"],["class","c-partial",4,"ngIf"],["class","c-full",4,"ngIf"],[1,"mt-half","item"],["container","body",1,"menu-label",3,"ngbTooltip"],["class","mt-half item",4,"ngIf"],[1,"mt-half","item","iap-items"],["class","iap-item point d-inline-block p-rel",3,"click",4,"ngFor","ngForOf"],[1,"c-partial"],[1,"c-full"],["svgIcon","candle","container","body","placement","right",1,"menu-icon",3,"ngbTooltip"],["svgIcon","season-candle","container","body","placement","right",1,"menu-icon",3,"ngbTooltip"],["svgIcon","gift","container","body","placement","right",1,"menu-icon","seasonal",3,"ngbTooltip"],[1,"iap-item","point","d-inline-block","p-rel",3,"click"],["placement","bottom","container","body",3,"item","ngbTooltip"],[1,"unlock-check"],["itemHover",""],[1,"ws-nw"]],template:function(c,u){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3),e.TgZ(4,"span",3),e._uU(5),e.qZA()()(),e.TgZ(6,"div",4)(7,"div",5),e._UZ(8,"app-wiki-link",6),e.TgZ(9,"a",7)(10,"mat-icon",8),e._uU(11,"list"),e.qZA(),e.TgZ(12,"span",9),e._uU(13," Spirits "),e.TgZ(14,"span",3),e._uU(15),e.qZA()()(),e.TgZ(16,"div",10)(17,"mat-icon",8),e._uU(18,"calendar_month"),e.qZA(),e.TgZ(19,"span",9),e._uU(20),e.ALo(21,"dayjs"),e.ALo(22,"dayjs"),e.YNc(23,Nd,4,2,"span",11),e.qZA()(),e.TgZ(24,"div",10)(25,"mat-icon",8),e._uU(26,"schedule"),e.qZA(),e.TgZ(27,"span",9),e._UZ(28,"app-duration",12),e.YNc(29,ca,4,2,"span",11),e.qZA()(),e.TgZ(30,"div",10),e._UZ(31,"mat-icon",13),e.TgZ(32,"span",9),e._uU(33),e.YNc(34,Pd,2,1,"span",11),e.qZA()(),e.TgZ(35,"div",10),e._UZ(36,"mat-icon",14),e.TgZ(37,"span",9),e._uU(38),e.YNc(39,H_,2,1,"span",11),e.qZA()()()()(),e.TgZ(40,"div",15)(41,"div",1)(42,"h2",16),e._uU(43,"Spirits"),e.qZA()(),e.TgZ(44,"div",17)(45,"div",18)(46,"div",19),e.YNc(47,M1,1,3,"app-spirit-tree",20),e.qZA(),e.YNc(48,Z_,2,1,"ng-container",21),e.qZA()()(),e.YNc(49,ip,8,1,"ng-container",21)),2&c&&(e.xp6(3),e.hij("",u.season.name," "),e.xp6(2),e.hij("(#",u.season.number,")"),e.xp6(3),e.Q6J("wiki",u.season._wiki)("aClass","container"),e.xp6(1),e.Q6J("routerLink","/spirit")("queryParams",e.VKq(28,ac,u.season.guid)),e.xp6(6),e.hij("(",u.season.spirits.length-1,")"),e.xp6(1),e.ekj("expired","ended"===u.state),e.xp6(4),e.AsE(" ",e.lcZ(21,24,u.season.date)," to ",e.lcZ(22,26,u.season.endDate)," "),e.xp6(3),e.Q6J("ngIf","active"!==u.state),e.xp6(1),e.ekj("expired","ended"===u.state),e.xp6(4),e.Q6J("start",u.season.date)("end",u.season.endDate),e.xp6(1),e.Q6J("ngIf","active"===u.state),e.xp6(4),e.hij(" ",u.sc," season candles "),e.xp6(1),e.Q6J("ngIf",u.scLeft),e.xp6(4),e.hij(" ",u.sh," season hearts "),e.xp6(1),e.Q6J("ngIf",u.shLeft),e.xp6(8),e.Q6J("ngIf",null==u.guide?null:u.guide.tree),e.xp6(1),e.Q6J("ngIf",u.spirits),e.xp6(1),e.Q6J("ngIf",u.shops.length))},dependencies:[Q.sg,Q.O5,q.rH,Vo,Y.Hw,Sa,Vc,Ia,Vl,hr,us],styles:["app-spirit-tree[_ngcontent-%COMP%]{vertical-align:bottom}.tree-wrapper[_ngcontent-%COMP%]{display:inline-block}"]})}return r})();function cc(r,f){if(1&r&&e._UZ(0,"div",12),2&r){const i=e.oxw(2);e.Udp("order",i.sections.img)("background-image","url("+i.season.imageUrl+")")("background-position",i.season.imagePosition||void 0)}}const J_=function(r){return["/season",r]};function Q_(r,f){if(1&r&&(e.TgZ(0,"a",13)(1,"mat-icon",14),e._uU(2,"article"),e.qZA(),e.TgZ(3,"span",15),e._uU(4,"Overview"),e.qZA()()),2&r){const i=e.oxw(2);e.Udp("order",i.sections.overview),e.Q6J("routerLink",e.VKq(3,J_,i.season.guid))}}const op=function(r){return{season:r,type:"Season,Guide"}};function rp(r,f){if(1&r&&(e.TgZ(0,"a",16)(1,"mat-icon",14),e._uU(2,"list"),e.qZA(),e.TgZ(3,"span",15),e._uU(4,"Spirits "),e.TgZ(5,"span",17),e._uU(6),e.qZA()()()),2&r){const i=e.oxw(2);e.Udp("order",i.sections.spirits),e.Q6J("routerLink","/spirit")("queryParams",e.VKq(5,op,i.season.guid)),e.xp6(6),e.hij("(",i.season.spirits.length-1,")")}}function Ld(r,f){if(1&r&&(e.TgZ(0,"div",18)(1,"mat-icon",14),e._uU(2,"calendar_month"),e.qZA(),e.TgZ(3,"span",15),e._uU(4),e.ALo(5,"dayjs"),e.ALo(6,"dayjs"),e.TgZ(7,"span",17),e._uU(8," ("),e._UZ(9,"app-days-left",19),e._uU(10,") "),e.qZA()()()),2&r){const i=e.oxw(2);e.Udp("order",i.sections.date),e.xp6(4),e.AsE(" ",e.lcZ(5,6,i.season.date)," to ",e.lcZ(6,8,i.season.endDate)," "),e.xp6(5),e.Q6J("start",i.season.date)("end",i.season.endDate)}}function Qc(r,f){if(1&r){const i=e.EpF();e.TgZ(0,"div",20),e.NdJ("click",function(){e.CHM(i);const u=e.oxw(2);return e.KtG(u.checkin())}),e.TgZ(1,"mat-icon",14),e._uU(2),e.qZA(),e.TgZ(3,"span",15),e._uU(4," I have done my dailies. "),e.qZA()()}if(2&r){const i=e.oxw(2);e.Udp("order",i.sections.checkin),e.ekj("active",i.checkedIn),e.xp6(2),e.Oqu(i.checkedIn?"check_box":"check_box_outline_blank")}}function Jl(r,f){if(1&r&&(e.TgZ(0,"div",18)(1,"mat-icon",14),e._uU(2,"sell"),e.qZA(),e.TgZ(3,"span",15)(4,"div",21),e._UZ(5,"app-cost",22),e.qZA()()()),2&r){const i=e.oxw(2);e.Udp("order",i.sections.cost),e.xp6(5),e.Q6J("cost",i.cost)("remaining",i.remainingCost)("borderLeft",!0)}}function sp(r,f){if(1&r&&(e.TgZ(0,"div",1)(1,"div",2)(2,"h2",3),e._UZ(3,"img",4),e._uU(4),e.TgZ(5,"span",5),e._uU(6),e.qZA()()(),e.TgZ(7,"div",6),e.YNc(8,cc,1,6,"div",7),e.YNc(9,Q_,5,5,"a",8),e.YNc(10,rp,7,7,"a",9),e.YNc(11,Ld,11,10,"div",10),e.YNc(12,Qc,5,5,"div",11),e.YNc(13,Jl,6,5,"div",10),e.qZA()()),2&r){const i=e.oxw();e.xp6(3),e.Q6J("src",i.season.iconUrl,e.LSH),e.xp6(1),e.hij(" ",i.season.name," "),e.xp6(2),e.hij("#",i.season.number,""),e.xp6(2),e.Q6J("ngIf",i.sections.img&&i.season.imageUrl),e.xp6(1),e.Q6J("ngIf",i.sections.overview),e.xp6(1),e.Q6J("ngIf",i.sections.spirits),e.xp6(1),e.Q6J("ngIf",i.sections.date),e.xp6(1),e.Q6J("ngIf",i.sections.checkin),e.xp6(1),e.Q6J("ngIf",i.sections.cost&&i.cost)}}let Bd=(()=>{class r{constructor(){this.options={show:["img","overview","spirits"]},this.sections={},this.checkedIn=!1}ngOnInit(){this.updateSections(),this.updateSeason()}ngOnChanges(i){i.options&&this.updateSections(),i.season&&this.updateSeason()}updateSeason(){if(this.cost=this.remainingCost=void 0,!this.season)return;const i=this.season.spirits.map(u=>xe.f.all(u.tree?.node)).flat();this.cost=Wi.T.add(Wi.T.create(),...i);const c=i.filter(u=>!u.unlocked&&!u.item?.unlocked);this.remainingCost=Wi.T.add(Wi.T.create(),...c),this.updateCheckin()}checkin(){this.checkedIn=!this.checkedIn,this.checkedIn?localStorage.setItem(`season.checkin.${this.season?.guid}`,ao().tz().format("YYYY-MM-DD")):localStorage.removeItem(`season.checkin.${this.season?.guid}`)}updateCheckin(){const i=localStorage.getItem(`season.checkin.${this.season?.guid}`);if(i){const c=ao().tz(i,"YYYY-MM-DD",be.O.skyTimeZone);this.checkedIn=c.isSame(ao().tz(),"day")}}updateSections(){this.sections={},this.options.show?.forEach((i,c)=>{this.sections[i]=c+2})}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-season-card"]],inputs:{season:"season",options:"options"},features:[e.TTD],decls:1,vars:1,consts:[["class","sky-card p-rel",4,"ngIf"],[1,"sky-card","p-rel"],[1,"sky-card-header"],[1,"h3","mb-0"],[1,"season-icon",3,"src"],[1,"h5","c-accent","number"],[1,"sky-card-body","grid","grid-1"],["class","season-img sky-border-solid",3,"order","background-image","background-position",4,"ngIf"],["class","item link",3,"routerLink","order",4,"ngIf"],["class","item link",3,"routerLink","queryParams","order",4,"ngIf"],["class","item",3,"order",4,"ngIf"],["class","item checkin",3,"active","order","click",4,"ngIf"],[1,"season-img","sky-border-solid"],[1,"item","link",3,"routerLink"],[1,"menu-icon"],[1,"menu-label"],[1,"item","link",3,"routerLink","queryParams"],[1,"c-accent"],[1,"item"],[3,"start","end"],[1,"item","checkin",3,"click"],[1,"d-inline-block"],[3,"cost","remaining","borderLeft"]],template:function(c,u){1&c&&e.YNc(0,sp,14,9,"div",0),2&c&&e.Q6J("ngIf",u.season)},dependencies:[Q.O5,q.rH,Y.Hw,Ia,Gc,us],styles:[".season-icon[_ngcontent-%COMP%]{width:var(--item-size-small);height:var(--item-size-small)}.season-img[_ngcontent-%COMP%]{box-shadow:0 0 16px 2px var(--color-image-inset) inset;border-radius:var(--border-radius);height:var(--img-preview-height);background-repeat:no-repeat;background-position:center;background-size:100%}.checkin[_ngcontent-%COMP%]{cursor:pointer}.checkin[_ngcontent-%COMP%]:hover{color:var(--color-link-hover)}"],changeDetection:0})}return r})();const K_=function(r){return["/season",r]};function X_(r,f){if(1&r&&(e.TgZ(0,"a",8),e._UZ(1,"img",9),e.qZA()),2&r){const i=f.$implicit;e.Q6J("routerLink",e.VKq(3,K_,i.guid))("ngbTooltip",i.name),e.xp6(1),e.Q6J("src",i.iconUrl,e.LSH)}}function ev(r,f){1&r&&e._UZ(0,"app-season-card",14),2&r&&e.Q6J("season",f.$implicit)}function tv(r,f){if(1&r&&(e.ynx(0),e.TgZ(1,"div",10)(2,"div",1)(3,"h2",11),e._uU(4),e.qZA()(),e.TgZ(5,"div",3)(6,"div",12),e.YNc(7,ev,1,1,"app-season-card",13),e.qZA()()(),e.BQk()),2&r){const i=f.$implicit,c=e.oxw();e.xp6(4),e.Oqu(i),e.xp6(3),e.Q6J("ngForOf",c.yearMap[i])}}const S1=function(){return{href:"https://sky-children-of-the-light.fandom.com/wiki/Seasonal_Events"}};let nv=(()=>{class r{constructor(i){this._dataService=i,this.years=[],this.seasons=i.seasonConfig.items,this.reverseSeasons=this.seasons.slice().reverse()}ngOnInit(){let i=this.seasons.at(-1).year+1;this.yearMap={};for(let c=this.seasons.length-1;c>=0;c--){const u=this.seasons[c];!this.currentSeason&&be.O.isActive(u.date,u.endDate)&&(this.currentSeason=u),u.year<i&&(i=u.year,this.years.push(i),this.yearMap[i]=[]),this.yearMap[i].push(u)}}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(Ue.D))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-seasons"]],decls:9,vars:4,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2"],[1,"sky-card-body"],[3,"wiki"],[1,"flex","mt"],["class","item-icon","placement","bottom","container","body",3,"routerLink","ngbTooltip",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["placement","bottom","container","body",1,"item-icon",3,"routerLink","ngbTooltip"],[1,"season-icon",3,"src"],[1,"sky-card","mt"],[1,"h3"],[1,"grid","grid-2"],[3,"season",4,"ngFor","ngForOf"],[3,"season"]],template:function(c,u){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Seasons"),e.qZA()(),e.TgZ(4,"div",3),e._UZ(5,"app-wiki-link",4),e.TgZ(6,"div",5),e.YNc(7,X_,2,5,"a",6),e.qZA()()(),e.YNc(8,tv,8,2,"ng-container",7)),2&c&&(e.xp6(5),e.Q6J("wiki",e.DdM(3,S1)),e.xp6(2),e.Q6J("ngForOf",u.reverseSeasons),e.xp6(1),e.Q6J("ngForOf",u.years))},dependencies:[Q.sg,q.rH,Vo,Bd,hr],styles:[".season-icon[_ngcontent-%COMP%]{width:var(--item-size);height:var(--item-size)}.season-icon-small[_ngcontent-%COMP%]{width:var(--item-size-small);height:var(--item-size-small)}.img[_ngcontent-%COMP%]{box-shadow:0 0 16px 2px var(--color-image-inset) inset;border-radius:var(--border-radius);height:var(--img-preview-height);background-repeat:no-repeat;background-position:center;background-size:100%}.item-icon[_ngcontent-%COMP%]{position:relative;width:var(--item-size);height:var(--item-size);background:var(--color-background);border-radius:var(--border-radius)}"]})}return r})(),iv=(()=>{class r{transform(i){switch(i){case"Regular":return"Regular Spirit";case"Elder":return"Elder Spirit";case"Guide":return"Season Guide";case"Season":return"Seasonal Spirit";case"Event":return"Event Spirit";case"Special":return"Special Spirit";default:return""}}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275pipe=e.Yjl({name:"spiritType",type:r,pure:!0})}return r})();function I1(r,f){1&r&&e._UZ(0,"mat-icon",3),2&r&&e.Q6J("svgIcon","candle")("ngbTooltip","Regular Spirit")}function cp(r,f){1&r&&e._UZ(0,"mat-icon",3),2&r&&e.Q6J("svgIcon","candle")("ngbTooltip","Special Spirit")}function lp(r,f){1&r&&e._UZ(0,"mat-icon",3),2&r&&e.Q6J("svgIcon","ascended-candle")("ngbTooltip","Elder Spirit")}function x1(r,f){1&r&&e._UZ(0,"mat-icon",3),2&r&&e.Q6J("svgIcon","season-heart")("ngbTooltip","Season Guide")}function Ql(r,f){1&r&&e._UZ(0,"mat-icon",3),2&r&&e.Q6J("svgIcon","season-candle")("ngbTooltip","Seasonal Spirit")}function O1(r,f){1&r&&e._UZ(0,"span")}let Pa=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-spirit-type-icon"]],inputs:{type:"type"},decls:7,vars:6,consts:[[3,"ngSwitch"],["container","body","placement","bottom",3,"svgIcon","ngbTooltip",4,"ngSwitchCase"],[4,"ngSwitchDefault"],["container","body","placement","bottom",3,"svgIcon","ngbTooltip"]],template:function(c,u){1&c&&(e.ynx(0,0),e.YNc(1,I1,1,2,"mat-icon",1),e.YNc(2,cp,1,2,"mat-icon",1),e.YNc(3,lp,1,2,"mat-icon",1),e.YNc(4,x1,1,2,"mat-icon",1),e.YNc(5,Ql,1,2,"mat-icon",1),e.YNc(6,O1,1,0,"span",2),e.BQk()),2&c&&(e.Q6J("ngSwitch",u.type),e.xp6(1),e.Q6J("ngSwitchCase","Regular"),e.xp6(1),e.Q6J("ngSwitchCase","Special"),e.xp6(1),e.Q6J("ngSwitchCase","Elder"),e.xp6(1),e.Q6J("ngSwitchCase","Guide"),e.xp6(1),e.Q6J("ngSwitchCase","Season"))},dependencies:[Q.RF,Q.n9,Q.ED,Vo,Y.Hw],changeDetection:0})}return r})();function up(r,f){if(1&r&&(e.TgZ(0,"div",18),e._UZ(1,"img",19),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.Q6J("src",i.spirit.imageUrl,e.LSH)("alt",i.spirit.name)}}function ov(r,f){if(1&r&&e._UZ(0,"img",24),2&r){const i=e.oxw(2);e.Q6J("src",i.spirit.season.iconUrl,e.LSH)}}function dp(r,f){1&r&&(e.TgZ(0,"mat-icon"),e._uU(1,"ac_unit"),e.qZA())}const hp=function(r){return["/season",r]},Nn=function(r){return{highlightTree:r}};function fp(r,f){if(1&r&&(e.TgZ(0,"a",20),e.YNc(1,ov,1,1,"img",21),e.YNc(2,dp,2,0,"ng-template",null,22,e.W1O),e.TgZ(4,"span",23),e._uU(5),e.qZA()()),2&r){const i=e.MAs(3),c=e.oxw();e.Q6J("routerLink",e.VKq(5,hp,null==c.spirit.season?null:c.spirit.season.guid))("queryParams",e.VKq(7,Nn,null==c.spirit.tree?null:c.spirit.tree.guid)),e.xp6(1),e.Q6J("ngIf",null==c.spirit.season?null:c.spirit.season.iconUrl)("ngIfElse",i),e.xp6(4),e.hij(" ",null==c.spirit.season?null:c.spirit.season.name," ")}}const pp=function(r){return["/event",r]};function lc(r,f){if(1&r&&(e.TgZ(0,"a",27),e._uU(1),e.qZA()),2&r){const i=e.oxw(2);e.Q6J("routerLink",e.VKq(2,pp,i.event.guid)),e.xp6(1),e.hij(" ",i.event.name," ")}}function gp(r,f){if(1&r&&(e.TgZ(0,"div",25)(1,"mat-icon"),e._uU(2,"event"),e.qZA(),e.YNc(3,lc,2,4,"a",26),e.qZA()),2&r){const i=e.oxw();e.xp6(3),e.Q6J("ngIf",i.event)}}function rv(r,f){1&r&&(e.TgZ(0,"span",23),e._uU(1," Regular Spirit "),e.qZA())}function Kl(r,f){if(1&r&&(e.TgZ(0,"span",23),e._uU(1),e.qZA()),2&r){const i=e.oxw(2);e.xp6(1),e.hij(" ",i.spirit.type," ")}}const uc=function(){return["/spirit"]},Ud=function(r){return{type:r}};function Kc(r,f){if(1&r&&(e.TgZ(0,"a",20)(1,"mat-icon"),e._uU(2,"person"),e.qZA(),e.YNc(3,rv,2,0,"span",28),e.YNc(4,Kl,2,1,"span",28),e.qZA()),2&r){const i=e.oxw();e.Q6J("routerLink",e.DdM(4,uc))("queryParams",e.VKq(5,Ud,i.spirit.type)),e.xp6(3),e.Q6J("ngIf","Regular"===i.spirit.type),e.xp6(1),e.Q6J("ngIf","Elder"===i.spirit.type||"Special"===i.spirit.type)}}const mp=function(r){return["/realm",r]};function Hd(r,f){if(1&r&&(e.TgZ(0,"div",25)(1,"mat-icon"),e._uU(2,"map"),e.qZA(),e.TgZ(3,"a",29),e._uU(4),e.qZA()()),2&r){const i=e.oxw();e.xp6(3),e.Q6J("routerLink",e.VKq(3,mp,i.spirit.area.realm.guid))("queryParams",e.VKq(5,Nn,null==i.spirit.tree?null:i.spirit.tree.guid)),e.xp6(1),e.hij(" ",i.spirit.area.realm.name," ")}}function jd(r,f){if(1&r&&(e.TgZ(0,"div",25)(1,"mat-icon"),e._uU(2,"location_on"),e.qZA(),e.TgZ(3,"span",23),e._uU(4),e.qZA()()),2&r){const i=e.oxw();e.xp6(4),e.hij(" ",i.spirit.area.name," ")}}function Zd(r,f){if(1&r&&(e.TgZ(0,"div",30),e._UZ(1,"app-spirit-tree",31),e.qZA()),2&r){const i=f.$implicit,c=e.oxw();e.xp6(1),e.Q6J("tree",i.tree)("name",i.name)("highlight",c.highlightTree===i.tree.guid)("highlightItem",c.highlightItem)}}let _p=(()=>{class r{constructor(i,c){this._dataService=i,this._route=c,this.trees=[],c.queryParamMap.subscribe(u=>this.onQueryChanged(u)),c.paramMap.subscribe(u=>this.onParamsChanged(u))}onQueryChanged(i){this.highlightTree=i.get("highlightTree")||void 0,this.highlightItem=i.get("highlightItem")||void 0}onParamsChanged(i){const c=i.get("guid");this.spirit=this._dataService.guidMap.get(c),this.typeName=(new iv).transform(this.spirit.type),this.event=this.spirit?.events?.at(-1)?.eventInstance?.event,this.trees=[];const u=(this.spirit.ts||[]).map(J=>({date:J.date,name:"Traveling Spirit #"+J.number,tree:J.tree})),y=(this.spirit.returns||[]).map((J,K)=>({date:J.return.date,name:J.return.name||"Visit #"+(K+1),tree:J.tree})),I=u.concat(y);I.sort((J,K)=>K.date.diff(J.date)),this.trees=I,this.spirit.tree&&this.trees.push({name:"Spirit tree",tree:this.spirit.tree})}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(Ue.D),e.Y36(q.gz))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-spirit"]],decls:26,vars:11,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2"],[1,"sky-card","mt"],[1,"h3"],[3,"type"],[1,"sky-card-body"],[1,"spirit-grid"],[1,"spirit-grid-img","spirit-grid-item","sky-card-item"],["class","spirit-img",4,"ngIf"],[3,"wiki","aClass"],["class","spirit-grid-item sky-card-item sky-card-item-icon",3,"routerLink","queryParams",4,"ngIf"],["class","spirit-grid-item sky-card-item sky-card-item-icon",4,"ngIf"],[1,"sky-card","mt","spirit-trees"],[1,"h3","mb-0"],[1,"sky-card-body","pad-0"],[1,"sky-flex","scroll-x","pad"],["class","tree-wrapper p-inline-block",4,"ngFor","ngForOf"],[1,"spirit-img"],[3,"src","alt"],[1,"spirit-grid-item","sky-card-item","sky-card-item-icon",3,"routerLink","queryParams"],["class","icon",3,"src",4,"ngIf","ngIfElse"],["seasonIcon",""],[1,"menu-label"],[1,"icon",3,"src"],[1,"spirit-grid-item","sky-card-item","sky-card-item-icon"],["class","menu-label",3,"routerLink",4,"ngIf"],[1,"menu-label",3,"routerLink"],["class","menu-label",4,"ngIf"],[1,"menu-label",3,"routerLink","queryParams"],[1,"tree-wrapper","p-inline-block"],[3,"tree","name","highlight","highlightItem"]],template:function(c,u){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Spirit"),e.qZA()()(),e.TgZ(4,"div",3)(5,"div",1)(6,"h2",4),e._UZ(7,"app-spirit-type-icon",5),e._uU(8),e.qZA()(),e.TgZ(9,"div",6)(10,"div",7)(11,"div",8),e.YNc(12,up,2,2,"div",9),e.qZA(),e._UZ(13,"app-wiki-link",10),e.YNc(14,fp,6,9,"a",11),e.YNc(15,gp,4,1,"div",12),e.YNc(16,Kc,5,7,"a",11),e.YNc(17,Hd,5,7,"div",12),e.YNc(18,jd,5,1,"div",12),e.qZA()()(),e.TgZ(19,"div",13)(20,"div",1)(21,"h2",14),e._uU(22,"Spirit tree"),e.qZA()(),e.TgZ(23,"div",15)(24,"div",16),e.YNc(25,Zd,2,4,"div",17),e.qZA()()()),2&c&&(e.xp6(7),e.Q6J("type",u.spirit.type),e.xp6(1),e.hij(" ",u.spirit.name," "),e.xp6(4),e.Q6J("ngIf",u.spirit.imageUrl),e.xp6(1),e.Q6J("wiki",u.spirit._wiki)("aClass","spirit-grid-item sky-card-item sky-card-item-icon"),e.xp6(1),e.Q6J("ngIf","Season"===u.spirit.type||"Guide"===u.spirit.type),e.xp6(1),e.Q6J("ngIf","Event"===u.spirit.type),e.xp6(1),e.Q6J("ngIf","Regular"===u.spirit.type||"Elder"===u.spirit.type||"Special"===u.spirit.type),e.xp6(1),e.Q6J("ngIf",null==u.spirit.area?null:u.spirit.area.realm),e.xp6(1),e.Q6J("ngIf",u.spirit.area),e.xp6(7),e.Q6J("ngForOf",u.trees))},dependencies:[Q.sg,Q.O5,q.rH,Y.Hw,Sa,Pa,hr],styles:[".tree-wrapper[_ngcontent-%COMP%]   app-spirit-tree[_ngcontent-%COMP%]{vertical-align:bottom}.spirit-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:var(--border-radius);padding:5px 0;width:auto;height:192px;max-height:192px}.spirit-trees[_ngcontent-%COMP%]{max-width:100%}.spirit-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-template-rows:1fr;gap:8px}.spirit-grid-img[_ngcontent-%COMP%]{grid-area:1 / 1 / 2 / 2;width:100%;height:100%;padding-top:0;padding-bottom:0}.spirit-grid-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.spirit-img[_ngcontent-%COMP%]{width:auto;height:208px}.spirit-grid-item[_ngcontent-%COMP%]{width:100%;overflow:auto;border:var(--border-solid)}@media screen and (min-width: 720px){.spirit-grid[_ngcontent-%COMP%]{grid-template-columns:160px 1fr;grid-template-rows:46px}.spirit-grid-img[_ngcontent-%COMP%]{grid-area:1 / 1 / 5 / 2}.spirit-grid-item[_ngcontent-%COMP%]:nth-child(n+6){grid-column:1 / 3}}"]})}return r})();class Vd{static union(...f){const i=new Set;return f.forEach(c=>c.forEach(u=>i.add(u))),Array.from(i)}static intersection(...f){const i=new Map;for(const u of f)for(const y of u)i.set(y,(i.get(y)||0)+1);const c=[];return i.forEach((u,y)=>{u<f.length||c.push(y)}),c}}class sv{static getTrees(f){const i=[];f.ts?.forEach(u=>{i.push({date:u.date,tree:u.tree})}),f.returns?.forEach(u=>{i.push({date:u.return.date,tree:u.tree})}),i.sort((u,y)=>u.date.diff(y.date));const c=[];return f.tree&&c.push(f.tree),c.push(...i.map(u=>u.tree)),c}}function av(r,f){1&r&&e._uU(0,"Spirit")}function cv(r,f){1&r&&e._uU(0,"Type")}function vp(r,f){1&r&&e._uU(0,"Location")}function lv(r,f){1&r&&e._uU(0,"Unlocked")}const yp=function(r){return["/spirit",r]};function uv(r,f){if(1&r&&(e.TgZ(0,"a",16),e._uU(1),e.qZA()),2&r){const i=f.row;e.Q6J("routerLink",e.VKq(2,yp,i.guid)),e.xp6(1),e.Oqu(i.name)}}function dv(r,f){1&r&&e._UZ(0,"app-spirit-type-icon",17),2&r&&e.Q6J("type",f.row.type)}function Dp(r,f){if(1&r&&(e.TgZ(0,"a",16),e._uU(1),e.qZA()),2&r){const i=f.row;e.Q6J("routerLink",void 0),e.xp6(1),e.hij(" ",null==i.area?null:i.area.name," ")}}function bp(r,f){if(1&r&&(e.TgZ(0,"span",19),e._uU(1),e.qZA()),2&r){const i=e.oxw().row;e.ekj("partial",i.unlockedLast&&i.unlockedLast===i.totalLast||(i.unlockedFree||i.totalPass)&&i.unlockedFree===i.totalFree)("completed",i.unlockedItems===i.totalItems),e.Q6J("ngbTooltip",i.unlockTooltip),e.xp6(1),e.AsE(" ",i.unlockedItems," / ",i.totalItems," ")}}function hv(r,f){1&r&&e.YNc(0,bp,2,7,"span",18),2&r&&e.Q6J("ngIf",f.row.totalItems)}function fv(r,f){1&r&&e._uU(0,"Total:")}function ts(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const i=e.oxw(2);e.ekj("completed",i.unlockedItems===i.totalItems),e.xp6(1),e.AsE("",i.unlockedItems," / ",i.totalItems,"")}}function pv(r,f){if(1&r&&(e.TgZ(0,"div",10)(1,"div",4)(2,"app-table",11),e.YNc(3,av,1,0,"ng-template",12),e.YNc(4,cv,1,0,"ng-template",12),e.YNc(5,vp,1,0,"ng-template",12),e.YNc(6,lv,1,0,"ng-template",12),e.YNc(7,uv,2,4,"ng-template",13),e.YNc(8,dv,1,1,"ng-template",13),e.YNc(9,Dp,2,2,"ng-template",13),e.YNc(10,hv,1,1,"ng-template",13),e.YNc(11,fv,1,0,"ng-template",14),e.YNc(12,ts,2,4,"ng-template",15),e.qZA()()()),2&r){const i=e.oxw();e.xp6(2),e.Q6J("rows",i.rows),e.xp6(9),e.Q6J("colspan",3)("textAlign","right")}}function gv(r,f){if(1&r&&(e.TgZ(0,"div",31),e._UZ(1,"img",32),e.qZA()),2&r){const i=e.oxw().$implicit;e.xp6(1),e.Q6J("src",i.imageUrl,e.LSH)}}function N1(r,f){if(1&r&&(e.TgZ(0,"span",33),e._uU(1),e.qZA()),2&r){const i=e.oxw().$implicit;e.ekj("partial",i.unlockedLast&&i.unlockedLast===i.totalLast||(i.unlockedFree||i.totalPass)&&i.unlockedFree===i.totalFree)("completed",i.unlockedItems===i.totalItems),e.Q6J("ngbTooltip",i.unlockTooltip),e.xp6(1),e.AsE(" ",i.unlockedItems," / ",i.totalItems," ")}}function $d(r,f){if(1&r&&(e.TgZ(0,"div",22)(1,"div",1)(2,"h2",23),e._UZ(3,"app-spirit-type-icon",17),e._uU(4),e.qZA()(),e.TgZ(5,"div",4),e.YNc(6,gv,2,1,"div",24),e.TgZ(7,"a",25)(8,"mat-icon",26),e._uU(9,"list"),e.qZA(),e.TgZ(10,"span",27),e._uU(11,"Information"),e.qZA()(),e.TgZ(12,"div",28)(13,"mat-icon",26),e._uU(14,"lock_open"),e.qZA(),e.TgZ(15,"div",29),e.YNc(16,N1,2,7,"span",30),e.qZA()()()()),2&r){const i=f.$implicit;e.xp6(3),e.Q6J("type",i.type),e.xp6(1),e.hij(" ",i.name," "),e.xp6(2),e.Q6J("ngIf",i.imageUrl),e.xp6(1),e.Q6J("routerLink",e.VKq(5,yp,i.guid)),e.xp6(9),e.Q6J("ngIf",i.totalItems)}}function Cp(r,f){if(1&r&&(e.TgZ(0,"div",20),e.YNc(1,$d,17,7,"div",21),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.rows)}}function mv(r,f){1&r&&e._UZ(0,"mat-icon",37),2&r&&e.Q6J("svgIcon","ascended-candle")("ngbTooltip","Elder Spirit")}function _v(r,f){1&r&&e._UZ(0,"mat-icon",37),2&r&&e.Q6J("svgIcon","season-heart")("ngbTooltip","Season Guide")}function vv(r,f){1&r&&e._UZ(0,"mat-icon",37),2&r&&e.Q6J("svgIcon","candle")("ngbTooltip","Regular Spirit")}function wp(r,f){1&r&&e._UZ(0,"mat-icon",37),2&r&&e.Q6J("svgIcon","season-candle")("ngbTooltip","Season Spirit")}function yv(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const i=e.oxw().row;e.xp6(1),e.Oqu(i.type)}}function Dv(r,f){1&r&&(e.ynx(0,34),e.YNc(1,mv,1,2,"mat-icon",35),e.YNc(2,_v,1,2,"mat-icon",35),e.YNc(3,vv,1,2,"mat-icon",35),e.YNc(4,wp,1,2,"mat-icon",35),e.YNc(5,yv,2,1,"span",36),e.BQk()),2&r&&(e.Q6J("ngSwitch",f.row.type),e.xp6(1),e.Q6J("ngSwitchCase","Elder"),e.xp6(1),e.Q6J("ngSwitchCase","Guide"),e.xp6(1),e.Q6J("ngSwitchCase","Regular"),e.xp6(1),e.Q6J("ngSwitchCase","Season"))}let Gd=(()=>{class r{constructor(i,c,u){this._dataService=i,this._changeDetectorRef=c,this._route=u,this.mode="cards",this.spirits=[],this.spiritTrees={},this.rows=[],this.unlockedItems=0,this.totalItems=0,this.mode=localStorage.getItem("spirits.mode")||"grid",u.queryParamMap.subscribe(y=>{this.onQueryChanged(y)})}changeMode(){this.mode="grid"===this.mode?"cards":"grid",localStorage.setItem("spirits.mode",this.mode)}onQueryChanged(i){this.spirits=[],this.spiritTrees={};const c=i.get("type"),u=c?new Set(c.split(",")):void 0,I=[],J=i.get("realm"),K=J?this._dataService.guidMap.get(J):void 0;if(K){const vt=new Set(K.areas?.flatMap(jn=>jn.spirits||[])||[]),Ft=this._dataService.spiritConfig.items.filter(jn=>vt.has(jn));I.push(Ft)}const Se=i.get("season"),Fe=Se?this._dataService.guidMap.get(Se):void 0;Fe&&I.push(Fe.spirits||[]);let Tt=I.length?Vd.intersection(...I):this._dataService.spiritConfig.items;switch(Tt=u?Tt.filter(vt=>u.has(vt.type)):Tt,Tt.forEach(vt=>(this.spirits.push(vt),this.spiritTrees[vt.guid]=sv.getTrees(vt),!0)),i.get("sort")){case"age-asc":this.sortAge(1);break;case"age-desc":this.sortAge(-1);break;case"name-asc":this.sortName()}this.initTable()}initTable(){this.unlockedItems=0,this.totalItems=0,this.rows=this.spirits.map(i=>{let c=0,u=0;const y=this.spiritTrees[i.guid],I=new Set;y.forEach(Cn=>{xe.f.getItems(Cn.node).forEach(an=>{I.has(an)||(I.add(an),an.unlocked&&c++,u++)})});let J=0,K=0,Se=0,Fe=0,Tt=0,vt=0;const Ft=y.at(-1);Ft&&xe.f.getItems(Ft.node).forEach(Cn=>{Cn.unlocked&&J++,K++,"Ultimate"===Cn.group?(Cn.unlocked&&Tt++,vt++):(Cn.unlocked&&Se++,Fe++)});const jn=c===u?"All items unlocked.":J&&J===K?"All items unlocked in most recent visit.":(Se||vt)&&Se===Fe?"All free items unlocked.":void 0;return this.unlockedItems+=c,this.totalItems+=u,{...i,areaGuid:i.area?.guid,unlockedItems:c,totalItems:u,unlockedFree:Se,totalFree:Fe,unlockedPass:Tt,totalPass:vt,unlockedLast:J,totalLast:K,unlockTooltip:jn}})}sortDefault(){this.sortByDefault(),this.updateSortUrl("default"),this.initTable()}sortName(){this.sortByName(),this.updateSortUrl("name-asc"),this.initTable()}sortAge(i){this.sortByAge(i),this.updateSortUrl(i>0?"age-asc":"age-desc"),this.initTable()}sortByDefault(){this.spirits.sort((i,c)=>i._index-c._index)}sortByName(){this.spirits.sort((i,c)=>i.name.localeCompare(c.name))}sortByAge(i){const c=ao()("2019-1-1"),u=ao()("2999-1-1"),y=this.spirits.reduce((I,J)=>{let K=J.season?.date||J.events?.at(-1)?.eventInstance?.date;switch(J.type){case"Regular":case"Elder":K=c;break;case"Guide":case"Season":K=J.season?.date;break;case"Event":K=J.events?.at(0)?.eventInstance?.date}return I[J.guid]=K??u,I},{});this.spirits.sort((I,J)=>{const Fe=y[I.guid].diff(y[J.guid]);return Fe?Fe*i:(I._index-J._index)*i})}updateSortUrl(i){const c=new URL(location.href);c.searchParams.set("sort",i),history.replaceState(history.state,"",c.pathname+c.search)}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(Ue.D),e.Y36(e.sBO),e.Y36(q.gz))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-spirits"]],decls:20,vars:2,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"h6","link",3,"click"],[1,"sky-card-body"],[1,"sky-flex","flex-wrap"],["type","button",3,"click"],["class","sky-card mt p-0",4,"ngIf"],["class","grid grid-4 mt",4,"ngIf"],["type",""],[1,"sky-card","mt","p-0"],[3,"rows"],[3,"appTableHeader"],[3,"appTableColumn"],[3,"appTableFooter","colspan","textAlign"],[3,"appTableFooter"],[3,"routerLink"],[3,"type"],["container","body","placement","left",3,"partial","completed","ngbTooltip",4,"ngIf"],["container","body","placement","left",3,"ngbTooltip"],[1,"grid","grid-4","mt"],["class","sky-card p-rel",4,"ngFor","ngForOf"],[1,"sky-card","p-rel"],[1,"h3","mb-0"],["class","p-rel item spirit-img",4,"ngIf"],[1,"mt","item","link",3,"routerLink"],[1,"menu-icon"],[1,"menu-label"],[1,"mt","p-rel","item"],[1,"d-inline-block","menu-label"],["container","body","placement","bottom",3,"partial","completed","ngbTooltip",4,"ngIf"],[1,"p-rel","item","spirit-img"],["loading","lazy",3,"src"],["container","body","placement","bottom",3,"ngbTooltip"],[3,"ngSwitch"],["container","body","placement","bottom",3,"svgIcon","ngbTooltip",4,"ngSwitchCase"],[4,"ngSwitchDefault"],["container","body","placement","bottom",3,"svgIcon","ngbTooltip"]],template:function(c,u){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3," Spirits "),e.TgZ(4,"a",3),e.NdJ("click",function(){return u.changeMode()}),e._uU(5,"Change view"),e.qZA()()(),e.TgZ(6,"div",4)(7,"div",5)(8,"button",6),e.NdJ("click",function(){return u.sortDefault()}),e._uU(9,"Default"),e.qZA(),e.TgZ(10,"button",6),e.NdJ("click",function(){return u.sortName()}),e._uU(11,"Alphabetical"),e.qZA(),e.TgZ(12,"button",6),e.NdJ("click",function(){return u.sortAge(1)}),e._uU(13,"Oldest first"),e.qZA(),e.TgZ(14,"button",6),e.NdJ("click",function(){return u.sortAge(-1)}),e._uU(15,"Newest first"),e.qZA()()()(),e.YNc(16,pv,13,3,"div",7),e.YNc(17,Cp,2,1,"div",8),e.YNc(18,Dv,6,5,"ng-template",null,9,e.W1O)),2&c&&(e.xp6(16),e.Q6J("ngIf","grid"===u.mode),e.xp6(1),e.Q6J("ngIf","cards"===u.mode))},dependencies:[Q.sg,Q.O5,Q.RF,Q.n9,Q.ED,q.rH,Vo,Y.Hw,Rs,xa,Oa,nc,Pa],styles:[".partial[_ngcontent-%COMP%]{color:var(--color-old);font-weight:700}.completed[_ngcontent-%COMP%]{color:var(--color-new);font-weight:700}.spirit-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding:0 10px;width:auto;height:128px;max-height:128px}"],changeDetection:0})}return r})();function bv(r,f){1&r&&e._uU(0,"#")}function Cv(r,f){}function wv(r,f){1&r&&e._uU(0,"Spirit")}function Ev(r,f){1&r&&e._uU(0,"Date")}function Tv(r,f){1&r&&e._uU(0,"Visit")}function Ls(r,f){1&r&&e._uU(0,"Unlocked")}function zd(r,f){1&r&&e._uU(0),2&r&&e.hij(" ",f.row.number," ")}function Mv(r,f){if(1&r&&e._UZ(0,"app-icon",13),2&r){const i=e.oxw().row;e.Q6J("src",i.spirit.imageUrl)("width","auto")("lazy",!0)}}function Ep(r,f){if(1&r&&(e.TgZ(0,"div",11),e.YNc(1,Mv,1,3,"app-icon",12),e.qZA()),2&r){const i=f.row;e.xp6(1),e.Q6J("ngIf",i.spirit.imageUrl)}}const Av=function(r){return["/spirit",r]},Tp=function(r){return{highlightTree:r}};function Mp(r,f){if(1&r&&(e.TgZ(0,"a",14),e._uU(1),e.qZA()),2&r){const i=f.row;e.Q6J("routerLink",e.VKq(3,Av,i.spiritGuid))("queryParams",e.VKq(5,Tp,i.treeGuid)),e.xp6(1),e.hij(" ",i.spirit.name," ")}}function Xl(r,f){if(1&r&&(e.TgZ(0,"span",15),e._uU(1),e.ALo(2,"dayjs"),e.qZA()),2&r){const i=f.row,c=e.oxw();e.xp6(1),e.Oqu(e.xi3(2,1,i.date,c.dateFormat))}}function Yd(r,f){1&r&&e._uU(0),2&r&&e.hij(" ",f.row.visit," ")}function P1(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const i=e.oxw().row;e.ekj("completed",i.unlockedItems===i.totalItems),e.xp6(1),e.AsE(" ",i.unlockedItems," / ",i.totalItems," ")}}function Ap(r,f){1&r&&e.YNc(0,P1,2,4,"span",16),2&r&&e.Q6J("ngIf",f.row.totalItems)}const Ip=function(){return{href:"https://sky-children-of-the-light.fandom.com/wiki/Traveling_Spirits"}};let xp=(()=>{class r{constructor(i){this._dataService=i,this.rows=[],this.dateFormat=be.O.displayFormat,this.rows=this._dataService.travelingSpiritConfig.items.map(c=>{let u=0,y=0;return xe.f.getItems(c.tree.node).forEach(I=>{I.unlocked&&u++,y++}),{...c,spiritGuid:c.spirit.guid,treeGuid:c.tree.guid,unlockedItems:u,totalItems:y}}).reverse()}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(Ue.D))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-traveling-spirits"]],decls:21,vars:6,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card-body"],[3,"wiki"],[1,"sky-card","p-0","mt"],[3,"rows"],[3,"appTableHeader","fit"],[3,"appTableHeader","fit","textAlign"],[3,"appTableHeader"],[3,"appTableColumn"],[1,"sky-card","spirit-img","t-center"],[3,"src","width","lazy",4,"ngIf"],[3,"src","width","lazy"],[3,"routerLink","queryParams"],[1,"ws-nw"],[3,"completed",4,"ngIf"]],template:function(c,u){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Traveling Spirits"),e.qZA()(),e.TgZ(4,"div",3),e._UZ(5,"app-wiki-link",4),e.qZA()(),e.TgZ(6,"div",5)(7,"div",3)(8,"app-table",6),e.YNc(9,bv,1,0,"ng-template",7),e.YNc(10,Cv,0,0,"ng-template",8),e.YNc(11,wv,1,0,"ng-template",9),e.YNc(12,Ev,1,0,"ng-template",9),e.YNc(13,Tv,1,0,"ng-template",9),e.YNc(14,Ls,1,0,"ng-template",9),e.YNc(15,zd,1,1,"ng-template",10),e.YNc(16,Ep,2,1,"ng-template",10),e.YNc(17,Mp,2,7,"ng-template",10),e.YNc(18,Xl,3,4,"ng-template",10),e.YNc(19,Yd,1,1,"ng-template",10),e.YNc(20,Ap,1,1,"ng-template",10),e.qZA()()()),2&c&&(e.xp6(5),e.Q6J("wiki",e.DdM(5,Ip)),e.xp6(3),e.Q6J("rows",u.rows),e.xp6(1),e.Q6J("fit",!0),e.xp6(1),e.Q6J("fit",!0)("textAlign","center"))},dependencies:[Q.O5,q.rH,Ps,Rs,xa,Oa,hr,us],styles:[".completed[_ngcontent-%COMP%]{color:var(--color-unlock-check)}.spirit-img[_ngcontent-%COMP%]{display:none}.spirit-img[_ngcontent-%COMP%]:not(:first-child){margin-left:var(--padding-content)}@media screen and (min-width: 992px){.spirit-img[_ngcontent-%COMP%]{display:inline-block;width:var(--item-size);height:var(--item-size)}}@media screen and (min-width: 1400px){.spirit-img[_ngcontent-%COMP%]{width:calc(2 * var(--item-size));height:calc(2 * var(--item-size))}}"]})}return r})();function Wd(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const i=e.oxw(3).$implicit;e.xp6(1),e.Oqu(i.name)}}function Ws(r,f){1&r&&(e.TgZ(0,"span"),e._uU(1,"Premium Candle Store"),e.qZA())}function Sv(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const i=e.oxw(3).$implicit;let c;e.xp6(1),e.Oqu(null!==(c=i.name)&&void 0!==c?c:null==i.spirit?null:i.spirit.name)}}function Iv(r,f){if(1&r&&(e.ynx(0),e._UZ(1,"mat-icon",20),e.TgZ(2,"span",14),e._uU(3),e.qZA(),e.BQk()),2&r){const i=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngbTooltip","Regular candles"),e.xp6(2),e.hij(" ",i.c," ")}}function qd(r,f){if(1&r&&(e.ynx(0),e._UZ(1,"mat-icon",21),e.TgZ(2,"span",14),e._uU(3),e.qZA(),e.BQk()),2&r){const i=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngbTooltip","Season candles"),e.xp6(2),e.hij(" ",i.sc," ")}}function xv(r,f){if(1&r&&(e.ynx(0),e._UZ(1,"mat-icon",22),e.TgZ(2,"span",14),e._uU(3),e.qZA(),e.BQk()),2&r){const i=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngbTooltip","Gift Season Pass"),e.xp6(2),e.hij(" ",i.sp," ")}}function Op(r,f){if(1&r&&(e.TgZ(0,"div",15),e.YNc(1,Iv,4,2,"ng-container",8),e.YNc(2,qd,4,2,"ng-container",8),e.YNc(3,xv,4,2,"ng-container",8),e.qZA()),2&r){const i=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",i.c),e.xp6(1),e.Q6J("ngIf",i.sc),e.xp6(1),e.Q6J("ngIf",i.sp)}}function Ov(r,f){if(1&r&&(e.ynx(0),e.TgZ(1,"span",27),e._uU(2),e.qZA(),e.BQk()),2&r){const i=e.oxw(2).$implicit;e.xp6(2),e.Oqu(i.name)}}function eu(r,f){if(1&r&&e.YNc(0,Ov,3,1,"ng-container",8),2&r){const i=e.oxw().$implicit;e.Q6J("ngIf",i)}}function Xc(r,f){if(1&r){const i=e.EpF();e.TgZ(0,"div",23),e.NdJ("click",function(u){e.CHM(i);const y=e.oxw().$implicit,I=e.oxw(4);return e.KtG(I.togglePurchased(u,y))}),e._UZ(1,"app-item",24),e.TgZ(2,"mat-icon",25),e._uU(3,"done"),e.qZA(),e.YNc(4,eu,1,1,"ng-template",null,26,e.W1O),e.qZA()}if(2&r){const i=f.$implicit,c=e.MAs(5),u=e.oxw().$implicit;e.xp6(1),e.Q6J("item",i)("ngbTooltip",c),e.xp6(1),e.ekj("unlocked",null==i?null:i.unlocked)("self",u.bought)}}function Np(r,f){if(1&r&&(e.TgZ(0,"div",10)(1,"div",1)(2,"h3",11),e._uU(3),e.qZA()(),e.TgZ(4,"div",3)(5,"div",12)(6,"mat-icon",13),e._uU(7,"location_on"),e.qZA(),e.TgZ(8,"span",14),e.YNc(9,Wd,2,1,"span",8),e.YNc(10,Ws,2,0,"span",8),e.YNc(11,Sv,2,1,"span",8),e.qZA()(),e.TgZ(12,"div",15)(13,"mat-icon",13),e._uU(14,"attach_money"),e.qZA(),e.TgZ(15,"span",16),e._uU(16),e.qZA()(),e.YNc(17,Op,4,3,"div",17),e.TgZ(18,"div",18),e.YNc(19,Xc,6,6,"div",19),e.qZA()()()),2&r){const i=f.$implicit,c=e.oxw(2).$implicit,u=e.oxw(2);e.ekj("highlight",i.guid===u.highlightIap),e.xp6(2),e.Q6J("ngbTooltip",i.name),e.xp6(1),e.hij(" ",i.name," "),e.xp6(6),e.Q6J("ngIf",c.name),e.xp6(1),e.Q6J("ngIf",!c.name&&"Store"===c.type),e.xp6(1),e.Q6J("ngIf",!c.name&&"Store"!==c.type),e.xp6(4),e.Q6J("ngbTooltip","Price of the IAP in USD."),e.xp6(1),e.hij(" ",i.price," "),e.xp6(1),e.Q6J("ngIf",i.c||i.sc||i.sp),e.xp6(2),e.Q6J("ngForOf",i.items)}}function tu(r,f){if(1&r&&(e.ynx(0),e.YNc(1,Np,20,11,"div",9),e.BQk()),2&r){const i=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",i.iaps)}}function k1(r,f){if(1&r&&(e.ynx(0),e.YNc(1,tu,2,1,"ng-container",8),e.BQk()),2&r){const i=f.$implicit;e.xp6(1),e.Q6J("ngIf",null==i.iaps?null:i.iaps.length)}}function Nv(r,f){if(1&r&&(e.TgZ(0,"div",6),e.YNc(1,k1,2,1,"ng-container",7),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.shops)}}const kp=function(){return{href:"https://sky-children-of-the-light.fandom.com/wiki/Premium_Candle_Shop"}};let Pv=(()=>{class r{constructor(i,c,u){this._dataService=i,this._iapService=c,this.shops=this._dataService.shopConfig.items.filter(y=>y.permanent),u.queryParamMap.subscribe(y=>this.onQueryChanged(y))}onQueryChanged(i){this.highlightIap=i.get("highlightIap")||void 0}togglePurchased(i,c){this._iapService.togglePurchased(c)}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(Ue.D),e.Y36(gt),e.Y36(q.gz))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-shops"]],decls:7,vars:3,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card-body"],[3,"wiki"],["class","grid grid-4 mt",4,"ngIf"],[1,"grid","grid-4","mt"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","sky-card p-rel",3,"highlight",4,"ngFor","ngForOf"],[1,"sky-card","p-rel"],["container","body",1,"h4","mb-0",3,"ngbTooltip"],[1,"item"],[1,"menu-icon"],[1,"menu-label"],[1,"item","mt-half"],["container","body",1,"menu-label",3,"ngbTooltip"],["class","item mt-half",4,"ngIf"],[1,"item","iap-items","mt-half"],["class","iap-item point d-inline-block p-rel",3,"click",4,"ngFor","ngForOf"],["svgIcon","candle","container","body","placement","right",1,"menu-icon",3,"ngbTooltip"],["svgIcon","season-candle","container","body","placement","right",1,"menu-icon",3,"ngbTooltip"],["svgIcon","gift","container","body","placement","right",1,"menu-icon","seasonal",3,"ngbTooltip"],[1,"iap-item","point","d-inline-block","p-rel",3,"click"],["placement","bottom","container","body",3,"item","ngbTooltip"],[1,"unlock-check"],["itemHover",""],[1,"ws-nw"]],template:function(c,u){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Permanent In-App Purchases"),e.qZA()(),e.TgZ(4,"div",3),e._UZ(5,"app-wiki-link",4),e.qZA()(),e.YNc(6,Nv,2,1,"div",5)),2&c&&(e.xp6(5),e.Q6J("wiki",e.DdM(2,kp)),e.xp6(1),e.Q6J("ngIf",null==u.shops?null:u.shops.length))},dependencies:[Q.sg,Q.O5,Vo,Y.Hw,Vc,hr]})}return r})();function kv(r,f){1&r&&e._uU(0,"Spirit")}function Rp(r,f){1&r&&e._uU(0,"Type")}function Fp(r,f){1&r&&e._uU(0,"Origin")}function el(r,f){1&r&&e._uU(0,"Unlocked")}const Rv=function(r){return["/spirit",r]};function Lp(r,f){if(1&r&&(e.TgZ(0,"a",12),e._uU(1),e.qZA()),2&r){const i=f.row;e.Q6J("routerLink",e.VKq(2,Rv,i.guid)),e.xp6(1),e.hij(" ",i.name," ")}}function Bp(r,f){1&r&&e._UZ(0,"app-spirit-type-icon",13),2&r&&e.Q6J("type",f.row.type)}const Fv=function(r){return["/season",r]};function Lv(r,f){if(1&r&&(e.TgZ(0,"a",12),e._uU(1),e.qZA()),2&r){const i=e.oxw().row;e.Q6J("routerLink",e.VKq(2,Fv,i.season.guid)),e.xp6(1),e.Oqu(i.season.name)}}const tl=function(r){return["/realm",r]};function Bv(r,f){if(1&r&&(e.TgZ(0,"a",12),e._uU(1),e.qZA()),2&r){const i=e.oxw().row;e.Q6J("routerLink",e.VKq(2,tl,i.area.realm.guid)),e.xp6(1),e.Oqu(i.area.realm.name)}}function Uv(r,f){if(1&r&&(e.YNc(0,Lv,2,4,"a",14),e.YNc(1,Bv,2,4,"a",14)),2&r){const i=f.row;e.Q6J("ngIf",i.season),e.xp6(1),e.Q6J("ngIf","Regular"===i.type)}}function Hv(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const i=f.row;e.ekj("completed",i.unlocked===i.total),e.xp6(1),e.AsE(" ",i.unlocked," / ",i.total," ")}}function jv(r,f){1&r&&e._uU(0,"Total:")}function Zv(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const i=e.oxw();e.ekj("completed",i.unlocked===i.total),e.xp6(1),e.AsE("",i.unlocked," / ",i.total,"")}}const $v=function(){return{href:"https://sky-children-of-the-light.fandom.com/wiki/Wing_Buffs"}};let Gv=(()=>{class r{constructor(i){this._dataService=i,this.unlocked=0,this.total=0}ngOnInit(){const i=new Set;for(const J of this._dataService.itemConfig.items.filter(K=>K.type===ui.q.WingBuff))i.add(J),J.unlocked&&this.unlocked++,this.total++;const c=new Set,u=new Set,y=new Map;for(const J of i){if(!J.nodes?.length)continue;const Se=xe.f.getRoot(J.nodes[0]).spiritTree;let Fe,Tt=!1;if(Se?.spirit?Fe=Se.spirit:Se?.ts?(Fe=Se.ts.spirit,Tt=!0):Se?.visit&&(Fe=Se.visit.spirit,Tt=!0),Fe){y.has(Fe.guid)||y.set(Fe.guid,{unlocked:0,total:0});const vt=y.get(Fe.guid);vt.total++,J.unlocked&&vt.unlocked++,Tt?u.add(Fe):c.add(Fe)}}const I=Array.from(c).concat(Array.from(u));this.rows=I.map(J=>{const K=y.get(J.guid);return{...J,...K}})}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(Ue.D))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-wing-buffs"]],decls:29,vars:11,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card-body"],[3,"wiki"],[1,"sky-card","mt"],[3,"rows"],[3,"appTableHeader"],[3,"appTableColumn"],[3,"appTableFooter","colspan","textAlign"],[3,"appTableFooter"],[1,"mt"],[3,"routerLink"],[3,"type"],[3,"routerLink",4,"ngIf"]],template:function(c,u){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Wing Buffs"),e.qZA()(),e.TgZ(4,"div",3),e._UZ(5,"app-wiki-link",4),e.qZA()(),e.TgZ(6,"div",5)(7,"div",1)(8,"div"),e._uU(9,"You have unlocked "),e.TgZ(10,"b"),e._uU(11),e.qZA(),e._uU(12," out of "),e.TgZ(13,"b"),e._uU(14),e.qZA(),e._uU(15," wing buffs."),e.qZA()(),e.TgZ(16,"div",3)(17,"app-table",6),e.YNc(18,kv,1,0,"ng-template",7),e.YNc(19,Rp,1,0,"ng-template",7),e.YNc(20,Fp,1,0,"ng-template",7),e.YNc(21,el,1,0,"ng-template",7),e.YNc(22,Lp,2,4,"ng-template",8),e.YNc(23,Bp,1,1,"ng-template",8),e.YNc(24,Uv,2,2,"ng-template",8),e.YNc(25,Hv,2,4,"ng-template",8),e.YNc(26,jv,1,0,"ng-template",9),e.YNc(27,Zv,2,4,"ng-template",10),e.qZA()()(),e._UZ(28,"div",11)),2&c&&(e.xp6(5),e.Q6J("wiki",e.DdM(10,$v)),e.xp6(5),e.ekj("completed",u.unlocked===u.total),e.xp6(1),e.Oqu(u.unlocked),e.xp6(2),e.ekj("completed",u.unlocked===u.total),e.xp6(1),e.Oqu(u.total),e.xp6(3),e.Q6J("rows",u.rows),e.xp6(9),e.Q6J("colspan",3)("textAlign","right"))},dependencies:[Q.O5,q.rH,Rs,xa,Oa,nc,Pa,hr],styles:[".completed[_ngcontent-%COMP%]{color:var(--color-new);font-weight:700}"]})}return r})(),Jd=(()=>{class r{get theme(){return this._theme}init(){const i=localStorage.getItem("theme")||"";this.set(i)}set(i){this._theme=i||"",i?document.body.dataset.theme=i:delete document.body.dataset.theme,localStorage.setItem("theme",i||"")}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Qd(r,f){if(1&r){const i=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){const y=e.CHM(i).$implicit,I=e.oxw();return e.KtG(I.setDateFormat(y))}),e._uU(1),e.ALo(2,"lowercase"),e.qZA()}if(2&r){const i=f.$implicit,c=e.oxw();e.ekj("highlight",c.dateFormat===i),e.xp6(1),e.hij(" ",e.lcZ(2,3,i)," ")}}let zv=(()=>{class r{constructor(i,c,u,y){this._dataService=i,this._settingService=c,this._storageService=u,this._themeService=y,this.today=ao()(),this.wikiNewTab=!1,this.unlockedCount=this._storageService.unlocked.size,this.dateFormats=be.O.displayFormats,this.dateFormat=be.O.displayFormat,this.currentTheme=this._themeService.theme||"sky",this.wikiNewTab=c.wikiNewTab}export(){const i=this._storageService.serializeUnlocked(),c=this._storageService.serializeUnlockedCol(),y=JSON.stringify({unlocked:i,unlockedCol:c});let I="";try{const J=new Blob([y],{type:"application/json"});I=URL.createObjectURL(J);const K=document.createElement("a");K.href=I,K.download=`SkyPlanner_${ao()().format("YYYY-MM-DD")}.json`,document.body.appendChild(K),K.click(),document.body.removeChild(K)}finally{URL.revokeObjectURL(I)}}import(){const i=document.createElement("input");i.type="file",i.accept="application/json",i.onchange=c=>{const u=c.target.files?.[0];if(!u)return;const y=new FileReader;y.onload=I=>{try{const J=JSON.parse(y.result);this.handleImportJson(J)}catch(J){console.error(J),alert("Failed to parse file. If the selected file was exported by Sky Planner, please report this.")}},y.onerror=I=>{console.error(I),alert("Failed to read file. If the selected file was exported by Sky Planner, please report this.")},y.readAsText(u)},i.click()}handleImportJson(i){if(!i)throw new Error("No content.");if("string"!=typeof i.unlocked)throw new Error("No unlocked data.");const c=i.unlocked.split(","),u=i.unlockedCol?.split(",")||[];confirm(`You're about to overwrite your current data with ${c.length} entries. This cannot be undone. Are you sure?`)&&(this._storageService.unlocked.clear(),this._storageService.add(...c),this._storageService.save(),this._storageService.unlockedCol.clear(),this._storageService.addCol(...u),this._storageService.saveCol(),this._dataService.reloadUnlocked(),this.unlockedCount=this._storageService.unlocked.size)}clear(){confirm("You're about to clear all your data. This cannot be undone. Are you sure?")&&(this._storageService.unlocked.clear(),this._storageService.save(),this._storageService.unlockedCol.clear(),this._storageService.saveCol(),this._dataService.reloadUnlocked(),this.unlockedCount=0)}setTheme(i){this._themeService.set(i),this.currentTheme=this._themeService.theme||"sky"}setDateFormat(i){this.dateFormat=i,be.O.displayFormat=i,localStorage.setItem("date.format",i)}toggleWikiTab(){this.wikiNewTab=!this.wikiNewTab,this._settingService.wikiNewTab=this.wikiNewTab}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(Ue.D),e.Y36(aa),e.Y36(lt.V),e.Y36(Jd))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-settings"]],decls:60,vars:13,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card","mt"],[1,"h3","mb-0"],[1,"sky-card-body"],[1,"container","ws-pl"],[1,"sky-flex","flex-wrap","mt"],["type","button",1,"item",3,"click"],[1,"c-accent"],["type","button",1,"item","clear-data",3,"click"],["type","button","data-theme","sky",1,"item","btn-sky",3,"click"],["type","button","data-theme","light",1,"item",3,"click"],["type","button","data-theme","dark",1,"item",3,"click"],["type","button","class","item ws-nw",3,"highlight","click",4,"ngFor","ngForOf"],[1,"h3"],[1,"container","wiki-toggle-tab",3,"click"],[1,"menu-icon"],[1,"menu-label"],["type","button",1,"item","ws-nw",3,"click"]],template:function(c,u){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Settings"),e.qZA()()(),e.TgZ(4,"div",3)(5,"div",1)(6,"h2",4)(7,"mat-icon"),e._uU(8,"swap_horiz"),e.qZA(),e._uU(9," Import / Export "),e.qZA()(),e.TgZ(10,"div",5)(11,"div",6),e._uU(12," Import or export your progression. The exported file serves as a backup of all your unlocked items in Sky Planner. "),e.TgZ(13,"div",7)(14,"button",8),e.NdJ("click",function(){return u.import()}),e._uU(15," Import data "),e.qZA(),e.TgZ(16,"button",8),e.NdJ("click",function(){return u.export()}),e._uU(17," Export data "),e.TgZ(18,"span",9),e._uU(19),e.qZA()(),e.TgZ(20,"button",10),e.NdJ("click",function(){return u.clear()}),e._uU(21," Clear data "),e.qZA()()()()(),e.TgZ(22,"div",3)(23,"div",1)(24,"h2",4)(25,"mat-icon"),e._uU(26,"color_lens"),e.qZA(),e._uU(27," Theme "),e.qZA()(),e.TgZ(28,"div",5)(29,"div",6),e._uU(30," Change the theme of the website. "),e.TgZ(31,"div",7)(32,"button",11),e.NdJ("click",function(){return u.setTheme("")}),e._uU(33," Sky "),e.qZA(),e.TgZ(34,"button",12),e.NdJ("click",function(){return u.setTheme("light")}),e._uU(35," Light "),e.qZA(),e.TgZ(36,"button",13),e.NdJ("click",function(){return u.setTheme("dark")}),e._uU(37," Dark "),e.qZA()()()()(),e.TgZ(38,"div",3)(39,"div",1)(40,"h2",4)(41,"mat-icon"),e._uU(42,"date_range"),e.qZA(),e._uU(43," Date "),e.qZA()(),e.TgZ(44,"div",5)(45,"div",6),e._uU(46),e.ALo(47,"dayjs"),e.TgZ(48,"div",7),e.YNc(49,Qd,3,5,"button",14),e.qZA()()(),e.TgZ(50,"div",3)(51,"div",1)(52,"h2",15),e._uU(53,"Wiki"),e.qZA()(),e.TgZ(54,"div",5)(55,"div",16),e.NdJ("click",function(){return u.toggleWikiTab()}),e.TgZ(56,"mat-icon",17),e._uU(57),e.qZA(),e.TgZ(58,"span",18),e._uU(59,"Navigate to wiki in new tab"),e.qZA()()()()()),2&c&&(e.xp6(19),e.hij("(",u.unlockedCount,")"),e.xp6(13),e.ekj("highlight","sky"===u.currentTheme),e.xp6(2),e.ekj("highlight","light"===u.currentTheme),e.xp6(2),e.ekj("highlight","dark"===u.currentTheme),e.xp6(10),e.hij(" Change the date displayed in the application. Today's date is ",e.xi3(47,10,u.today,u.dateFormat),". "),e.xp6(3),e.Q6J("ngForOf",u.dateFormats),e.xp6(8),e.Oqu(u.wikiNewTab?"check_box":"check_box_outline_blank"))},dependencies:[Q.sg,Y.Hw,Q.i8,us],styles:[".clear-data[_ngcontent-%COMP%]{color:var(--color-danger);background:var(--color-danger-background);border-color:var(--color-danger-accent)}.small[_ngcontent-%COMP%]{font-size:8px;line-height:8px}.btn-sky[_ngcontent-%COMP%]{color:#fff!important;background:#50b6d8!important}.wiki-toggle-tab[_ngcontent-%COMP%]{cursor:pointer}.wiki-toggle-tab[_ngcontent-%COMP%]:hover{color:var(--color-link-hover)}"]})}return r})();var nu=M(7198),Ts=M.n(nu);let Yv=(()=>{class r{getMap(){return this._map||(this._map=this.initialize()),this._map}attach(i){return this._div?(i.appendChild(this._div),this._map?.invalidateSize(),this._map?.setView([-270,270],1,{animate:!1,duration:0}),this._map):this._map}detach(){document.body.appendChild(this._div),this._map?.closePopup(),this._map?.invalidateSize(),this.enable()}enable(){this._map&&(this._map.scrollWheelZoom.enable(),this._map.doubleClickZoom.enable(),this._map.boxZoom.enable(),this._map.keyboard.enable(),this._map.touchZoom.enable(),this._map.dragging.enable())}disable(){this._map&&(this._zoom?.remove(),this._map.scrollWheelZoom.disable(),this._map.doubleClickZoom.disable(),this._map.boxZoom.disable(),this._map.keyboard.disable(),this._map.touchZoom.disable(),this._map.dragging.disable())}initialize(){if(this._map)return this._map;this._div=document.createElement("div"),this._div.classList.add("map"),document.body.appendChild(this._div);const i=Ts().map(this._div,{attributionControl:!1,crs:Ts().CRS.Simple,minZoom:0,maxZoom:3,center:[-270,270],maxBounds:[[100,-100],[-640,640]],zoomControl:!1}).setView([-270,270],1);Ts().tileLayer("assets/game/map/{z}/{x}_{y}.webp",{tileSize:540,bounds:[[0,0],[-540,540]]}).addTo(i),this._zoom=Ts().control.zoom({position:"bottomright"}),this._zoom.addTo(i);const c=document.cookie.split(";").find(y=>y.includes("mapcopy="))?.split("=")[1];return void 0!==c&&i.on("click",y=>{console.log(y),navigator.clipboard.writeText(c+JSON.stringify([+y.latlng.lat.toFixed(2),+y.latlng.lng.toFixed(2)]))}),window.map=i,console.log("Map initialized as %cwindow.map%c.","color:cyan;",""),i}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),iu=(()=>{class r{constructor(i){this._mapService=i,this._groups={},this._funcs=new Array,this._map=this._mapService.getMap()}attach(i){return this._mapService.attach(i)}on(i,c){this._funcs.push([i,c]),this._map.on(i,c)}centerMap(i=1){this._map.flyTo([-270,270],i,{animate:!1,duration:0})}createLayerGroup(i,c=!0){return this._groups[i]?.remove(),this._groups[i]=Ts().layerGroup(),c&&this._mapService.getMap().addLayer(this._groups[i]),this._groups[i]}getLayerGroup(i){return this._groups[i]}ngOnDestroy(){Object.values(this._groups).forEach(i=>i.remove()),this._funcs.forEach(i=>{this._map.off(i[0],i[1])}),this._mapService.detach()}static#e=this.\u0275fac=function(c){return new(c||r)(e.LFG(Yv))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac})}return r})();const Wv=["mapContainer"],Up=function(){return["/spirit"]},Hp=function(r){return{type:"Regular,Elder",realm:r}};function jp(r,f){if(1&r&&(e.TgZ(0,"a",13),e._UZ(1,"app-spirit-type-icon",14),e.TgZ(2,"span",15),e._uU(3," Spirits\xa0"),e.TgZ(4,"span",16),e._uU(5),e.qZA()()()),2&r){const i=e.oxw();e.ekj("colspan-2",!i.seasonSpiritCount),e.Q6J("routerLink",e.DdM(6,Up))("queryParams",e.VKq(7,Hp,i.realm.guid)),e.xp6(1),e.Q6J("type","Regular"),e.xp6(4),e.hij("(",i.spirits.length,")")}}const Zp=function(r){return{type:"Season,Guide",realm:r}};function qv(r,f){if(1&r&&(e.TgZ(0,"a",13),e._UZ(1,"app-spirit-type-icon",14),e.TgZ(2,"span",15),e._uU(3," Season Spirits\xa0"),e.TgZ(4,"span",16),e._uU(5),e.qZA()()()),2&r){const i=e.oxw();e.ekj("colspan-2",!i.spirits.length),e.Q6J("routerLink",e.DdM(6,Up))("queryParams",e.VKq(7,Zp,i.realm.guid)),e.xp6(1),e.Q6J("type","Season"),e.xp6(4),e.hij("(",i.seasonSpiritCount,")")}}function F1(r,f){if(1&r){const i=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(i);const u=e.oxw();return e.KtG(u.mapToggleAreas())}),e.TgZ(1,"mat-icon"),e._uU(2,"location_on"),e.qZA()()}if(2&r){const i=e.oxw();e.ekj("button-areas-off",!i.showAreas),e.Q6J("ngbTooltip","Show areas")}}const Vp=function(r){return["/spirit",r]},$p=function(r){return{highlightTree:r}};function L1(r,f){if(1&r&&(e.TgZ(0,"div",24)(1,"app-spirit-tree",25)(2,"div",26)(3,"a",27),e._uU(4),e.qZA()()()()),2&r){const i=e.oxw().$implicit,c=e.oxw(2);e.xp6(1),e.Q6J("tree",i.tree)("name",i.name)("highlight",c.highlightTree===i.tree.guid),e.xp6(2),e.Q6J("routerLink",e.VKq(6,Vp,i.guid))("queryParams",e.VKq(8,$p,i.tree.guid)),e.xp6(1),e.hij(" ",i.name," ")}}function ou(r,f){if(1&r&&(e.ynx(0),e.YNc(1,L1,5,10,"div",23),e.BQk()),2&r){const i=f.$implicit;e.xp6(1),e.Q6J("ngIf",i.tree)}}function Jv(r,f){if(1&r&&(e.TgZ(0,"div",18)(1,"div",2)(2,"h2",19),e._uU(3,"Spirit Trees"),e.qZA()(),e.TgZ(4,"div",20)(5,"div",21),e.YNc(6,ou,2,1,"ng-container",22),e.qZA()()()),2&r){const i=e.oxw();e.xp6(6),e.Q6J("ngForOf",i.spirits)}}let Qv=(()=>{class r{constructor(i,c,u){this._dataService=i,this._mapInstanceService=c,this._route=u,this.spirits=[],this.seasonSpiritCount=0,this.hasAreaData=!1,this.showAreas=!1,u.queryParamMap.subscribe(y=>this.onQueryChanged(y)),u.paramMap.subscribe(y=>this.onParamsChanged(y))}ngAfterViewInit(){this.map=this._mapInstanceService.attach(this.mapContainer.nativeElement),this.drawMap(),this.panToRealm(!0)}onQueryChanged(i){this.highlightTree=i.get("highlightTree")||void 0}onParamsChanged(i){const c=i.get("guid");this.initializeRealm(c)}panToRealm(i=!1){this.realm?.mapData?.position&&this.map.flyTo(this.realm.mapData.position,this.realm.mapData.zoom??1,i?{animate:!1,duration:0}:void 0)}mapToggleAreas(){this.showAreas=!this.showAreas;const i=this._mapInstanceService.getLayerGroup("area");this.showAreas?i?.addTo(this.map):i?.remove()}initializeRealm(i){this.realm=this._dataService.guidMap.get(i),this.spirits=[],this.seasonSpiritCount=0,this.realm?.areas?.forEach(c=>{c.spirits?.forEach(u=>{"Regular"===u.type||"Elder"===u.type?this.spirits.push(u):"Season"===u.type&&this.seasonSpiritCount++})}),this.map&&(this.drawMap(),this.panToRealm(!0))}drawMap(){const i=this.realm.mapData||{},c=this._mapInstanceService.createLayerGroup("boundary"),u=this._mapInstanceService.createLayerGroup("area");if(u.remove(),i.boundary){const I=Ts().polygon(i.boundary,{color:i.boundaryColor||"#0ff",weight:1,fillOpacity:.05});c.addLayer(I)}const y=Ts().icon({iconUrl:"assets/icons/symbols/location_on.svg",iconSize:[24,24],popupAnchor:[0,-12]});this.hasAreaData=this.realm?.areas?.filter(I=>I.mapData?.position).length>0,this.realm?.areas?.forEach(I=>{if(!I.mapData?.position)return;const J=Ts().marker(I.mapData.position,{icon:y});J.bindPopup(this.createAreaPopup(I),{}),u.addLayer(J)})}createAreaPopup(i){return i.name}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(Ue.D),e.Y36(iu),e.Y36(q.gz))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-realm"]],viewQuery:function(c,u){if(1&c&&e.Gf(Wv,7),2&c){let y;e.iGM(y=e.CRH())&&(u.mapContainer=y.first)}},features:[e._Bn([iu])],decls:17,vars:8,consts:[[1,"realm-info-flex"],[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card-body"],[1,"grid","grid-1"],[3,"wiki","aClass"],["class","container",3,"colspan-2","routerLink","queryParams",4,"ngIf"],[1,"map-container"],["mapContainer",""],["type","button","class","map-control map-control-tl","container","body","placement","right",3,"button-areas-off","ngbTooltip","click",4,"ngIf"],["type","button","container","body","placement","right",1,"map-control","map-control-bl",3,"ngbTooltip","click"],["class","sky-card mt",4,"ngIf"],[1,"container",3,"routerLink","queryParams"],[1,"menu-icon",3,"type"],[1,"menu-label"],[1,"c-accent"],["type","button","container","body","placement","right",1,"map-control","map-control-tl",3,"ngbTooltip","click"],[1,"sky-card","mt"],[1,"h3"],[1,"sky-card-body","pad-0"],[1,"sky-flex","scroll-x","pad"],[4,"ngFor","ngForOf"],["class","tree-wrapper",4,"ngIf"],[1,"tree-wrapper"],[3,"tree","name","highlight"],["name",""],[3,"routerLink","queryParams"]],template:function(c,u){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._uU(4),e.qZA()(),e.TgZ(5,"div",4)(6,"div",5),e._UZ(7,"app-wiki-link",6),e.YNc(8,jp,6,9,"a",7),e.YNc(9,qv,6,9,"a",7),e.qZA()()(),e.TgZ(10,"div",8,9),e.YNc(12,F1,3,3,"button",10),e.TgZ(13,"button",11),e.NdJ("click",function(){return u.panToRealm()}),e.TgZ(14,"mat-icon"),e._uU(15,"center_focus_weak"),e.qZA()()()(),e.YNc(16,Jv,7,1,"div",12)),2&c&&(e.xp6(4),e.Oqu(u.realm.name),e.xp6(3),e.Q6J("wiki",u.realm._wiki)("aClass","container colspan-2"),e.xp6(1),e.Q6J("ngIf",u.spirits.length),e.xp6(1),e.Q6J("ngIf",u.seasonSpiritCount),e.xp6(3),e.Q6J("ngIf",u.hasAreaData),e.xp6(1),e.Q6J("ngbTooltip","Center map"),e.xp6(3),e.Q6J("ngIf",null==u.spirits?null:u.spirits.length))},dependencies:[Q.sg,Q.O5,q.rH,Vo,Y.Hw,Sa,Pa,hr],styles:["app-spirit-tree[_ngcontent-%COMP%]{vertical-align:bottom}.tree-wrapper[_ngcontent-%COMP%]{display:inline-block}.map-container[_ngcontent-%COMP%]{position:relative}.map-container[_ngcontent-%COMP%]     .map{height:240px}.map-control[_ngcontent-%COMP%]{position:absolute;z-index:9999;padding:var(--padding-content);color:var(--color-map-tooltip);background:var(--color-map-tooltip-background);border-radius:var(--border-radius);width:32px;height:32px}.map-control[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;bottom:3px;left:3px}.button-areas-off[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{opacity:.5}.map-control-tl[_ngcontent-%COMP%]{top:var(--padding-content);left:var(--padding-content)}.map-control-bl[_ngcontent-%COMP%]{bottom:var(--padding-content);left:var(--padding-content)}.realm-info-flex[_ngcontent-%COMP%]{display:grid;gap:8px;grid-template-columns:1fr}.realm-info-flex[_ngcontent-%COMP%]   .map-container[_ngcontent-%COMP%]{min-height:240px}@media screen and (min-width: 992px){.realm-info-flex[_ngcontent-%COMP%]{grid-template-columns:1fr 400px}}"]})}return r})();var ru=M(5267);let nl=(()=>{class r{constructor(i){this._dataService=i,this._default="Sky Planner"}resolve(i,c){const u=i.paramMap.get("guid");return u?new we.y(y=>{this._dataService.onData.pipe((0,ru.P)()).subscribe({next:()=>{const I=this._dataService.guidMap.get(u);y.next("string"==typeof I?.name?`${I.name} - ${this._default}`:this._default),y.complete()},error:()=>{y.next(this._default),y.complete()}})}):""}static#e=this.\u0275fac=function(c){return new(c||r)(e.LFG(Ue.D))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Bs=(()=>{class r{constructor(i){this._dataService=i,this._default="Sky Planner"}resolve(i,c){const u=i.paramMap.get("guid");return u?new we.y(y=>{this._dataService.onData.pipe((0,ru.P)()).subscribe({next:()=>{const I=this._dataService.guidMap.get(u);y.next("string"==typeof I?.event?.name?`${I.event.name} - ${this._default}`:this._default),y.complete()},error:()=>{y.next(this._default),y.complete()}})}):""}static#e=this.\u0275fac=function(c){return new(c||r)(e.LFG(Ue.D))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function il(r,f){1&r&&e._uU(0,"Name")}function fr(r,f){1&r&&e._uU(0,"Spirits")}function ka(r,f){1&r&&e._uU(0,"Start")}function su(r,f){1&r&&e._uU(0,"End")}function ds(r,f){1&r&&e._uU(0,"Unlocked")}const Kd=function(r){return["/rs",r]};function dc(r,f){if(1&r&&(e.TgZ(0,"a",10),e._uU(1),e.qZA()),2&r){const i=f.row;e.Q6J("routerLink",e.VKq(2,Kd,i.guid)),e.xp6(1),e.hij(" ",i.name," ")}}function hc(r,f){if(1&r&&e._UZ(0,"app-icon",15),2&r){const i=e.oxw().$implicit;e.Q6J("src",i.spirit.imageUrl)("width","auto")("lazy",!0)}}const fc=function(r){return["/spirit",r]},pc=function(r){return{highlightTree:r}};function gc(r,f){if(1&r&&(e.TgZ(0,"a",13),e.YNc(1,hc,1,3,"app-icon",14),e.qZA()),2&r){const i=f.$implicit;e.Q6J("routerLink",e.VKq(4,fc,i.spirit.guid))("queryParams",e.VKq(6,pc,i.tree.guid))("ngbTooltip",i.spirit.name),e.xp6(1),e.Q6J("ngIf",i.spirit.imageUrl)}}function mc(r,f){if(1&r&&(e.YNc(0,gc,2,8,"a",11),e.TgZ(1,"div",12),e._uU(2),e.qZA()),2&r){const i=f.row;e.Q6J("ngForOf",i.spirits),e.xp6(2),e.hij(" ",(null==i.spirits?null:i.spirits.length)||0," ")}}function _c(r,f){if(1&r&&(e.TgZ(0,"span",16),e._uU(1),e.ALo(2,"dayjs"),e.qZA()),2&r){const i=f.row,c=e.oxw();e.xp6(1),e.Oqu(e.xi3(2,1,i.date,c.dateFormat))}}function vc(r,f){if(1&r&&(e.TgZ(0,"span",16),e._uU(1),e.ALo(2,"dayjs"),e.qZA()),2&r){const i=f.row,c=e.oxw();e.xp6(1),e.Oqu(e.xi3(2,1,i.endDate,c.dateFormat))}}function yc(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const i=e.oxw().row;e.ekj("completed",i.unlockedItems===i.totalItems),e.xp6(1),e.AsE(" ",i.unlockedItems," / ",i.totalItems," ")}}function Gp(r,f){1&r&&e.YNc(0,yc,2,4,"span",17),2&r&&e.Q6J("ngIf",f.row.totalItems)}const Yp=function(){return{href:"https://sky-children-of-the-light.fandom.com/wiki/Returning_Spirits"}};let Wp=(()=>{class r{constructor(i){this._dataService=i,this.rows=[],this.dateFormat=be.O.displayFormat,this.rows=this._dataService.returningSpiritsConfig.items.map(c=>{let u=0,y=0;return c.spirits.forEach(I=>{xe.f.getItems(I.tree.node).forEach(J=>{J.unlocked&&u++,y++})}),{...c,spiritGuids:c.spirits.map(I=>I.guid),unlockedItems:u,totalItems:y}}).reverse()}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(Ue.D))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-returning-spirits"]],decls:19,vars:4,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card-body"],[3,"wiki"],[1,"sky-card","p-0","mt"],[3,"rows"],[3,"appTableHeader"],[3,"appTableColumn"],[3,"appTableColumn","tdClass"],[3,"routerLink"],["class","sky-card spirit-img t-center","container","body","placement","bottom",3,"routerLink","queryParams","ngbTooltip",4,"ngFor","ngForOf"],[1,"spirit-count"],["container","body","placement","bottom",1,"sky-card","spirit-img","t-center",3,"routerLink","queryParams","ngbTooltip"],[3,"src","width","lazy",4,"ngIf"],[3,"src","width","lazy"],[1,"ws-nw"],[3,"completed",4,"ngIf"]],template:function(c,u){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Special Visits"),e.qZA()(),e.TgZ(4,"div",3),e._UZ(5,"app-wiki-link",4),e.qZA()(),e.TgZ(6,"div",5)(7,"div",3)(8,"app-table",6),e.YNc(9,il,1,0,"ng-template",7),e.YNc(10,fr,1,0,"ng-template",7),e.YNc(11,ka,1,0,"ng-template",7),e.YNc(12,su,1,0,"ng-template",7),e.YNc(13,ds,1,0,"ng-template",7),e.YNc(14,dc,2,4,"ng-template",8),e.YNc(15,mc,3,2,"ng-template",9),e.YNc(16,_c,3,4,"ng-template",8),e.YNc(17,vc,3,4,"ng-template",8),e.YNc(18,Gp,1,1,"ng-template",8),e.qZA()()()),2&c&&(e.xp6(5),e.Q6J("wiki",e.DdM(3,Yp)),e.xp6(3),e.Q6J("rows",u.rows),e.xp6(7),e.Q6J("tdClass","ws-nw"))},dependencies:[Q.sg,Q.O5,q.rH,Vo,Ps,Rs,xa,Oa,hr,us],styles:[".completed[_ngcontent-%COMP%]{color:var(--color-unlock-check)}.spirit-img[_ngcontent-%COMP%]{display:none}.spirit-img[_ngcontent-%COMP%]:not(:first-child){margin-left:var(--padding-content)}@media screen and (min-width: 992px){.spirit-img[_ngcontent-%COMP%]{display:inline-block;width:var(--item-size);height:var(--item-size)}.spirit-count[_ngcontent-%COMP%]{display:none}}@media screen and (min-width: 1400px){.spirit-img[_ngcontent-%COMP%]{width:calc(2 * var(--item-size));height:calc(2 * var(--item-size))}}"]})}return r})();function qp(r,f){if(1&r&&(e.TgZ(0,"span",18),e._uU(1," ("),e._UZ(2,"app-days-left",10),e._uU(3,") "),e.qZA()),2&r){const i=e.oxw();e.xp6(2),e.Q6J("start",i.rs.date)("end",i.rs.endDate)}}function Jp(r,f){if(1&r&&(e.TgZ(0,"span",18),e._uU(1," ("),e._UZ(2,"app-days-left",10),e._uU(3,") "),e.qZA()),2&r){const i=e.oxw();e.xp6(2),e.Q6J("start",i.rs.date)("end",i.rs.endDate)}}const Qp=function(r){return["/realm",r]};function Kp(r,f){if(1&r&&(e.TgZ(0,"a",19)(1,"mat-icon",7),e._uU(2,"map"),e.qZA(),e.TgZ(3,"span",8),e._uU(4),e.qZA()()),2&r){const i=e.oxw();e.Q6J("routerLink",e.VKq(2,Qp,i.rs.area.realm.guid)),e.xp6(4),e.hij(" ",i.rs.area.realm.name," ")}}function Xp(r,f){if(1&r&&(e.TgZ(0,"div",6)(1,"mat-icon",7),e._uU(2,"location_on"),e.qZA(),e.TgZ(3,"span",8),e._uU(4),e.qZA()()),2&r){const i=e.oxw();e.xp6(4),e.hij(" ",i.rs.area.name," ")}}const Xd=function(r){return["/spirit",r]},Kv=function(r){return{highlightTree:r}};function B1(r,f){if(1&r&&(e.TgZ(0,"div",22)(1,"app-spirit-tree",23)(2,"div",24)(3,"a",25),e._uU(4),e.qZA()()()()),2&r){const i=e.oxw().$implicit;e.xp6(1),e.Q6J("tree",i.tree)("name",i.spirit.name),e.xp6(2),e.Q6J("routerLink",e.VKq(5,Xd,i.spirit.guid))("queryParams",e.VKq(7,Kv,i.tree.guid)),e.xp6(1),e.hij(" ",i.spirit.name," ")}}function U1(r,f){if(1&r&&(e.ynx(0),e.YNc(1,B1,5,9,"div",21),e.BQk()),2&r){const i=f.$implicit;e.xp6(1),e.Q6J("ngIf",i.tree)}}function Xv(r,f){if(1&r&&(e.ynx(0),e.YNc(1,U1,2,1,"ng-container",20),e.BQk()),2&r){const i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.rs.spirits)}}let e0=(()=>{class r{constructor(i,c){this._dataService=i,this._route=c,c.queryParamMap.subscribe(u=>this.onQueryChanged(u)),c.paramMap.subscribe(u=>this.onParamsChanged(u))}onQueryChanged(i){}onParamsChanged(i){const c=i.get("guid");this.initializeRs(c)}initializeRs(i){this.rs=this._dataService.guidMap.get(i),this.state=be.O.getStateFromPeriod(this.rs.date,this.rs.endDate)}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(Ue.D),e.Y36(q.gz))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-returning-spirit"]],decls:30,vars:20,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card-body"],[1,"grid","grid-2"],[3,"wiki","aClass"],[1,"container"],[1,"menu-icon"],[1,"menu-label"],["class","c-accent",4,"ngIf"],[3,"start","end"],["class","container",3,"routerLink",4,"ngIf"],["class","container",4,"ngIf"],[1,"sky-card","mt"],[1,"h3"],[1,"sky-card-body","pad-0"],[1,"sky-flex","scroll-x","pad"],[4,"ngIf"],[1,"c-accent"],[1,"container",3,"routerLink"],[4,"ngFor","ngForOf"],["class","tree-wrapper",4,"ngIf"],[1,"tree-wrapper"],[3,"tree","name"],["name",""],[3,"routerLink","queryParams"]],template:function(c,u){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4),e._UZ(6,"app-wiki-link",5),e.TgZ(7,"div",6)(8,"mat-icon",7),e._uU(9,"calendar_month"),e.qZA(),e.TgZ(10,"span",8),e._uU(11),e.ALo(12,"dayjs"),e.ALo(13,"dayjs"),e.qZA(),e.YNc(14,qp,4,2,"span",9),e.qZA(),e.TgZ(15,"div",6)(16,"mat-icon",7),e._uU(17,"schedule"),e.qZA(),e.TgZ(18,"span",8),e._UZ(19,"app-duration",10),e.YNc(20,Jp,4,2,"span",9),e.qZA()(),e.YNc(21,Kp,5,4,"a",11),e.YNc(22,Xp,5,1,"div",12),e.qZA()()(),e.TgZ(23,"div",13)(24,"div",1)(25,"h2",14),e._uU(26,"Spirits"),e.qZA()(),e.TgZ(27,"div",15)(28,"div",16),e.YNc(29,Xv,2,1,"ng-container",17),e.qZA()()()),2&c&&(e.xp6(3),e.Oqu(u.rs.name),e.xp6(3),e.Q6J("wiki",u.rs._wiki)("aClass","container colspan-2"),e.xp6(1),e.ekj("expired","ended"===u.state),e.xp6(4),e.AsE(" ",e.lcZ(12,16,u.rs.date)," to ",e.lcZ(13,18,u.rs.endDate)," "),e.xp6(3),e.Q6J("ngIf","future"===u.state),e.xp6(1),e.ekj("expired","ended"===u.state),e.xp6(4),e.Q6J("start",u.rs.date)("end",u.rs.endDate),e.xp6(1),e.Q6J("ngIf","active"===u.state),e.xp6(1),e.Q6J("ngIf",null==u.rs.area?null:u.rs.area.realm),e.xp6(1),e.Q6J("ngIf",u.rs.area),e.xp6(7),e.Q6J("ngIf",null==u.rs.spirits?null:u.rs.spirits.length))},dependencies:[Q.sg,Q.O5,q.rH,Y.Hw,Sa,Ia,Vl,hr,us],styles:["app-spirit-tree[_ngcontent-%COMP%]{vertical-align:bottom}.tree-wrapper[_ngcontent-%COMP%]{display:inline-block}"]})}return r})();const eh=function(){return["/spirit"]},t0=function(){return{type:"Regular"}},H1=function(){return{type:"Elder"}},n0=function(){return{type:"Season"}},o0=function(){return{type:"Guide"}},r0=function(){return["/ts"]},th=function(){return["/rs"]};let ol=(()=>{class r{constructor(i){this._dataService=i,this.spiritCounts={},this.tsCount=i.travelingSpiritConfig.items.length,this.rsCount=i.returningSpiritsConfig.items.length,this.spiritCounts=this._dataService.spiritConfig.items.reduce((c,u)=>(c[u.type]=(c[u.type]||0)+1,c),{})}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(Ue.D))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-spirits-overview"]],decls:44,vars:30,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card-body"],[1,"grid","grid-2"],[1,"container",3,"routerLink","queryParams"],[1,"menu-icon",3,"type"],[1,"menu-label"],[1,"c-accent"],[1,"container",3,"routerLink"],[1,"menu-icon"]],template:function(c,u){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Spirits"),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4)(6,"a",5),e._UZ(7,"app-spirit-type-icon",6),e.TgZ(8,"span",7),e._uU(9," Regular Spirits "),e.TgZ(10,"span",8),e._uU(11),e.qZA()()(),e.TgZ(12,"a",5),e._UZ(13,"app-spirit-type-icon",6),e.TgZ(14,"span",7),e._uU(15," Elder Spirits "),e.TgZ(16,"span",8),e._uU(17),e.qZA()()(),e.TgZ(18,"a",5),e._UZ(19,"app-spirit-type-icon",6),e.TgZ(20,"span",7),e._uU(21," Season Spirits "),e.TgZ(22,"span",8),e._uU(23),e.qZA()()(),e.TgZ(24,"a",5),e._UZ(25,"app-spirit-type-icon",6),e.TgZ(26,"span",7),e._uU(27," Season Guides "),e.TgZ(28,"span",8),e._uU(29),e.qZA()()(),e.TgZ(30,"a",9)(31,"mat-icon",10),e._uU(32,"hikings"),e.qZA(),e.TgZ(33,"span",7),e._uU(34," Traveling Spirits "),e.TgZ(35,"span",8),e._uU(36),e.qZA()()(),e.TgZ(37,"a",9)(38,"mat-icon",10),e._uU(39,"flight"),e.qZA(),e.TgZ(40,"span",7),e._uU(41," Special Visits "),e.TgZ(42,"span",8),e._uU(43),e.qZA()()()()()()),2&c&&(e.xp6(6),e.Q6J("routerLink",e.DdM(20,eh))("queryParams",e.DdM(21,t0)),e.xp6(1),e.Q6J("type","Regular"),e.xp6(4),e.hij("(",u.spiritCounts.Regular,")"),e.xp6(1),e.Q6J("routerLink",e.DdM(22,eh))("queryParams",e.DdM(23,H1)),e.xp6(1),e.Q6J("type","Elder"),e.xp6(4),e.hij("(",u.spiritCounts.Elder,")"),e.xp6(1),e.Q6J("routerLink",e.DdM(24,eh))("queryParams",e.DdM(25,n0)),e.xp6(1),e.Q6J("type","Season"),e.xp6(4),e.hij("(",u.spiritCounts.Season,")"),e.xp6(1),e.Q6J("routerLink",e.DdM(26,eh))("queryParams",e.DdM(27,o0)),e.xp6(1),e.Q6J("type","Guide"),e.xp6(4),e.hij("(",u.spiritCounts.Guide,")"),e.xp6(1),e.Q6J("routerLink",e.DdM(28,r0)),e.xp6(6),e.hij("(",u.tsCount,")"),e.xp6(1),e.Q6J("routerLink",e.DdM(29,th)),e.xp6(6),e.hij("(",u.rsCount,")"))},dependencies:[q.rH,Y.Hw,Pa]})}return r})();var nh=M(9074),Dc=M.n(nh),eg=M(655);let rl=(()=>{class r{transform(i){switch(i){case ui.q.Hat:return"Hat";case ui.q.Hair:return"Hair";case ui.q.Mask:return"Mask";case ui.q.FaceAccessory:return"Face accessory";case ui.q.Necklace:return"Necklace";case ui.q.Outfit:return"Outfit";case ui.q.Shoes:return"Shoes";case ui.q.Cape:return"Cape";case ui.q.Instrument:return"Instrument";case ui.q.Held:return"Held prop";case ui.q.Prop:return"Placeable prop";case ui.q.Emote:return"Emote";case ui.q.Stance:return"Stance";case ui.q.Call:return"Call";case ui.q.Spell:return"Spell";case ui.q.Music:return"Music sheet";case ui.q.Quest:return"Quest";case ui.q.WingBuff:return"Wing buff";case ui.q.Special:return"Special";default:return"Unknown"}}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275pipe=e.Yjl({name:"itemType",type:r,pure:!0})}return r})();const tg=["input"];function s0(r,f){1&r&&e._uU(0,"Type")}function sl(r,f){1&r&&e._uU(0,"Icon")}function a0(r,f){1&r&&e._uU(0,"Name")}function c0(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"itemType"),e.qZA()),2&r){const i=e.oxw().row;e.xp6(1),e.Oqu(e.lcZ(2,1,i.data.type))}}function l0(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const i=e.oxw().row;e.xp6(1),e.Oqu(i.type)}}function u0(r,f){if(1&r&&(e.YNc(0,c0,3,3,"span",16),e.YNc(1,l0,2,1,"ng-template",null,17,e.W1O)),2&r){const i=f.row,c=e.MAs(2);e.Q6J("ngIf","Item"===i.type)("ngIfElse",c)}}function ih(r,f){if(1&r&&(e.TgZ(0,"div",19,20),e._UZ(2,"app-icon",21),e.TgZ(3,"mat-icon",22),e._uU(4,"done"),e.qZA()()),2&r){const i=e.oxw().row;e.xp6(2),e.Q6J("src",i.data.iconUrl),e.xp6(1),e.ekj("self",i.data.unlocked)("unlocked",i.data.unlocked)}}function au(r,f){if(1&r&&(e.TgZ(0,"div",19,23),e._UZ(2,"app-icon",21),e.TgZ(3,"mat-icon",22),e._uU(4,"done"),e.qZA()()),2&r){const i=e.oxw().row;e.xp6(2),e.Q6J("src",i.data.icon),e.xp6(1),e.ekj("self",i.data.unlocked)("unlocked",i.data.unlocked)}}function cu(r,f){if(1&r&&(e.TgZ(0,"div",19,24),e._UZ(2,"app-icon",25),e.qZA()),2&r){const i=e.oxw().row;e.xp6(2),e.Q6J("src",i.data.imageUrl)("width","auto")}}function j1(r,f){if(1&r&&(e.YNc(0,ih,5,5,"div",18),e.YNc(1,au,5,5,"div",18),e.YNc(2,cu,3,2,"div",18)),2&r){const i=f.row;e.Q6J("ngIf",i.data.iconUrl),e.xp6(1),e.Q6J("ngIf",i.data.icon),e.xp6(1),e.Q6J("ngIf",!(i.data.iconUrl||i.data.icon)&&i.data.imageUrl)}}function d0(r,f){if(1&r&&(e.TgZ(0,"a",26),e._UZ(1,"span",27),e.qZA()),2&r){const i=f.row;e.ekj("link",i.route),e.Q6J("routerLink",i.route)("queryParams",i.queryParams),e.xp6(1),e.Q6J("innerHTML",i.highlightedName||i.name,e.oJD)}}function h0(r,f){if(1&r&&(e.TgZ(0,"div",10)(1,"app-table",11),e.YNc(2,s0,1,0,"ng-template",12),e.YNc(3,sl,1,0,"ng-template",13),e.YNc(4,a0,1,0,"ng-template",14),e.YNc(5,u0,3,2,"ng-template",15),e.YNc(6,j1,3,3,"ng-template",15),e.YNc(7,d0,2,5,"ng-template",15),e.qZA()()),2&r){const i=e.oxw();e.xp6(1),e.Q6J("rows",i.searchResults),e.xp6(1),e.Q6J("fit",!0),e.xp6(1),e.Q6J("fit",!0)("textAlign","center")}}function oh(r,f){if(1&r){const i=e.EpF();e.TgZ(0,"div",28),e._uU(1," There are no results. Try searching for "),e.TgZ(2,"a",29),e.NdJ("click",function(u){e.CHM(i);const y=e.oxw();return e.KtG(y.searchDemo(u))}),e._uU(3),e.qZA(),e._uU(4,"! "),e.qZA()}if(2&r){const i=e.oxw();e.xp6(3),e.Oqu(i.demoText)}}function f0(r,f){if(1&r){const i=e.EpF();e.TgZ(0,"div",30)(1,"div",3)(2,"span",29),e.NdJ("click",function(){e.CHM(i);const u=e.oxw();return e.KtG(u.focusInput())}),e._uU(3,"Refine your search for more results."),e.qZA()()()}}let ng=(()=>{class r{static#e=this.items=[];constructor(i,c,u,y,I){this._dataService=i,this._eventService=c,this._changeDetectorRef=u,this._route=y,this._router=I,this.demoText="Gratitude",r.items.length||this.initializeItems()}initializeItems(){r.items.push(...this._dataService.itemConfig.items.filter(i=>{if("Spell"!==i.type&&"Quest"!==i.type&&"Special"!==i.type&&!("Emote"===i.type&&i.level>1))return!0}).map(i=>({name:i.name,type:"Item",data:i,search:i.name}))),r.items.push(...this._dataService.spiritConfig.items.filter(i=>"Special"!==i.type&&"Event"!==i.type).map(i=>({name:i.name,type:"Spirit",data:i,search:i.name}))),r.items.push(...this._dataService.seasonConfig.items.map(i=>({name:i.name,type:"Season",data:i,search:i.name}))),r.items.push(...this._dataService.eventConfig.items.map(i=>({name:i.name,type:"Event",data:i,search:i.name}))),r.items.forEach(i=>{"string"==typeof i.search&&(i.search=Dc().prepare(i.search))})}ngAfterViewInit(){if(!this.input)return;this.resetSubscription=this._eventService.searchReset.subscribe(()=>{this.input?.nativeElement&&(this.input.nativeElement.setSelectionRange(0,this.input.nativeElement.value.length),this.input.nativeElement.focus())});const i=this._route.snapshot.queryParamMap.get("search");i&&(this.input.nativeElement.value=i,setTimeout(()=>{this.search()})),this._route.snapshot.queryParamMap.get("focus")&&this.input.nativeElement.focus(),this.searchSubscription=rt(this.input.nativeElement,"input").pipe((0,eg.b)(250)).subscribe(()=>{this.updateCurrentRoute()})}updateCurrentRoute(){const i=this.input?.nativeElement.value||"";let c=window.location.pathname;i&&(c+=`?search=${encodeURIComponent(i)}`),window.history.replaceState(window.history.state,"",c)}searchDemo(i){this.input?.nativeElement&&(this.input.nativeElement.value=i.target.innerText,this.search(),this.updateCurrentRoute(),this._changeDetectorRef.markForCheck())}search(){const i=0===this.searchResults?.length,c=this.input?.nativeElement.value||"";if(!c)return void(this.searchResults=void 0);const u=Dc().go(c,r.items,{key:"search",limit:25});if(this.searchResults=u.map(y=>(y.obj.highlightedName=Dc().highlight(y,"<b>","</b>")??"",this.setItemLink(y.obj),y.obj)),!i&&!this.searchResults.length){const y=this._dataService.seasonConfig.items,I=y[Math.floor(Math.random()*y.length)];this.demoText=I.shortName}this._changeDetectorRef.markForCheck()}setItemLink(i){switch(i.route=void 0,i.queryParams=void 0,i.type){case"Item":const c=sc.getItemLink(i.data);i.route=c?.route,i.queryParams=c?.extras?.queryParams||void 0;break;case"Spirit":i.route=["/spirit",i.data.guid];break;case"Season":i.route=["/season",i.data.guid];break;case"Event":i.route=["/event",i.data.guid]}}focusInput(){this.input?.nativeElement.focus(),scrollTo(0,0)}unsubscribe(){this.searchSubscription?.unsubscribe()}ngOnDestroy(){this.unsubscribe()}static#t=this.\u0275fac=function(c){return new(c||r)(e.Y36(Ue.D),e.Y36(Oe),e.Y36(e.sBO),e.Y36(q.gz),e.Y36(q.F0))};static#n=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-search"]],viewQuery:function(c,u){if(1&c&&e.Gf(tg,5),2&c){let y;e.iGM(y=e.CRH())&&(u.input=y.first)}},decls:13,vars:3,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h3","mb-0"],[1,"sky-card-body"],[1,"search"],["type","search","placeholder","Tip: use Ctrl+Shift+F to start a new search at any time.",1,"input",3,"input"],["input",""],["class","mt",4,"ngIf"],["class","container mt",4,"ngIf"],["class","sky-card mt",4,"ngIf"],[1,"mt"],[3,"rows"],[3,"appTableHeader","fit"],[3,"appTableHeader","fit","textAlign"],[3,"appTableHeader"],[3,"appTableColumn"],[4,"ngIf","ngIfElse"],["type",""],["class","result-icon",4,"ngIf"],[1,"result-icon"],["iconUrl",""],[3,"src"],[1,"unlock-check"],["icon",""],["imageUrl",""],[3,"src","width"],[3,"routerLink","queryParams"],[3,"innerHTML"],[1,"container","mt"],[1,"link",3,"click"],[1,"sky-card","mt"]],template:function(c,u){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Search"),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4)(6,"input",5,6),e.NdJ("input",function(){return u.search()}),e.qZA(),e.TgZ(8,"mat-icon"),e._uU(9,"search"),e.qZA()(),e.YNc(10,h0,8,4,"div",7),e.YNc(11,oh,5,1,"div",8),e.qZA()(),e.YNc(12,f0,4,0,"div",9)),2&c&&(e.xp6(10),e.Q6J("ngIf",null==u.searchResults?null:u.searchResults.length),e.xp6(1),e.Q6J("ngIf",u.searchResults&&!u.searchResults.length),e.xp6(1),e.Q6J("ngIf",(null==u.searchResults?null:u.searchResults.length)>=25))},dependencies:[Q.O5,q.rH,Y.Hw,Ps,Rs,xa,Oa,rl],styles:[".search[_ngcontent-%COMP%]{position:relative}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:36px}.search[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;left:8px;top:50%;transform:translateY(-50%);opacity:1;transition:opacity var(--animation-short)}.result-icon[_ngcontent-%COMP%]{position:relative;display:inline-block;width:var(--item-size);height:var(--item-size);text-align:center;overflow:hidden;border-radius:var(--border-radius)}"],changeDetection:0})}return r})();function p0(r,f){1&r&&e._UZ(0,"div",15)}function g0(r,f){if(1&r&&(e.TgZ(0,"div",16),e._UZ(1,"img",17),e.qZA()),2&r){const i=e.oxw(3);e.xp6(1),e.Q6J("src",i.spirit.imageUrl,e.LSH)("alt",i.spirit.name)}}function ig(r,f){if(1&r&&(e.TgZ(0,"div",12),e.YNc(1,p0,1,0,"div",13),e.YNc(2,g0,2,2,"div",14),e.qZA()),2&r){const i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==i.options?null:i.options.homeBackground),e.xp6(1),e.Q6J("ngIf",i.spirit.imageUrl)}}const og=function(r){return["/spirit",r]},lu=function(r){return{highlightTree:r}};function m0(r,f){if(1&r&&(e.TgZ(0,"a",18),e._UZ(1,"app-spirit-type-icon",19),e.TgZ(2,"span",20),e._uU(3),e.qZA()()),2&r){const i=e.oxw(2);e.Udp("order",i.sections.ts),e.Q6J("routerLink",e.VKq(6,og,i.ts.spirit.guid))("queryParams",e.VKq(8,lu,i.ts.tree.guid)),e.xp6(1),e.Q6J("type",i.spirit.type),e.xp6(2),e.Oqu(i.spirit.name)}}function _0(r,f){if(1&r&&(e.TgZ(0,"div",21)(1,"mat-icon"),e._uU(2,"calendar_month"),e.qZA(),e.TgZ(3,"span",20),e._uU(4),e.ALo(5,"dayjs"),e.ALo(6,"dayjs"),e.TgZ(7,"span",22),e._uU(8," ("),e._UZ(9,"app-days-left",23),e._uU(10,") "),e.qZA()()()),2&r){const i=e.oxw(2);e.Udp("order",i.sections.ts),e.xp6(4),e.AsE(" ",e.lcZ(5,6,i.ts.date)," to ",e.lcZ(6,8,i.ts.endDate)," "),e.xp6(5),e.Q6J("start",i.ts.date)("end",i.ts.endDate)}}function v0(r,f){if(1&r&&e._UZ(0,"app-wiki-link",24),2&r){const i=e.oxw(2);e.Q6J("wiki",i.spirit._wiki)("aClass","spirit-grid-item sky-card-item sky-card-item-icon")("order",i.sections.wiki)}}function rg(r,f){if(1&r&&e._UZ(0,"img",27),2&r){const i=e.oxw(3);e.Q6J("src",i.spirit.season.iconUrl,e.LSH)}}function rh(r,f){1&r&&(e.TgZ(0,"mat-icon"),e._uU(1,"ac_unit"),e.qZA())}const sh=function(r){return["/season",r]};function y0(r,f){if(1&r&&(e.TgZ(0,"a",18),e.YNc(1,rg,1,1,"img",25),e.YNc(2,rh,2,0,"ng-template",null,26,e.W1O),e.TgZ(4,"span",20),e._uU(5),e.qZA()()),2&r){const i=e.MAs(3),c=e.oxw(2);e.Udp("order",c.sections.season),e.Q6J("routerLink",e.VKq(7,sh,null==c.spirit.season?null:c.spirit.season.guid))("queryParams",e.VKq(9,lu,null==c.spirit.tree?null:c.spirit.tree.guid)),e.xp6(1),e.Q6J("ngIf",null==c.spirit.season?null:c.spirit.season.iconUrl)("ngIfElse",i),e.xp6(4),e.hij(" ",null==c.spirit.season?null:c.spirit.season.name," ")}}const uu=function(r){return["/event",r]};function du(r,f){if(1&r&&(e.TgZ(0,"a",29),e._uU(1),e.qZA()),2&r){const i=e.oxw(3);e.Q6J("routerLink",e.VKq(2,uu,i.event.guid)),e.xp6(1),e.hij(" ",i.event.name," ")}}function ah(r,f){if(1&r&&(e.TgZ(0,"div",21)(1,"mat-icon"),e._uU(2,"event"),e.qZA(),e.YNc(3,du,2,4,"a",28),e.qZA()),2&r){const i=e.oxw(2);e.Udp("order",i.sections.event),e.xp6(3),e.Q6J("ngIf",i.event)}}function sg(r,f){1&r&&(e.TgZ(0,"span",20),e._uU(1," Regular Spirit "),e.qZA())}function D0(r,f){if(1&r&&(e.TgZ(0,"span",20),e._uU(1),e.qZA()),2&r){const i=e.oxw(3);e.xp6(1),e.hij(" ",i.spirit.type," ")}}const b0=function(){return["/spirit"]},C0=function(r){return{type:r}};function hu(r,f){if(1&r&&(e.TgZ(0,"a",18)(1,"mat-icon"),e._uU(2,"person"),e.qZA(),e.YNc(3,sg,2,0,"span",30),e.YNc(4,D0,2,1,"span",30),e.qZA()),2&r){const i=e.oxw(2);e.Udp("order",i.sections.regular),e.Q6J("routerLink",e.DdM(6,b0))("queryParams",e.VKq(7,C0,i.spirit.type)),e.xp6(3),e.Q6J("ngIf","Regular"===i.spirit.type),e.xp6(1),e.Q6J("ngIf","Elder"===i.spirit.type||"Special"===i.spirit.type)}}const fu=function(r){return["/realm",r]};function ch(r,f){if(1&r&&(e.TgZ(0,"div",21)(1,"mat-icon"),e._uU(2,"map"),e.qZA(),e.TgZ(3,"a",31),e._uU(4),e.qZA()()),2&r){const i=e.oxw(2);e.Udp("order",i.sections.realm),e.xp6(3),e.Q6J("routerLink",e.VKq(5,fu,i.spirit.area.realm.guid))("queryParams",e.VKq(7,lu,null==i.spirit.tree?null:i.spirit.tree.guid)),e.xp6(1),e.hij(" ",i.spirit.area.realm.name," ")}}function ag(r,f){if(1&r&&(e.TgZ(0,"div",21)(1,"mat-icon"),e._uU(2,"location_on"),e.qZA(),e.TgZ(3,"span",20),e._uU(4),e.qZA()()),2&r){const i=e.oxw(2);e.Udp("order",i.sections.area),e.xp6(4),e.hij(" ",i.spirit.area.name," ")}}function w0(r,f){if(1&r&&(e.TgZ(0,"div",21)(1,"mat-icon",32),e._uU(2,"sell"),e.qZA(),e.TgZ(3,"span",20),e._UZ(4,"app-cost",33),e.qZA()()),2&r){const i=e.oxw(2);e.Udp("order",i.sections.cost),e.xp6(4),e.Q6J("cost",i.cost)("remaining",i.remainingCost)("borderLeft",!0)}}function E0(r,f){if(1&r&&(e.TgZ(0,"div",1)(1,"div",2)(2,"div",3),e.Hsn(3,0,["[select]","title"]),e.qZA(),e.TgZ(4,"h2",4),e._UZ(5,"app-spirit-type-icon",5),e._uU(6),e.qZA()(),e.TgZ(7,"div",6),e.YNc(8,ig,3,2,"div",7),e.TgZ(9,"div",8),e.YNc(10,m0,4,10,"a",9),e.YNc(11,_0,11,10,"div",10),e.YNc(12,v0,1,3,"app-wiki-link",11),e.YNc(13,y0,6,11,"a",9),e.YNc(14,ah,4,3,"div",10),e.YNc(15,hu,5,9,"a",9),e.YNc(16,ch,5,9,"div",10),e.YNc(17,ag,5,3,"div",10),e.YNc(18,w0,5,5,"div",10),e.qZA()()()),2&r){const i=e.oxw();e.xp6(5),e.Q6J("type",i.spirit.type),e.xp6(1),e.hij(" ",i.spirit.name," "),e.xp6(2),e.Q6J("ngIf",i.sections.img&&i.spirit.imageUrl),e.xp6(2),e.Q6J("ngIf",i.sections.ts&&i.ts),e.xp6(1),e.Q6J("ngIf",i.sections.ts&&i.ts),e.xp6(1),e.Q6J("ngIf",i.sections.wiki),e.xp6(1),e.Q6J("ngIf",i.sections.season&&("Season"===i.spirit.type||"Guide"===i.spirit.type)),e.xp6(1),e.Q6J("ngIf",i.sections.event&&"Event"===i.spirit.type),e.xp6(1),e.Q6J("ngIf",i.sections.regular&&("Regular"===i.spirit.type||"Elder"===i.spirit.type||"Special"===i.spirit.type)),e.xp6(1),e.Q6J("ngIf",i.sections.realm&&(null==i.spirit.area?null:i.spirit.area.realm)),e.xp6(1),e.Q6J("ngIf",i.sections.area&&i.spirit.area),e.xp6(1),e.Q6J("ngIf",i.sections.cost&&i.cost)}}const cg=["*"];let lh=(()=>{class r{constructor(){this.options={show:["img","wiki","season","event","realm","area"]},this.sections={}}ngOnInit(){this.updateSections()}ngOnChanges(i){i.spirit&&this.updateSpirit(),i.options&&this.updateSections(),i.tree&&this.updateCosts()}updateSpirit(){this.typeName=(new iv).transform(this.spirit.type),this.event=this.spirit?.events?.at(-1)?.eventInstance?.event}updateSections(){this.sections={},this.options.show?.forEach((i,c)=>{this.sections[i]=c+2})}updateCosts(){if(this.cost=this.remainingCost=void 0,!this.tree)return;const i=xe.f.all(this.tree.node);this.cost=Wi.T.add(Wi.T.create(),...i);const c=i.filter(u=>!u.unlocked&&!u.item?.unlocked);this.remainingCost=Wi.T.add(Wi.T.create(),...c)}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-spirit-card"]],inputs:{spirit:"spirit",ts:"ts",tree:"tree",options:"options"},features:[e.TTD],ngContentSelectors:cg,decls:1,vars:1,consts:[["class","sky-card",4,"ngIf"],[1,"sky-card"],[1,"sky-card-header"],[1,"title-select"],[1,"h3","mb-0","title-default"],[3,"type"],[1,"sky-card-body"],["class","spirit-grid-img spirit-grid-item sky-card-item",4,"ngIf"],[1,"spirit-grid","mt"],["class","spirit-grid-item sky-card-item sky-card-item-icon",3,"routerLink","queryParams","order",4,"ngIf"],["class","spirit-grid-item sky-card-item sky-card-item-icon",3,"order",4,"ngIf"],[3,"wiki","aClass","order",4,"ngIf"],[1,"spirit-grid-img","spirit-grid-item","sky-card-item"],["class","spirit-img-bg",4,"ngIf"],["class","spirit-img",4,"ngIf"],[1,"spirit-img-bg"],[1,"spirit-img"],[3,"src","alt"],[1,"spirit-grid-item","sky-card-item","sky-card-item-icon",3,"routerLink","queryParams"],[1,"menu-icon",3,"type"],[1,"menu-label"],[1,"spirit-grid-item","sky-card-item","sky-card-item-icon"],[1,"c-accent"],[3,"start","end"],[3,"wiki","aClass","order"],["class","icon",3,"src",4,"ngIf","ngIfElse"],["seasonIcon",""],[1,"icon",3,"src"],["class","menu-label",3,"routerLink",4,"ngIf"],[1,"menu-label",3,"routerLink"],["class","menu-label",4,"ngIf"],[1,"menu-label",3,"routerLink","queryParams"],[1,"menu-icon"],[3,"cost","remaining","borderLeft"]],template:function(c,u){1&c&&(e.F$t(),e.YNc(0,E0,19,12,"div",0)),2&c&&e.Q6J("ngIf",u.spirit)},dependencies:[Q.O5,q.rH,Y.Hw,Pa,Ia,Gc,hr,us],styles:[".spirit-img[_ngcontent-%COMP%]{position:relative}.spirit-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:var(--border-radius);padding:5px 0;width:auto;height:192px;max-height:192px}.title-select[_ngcontent-%COMP%]:not(:empty) + .title-default[_ngcontent-%COMP%]{display:none}.spirit-img-bg[_ngcontent-%COMP%]{position:absolute;inset:0;background-image:url(https://silverfeelin.github.io/SkyGame-Planner/assets/game/realms/Home.webp);background-size:cover;background-position:bottom;filter:brightness(.6) blur(4px)}.spirit-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-template-rows:1fr;gap:8px}.spirit-grid-img[_ngcontent-%COMP%]{position:relative;grid-area:1 / 1 / 2 / 2;width:100%;height:100%;padding:0}.spirit-grid-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.spirit-img[_ngcontent-%COMP%]{width:auto;height:var(--img-preview-height)}.spirit-grid-item[_ngcontent-%COMP%]{width:100%;overflow:auto;border:var(--border-solid)}"],changeDetection:0})}return r})();function lg(r,f){if(1&r&&(e.TgZ(0,"span",11),e._uU(1),e.ALo(2,"dayjs"),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.Oqu(e.xi3(2,1,i.nowLocal,"HH:mm:ss"))}}function uh(r,f){if(1&r&&(e.TgZ(0,"span",11),e._uU(1),e.ALo(2,"dayjs"),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.Oqu(e.xi3(2,1,i.nowSky,"HH:mm:ss"))}}let ug=(()=>{class r{constructor(i){this._changeDetectorRef=i,this.localDegHr=0,this.localDegMin=0,this.localDegSec=0,this.skyDegHr=0,this.skyDegMin=0,this.skyDegSec=0}ngOnInit(){this.updateTime(),this._interval=window.setInterval(()=>{this.updateTime()},1e3)}ngOnDestroy(){this._interval&&window.clearInterval(this._interval)}updateTime(){this.nowLocal=ao()();const i=this.nowLocal.hour(),c=this.nowLocal.minute();this.localDegHr=i%12*30+.5*c+180,this.localDegMin=6*c+180,this.localDegSec=6*this.nowLocal.second()+180,this.nowSky=this.nowLocal.tz(be.O.skyTimeZone);const u=this.nowSky.hour(),y=this.nowSky.minute();this.skyDegHr=u%12*30+.5*y+180,this.skyDegMin=6*y+180,this.skyDegSec=6*this.nowSky.second()+180,this._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-clock"]],decls:25,vars:14,consts:[[1,"clock"],[1,"clock-item"],[1,"container"],[1,"sky-clock"],[1,"hand-hour","hand"],[1,"hand-minute","hand"],[1,"hand-second","hand"],[1,"hand-inner"],[1,"clock-text"],[1,"clock-title"],["class","clock-time",4,"ngIf"],[1,"clock-time"]],template:function(c,u){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),e.qZA(),e.TgZ(8,"div",8)(9,"span",9),e._uU(10,"Local time"),e.qZA(),e._UZ(11,"br"),e.YNc(12,lg,3,4,"span",10),e.qZA()()(),e.TgZ(13,"div",1)(14,"div",2)(15,"div",3),e._UZ(16,"div",4)(17,"div",5)(18,"div",6)(19,"div",7),e.qZA(),e.TgZ(20,"div",8)(21,"span",9),e._uU(22,"Sky time"),e.qZA(),e._UZ(23,"br"),e.YNc(24,uh,3,4,"span",10),e.qZA()()()()),2&c&&(e.xp6(4),e.Udp("transform","rotate("+u.localDegHr+"deg)"),e.xp6(1),e.Udp("transform","rotate("+u.localDegMin+"deg)"),e.xp6(1),e.Udp("transform","rotate("+u.localDegSec+"deg)"),e.xp6(6),e.Q6J("ngIf",u.nowLocal),e.xp6(4),e.Udp("transform","rotate("+u.skyDegHr+"deg)"),e.xp6(1),e.Udp("transform","rotate("+u.skyDegMin+"deg)"),e.xp6(1),e.Udp("transform","rotate("+u.skyDegSec+"deg)"),e.xp6(6),e.Q6J("ngIf",u.nowSky))},dependencies:[Q.O5,us],styles:[".clock[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:row;flex-wrap:wrap;align-items:stretch;gap:var(--padding-content);overflow:hidden}.clock-item[_ngcontent-%COMP%]{text-align:center;flex:1 1 auto}.clock-title[_ngcontent-%COMP%]{font-size:34px;line-height:34px}.clock-time[_ngcontent-%COMP%]{font-size:52px;line-height:52px}.clock-text[_ngcontent-%COMP%]{vertical-align:top;display:inline-block;filter:var(--shadow-clock)}.sky-clock[_ngcontent-%COMP%]{position:relative;display:none;top:0;width:92px;height:92px;border-radius:100%;border:solid var(--color);border-width:9px;box-sizing:border-box;filter:var(--shadow-clock)}.hand[_ngcontent-%COMP%]{position:absolute;top:50%;left:calc(50% - 3px);transform-origin:3px 0;width:6px;border-radius:0 0 50px 50px;background-color:var(--color);outline:var(--shadow-clock)}.hand-hour[_ngcontent-%COMP%]{height:21px}.hand-minute[_ngcontent-%COMP%]{height:32px}.hand-second[_ngcontent-%COMP%]{height:32px;width:2px;left:calc(50% - 1px);transform-origin:1px 0}.hand-inner[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);height:6px;width:6px;border-radius:100%;background:var(--color)}@media screen and (min-width: 992px){.clock-title[_ngcontent-%COMP%]{font-size:36px;line-height:36px}.clock-time[_ngcontent-%COMP%]{font-size:60px;line-height:60px}.sky-clock[_ngcontent-%COMP%]{display:inline-block}.clock-text[_ngcontent-%COMP%]{margin-left:20px}}@media screen and (min-width: 1400px){.clock-title[_ngcontent-%COMP%]{font-size:44px;line-height:44px}.clock-time[_ngcontent-%COMP%]{font-size:72px;line-height:90px}.sky-clock[_ngcontent-%COMP%]{width:128px;height:128px;border-width:12px}.hand[_ngcontent-%COMP%]{left:calc(50% - 4px);transform-origin:4px 0;width:8px}.hand-hour[_ngcontent-%COMP%]{height:28px}.hand-minute[_ngcontent-%COMP%]{height:48px}.hand-second[_ngcontent-%COMP%]{height:48px;transform-origin:1px 0;width:2px;left:calc(50% - 1px)}.hand-inner[_ngcontent-%COMP%]{height:8px;width:8px}}"],changeDetection:0})}return r})();function T0(r,f){1&r&&(e.TgZ(0,"div",8)(1,"div",1)(2,"div",9),e._uU(3," There is currently no season or event active."),e._UZ(4,"br"),e._uU(5," You can view items, seasons, events and more in the menu on the left. "),e.qZA()()())}const dh=function(){return["img","overview","date","checkin","cost"]},hh=function(r){return{show:r}};function dg(r,f){if(1&r&&e._UZ(0,"app-season-card",10),2&r){const i=e.oxw();e.Q6J("season",i.season)("options",e.VKq(3,hh,e.DdM(2,dh)))}}function hg(r,f){if(1&r&&e._UZ(0,"app-event-card",11),2&r){const i=e.oxw();e.Q6J("event",i.eventInstance.event)("instance",i.eventInstance)("options",e.VKq(4,hh,e.DdM(3,dh)))}}const M0=function(){return["img","ts","cost"]},fg=function(r){return{homeBackground:!0,show:r}};function pg(r,f){if(1&r&&(e.TgZ(0,"app-spirit-card",12)(1,"div",13)(2,"h2",14),e._uU(3,"Traveling Spirit "),e.TgZ(4,"span",15),e._uU(5),e.qZA()()()()),2&r){const i=e.oxw();e.Q6J("spirit",i.ts.spirit)("ts",i.ts)("tree",i.ts.tree)("options",e.VKq(6,fg,e.DdM(5,M0))),e.xp6(5),e.hij("(#",i.ts.number,")")}}let fh=(()=>{class r{constructor(i){this._dataService=i}ngOnInit(){this.season=this._dataService.seasonConfig.items.findLast(i=>be.O.isActive(i.date,i.endDate)),this.ts=this._dataService.travelingSpiritConfig.items.findLast(i=>be.O.isActive(i.date,i.endDate));for(const i of this._dataService.eventConfig.items){const c=i.instances?.findLast(u=>be.O.isActive(u.date,u.endDate));if(c){this.eventInstance=c;break}}}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(Ue.D))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-dashboard"]],decls:10,vars:4,consts:[[1,"sky-card"],[1,"sky-card-body"],[1,"mt"],["class","sky-card mt",4,"ngIf"],[1,"grid","grid-2","mt"],[3,"season","options",4,"ngIf"],[3,"event","instance","options",4,"ngIf"],[3,"spirit","ts","tree","options",4,"ngIf"],[1,"sky-card","mt"],[1,"container"],[3,"season","options"],[3,"event","instance","options"],[3,"spirit","ts","tree","options"],["title",""],[1,"h3","mb-0"],[1,"c-accent","h4"]],template:function(c,u){1&c&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-clock"),e.qZA()(),e.TgZ(3,"div",2),e._UZ(4,"app-search"),e.qZA(),e.YNc(5,T0,6,0,"div",3),e.TgZ(6,"div",4),e.YNc(7,dg,1,5,"app-season-card",5),e.YNc(8,hg,1,6,"app-event-card",6),e.YNc(9,pg,6,8,"app-spirit-card",7),e.qZA()),2&c&&(e.xp6(5),e.Q6J("ngIf",!u.season&&!u.eventInstance&&!u.ts),e.xp6(2),e.Q6J("ngIf",u.season),e.xp6(1),e.Q6J("ngIf",u.eventInstance),e.xp6(1),e.Q6J("ngIf",u.ts))},dependencies:[Q.O5,ng,Bd,$f,lh,ug],styles:[".show-empty[_ngcontent-%COMP%]{display:none}.show-empty[_ngcontent-%COMP%]:only-child{display:block}.img[_ngcontent-%COMP%]{height:var(--img-preview-height)}.search[_ngcontent-%COMP%]{position:relative;cursor:pointer}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:32px;cursor:pointer}.search[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;left:8px;top:50%;transform:translateY(-50%);opacity:1;transition:opacity var(--animation-short)}"]})}return r})(),pu=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-blank"]],decls:0,vars:0,template:function(c,u){},encapsulation:2,changeDetection:0})}return r})();const gg=function(){return["/col"]},mg=function(){return["/wing-buff"]};let _g=(()=>{class r{constructor(i,c){this._dataService=i,this._storageService=c,this.wb=0,this.totalWb=0,this.col=0,this.totalCol=0,this.col=c.unlockedCol.size,this.totalCol=this._dataService.wingedLightConfig.items.length;const u=this._dataService.itemConfig.items.filter(y=>y.type===ui.q.WingBuff);this.wb=u.filter(y=>y.unlocked).length,this.totalWb=u.length}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(Ue.D),e.Y36(lt.V))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-winged-light"]],decls:16,vars:8,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card-body"],[1,"grid","grid-2"],[1,"container",3,"routerLink"],[1,""],[1,"c-accent"]],template:function(c,u){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Winged Light"),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4)(6,"a",5)(7,"span",6),e._uU(8," Children of Light "),e.TgZ(9,"span",7),e._uU(10),e.qZA()()(),e.TgZ(11,"a",5)(12,"span",6),e._uU(13," Wing Buffs "),e.TgZ(14,"span",7),e._uU(15),e.qZA()()()()()()),2&c&&(e.xp6(6),e.Q6J("routerLink",e.DdM(6,gg)),e.xp6(4),e.AsE("(",u.col," / ",u.totalCol,")"),e.xp6(1),e.Q6J("routerLink",e.DdM(7,mg)),e.xp6(4),e.AsE("(",u.wb," / ",u.totalWb,")"))},dependencies:[q.rH],styles:[".wl[_ngcontent-%COMP%]{color:var(--color-wing-buff)}"],changeDetection:0})}return r})();const vg=["mapContainer"],yg=["table"];function Dg(r,f){}function bg(r,f){1&r&&e._uU(0,"Found")}function Cg(r,f){1&r&&e._uU(0,"Area")}function gu(r,f){1&r&&e._uU(0,"Realm")}function la(r,f){if(1&r){const i=e.EpF();e.TgZ(0,"span",17)(1,"mat-icon",18),e.NdJ("click",function(){const y=e.CHM(i).row,I=e.oxw();return e.KtG(I.showArea(y))}),e._uU(2,"location_on"),e.qZA()()}if(2&r){const i=f.row;e.ekj("completed",i.unlocked===i.wl.length)}}function A0(r,f){if(1&r){const i=e.EpF();e.TgZ(0,"span",19),e._uU(1),e.TgZ(2,"mat-icon",20),e.NdJ("click",function(){const y=e.CHM(i).row,I=e.oxw();return e.KtG(I.toggleRow(y))}),e._uU(3,"lock_open"),e.qZA()()}if(2&r){const i=f.row;e.ekj("completed",i.unlocked===i.wl.length),e.xp6(1),e.AsE(" ",i.unlocked," / ",i.wl.length," ")}}function S0(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const i=f.row;e.ekj("completed",i.unlocked===i.wl.length),e.xp6(1),e.Oqu(i.area.name)}}function ph(r,f){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const i=f.row;e.ekj("completed",i.unlocked===i.wl.length),e.xp6(1),e.Oqu(i.area.realm.name)}}let Ra=(()=>{class r{constructor(i,c,u,y,I,J,K){this._dataService=i,this._storageService=c,this._mapInstanceService=u,this._activatedRoute=y,this._changeDetectorRef=I,this._breakpointObserver=J,this._zone=K,this.unlockedCol=0,this.totalCol=0,this.light=[],this.lightMap={},this.rowMap={},this.unlockedCol=c.unlockedCol.size,this.totalCol=this._dataService.wingedLightConfig.items.length;const Se=new Set;this.rows=[],this._dataService.wingedLightConfig.items.forEach(Fe=>{const Tt=Fe.area;if(!Tt||Se.has(Tt.guid))return;Se.add(Tt.guid);const vt={area:Tt,wl:Tt.wingedLights||[],unlocked:(Tt.wingedLights||[]).filter(Ft=>Ft.unlocked).length};vt.wl.forEach(Ft=>{this.rowMap[Ft.guid]=vt}),this.rows.push(vt)})}ngAfterViewInit(){this.map=this._mapInstanceService.attach(this.mapContainer?.nativeElement),this.map.setView([-400,270],2,{animate:!1,duration:0});const i=this._activatedRoute.snapshot.queryParamMap,c=+(i.get("x")||0),u=+(i.get("y")||0),y=i.has("z")?+(i.get("z")||0):void 0;void 0!==y&&this.map.setView([u,c],y);const I=this._mapInstanceService.createLayerGroup("col"),J=Ts().icon({iconUrl:"assets/icons/light.svg",iconSize:[32,32],popupAnchor:[0,-12]});Ts().imageOverlay("assets/game/map/void.webp",[[-141.87,185.63],[-116.88,210.63]]).addTo(I),this._dataService.wingedLightConfig.items.forEach(K=>{if(!K.mapData)return;const Se={wl:K};Se.marker=Ts().marker(K.mapData.position,{icon:J,opacity:K.unlocked?.4:1}),Se.marker.bindPopup(this.createPopup(K),{minWidth:480,maxWidth:480}),I.addLayer(Se.marker),this.light.push(Se),this.lightMap[K.guid]=Se}),I.addTo(this.map),window.markCol=(K,Se)=>{this._zone.run(()=>{this.markCol(K,Se)})},window.nextCol=(K,Se)=>{this._zone.run(()=>{Se<0?this.prevCol(K):this.nextCol(K)})},this._mapInstanceService.on("popupopen",K=>{this.onPopupOpen(K)}),this._mapInstanceService.on("moveend",()=>{this.onMoveEnd()}),this._mapInstanceService.on("keydown",K=>{this.onKeydown(K)}),this._subWidth=this._breakpointObserver.observe(["(min-width: 720px)"]).subscribe(K=>this.onResponsive(K))}onResponsive(i){const c=i.matches?480:240;this.light.forEach(u=>{if(!u.marker)return;const y=u.marker.getPopup()?.options||{};y.minWidth=y.maxWidth=c})}ngOnDestroy(){this._subWidth?.unsubscribe()}scrollToList(){this.table&&this.table.nativeElement.scrollIntoView({behavior:"smooth",block:"start"})}reset(){confirm("Are you sure you want to reset your found Children of Light?")&&(this._storageService.unlockedCol.clear(),this._storageService.saveCol(),this._dataService.reloadUnlocked(),this.unlockedCol=0,this.rows.forEach(i=>i.unlocked=0),this.light.forEach(i=>{i.marker?.setOpacity(1)}),this.map.closePopup(),this._changeDetectorRef.markForCheck())}showArea(i){this.shownArea=i.area;const c=this.light.filter(y=>y.wl.area===this.shownArea),u=c.find(y=>!y.wl.unlocked)?.wl??c[0]?.wl;u&&this.flyAndOpen(u,!0)}toggleRow(i,c){c??=i.unlocked<i.wl.length,this.map.closePopup(),i.area.wingedLights?.forEach(u=>{this.toggleWingedLight(u,c),this.updateTable(u),this.updateMarker(u)})}createPopup(i){let c="",u=i.mapData?.videoUrl;u&&(u.includes("youtube")||(u=`https://silverfeelin.github.io/SkyGame-Planner-Videos/CoL/${u}`),c=`<iframe class="s-leaflet-vid" width="480" height="270" src="${u}" title="CoL" frameborder="0" allow="autoplay; encrypted-media;" allowfullscreen></iframe>`);let y="";return i._wiki?.href&&(y=`<a href="${i._wiki.href}" class="button link float-right" target="_blank">Wiki</a>`),`\n<div class="s-leaflet-tooltip" data-wl="${i.guid}" onkeydown="keydownCol(event, this)">\n  <div class="s-leaflet-grid">\n    <div class="container s-leaflet-item"><div class="menu-icon s-leaflet-maticon">map</div><div class="menu-label">${i.area?.realm?.name||""}</div></div>\n    <div class="container s-leaflet-item"><div class="menu-icon s-leaflet-maticon">location_on</div><div class="menu-label">${i.area?.name||""}</div></div>\n    <div class="container s-leaflet-item s-leaflet-desc">\n      <div class="menu-icon s-leaflet-maticon">description</div><div class="menu-label">${i.description||""}</div>\n    </div>\n  </div>\n  <div class="s-leaflet-mt">${c}</div>\n  <div class="s-leaflet-mt">\n    <button type="button" class="s-leaflet-hasicon s-leaflet-found" data-action="mark" onclick="markCol(this, '${i.guid}')">\n      <span class="s-leaflet-maticon">check_box_outline_blank</span>\n      <span class="s-leaflet-check-label">Found</span>\n    </button>\n    <button class="s-leaflet-hasicon" data-direction="left" type="button" onclick="nextCol('${i.guid}', -1)"><span class="s-leaflet-maticon">arrow_back</span>&nbsp;</button>\n    <button class="s-leaflet-hasicon" data-direction="right" type="button" onclick="nextCol('${i.guid}', 1)"><span class="s-leaflet-maticon">arrow_forward</span>&nbsp;</button>\n    ${y}\n  </div>\n</div>\n`}onPopupOpen(i){const c=i.popup.getElement()?.querySelector(".s-leaflet-tooltip");if(!c)return;const y=this._dataService.guidMap.get(c.dataset.wl);this._lastPopup=i.popup,this.updatePopup(c,y)}onMoveEnd(){const i=new URL(location.href),c=this.map.getCenter();i.searchParams.set("x",`${Math.floor(c.lng)}`),i.searchParams.set("y",`${Math.floor(c.lat)}`),i.searchParams.set("z",`${this.map.getZoom()}`),window.history.replaceState(window.history.state,"",i.pathname+i.search)}onKeydown(i){if(!this._lastPopup?.isOpen())return;const c=i.originalEvent.key;if("ArrowLeft"!==c&&"ArrowRight"!==c&&" "!==c)return;const u=this._lastPopup.getElement()?.querySelector(".s-leaflet-tooltip"),y=u.dataset.wl;if(y){switch(c){case"ArrowLeft":this.prevCol(y);break;case"ArrowRight":this.nextCol(y);break;case" ":this.markCol(u.querySelector('[data-action="mark"]'),y);break;default:return}i.originalEvent.preventDefault(),i.originalEvent.stopPropagation()}}updatePopup(i,c){i.querySelector(".s-leaflet-found .s-leaflet-maticon").innerText=c.unlocked?"check_box":"check_box_outline_blank"}updateMarker(i){const c=this.lightMap[i.guid];c&&c.marker?.setOpacity(i.unlocked?.4:1)}updateTable(i){const c=this.rowMap[i.guid];c&&(c.unlocked=(c.wl||[]).filter(u=>u.unlocked).length,this.unlockedCol=this._storageService.unlockedCol.size,this._changeDetectorRef.markForCheck())}flyAndOpen(i,c=!1){if(!i)return;const u=this.lightMap[i.guid];if(!u)return;c&&window.scrollTo({top:0,behavior:"smooth"}),this.map.closePopup();const y=i.mapData?.position||[0,0];this.map.flyTo([y[0]+20,y[1]],3),u.marker?.openPopup(),u.marker?.getElement()?.focus()}toggleWingedLight(i,c){i.unlocked="boolean"==typeof c?c:!i.unlocked,i.unlocked?this._storageService.addCol(i.guid):this._storageService.removeCol(i.guid),this._storageService.saveCol()}allDone(){this.map.closePopup(),this._mapInstanceService.centerMap()}markCol(i,c){const u=this._dataService.guidMap.get(c);this.toggleWingedLight(u),this.updatePopup(i,u),this.updateMarker(u),this.updateTable(u),u.unlocked&&this.nextCol(c,!0)}prevCol(i){const c=this._dataService.guidMap.get(i),u=this._dataService.wingedLightConfig.items.findIndex(I=>I===c),y=this._dataService.wingedLightConfig.items[u-1]||this._dataService.wingedLightConfig.items[this._dataService.wingedLightConfig.items.length-1];this.lightMap[y.guid]?.marker?this.flyAndOpen(y):alert("Missing marker for previous Child of Light!")}nextCol(i,c=!1){const u=this._dataService.guidMap.get(i),y=this._dataService.wingedLightConfig.items.findIndex(K=>K===u);let J,I=(y+1)%this._dataService.wingedLightConfig.items.length;for(;I!==y&&(J=this._dataService.wingedLightConfig.items[I],J.unlocked&&c);)I+=1,I%=this._dataService.wingedLightConfig.items.length;if(I!==y){if(J){if(!this.lightMap[J.guid]?.marker)return void alert("Missing marker for next Child of Light!");this.flyAndOpen(J)}}else this.allDone()}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(Ue.D),e.Y36(lt.V),e.Y36(iu),e.Y36(q.gz),e.Y36(e.sBO),e.Y36(ce.Yg),e.Y36(e.R0b))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-children-of-light"]],viewQuery:function(c,u){if(1&c&&(e.Gf(vg,7),e.Gf(yg,7)),2&c){let y;e.iGM(y=e.CRH())&&(u.mapContainer=y.first),e.iGM(y=e.CRH())&&(u.table=y.first)}},features:[e._Bn([iu])],decls:28,vars:7,consts:[[1,"map-container"],["mapContainer",""],["type","button",1,"map-control",3,"click"],[1,""],[1,"sky-card","mt"],["table",""],[1,"sky-card-header"],[1,"h3","mb-0","d-inline-block"],[1,"c-accent","show-desktop"],[1,"c-accent","show-mobile"],["type","button",1,"btn-reset",3,"click"],[1,"sky-card-body","scroll-x"],[3,"rows"],[3,"appTableHeader","fit"],[3,"appTableHeader","width"],[3,"appTableHeader"],[3,"appTableColumn"],[1,"link","map-icon"],[3,"click"],[1,"row-unlocked"],[1,"row-toggle",3,"click"]],template:function(c,u){1&c&&(e.TgZ(0,"div",0,1)(2,"button",2),e.NdJ("click",function(){return u.scrollToList()}),e.TgZ(3,"mat-icon"),e._uU(4,"arrow_downward"),e.qZA()()(),e.TgZ(5,"div",3)(6,"div",4,5)(8,"div",6)(9,"h2",7)(10,"span"),e._uU(11,"Children of Light"),e.qZA(),e.TgZ(12,"span",8),e._uU(13),e.qZA(),e.TgZ(14,"div",9),e._uU(15),e.qZA()(),e.TgZ(16,"button",10),e.NdJ("click",function(){return u.reset()}),e._uU(17,"Reset"),e.qZA()(),e.TgZ(18,"div",11)(19,"app-table",12),e.YNc(20,Dg,0,0,"ng-template",13),e.YNc(21,bg,1,0,"ng-template",14),e.YNc(22,Cg,1,0,"ng-template",15),e.YNc(23,gu,1,0,"ng-template",15),e.YNc(24,la,3,2,"ng-template",16),e.YNc(25,A0,4,4,"ng-template",16),e.YNc(26,S0,2,3,"ng-template",16),e.YNc(27,ph,2,3,"ng-template",16),e.qZA()()()()),2&c&&(e.xp6(13),e.AsE(" (",u.unlockedCol," / ",u.totalCol,")"),e.xp6(2),e.AsE("",u.unlockedCol," / ",u.totalCol,""),e.xp6(4),e.Q6J("rows",u.rows),e.xp6(1),e.Q6J("fit",!0),e.xp6(1),e.Q6J("width","84px"))},dependencies:[Y.Hw,Rs,xa,Oa],styles:[".map-control[_ngcontent-%COMP%]{position:absolute;z-index:9999;bottom:var(--padding-content);left:var(--padding-content);padding:var(--padding-content);color:var(--color-map-tooltip);background:var(--color-map-tooltip-background);border-radius:var(--border-radius);width:32px;height:32px}.map-control[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;bottom:3px;left:3px}.btn-reset[_ngcontent-%COMP%]{color:var(--color-danger);background:var(--color-danger-background);border-color:var(--color-danger-accent);position:absolute;right:var(--padding-content);top:50%;transform:translateY(-50%)}input.map-input[_ngcontent-%COMP%]{width:auto;display:inline-block}.map-icon[_ngcontent-%COMP%]{position:relative;display:inline-block;width:24px}.map-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;top:-17px;left:0}.row-unlocked[_ngcontent-%COMP%]{position:relative;white-space:nowrap;padding-right:30px}.row-toggle[_ngcontent-%COMP%]{position:absolute;cursor:pointer;top:-3px;right:0}.completed[_ngcontent-%COMP%]{color:var(--color-unlock-check);font-weight:700}.show-desktop[_ngcontent-%COMP%]{display:none}@media screen and (min-width: 720px){.show-desktop[_ngcontent-%COMP%]{display:unset}.show-mobile[_ngcontent-%COMP%]{display:none}}"],changeDetection:0})}return r})();const pr=r=>`${r} - Sky Planner`,I0=[{path:"",component:fh,title:"Sky Planner"},{path:"blank",component:pu,title:"Sky Planner"},{path:"credits",component:ne,title:pr("Credits")},{path:"event",component:P_,title:pr("Events")},{path:"event/:guid",component:M_,title:nl},{path:"event-instance/:guid",component:v_,title:Bs},{path:"item",component:U_,title:pr("Items")},{path:"realm",component:T1,title:pr("Realms")},{path:"realm/:guid",component:Qv,title:nl},{path:"season",component:nv,title:pr("Seasons")},{path:"season/:guid",component:Ys,title:nl},{path:"settings",component:zv,title:pr("Settings")},{path:"shop",component:Pv,title:pr("Shops")},{path:"spirits",component:ol,title:pr("Spirits")},{path:"spirit",component:Gd,title:pr("Spirits")},{path:"spirit/:guid",component:_p,title:nl},{path:"ts",component:xp,title:pr("Traveling Spirits")},{path:"rs",component:Wp,title:pr("Special Visits")},{path:"rs/:guid",component:e0,title:nl},{path:"winged-light",component:_g,title:pr("Winged Light")},{path:"wing-buff",component:Gv,title:pr("Wing Buffs")},{path:"col",component:Ra,title:pr("Children of Light")},{path:"editor",loadChildren:()=>M.e(471).then(M.bind(M,4471)).then(r=>r.EditorModule)}];let gh=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({imports:[q.Bz.forRoot(I0,{scrollPositionRestoration:"enabled"}),q.Bz]})}return r})();var Z1=M(736),V1=M.n(Z1),x0=M(7014),O0=M.n(x0),wg=M(6669),N0=M.n(wg);function ko(r,f){if(1&r){const i=e.EpF();e.TgZ(0,"aside",14),e.NdJ("click",function(){e.CHM(i);const u=e.oxw();return e.KtG(u.foldMenu())}),e.TgZ(1,"mat-icon"),e._uU(2,"keyboard_double_arrow_right"),e.qZA()()}2&r&&e.Q6J("ngbTooltip","Open menu")}function Eg(r,f){if(1&r&&e._UZ(0,"img",15),2&r){const i=e.oxw();e.Q6J("src",i.seasonIconUrl,e.LSH)}}function P0(r,f){1&r&&(e.TgZ(0,"mat-icon"),e._uU(1,"ac_unit"),e.qZA())}let k0=(()=>{class r{constructor(i,c,u){this._dataService=i,this._breakpointObserver=c,this._router=u,this.wide=!1,this.folded=!1,c.observe(["(min-width: 992px)"]).subscribe(y=>this.onLg(y)),this.seasonIconUrl=i.seasonConfig.items.at(-1)?.iconUrl,this.updateFolded("1"===localStorage.getItem("menu.folded"))}onLg(i){this.wide=i.matches}gotoHome(i){i.preventDefault(),this._router.navigate(["/blank"],{skipLocationChange:!0}).then(()=>{this._router.navigate(["/"])})}foldMenu(){this.updateFolded(!this.folded)}updateFolded(i){this.folded=i,document.body.classList.toggle("menu-folded",this.folded),localStorage.setItem("menu.folded",this.folded?"1":"0")}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(Ue.D),e.Y36(ce.Yg),e.Y36(q.F0))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-menu"]],decls:73,vars:27,consts:[["class","menu-toggle","container","body","placement","right",3,"ngbTooltip","click",4,"ngIf"],[1,"menu"],[1,"items"],["placement","right","container","body",1,"item","menu-fold",3,"ngbTooltip","click"],[1,"name"],["href","/","placement","right","container","body",1,"item",3,"ngbTooltip","click"],[1,"name","header"],["routerLinkActive","menu-active","placement","right","container","body",1,"item",3,"routerLink","ngbTooltip"],["svgIcon","flaps"],["class","icon",3,"src",4,"ngIf","ngIfElse"],["seasonIcon",""],[1,"bottom"],["href","https://sky-clock.netlify.app/","target","_blank","placement","right","container","body",1,"item",3,"ngbTooltip"],["href","https://github.com/Silverfeelin/SkyGame-Planner/","target","_blank","placement","right","container","body",1,"item",3,"ngbTooltip"],["container","body","placement","right",1,"menu-toggle",3,"ngbTooltip","click"],[1,"icon",3,"src"]],template:function(c,u){if(1&c&&(e.YNc(0,ko,3,1,"aside",0),e.TgZ(1,"aside",1)(2,"nav")(3,"div",2)(4,"a",3),e.NdJ("click",function(){return u.foldMenu()}),e.TgZ(5,"mat-icon"),e._uU(6,"keyboard_double_arrow_left"),e.qZA(),e.TgZ(7,"span",4),e._uU(8,"Close menu"),e.qZA()(),e._UZ(9,"hr"),e.TgZ(10,"a",5),e.NdJ("click",function(I){return u.gotoHome(I)}),e.TgZ(11,"mat-icon"),e._uU(12,"home"),e.qZA(),e.TgZ(13,"span",6),e._uU(14,"Sky Planner"),e.qZA()(),e._UZ(15,"hr"),e.TgZ(16,"a",7)(17,"mat-icon"),e._uU(18,"checkroom"),e.qZA(),e.TgZ(19,"span",4),e._uU(20,"Items"),e.qZA()(),e.TgZ(21,"a",7)(22,"mat-icon"),e._uU(23,"person"),e.qZA(),e.TgZ(24,"span",4),e._uU(25,"Spirits"),e.qZA()(),e.TgZ(26,"a",7),e._UZ(27,"mat-icon",8),e.TgZ(28,"span",4),e._uU(29,"Winged Light"),e.qZA()(),e.TgZ(30,"a",7)(31,"mat-icon"),e._uU(32,"map"),e.qZA(),e.TgZ(33,"span",4),e._uU(34,"Realms"),e.qZA()(),e.TgZ(35,"a",7),e.YNc(36,Eg,1,1,"img",9),e.YNc(37,P0,2,0,"ng-template",null,10,e.W1O),e.TgZ(39,"span",4),e._uU(40,"Seasons"),e.qZA()(),e.TgZ(41,"a",7)(42,"mat-icon"),e._uU(43,"celebration"),e.qZA(),e.TgZ(44,"span",4),e._uU(45,"Events"),e.qZA()(),e.TgZ(46,"a",7)(47,"mat-icon"),e._uU(48,"shopping_cart"),e.qZA(),e.TgZ(49,"span",4),e._uU(50,"Permanent IAP"),e.qZA()(),e._UZ(51,"hr",11),e.TgZ(52,"a",12)(53,"mat-icon"),e._uU(54,"schedule"),e.qZA(),e.TgZ(55,"span",4),e._uU(56,"Sky Clock"),e.qZA()(),e._UZ(57,"hr"),e.TgZ(58,"a",7)(59,"mat-icon"),e._uU(60,"settings"),e.qZA(),e.TgZ(61,"span",4),e._uU(62,"Settings"),e.qZA()(),e.TgZ(63,"a",13)(64,"mat-icon"),e._uU(65,"code"),e.qZA(),e.TgZ(66,"span",4),e._uU(67,"GitHub"),e.qZA()(),e.TgZ(68,"a",7)(69,"mat-icon"),e._uU(70,"info"),e.qZA(),e.TgZ(71,"span",4),e._uU(72,"Credits"),e.qZA()()()()()),2&c){const y=e.MAs(38);e.Q6J("ngIf",u.folded),e.xp6(1),e.ekj("folded",u.folded),e.xp6(3),e.Q6J("ngbTooltip",u.wide?"":"Close menu"),e.xp6(6),e.Q6J("ngbTooltip",u.wide?"":"Home"),e.xp6(6),e.Q6J("routerLink","item")("ngbTooltip",u.wide?"":"Items"),e.xp6(5),e.Q6J("routerLink","spirits")("ngbTooltip",u.wide?"":"Spirits"),e.xp6(5),e.Q6J("routerLink","winged-light")("ngbTooltip",u.wide?"":"Winged Light"),e.xp6(4),e.Q6J("routerLink","realm")("ngbTooltip",u.wide?"":"Realms"),e.xp6(5),e.Q6J("routerLink","season")("ngbTooltip",u.wide?"":"Seasons"),e.xp6(1),e.Q6J("ngIf",u.seasonIconUrl)("ngIfElse",y),e.xp6(5),e.Q6J("routerLink","event")("ngbTooltip",u.wide?"":"Events"),e.xp6(5),e.Q6J("routerLink","shop")("ngbTooltip",u.wide?"":"Shop"),e.xp6(6),e.Q6J("ngbTooltip",u.wide?"":"Sky Clock"),e.xp6(6),e.Q6J("routerLink","settings")("ngbTooltip",u.wide?"":"Settings"),e.xp6(5),e.Q6J("ngbTooltip",u.wide?"":"GitHub"),e.xp6(5),e.Q6J("routerLink","credits")("ngbTooltip",u.wide?"":"Credits")}},dependencies:[Q.O5,q.rH,q.Od,Vo,Y.Hw],styles:[".menu[_ngcontent-%COMP%]{position:fixed;left:0;top:0;bottom:0;width:var(--menu-width);background-color:var(--color-menu-background);z-index:100;overflow-x:hidden;overflow-y:auto;border-right:1px solid var(--color-border)}.folded[_ngcontent-%COMP%]{display:none!important}.menu-toggle[_ngcontent-%COMP%]{position:fixed;cursor:pointer;top:5px;left:0;width:34px;height:34px;z-index:999999;background:var(--color-menu-unfold-background);padding:var(--padding-content);border-radius:0 var(--border-radius) var(--border-radius) 0;border:1px solid var(--color-menu-unfold-border)}.menu-toggle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:4px;position:absolute;top:0;left:0}.header[_ngcontent-%COMP%]{position:relative;font-size:24px;text-align:left;text-decoration:none}.header[_ngcontent-%COMP%]:hover{background-color:var(--color-menu-item-active-background)}.header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:relative;top:3px}.title[_ngcontent-%COMP%]{padding-left:4px}.items[_ngcontent-%COMP%]{display:flex;height:100vh;flex-direction:column;align-content:stretch;position:relative;font-size:18px}.item[_ngcontent-%COMP%]{display:block;padding:10px;cursor:pointer;background-color:var(--color-menu-item-background)}.menu-fold[_ngcontent-%COMP%]{padding:5px 10px}.bottom[_ngcontent-%COMP%]{margin-top:auto}.item.menu-active[_ngcontent-%COMP%], .item[_ngcontent-%COMP%]:hover{background-color:var(--color-menu-item-active-background)}.item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:sub}.item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:10px}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus, a[_ngcontent-%COMP%]:active, a[_ngcontent-%COMP%]:visited{color:unset}hr[_ngcontent-%COMP%]{margin:0;color:var(--color-menu-border)}.header[_ngcontent-%COMP%], .name[_ngcontent-%COMP%]{display:none}@media screen and (min-width: 992px){.header[_ngcontent-%COMP%]{display:block}.name[_ngcontent-%COMP%]{display:inline-block}.item[_ngcontent-%COMP%]{padding:15px 10px}.menu-fold[_ngcontent-%COMP%]{padding:2px 10px}}"]})}return r})();function Tg(r,f){1&r&&(e.TgZ(0,"div",2)(1,"mat-icon",3),e._uU(2,"cached"),e.qZA()())}function R0(r,f){1&r&&(e.TgZ(0,"div",6)(1,"div",7),e._uU(2,"Data was changed in another tab. Please refresh this tab to avoid losing changes!"),e.qZA()())}function Mg(r,f){if(1&r&&(e.ynx(0),e._UZ(1,"app-menu"),e.YNc(2,R0,3,0,"div",4),e.TgZ(3,"div",5),e._UZ(4,"router-outlet"),e.qZA(),e.BQk()),2&r){const i=e.oxw();e.xp6(2),e.Q6J("ngIf",i.dataLoss)}}let Ag=(()=>{class r{constructor(i,c,u,y,I,J,K){this._dataService=i,this._eventService=c,this._themeService=u,this._domSanitizer=y,this._matIconRegistry=I,this._viewContainerRef=J,this._router=K,this.ready=!1,this.dataLoss=!1,this._dataService.onData.subscribe(()=>{this.onData()}),this._themeService.init(),this.initDisplayDate(),I.setDefaultFontSetClass("material-symbols-outlined"),I.addSvgIconSet(y.bypassSecurityTrustResourceUrl("assets/icons/icons.svg")),window.addEventListener("storage",()=>{this.dataLoss=!0}),ao().extend(V1()),ao().extend(O0()),ao().extend(N0()),ao().tz.setDefault(be.O.skyTimeZone),window.dayjs=ao()}initDisplayDate(){be.O.displayFormat=localStorage.getItem("date.format")||"",(!be.O.displayFormat||!be.O.displayFormats.includes(be.O.displayFormat))&&(be.O.displayFormat=be.O.displayFormats[0])}onData(){this.ready=!0}static#e=this.\u0275fac=function(c){return new(c||r)(e.Y36(Ue.D),e.Y36(Oe),e.Y36(Jd),e.Y36(g.H7),e.Y36(Y.jv),e.Y36(e.s_b),e.Y36(q.F0))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-root"]],decls:2,vars:2,consts:[["class","loading fade-in",4,"ngIf"],[4,"ngIf"],[1,"loading","fade-in"],[1,"spin"],["class","data-loss",4,"ngIf"],[1,"content"],[1,"data-loss"],[1,"data-loss-inner"]],template:function(c,u){1&c&&(e.YNc(0,Tg,3,0,"div",0),e.YNc(1,Mg,5,1,"ng-container",1)),2&c&&(e.Q6J("ngIf",!u.ready),e.xp6(1),e.Q6J("ngIf",u.ready))},dependencies:[Q.O5,q.lC,Y.Hw,k0],styles:[".loading[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;justify-content:center;align-items:center;height:100%;transform:scaleX(-1)}.loading[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{scale:3}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading[_ngcontent-%COMP%]   .spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 2s linear infinite}@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0}to{opacity:1}}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade-in 2s ease-in;animation-fill-mode:forwards}  body{position:relative;left:var(--menu-width);width:calc(100% - var(--menu-width));padding:var(--padding-content)}  body.menu-folded{left:0;width:100%}body.no-menu[_ngcontent-%COMP%]{left:0;width:100%}.data-loss[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#0008;z-index:999}.data-loss-inner[_ngcontent-%COMP%]{position:relative;display:inline-block;top:50%;left:50%;transform:translate(-50%,-50%)}.map-container[_ngcontent-%COMP%]{display:none}"]})}return r})(),bc=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.oAB({type:r,bootstrap:[Ag]});static#n=this.\u0275inj=e.cJS({imports:[g.b2,gh,X.JF,bf,ce.xu,Y.Ps]})}return r})();Array.prototype.findLast=function(r){for(let f=this.length-1;f>=0;f--){const i=this[f];if(r(i,f,this))return i}},g.q6().bootstrapModule(bc).catch(r=>console.error(r))},292:function(Pt){Pt.exports=function(){"use strict";var M=6e4,g=36e5,X="millisecond",Y="second",ce="minute",q="hour",e="day",Q="week",Le="month",pe="quarter",me="year",Ae="date",ne="Invalid Date",be=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,xe=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Ue={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Ze){var it=["th","st","nd","rd"],He=Ze%100;return"["+Ze+(it[(He-20)%10]||it[He]||it[0])+"]"}},Ye=function(Ze,it,He){var pt=String(Ze);return!pt||pt.length>=it?Ze:""+Array(it+1-pt.length).join(He)+Ze},ee={s:Ye,z:function(Ze){var it=-Ze.utcOffset(),He=Math.abs(it),pt=Math.floor(He/60),Qe=He%60;return(it<=0?"+":"-")+Ye(pt,2,"0")+":"+Ye(Qe,2,"0")},m:function Ze(it,He){if(it.date()<He.date())return-Ze(He,it);var pt=12*(He.year()-it.year())+(He.month()-it.month()),Qe=it.clone().add(pt,Le),Lt=He-Qe<0,rt=it.clone().add(pt+(Lt?-1:1),Le);return+(-(pt+(He-Qe)/(Lt?Qe-rt:rt-Qe))||0)},a:function(Ze){return Ze<0?Math.ceil(Ze)||0:Math.floor(Ze)},p:function(Ze){return{M:Le,y:me,w:Q,d:e,D:Ae,h:q,m:ce,s:Y,ms:X,Q:pe}[Ze]||String(Ze||"").toLowerCase().replace(/s$/,"")},u:function(Ze){return void 0===Ze}},Oe="en",lt={};lt[Oe]=Ue;var gt=function(Ze){return Ze instanceof ct},we=function Ze(it,He,pt){var Qe;if(!it)return Oe;if("string"==typeof it){var Lt=it.toLowerCase();lt[Lt]&&(Qe=Lt),He&&(lt[Lt]=He,Qe=Lt);var rt=it.split("-");if(!Qe&&rt.length>1)return Ze(rt[0])}else{var ht=it.name;lt[ht]=it,Qe=ht}return!pt&&Qe&&(Oe=Qe),Qe||!pt&&Oe},ge=function(Ze,it){if(gt(Ze))return Ze.clone();var He="object"==typeof it?it:{};return He.date=Ze,He.args=arguments,new ct(He)},le=ee;le.l=we,le.i=gt,le.w=function(Ze,it){return ge(Ze,{locale:it.$L,utc:it.$u,x:it.$x,$offset:it.$offset})};var ct=function(){function Ze(He){this.$L=we(He.locale,null,!0),this.parse(He)}var it=Ze.prototype;return it.parse=function(He){this.$d=function(pt){var Qe=pt.date,Lt=pt.utc;if(null===Qe)return new Date(NaN);if(le.u(Qe))return new Date;if(Qe instanceof Date)return new Date(Qe);if("string"==typeof Qe&&!/Z$/i.test(Qe)){var rt=Qe.match(be);if(rt){var ht=rt[2]-1||0,Re=(rt[7]||"0").substring(0,3);return Lt?new Date(Date.UTC(rt[1],ht,rt[3]||1,rt[4]||0,rt[5]||0,rt[6]||0,Re)):new Date(rt[1],ht,rt[3]||1,rt[4]||0,rt[5]||0,rt[6]||0,Re)}}return new Date(Qe)}(He),this.$x=He.x||{},this.init()},it.init=function(){var He=this.$d;this.$y=He.getFullYear(),this.$M=He.getMonth(),this.$D=He.getDate(),this.$W=He.getDay(),this.$H=He.getHours(),this.$m=He.getMinutes(),this.$s=He.getSeconds(),this.$ms=He.getMilliseconds()},it.$utils=function(){return le},it.isValid=function(){return this.$d.toString()!==ne},it.isSame=function(He,pt){var Qe=ge(He);return this.startOf(pt)<=Qe&&Qe<=this.endOf(pt)},it.isAfter=function(He,pt){return ge(He)<this.startOf(pt)},it.isBefore=function(He,pt){return this.endOf(pt)<ge(He)},it.$g=function(He,pt,Qe){return le.u(He)?this[pt]:this.set(Qe,He)},it.unix=function(){return Math.floor(this.valueOf()/1e3)},it.valueOf=function(){return this.$d.getTime()},it.startOf=function(He,pt){var Qe=this,Lt=!!le.u(pt)||pt,rt=le.p(He),ht=function(Ve,et){var nt=le.w(Qe.$u?Date.UTC(Qe.$y,et,Ve):new Date(Qe.$y,et,Ve),Qe);return Lt?nt:nt.endOf(e)},Re=function(Ve,et){return le.w(Qe.toDate()[Ve].apply(Qe.toDate("s"),(Lt?[0,0,0,0]:[23,59,59,999]).slice(et)),Qe)},ft=this.$W,ae=this.$M,ue=this.$D,Ee="set"+(this.$u?"UTC":"");switch(rt){case me:return Lt?ht(1,0):ht(31,11);case Le:return Lt?ht(1,ae):ht(0,ae+1);case Q:var De=this.$locale().weekStart||0,Me=(ft<De?ft+7:ft)-De;return ht(Lt?ue-Me:ue+(6-Me),ae);case e:case Ae:return Re(Ee+"Hours",0);case q:return Re(Ee+"Minutes",1);case ce:return Re(Ee+"Seconds",2);case Y:return Re(Ee+"Milliseconds",3);default:return this.clone()}},it.endOf=function(He){return this.startOf(He,!1)},it.$set=function(He,pt){var Qe,Lt=le.p(He),rt="set"+(this.$u?"UTC":""),ht=(Qe={},Qe[e]=rt+"Date",Qe[Ae]=rt+"Date",Qe[Le]=rt+"Month",Qe[me]=rt+"FullYear",Qe[q]=rt+"Hours",Qe[ce]=rt+"Minutes",Qe[Y]=rt+"Seconds",Qe[X]=rt+"Milliseconds",Qe)[Lt],Re=Lt===e?this.$D+(pt-this.$W):pt;if(Lt===Le||Lt===me){var ft=this.clone().set(Ae,1);ft.$d[ht](Re),ft.init(),this.$d=ft.set(Ae,Math.min(this.$D,ft.daysInMonth())).$d}else ht&&this.$d[ht](Re);return this.init(),this},it.set=function(He,pt){return this.clone().$set(He,pt)},it.get=function(He){return this[le.p(He)]()},it.add=function(He,pt){var Qe,Lt=this;He=Number(He);var rt=le.p(pt),ht=function(ae){var ue=ge(Lt);return le.w(ue.date(ue.date()+Math.round(ae*He)),Lt)};if(rt===Le)return this.set(Le,this.$M+He);if(rt===me)return this.set(me,this.$y+He);if(rt===e)return ht(1);if(rt===Q)return ht(7);var Re=(Qe={},Qe[ce]=M,Qe[q]=g,Qe[Y]=1e3,Qe)[rt]||1,ft=this.$d.getTime()+He*Re;return le.w(ft,this)},it.subtract=function(He,pt){return this.add(-1*He,pt)},it.format=function(He){var pt=this,Qe=this.$locale();if(!this.isValid())return Qe.invalidDate||ne;var Lt=He||"YYYY-MM-DDTHH:mm:ssZ",rt=le.z(this),ht=this.$H,Re=this.$m,ft=this.$M,ae=Qe.weekdays,ue=Qe.months,De=function(et,nt,cn,ut){return et&&(et[nt]||et(pt,Lt))||cn[nt].slice(0,ut)},Me=function(et){return le.s(ht%12||12,et,"0")},Ve=Qe.meridiem||function(et,nt,cn){var ut=et<12?"AM":"PM";return cn?ut.toLowerCase():ut};return Lt.replace(xe,function(et,nt){return nt||function(cn){switch(cn){case"YY":return String(pt.$y).slice(-2);case"YYYY":return le.s(pt.$y,4,"0");case"M":return ft+1;case"MM":return le.s(ft+1,2,"0");case"MMM":return De(Qe.monthsShort,ft,ue,3);case"MMMM":return De(ue,ft);case"D":return pt.$D;case"DD":return le.s(pt.$D,2,"0");case"d":return String(pt.$W);case"dd":return De(Qe.weekdaysMin,pt.$W,ae,2);case"ddd":return De(Qe.weekdaysShort,pt.$W,ae,3);case"dddd":return ae[pt.$W];case"H":return String(ht);case"HH":return le.s(ht,2,"0");case"h":return Me(1);case"hh":return Me(2);case"a":return Ve(ht,Re,!0);case"A":return Ve(ht,Re,!1);case"m":return String(Re);case"mm":return le.s(Re,2,"0");case"s":return String(pt.$s);case"ss":return le.s(pt.$s,2,"0");case"SSS":return le.s(pt.$ms,3,"0");case"Z":return rt}return null}(et)||rt.replace(":","")})},it.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},it.diff=function(He,pt,Qe){var Lt,rt=this,ht=le.p(pt),Re=ge(He),ft=(Re.utcOffset()-this.utcOffset())*M,ae=this-Re,ue=function(){return le.m(rt,Re)};switch(ht){case me:Lt=ue()/12;break;case Le:Lt=ue();break;case pe:Lt=ue()/3;break;case Q:Lt=(ae-ft)/6048e5;break;case e:Lt=(ae-ft)/864e5;break;case q:Lt=ae/g;break;case ce:Lt=ae/M;break;case Y:Lt=ae/1e3;break;default:Lt=ae}return Qe?Lt:le.a(Lt)},it.daysInMonth=function(){return this.endOf(Le).$D},it.$locale=function(){return lt[this.$L]},it.locale=function(He,pt){if(!He)return this.$L;var Qe=this.clone(),Lt=we(He,pt,!0);return Lt&&(Qe.$L=Lt),Qe},it.clone=function(){return le.w(this.$d,this)},it.toDate=function(){return new Date(this.valueOf())},it.toJSON=function(){return this.isValid()?this.toISOString():null},it.toISOString=function(){return this.$d.toISOString()},it.toString=function(){return this.$d.toUTCString()},Ze}(),Je=ct.prototype;return ge.prototype=Je,[["$ms",X],["$s",Y],["$m",ce],["$H",q],["$W",e],["$M",Le],["$y",me],["$D",Ae]].forEach(function(Ze){Je[Ze[1]]=function(it){return this.$g(it,Ze[0],Ze[1])}}),ge.extend=function(Ze,it){return Ze.$i||(Ze(it,ct,ge),Ze.$i=!0),ge},ge.locale=we,ge.isDayjs=gt,ge.unix=function(Ze){return ge(1e3*Ze)},ge.en=lt[Oe],ge.Ls=lt,ge.p={},ge}()},7014:function(Pt){Pt.exports=function(){"use strict";return function(M,g,X){var Y=function(e){return e.add(4-e.isoWeekday(),"day")},ce=g.prototype;ce.isoWeekYear=function(){return Y(this).year()},ce.isoWeek=function(e){if(!this.$utils().u(e))return this.add(7*(e-this.isoWeek()),"day");var Q,pe,me,Ae=Y(this),ne=(Q=this.isoWeekYear(),me=4-(pe=(this.$u?X.utc:X)().year(Q).startOf("year")).isoWeekday(),pe.isoWeekday()>4&&(me+=7),pe.add(me,"day"));return Ae.diff(ne,"week")+1},ce.isoWeekday=function(e){return this.$utils().u(e)?this.day()||7:this.day(this.day()%7?e:e-7)};var q=ce.startOf;ce.startOf=function(e,Q){var Le=this.$utils(),pe=!!Le.u(Q)||Q;return"isoweek"===Le.p(e)?pe?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):q.bind(this)(e,Q)}}}()},6669:function(Pt){Pt.exports=function(){"use strict";var ke={year:0,month:1,day:2,hour:3,minute:4,second:5},M={};return function(g,X,Y){var ce,q=function(pe,me,Ae){void 0===Ae&&(Ae={});var ne=new Date(pe);return function(xe,Ue){void 0===Ue&&(Ue={});var Ye=Ue.timeZoneName||"short",ee=xe+"|"+Ye,Oe=M[ee];return Oe||(Oe=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:xe,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:Ye}),M[ee]=Oe),Oe}(me,Ae).formatToParts(ne)},e=function(pe,me){for(var Ae=q(pe,me),ne=[],be=0;be<Ae.length;be+=1){var xe=Ae[be],ee=ke[xe.type];ee>=0&&(ne[ee]=parseInt(xe.value,10))}var Oe=ne[3],we=+pe;return(Y.utc(ne[0]+"-"+ne[1]+"-"+ne[2]+" "+(24===Oe?0:Oe)+":"+ne[4]+":"+ne[5]+":000").valueOf()-(we-=we%1e3))/6e4},Q=X.prototype;Q.tz=function(pe,me){void 0===pe&&(pe=ce);var Ae=this.utcOffset(),ne=this.toDate(),be=ne.toLocaleString("en-US",{timeZone:pe}),xe=Math.round((ne-new Date(be))/1e3/60),Ue=Y(be).$set("millisecond",this.$ms).utcOffset(15*-Math.round(ne.getTimezoneOffset()/15)-xe,!0);if(me){var Ye=Ue.utcOffset();Ue=Ue.add(Ae-Ye,"minute")}return Ue.$x.$timezone=pe,Ue},Q.offsetName=function(pe){var me=this.$x.$timezone||Y.tz.guess(),Ae=q(this.valueOf(),me,{timeZoneName:pe}).find(function(ne){return"timezonename"===ne.type.toLowerCase()});return Ae&&Ae.value};var Le=Q.startOf;Q.startOf=function(pe,me){if(!this.$x||!this.$x.$timezone)return Le.call(this,pe,me);var Ae=Y(this.format("YYYY-MM-DD HH:mm:ss:SSS"));return Le.call(Ae,pe,me).tz(this.$x.$timezone,!0)},Y.tz=function(pe,me,Ae){var ne=Ae&&me,be=Ae||me||ce,xe=e(+Y(),be);if("string"!=typeof pe)return Y(pe).tz(be);var Ue=function(lt,gt,we){var ge=lt-60*gt*1e3,le=e(ge,we);if(gt===le)return[ge,gt];var ct=e(ge-=60*(le-gt)*1e3,we);return le===ct?[ge,le]:[lt-60*Math.min(le,ct)*1e3,Math.max(le,ct)]}(Y.utc(pe,ne).valueOf(),xe,be),ee=Ue[1],Oe=Y(Ue[0]).utcOffset(ee);return Oe.$x.$timezone=be,Oe},Y.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},Y.tz.setDefault=function(pe){ce=pe}}}()},736:function(Pt){Pt.exports=function(){"use strict";var M=/[+-]\d\d(?::?\d\d)?/g,g=/([+-]|\d\d)/g;return function(X,Y,ce){var q=Y.prototype;ce.utc=function(ne){return new Y({date:ne,utc:!0,args:arguments})},q.utc=function(ne){var be=ce(this.toDate(),{locale:this.$L,utc:!0});return ne?be.add(this.utcOffset(),"minute"):be},q.local=function(){return ce(this.toDate(),{locale:this.$L,utc:!1})};var e=q.parse;q.parse=function(ne){ne.utc&&(this.$u=!0),this.$utils().u(ne.$offset)||(this.$offset=ne.$offset),e.call(this,ne)};var Q=q.init;q.init=function(){if(this.$u){var ne=this.$d;this.$y=ne.getUTCFullYear(),this.$M=ne.getUTCMonth(),this.$D=ne.getUTCDate(),this.$W=ne.getUTCDay(),this.$H=ne.getUTCHours(),this.$m=ne.getUTCMinutes(),this.$s=ne.getUTCSeconds(),this.$ms=ne.getUTCMilliseconds()}else Q.call(this)};var Le=q.utcOffset;q.utcOffset=function(ne,be){var xe=this.$utils().u;if(xe(ne))return this.$u?0:xe(this.$offset)?Le.call(this):this.$offset;if("string"==typeof ne&&null===(ne=function(Oe){void 0===Oe&&(Oe="");var lt=Oe.match(M);if(!lt)return null;var gt=(""+lt[0]).match(g)||["-",0,0],ge=60*+gt[1]+ +gt[2];return 0===ge?0:"+"===gt[0]?ge:-ge}(ne)))return this;var Ue=Math.abs(ne)<=16?60*ne:ne,Ye=this;if(be)return Ye.$offset=Ue,Ye.$u=0===ne,Ye;if(0!==ne){var ee=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(Ye=this.local().add(Ue+ee,"minute")).$offset=Ue,Ye.$x.$localOffset=ee}else Ye=this.utc();return Ye};var pe=q.format;q.format=function(ne){return pe.call(this,ne||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":""))},q.valueOf=function(){var ne=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*ne},q.isUTC=function(){return!!this.$u},q.toISOString=function(){return this.toDate().toISOString()},q.toString=function(){return this.toDate().toUTCString()};var me=q.toDate;q.toDate=function(ne){return"s"===ne&&this.$offset?ce(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():me.call(this)};var Ae=q.diff;q.diff=function(ne,be,xe){if(ne&&this.$u===ne.$u)return Ae.call(this,ne,be,xe);var Ue=this.local(),Ye=ce(ne).local();return Ae.call(Ue,Ye,be,xe)}}}()},9074:function(Pt,ke){var M,X;void 0!==(X="function"==typeof(M=Y=>{"use strict";var Q=(et,Re)=>{if(et===Qe)return Qe;var ft=et.target,ae=ft.length,ue=et._indexes;ue=ue.slice(0,ue.len).sort((ut,sn)=>ut-sn);for(var Ee="",De=0,Me=0,Ve=!1,nt=(et=[],0);nt<ae;++nt){var cn=ft[nt];if(ue[Me]===nt){if(++Me,Ve||(Ve=!0,et.push(Ee),Ee=""),Me===ue.length){et.push(Re(Ee+=cn,De++)),Ee="",et.push(ft.substr(nt+1));break}}else Ve&&(Ve=!1,et.push(Re(Ee,De++)),Ee="");Ee+=cn}return et},pe=ht=>{"string"!=typeof ht&&(ht="");var Re=Ye(ht);return{target:ht,_targetLower:Re._lower,_targetLowerCodes:Re.lowerCodes,_nextBeginningIndexes:Qe,_bitflags:Re.bitflags,score:Qe,_indexes:[0],obj:Qe}},me=ht=>{"string"!=typeof ht&&(ht=""),ht=ht.trim();var Re=Ye(ht),ft=[];if(Re.containsSpace){var ae=ht.split(/\s+/);ae=[...new Set(ae)];for(var ue=0;ue<ae.length;ue++)if(""!==ae[ue]){var Ee=Ye(ae[ue]);ft.push({lowerCodes:Ee.lowerCodes,_lower:ae[ue].toLowerCase(),containsSpace:!1})}}return{lowerCodes:Re.lowerCodes,bitflags:Re.bitflags,containsSpace:Re.containsSpace,_lower:Re._lower,spaceSearches:ft}},Ae=ht=>{if(ht.length>999)return pe(ht);var Re=gt.get(ht);return void 0!==Re||(Re=pe(ht),gt.set(ht,Re)),Re},ne=ht=>{if(ht.length>999)return me(ht);var Re=we.get(ht);return void 0!==Re||(Re=me(ht),we.set(ht,Re)),Re},be=(ht,Re,ft)=>{var ae=[];ae.total=Re.length;var ue=ft&&ft.limit||it;if(ft&&ft.key){for(var Ee=0;Ee<Re.length;Ee++)if(Me=Je(De=Re[Ee],ft.key)){Ze(Me)||(Me=Ae(Me)),Me.score=He,Me._indexes.len=0;if(ae.push({target:Me.target,_targetLower:"",_targetLowerCodes:Qe,_nextBeginningIndexes:Qe,_bitflags:0,score:Me.score,_indexes:Qe,obj:De}),ae.length>=ue)return ae}}else if(ft&&ft.keys)for(Ee=0;Ee<Re.length;Ee++){for(var De=Re[Ee],et=new Array(ft.keys.length),nt=ft.keys.length-1;nt>=0;--nt)(Me=Je(De,ft.keys[nt]))?(Ze(Me)||(Me=Ae(Me)),Me.score=He,Me._indexes.len=0,et[nt]=Me):et[nt]=Qe;if(et.obj=De,et.score=He,ae.push(et),ae.length>=ue)return ae}else for(Ee=0;Ee<Re.length;Ee++){var Me;if((Me=Re[Ee])&&(Ze(Me)||(Me=Ae(Me)),Me.score=He,Me._indexes.len=0,ae.push(Me),ae.length>=ue))return ae}return ae},xe=(ht,Re,ft=!1)=>{if(!1===ft&&ht.containsSpace)return Ue(ht,Re);for(var ae=ht._lower,ue=ht.lowerCodes,Ee=ue[0],De=Re._targetLowerCodes,Me=ue.length,Ve=De.length,ut=0,et=0,nt=0;;){if(Ee===De[et]){if(ge[nt++]=et,++ut===Me)break;Ee=ue[ut]}if(++et>=Ve)return Qe}ut=0;var sn=!1,Zt=0,wt=Re._nextBeginningIndexes;wt===Qe&&(wt=Re._nextBeginningIndexes=Oe(Re.target));var pn=0;if((et=0===ge[0]?0:wt[ge[0]-1])!==Ve)for(;;)if(et>=Ve){if(ut<=0||++pn>200)break;--ut,et=wt[le[--Zt]]}else if(ue[ut]===De[et]){if(le[Zt++]=et,++ut===Me){sn=!0;break}++et}else et=wt[et];var ye=Re._targetLower.indexOf(ae,ge[0]),Be=~ye;if(Be&&!sn)for(var ze=0;ze<nt;++ze)ge[ze]=ye+ze;var _t=!1;if(Be&&(_t=Re._nextBeginningIndexes[ye-1]===ye),sn)var Nt=le,Dn=Zt;else Nt=ge,Dn=nt;var on=0,Rt=0;for(ze=1;ze<Me;++ze)Nt[ze]-Nt[ze-1]!=1&&(on-=Nt[ze],++Rt);if(on-=(Nt[Me-1]-Nt[0]-(Me-1)+12)*Rt,0!==Nt[0]&&(on-=Nt[0]*Nt[0]*.2),sn){var xt=1;for(ze=wt[0];ze<Ve;ze=wt[ze])++xt;xt>24&&(on*=10*(xt-24))}else on*=1e3;for(Be&&(on/=1+Me*Me*1),_t&&(on/=1+Me*Me*1),Re.score=on-=Ve-Me,ze=0;ze<Dn;++ze)Re._indexes[ze]=Nt[ze];return Re._indexes.len=Dn,Re},Ue=(ht,Re)=>{for(var ft=new Set,ae=0,ue=Qe,Ee=0,De=ht.spaceSearches,nt=0;nt<De.length;++nt){if((ue=xe(De[nt],Re))===Qe)return Qe;ae+=ue.score,ue._indexes[0]<Ee&&(ae-=Ee-ue._indexes[0]),Ee=ue._indexes[0];for(var Ve=0;Ve<ue._indexes.len;++Ve)ft.add(ue._indexes[Ve])}var et=xe(ht,Re,!0);if(et!==Qe&&et.score>ae)return et;ue.score=ae,nt=0;for(let cn of ft)ue._indexes[nt++]=cn;return ue._indexes.len=nt,ue},Ye=ht=>{for(var Re=ht.length,ft=ht.toLowerCase(),ae=[],ue=0,Ee=!1,De=0;De<Re;++De){var Me=ae[De]=ft.charCodeAt(De);32!==Me?ue|=1<<(Me>=97&&Me<=122?Me-97:Me>=48&&Me<=57?26:Me<=127?30:31):Ee=!0}return{lowerCodes:ae,bitflags:ue,containsSpace:Ee,_lower:ft}},Oe=ht=>{for(var Re=ht.length,ft=(ht=>{for(var Re=ht.length,ft=[],ae=0,ue=!1,Ee=!1,De=0;De<Re;++De){var Me=ht.charCodeAt(De),Ve=Me>=65&&Me<=90,et=Ve||Me>=97&&Me<=122||Me>=48&&Me<=57,nt=Ve&&!ue||!Ee||!et;ue=Ve,Ee=et,nt&&(ft[ae++]=De)}return ft})(ht),ae=[],ue=ft[0],Ee=0,De=0;De<Re;++De)ue>De?ae[De]=ue:(ue=ft[++Ee],ae[De]=void 0===ue?Re:ue);return ae},gt=new Map,we=new Map,ge=[],le=[],ct=ht=>{for(var Re=He,ft=ht.length,ae=0;ae<ft;++ae){var ue=ht[ae];if(ue!==Qe){var Ee=ue.score;Ee>Re&&(Re=Ee)}}return Re===He?Qe:Re},Je=(ht,Re)=>{var ft=ht[Re];if(void 0!==ft)return ft;var ae=Re;Array.isArray(Re)||(ae=Re.split("."));for(var ue=ae.length,Ee=-1;ht&&++Ee<ue;)ht=ht[ae[Ee]];return ht},Ze=ht=>"object"==typeof ht,it=1/0,He=-it,pt=[];pt.total=0;var Re,ft,ae,ue,Qe=null,rt=(Re=[],ft=0,ue=Ee=>{for(var De=0,Me=Re[De],Ve=1;Ve<ft;){var et=Ve+1;De=Ve,et<ft&&Re[et].score<Re[Ve].score&&(De=et),Re[De-1>>1]=Re[De],Ve=1+(De<<1)}for(var nt=De-1>>1;De>0&&Me.score<Re[nt].score;nt=(De=nt)-1>>1)Re[De]=Re[nt];Re[De]=Me},(ae={}).add=Ee=>{var De=ft;Re[ft++]=Ee;for(var Me=De-1>>1;De>0&&Ee.score<Re[Me].score;Me=(De=Me)-1>>1)Re[De]=Re[Me];Re[De]=Ee},ae.poll=Ee=>{if(0!==ft){var De=Re[0];return Re[0]=Re[--ft],ue(),De}},ae.peek=Ee=>{if(0!==ft)return Re[0]},ae.replaceTop=Ee=>{Re[0]=Ee,ue()},ae);return{single:(ht,Re)=>{if("farzher"==ht)return{target:"farzher was here (^-^*)/",score:0,_indexes:[0]};if(!ht||!Re)return Qe;var ft=ne(ht);Ze(Re)||(Re=Ae(Re));var ae=ft.bitflags;return(ae&Re._bitflags)!==ae?Qe:xe(ft,Re)},go:(ht,Re,ft)=>{if("farzher"==ht)return[{target:"farzher was here (^-^*)/",score:0,_indexes:[0],obj:Re?Re[0]:Qe}];if(!ht)return ft&&ft.all?be(ht,Re,ft):pt;var ae=ne(ht),ue=ae.bitflags,De=ft&&ft.threshold||He,Me=ft&&ft.limit||it,Ve=0,et=0,nt=Re.length;if(ft&&ft.key)for(var cn=ft.key,ut=0;ut<nt;++ut)(Zt=Je(sn=Re[ut],cn))&&(Ze(Zt)||(Zt=Ae(Zt)),(ue&Zt._bitflags)===ue)&&(wt=xe(ae,Zt))!==Qe&&(wt.score<De||(wt={target:wt.target,_targetLower:"",_targetLowerCodes:Qe,_nextBeginningIndexes:Qe,_bitflags:0,score:wt.score,_indexes:wt._indexes,obj:sn},Ve<Me?(rt.add(wt),++Ve):(++et,wt.score>rt.peek().score&&rt.replaceTop(wt))));else if(ft&&ft.keys){var wn=ft.scoreFn||ct,pn=ft.keys,fe=pn.length;for(ut=0;ut<nt;++ut){for(var sn=Re[ut],ye=new Array(fe),Be=0;Be<fe;++Be)(Zt=Je(sn,cn=pn[Be]))?(Ze(Zt)||(Zt=Ae(Zt)),ye[Be]=(ue&Zt._bitflags)!==ue?Qe:xe(ae,Zt)):ye[Be]=Qe;ye.obj=sn;var ze=wn(ye);ze!==Qe&&(ze<De||(ye.score=ze,Ve<Me?(rt.add(ye),++Ve):(++et,ze>rt.peek().score&&rt.replaceTop(ye))))}}else for(ut=0;ut<nt;++ut){var Zt,wt;(Zt=Re[ut])&&(Ze(Zt)||(Zt=Ae(Zt)),(ue&Zt._bitflags)===ue)&&(wt=xe(ae,Zt))!==Qe&&(wt.score<De||(Ve<Me?(rt.add(wt),++Ve):(++et,wt.score>rt.peek().score&&rt.replaceTop(wt))))}if(0===Ve)return pt;var _t=new Array(Ve);for(ut=Ve-1;ut>=0;--ut)_t[ut]=rt.poll();return _t.total=Ve+et,_t},highlight:(ht,Re,ft)=>{if("function"==typeof Re)return Q(ht,Re);if(ht===Qe)return Qe;void 0===Re&&(Re="<b>"),void 0===ft&&(ft="</b>");var ae="",ue=0,Ee=!1,De=ht.target,Me=De.length,Ve=ht._indexes;Ve=Ve.slice(0,Ve.len).sort((cn,ut)=>cn-ut);for(var et=0;et<Me;++et){var nt=De[et];if(Ve[ue]===et){if(Ee||(Ee=!0,ae+=Re),++ue===Ve.length){ae+=nt+ft+De.substr(et+1);break}}else Ee&&(Ee=!1,ae+=ft);ae+=nt}return ae},prepare:pe,indexes:ht=>ht._indexes.slice(0,ht._indexes.len).sort((Re,ft)=>Re-ft),cleanup:()=>{gt.clear(),we.clear(),ge=[],le=[]}}})?M.apply(ke,[]):M)&&(Pt.exports=X)},3947:function(Pt){Pt.exports=function(){"use strict";function ke(j,ie){return j(ie={exports:{}},ie.exports),ie.exports}var M=ke(function(j){var ie=j.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=ie)}),g=ke(function(j){var ie=j.exports={version:"2.6.5"};"number"==typeof __e&&(__e=ie)}),Y=function(j){return"object"==typeof j?null!==j:"function"==typeof j},ce=function(j){if(!Y(j))throw TypeError(j+" is not an object!");return j},q=function(j){try{return!!j()}catch{return!0}},e=!q(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),Q=M.document,Le=Y(Q)&&Y(Q.createElement),me=!e&&!q(function(){return 7!=Object.defineProperty(function(j){return Le?Q.createElement(j):{}}("div"),"a",{get:function(){return 7}}).a}),ne=Object.defineProperty,xe={f:e?Object.defineProperty:function(ie,Ne,ot){if(ce(ie),Ne=function(j,ie){if(!Y(j))return j;var Ne,ot;if(ie&&"function"==typeof(Ne=j.toString)&&!Y(ot=Ne.call(j))||"function"==typeof(Ne=j.valueOf)&&!Y(ot=Ne.call(j))||!ie&&"function"==typeof(Ne=j.toString)&&!Y(ot=Ne.call(j)))return ot;throw TypeError("Can't convert object to primitive value")}(Ne,!0),ce(ot),me)try{return ne(ie,Ne,ot)}catch{}if("get"in ot||"set"in ot)throw TypeError("Accessors not supported!");return"value"in ot&&(ie[Ne]=ot.value),ie}},Ye=e?function(j,ie,Ne){return xe.f(j,ie,function(j,ie){return{enumerable:!(1&j),configurable:!(2&j),writable:!(4&j),value:ie}}(1,Ne))}:function(j,ie,Ne){return j[ie]=Ne,j},ee={}.hasOwnProperty,Oe=function(j,ie){return ee.call(j,ie)},lt=0,gt=Math.random(),le=ke(function(j){var ie="__core-js_shared__",Ne=M[ie]||(M[ie]={});(j.exports=function(ot,Bt){return Ne[ot]||(Ne[ot]=void 0!==Bt?Bt:{})})("versions",[]).push({version:g.version,mode:"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})}),ct=le("native-function-to-string",Function.toString),Je=ke(function(j){var ie=function(j){return"Symbol(".concat(void 0===j?"":j,")_",(++lt+gt).toString(36))}("src"),Ne="toString",ot=(""+ct).split(Ne);g.inspectSource=function(Bt){return ct.call(Bt)},(j.exports=function(Bt,Et,Wt,An){var kn="function"==typeof Wt;kn&&(Oe(Wt,"name")||Ye(Wt,"name",Et)),Bt[Et]!==Wt&&(kn&&(Oe(Wt,ie)||Ye(Wt,ie,Bt[Et]?""+Bt[Et]:ot.join(String(Et)))),Bt===M?Bt[Et]=Wt:An?Bt[Et]?Bt[Et]=Wt:Ye(Bt,Et,Wt):(delete Bt[Et],Ye(Bt,Et,Wt)))})(Function.prototype,Ne,function(){return"function"==typeof this&&this[ie]||ct.call(this)})}),it=function(j,ie,Ne){if(function(j){if("function"!=typeof j)throw TypeError(j+" is not a function!")}(j),void 0===ie)return j;switch(Ne){case 1:return function(ot){return j.call(ie,ot)};case 2:return function(ot,Bt){return j.call(ie,ot,Bt)};case 3:return function(ot,Bt,Et){return j.call(ie,ot,Bt,Et)}}return function(){return j.apply(ie,arguments)}},He="prototype",pt=function(j,ie,Ne){var Ce,Ke,Dt,St,ot=j&pt.F,Bt=j&pt.G,Wt=j&pt.P,An=j&pt.B,kn=Bt?M:j&pt.S?M[ie]||(M[ie]={}):(M[ie]||{})[He],Pe=Bt?g:g[ie]||(g[ie]={}),de=Pe[He]||(Pe[He]={});for(Ce in Bt&&(Ne=ie),Ne)Dt=((Ke=!ot&&kn&&void 0!==kn[Ce])?kn:Ne)[Ce],St=An&&Ke?it(Dt,M):Wt&&"function"==typeof Dt?it(Function.call,Dt):Dt,kn&&Je(kn,Ce,Dt,j&pt.U),Pe[Ce]!=Dt&&Ye(Pe,Ce,St),Wt&&de[Ce]!=Dt&&(de[Ce]=Dt)};M.core=g,pt.F=1,pt.G=2,pt.S=4,pt.P=8,pt.B=16,pt.W=32,pt.U=64,pt.R=128;var Qe=pt,Lt=Math.ceil,rt=Math.floor,ht=function(j){return isNaN(j=+j)?0:(j>0?rt:Lt)(j)},ae=(!1,function(ie,Ne){var Wt,An,ot=String(function(j){if(null==j)throw TypeError("Can't call method on  "+j);return j}(ie)),Bt=ht(Ne),Et=ot.length;return Bt<0||Bt>=Et?void 0:(Wt=ot.charCodeAt(Bt))<55296||Wt>56319||Bt+1===Et||(An=ot.charCodeAt(Bt+1))<56320||An>57343?Wt:An-56320+(Wt-55296<<10)+65536});Qe(Qe.P,"String",{codePointAt:function(ie){return ae(this,ie)}});var Ee=Math.max,De=Math.min,Me=function(j,ie){return(j=ht(j))<0?Ee(j+ie,0):De(j,ie)},Ve=String.fromCharCode,et=String.fromCodePoint;Qe(Qe.S+Qe.F*(!!et&&1!=et.length),"String",{fromCodePoint:function(ie){for(var Wt,Ne=arguments,ot=[],Bt=arguments.length,Et=0;Bt>Et;){if(Wt=+Ne[Et++],Me(Wt,1114111)!==Wt)throw RangeError(Wt+" is not a valid code point");ot.push(Wt<65536?Ve(Wt):Ve(55296+((Wt-=65536)>>10),Wt%1024+56320))}return ot.join("")}});var wn,pn,fe,ye,Be,ze,_t,Nt,Dn,At,xt,Zn,ri,tn,Zt={Space_Separator:/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,ID_Start:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,ID_Continue:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},wt={isSpaceSeparator:function(ie){return"string"==typeof ie&&Zt.Space_Separator.test(ie)},isIdStartChar:function(ie){return"string"==typeof ie&&(ie>="a"&&ie<="z"||ie>="A"&&ie<="Z"||"$"===ie||"_"===ie||Zt.ID_Start.test(ie))},isIdContinueChar:function(ie){return"string"==typeof ie&&(ie>="a"&&ie<="z"||ie>="A"&&ie<="Z"||ie>="0"&&ie<="9"||"$"===ie||"_"===ie||"\u200c"===ie||"\u200d"===ie||Zt.ID_Continue.test(ie))},isDigit:function(ie){return"string"==typeof ie&&/[0-9]/.test(ie)},isHexDigit:function(ie){return"string"==typeof ie&&/[0-9A-Fa-f]/.test(ie)}};function Rt(j,ie,Ne){var ot=j[ie];if(null!=ot&&"object"==typeof ot)if(Array.isArray(ot))for(var Bt=0;Bt<ot.length;Bt++){var Et=String(Bt),Wt=Rt(ot,Et,Ne);void 0===Wt?delete ot[Et]:Object.defineProperty(ot,Et,{value:Wt,writable:!0,enumerable:!0,configurable:!0})}else for(var An in ot){var kn=Rt(ot,An,Ne);void 0===kn?delete ot[An]:Object.defineProperty(ot,An,{value:kn,writable:!0,enumerable:!0,configurable:!0})}return Ne.call(j,ie,ot)}function $t(){for(At="default",xt="",Zn=!1,ri=1;;){tn=Ln();var j=dn[At]();if(j)return j}}function Ln(){if(wn[ye])return String.fromCodePoint(wn.codePointAt(ye))}function st(){var j=Ln();return"\n"===j?(Be++,ze=0):j?ze+=j.length:ze++,j&&(ye+=j.length),j}var dn={default:function(){switch(tn){case"\t":case"\v":case"\f":case" ":case"\xa0":case"\ufeff":case"\n":case"\r":case"\u2028":case"\u2029":return void st();case"/":return st(),void(At="comment");case void 0:return st(),Mn("eof")}if(!wt.isSpaceSeparator(tn))return dn[pn]();st()},comment:function(){switch(tn){case"*":return st(),void(At="multiLineComment");case"/":return st(),void(At="singleLineComment")}throw yn(st())},multiLineComment:function(){switch(tn){case"*":return st(),void(At="multiLineCommentAsterisk");case void 0:throw yn(st())}st()},multiLineCommentAsterisk:function(){switch(tn){case"*":return void st();case"/":return st(),void(At="default");case void 0:throw yn(st())}st(),At="multiLineComment"},singleLineComment:function(){switch(tn){case"\n":case"\r":case"\u2028":case"\u2029":return st(),void(At="default");case void 0:return st(),Mn("eof")}st()},value:function(){switch(tn){case"{":case"[":return Mn("punctuator",st());case"n":return st(),gn("ull"),Mn("null",null);case"t":return st(),gn("rue"),Mn("boolean",!0);case"f":return st(),gn("alse"),Mn("boolean",!1);case"-":case"+":return"-"===st()&&(ri=-1),void(At="sign");case".":return xt=st(),void(At="decimalPointLeading");case"0":return xt=st(),void(At="zero");case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return xt=st(),void(At="decimalInteger");case"I":return st(),gn("nfinity"),Mn("numeric",1/0);case"N":return st(),gn("aN"),Mn("numeric",NaN);case'"':case"'":return Zn='"'===st(),xt="",void(At="string")}throw yn(st())},identifierNameStartEscape:function(){if("u"!==tn)throw yn(st());st();var ie=Ri();switch(ie){case"$":case"_":break;default:if(!wt.isIdStartChar(ie))throw Ai()}xt+=ie,At="identifierName"},identifierName:function(){switch(tn){case"$":case"_":case"\u200c":case"\u200d":return void(xt+=st());case"\\":return st(),void(At="identifierNameEscape")}if(!wt.isIdContinueChar(tn))return Mn("identifier",xt);xt+=st()},identifierNameEscape:function(){if("u"!==tn)throw yn(st());st();var ie=Ri();switch(ie){case"$":case"_":case"\u200c":case"\u200d":break;default:if(!wt.isIdContinueChar(ie))throw Ai()}xt+=ie,At="identifierName"},sign:function(){switch(tn){case".":return xt=st(),void(At="decimalPointLeading");case"0":return xt=st(),void(At="zero");case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return xt=st(),void(At="decimalInteger");case"I":return st(),gn("nfinity"),Mn("numeric",ri*(1/0));case"N":return st(),gn("aN"),Mn("numeric",NaN)}throw yn(st())},zero:function(){switch(tn){case".":return xt+=st(),void(At="decimalPoint");case"e":case"E":return xt+=st(),void(At="decimalExponent");case"x":case"X":return xt+=st(),void(At="hexadecimal")}return Mn("numeric",0*ri)},decimalInteger:function(){switch(tn){case".":return xt+=st(),void(At="decimalPoint");case"e":case"E":return xt+=st(),void(At="decimalExponent")}if(!wt.isDigit(tn))return Mn("numeric",ri*Number(xt));xt+=st()},decimalPointLeading:function(){if(wt.isDigit(tn))return xt+=st(),void(At="decimalFraction");throw yn(st())},decimalPoint:function(){switch(tn){case"e":case"E":return xt+=st(),void(At="decimalExponent")}return wt.isDigit(tn)?(xt+=st(),void(At="decimalFraction")):Mn("numeric",ri*Number(xt))},decimalFraction:function(){switch(tn){case"e":case"E":return xt+=st(),void(At="decimalExponent")}if(!wt.isDigit(tn))return Mn("numeric",ri*Number(xt));xt+=st()},decimalExponent:function(){switch(tn){case"+":case"-":return xt+=st(),void(At="decimalExponentSign")}if(wt.isDigit(tn))return xt+=st(),void(At="decimalExponentInteger");throw yn(st())},decimalExponentSign:function(){if(wt.isDigit(tn))return xt+=st(),void(At="decimalExponentInteger");throw yn(st())},decimalExponentInteger:function(){if(!wt.isDigit(tn))return Mn("numeric",ri*Number(xt));xt+=st()},hexadecimal:function(){if(wt.isHexDigit(tn))return xt+=st(),void(At="hexadecimalInteger");throw yn(st())},hexadecimalInteger:function(){if(!wt.isHexDigit(tn))return Mn("numeric",ri*Number(xt));xt+=st()},string:function(){switch(tn){case"\\":return st(),void(xt+=function Ti(){switch(Ln()){case"b":return st(),"\b";case"f":return st(),"\f";case"n":return st(),"\n";case"r":return st(),"\r";case"t":return st(),"\t";case"v":return st(),"\v";case"0":if(st(),wt.isDigit(Ln()))throw yn(st());return"\0";case"x":return st(),function gi(){var j="",ie=Ln();if(!wt.isHexDigit(ie)||(j+=st(),ie=Ln(),!wt.isHexDigit(ie)))throw yn(st());return j+=st(),String.fromCodePoint(parseInt(j,16))}();case"u":return st(),Ri();case"\n":case"\u2028":case"\u2029":return st(),"";case"\r":return st(),"\n"===Ln()&&st(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case void 0:throw yn(st())}return st()}());case'"':return Zn?(st(),Mn("string",xt)):void(xt+=st());case"'":return Zn?void(xt+=st()):(st(),Mn("string",xt));case"\n":case"\r":throw yn(st());case"\u2028":case"\u2029":!function qi(j){console.warn("JSON5: '"+Zi(j)+"' in strings is not valid ECMAScript; consider escaping")}(tn);break;case void 0:throw yn(st())}xt+=st()},start:function(){switch(tn){case"{":case"[":return Mn("punctuator",st())}At="value"},beforePropertyName:function(){switch(tn){case"$":case"_":return xt=st(),void(At="identifierName");case"\\":return st(),void(At="identifierNameStartEscape");case"}":return Mn("punctuator",st());case'"':case"'":return Zn='"'===st(),void(At="string")}if(wt.isIdStartChar(tn))return xt+=st(),void(At="identifierName");throw yn(st())},afterPropertyName:function(){if(":"===tn)return Mn("punctuator",st());throw yn(st())},beforePropertyValue:function(){At="value"},afterPropertyValue:function(){switch(tn){case",":case"}":return Mn("punctuator",st())}throw yn(st())},beforeArrayValue:function(){if("]"===tn)return Mn("punctuator",st());At="value"},afterArrayValue:function(){switch(tn){case",":case"]":return Mn("punctuator",st())}throw yn(st())},end:function(){throw yn(st())}};function Mn(j,ie){return{type:j,value:ie,line:Be,column:ze}}function gn(j){for(var ie=0,Ne=j;ie<Ne.length;ie+=1){var ot=Ne[ie];if(Ln()!==ot)throw yn(st());st()}}function Ri(){for(var j="",ie=4;ie-- >0;){var Ne=Ln();if(!wt.isHexDigit(Ne))throw yn(st());j+=st()}return String.fromCodePoint(parseInt(j,16))}var Mi={start:function(){if("eof"===_t.type)throw qn();Bn()},beforePropertyName:function(){switch(_t.type){case"identifier":case"string":return Nt=_t.value,void(pn="afterPropertyName");case"punctuator":return void Vn();case"eof":throw qn()}},afterPropertyName:function(){if("eof"===_t.type)throw qn();pn="beforePropertyValue"},beforePropertyValue:function(){if("eof"===_t.type)throw qn();Bn()},beforeArrayValue:function(){if("eof"===_t.type)throw qn();"punctuator"!==_t.type||"]"!==_t.value?Bn():Vn()},afterPropertyValue:function(){if("eof"===_t.type)throw qn();switch(_t.value){case",":return void(pn="beforePropertyName");case"}":Vn()}},afterArrayValue:function(){if("eof"===_t.type)throw qn();switch(_t.value){case",":return void(pn="beforeArrayValue");case"]":Vn()}},end:function(){}};function Bn(){var j;switch(_t.type){case"punctuator":switch(_t.value){case"{":j={};break;case"[":j=[]}break;case"null":case"boolean":case"numeric":case"string":j=_t.value}if(void 0===Dn)Dn=j;else{var ie=fe[fe.length-1];Array.isArray(ie)?ie.push(j):Object.defineProperty(ie,Nt,{value:j,writable:!0,enumerable:!0,configurable:!0})}if(null!==j&&"object"==typeof j)fe.push(j),pn=Array.isArray(j)?"beforeArrayValue":"beforePropertyName";else{var Ne=fe[fe.length-1];pn=null==Ne?"end":Array.isArray(Ne)?"afterArrayValue":"afterPropertyValue"}}function Vn(){fe.pop();var j=fe[fe.length-1];pn=null==j?"end":Array.isArray(j)?"afterArrayValue":"afterPropertyValue"}function yn(j){return co(void 0===j?"JSON5: invalid end of input at "+Be+":"+ze:"JSON5: invalid character '"+Zi(j)+"' at "+Be+":"+ze)}function qn(){return co("JSON5: invalid end of input at "+Be+":"+ze)}function Ai(){return co("JSON5: invalid identifier character at "+Be+":"+(ze-=5))}function Zi(j){var ie={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(ie[j])return ie[j];if(j<" "){var Ne=j.charCodeAt(0).toString(16);return"\\x"+("00"+Ne).substring(Ne.length)}return j}function co(j){var ie=new SyntaxError(j);return ie.lineNumber=Be,ie.columnNumber=ze,ie}return{parse:function(ie,Ne){wn=String(ie),pn="start",fe=[],ye=0,Be=1,ze=0,_t=void 0,Nt=void 0,Dn=void 0;do{_t=$t(),Mi[pn]()}while("eof"!==_t.type);return"function"==typeof Ne?Rt({"":Dn},"",Ne):Dn},stringify:function(ie,Ne,ot){var Wt,An,Pe,Bt=[],Et="",kn="";if(null!=Ne&&"object"==typeof Ne&&!Array.isArray(Ne)&&(ot=Ne.space,Pe=Ne.quote,Ne=Ne.replacer),"function"==typeof Ne)An=Ne;else if(Array.isArray(Ne)){Wt=[];for(var de=0,Ce=Ne;de<Ce.length;de+=1){var Ke=Ce[de],Dt=void 0;"string"==typeof Ke?Dt=Ke:("number"==typeof Ke||Ke instanceof String||Ke instanceof Number)&&(Dt=String(Ke)),void 0!==Dt&&Wt.indexOf(Dt)<0&&Wt.push(Dt)}}return ot instanceof Number?ot=Number(ot):ot instanceof String&&(ot=String(ot)),"number"==typeof ot?ot>0&&(ot=Math.min(10,Math.floor(ot)),kn="          ".substr(0,ot)):"string"==typeof ot&&(kn=ot.substr(0,10)),St("",{"":ie});function St(ln,$n){var Jt=$n[ln];switch(null!=Jt&&("function"==typeof Jt.toJSON5?Jt=Jt.toJSON5(ln):"function"==typeof Jt.toJSON&&(Jt=Jt.toJSON(ln))),An&&(Jt=An.call($n,ln,Jt)),Jt instanceof Number?Jt=Number(Jt):Jt instanceof String?Jt=String(Jt):Jt instanceof Boolean&&(Jt=Jt.valueOf()),Jt){case null:return"null";case!0:return"true";case!1:return"false"}return"string"==typeof Jt?It(Jt):"number"==typeof Jt?String(Jt):"object"==typeof Jt?Array.isArray(Jt)?function di(ln){if(Bt.indexOf(ln)>=0)throw TypeError("Converting circular structure to JSON5");Bt.push(ln);var nn,$n=Et;Et+=kn;for(var Jt=[],Un=0;Un<ln.length;Un++){var ni=St(String(Un),ln);Jt.push(void 0!==ni?ni:"null")}if(0===Jt.length)nn="[]";else if(""===kn)nn="["+Jt.join(",")+"]";else{var Si=Jt.join(",\n"+Et);nn="[\n"+Et+Si+",\n"+$n+"]"}return Bt.pop(),Et=$n,nn}(Jt):function qt(ln){if(Bt.indexOf(ln)>=0)throw TypeError("Converting circular structure to JSON5");Bt.push(ln);var Vt,mn,$n=Et;Et+=kn;for(var Un=[],ni=0,nn=Wt||Object.keys(ln);ni<nn.length;ni+=1){var Sn=nn[ni],zn=St(Sn,ln);if(void 0!==zn){var Si=en(Sn)+":";""!==kn&&(Si+=" "),Un.push(Si+=zn)}}return 0===Un.length?Vt="{}":""===kn?Vt="{"+(mn=Un.join(","))+"}":(mn=Un.join(",\n"+Et),Vt="{\n"+Et+mn+",\n"+$n+"}"),Bt.pop(),Et=$n,Vt}(Jt):void 0}function It(ln){for(var $n={"'":.1,'"':.2},Jt={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"},Un="",ni=0;ni<ln.length;ni++){var nn=ln[ni];switch(nn){case"'":case'"':$n[nn]++,Un+=nn;continue;case"\0":if(wt.isDigit(ln[ni+1])){Un+="\\x00";continue}}if(Jt[nn])Un+=Jt[nn];else if(nn<" "){var Sn=nn.charCodeAt(0).toString(16);Un+="\\x"+("00"+Sn).substring(Sn.length)}else Un+=nn}var zn=Pe||Object.keys($n).reduce(function(Si,Vt){return $n[Si]<$n[Vt]?Si:Vt});return zn+(Un=Un.replace(new RegExp(zn,"g"),Jt[zn]))+zn}function en(ln){if(0===ln.length)return It(ln);var $n=String.fromCodePoint(ln.codePointAt(0));if(!wt.isIdStartChar($n))return It(ln);for(var Jt=$n.length;Jt<ln.length;Jt++)if(!wt.isIdContinueChar(String.fromCodePoint(ln.codePointAt(Jt))))return It(ln);return ln}}}}()},7198:function(Pt,ke){!function(M){"use strict";function X(s){var d,p,C,O;for(p=1,C=arguments.length;p<C;p++)for(d in O=arguments[p])s[d]=O[d];return s}var Y=Object.create||function(){function s(){}return function(d){return s.prototype=d,new s}}();function ce(s,d){var p=Array.prototype.slice;if(s.bind)return s.bind.apply(s,p.call(arguments,1));var C=p.call(arguments,2);return function(){return s.apply(d,C.length?C.concat(p.call(arguments)):arguments)}}var q=0;function e(s){return"_leaflet_id"in s||(s._leaflet_id=++q),s._leaflet_id}function Q(s,d,p){var C,O,$,_e;return _e=function(){C=!1,O&&($.apply(p,O),O=!1)},$=function(){C?O=arguments:(s.apply(p,arguments),setTimeout(_e,d),C=!0)},$}function Le(s,d,p){var C=d[1],O=d[0],$=C-O;return s===C&&p?s:((s-O)%$+$)%$+O}function pe(){return!1}function me(s,d){if(!1===d)return s;var p=Math.pow(10,void 0===d?6:d);return Math.round(s*p)/p}function Ae(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function ne(s){return Ae(s).split(/\s+/)}function be(s,d){for(var p in Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?Y(s.options):{}),d)s.options[p]=d[p];return s.options}function xe(s,d,p){var C=[];for(var O in s)C.push(encodeURIComponent(p?O.toUpperCase():O)+"="+encodeURIComponent(s[O]));return(d&&-1!==d.indexOf("?")?"&":"?")+C.join("&")}var Ue=/\{ *([\w_ -]+) *\}/g;function Ye(s,d){return s.replace(Ue,function(p,C){var O=d[C];if(void 0===O)throw new Error("No value provided for variable "+p);return"function"==typeof O&&(O=O(d)),O})}var ee=Array.isArray||function(s){return"[object Array]"===Object.prototype.toString.call(s)};function Oe(s,d){for(var p=0;p<s.length;p++)if(s[p]===d)return p;return-1}var lt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function gt(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var we=0;function ge(s){var d=+new Date,p=Math.max(0,16-(d-we));return we=d+p,window.setTimeout(s,p)}var le=window.requestAnimationFrame||gt("RequestAnimationFrame")||ge,ct=window.cancelAnimationFrame||gt("CancelAnimationFrame")||gt("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function Je(s,d,p){if(!p||le!==ge)return le.call(window,ce(s,d));s.call(d)}function Ze(s){s&&ct.call(window,s)}var it={__proto__:null,extend:X,create:Y,bind:ce,get lastId(){return q},stamp:e,throttle:Q,wrapNum:Le,falseFn:pe,formatNum:me,trim:Ae,splitWords:ne,setOptions:be,getParamString:xe,template:Ye,isArray:ee,indexOf:Oe,emptyImageUrl:lt,requestFn:le,cancelFn:ct,requestAnimFrame:Je,cancelAnimFrame:Ze};function He(){}He.extend=function(s){var d=function(){be(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=d.__super__=this.prototype,C=Y(p);for(var O in C.constructor=d,d.prototype=C,this)Object.prototype.hasOwnProperty.call(this,O)&&"prototype"!==O&&"__super__"!==O&&(d[O]=this[O]);return s.statics&&X(d,s.statics),s.includes&&(function pt(s){if(!(typeof L>"u")&&L&&L.Mixin){s=ee(s)?s:[s];for(var d=0;d<s.length;d++)s[d]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(s.includes),X.apply(null,[C].concat(s.includes))),X(C,s),delete C.statics,delete C.includes,C.options&&(C.options=p.options?Y(p.options):{},X(C.options,s.options)),C._initHooks=[],C.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var $=0,_e=C._initHooks.length;$<_e;$++)C._initHooks[$].call(this)}},d},He.include=function(s){var d=this.prototype.options;return X(this.prototype,s),s.options&&(this.prototype.options=d,this.mergeOptions(s.options)),this},He.mergeOptions=function(s){return X(this.prototype.options,s),this},He.addInitHook=function(s){var d=Array.prototype.slice.call(arguments,1),p="function"==typeof s?s:function(){this[s].apply(this,d)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};var Qe={on:function(s,d,p){if("object"==typeof s)for(var C in s)this._on(C,s[C],d);else for(var O=0,$=(s=ne(s)).length;O<$;O++)this._on(s[O],d,p);return this},off:function(s,d,p){if(arguments.length)if("object"==typeof s)for(var C in s)this._off(C,s[C],d);else{s=ne(s);for(var O=1===arguments.length,$=0,_e=s.length;$<_e;$++)O?this._off(s[$]):this._off(s[$],d,p)}else delete this._events;return this},_on:function(s,d,p,C){if("function"==typeof d){if(!1===this._listens(s,d,p)){p===this&&(p=void 0);var O={fn:d,ctx:p};C&&(O.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(O)}}else console.warn("wrong listener type: "+typeof d)},_off:function(s,d,p){var C,O,$;if(this._events&&(C=this._events[s])){if(1===arguments.length){if(this._firingCount)for(O=0,$=C.length;O<$;O++)C[O].fn=pe;return void delete this._events[s]}if("function"!=typeof d)return void console.warn("wrong listener type: "+typeof d);var _e=this._listens(s,d,p);!1!==_e&&(this._firingCount&&(C[_e].fn=pe,this._events[s]=C=C.slice()),C.splice(_e,1))}},fire:function(s,d,p){if(!this.listens(s,p))return this;var C=X({},d,{type:s,target:this,sourceTarget:d&&d.sourceTarget||this});if(this._events){var O=this._events[s];if(O){this._firingCount=this._firingCount+1||1;for(var $=0,_e=O.length;$<_e;$++){var Ge=O[$],tt=Ge.fn;Ge.once&&this.off(s,tt,Ge.ctx),tt.call(Ge.ctx||this,C)}this._firingCount--}}return p&&this._propagateEvent(C),this},listens:function(s,d,p,C){"string"!=typeof s&&console.warn('"string" type argument expected');var O=d;"function"!=typeof d&&(C=!!d,O=void 0,p=void 0);var $=this._events&&this._events[s];if($&&$.length&&!1!==this._listens(s,O,p))return!0;if(C)for(var _e in this._eventParents)if(this._eventParents[_e].listens(s,d,p,C))return!0;return!1},_listens:function(s,d,p){if(!this._events)return!1;var C=this._events[s]||[];if(!d)return!!C.length;p===this&&(p=void 0);for(var O=0,$=C.length;O<$;O++)if(C[O].fn===d&&C[O].ctx===p)return O;return!1},once:function(s,d,p){if("object"==typeof s)for(var C in s)this._on(C,s[C],d,!0);else for(var O=0,$=(s=ne(s)).length;O<$;O++)this._on(s[O],d,p,!0);return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[e(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[e(s)],this},_propagateEvent:function(s){for(var d in this._eventParents)this._eventParents[d].fire(s.type,X({layer:s.target,propagatedFrom:s.target},s),!0)}};Qe.addEventListener=Qe.on,Qe.removeEventListener=Qe.clearAllEventListeners=Qe.off,Qe.addOneTimeEventListener=Qe.once,Qe.fireEvent=Qe.fire,Qe.hasEventListeners=Qe.listens;var Lt=He.extend(Qe);function rt(s,d,p){this.x=p?Math.round(s):s,this.y=p?Math.round(d):d}var ht=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};function Re(s,d,p){return s instanceof rt?s:ee(s)?new rt(s[0],s[1]):null==s?s:"object"==typeof s&&"x"in s&&"y"in s?new rt(s.x,s.y):new rt(s,d,p)}function ft(s,d){if(s)for(var p=d?[s,d]:s,C=0,O=p.length;C<O;C++)this.extend(p[C])}function ae(s,d){return!s||s instanceof ft?s:new ft(s,d)}function ue(s,d){if(s)for(var p=d?[s,d]:s,C=0,O=p.length;C<O;C++)this.extend(p[C])}function Ee(s,d){return s instanceof ue?s:new ue(s,d)}function De(s,d,p){if(isNaN(s)||isNaN(d))throw new Error("Invalid LatLng object: ("+s+", "+d+")");this.lat=+s,this.lng=+d,void 0!==p&&(this.alt=+p)}function Me(s,d,p){return s instanceof De?s:ee(s)&&"object"!=typeof s[0]?3===s.length?new De(s[0],s[1],s[2]):2===s.length?new De(s[0],s[1]):null:null==s?s:"object"==typeof s&&"lat"in s?new De(s.lat,"lng"in s?s.lng:s.lon,s.alt):void 0===d?null:new De(s,d,p)}rt.prototype={clone:function(){return new rt(this.x,this.y)},add:function(s){return this.clone()._add(Re(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(Re(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new rt(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new rt(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ht(this.x),this.y=ht(this.y),this},distanceTo:function(s){var d=(s=Re(s)).x-this.x,p=s.y-this.y;return Math.sqrt(d*d+p*p)},equals:function(s){return(s=Re(s)).x===this.x&&s.y===this.y},contains:function(s){return s=Re(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+me(this.x)+", "+me(this.y)+")"}},ft.prototype={extend:function(s){var d,p;if(!s)return this;if(s instanceof rt||"number"==typeof s[0]||"x"in s)d=p=Re(s);else if(p=(s=ae(s)).max,!(d=s.min)||!p)return this;return this.min||this.max?(this.min.x=Math.min(d.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(d.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)):(this.min=d.clone(),this.max=p.clone()),this},getCenter:function(s){return Re((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return Re(this.min.x,this.max.y)},getTopRight:function(){return Re(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var d,p;return(s="number"==typeof s[0]||s instanceof rt?Re(s):ae(s))instanceof ft?(d=s.min,p=s.max):d=p=s,d.x>=this.min.x&&p.x<=this.max.x&&d.y>=this.min.y&&p.y<=this.max.y},intersects:function(s){s=ae(s);var d=this.min,p=this.max,C=s.min,O=s.max;return O.x>=d.x&&C.x<=p.x&&O.y>=d.y&&C.y<=p.y},overlaps:function(s){s=ae(s);var d=this.min,p=this.max,C=s.min,O=s.max;return O.x>d.x&&C.x<p.x&&O.y>d.y&&C.y<p.y},isValid:function(){return!(!this.min||!this.max)},pad:function(s){var d=this.min,p=this.max,C=Math.abs(d.x-p.x)*s,O=Math.abs(d.y-p.y)*s;return ae(Re(d.x-C,d.y-O),Re(p.x+C,p.y+O))},equals:function(s){return!!s&&(s=ae(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight()))}},ue.prototype={extend:function(s){var C,O,d=this._southWest,p=this._northEast;if(s instanceof De)C=s,O=s;else{if(!(s instanceof ue))return s?this.extend(Me(s)||Ee(s)):this;if(O=s._northEast,!(C=s._southWest)||!O)return this}return d||p?(d.lat=Math.min(C.lat,d.lat),d.lng=Math.min(C.lng,d.lng),p.lat=Math.max(O.lat,p.lat),p.lng=Math.max(O.lng,p.lng)):(this._southWest=new De(C.lat,C.lng),this._northEast=new De(O.lat,O.lng)),this},pad:function(s){var d=this._southWest,p=this._northEast,C=Math.abs(d.lat-p.lat)*s,O=Math.abs(d.lng-p.lng)*s;return new ue(new De(d.lat-C,d.lng-O),new De(p.lat+C,p.lng+O))},getCenter:function(){return new De((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new De(this.getNorth(),this.getWest())},getSouthEast:function(){return new De(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){s="number"==typeof s[0]||s instanceof De||"lat"in s?Me(s):Ee(s);var C,O,d=this._southWest,p=this._northEast;return s instanceof ue?(C=s.getSouthWest(),O=s.getNorthEast()):C=O=s,C.lat>=d.lat&&O.lat<=p.lat&&C.lng>=d.lng&&O.lng<=p.lng},intersects:function(s){s=Ee(s);var d=this._southWest,p=this._northEast,C=s.getSouthWest(),O=s.getNorthEast();return O.lat>=d.lat&&C.lat<=p.lat&&O.lng>=d.lng&&C.lng<=p.lng},overlaps:function(s){s=Ee(s);var d=this._southWest,p=this._northEast,C=s.getSouthWest(),O=s.getNorthEast();return O.lat>d.lat&&C.lat<p.lat&&O.lng>d.lng&&C.lng<p.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,d){return!!s&&(s=Ee(s),this._southWest.equals(s.getSouthWest(),d)&&this._northEast.equals(s.getNorthEast(),d))},isValid:function(){return!(!this._southWest||!this._northEast)}},De.prototype={equals:function(s,d){return!!s&&(s=Me(s),Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng))<=(void 0===d?1e-9:d))},toString:function(s){return"LatLng("+me(this.lat,s)+", "+me(this.lng,s)+")"},distanceTo:function(s){return et.distance(this,Me(s))},wrap:function(){return et.wrapLatLng(this)},toBounds:function(s){var d=180*s/40075017,p=d/Math.cos(Math.PI/180*this.lat);return Ee([this.lat-d,this.lng-p],[this.lat+d,this.lng+p])},clone:function(){return new De(this.lat,this.lng,this.alt)}};var s,Ve={latLngToPoint:function(s,d){var p=this.projection.project(s),C=this.scale(d);return this.transformation._transform(p,C)},pointToLatLng:function(s,d){var p=this.scale(d),C=this.transformation.untransform(s,p);return this.projection.unproject(C)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var d=this.projection.bounds,p=this.scale(s);return new ft(this.transformation.transform(d.min,p),this.transformation.transform(d.max,p))},infinite:!1,wrapLatLng:function(s){var d=this.wrapLng?Le(s.lng,this.wrapLng,!0):s.lng;return new De(this.wrapLat?Le(s.lat,this.wrapLat,!0):s.lat,d,s.alt)},wrapLatLngBounds:function(s){var d=s.getCenter(),p=this.wrapLatLng(d),C=d.lat-p.lat,O=d.lng-p.lng;if(0===C&&0===O)return s;var $=s.getSouthWest(),_e=s.getNorthEast();return new ue(new De($.lat-C,$.lng-O),new De(_e.lat-C,_e.lng-O))}},et=X({},Ve,{wrapLng:[-180,180],R:6371e3,distance:function(s,d){var p=Math.PI/180,C=s.lat*p,O=d.lat*p,$=Math.sin((d.lat-s.lat)*p/2),_e=Math.sin((d.lng-s.lng)*p/2),Ge=$*$+Math.cos(C)*Math.cos(O)*_e*_e,tt=2*Math.atan2(Math.sqrt(Ge),Math.sqrt(1-Ge));return this.R*tt}}),cn={R:6378137,MAX_LATITUDE:85.0511287798,project:function(s){var d=Math.PI/180,p=this.MAX_LATITUDE,C=Math.max(Math.min(p,s.lat),-p),O=Math.sin(C*d);return new rt(this.R*s.lng*d,this.R*Math.log((1+O)/(1-O))/2)},unproject:function(s){var d=180/Math.PI;return new De((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*d,s.x*d/this.R)},bounds:(s=6378137*Math.PI,new ft([-s,-s],[s,s]))};function ut(s,d,p,C){if(ee(s))return this._a=s[0],this._b=s[1],this._c=s[2],void(this._d=s[3]);this._a=s,this._b=d,this._c=p,this._d=C}function sn(s,d,p,C){return new ut(s,d,p,C)}ut.prototype={transform:function(s,d){return this._transform(s.clone(),d)},_transform:function(s,d){return s.x=(d=d||1)*(this._a*s.x+this._b),s.y=d*(this._c*s.y+this._d),s},untransform:function(s,d){return new rt((s.x/(d=d||1)-this._b)/this._a,(s.y/d-this._d)/this._c)}};var Zt=X({},et,{code:"EPSG:3857",projection:cn,transformation:function(){var s=.5/(Math.PI*cn.R);return sn(s,.5,-s,.5)}()}),wt=X({},Zt,{code:"EPSG:900913"});function wn(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function pn(s,d){var C,O,$,_e,Ge,tt,p="";for(C=0,$=s.length;C<$;C++){for(O=0,_e=(Ge=s[C]).length;O<_e;O++)p+=(O?"L":"M")+(tt=Ge[O]).x+" "+tt.y;p+=d?Ne.svg?"z":"x":""}return p||"M0 0"}var fe=document.documentElement.style,ye="ActiveXObject"in window,Be=ye&&!document.addEventListener,ze="msLaunchUri"in navigator&&!("documentMode"in document),_t=ie("webkit"),Nt=ie("android"),Dn=ie("android 2")||ie("android 3"),on=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Rt=Nt&&ie("Google")&&on<537&&!("AudioNode"in window),At=!!window.opera,xt=!ze&&ie("chrome"),Zn=ie("gecko")&&!_t&&!At&&!ye,ri=!xt&&ie("safari"),tn=ie("phantom"),$t="OTransition"in fe,Ln=0===navigator.platform.indexOf("Win"),st=ye&&"transition"in fe,dn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Dn,Mn="MozPerspective"in fe,gn=!window.L_DISABLE_3D&&(st||dn||Mn)&&!$t&&!tn,Ti=typeof orientation<"u"||ie("mobile"),gi=Ti&&_t,Ri=Ti&&dn,Mi=!window.PointerEvent&&window.MSPointerEvent,Bn=!(!window.PointerEvent&&!Mi),Vn="ontouchstart"in window||!!window.TouchEvent,yn=!window.L_NO_TOUCH&&(Vn||Bn),qn=Ti&&At,Ai=Ti&&Zn,qi=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Zi=function(){var s=!1;try{var d=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",pe,d),window.removeEventListener("testPassiveEventSupport",pe,d)}catch{}return s}(),co=!!document.createElement("canvas").getContext,Go=!(!document.createElementNS||!wn("svg").createSVGRect),at=!!Go&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(s.firstChild&&s.firstChild.namespaceURI)}(),$e=!Go&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var d=s.firstChild;return d.style.behavior="url(#default#VML)",d&&"object"==typeof d.adj}catch{return!1}}();function ie(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var Ne={ie:ye,ielt9:Be,edge:ze,webkit:_t,android:Nt,android23:Dn,androidStock:Rt,opera:At,chrome:xt,gecko:Zn,safari:ri,phantom:tn,opera12:$t,win:Ln,ie3d:st,webkit3d:dn,gecko3d:Mn,any3d:gn,mobile:Ti,mobileWebkit:gi,mobileWebkit3d:Ri,msPointer:Mi,pointer:Bn,touch:yn,touchNative:Vn,mobileOpera:qn,mobileGecko:Ai,retina:qi,passiveEvents:Zi,canvas:co,svg:Go,vml:$e,inlineSvg:at,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},ot=Ne.msPointer?"MSPointerDown":"pointerdown",Bt=Ne.msPointer?"MSPointerMove":"pointermove",Et=Ne.msPointer?"MSPointerUp":"pointerup",Wt=Ne.msPointer?"MSPointerCancel":"pointercancel",An={touchstart:ot,touchmove:Bt,touchend:Et,touchcancel:Wt},kn={touchstart:function di(s,d){d.MSPOINTER_TYPE_TOUCH&&d.pointerType===d.MSPOINTER_TYPE_TOUCH&&Xt(d),en(s,d)},touchmove:en,touchend:en,touchcancel:en},Pe={},de=!1;function Ce(s,d,p){return"touchstart"===d&&function qt(){de||(document.addEventListener(ot,Dt,!0),document.addEventListener(Bt,St,!0),document.addEventListener(Et,It,!0),document.addEventListener(Wt,It,!0),de=!0)}(),kn[d]?(p=kn[d].bind(this,p),s.addEventListener(An[d],p,!1),p):(console.warn("wrong event specified:",d),pe)}function Dt(s){Pe[s.pointerId]=s}function St(s){Pe[s.pointerId]&&(Pe[s.pointerId]=s)}function It(s){delete Pe[s.pointerId]}function en(s,d){if(d.pointerType!==(d.MSPOINTER_TYPE_MOUSE||"mouse")){for(var p in d.touches=[],Pe)d.touches.push(Pe[p]);d.changedTouches=[d],s(d)}}var $n=200;var er,xi,Ir,ir,Zr,ni=Sr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),nn=Sr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Sn="webkitTransition"===nn||"OTransition"===nn?nn+"End":"transitionend";function zn(s){return"string"==typeof s?document.getElementById(s):s}function Si(s,d){var p=s.style[d]||s.currentStyle&&s.currentStyle[d];if((!p||"auto"===p)&&document.defaultView){var C=document.defaultView.getComputedStyle(s,null);p=C?C[d]:null}return"auto"===p?null:p}function Vt(s,d,p){var C=document.createElement(s);return C.className=d||"",p&&p.appendChild(C),C}function mn(s){var d=s.parentNode;d&&d.removeChild(s)}function Ii(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function bi(s){var d=s.parentNode;d&&d.lastChild!==s&&d.appendChild(s)}function Vi(s){var d=s.parentNode;d&&d.firstChild!==s&&d.insertBefore(s,d.firstChild)}function _o(s,d){if(void 0!==s.classList)return s.classList.contains(d);var p=zo(s);return p.length>0&&new RegExp("(^|\\s)"+d+"(\\s|$)").test(p)}function hn(s,d){if(void 0!==s.classList)for(var p=ne(d),C=0,O=p.length;C<O;C++)s.classList.add(p[C]);else if(!_o(s,d)){var $=zo(s);to(s,($?$+" ":"")+d)}}function En(s,d){void 0!==s.classList?s.classList.remove(d):to(s,Ae((" "+zo(s)+" ").replace(" "+d+" "," ")))}function to(s,d){void 0===s.className.baseVal?s.className=d:s.className.baseVal=d}function zo(s){return s.correspondingElement&&(s=s.correspondingElement),void 0===s.className.baseVal?s.className:s.className.baseVal}function Ji(s,d){"opacity"in s.style?s.style.opacity=d:"filter"in s.style&&function Qs(s,d){var p=!1,C="DXImageTransform.Microsoft.Alpha";try{p=s.filters.item(C)}catch{if(1===d)return}d=Math.round(100*d),p?(p.Enabled=100!==d,p.Opacity=d):s.style.filter+=" progid:"+C+"(opacity="+d+")"}(s,d)}function Sr(s){for(var d=document.documentElement.style,p=0;p<s.length;p++)if(s[p]in d)return s[p];return!1}function Fo(s,d,p){var C=d||new rt(0,0);s.style[ni]=(Ne.ie3d?"translate("+C.x+"px,"+C.y+"px)":"translate3d("+C.x+"px,"+C.y+"px,0)")+(p?" scale("+p+")":"")}function mi(s,d){s._leaflet_pos=d,Ne.any3d?Fo(s,d):(s.style.left=d.x+"px",s.style.top=d.y+"px")}function no(s){return s._leaflet_pos||new rt(0,0)}if("onselectstart"in document)er=function(){zt(window,"selectstart",Xt)},xi=function(){bn(window,"selectstart",Xt)};else{var gr=Sr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);er=function(){if(gr){var s=document.documentElement.style;Ir=s[gr],s[gr]="none"}},xi=function(){gr&&(document.documentElement.style[gr]=Ir,Ir=void 0)}}function tr(){zt(window,"dragstart",Xt)}function nr(){bn(window,"dragstart",Xt)}function Vr(s){for(;-1===s.tabIndex;)s=s.parentNode;s.style&&(xo(),ir=s,Zr=s.style.outlineStyle,s.style.outlineStyle="none",zt(window,"keydown",xo))}function xo(){ir&&(ir.style.outlineStyle=Zr,ir=void 0,Zr=void 0,bn(window,"keydown",xo))}function $r(s){do{s=s.parentNode}while(!(s.offsetWidth&&s.offsetHeight||s===document.body));return s}function vn(s){var d=s.getBoundingClientRect();return{x:d.width/s.offsetWidth||1,y:d.height/s.offsetHeight||1,boundingClientRect:d}}var yi={__proto__:null,TRANSFORM:ni,TRANSITION:nn,TRANSITION_END:Sn,get:zn,getStyle:Si,create:Vt,remove:mn,empty:Ii,toFront:bi,toBack:Vi,hasClass:_o,addClass:hn,removeClass:En,setClass:to,getClass:zo,setOpacity:Ji,testProp:Sr,setTransform:Fo,setPosition:mi,getPosition:no,get disableTextSelection(){return er},get enableTextSelection(){return xi},disableImageDrag:tr,enableImageDrag:nr,preventOutline:Vr,restoreOutline:xo,getSizedParentNode:$r,getScale:vn};function zt(s,d,p,C){if(d&&"object"==typeof d)for(var O in d)io(s,O,d[O],p);else for(var $=0,_e=(d=ne(d)).length;$<_e;$++)io(s,d[$],p,C);return this}var _i="_leaflet_events";function bn(s,d,p,C){if(1===arguments.length)or(s),delete s[_i];else if(d&&"object"==typeof d)for(var O in d)Gr(s,O,d[O],p);else if(d=ne(d),2===arguments.length)or(s,function(Ge){return-1!==Oe(d,Ge)});else for(var $=0,_e=d.length;$<_e;$++)Gr(s,d[$],p,C);return this}function or(s,d){for(var p in s[_i]){var C=p.split(/\d/)[0];(!d||d(C))&&Gr(s,C,null,null,p)}}var mr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function io(s,d,p,C){var O=d+e(p)+(C?"_"+e(C):"");if(s[_i]&&s[_i][O])return this;var $=function(Ge){return p.call(C||s,Ge||window.event)},_e=$;!Ne.touchNative&&Ne.pointer&&0===d.indexOf("touch")?$=Ce(s,d,$):Ne.touch&&"dblclick"===d?$=function Jt(s,d){s.addEventListener("dblclick",d);var C,p=0;function O($){if(1===$.detail){if("mouse"!==$.pointerType&&(!$.sourceCapabilities||$.sourceCapabilities.firesTouchEvents)){var _e=$i($);if(!_e.some(function(tt){return tt instanceof HTMLLabelElement&&tt.attributes.for})||_e.some(function(tt){return tt instanceof HTMLInputElement||tt instanceof HTMLSelectElement})){var Ge=Date.now();Ge-p<=$n?2==++C&&d(function ln(s){var p,C,d={};for(C in s)d[C]=(p=s[C])&&p.bind?p.bind(s):p;return s=d,d.type="dblclick",d.detail=2,d.isTrusted=!1,d._simulated=!0,d}($)):C=1,p=Ge}}}else C=$.detail}return s.addEventListener("click",O),{dblclick:d,simDblclick:O}}(s,$):"addEventListener"in s?"touchstart"===d||"touchmove"===d||"wheel"===d||"mousewheel"===d?s.addEventListener(mr[d]||d,$,!!Ne.passiveEvents&&{passive:!1}):"mouseenter"===d||"mouseleave"===d?s.addEventListener(mr[d],$=function(Ge){Ge=Ge||window.event,ai(s,Ge)&&_e(Ge)},!1):s.addEventListener(d,_e,!1):s.attachEvent("on"+d,$),s[_i]=s[_i]||{},s[_i][O]=$}function Gr(s,d,p,C,O){O=O||d+e(p)+(C?"_"+e(C):"");var $=s[_i]&&s[_i][O];if(!$)return this;!Ne.touchNative&&Ne.pointer&&0===d.indexOf("touch")?function Ke(s,d,p){An[d]?s.removeEventListener(An[d],p,!1):console.warn("wrong event specified:",d)}(s,d,$):Ne.touch&&"dblclick"===d?function Un(s,d){s.removeEventListener("dblclick",d.dblclick),s.removeEventListener("click",d.simDblclick)}(s,$):"removeEventListener"in s?s.removeEventListener(mr[d]||d,$,!1):s.detachEvent("on"+d,$),s[_i][O]=null}function Lo(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Jn(s){return io(s,"wheel",Lo),this}function jt(s){return zt(s,"mousedown touchstart dblclick contextmenu",Lo),s._leaflet_disable_click=!0,this}function Xt(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function Yn(s){return Xt(s),Lo(s),this}function $i(s){if(s.composedPath)return s.composedPath();for(var d=[],p=s.target;p;)d.push(p),p=p.parentNode;return d}function Oo(s,d){if(!d)return new rt(s.clientX,s.clientY);var p=vn(d),C=p.boundingClientRect;return new rt((s.clientX-C.left)/p.x-d.clientLeft,(s.clientY-C.top)/p.y-d.clientTop)}var Ci=Ne.linux&&Ne.chrome?window.devicePixelRatio:Ne.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function _r(s){return Ne.edge?s.wheelDeltaY/2:s.deltaY&&0===s.deltaMode?-s.deltaY/Ci:s.deltaY&&1===s.deltaMode?20*-s.deltaY:s.deltaY&&2===s.deltaMode?60*-s.deltaY:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?20*-s.detail:s.detail?s.detail/-32765*60:0}function ai(s,d){var p=d.relatedTarget;if(!p)return!0;try{for(;p&&p!==s;)p=p.parentNode}catch{return!1}return p!==s}var lo={__proto__:null,on:zt,off:bn,stopPropagation:Lo,disableScrollPropagation:Jn,disableClickPropagation:jt,preventDefault:Xt,stop:Yn,getPropagationPath:$i,getMousePosition:Oo,getWheelDelta:_r,isExternalTarget:ai,addListener:zt,removeListener:bn},Bo=Lt.extend({run:function(s,d,p,C){this.stop(),this._el=s,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(C||.5,.2),this._startPos=no(s),this._offset=d.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Je(this._animate,this),this._step()},_step:function(s){var d=+new Date-this._startTime,p=1e3*this._duration;d<p?this._runFrame(this._easeOut(d/p),s):(this._runFrame(1),this._complete())},_runFrame:function(s,d){var p=this._startPos.add(this._offset.multiplyBy(s));d&&p._round(),mi(this._el,p),this.fire("step")},_complete:function(){Ze(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Ht=Lt.extend({options:{crs:Zt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,d){d=be(this,d),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=ce(this._onResize,this),this._initEvents(),d.maxBounds&&this.setMaxBounds(d.maxBounds),void 0!==d.zoom&&(this._zoom=this._limitZoom(d.zoom)),d.center&&void 0!==d.zoom&&this.setView(Me(d.center),d.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=nn&&Ne.any3d&&!Ne.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),zt(this._proxy,Sn,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,d,p){return d=void 0===d?this._zoom:this._limitZoom(d),s=this._limitCenter(Me(s),d,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&!0!==p&&(void 0!==p.animate&&(p.zoom=X({animate:p.animate},p.zoom),p.pan=X({animate:p.animate,duration:p.duration},p.pan)),this._zoom!==d?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,d,p.zoom):this._tryAnimatedPan(s,p.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(s,d,p.pan&&p.pan.noMoveStart),this)},setZoom:function(s,d){return this._loaded?this.setView(this.getCenter(),s,{zoom:d}):(this._zoom=s,this)},zoomIn:function(s,d){return this.setZoom(this._zoom+(s=s||(Ne.any3d?this.options.zoomDelta:1)),d)},zoomOut:function(s,d){return this.setZoom(this._zoom-(s=s||(Ne.any3d?this.options.zoomDelta:1)),d)},setZoomAround:function(s,d,p){var C=this.getZoomScale(d),O=this.getSize().divideBy(2),_e=(s instanceof rt?s:this.latLngToContainerPoint(s)).subtract(O).multiplyBy(1-1/C),Ge=this.containerPointToLatLng(O.add(_e));return this.setView(Ge,d,{zoom:p})},_getBoundsCenterZoom:function(s,d){d=d||{},s=s.getBounds?s.getBounds():Ee(s);var p=Re(d.paddingTopLeft||d.padding||[0,0]),C=Re(d.paddingBottomRight||d.padding||[0,0]),O=this.getBoundsZoom(s,!1,p.add(C));if((O="number"==typeof d.maxZoom?Math.min(d.maxZoom,O):O)===1/0)return{center:s.getCenter(),zoom:O};var $=C.subtract(p).divideBy(2),_e=this.project(s.getSouthWest(),O),Ge=this.project(s.getNorthEast(),O);return{center:this.unproject(_e.add(Ge).divideBy(2).add($),O),zoom:O}},fitBounds:function(s,d){if(!(s=Ee(s)).isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(s,d);return this.setView(p.center,p.zoom,d)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,d){return this.setView(s,this._zoom,{pan:d})},panBy:function(s,d){if(d=d||{},!(s=Re(s).round()).x&&!s.y)return this.fire("moveend");if(!0!==d.animate&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Bo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),d.noMoveStart||this.fire("movestart"),!1!==d.animate){hn(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,p,d.duration||.25,d.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,d,p){if(!1===(p=p||{}).animate||!Ne.any3d)return this.setView(s,d,p);this._stop();var C=this.project(this.getCenter()),O=this.project(s),$=this.getSize(),_e=this._zoom;s=Me(s),d=void 0===d?_e:d;var Ge=Math.max($.x,$.y),tt=Ge*this.getZoomScale(_e,d),bt=O.distanceTo(C)||1,Ut=1.42,_n=Ut*Ut;function Tn(Ot){var Ct=(tt*tt-Ge*Ge+(Ot?-1:1)*_n*_n*bt*bt)/(2*(Ot?tt:Ge)*_n*bt),Fn=Math.sqrt(Ct*Ct+1)-Ct;return Fn<1e-9?-18:Math.log(Fn)}function Kn(Ot){return(Math.exp(Ot)-Math.exp(-Ot))/2}function Gn(Ot){return(Math.exp(Ot)+Math.exp(-Ot))/2}var Kt=Tn(0);function ve(Ot){return Ge*(Gn(Kt)*function Di(Ot){return Kn(Ot)/Gn(Ot)}(Kt+Ut*Ot)-Kn(Kt))/_n}var P=Date.now(),W=(Tn(1)-Kt)/Ut,Te=p.duration?1e3*p.duration:1e3*W*.8;return this._moveStart(!0,p.noMoveStart),function dt(){var Ot=(Date.now()-P)/Te,Hn=function U(Ot){return 1-Math.pow(1-Ot,1.5)}(Ot)*W;Ot<=1?(this._flyToFrame=Je(dt,this),this._move(this.unproject(C.add(O.subtract(C).multiplyBy(ve(Hn)/bt)),_e),this.getScaleZoom(Ge/function Qr(Ot){return Ge*(Gn(Kt)/Gn(Kt+Ut*Ot))}(Hn),_e),{flyTo:!0})):this._move(s,d)._moveEnd(!0)}.call(this),this},flyToBounds:function(s,d){var p=this._getBoundsCenterZoom(s,d);return this.flyTo(p.center,p.zoom,d)},setMaxBounds:function(s){return s=Ee(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var d=this.options.minZoom;return this.options.minZoom=s,this._loaded&&d!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var d=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&d!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,d){this._enforcingBounds=!0;var p=this.getCenter(),C=this._limitCenter(p,this._zoom,Ee(s));return p.equals(C)||this.panTo(C,d),this._enforcingBounds=!1,this},panInside:function(s,d){var p=Re((d=d||{}).paddingTopLeft||d.padding||[0,0]),C=Re(d.paddingBottomRight||d.padding||[0,0]),O=this.project(this.getCenter()),$=this.project(s),_e=this.getPixelBounds(),Ge=ae([_e.min.add(p),_e.max.subtract(C)]),tt=Ge.getSize();if(!Ge.contains($)){this._enforcingBounds=!0;var bt=$.subtract(Ge.getCenter()),Ut=Ge.extend($).getSize().subtract(tt);O.x+=bt.x<0?-Ut.x:Ut.x,O.y+=bt.y<0?-Ut.y:Ut.y,this.panTo(this.unproject(O),d),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=X({animate:!1,pan:!0},!0===s?{animate:!0}:s);var d=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),C=d.divideBy(2).round(),O=p.divideBy(2).round(),$=C.subtract(O);return $.x||$.y?(s.animate&&s.pan?this.panBy($):(s.pan&&this._rawPanBy($),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(ce(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:d,newSize:p})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=X({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var d=ce(this._handleGeolocationResponse,this),p=ce(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(d,p,s):navigator.geolocation.getCurrentPosition(d,p,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var d=s.code,p=s.message||(1===d?"permission denied":2===d?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:d,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var C=new De(s.coords.latitude,s.coords.longitude),O=C.toBounds(2*s.coords.accuracy),$=this._locateOptions;if($.setView){var _e=this.getBoundsZoom(O);this.setView(C,$.maxZoom?Math.min(_e,$.maxZoom):_e)}var Ge={latlng:C,bounds:O,timestamp:s.timestamp};for(var tt in s.coords)"number"==typeof s.coords[tt]&&(Ge[tt]=s.coords[tt]);this.fire("locationfound",Ge)}},addHandler:function(s,d){if(!d)return this;var p=this[s]=new d(this);return this._handlers.push(p),this.options[s]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}var s;for(s in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),mn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Ze(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[s].remove();for(s in this._panes)mn(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,d){var C=Vt("div","leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),d||this._mapPane);return s&&(this._panes[s]=C),C},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds();return new ue(this.unproject(s.getBottomLeft()),this.unproject(s.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,d,p){s=Ee(s),p=Re(p||[0,0]);var C=this.getZoom()||0,O=this.getMinZoom(),$=this.getMaxZoom(),_e=s.getNorthWest(),Ge=s.getSouthEast(),tt=this.getSize().subtract(p),bt=ae(this.project(Ge,C),this.project(_e,C)).getSize(),Ut=Ne.any3d?this.options.zoomSnap:1,_n=tt.x/bt.x,Tn=tt.y/bt.y,Kn=d?Math.max(_n,Tn):Math.min(_n,Tn);return C=this.getScaleZoom(Kn,C),Ut&&(C=Math.round(C/(Ut/100))*(Ut/100),C=d?Math.ceil(C/Ut)*Ut:Math.floor(C/Ut)*Ut),Math.max(O,Math.min($,C))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new rt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,d){var p=this._getTopLeftPoint(s,d);return new ft(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(void 0===s?this.getZoom():s)},getPane:function(s){return"string"==typeof s?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,d){var p=this.options.crs;return d=void 0===d?this._zoom:d,p.scale(s)/p.scale(d)},getScaleZoom:function(s,d){var p=this.options.crs,C=p.zoom(s*p.scale(d=void 0===d?this._zoom:d));return isNaN(C)?1/0:C},project:function(s,d){return d=void 0===d?this._zoom:d,this.options.crs.latLngToPoint(Me(s),d)},unproject:function(s,d){return d=void 0===d?this._zoom:d,this.options.crs.pointToLatLng(Re(s),d)},layerPointToLatLng:function(s){var d=Re(s).add(this.getPixelOrigin());return this.unproject(d)},latLngToLayerPoint:function(s){return this.project(Me(s))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(Me(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(Ee(s))},distance:function(s,d){return this.options.crs.distance(Me(s),Me(d))},containerPointToLayerPoint:function(s){return Re(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return Re(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var d=this.containerPointToLayerPoint(Re(s));return this.layerPointToLatLng(d)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Me(s)))},mouseEventToContainerPoint:function(s){return Oo(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var d=this._container=zn(s);if(!d)throw new Error("Map container not found.");if(d._leaflet_id)throw new Error("Map container is already initialized.");zt(d,"scroll",this._onScroll,this),this._containerId=e(d)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ne.any3d,hn(s,"leaflet-container"+(Ne.touch?" leaflet-touch":"")+(Ne.retina?" leaflet-retina":"")+(Ne.ielt9?" leaflet-oldie":"")+(Ne.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var d=Si(s,"position");"absolute"!==d&&"relative"!==d&&"fixed"!==d&&"sticky"!==d&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),mi(this._mapPane,new rt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(hn(s.markerPane,"leaflet-zoom-hide"),hn(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,d,p){mi(this._mapPane,new rt(0,0));var C=!this._loaded;this._loaded=!0,d=this._limitZoom(d),this.fire("viewprereset");var O=this._zoom!==d;this._moveStart(O,p)._move(s,d)._moveEnd(O),this.fire("viewreset"),C&&this.fire("load")},_moveStart:function(s,d){return s&&this.fire("zoomstart"),d||this.fire("movestart"),this},_move:function(s,d,p,C){void 0===d&&(d=this._zoom);var O=this._zoom!==d;return this._zoom=d,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),C?p&&p.pinch&&this.fire("zoom",p):((O||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Ze(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){mi(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[e(this._container)]=this;var d=s?bn:zt;d(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&d(window,"resize",this._onResize,this),Ne.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Ze(this._resizeRequest),this._resizeRequest=Je(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,d){for(var C,p=[],O="mouseout"===d||"mouseover"===d,$=s.target||s.srcElement,_e=!1;$;){if((C=this._targets[e($)])&&("click"===d||"preclick"===d)&&this._draggableMoved(C)){_e=!0;break}if(C&&C.listens(d,!0)&&(O&&!ai($,s)||(p.push(C),O))||$===this._container)break;$=$.parentNode}return!p.length&&!_e&&!O&&this.listens(d,!0)&&(p=[this]),p},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var d=s.target||s.srcElement;if(!(!this._loaded||d._leaflet_disable_events||"click"===s.type&&this._isClickDisabled(d))){var p=s.type;"mousedown"===p&&Vr(d),this._fireDOMEvent(s,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,d,p){if("click"===s.type){var C=X({},s);C.type="preclick",this._fireDOMEvent(C,C.type,p)}var O=this._findEventTargets(s,d);if(p){for(var $=[],_e=0;_e<p.length;_e++)p[_e].listens(d,!0)&&$.push(p[_e]);O=$.concat(O)}if(O.length){"contextmenu"===d&&Xt(s);var Ge=O[0],tt={originalEvent:s};if("keypress"!==s.type&&"keydown"!==s.type&&"keyup"!==s.type){var bt=Ge.getLatLng&&(!Ge._radius||Ge._radius<=10);tt.containerPoint=bt?this.latLngToContainerPoint(Ge.getLatLng()):this.mouseEventToContainerPoint(s),tt.layerPoint=this.containerPointToLayerPoint(tt.containerPoint),tt.latlng=bt?Ge.getLatLng():this.layerPointToLatLng(tt.layerPoint)}for(_e=0;_e<O.length;_e++)if(O[_e].fire(d,tt,!0),tt.originalEvent._stopped||!1===O[_e].options.bubblingMouseEvents&&-1!==Oe(this._mouseEvents,d))return}},_draggableMoved:function(s){return(s=s.dragging&&s.dragging.enabled()?s:this).dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,d=this._handlers.length;s<d;s++)this._handlers[s].disable()},whenReady:function(s,d){return this._loaded?s.call(d||this,{target:this}):this.on("load",s,d),this},_getMapPanePos:function(){return no(this._mapPane)||new rt(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,d){return(s&&void 0!==d?this._getNewPixelOrigin(s,d):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,d){var p=this.getSize()._divideBy(2);return this.project(s,d)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,d,p){var C=this._getNewPixelOrigin(p,d);return this.project(s,d)._subtract(C)},_latLngBoundsToNewLayerBounds:function(s,d,p){var C=this._getNewPixelOrigin(p,d);return ae([this.project(s.getSouthWest(),d)._subtract(C),this.project(s.getNorthWest(),d)._subtract(C),this.project(s.getSouthEast(),d)._subtract(C),this.project(s.getNorthEast(),d)._subtract(C)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,d,p){if(!p)return s;var C=this.project(s,d),O=this.getSize().divideBy(2),$=new ft(C.subtract(O),C.add(O)),_e=this._getBoundsOffset($,p,d);return Math.abs(_e.x)<=1&&Math.abs(_e.y)<=1?s:this.unproject(C.add(_e),d)},_limitOffset:function(s,d){if(!d)return s;var p=this.getPixelBounds(),C=new ft(p.min.add(s),p.max.add(s));return s.add(this._getBoundsOffset(C,d))},_getBoundsOffset:function(s,d,p){var C=ae(this.project(d.getNorthEast(),p),this.project(d.getSouthWest(),p)),O=C.min.subtract(s.min),$=C.max.subtract(s.max);return new rt(this._rebound(O.x,-$.x),this._rebound(O.y,-$.y))},_rebound:function(s,d){return s+d>0?Math.round(s-d)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(d))},_limitZoom:function(s){var d=this.getMinZoom(),p=this.getMaxZoom(),C=Ne.any3d?this.options.zoomSnap:1;return C&&(s=Math.round(s/C)*C),Math.max(d,Math.min(p,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){En(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,d){var p=this._getCenterOffset(s)._trunc();return!(!0!==(d&&d.animate)&&!this.getSize().contains(p)||(this.panBy(p,d),0))},_createAnimProxy:function(){var s=this._proxy=Vt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(d){var p=ni,C=this._proxy.style[p];Fo(this._proxy,this.project(d.center,d.zoom),this.getZoomScale(d.zoom,1)),C===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){mn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),d=this.getZoom();Fo(this._proxy,this.project(s,d),this.getZoomScale(d,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,d,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||!1===p.animate||this._nothingToAnimate()||Math.abs(d-this._zoom)>this.options.zoomAnimationThreshold)return!1;var C=this.getZoomScale(d),O=this._getCenterOffset(s)._divideBy(1-1/C);return!(!0!==p.animate&&!this.getSize().contains(O)||(Je(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(s,d,!0)},this),0))},_animateZoom:function(s,d,p,C){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=d,hn(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:d,noUpdate:C}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(ce(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&En(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});var Qi=He.extend({options:{position:"topright"},initialize:function(s){be(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var d=this._map;return d&&d.removeControl(this),this.options.position=s,d&&d.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var d=this._container=this.onAdd(s),p=this.getPosition(),C=s._controlCorners[p];return hn(d,"leaflet-control"),-1!==p.indexOf("bottom")?C.insertBefore(d,C.firstChild):C.appendChild(d),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(mn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),uo=function(s){return new Qi(s)};Ht.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},d="leaflet-",p=this._controlContainer=Vt("div",d+"control-container",this._container);function C(O,$){s[O+$]=Vt("div",d+O+" "+d+$,p)}C("top","left"),C("top","right"),C("bottom","left"),C("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)mn(this._controlCorners[s]);mn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var pi=Qi.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,d,p,C){return p<C?-1:C<p?1:0}},initialize:function(s,d,p){for(var C in be(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,s)this._addLayer(s[C],C);for(C in d)this._addLayer(d[C],C,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return Qi.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,d){return this._addLayer(s,d),this._map?this._update():this},addOverlay:function(s,d){return this._addLayer(s,d,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var d=this._getLayer(e(s));return d&&this._layers.splice(this._layers.indexOf(d),1),this._map?this._update():this},expand:function(){hn(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(hn(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):En(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return En(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",d=this._container=Vt("div",s),p=this.options.collapsed;d.setAttribute("aria-haspopup",!0),jt(d),Jn(d);var C=this._section=Vt("section",s+"-list");p&&(this._map.on("click",this.collapse,this),zt(d,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var O=this._layersLink=Vt("a",s+"-toggle",d);O.href="#",O.title="Layers",O.setAttribute("role","button"),zt(O,{keydown:function($){13===$.keyCode&&this._expandSafely()},click:function($){Xt($),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=Vt("div",s+"-base",C),this._separator=Vt("div",s+"-separator",C),this._overlaysList=Vt("div",s+"-overlays",C),d.appendChild(C)},_getLayer:function(s){for(var d=0;d<this._layers.length;d++)if(this._layers[d]&&e(this._layers[d].layer)===s)return this._layers[d]},_addLayer:function(s,d,p){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:d,overlay:p}),this.options.sortLayers&&this._layers.sort(ce(function(C,O){return this.options.sortFunction(C.layer,O.layer,C.name,O.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ii(this._baseLayersList),Ii(this._overlaysList),this._layerControlInputs=[];var s,d,p,C,O=0;for(p=0;p<this._layers.length;p++)this._addItem(C=this._layers[p]),d=d||C.overlay,s=s||!C.overlay,O+=C.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(s=s&&O>1)?"":"none"),this._separator.style.display=d&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var d=this._getLayer(e(s.target)),p=d.overlay?"add"===s.type?"overlayadd":"overlayremove":"add"===s.type?"baselayerchange":null;p&&this._map.fire(p,d)},_createRadioElement:function(s,d){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(d?' checked="checked"':"")+"/>",C=document.createElement("div");return C.innerHTML=p,C.firstChild},_addItem:function(s){var C,d=document.createElement("label"),p=this._map.hasLayer(s.layer);s.overlay?((C=document.createElement("input")).type="checkbox",C.className="leaflet-control-layers-selector",C.defaultChecked=p):C=this._createRadioElement("leaflet-base-layers_"+e(this),p),this._layerControlInputs.push(C),C.layerId=e(s.layer),zt(C,"click",this._onInputClick,this);var O=document.createElement("span");O.innerHTML=" "+s.name;var $=document.createElement("span");return d.appendChild($),$.appendChild(C),$.appendChild(O),(s.overlay?this._overlaysList:this._baseLayersList).appendChild(d),this._checkDisabledLayers(),d},_onInputClick:function(){if(!this._preventClick){var d,p,s=this._layerControlInputs,C=[],O=[];this._handlingClick=!0;for(var $=s.length-1;$>=0;$--)p=this._getLayer((d=s[$]).layerId).layer,d.checked?C.push(p):d.checked||O.push(p);for($=0;$<O.length;$++)this._map.hasLayer(O[$])&&this._map.removeLayer(O[$]);for($=0;$<C.length;$++)this._map.hasLayer(C[$])||this._map.addLayer(C[$]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var d,p,s=this._layerControlInputs,C=this._map.getZoom(),O=s.length-1;O>=0;O--)p=this._getLayer((d=s[O]).layerId).layer,d.disabled=void 0!==p.options.minZoom&&C<p.options.minZoom||void 0!==p.options.maxZoom&&C>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,zt(s,"click",Xt),this.expand();var d=this;setTimeout(function(){bn(s,"click",Xt),d._preventClick=!1})}}),Yo=Qi.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var d="leaflet-control-zoom",p=Vt("div",d+" leaflet-bar"),C=this.options;return this._zoomInButton=this._createButton(C.zoomInText,C.zoomInTitle,d+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(C.zoomOutText,C.zoomOutTitle,d+"-out",p,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,d,p,C,O){var $=Vt("a",p,C);return $.innerHTML=s,$.href="#",$.title=d,$.setAttribute("role","button"),$.setAttribute("aria-label",d),jt($),zt($,"click",Yn),zt($,"click",O,this),zt($,"click",this._refocusOnMap,this),$},_updateDisabled:function(){var s=this._map,d="leaflet-disabled";En(this._zoomInButton,d),En(this._zoomOutButton,d),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(hn(this._zoomOutButton,d),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(hn(this._zoomInButton,d),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ht.mergeOptions({zoomControl:!0}),Ht.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Yo,this.addControl(this.zoomControl))});var rr=Qi.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var d="leaflet-control-scale",p=Vt("div",d),C=this.options;return this._addScales(C,d+"-line",p),s.on(C.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),p},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,d,p){s.metric&&(this._mScale=Vt("div",d,p)),s.imperial&&(this._iScale=Vt("div",d,p))},_update:function(){var s=this._map,d=s.getSize().y/2,p=s.distance(s.containerPointToLatLng([0,d]),s.containerPointToLatLng([this.options.maxWidth,d]));this._updateScales(p)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var d=this._getRoundNum(s);this._updateScale(this._mScale,d<1e3?d+" m":d/1e3+" km",d/s)},_updateImperial:function(s){var p,C,O,d=3.2808399*s;d>5280?(C=this._getRoundNum(p=d/5280),this._updateScale(this._iScale,C+" mi",C/p)):(O=this._getRoundNum(d),this._updateScale(this._iScale,O+" ft",O/d))},_updateScale:function(s,d,p){s.style.width=Math.round(this.options.maxWidth*p)+"px",s.innerHTML=d},_getRoundNum:function(s){var d=Math.pow(10,(Math.floor(s)+"").length-1),p=s/d;return d*(p>=10?10:p>=5?5:p>=3?3:p>=2?2:1)}}),No=Qi.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ne.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(s){be(this,s),this._attributions={}},onAdd:function(s){for(var d in s.attributionControl=this,this._container=Vt("div","leaflet-control-attribution"),jt(this._container),s._layers)s._layers[d].getAttribution&&this.addAttribution(s._layers[d].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var d in this._attributions)this._attributions[d]&&s.push(d);var p=[];this.options.prefix&&p.push(this.options.prefix),s.length&&p.push(s.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});Ht.mergeOptions({attributionControl:!0}),Ht.addInitHook(function(){this.options.attributionControl&&(new No).addTo(this)});Qi.Layers=pi,Qi.Zoom=Yo,Qi.Scale=rr,Qi.Attribution=No,uo.layers=function(s,d,p){return new pi(s,d,p)},uo.zoom=function(s){return new Yo(s)},uo.scale=function(s){return new rr(s)},uo.attribution=function(s){return new No(s)};var Ki=He.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ki.addTo=function(s,d){return s.addHandler(d,this),this};var Rn={Events:Qe},is=Ne.touch?"touchstart mousedown":"mousedown",yo=Lt.extend({options:{clickTolerance:3},initialize:function(s,d,p,C){be(this,C),this._element=s,this._dragStartTarget=d||s,this._preventOutline=p},enable:function(){this._enabled||(zt(this._dragStartTarget,is,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(yo._dragging===this&&this.finishDrag(!0),bn(this._dragStartTarget,is,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!_o(this._element,"leaflet-zoom-anim"))){if(s.touches&&1!==s.touches.length)return void(yo._dragging===this&&this.finishDrag());if(!(yo._dragging||s.shiftKey||1!==s.which&&1!==s.button&&!s.touches||(yo._dragging=this,this._preventOutline&&Vr(this._element),tr(),er(),this._moving))){this.fire("down");var d=s.touches?s.touches[0]:s,p=$r(this._element);this._startPoint=new rt(d.clientX,d.clientY),this._startPos=no(this._element),this._parentScale=vn(p);var C="mousedown"===s.type;zt(document,C?"mousemove":"touchmove",this._onMove,this),zt(document,C?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1)return void(this._moved=!0);var d=s.touches&&1===s.touches.length?s.touches[0]:s,p=new rt(d.clientX,d.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,Xt(s),this._moved||(this.fire("dragstart"),this._moved=!0,hn(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),hn(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),mi(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){En(document.body,"leaflet-dragging"),this._lastTarget&&(En(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),bn(document,"mousemove touchmove",this._onMove,this),bn(document,"mouseup touchend touchcancel",this._onUp,this),nr(),xi();var d=this._moved&&this._moving;this._moving=!1,yo._dragging=!1,d&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function sr(s,d,p){var C,$,_e,Ge,tt,bt,Ut,_n,Tn,O=[1,4,2,8];for($=0,Ut=s.length;$<Ut;$++)s[$]._code=Co(s[$],d);for(Ge=0;Ge<4;Ge++){for(_n=O[Ge],C=[],$=0,_e=(Ut=s.length)-1;$<Ut;_e=$++)bt=s[_e],(tt=s[$])._code&_n?bt._code&_n||((Tn=Xi(bt,tt,_n,d,p))._code=Co(Tn,d),C.push(Tn)):(bt._code&_n&&((Tn=Xi(bt,tt,_n,d,p))._code=Co(Tn,d),C.push(Tn)),C.push(tt));s=C}return s}function Gi(s,d){var p,C,O,$,_e,Ge,tt,bt;if(!s||0===s.length)throw new Error("latlngs not passed");wo(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var _n=Me([0,0]),Tn=Ee(s);Tn.getNorthWest().distanceTo(Tn.getSouthWest())*Tn.getNorthEast().distanceTo(Tn.getNorthWest())<1700&&(_n=zi(s));var Gn=s.length,Di=[];for(p=0;p<Gn;p++){var Kt=Me(s[p]);Di.push(d.project(Me([Kt.lat-_n.lat,Kt.lng-_n.lng])))}for(Ge=tt=bt=0,p=0,C=Gn-1;p<Gn;C=p++)tt+=((O=Di[p]).x+($=Di[C]).x)*(_e=O.y*$.x-$.y*O.x),bt+=(O.y+$.y)*_e,Ge+=3*_e;var Qr=d.unproject(Re(0===Ge?Di[0]:[tt/Ge,bt/Ge]));return Me([Qr.lat+_n.lat,Qr.lng+_n.lng])}function zi(s){for(var d=0,p=0,C=0,O=0;O<s.length;O++){var $=Me(s[O]);d+=$.lat,p+=$.lng,C++}return Me([d/C,p/C])}var qo,Or={__proto__:null,clipPolygon:sr,polygonCenter:Gi,centroid:zi};function Do(s,d){if(!d||!s.length)return s.slice();var p=d*d;return function bo(s,d){var p=s.length,O=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(p);O[0]=O[p-1]=1,Fi(s,O,d,0,p-1);var $,_e=[];for($=0;$<p;$++)O[$]&&_e.push(s[$]);return _e}(s=function Wo(s,d){for(var p=[s[0]],C=1,O=0,$=s.length;C<$;C++)Ks(s[C],s[O])>d&&(p.push(s[C]),O=C);return O<$-1&&p.push(s[$-1]),p}(s,p),p)}function Yi(s,d,p){return Math.sqrt(os(s,d,p,!0))}function Fi(s,d,p,C,O){var _e,Ge,tt,$=0;for(Ge=C+1;Ge<=O-1;Ge++)(tt=os(s[Ge],s[C],s[O],!0))>$&&(_e=Ge,$=tt);$>p&&(d[_e]=1,Fi(s,d,p,C,_e),Fi(s,d,p,_e,O))}function ar(s,d,p,C,O){var Ge,tt,bt,$=C?qo:Co(s,p),_e=Co(d,p);for(qo=_e;;){if(!($|_e))return[s,d];if($&_e)return!1;bt=Co(tt=Xi(s,d,Ge=$||_e,p,O),p),Ge===$?(s=tt,$=bt):(d=tt,_e=bt)}}function Xi(s,d,p,C,O){var bt,Ut,$=d.x-s.x,_e=d.y-s.y,Ge=C.min,tt=C.max;return 8&p?(bt=s.x+$*(tt.y-s.y)/_e,Ut=tt.y):4&p?(bt=s.x+$*(Ge.y-s.y)/_e,Ut=Ge.y):2&p?(bt=tt.x,Ut=s.y+_e*(tt.x-s.x)/$):1&p&&(bt=Ge.x,Ut=s.y+_e*(Ge.x-s.x)/$),new rt(bt,Ut,O)}function Co(s,d){var p=0;return s.x<d.min.x?p|=1:s.x>d.max.x&&(p|=2),s.y<d.min.y?p|=4:s.y>d.max.y&&(p|=8),p}function Ks(s,d){var p=d.x-s.x,C=d.y-s.y;return p*p+C*C}function os(s,d,p,C){var bt,O=d.x,$=d.y,_e=p.x-O,Ge=p.y-$,tt=_e*_e+Ge*Ge;return tt>0&&((bt=((s.x-O)*_e+(s.y-$)*Ge)/tt)>1?(O=p.x,$=p.y):bt>0&&(O+=_e*bt,$+=Ge*bt)),_e=s.x-O,Ge=s.y-$,C?_e*_e+Ge*Ge:new rt(O,$)}function wo(s){return!ee(s[0])||"object"!=typeof s[0][0]&&typeof s[0][0]<"u"}function Nr(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),wo(s)}function As(s,d){var p,C,O,$,_e,Ge,tt,bt;if(!s||0===s.length)throw new Error("latlngs not passed");wo(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Ut=Me([0,0]),_n=Ee(s);_n.getNorthWest().distanceTo(_n.getSouthWest())*_n.getNorthEast().distanceTo(_n.getNorthWest())<1700&&(Ut=zi(s));var Kn=s.length,Gn=[];for(p=0;p<Kn;p++){var Di=Me(s[p]);Gn.push(d.project(Me([Di.lat-Ut.lat,Di.lng-Ut.lng])))}for(p=0,C=0;p<Kn-1;p++)C+=Gn[p].distanceTo(Gn[p+1])/2;if(0===C)bt=Gn[0];else for(p=0,$=0;p<Kn-1;p++)if(($+=O=(_e=Gn[p]).distanceTo(Ge=Gn[p+1]))>C){bt=[Ge.x-(tt=($-C)/O)*(Ge.x-_e.x),Ge.y-tt*(Ge.y-_e.y)];break}var Kt=d.unproject(Re(bt));return Me([Kt.lat+Ut.lat,Kt.lng+Ut.lng])}var R={__proto__:null,simplify:Do,pointToSegmentDistance:Yi,closestPointOnSegment:function fa(s,d,p){return os(s,d,p)},clipSegment:ar,_getEdgeIntersection:Xi,_getBitCode:Co,_sqClosestPointOnSegment:os,isFlat:wo,_flat:Nr,polylineCenter:As},B={project:function(s){return new rt(s.lng,s.lat)},unproject:function(s){return new De(s.y,s.x)},bounds:new ft([-180,-90],[180,90])},S={R:6378137,R_MINOR:6356752.314245179,bounds:new ft([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(s){var d=Math.PI/180,p=this.R,C=s.lat*d,O=this.R_MINOR/p,$=Math.sqrt(1-O*O),_e=$*Math.sin(C),Ge=Math.tan(Math.PI/4-C/2)/Math.pow((1-_e)/(1+_e),$/2);return C=-p*Math.log(Math.max(Ge,1e-10)),new rt(s.lng*d*p,C)},unproject:function(s){for(var bt,d=180/Math.PI,p=this.R,C=this.R_MINOR/p,O=Math.sqrt(1-C*C),$=Math.exp(-s.y/p),_e=Math.PI/2-2*Math.atan($),Ge=0,tt=.1;Ge<15&&Math.abs(tt)>1e-7;Ge++)bt=O*Math.sin(_e),bt=Math.pow((1-bt)/(1+bt),O/2),_e+=tt=Math.PI/2-2*Math.atan($*bt)-_e;return new De(_e*d,s.x*d/p)}},z={__proto__:null,LonLat:B,Mercator:S,SphericalMercator:cn},he=X({},et,{code:"EPSG:3395",projection:S,transformation:function(){var s=.5/(Math.PI*S.R);return sn(s,.5,-s,.5)}()}),rn=X({},et,{code:"EPSG:4326",projection:B,transformation:sn(1/180,1,-1/180,.5)}),In=X({},Ve,{projection:B,transformation:sn(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,d){var p=d.lng-s.lng,C=d.lat-s.lat;return Math.sqrt(p*p+C*C)},infinite:!0});Ve.Earth=et,Ve.EPSG3395=he,Ve.EPSG3857=Zt,Ve.EPSG900913=wt,Ve.EPSG4326=rn,Ve.Simple=In;var Li=Lt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[e(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[e(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var d=s.target;if(d.hasLayer(this)){if(this._map=d,this._zoomAnimated=d._zoomAnimated,this.getEvents){var p=this.getEvents();d.on(p,this),this.once("remove",function(){d.off(p,this)},this)}this.onAdd(d),this.fire("add"),d.fire("layeradd",{layer:this})}}});Ht.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var d=e(s);return this._layers[d]||(this._layers[d]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s)),this},removeLayer:function(s){var d=e(s);return this._layers[d]?(this._loaded&&s.onRemove(this),delete this._layers[d],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return e(s)in this._layers},eachLayer:function(s,d){for(var p in this._layers)s.call(d,this._layers[p]);return this},_addLayers:function(s){for(var d=0,p=(s=s?ee(s)?s:[s]:[]).length;d<p;d++)this.addLayer(s[d])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[e(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var d=e(s);this._zoomBoundLayers[d]&&(delete this._zoomBoundLayers[d],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,d=-1/0,p=this._getZoomSpan();for(var C in this._zoomBoundLayers){var O=this._zoomBoundLayers[C].options;s=void 0===O.minZoom?s:Math.min(s,O.minZoom),d=void 0===O.maxZoom?d:Math.max(d,O.maxZoom)}this._layersMaxZoom=d===-1/0?void 0:d,this._layersMinZoom=s===1/0?void 0:s,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Po=Li.extend({initialize:function(s,d){var p,C;if(be(this,d),this._layers={},s)for(p=0,C=s.length;p<C;p++)this.addLayer(s[p])},addLayer:function(s){var d=this.getLayerId(s);return this._layers[d]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var d=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[d]&&this._map.removeLayer(this._layers[d]),delete this._layers[d],this},hasLayer:function(s){return("number"==typeof s?s:this.getLayerId(s))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var p,C,d=Array.prototype.slice.call(arguments,1);for(p in this._layers)(C=this._layers[p])[s]&&C[s].apply(C,d);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,d){for(var p in this._layers)s.call(d,this._layers[p]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return e(s)}}),br=Po.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Po.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Po.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new ue;for(var d in this._layers){var p=this._layers[d];s.extend(p.getBounds?p.getBounds():p.getLatLng())}return s}}),Pr=He.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){be(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,d){var p=this._getIconUrl(s);if(!p){if("icon"===s)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var C=this._createImg(p,d&&"IMG"===d.tagName?d:null);return this._setIconStyles(C,s),(this.options.crossOrigin||""===this.options.crossOrigin)&&(C.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),C},_setIconStyles:function(s,d){var p=this.options,C=p[d+"Size"];"number"==typeof C&&(C=[C,C]);var O=Re(C),$=Re("shadow"===d&&p.shadowAnchor||p.iconAnchor||O&&O.divideBy(2,!0));s.className="leaflet-marker-"+d+" "+(p.className||""),$&&(s.style.marginLeft=-$.x+"px",s.style.marginTop=-$.y+"px"),O&&(s.style.width=O.x+"px",s.style.height=O.y+"px")},_createImg:function(s,d){return(d=d||document.createElement("img")).src=s,d},_getIconUrl:function(s){return Ne.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});var Ss=Pr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return"string"!=typeof Ss.imagePath&&(Ss.imagePath=this._detectIconPath()),(this.options.imagePath||Ss.imagePath)+Pr.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var d=function(p,C,O){var $=C.exec(p);return $&&$[O]};return(s=d(s,/^url\((['"])?(.+)\1\)$/,2))&&d(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=Vt("div","leaflet-default-icon-path",document.body),d=Si(s,"background-image")||Si(s,"backgroundImage");if(document.body.removeChild(s),d=this._stripUrl(d))return d;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),pa=Ki.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new yo(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),hn(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&En(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var d=this._marker,p=d._map,C=this._marker.options.autoPanSpeed,O=this._marker.options.autoPanPadding,$=no(d._icon),_e=p.getPixelBounds(),Ge=p.getPixelOrigin(),tt=ae(_e.min._subtract(Ge).add(O),_e.max._subtract(Ge).subtract(O));if(!tt.contains($)){var bt=Re((Math.max(tt.max.x,$.x)-tt.max.x)/(_e.max.x-tt.max.x)-(Math.min(tt.min.x,$.x)-tt.min.x)/(_e.min.x-tt.min.x),(Math.max(tt.max.y,$.y)-tt.max.y)/(_e.max.y-tt.max.y)-(Math.min(tt.min.y,$.y)-tt.min.y)/(_e.min.y-tt.min.y)).multiplyBy(C);p.panBy(bt,{animate:!1}),this._draggable._newPos._add(bt),this._draggable._startPos._add(bt),mi(d._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=Je(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(Ze(this._panRequest),this._panRequest=Je(this._adjustPan.bind(this,s)))},_onDrag:function(s){var d=this._marker,p=d._shadow,C=no(d._icon),O=d._map.layerPointToLatLng(C);p&&mi(p,C),d._latlng=O,s.latlng=O,s.oldLatLng=this._oldLatLng,d.fire("move",s).fire("drag",s)},_onDragEnd:function(s){Ze(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),rs=Li.extend({options:{icon:new Ss,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,d){be(this,d),this._latlng=Me(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var d=this._latlng;return this._latlng=Me(s),this.update(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,d="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=s.icon.createIcon(this._icon),C=!1;p!==this._icon&&(this._icon&&this._removeIcon(),C=!0,s.title&&(p.title=s.title),"IMG"===p.tagName&&(p.alt=s.alt||"")),hn(p,d),s.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&zt(p,"focus",this._panOnFocus,this);var O=s.icon.createShadow(this._shadow),$=!1;O!==this._shadow&&(this._removeShadow(),$=!0),O&&(hn(O,d),O.alt=""),this._shadow=O,s.opacity<1&&this._updateOpacity(),C&&this.getPane().appendChild(this._icon),this._initInteraction(),O&&$&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&bn(this._icon,"focus",this._panOnFocus,this),mn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&mn(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&mi(this._icon,s),this._shadow&&mi(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var d=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(d)},_initInteraction:function(){if(this.options.interactive&&(hn(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),pa)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new pa(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Ji(this._icon,s),this._shadow&&Ji(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var d=this.options.icon.options,p=d.iconSize?Re(d.iconSize):Re(0,0),C=d.iconAnchor?Re(d.iconAnchor):Re(0,0);s.panInside(this._latlng,{paddingTopLeft:C,paddingBottomRight:p.subtract(C)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var ho=Li.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return be(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Yr=ho.extend({options:{fill:!0,radius:10},initialize:function(s,d){be(this,d),this._latlng=Me(s),this._radius=this.options.radius},setLatLng:function(s){var d=this._latlng;return this._latlng=Me(s),this.redraw(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var d=s&&s.radius||this._radius;return ho.prototype.setStyle.call(this,s),this.setRadius(d),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,d=this._radiusY||s,p=this._clickTolerance(),C=[s+p,d+p];this._pxBounds=new ft(this._point.subtract(C),this._point.add(C))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var Oi=Yr.extend({initialize:function(s,d,p){if("number"==typeof d&&(d=X({},p,{radius:d})),be(this,d),this._latlng=Me(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new ue(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:ho.prototype.setStyle,_project:function(){var s=this._latlng.lng,d=this._latlng.lat,p=this._map,C=p.options.crs;if(C.distance===et.distance){var O=Math.PI/180,$=this._mRadius/et.R/O,_e=p.project([d+$,s]),Ge=p.project([d-$,s]),tt=_e.add(Ge).divideBy(2),bt=p.unproject(tt).lat,Ut=Math.acos((Math.cos($*O)-Math.sin(d*O)*Math.sin(bt*O))/(Math.cos(d*O)*Math.cos(bt*O)))/O;(isNaN(Ut)||0===Ut)&&(Ut=$/Math.cos(Math.PI/180*d)),this._point=tt.subtract(p.getPixelOrigin()),this._radius=isNaN(Ut)?0:tt.x-p.project([bt,s-Ut]).x,this._radiusY=tt.y-_e.y}else{var _n=C.unproject(C.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(_n).x}this._updateBounds()}});var hi=ho.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,d){be(this,d),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var O,$,d=1/0,p=null,C=os,_e=0,Ge=this._parts.length;_e<Ge;_e++)for(var tt=this._parts[_e],bt=1,Ut=tt.length;bt<Ut;bt++){var _n=C(s,O=tt[bt-1],$=tt[bt],!0);_n<d&&(d=_n,p=C(s,O,$))}return p&&(p.distance=Math.sqrt(d)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return As(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,d){return d=d||this._defaultShape(),s=Me(s),d.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new ue,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return wo(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var d=[],p=wo(s),C=0,O=s.length;C<O;C++)p?(d[C]=Me(s[C]),this._bounds.extend(d[C])):d[C]=this._convertLatLngs(s[C]);return d},_project:function(){var s=new ft;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),d=new rt(s,s);this._rawPxBounds&&(this._pxBounds=new ft([this._rawPxBounds.min.subtract(d),this._rawPxBounds.max.add(d)]))},_projectLatlngs:function(s,d,p){var $,_e,O=s.length;if(s[0]instanceof De){for(_e=[],$=0;$<O;$++)_e[$]=this._map.latLngToLayerPoint(s[$]),p.extend(_e[$]);d.push(_e)}else for($=0;$<O;$++)this._projectLatlngs(s[$],d,p)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(s)){if(this.options.noClip)return void(this._parts=this._rings);var p,C,O,$,_e,Ge,tt,d=this._parts;for(p=0,O=0,$=this._rings.length;p<$;p++)for(C=0,_e=(tt=this._rings[p]).length;C<_e-1;C++)(Ge=ar(tt[C],tt[C+1],s,C,!0))&&(d[O]=d[O]||[],d[O].push(Ge[0]),(Ge[1]!==tt[C+1]||C===_e-2)&&(d[O].push(Ge[1]),O++))}},_simplifyPoints:function(){for(var s=this._parts,d=this.options.smoothFactor,p=0,C=s.length;p<C;p++)s[p]=Do(s[p],d)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,d){var p,C,O,$,_e,Ge,tt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(p=0,$=this._parts.length;p<$;p++)for(C=0,O=(_e=(Ge=this._parts[p]).length)-1;C<_e;O=C++)if((d||0!==C)&&Yi(s,Ge[O],Ge[C])<=tt)return!0;return!1}});hi._flat=Nr;var Wr=hi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Gi(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var d=hi.prototype._convertLatLngs.call(this,s),p=d.length;return p>=2&&d[0]instanceof De&&d[0].equals(d[p-1])&&d.pop(),d},_setLatLngs:function(s){hi.prototype._setLatLngs.call(this,s),wo(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return wo(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,d=this.options.weight,p=new rt(d,d);if(s=new ft(s.min.subtract(p),s.max.add(p)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(s)){if(this.options.noClip)return void(this._parts=this._rings);for(var $,C=0,O=this._rings.length;C<O;C++)($=sr(this._rings[C],s,!0)).length&&this._parts.push($)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var p,C,O,$,_e,Ge,tt,bt,d=!1;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for($=0,tt=this._parts.length;$<tt;$++)for(_e=0,Ge=(bt=(p=this._parts[$]).length)-1;_e<bt;Ge=_e++)(C=p[_e]).y>s.y!=(O=p[Ge]).y>s.y&&s.x<(O.x-C.x)*(s.y-C.y)/(O.y-C.y)+C.x&&(d=!d);return d||hi.prototype._containsPoint.call(this,s,!0)}});var Jo=br.extend({initialize:function(s,d){be(this,d),this._layers={},s&&this.addData(s)},addData:function(s){var p,C,O,d=ee(s)?s:s.features;if(d){for(p=0,C=d.length;p<C;p++)((O=d[p]).geometries||O.geometry||O.features||O.coordinates)&&this.addData(O);return this}var $=this.options;if($.filter&&!$.filter(s))return this;var _e=cr(s,$);return _e?(_e.feature=Lr(s),_e.defaultOptions=_e.options,this.resetStyle(_e),$.onEachFeature&&$.onEachFeature(s,_e),this.addLayer(_e)):this},resetStyle:function(s){return void 0===s?this.eachLayer(this.resetStyle,this):(s.options=X({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(d){this._setLayerStyle(d,s)},this)},_setLayerStyle:function(s,d){s.setStyle&&("function"==typeof d&&(d=d(s.feature)),s.setStyle(d))}});function cr(s,d){var Ge,tt,bt,Ut,p="Feature"===s.type?s.geometry:s,C=p?p.coordinates:null,O=[],$=d&&d.pointToLayer,_e=d&&d.coordsToLatLng||qr;if(!C&&!p)return null;switch(p.type){case"Point":return Rr($,s,Ge=_e(C),d);case"MultiPoint":for(bt=0,Ut=C.length;bt<Ut;bt++)Ge=_e(C[bt]),O.push(Rr($,s,Ge,d));return new br(O);case"LineString":case"MultiLineString":return tt=Fr(C,"LineString"===p.type?0:1,_e),new hi(tt,d);case"Polygon":case"MultiPolygon":return tt=Fr(C,"Polygon"===p.type?1:2,_e),new Wr(tt,d);case"GeometryCollection":for(bt=0,Ut=p.geometries.length;bt<Ut;bt++){var _n=cr({geometry:p.geometries[bt],type:"Feature",properties:s.properties},d);_n&&O.push(_n)}return new br(O);case"FeatureCollection":for(bt=0,Ut=p.features.length;bt<Ut;bt++){var Tn=cr(p.features[bt],d);Tn&&O.push(Tn)}return new br(O);default:throw new Error("Invalid GeoJSON object.")}}function Rr(s,d,p,C){return s?s(d,p):new rs(p,C&&C.markersInheritOptions&&C)}function qr(s){return new De(s[1],s[0],s[2])}function Fr(s,d,p){for(var _e,C=[],O=0,$=s.length;O<$;O++)_e=d?Fr(s[O],d-1,p):(p||qr)(s[O]),C.push(_e);return C}function ss(s,d){return void 0!==(s=Me(s)).alt?[me(s.lng,d),me(s.lat,d),me(s.alt,d)]:[me(s.lng,d),me(s.lat,d)]}function as(s,d,p,C){for(var O=[],$=0,_e=s.length;$<_e;$++)O.push(d?as(s[$],wo(s[$])?0:d-1,p,C):ss(s[$],C));return!d&&p&&O.length>0&&O.push(O[0].slice()),O}function Cr(s,d){return s.feature?X({},s.feature,{geometry:d}):Lr(d)}function Lr(s){return"Feature"===s.type||"FeatureCollection"===s.type?s:{type:"Feature",properties:{},geometry:s}}var Uo={toGeoJSON:function(s){return Cr(this,{type:"Point",coordinates:ss(this.getLatLng(),s)})}};function lr(s,d){return new Jo(s,d)}rs.include(Uo),Oi.include(Uo),Yr.include(Uo),hi.include({toGeoJSON:function(s){var d=!wo(this._latlngs);return Cr(this,{type:(d?"Multi":"")+"LineString",coordinates:as(this._latlngs,d?1:0,!1,s)})}}),Wr.include({toGeoJSON:function(s){var d=!wo(this._latlngs),p=d&&!wo(this._latlngs[0]),C=as(this._latlngs,p?2:d?1:0,!0,s);return d||(C=[C]),Cr(this,{type:(p?"Multi":"")+"Polygon",coordinates:C})}}),Po.include({toMultiPoint:function(s){var d=[];return this.eachLayer(function(p){d.push(p.toGeoJSON(s).geometry.coordinates)}),Cr(this,{type:"MultiPoint",coordinates:d})},toGeoJSON:function(s){var d=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===d)return this.toMultiPoint(s);var p="GeometryCollection"===d,C=[];return this.eachLayer(function(O){if(O.toGeoJSON){var $=O.toGeoJSON(s);if(p)C.push($.geometry);else{var _e=Lr($);"FeatureCollection"===_e.type?C.push.apply(C,_e.features):C.push(_e)}}}),p?Cr(this,{geometries:C,type:"GeometryCollection"}):{type:"FeatureCollection",features:C}}});var Is=lr,Br=Li.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,d,p){this._url=s,this._bounds=Ee(d),be(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(hn(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){mn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&bi(this._image),this},bringToBack:function(){return this._map&&Vi(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=Ee(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s="IMG"===this._url.tagName,d=this._image=s?this._url:Vt("img");hn(d,"leaflet-image-layer"),this._zoomAnimated&&hn(d,"leaflet-zoom-animated"),this.options.className&&hn(d,this.options.className),d.onselectstart=pe,d.onmousemove=pe,d.onload=ce(this.fire,this,"load"),d.onerror=ce(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(d.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s?this._url=d.src:(d.src=this._url,d.alt=this.options.alt)},_animateZoom:function(s){var d=this._map.getZoomScale(s.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Fo(this._image,p,d)},_reset:function(){var s=this._image,d=new ft(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=d.getSize();mi(s,d.min),s.style.width=p.x+"px",s.style.height=p.y+"px"},_updateOpacity:function(){Ji(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),ga=Br.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s="VIDEO"===this._url.tagName,d=this._image=s?this._url:Vt("video");if(hn(d,"leaflet-image-layer"),this._zoomAnimated&&hn(d,"leaflet-zoom-animated"),this.options.className&&hn(d,this.options.className),d.onselectstart=pe,d.onmousemove=pe,d.onloadeddata=ce(this.fire,this,"load"),s){for(var p=d.getElementsByTagName("source"),C=[],O=0;O<p.length;O++)C.push(p[O].src);this._url=p.length>0?C:[d.src]}else{ee(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(d.style,"objectFit")&&(d.style.objectFit="fill"),d.autoplay=!!this.options.autoplay,d.loop=!!this.options.loop,d.muted=!!this.options.muted,d.playsInline=!!this.options.playsInline;for(var $=0;$<this._url.length;$++){var _e=Vt("source");_e.src=this._url[$],d.appendChild(_e)}}}});var Hs=Br.extend({_initImage:function(){var s=this._image=this._url;hn(s,"leaflet-image-layer"),this._zoomAnimated&&hn(s,"leaflet-zoom-animated"),this.options.className&&hn(s,this.options.className),s.onselectstart=pe,s.onmousemove=pe}});var Ho=Li.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,d){s&&(s instanceof De||ee(s))?(this._latlng=Me(s),be(this,d)):(be(this,s),this._source=d),this.options.content&&(this._content=this.options.content)},openOn:function(s){return(s=arguments.length?s:this._source._map).hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Ji(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Ji(this._container,1),this.bringToFront(),this.options.interactive&&(hn(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Ji(this._container,0),this._removeTimeout=setTimeout(ce(mn,void 0,this._container),200)):mn(this._container),this.options.interactive&&(En(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=Me(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&bi(this._container),this},bringToBack:function(){return this._map&&Vi(this._container),this},_prepareOpen:function(s){var d=this._source;if(!d._map)return!1;if(d instanceof br){d=null;var p=this._source._layers;for(var C in p)if(p[C]._map){d=p[C];break}if(!d)return!1;this._source=d}if(!s)if(d.getCenter)s=d.getCenter();else if(d.getLatLng)s=d.getLatLng();else{if(!d.getBounds)throw new Error("Unable to get source layer LatLng.");s=d.getBounds().getCenter()}return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,d="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof d)s.innerHTML=d;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(d)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),d=Re(this.options.offset),p=this._getAnchor();this._zoomAnimated?mi(this._container,s.add(p)):d=d.add(s).add(p);var C=this._containerBottom=-d.y,O=this._containerLeft=-Math.round(this._containerWidth/2)+d.x;this._container.style.bottom=C+"px",this._container.style.left=O+"px"}},_getAnchor:function(){return[0,0]}});Ht.include({_initOverlay:function(s,d,p,C){var O=d;return O instanceof s||(O=new s(C).setContent(d)),p&&O.setLatLng(p),O}}),Li.include({_initOverlay:function(s,d,p,C){var O=p;return O instanceof s?(be(O,C),O._source=this):(O=d&&!C?d:new s(C,this)).setContent(p),O}});var Jr=Ho.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return!(s=arguments.length?s:this._source._map).hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Ho.prototype.openOn.call(this,s)},onAdd:function(s){Ho.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ho||this._source.on("preclick",Lo))},onRemove:function(s){Ho.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ho||this._source.off("preclick",Lo))},getEvents:function(){var s=Ho.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",d=this._container=Vt("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=Vt("div",s+"-content-wrapper",d);if(this._contentNode=Vt("div",s+"-content",p),jt(d),Jn(this._contentNode),zt(d,"contextmenu",Lo),this._tipContainer=Vt("div",s+"-tip-container",d),this._tip=Vt("div",s+"-tip",this._tipContainer),this.options.closeButton){var C=this._closeButton=Vt("a",s+"-close-button",d);C.setAttribute("role","button"),C.setAttribute("aria-label","Close popup"),C.href="#close",C.innerHTML='<span aria-hidden="true">&#215;</span>',zt(C,"click",function(O){Xt(O),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,d=s.style;d.width="",d.whiteSpace="nowrap";var p=s.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),d.width=p+1+"px",d.whiteSpace="",d.height="";var O=this.options.maxHeight,$="leaflet-popup-scrolled";O&&s.offsetHeight>O?(d.height=O+"px",hn(s,$)):En(s,$),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var d=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),p=this._getAnchor();mi(this._container,d.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)return void(this._autopanning=!1);var s=this._map,d=parseInt(Si(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+d,C=this._containerWidth,O=new rt(this._containerLeft,-p-this._containerBottom);O._add(no(this._container));var $=s.layerPointToContainerPoint(O),_e=Re(this.options.autoPanPadding),Ge=Re(this.options.autoPanPaddingTopLeft||_e),tt=Re(this.options.autoPanPaddingBottomRight||_e),bt=s.getSize(),Ut=0,_n=0;$.x+C+tt.x>bt.x&&(Ut=$.x+C-bt.x+tt.x),$.x-Ut-Ge.x<0&&(Ut=$.x-Ge.x),$.y+p+tt.y>bt.y&&(_n=$.y+p-bt.y+tt.y),$.y-_n-Ge.y<0&&(_n=$.y-Ge.y),(Ut||_n)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([Ut,_n]))}},_getAnchor:function(){return Re(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Ht.mergeOptions({closePopupOnClick:!0}),Ht.include({openPopup:function(s,d,p){return this._initOverlay(Jr,s,d,p).openOn(this),this},closePopup:function(s){return(s=arguments.length?s:this._popup)&&s.close(),this}}),Li.include({bindPopup:function(s,d){return this._popup=this._initOverlay(Jr,this._popup,s,d),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof br||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(this._popup&&this._map){Yn(s);var d=s.layer||s.target;if(this._popup._source===d&&!(d instanceof ho))return void(this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng));this._popup._source=d,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){13===s.originalEvent.keyCode&&this._openPopup(s)}});var cs=Ho.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Ho.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Ho.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Ho.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){this._contentNode=this._container=Vt("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide")),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+e(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var d,p,C=this._map,O=this._container,$=C.latLngToContainerPoint(C.getCenter()),_e=C.layerPointToContainerPoint(s),Ge=this.options.direction,tt=O.offsetWidth,bt=O.offsetHeight,Ut=Re(this.options.offset),_n=this._getAnchor();"top"===Ge?(d=tt/2,p=bt):"bottom"===Ge?(d=tt/2,p=0):"center"===Ge?(d=tt/2,p=bt/2):"right"===Ge?(d=0,p=bt/2):"left"===Ge?(d=tt,p=bt/2):_e.x<$.x?(Ge="right",d=0,p=bt/2):(Ge="left",d=tt+2*(Ut.x+_n.x),p=bt/2),s=s.subtract(Re(d,p,!0)).add(Ut).add(_n),En(O,"leaflet-tooltip-right"),En(O,"leaflet-tooltip-left"),En(O,"leaflet-tooltip-top"),En(O,"leaflet-tooltip-bottom"),hn(O,"leaflet-tooltip-"+Ge),mi(O,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Ji(this._container,s)},_animateZoom:function(s){var d=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(d)},_getAnchor:function(){return Re(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Ht.include({openTooltip:function(s,d,p){return this._initOverlay(cs,s,d,p).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),Li.include({bindTooltip:function(s,d){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(cs,this._tooltip,s,d),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(s||!this._tooltipHandlersAdded){var d=s?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[d](p),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof br||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var d="function"==typeof s.getElement&&s.getElement();d&&(zt(d,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),zt(d,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var d="function"==typeof s.getElement&&s.getElement();d&&d.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(this._tooltip&&this._map){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var d=this;return void this._map.once("moveend",function(){d._openOnceFlag=!1,d._openTooltip(s)})}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var p,C,d=s.latlng;this._tooltip.options.sticky&&s.originalEvent&&(p=this._map.mouseEventToContainerPoint(s.originalEvent),C=this._map.containerPointToLayerPoint(p),d=this._map.layerPointToLatLng(C)),this._tooltip.setLatLng(d)}});var _a=Pr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var d=s&&"DIV"===s.tagName?s:document.createElement("div"),p=this.options;if(p.html instanceof Element?(Ii(d),d.appendChild(p.html)):d.innerHTML=!1!==p.html?p.html:"",p.bgPos){var C=Re(p.bgPos);d.style.backgroundPosition=-C.x+"px "+-C.y+"px"}return this._setIconStyles(d,"icon"),d},createShadow:function(){return null}});Pr.Default=Ss;var ls=Li.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ne.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){be(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),mn(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(bi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Vi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=Q(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof rt?s:new rt(s,s)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var $,d=this.getPane().children,p=-s(-1/0,1/0),C=0,O=d.length;C<O;C++)$=d[C].style.zIndex,d[C]!==this._container&&$&&(p=s(p,+$));isFinite(p)&&(this.options.zIndex=p+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ne.ielt9){Ji(this._container,this.options.opacity);var s=+new Date,d=!1,p=!1;for(var C in this._tiles){var O=this._tiles[C];if(O.current&&O.loaded){var $=Math.min(1,(s-O.loaded)/200);Ji(O.el,$),$<1?d=!0:(O.active?p=!0:this._onOpaqueTile(O),O.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),d&&(Ze(this._fadeFrame),this._fadeFrame=Je(this._updateOpacity,this))}},_onOpaqueTile:pe,_initContainer:function(){this._container||(this._container=Vt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,d=this.options.maxZoom;if(void 0!==s){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===s?(this._levels[p].el.style.zIndex=d-Math.abs(s-p),this._onUpdateLevel(p)):(mn(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var C=this._levels[s],O=this._map;return C||((C=this._levels[s]={}).el=Vt("div","leaflet-tile-container leaflet-zoom-animated",this._container),C.el.style.zIndex=d,C.origin=O.project(O.unproject(O.getPixelOrigin()),s).round(),C.zoom=s,this._setZoomTransform(C,O.getCenter(),O.getZoom()),this._onCreateLevel(C)),this._level=C,C}},_onUpdateLevel:pe,_onRemoveLevel:pe,_onCreateLevel:pe,_pruneTiles:function(){if(this._map){var s,d,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom)return void this._removeAllTiles();for(s in this._tiles)(d=this._tiles[s]).retain=d.current;for(s in this._tiles)if((d=this._tiles[s]).current&&!d.active){var C=d.coords;this._retainParent(C.x,C.y,C.z,C.z-5)||this._retainChildren(C.x,C.y,C.z,C.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var d in this._tiles)this._tiles[d].coords.z===s&&this._removeTile(d)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)mn(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,d,p,C){var O=Math.floor(s/2),$=Math.floor(d/2),_e=p-1,Ge=new rt(+O,+$);Ge.z=+_e;var tt=this._tileCoordsToKey(Ge),bt=this._tiles[tt];return bt&&bt.active?(bt.retain=!0,!0):(bt&&bt.loaded&&(bt.retain=!0),_e>C&&this._retainParent(O,$,_e,C))},_retainChildren:function(s,d,p,C){for(var O=2*s;O<2*s+2;O++)for(var $=2*d;$<2*d+2;$++){var _e=new rt(O,$);_e.z=p+1;var Ge=this._tileCoordsToKey(_e),tt=this._tiles[Ge];tt&&tt.active?tt.retain=!0:(tt&&tt.loaded&&(tt.retain=!0),p+1<C&&this._retainChildren(O,$,p+1,C))}},_resetView:function(s){var d=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),d,d)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var d=this.options;return void 0!==d.minNativeZoom&&s<d.minNativeZoom?d.minNativeZoom:void 0!==d.maxNativeZoom&&d.maxNativeZoom<s?d.maxNativeZoom:s},_setView:function(s,d,p,C){var O=Math.round(d);O=void 0!==this.options.maxZoom&&O>this.options.maxZoom||void 0!==this.options.minZoom&&O<this.options.minZoom?void 0:this._clampZoom(O),(!C||this.options.updateWhenZooming&&O!==this._tileZoom)&&(this._tileZoom=O,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==O&&this._update(s),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(s,d)},_setZoomTransforms:function(s,d){for(var p in this._levels)this._setZoomTransform(this._levels[p],s,d)},_setZoomTransform:function(s,d,p){var C=this._map.getZoomScale(p,s.zoom),O=s.origin.multiplyBy(C).subtract(this._map._getNewPixelOrigin(d,p)).round();Ne.any3d?Fo(s.el,O,C):mi(s.el,O)},_resetGrid:function(){var s=this._map,d=s.options.crs,p=this._tileSize=this.getTileSize(),C=this._tileZoom,O=this._map.getPixelWorldBounds(this._tileZoom);O&&(this._globalTileRange=this._pxBoundsToTileRange(O)),this._wrapX=d.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,d.wrapLng[0]],C).x/p.x),Math.ceil(s.project([0,d.wrapLng[1]],C).x/p.y)],this._wrapY=d.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([d.wrapLat[0],0],C).y/p.x),Math.ceil(s.project([d.wrapLat[1],0],C).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var d=this._map,p=d._animatingZoom?Math.max(d._animateToZoom,d.getZoom()):d.getZoom(),C=d.getZoomScale(p,this._tileZoom),O=d.project(s,this._tileZoom).floor(),$=d.getSize().divideBy(2*C);return new ft(O.subtract($),O.add($))},_update:function(s){var d=this._map;if(d){var p=this._clampZoom(d.getZoom());if(void 0===s&&(s=d.getCenter()),void 0!==this._tileZoom){var C=this._getTiledPixelBounds(s),O=this._pxBoundsToTileRange(C),$=O.getCenter(),_e=[],Ge=this.options.keepBuffer,tt=new ft(O.getBottomLeft().subtract([Ge,-Ge]),O.getTopRight().add([Ge,-Ge]));if(!(isFinite(O.min.x)&&isFinite(O.min.y)&&isFinite(O.max.x)&&isFinite(O.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var bt in this._tiles){var Ut=this._tiles[bt].coords;(Ut.z!==this._tileZoom||!tt.contains(new rt(Ut.x,Ut.y)))&&(this._tiles[bt].current=!1)}if(Math.abs(p-this._tileZoom)>1)return void this._setView(s,p);for(var _n=O.min.y;_n<=O.max.y;_n++)for(var Tn=O.min.x;Tn<=O.max.x;Tn++){var Kn=new rt(Tn,_n);if(Kn.z=this._tileZoom,this._isValidTile(Kn)){var Gn=this._tiles[this._tileCoordsToKey(Kn)];Gn?Gn.current=!0:_e.push(Kn)}}if(_e.sort(function(Kt,Qr){return Kt.distanceTo($)-Qr.distanceTo($)}),0!==_e.length){this._loading||(this._loading=!0,this.fire("loading"));var Di=document.createDocumentFragment();for(Tn=0;Tn<_e.length;Tn++)this._addTile(_e[Tn],Di);this._level.el.appendChild(Di)}}}},_isValidTile:function(s){var d=this._map.options.crs;if(!d.infinite){var p=this._globalTileRange;if(!d.wrapLng&&(s.x<p.min.x||s.x>p.max.x)||!d.wrapLat&&(s.y<p.min.y||s.y>p.max.y))return!1}if(!this.options.bounds)return!0;var C=this._tileCoordsToBounds(s);return Ee(this.options.bounds).overlaps(C)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var d=this._map,p=this.getTileSize(),C=s.scaleBy(p),O=C.add(p);return[d.unproject(C,s.z),d.unproject(O,s.z)]},_tileCoordsToBounds:function(s){var d=this._tileCoordsToNwSe(s),p=new ue(d[0],d[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var d=s.split(":"),p=new rt(+d[0],+d[1]);return p.z=+d[2],p},_removeTile:function(s){var d=this._tiles[s];d&&(mn(d.el),delete this._tiles[s],this.fire("tileunload",{tile:d.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){hn(s,"leaflet-tile");var d=this.getTileSize();s.style.width=d.x+"px",s.style.height=d.y+"px",s.onselectstart=pe,s.onmousemove=pe,Ne.ielt9&&this.options.opacity<1&&Ji(s,this.options.opacity)},_addTile:function(s,d){var p=this._getTilePos(s),C=this._tileCoordsToKey(s),O=this.createTile(this._wrapCoords(s),ce(this._tileReady,this,s));this._initTile(O),this.createTile.length<2&&Je(ce(this._tileReady,this,s,null,O)),mi(O,p),this._tiles[C]={el:O,coords:s,current:!0},d.appendChild(O),this.fire("tileloadstart",{tile:O,coords:s})},_tileReady:function(s,d,p){d&&this.fire("tileerror",{error:d,tile:p,coords:s});var C=this._tileCoordsToKey(s);(p=this._tiles[C])&&(p.loaded=+new Date,this._map._fadeAnimated?(Ji(p.el,0),Ze(this._fadeFrame),this._fadeFrame=Je(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),d||(hn(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ne.ielt9||!this._map._fadeAnimated?Je(this._pruneTiles,this):setTimeout(ce(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var d=new rt(this._wrapX?Le(s.x,this._wrapX):s.x,this._wrapY?Le(s.y,this._wrapY):s.y);return d.z=s.z,d},_pxBoundsToTileRange:function(s){var d=this.getTileSize();return new ft(s.min.unscaleBy(d).floor(),s.max.unscaleBy(d).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});var H=ls.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,d){this._url=s,(d=be(this,d)).detectRetina&&Ne.retina&&d.maxZoom>0?(d.tileSize=Math.floor(d.tileSize/2),d.zoomReverse?(d.zoomOffset--,d.minZoom=Math.min(d.maxZoom,d.minZoom+1)):(d.zoomOffset++,d.maxZoom=Math.max(d.minZoom,d.maxZoom-1)),d.minZoom=Math.max(0,d.minZoom)):d.zoomReverse?d.minZoom=Math.min(d.maxZoom,d.minZoom):d.maxZoom=Math.max(d.minZoom,d.maxZoom),"string"==typeof d.subdomains&&(d.subdomains=d.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,d){return this._url===s&&void 0===d&&(d=!0),this._url=s,d||this.redraw(),this},createTile:function(s,d){var p=document.createElement("img");return zt(p,"load",ce(this._tileOnLoad,this,d,p)),zt(p,"error",ce(this._tileOnError,this,d,p)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(p.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(s),p},getTileUrl:function(s){var d={r:Ne.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-s.y;this.options.tms&&(d.y=p),d["-y"]=p}return Ye(this._url,X(d,this.options))},_tileOnLoad:function(s,d){Ne.ielt9?setTimeout(ce(s,this,null,d),0):s(null,d)},_tileOnError:function(s,d,p){var C=this.options.errorTileUrl;C&&d.getAttribute("src")!==C&&(d.src=C),s(p,d)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom;return this.options.zoomReverse&&(s=this.options.maxZoom-s),s+this.options.zoomOffset},_getSubdomain:function(s){var d=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[d]},_abortLoading:function(){var s,d;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&((d=this._tiles[s].el).onload=pe,d.onerror=pe,!d.complete)){d.src=lt;var p=this._tiles[s].coords;mn(d),delete this._tiles[s],this.fire("tileabort",{tile:d,coords:p})}},_removeTile:function(s){var d=this._tiles[s];if(d)return d.el.setAttribute("src",lt),ls.prototype._removeTile.call(this,s)},_tileReady:function(s,d,p){if(this._map&&(!p||p.getAttribute("src")!==lt))return ls.prototype._tileReady.call(this,s,d,p)}});function x(s,d){return new H(s,d)}var F=H.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,d){this._url=s;var p=X({},this.defaultWmsParams);for(var C in d)C in this.options||(p[C]=d[C]);var O=(d=be(this,d)).detectRetina&&Ne.retina?2:1,$=this.getTileSize();p.width=$.x*O,p.height=$.y*O,this.wmsParams=p},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,H.prototype.onAdd.call(this,s)},getTileUrl:function(s){var d=this._tileCoordsToNwSe(s),p=this._crs,C=ae(p.project(d[0]),p.project(d[1])),O=C.min,$=C.max,_e=(this._wmsVersion>=1.3&&this._crs===rn?[O.y,O.x,$.y,$.x]:[O.x,O.y,$.x,$.y]).join(","),Ge=H.prototype.getTileUrl.call(this,s);return Ge+xe(this.wmsParams,Ge,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+_e},setParams:function(s,d){return X(this.wmsParams,s),d||this.redraw(),this}});H.WMS=F,x.wms=function re(s,d){return new F(s,d)};var We=Li.extend({options:{padding:.1},initialize:function(s){be(this,s),e(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),hn(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,d){var p=this._map.getZoomScale(d,this._zoom),C=this._map.getSize().multiplyBy(.5+this.options.padding),O=this._map.project(this._center,d),$=C.multiplyBy(-p).add(O).subtract(this._map._getNewPixelOrigin(s,d));Ne.any3d?Fo(this._container,$,p):mi(this._container,$)},_reset:function(){for(var s in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,d=this._map.getSize(),p=this._map.containerPointToLayerPoint(d.multiplyBy(-s)).round();this._bounds=new ft(p,p.add(d.multiplyBy(1+2*s)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),mt=We.extend({options:{tolerance:0},getEvents:function(){var s=We.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){We.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");zt(s,"mousemove",this._onMouseMove,this),zt(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),zt(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){Ze(this._redrawRequest),delete this._ctx,mn(this._container),bn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var d in this._redrawBounds=null,this._layers)this._layers[d]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){We.prototype._update.call(this);var s=this._bounds,d=this._container,p=s.getSize(),C=Ne.retina?2:1;mi(d,s.min),d.width=C*p.x,d.height=C*p.y,d.style.width=p.x+"px",d.style.height=p.y+"px",Ne.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){We.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[e(s)]=s;var d=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=d),this._drawLast=d,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var d=s._order,p=d.next,C=d.prev;p?p.prev=C:this._drawLast=C,C?C.next=p:this._drawFirst=p,delete s._order,delete this._layers[e(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if("string"==typeof s.options.dashArray){var C,O,d=s.options.dashArray.split(/[, ]+/),p=[];for(O=0;O<d.length;O++){if(C=Number(d[O]),isNaN(C))return;p.push(C)}s.options._dashArray=p}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||Je(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var d=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ft,this._redrawBounds.extend(s._pxBounds.min.subtract([d,d])),this._redrawBounds.extend(s._pxBounds.max.add([d,d]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var d=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,d.x,d.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,d=this._redrawBounds;if(this._ctx.save(),d){var p=d.getSize();this._ctx.beginPath(),this._ctx.rect(d.min.x,d.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var C=this._drawFirst;C;C=C.next)s=C.layer,(!d||s._pxBounds&&s._pxBounds.intersects(d))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,d){if(this._drawing){var p,C,O,$,_e=s._parts,Ge=_e.length,tt=this._ctx;if(Ge){for(tt.beginPath(),p=0;p<Ge;p++){for(C=0,O=_e[p].length;C<O;C++)tt[C?"lineTo":"moveTo"](($=_e[p][C]).x,$.y);d&&tt.closePath()}this._fillStroke(tt,s)}}},_updateCircle:function(s){if(this._drawing&&!s._empty()){var d=s._point,p=this._ctx,C=Math.max(Math.round(s._radius),1),O=(Math.max(Math.round(s._radiusY),1)||C)/C;1!==O&&(p.save(),p.scale(1,O)),p.beginPath(),p.arc(d.x,d.y/O,C,0,2*Math.PI,!1),1!==O&&p.restore(),this._fillStroke(p,s)}},_fillStroke:function(s,d){var p=d.options;p.fill&&(s.globalAlpha=p.fillOpacity,s.fillStyle=p.fillColor||p.color,s.fill(p.fillRule||"evenodd")),p.stroke&&0!==p.weight&&(s.setLineDash&&s.setLineDash(d.options&&d.options._dashArray||[]),s.globalAlpha=p.opacity,s.lineWidth=p.weight,s.strokeStyle=p.color,s.lineCap=p.lineCap,s.lineJoin=p.lineJoin,s.stroke())},_onClick:function(s){for(var p,C,d=this._map.mouseEventToLayerPoint(s),O=this._drawFirst;O;O=O.next)(p=O.layer).options.interactive&&p._containsPoint(d)&&("click"!==s.type&&"preclick"!==s.type||!this._map._draggableMoved(p))&&(C=p);this._fireEvent(!!C&&[C],s)},_onMouseMove:function(s){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var d=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,d)}},_handleMouseOut:function(s){var d=this._hoveredLayer;d&&(En(this._container,"leaflet-interactive"),this._fireEvent([d],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,d){if(!this._mouseHoverThrottled){for(var p,C,O=this._drawFirst;O;O=O.next)(p=O.layer).options.interactive&&p._containsPoint(d)&&(C=p);C!==this._hoveredLayer&&(this._handleMouseOut(s),C&&(hn(this._container,"leaflet-interactive"),this._fireEvent([C],s,"mouseover"),this._hoveredLayer=C)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],s),this._mouseHoverThrottled=!0,setTimeout(ce(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,d,p){this._map._fireDOMEvent(d,p||d.type,s)},_bringToFront:function(s){var d=s._order;if(d){var p=d.next,C=d.prev;if(!p)return;p.prev=C,C?C.next=p:p&&(this._drawFirst=p),d.prev=this._drawLast,this._drawLast.next=d,d.next=null,this._drawLast=d,this._requestRedraw(s)}},_bringToBack:function(s){var d=s._order;if(d){var p=d.next,C=d.prev;if(!C)return;C.next=p,p?p.prev=C:C&&(this._drawLast=C),d.prev=null,d.next=this._drawFirst,this._drawFirst.prev=d,this._drawFirst=d,this._requestRedraw(s)}}});function Qt(s){return Ne.canvas?new mt(s):null}var Qn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),si={_initContainer:function(){this._container=Vt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(We.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var d=s._container=Qn("shape");hn(d,"leaflet-vml-shape "+(this.options.className||"")),d.coordsize="1 1",s._path=Qn("path"),d.appendChild(s._path),this._updateStyle(s),this._layers[e(s)]=s},_addPath:function(s){var d=s._container;this._container.appendChild(d),s.options.interactive&&s.addInteractiveTarget(d)},_removePath:function(s){var d=s._container;mn(d),s.removeInteractiveTarget(d),delete this._layers[e(s)]},_updateStyle:function(s){var d=s._stroke,p=s._fill,C=s.options,O=s._container;O.stroked=!!C.stroke,O.filled=!!C.fill,C.stroke?(d||(d=s._stroke=Qn("stroke")),O.appendChild(d),d.weight=C.weight+"px",d.color=C.color,d.opacity=C.opacity,d.dashStyle=C.dashArray?ee(C.dashArray)?C.dashArray.join(" "):C.dashArray.replace(/( *, *)/g," "):"",d.endcap=C.lineCap.replace("butt","flat"),d.joinstyle=C.lineJoin):d&&(O.removeChild(d),s._stroke=null),C.fill?(p||(p=s._fill=Qn("fill")),O.appendChild(p),p.color=C.fillColor||C.color,p.opacity=C.fillOpacity):p&&(O.removeChild(p),s._fill=null)},_updateCircle:function(s){var d=s._point.round(),p=Math.round(s._radius),C=Math.round(s._radiusY||p);this._setPath(s,s._empty()?"M0 0":"AL "+d.x+","+d.y+" "+p+","+C+" 0,23592600")},_setPath:function(s,d){s._path.v=d},_bringToFront:function(s){bi(s._container)},_bringToBack:function(s){Vi(s._container)}},xn=Ne.vml?Qn:wn,fn=We.extend({_initContainer:function(){this._container=xn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=xn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){mn(this._container),bn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){We.prototype._update.call(this);var s=this._bounds,d=s.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(d))&&(this._svgSize=d,p.setAttribute("width",d.x),p.setAttribute("height",d.y)),mi(p,s.min),p.setAttribute("viewBox",[s.min.x,s.min.y,d.x,d.y].join(" ")),this.fire("update")}},_initPath:function(s){var d=s._path=xn("path");s.options.className&&hn(d,s.options.className),s.options.interactive&&hn(d,"leaflet-interactive"),this._updateStyle(s),this._layers[e(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){mn(s._path),s.removeInteractiveTarget(s._path),delete this._layers[e(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var d=s._path,p=s.options;d&&(p.stroke?(d.setAttribute("stroke",p.color),d.setAttribute("stroke-opacity",p.opacity),d.setAttribute("stroke-width",p.weight),d.setAttribute("stroke-linecap",p.lineCap),d.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?d.setAttribute("stroke-dasharray",p.dashArray):d.removeAttribute("stroke-dasharray"),p.dashOffset?d.setAttribute("stroke-dashoffset",p.dashOffset):d.removeAttribute("stroke-dashoffset")):d.setAttribute("stroke","none"),p.fill?(d.setAttribute("fill",p.fillColor||p.color),d.setAttribute("fill-opacity",p.fillOpacity),d.setAttribute("fill-rule",p.fillRule||"evenodd")):d.setAttribute("fill","none"))},_updatePoly:function(s,d){this._setPath(s,pn(s._parts,d))},_updateCircle:function(s){var d=s._point,p=Math.max(Math.round(s._radius),1),O="a"+p+","+(Math.max(Math.round(s._radiusY),1)||p)+" 0 1,0 ",$=s._empty()?"M0 0":"M"+(d.x-p)+","+d.y+O+2*p+",0 "+O+2*-p+",0 ";this._setPath(s,$)},_setPath:function(s,d){s._path.setAttribute("d",d)},_bringToFront:function(s){bi(s._path)},_bringToBack:function(s){Vi(s._path)}});function wi(s){return Ne.svg||Ne.vml?new fn(s):null}Ne.vml&&fn.include(si),Ht.include({getRenderer:function(s){var d=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return d||(d=this._renderer=this._createRenderer()),this.hasLayer(d)||this.addLayer(d),d},_getPaneRenderer:function(s){if("overlayPane"===s||void 0===s)return!1;var d=this._paneRenderers[s];return void 0===d&&(d=this._createRenderer({pane:s}),this._paneRenderers[s]=d),d},_createRenderer:function(s){return this.options.preferCanvas&&Qt(s)||wi(s)}});var ci=Wr.extend({initialize:function(s,d){Wr.prototype.initialize.call(this,this._boundsToLatLngs(s),d)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return[(s=Ee(s)).getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});fn.create=xn,fn.pointsToPath=pn,Jo.geometryToLayer=cr,Jo.coordsToLatLng=qr,Jo.coordsToLatLngs=Fr,Jo.latLngToCoords=ss,Jo.latLngsToCoords=as,Jo.getFeature=Cr,Jo.asFeature=Lr,Ht.mergeOptions({boxZoom:!0});var Qo=Ki.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){zt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){bn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){mn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||1!==s.which&&1!==s.button)return!1;this._clearDeferredResetState(),this._resetState(),er(),tr(),this._startPoint=this._map.mouseEventToContainerPoint(s),zt(document,{contextmenu:Yn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=Vt("div","leaflet-zoom-box",this._container),hn(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var d=new ft(this._point,this._startPoint),p=d.getSize();mi(this._box,d.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(mn(this._box),En(this._container,"leaflet-crosshair")),xi(),nr(),bn(document,{contextmenu:Yn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if((1===s.which||1===s.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(ce(this._resetState,this),0);var d=new ue(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(d).fire("boxzoomend",{boxZoomBounds:d})}},_onKeyDown:function(s){27===s.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ht.addInitHook("addHandler","boxZoom",Qo),Ht.mergeOptions({doubleClickZoom:!0});var jo=Ki.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var d=this._map,p=d.getZoom(),C=d.options.zoomDelta,O=s.originalEvent.shiftKey?p-C:p+C;"center"===d.options.doubleClickZoom?d.setZoom(O):d.setZoomAround(s.containerPoint,O)}});Ht.addInitHook("addHandler","doubleClickZoom",jo),Ht.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var fo=Ki.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new yo(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}hn(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){En(this._map._container,"leaflet-grab"),En(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var d=Ee(this._map.options.maxBounds);this._offsetLimit=ae(this._map.latLngToContainerPoint(d.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(d.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var d=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(d),this._prunePositions(d)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),d=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=d.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,d){return s-(s-d)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var s=this._draggable._newPos.subtract(this._draggable._startPos),d=this._offsetLimit;s.x<d.min.x&&(s.x=this._viscousLimit(s.x,d.min.x)),s.y<d.min.y&&(s.y=this._viscousLimit(s.y,d.min.y)),s.x>d.max.x&&(s.x=this._viscousLimit(s.x,d.max.x)),s.y>d.max.y&&(s.y=this._viscousLimit(s.y,d.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,d=Math.round(s/2),p=this._initialWorldOffset,C=this._draggable._newPos.x,O=(C-d+p)%s+d-p,$=(C+d+p)%s-d-p,_e=Math.abs(O+p)<Math.abs($+p)?O:$;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=_e},_onDragEnd:function(s){var d=this._map,p=d.options,C=!p.inertia||s.noInertia||this._times.length<2;if(d.fire("dragend",s),C)d.fire("moveend");else{this._prunePositions(+new Date);var O=this._lastPos.subtract(this._positions[0]),_e=p.easeLinearity,Ge=O.multiplyBy(_e/((this._lastTime-this._times[0])/1e3)),tt=Ge.distanceTo([0,0]),bt=Math.min(p.inertiaMaxSpeed,tt),Ut=Ge.multiplyBy(bt/tt),_n=bt/(p.inertiaDeceleration*_e),Tn=Ut.multiplyBy(-_n/2).round();Tn.x||Tn.y?(Tn=d._limitOffset(Tn,d.options.maxBounds),Je(function(){d.panBy(Tn,{duration:_n,easeLinearity:_e,noMoveStart:!0,animate:!0})})):d.fire("moveend")}}});Ht.addInitHook("addHandler","dragging",fo),Ht.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Eo=Ki.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),zt(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),bn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,d=document.documentElement,p=s.scrollTop||d.scrollTop,C=s.scrollLeft||d.scrollLeft;this._map._container.focus(),window.scrollTo(C,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var C,O,d=this._panKeys={},p=this.keyCodes;for(C=0,O=p.left.length;C<O;C++)d[p.left[C]]=[-1*s,0];for(C=0,O=p.right.length;C<O;C++)d[p.right[C]]=[s,0];for(C=0,O=p.down.length;C<O;C++)d[p.down[C]]=[0,s];for(C=0,O=p.up.length;C<O;C++)d[p.up[C]]=[0,-1*s]},_setZoomDelta:function(s){var C,O,d=this._zoomKeys={},p=this.keyCodes;for(C=0,O=p.zoomIn.length;C<O;C++)d[p.zoomIn[C]]=s;for(C=0,O=p.zoomOut.length;C<O;C++)d[p.zoomOut[C]]=-s},_addHooks:function(){zt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){bn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var C,d=s.keyCode,p=this._map;if(d in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(C=this._panKeys[d],s.shiftKey&&(C=Re(C).multiplyBy(3)),p.options.maxBounds&&(C=p._limitOffset(Re(C),p.options.maxBounds)),p.options.worldCopyJump){var O=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(C)));p.panTo(O)}else p.panBy(C)}else if(d in this._zoomKeys)p.setZoom(p.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[d]);else{if(27!==d||!p._popup||!p._popup.options.closeOnEscapeKey)return;p.closePopup()}Yn(s)}}});Ht.addInitHook("addHandler","keyboard",Eo),Ht.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Bi=Ki.extend({addHooks:function(){zt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){bn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var d=_r(s),p=this._map.options.wheelDebounceTime;this._delta+=d,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var C=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(ce(this._performZoom,this),C),Yn(s)},_performZoom:function(){var s=this._map,d=s.getZoom(),p=this._map.options.zoomSnap||0;s._stop();var O=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,$=p?Math.ceil(O/p)*p:O,_e=s._limitZoom(d+(this._delta>0?$:-$))-d;this._delta=0,this._startTime=null,_e&&("center"===s.options.scrollWheelZoom?s.setZoom(d+_e):s.setZoomAround(this._lastMousePos,d+_e))}});Ht.addInitHook("addHandler","scrollWheelZoom",Bi);Ht.mergeOptions({tapHold:Ne.touchNative&&Ne.safari&&Ne.mobile,tapTolerance:15});var Ao=Ki.extend({addHooks:function(){zt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){bn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),1===s.touches.length){var d=s.touches[0];this._startPos=this._newPos=new rt(d.clientX,d.clientY),this._holdTimeout=setTimeout(ce(function(){this._cancel(),this._isTapValid()&&(zt(document,"touchend",Xt),zt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",d))},this),600),zt(document,"touchend touchcancel contextmenu",this._cancel,this),zt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){bn(document,"touchend",Xt),bn(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),bn(document,"touchend touchcancel contextmenu",this._cancel,this),bn(document,"touchmove",this._onMove,this)},_onMove:function(s){var d=s.touches[0];this._newPos=new rt(d.clientX,d.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,d){var p=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:d.screenX,screenY:d.screenY,clientX:d.clientX,clientY:d.clientY});p._simulated=!0,d.target.dispatchEvent(p)}});Ht.addInitHook("addHandler","tapHold",Ao),Ht.mergeOptions({touchZoom:Ne.touch,bounceAtZoomLimits:!0});var li=Ki.extend({addHooks:function(){hn(this._map._container,"leaflet-touch-zoom"),zt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){En(this._map._container,"leaflet-touch-zoom"),bn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var d=this._map;if(s.touches&&2===s.touches.length&&!d._animatingZoom&&!this._zooming){var p=d.mouseEventToContainerPoint(s.touches[0]),C=d.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=d.getSize()._divideBy(2),this._startLatLng=d.containerPointToLatLng(this._centerPoint),"center"!==d.options.touchZoom&&(this._pinchStartLatLng=d.containerPointToLatLng(p.add(C)._divideBy(2))),this._startDist=p.distanceTo(C),this._startZoom=d.getZoom(),this._moved=!1,this._zooming=!0,d._stop(),zt(document,"touchmove",this._onTouchMove,this),zt(document,"touchend touchcancel",this._onTouchEnd,this),Xt(s)}},_onTouchMove:function(s){if(s.touches&&2===s.touches.length&&this._zooming){var d=this._map,p=d.mouseEventToContainerPoint(s.touches[0]),C=d.mouseEventToContainerPoint(s.touches[1]),O=p.distanceTo(C)/this._startDist;if(this._zoom=d.getScaleZoom(O,this._startZoom),!d.options.bounceAtZoomLimits&&(this._zoom<d.getMinZoom()&&O<1||this._zoom>d.getMaxZoom()&&O>1)&&(this._zoom=d._limitZoom(this._zoom)),"center"===d.options.touchZoom){if(this._center=this._startLatLng,1===O)return}else{var $=p._add(C)._divideBy(2)._subtract(this._centerPoint);if(1===O&&0===$.x&&0===$.y)return;this._center=d.unproject(d.project(this._pinchStartLatLng,this._zoom).subtract($),this._zoom)}this._moved||(d._moveStart(!0,!1),this._moved=!0),Ze(this._animRequest);var _e=ce(d._move,d,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Je(_e,this,!0),Xt(s)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,Ze(this._animRequest),bn(document,"touchmove",this._onTouchMove,this),bn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Ht.addInitHook("addHandler","touchZoom",li),Ht.BoxZoom=Qo,Ht.DoubleClickZoom=jo,Ht.Drag=fo,Ht.Keyboard=Eo,Ht.ScrollWheelZoom=Bi,Ht.TapHold=Ao,Ht.TouchZoom=li,M.Bounds=ft,M.Browser=Ne,M.CRS=Ve,M.Canvas=mt,M.Circle=Oi,M.CircleMarker=Yr,M.Class=He,M.Control=Qi,M.DivIcon=_a,M.DivOverlay=Ho,M.DomEvent=lo,M.DomUtil=yi,M.Draggable=yo,M.Evented=Lt,M.FeatureGroup=br,M.GeoJSON=Jo,M.GridLayer=ls,M.Handler=Ki,M.Icon=Pr,M.ImageOverlay=Br,M.LatLng=De,M.LatLngBounds=ue,M.Layer=Li,M.LayerGroup=Po,M.LineUtil=R,M.Map=Ht,M.Marker=rs,M.Mixin=Rn,M.Path=ho,M.Point=rt,M.PolyUtil=Or,M.Polygon=Wr,M.Polyline=hi,M.Popup=Jr,M.PosAnimation=Bo,M.Projection=z,M.Rectangle=ci,M.Renderer=We,M.SVG=fn,M.SVGOverlay=Hs,M.TileLayer=H,M.Tooltip=cs,M.Transformation=ut,M.Util=it,M.VideoOverlay=ga,M.bind=ce,M.bounds=ae,M.canvas=Qt,M.circle=function ms(s,d,p){return new Oi(s,d,p)},M.circleMarker=function gs(s,d){return new Yr(s,d)},M.control=uo,M.divIcon=function vs(s){return new _a(s)},M.extend=X,M.featureGroup=function(s,d){return new br(s,d)},M.geoJSON=lr,M.geoJson=Is,M.gridLayer=function b(s){return new ls(s)},M.icon=function Xs(s){return new Pr(s)},M.imageOverlay=function(s,d,p){return new Br(s,d,p)},M.latLng=Me,M.latLngBounds=Ee,M.layerGroup=function(s,d){return new Po(s,d)},M.map=function vr(s,d){return new Ht(s,d)},M.marker=function kr(s,d){return new rs(s,d)},M.point=Re,M.polygon=function Us(s,d){return new Wr(s,d)},M.polyline=function _s(s,d){return new hi(s,d)},M.popup=function(s,d){return new Jr(s,d)},M.rectangle=function Ei(s,d){return new ci(s,d)},M.setOptions=be,M.stamp=e,M.svg=wi,M.svgOverlay=function Tc(s,d,p){return new Hs(s,d,p)},M.tileLayer=x,M.tooltip=function(s,d){return new cs(s,d)},M.transformation=sn,M.version="1.9.4",M.videoOverlay=function ma(s,d,p){return new ga(s,d,p)};var So=window.L;M.noConflict=function(){return window.L=So,this},window.L=M}(ke)},8071:(Pt,ke,M)=>{"use strict";M.d(ke,{X:()=>X});var g=M(9877);class X extends g.x{constructor(ce){super(),this._value=ce}get value(){return this.getValue()}_subscribe(ce){const q=super._subscribe(ce);return!q.closed&&ce.next(this._value),q}getValue(){const{hasError:ce,thrownError:q,_value:e}=this;if(ce)throw q;return this._throwIfClosed(),e}next(ce){super.next(this._value=ce)}}},2235:(Pt,ke,M)=>{"use strict";M.d(ke,{y:()=>Le});var g=M(6343),X=M(6482),Y=M(4373),ce=M(2476),q=M(5445),e=M(2602),Q=M(575);let Le=(()=>{class ne{constructor(xe){xe&&(this._subscribe=xe)}lift(xe){const Ue=new ne;return Ue.source=this,Ue.operator=xe,Ue}subscribe(xe,Ue,Ye){const ee=function Ae(ne){return ne&&ne instanceof g.Lv||function me(ne){return ne&&(0,e.m)(ne.next)&&(0,e.m)(ne.error)&&(0,e.m)(ne.complete)}(ne)&&(0,X.Nn)(ne)}(xe)?xe:new g.Hp(xe,Ue,Ye);return(0,Q.x)(()=>{const{operator:Oe,source:lt}=this;ee.add(Oe?Oe.call(ee,lt):lt?this._subscribe(ee):this._trySubscribe(ee))}),ee}_trySubscribe(xe){try{return this._subscribe(xe)}catch(Ue){xe.error(Ue)}}forEach(xe,Ue){return new(Ue=pe(Ue))((Ye,ee)=>{const Oe=new g.Hp({next:lt=>{try{xe(lt)}catch(gt){ee(gt),Oe.unsubscribe()}},error:ee,complete:Ye});this.subscribe(Oe)})}_subscribe(xe){var Ue;return null===(Ue=this.source)||void 0===Ue?void 0:Ue.subscribe(xe)}[Y.L](){return this}pipe(...xe){return(0,ce.U)(xe)(this)}toPromise(xe){return new(xe=pe(xe))((Ue,Ye)=>{let ee;this.subscribe(Oe=>ee=Oe,Oe=>Ye(Oe),()=>Ue(ee))})}}return ne.create=be=>new ne(be),ne})();function pe(ne){var be;return null!==(be=ne??q.config.Promise)&&void 0!==be?be:Promise}},5400:(Pt,ke,M)=>{"use strict";M.d(ke,{t:()=>Y});var g=M(9877),X=M(6926);class Y extends g.x{constructor(q=1/0,e=1/0,Q=X.l){super(),this._bufferSize=q,this._windowTime=e,this._timestampProvider=Q,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,q),this._windowTime=Math.max(1,e)}next(q){const{isStopped:e,_buffer:Q,_infiniteTimeWindow:Le,_timestampProvider:pe,_windowTime:me}=this;e||(Q.push(q),!Le&&Q.push(pe.now()+me)),this._trimBuffer(),super.next(q)}_subscribe(q){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(q),{_infiniteTimeWindow:Q,_buffer:Le}=this,pe=Le.slice();for(let me=0;me<pe.length&&!q.closed;me+=Q?1:2)q.next(pe[me]);return this._checkFinalizedStatuses(q),e}_trimBuffer(){const{_bufferSize:q,_timestampProvider:e,_buffer:Q,_infiniteTimeWindow:Le}=this,pe=(Le?1:2)*q;if(q<1/0&&pe<Q.length&&Q.splice(0,Q.length-pe),!Le){const me=e.now();let Ae=0;for(let ne=1;ne<Q.length&&Q[ne]<=me;ne+=2)Ae=ne;Ae&&Q.splice(0,Ae+1)}}}},9877:(Pt,ke,M)=>{"use strict";M.d(ke,{x:()=>Q});var g=M(2235),X=M(6482);const ce=(0,M(1566).d)(pe=>function(){pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var q=M(5559),e=M(575);let Q=(()=>{class pe extends g.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Ae){const ne=new Le(this,this);return ne.operator=Ae,ne}_throwIfClosed(){if(this.closed)throw new ce}next(Ae){(0,e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ne of this.currentObservers)ne.next(Ae)}})}error(Ae){(0,e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Ae;const{observers:ne}=this;for(;ne.length;)ne.shift().error(Ae)}})}complete(){(0,e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Ae}=this;for(;Ae.length;)Ae.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Ae;return(null===(Ae=this.observers)||void 0===Ae?void 0:Ae.length)>0}_trySubscribe(Ae){return this._throwIfClosed(),super._trySubscribe(Ae)}_subscribe(Ae){return this._throwIfClosed(),this._checkFinalizedStatuses(Ae),this._innerSubscribe(Ae)}_innerSubscribe(Ae){const{hasError:ne,isStopped:be,observers:xe}=this;return ne||be?X.Lc:(this.currentObservers=null,xe.push(Ae),new X.w0(()=>{this.currentObservers=null,(0,q.P)(xe,Ae)}))}_checkFinalizedStatuses(Ae){const{hasError:ne,thrownError:be,isStopped:xe}=this;ne?Ae.error(be):xe&&Ae.complete()}asObservable(){const Ae=new g.y;return Ae.source=this,Ae}}return pe.create=(me,Ae)=>new Le(me,Ae),pe})();class Le extends Q{constructor(me,Ae){super(),this.destination=me,this.source=Ae}next(me){var Ae,ne;null===(ne=null===(Ae=this.destination)||void 0===Ae?void 0:Ae.next)||void 0===ne||ne.call(Ae,me)}error(me){var Ae,ne;null===(ne=null===(Ae=this.destination)||void 0===Ae?void 0:Ae.error)||void 0===ne||ne.call(Ae,me)}complete(){var me,Ae;null===(Ae=null===(me=this.destination)||void 0===me?void 0:me.complete)||void 0===Ae||Ae.call(me)}_subscribe(me){var Ae,ne;return null!==(ne=null===(Ae=this.source)||void 0===Ae?void 0:Ae.subscribe(me))&&void 0!==ne?ne:X.Lc}}},6343:(Pt,ke,M)=>{"use strict";M.d(ke,{Hp:()=>Ye,Lv:()=>ne});var g=M(2602),X=M(6482),Y=M(5445),ce=M(6929),q=M(2707);const e=pe("C",void 0,void 0);function pe(we,ge,le){return{kind:we,value:ge,error:le}}var me=M(8411),Ae=M(575);class ne extends X.w0{constructor(ge){super(),this.isStopped=!1,ge?(this.destination=ge,(0,X.Nn)(ge)&&ge.add(this)):this.destination=gt}static create(ge,le,ct){return new Ye(ge,le,ct)}next(ge){this.isStopped?lt(function Le(we){return pe("N",we,void 0)}(ge),this):this._next(ge)}error(ge){this.isStopped?lt(function Q(we){return pe("E",void 0,we)}(ge),this):(this.isStopped=!0,this._error(ge))}complete(){this.isStopped?lt(e,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ge){this.destination.next(ge)}_error(ge){try{this.destination.error(ge)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const be=Function.prototype.bind;function xe(we,ge){return be.call(we,ge)}class Ue{constructor(ge){this.partialObserver=ge}next(ge){const{partialObserver:le}=this;if(le.next)try{le.next(ge)}catch(ct){ee(ct)}}error(ge){const{partialObserver:le}=this;if(le.error)try{le.error(ge)}catch(ct){ee(ct)}else ee(ge)}complete(){const{partialObserver:ge}=this;if(ge.complete)try{ge.complete()}catch(le){ee(le)}}}class Ye extends ne{constructor(ge,le,ct){let Je;if(super(),(0,g.m)(ge)||!ge)Je={next:ge??void 0,error:le??void 0,complete:ct??void 0};else{let Ze;this&&Y.config.useDeprecatedNextContext?(Ze=Object.create(ge),Ze.unsubscribe=()=>this.unsubscribe(),Je={next:ge.next&&xe(ge.next,Ze),error:ge.error&&xe(ge.error,Ze),complete:ge.complete&&xe(ge.complete,Ze)}):Je=ge}this.destination=new Ue(Je)}}function ee(we){Y.config.useDeprecatedSynchronousErrorHandling?(0,Ae.O)(we):(0,ce.h)(we)}function lt(we,ge){const{onStoppedNotification:le}=Y.config;le&&me.z.setTimeout(()=>le(we,ge))}const gt={closed:!0,next:q.Z,error:function Oe(we){throw we},complete:q.Z}},6482:(Pt,ke,M)=>{"use strict";M.d(ke,{Lc:()=>e,w0:()=>q,Nn:()=>Q});var g=M(2602);const Y=(0,M(1566).d)(pe=>function(Ae){pe(this),this.message=Ae?`${Ae.length} errors occurred during unsubscription:\n${Ae.map((ne,be)=>`${be+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Ae});var ce=M(5559);class q{constructor(me){this.initialTeardown=me,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let me;if(!this.closed){this.closed=!0;const{_parentage:Ae}=this;if(Ae)if(this._parentage=null,Array.isArray(Ae))for(const xe of Ae)xe.remove(this);else Ae.remove(this);const{initialTeardown:ne}=this;if((0,g.m)(ne))try{ne()}catch(xe){me=xe instanceof Y?xe.errors:[xe]}const{_finalizers:be}=this;if(be){this._finalizers=null;for(const xe of be)try{Le(xe)}catch(Ue){me=me??[],Ue instanceof Y?me=[...me,...Ue.errors]:me.push(Ue)}}if(me)throw new Y(me)}}add(me){var Ae;if(me&&me!==this)if(this.closed)Le(me);else{if(me instanceof q){if(me.closed||me._hasParent(this))return;me._addParent(this)}(this._finalizers=null!==(Ae=this._finalizers)&&void 0!==Ae?Ae:[]).push(me)}}_hasParent(me){const{_parentage:Ae}=this;return Ae===me||Array.isArray(Ae)&&Ae.includes(me)}_addParent(me){const{_parentage:Ae}=this;this._parentage=Array.isArray(Ae)?(Ae.push(me),Ae):Ae?[Ae,me]:me}_removeParent(me){const{_parentage:Ae}=this;Ae===me?this._parentage=null:Array.isArray(Ae)&&(0,ce.P)(Ae,me)}remove(me){const{_finalizers:Ae}=this;Ae&&(0,ce.P)(Ae,me),me instanceof q&&me._removeParent(this)}}q.EMPTY=(()=>{const pe=new q;return pe.closed=!0,pe})();const e=q.EMPTY;function Q(pe){return pe instanceof q||pe&&"closed"in pe&&(0,g.m)(pe.remove)&&(0,g.m)(pe.add)&&(0,g.m)(pe.unsubscribe)}function Le(pe){(0,g.m)(pe)?pe():pe.unsubscribe()}},5445:(Pt,ke,M)=>{"use strict";M.d(ke,{config:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3839:(Pt,ke,M)=>{"use strict";M.d(ke,{a:()=>me});var g=M(2235),X=M(7346),Y=M(4683),ce=M(204),q=M(7825),e=M(6190),Q=M(6118),Le=M(5678),pe=M(9701);function me(...be){const xe=(0,e.yG)(be),Ue=(0,e.jO)(be),{args:Ye,keys:ee}=(0,X.D)(be);if(0===Ye.length)return(0,Y.D)([],xe);const Oe=new g.y(function Ae(be,xe,Ue=ce.y){return Ye=>{ne(xe,()=>{const{length:ee}=be,Oe=new Array(ee);let lt=ee,gt=ee;for(let we=0;we<ee;we++)ne(xe,()=>{const ge=(0,Y.D)(be[we],xe);let le=!1;ge.subscribe((0,Le.x)(Ye,ct=>{Oe[we]=ct,le||(le=!0,gt--),gt||Ye.next(Ue(Oe.slice()))},()=>{--lt||Ye.complete()}))},Ye)},Ye)}}(Ye,xe,ee?lt=>(0,Q.n)(ee,lt):ce.y));return Ue?Oe.pipe((0,q.Z)(Ue)):Oe}function ne(be,xe,Ue){be?(0,pe.f)(Ue,be,xe):xe()}},5823:(Pt,ke,M)=>{"use strict";M.d(ke,{z:()=>q});var g=M(7047),Y=M(6190),ce=M(4683);function q(...e){return function X(){return(0,g.J)(1)}()((0,ce.D)(e,(0,Y.yG)(e)))}},6290:(Pt,ke,M)=>{"use strict";M.d(ke,{E:()=>X});const X=new(M(2235).y)(q=>q.complete())},4300:(Pt,ke,M)=>{"use strict";M.d(ke,{D:()=>Le});var g=M(2235),X=M(7346),Y=M(384),ce=M(6190),q=M(5678),e=M(7825),Q=M(6118);function Le(...pe){const me=(0,ce.jO)(pe),{args:Ae,keys:ne}=(0,X.D)(pe),be=new g.y(xe=>{const{length:Ue}=Ae;if(!Ue)return void xe.complete();const Ye=new Array(Ue);let ee=Ue,Oe=Ue;for(let lt=0;lt<Ue;lt++){let gt=!1;(0,Y.Xf)(Ae[lt]).subscribe((0,q.x)(xe,we=>{gt||(gt=!0,Oe--),Ye[lt]=we},()=>ee--,void 0,()=>{(!ee||!gt)&&(Oe||xe.next(ne?(0,Q.n)(ne,Ye):Ye),xe.complete())}))}});return me?be.pipe((0,e.Z)(me)):be}},4683:(Pt,ke,M)=>{"use strict";M.d(ke,{D:()=>ct});var g=M(384),X=M(9701),Y=M(4114),ce=M(5678);function q(Je,Ze=0){return(0,Y.e)((it,He)=>{it.subscribe((0,ce.x)(He,pt=>(0,X.f)(He,Je,()=>He.next(pt),Ze),()=>(0,X.f)(He,Je,()=>He.complete(),Ze),pt=>(0,X.f)(He,Je,()=>He.error(pt),Ze)))})}function e(Je,Ze=0){return(0,Y.e)((it,He)=>{He.add(Je.schedule(()=>it.subscribe(He),Ze))})}var pe=M(2235),Ae=M(6691),ne=M(2602);function xe(Je,Ze){if(!Je)throw new Error("Iterable cannot be null");return new pe.y(it=>{(0,X.f)(it,Ze,()=>{const He=Je[Symbol.asyncIterator]();(0,X.f)(it,Ze,()=>{He.next().then(pt=>{pt.done?it.complete():it.next(pt.value)})},0,!0)})})}var Ue=M(7808),Ye=M(3972),ee=M(1287),Oe=M(9449),lt=M(5235),gt=M(2614),we=M(401);function ct(Je,Ze){return Ze?function le(Je,Ze){if(null!=Je){if((0,Ue.c)(Je))return function Q(Je,Ze){return(0,g.Xf)(Je).pipe(e(Ze),q(Ze))}(Je,Ze);if((0,ee.z)(Je))return function me(Je,Ze){return new pe.y(it=>{let He=0;return Ze.schedule(function(){He===Je.length?it.complete():(it.next(Je[He++]),it.closed||this.schedule())})})}(Je,Ze);if((0,Ye.t)(Je))return function Le(Je,Ze){return(0,g.Xf)(Je).pipe(e(Ze),q(Ze))}(Je,Ze);if((0,lt.D)(Je))return xe(Je,Ze);if((0,Oe.T)(Je))return function be(Je,Ze){return new pe.y(it=>{let He;return(0,X.f)(it,Ze,()=>{He=Je[Ae.h](),(0,X.f)(it,Ze,()=>{let pt,Qe;try{({value:pt,done:Qe}=He.next())}catch(Lt){return void it.error(Lt)}Qe?it.complete():it.next(pt)},0,!0)}),()=>(0,ne.m)(He?.return)&&He.return()})}(Je,Ze);if((0,we.L)(Je))return function ge(Je,Ze){return xe((0,we.Q)(Je),Ze)}(Je,Ze)}throw(0,gt.z)(Je)}(Je,Ze):(0,g.Xf)(Je)}},384:(Pt,ke,M)=>{"use strict";M.d(ke,{Xf:()=>be});var g=M(2321),X=M(1287),Y=M(3972),ce=M(2235),q=M(7808),e=M(5235),Q=M(2614),Le=M(9449),pe=M(401),me=M(2602),Ae=M(6929),ne=M(4373);function be(we){if(we instanceof ce.y)return we;if(null!=we){if((0,q.c)(we))return function xe(we){return new ce.y(ge=>{const le=we[ne.L]();if((0,me.m)(le.subscribe))return le.subscribe(ge);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(we);if((0,X.z)(we))return function Ue(we){return new ce.y(ge=>{for(let le=0;le<we.length&&!ge.closed;le++)ge.next(we[le]);ge.complete()})}(we);if((0,Y.t)(we))return function Ye(we){return new ce.y(ge=>{we.then(le=>{ge.closed||(ge.next(le),ge.complete())},le=>ge.error(le)).then(null,Ae.h)})}(we);if((0,e.D)(we))return Oe(we);if((0,Le.T)(we))return function ee(we){return new ce.y(ge=>{for(const le of we)if(ge.next(le),ge.closed)return;ge.complete()})}(we);if((0,pe.L)(we))return function lt(we){return Oe((0,pe.Q)(we))}(we)}throw(0,Q.z)(we)}function Oe(we){return new ce.y(ge=>{(function gt(we,ge){var le,ct,Je,Ze;return(0,g.mG)(this,void 0,void 0,function*(){try{for(le=(0,g.KL)(we);!(ct=yield le.next()).done;)if(ge.next(ct.value),ge.closed)return}catch(it){Je={error:it}}finally{try{ct&&!ct.done&&(Ze=le.return)&&(yield Ze.call(le))}finally{if(Je)throw Je.error}}ge.complete()})})(we,ge).catch(le=>ge.error(le))})}},7835:(Pt,ke,M)=>{"use strict";M.d(ke,{T:()=>e});var g=M(7047),X=M(384),Y=M(6290),ce=M(6190),q=M(4683);function e(...Q){const Le=(0,ce.yG)(Q),pe=(0,ce._6)(Q,1/0),me=Q;return me.length?1===me.length?(0,X.Xf)(me[0]):(0,g.J)(pe)((0,q.D)(me,Le)):Y.E}},4980:(Pt,ke,M)=>{"use strict";M.d(ke,{of:()=>Y});var g=M(6190),X=M(4683);function Y(...ce){const q=(0,g.yG)(ce);return(0,X.D)(ce,q)}},3252:(Pt,ke,M)=>{"use strict";M.d(ke,{_:()=>Y});var g=M(2235),X=M(2602);function Y(ce,q){const e=(0,X.m)(ce)?ce:()=>ce,Q=Le=>Le.error(e());return new g.y(q?Le=>q.schedule(Q,0,Le):Q)}},5678:(Pt,ke,M)=>{"use strict";M.d(ke,{x:()=>X});var g=M(6343);function X(ce,q,e,Q,Le){return new Y(ce,q,e,Q,Le)}class Y extends g.Lv{constructor(q,e,Q,Le,pe,me){super(q),this.onFinalize=pe,this.shouldUnsubscribe=me,this._next=e?function(Ae){try{e(Ae)}catch(ne){q.error(ne)}}:super._next,this._error=Le?function(Ae){try{Le(Ae)}catch(ne){q.error(ne)}finally{this.unsubscribe()}}:super._error,this._complete=Q?function(){try{Q()}catch(Ae){q.error(Ae)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var q;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(q=this.onFinalize)||void 0===q||q.call(this))}}}},2389:(Pt,ke,M)=>{"use strict";M.d(ke,{K:()=>ce});var g=M(384),X=M(5678),Y=M(4114);function ce(q){return(0,Y.e)((e,Q)=>{let me,Le=null,pe=!1;Le=e.subscribe((0,X.x)(Q,void 0,void 0,Ae=>{me=(0,g.Xf)(q(Ae,ce(q)(e))),Le?(Le.unsubscribe(),Le=null,me.subscribe(Q)):pe=!0})),pe&&(Le.unsubscribe(),Le=null,me.subscribe(Q))})}},5616:(Pt,ke,M)=>{"use strict";M.d(ke,{b:()=>Y});var g=M(9912),X=M(2602);function Y(ce,q){return(0,X.m)(q)?(0,g.z)(ce,q,1):(0,g.z)(ce,1)}},655:(Pt,ke,M)=>{"use strict";M.d(ke,{b:()=>ce});var g=M(1826),X=M(4114),Y=M(5678);function ce(q,e=g.z){return(0,X.e)((Q,Le)=>{let pe=null,me=null,Ae=null;const ne=()=>{if(pe){pe.unsubscribe(),pe=null;const xe=me;me=null,Le.next(xe)}};function be(){const xe=Ae+q,Ue=e.now();if(Ue<xe)return pe=this.schedule(void 0,xe-Ue),void Le.add(pe);ne()}Q.subscribe((0,Y.x)(Le,xe=>{me=xe,Ae=e.now(),pe||(pe=e.schedule(be,q),Le.add(pe))},()=>{ne(),Le.complete()},void 0,()=>{me=pe=null}))})}},728:(Pt,ke,M)=>{"use strict";M.d(ke,{d:()=>Y});var g=M(4114),X=M(5678);function Y(ce){return(0,g.e)((q,e)=>{let Q=!1;q.subscribe((0,X.x)(e,Le=>{Q=!0,e.next(Le)},()=>{Q||e.next(ce),e.complete()}))})}},3317:(Pt,ke,M)=>{"use strict";M.d(ke,{x:()=>ce});var g=M(204),X=M(4114),Y=M(5678);function ce(e,Q=g.y){return e=e??q,(0,X.e)((Le,pe)=>{let me,Ae=!0;Le.subscribe((0,Y.x)(pe,ne=>{const be=Q(ne);(Ae||!e(me,be))&&(Ae=!1,me=be,pe.next(ne))}))})}function q(e,Q){return e===Q}},4520:(Pt,ke,M)=>{"use strict";M.d(ke,{h:()=>Y});var g=M(4114),X=M(5678);function Y(ce,q){return(0,g.e)((e,Q)=>{let Le=0;e.subscribe((0,X.x)(Q,pe=>ce.call(q,pe,Le++)&&Q.next(pe)))})}},7474:(Pt,ke,M)=>{"use strict";M.d(ke,{x:()=>X});var g=M(4114);function X(Y){return(0,g.e)((ce,q)=>{try{ce.subscribe(q)}finally{q.add(Y)}})}},5267:(Pt,ke,M)=>{"use strict";M.d(ke,{P:()=>Q});var g=M(1967),X=M(4520),Y=M(1527),ce=M(728),q=M(3614),e=M(204);function Q(Le,pe){const me=arguments.length>=2;return Ae=>Ae.pipe(Le?(0,X.h)((ne,be)=>Le(ne,be,Ae)):e.y,(0,Y.q)(1),me?(0,ce.d)(pe):(0,q.T)(()=>new g.K))}},9736:(Pt,ke,M)=>{"use strict";M.d(ke,{U:()=>Y});var g=M(4114),X=M(5678);function Y(ce,q){return(0,g.e)((e,Q)=>{let Le=0;e.subscribe((0,X.x)(Q,pe=>{Q.next(ce.call(q,pe,Le++))}))})}},8037:(Pt,ke,M)=>{"use strict";M.d(ke,{h:()=>X});var g=M(9736);function X(Y){return(0,g.U)(()=>Y)}},7047:(Pt,ke,M)=>{"use strict";M.d(ke,{J:()=>Y});var g=M(9912),X=M(204);function Y(ce=1/0){return(0,g.z)(X.y,ce)}},9912:(Pt,ke,M)=>{"use strict";M.d(ke,{z:()=>Le});var g=M(9736),X=M(384),Y=M(4114),ce=M(9701),q=M(5678),Q=M(2602);function Le(pe,me,Ae=1/0){return(0,Q.m)(me)?Le((ne,be)=>(0,g.U)((xe,Ue)=>me(ne,xe,be,Ue))((0,X.Xf)(pe(ne,be))),Ae):("number"==typeof me&&(Ae=me),(0,Y.e)((ne,be)=>function e(pe,me,Ae,ne,be,xe,Ue,Ye){const ee=[];let Oe=0,lt=0,gt=!1;const we=()=>{gt&&!ee.length&&!Oe&&me.complete()},ge=ct=>Oe<ne?le(ct):ee.push(ct),le=ct=>{xe&&me.next(ct),Oe++;let Je=!1;(0,X.Xf)(Ae(ct,lt++)).subscribe((0,q.x)(me,Ze=>{be?.(Ze),xe?ge(Ze):me.next(Ze)},()=>{Je=!0},void 0,()=>{if(Je)try{for(Oe--;ee.length&&Oe<ne;){const Ze=ee.shift();Ue?(0,ce.f)(me,Ue,()=>le(Ze)):le(Ze)}we()}catch(Ze){me.error(Ze)}}))};return pe.subscribe((0,q.x)(me,ge,()=>{gt=!0,we()})),()=>{Ye?.()}}(ne,be,pe,Ae)))}},5584:(Pt,ke,M)=>{"use strict";M.d(ke,{B:()=>q});var g=M(384),X=M(9877),Y=M(6343),ce=M(4114);function q(Q={}){const{connector:Le=(()=>new X.x),resetOnError:pe=!0,resetOnComplete:me=!0,resetOnRefCountZero:Ae=!0}=Q;return ne=>{let be,xe,Ue,Ye=0,ee=!1,Oe=!1;const lt=()=>{xe?.unsubscribe(),xe=void 0},gt=()=>{lt(),be=Ue=void 0,ee=Oe=!1},we=()=>{const ge=be;gt(),ge?.unsubscribe()};return(0,ce.e)((ge,le)=>{Ye++,!Oe&&!ee&&lt();const ct=Ue=Ue??Le();le.add(()=>{Ye--,0===Ye&&!Oe&&!ee&&(xe=e(we,Ae))}),ct.subscribe(le),!be&&Ye>0&&(be=new Y.Hp({next:Je=>ct.next(Je),error:Je=>{Oe=!0,lt(),xe=e(gt,pe,Je),ct.error(Je)},complete:()=>{ee=!0,lt(),xe=e(gt,me),ct.complete()}}),(0,g.Xf)(ge).subscribe(be))})(ne)}}function e(Q,Le,...pe){if(!0===Le)return void Q();if(!1===Le)return;const me=new Y.Hp({next:()=>{me.unsubscribe(),Q()}});return Le(...pe).subscribe(me)}},5357:(Pt,ke,M)=>{"use strict";M.d(ke,{T:()=>X});var g=M(4520);function X(Y){return(0,g.h)((ce,q)=>Y<=q)}},5043:(Pt,ke,M)=>{"use strict";M.d(ke,{O:()=>ce});var g=M(5823),X=M(6190),Y=M(4114);function ce(...q){const e=(0,X.yG)(q);return(0,Y.e)((Q,Le)=>{(e?(0,g.z)(q,Q,e):(0,g.z)(q,Q)).subscribe(Le)})}},1891:(Pt,ke,M)=>{"use strict";M.d(ke,{w:()=>ce});var g=M(384),X=M(4114),Y=M(5678);function ce(q,e){return(0,X.e)((Q,Le)=>{let pe=null,me=0,Ae=!1;const ne=()=>Ae&&!pe&&Le.complete();Q.subscribe((0,Y.x)(Le,be=>{pe?.unsubscribe();let xe=0;const Ue=me++;(0,g.Xf)(q(be,Ue)).subscribe(pe=(0,Y.x)(Le,Ye=>Le.next(e?e(be,Ye,Ue,xe++):Ye),()=>{pe=null,ne()}))},()=>{Ae=!0,ne()}))})}},1527:(Pt,ke,M)=>{"use strict";M.d(ke,{q:()=>ce});var g=M(6290),X=M(4114),Y=M(5678);function ce(q){return q<=0?()=>g.E:(0,X.e)((e,Q)=>{let Le=0;e.subscribe((0,Y.x)(Q,pe=>{++Le<=q&&(Q.next(pe),q<=Le&&Q.complete())}))})}},274:(Pt,ke,M)=>{"use strict";M.d(ke,{R:()=>q});var g=M(4114),X=M(5678),Y=M(384),ce=M(2707);function q(e){return(0,g.e)((Q,Le)=>{(0,Y.Xf)(e).subscribe((0,X.x)(Le,()=>Le.complete(),ce.Z)),!Le.closed&&Q.subscribe(Le)})}},3738:(Pt,ke,M)=>{"use strict";M.d(ke,{b:()=>q});var g=M(2602),X=M(4114),Y=M(5678),ce=M(204);function q(e,Q,Le){const pe=(0,g.m)(e)||Q||Le?{next:e,error:Q,complete:Le}:e;return pe?(0,X.e)((me,Ae)=>{var ne;null===(ne=pe.subscribe)||void 0===ne||ne.call(pe);let be=!0;me.subscribe((0,Y.x)(Ae,xe=>{var Ue;null===(Ue=pe.next)||void 0===Ue||Ue.call(pe,xe),Ae.next(xe)},()=>{var xe;be=!1,null===(xe=pe.complete)||void 0===xe||xe.call(pe),Ae.complete()},xe=>{var Ue;be=!1,null===(Ue=pe.error)||void 0===Ue||Ue.call(pe,xe),Ae.error(xe)},()=>{var xe,Ue;be&&(null===(xe=pe.unsubscribe)||void 0===xe||xe.call(pe)),null===(Ue=pe.finalize)||void 0===Ue||Ue.call(pe)}))}):ce.y}},3614:(Pt,ke,M)=>{"use strict";M.d(ke,{T:()=>ce});var g=M(1967),X=M(4114),Y=M(5678);function ce(e=q){return(0,X.e)((Q,Le)=>{let pe=!1;Q.subscribe((0,Y.x)(Le,me=>{pe=!0,Le.next(me)},()=>pe?Le.complete():Le.error(e())))})}function q(){return new g.K}},1826:(Pt,ke,M)=>{"use strict";M.d(ke,{P:()=>me,z:()=>pe});var g=M(6482);class X extends g.w0{constructor(ne,be){super()}schedule(ne,be=0){return this}}const Y={setInterval(Ae,ne,...be){const{delegate:xe}=Y;return xe?.setInterval?xe.setInterval(Ae,ne,...be):setInterval(Ae,ne,...be)},clearInterval(Ae){const{delegate:ne}=Y;return(ne?.clearInterval||clearInterval)(Ae)},delegate:void 0};var ce=M(5559),e=M(6926);class Q{constructor(ne,be=Q.now){this.schedulerActionCtor=ne,this.now=be}schedule(ne,be=0,xe){return new this.schedulerActionCtor(this,ne).schedule(xe,be)}}Q.now=e.l.now;const pe=new class Le extends Q{constructor(ne,be=Q.now){super(ne,be),this.actions=[],this._active=!1}flush(ne){const{actions:be}=this;if(this._active)return void be.push(ne);let xe;this._active=!0;do{if(xe=ne.execute(ne.state,ne.delay))break}while(ne=be.shift());if(this._active=!1,xe){for(;ne=be.shift();)ne.unsubscribe();throw xe}}}(class q extends X{constructor(ne,be){super(ne,be),this.scheduler=ne,this.work=be,this.pending=!1}schedule(ne,be=0){var xe;if(this.closed)return this;this.state=ne;const Ue=this.id,Ye=this.scheduler;return null!=Ue&&(this.id=this.recycleAsyncId(Ye,Ue,be)),this.pending=!0,this.delay=be,this.id=null!==(xe=this.id)&&void 0!==xe?xe:this.requestAsyncId(Ye,this.id,be),this}requestAsyncId(ne,be,xe=0){return Y.setInterval(ne.flush.bind(ne,this),xe)}recycleAsyncId(ne,be,xe=0){if(null!=xe&&this.delay===xe&&!1===this.pending)return be;null!=be&&Y.clearInterval(be)}execute(ne,be){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const xe=this._execute(ne,be);if(xe)return xe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ne,be){let Ue,xe=!1;try{this.work(ne)}catch(Ye){xe=!0,Ue=Ye||new Error("Scheduled action threw falsy error")}if(xe)return this.unsubscribe(),Ue}unsubscribe(){if(!this.closed){const{id:ne,scheduler:be}=this,{actions:xe}=be;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ce.P)(xe,this),null!=ne&&(this.id=this.recycleAsyncId(be,ne,null)),this.delay=null,super.unsubscribe()}}}),me=pe},6926:(Pt,ke,M)=>{"use strict";M.d(ke,{l:()=>g});const g={now:()=>(g.delegate||Date).now(),delegate:void 0}},8411:(Pt,ke,M)=>{"use strict";M.d(ke,{z:()=>g});const g={setTimeout(X,Y,...ce){const{delegate:q}=g;return q?.setTimeout?q.setTimeout(X,Y,...ce):setTimeout(X,Y,...ce)},clearTimeout(X){const{delegate:Y}=g;return(Y?.clearTimeout||clearTimeout)(X)},delegate:void 0}},6691:(Pt,ke,M)=>{"use strict";M.d(ke,{h:()=>X});const X=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4373:(Pt,ke,M)=>{"use strict";M.d(ke,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},1967:(Pt,ke,M)=>{"use strict";M.d(ke,{K:()=>X});const X=(0,M(1566).d)(Y=>function(){Y(this),this.name="EmptyError",this.message="no elements in sequence"})},6190:(Pt,ke,M)=>{"use strict";M.d(ke,{_6:()=>e,jO:()=>ce,yG:()=>q});var g=M(2602),X=M(7426);function Y(Q){return Q[Q.length-1]}function ce(Q){return(0,g.m)(Y(Q))?Q.pop():void 0}function q(Q){return(0,X.K)(Y(Q))?Q.pop():void 0}function e(Q,Le){return"number"==typeof Y(Q)?Q.pop():Le}},7346:(Pt,ke,M)=>{"use strict";M.d(ke,{D:()=>q});const{isArray:g}=Array,{getPrototypeOf:X,prototype:Y,keys:ce}=Object;function q(Q){if(1===Q.length){const Le=Q[0];if(g(Le))return{args:Le,keys:null};if(function e(Q){return Q&&"object"==typeof Q&&X(Q)===Y}(Le)){const pe=ce(Le);return{args:pe.map(me=>Le[me]),keys:pe}}}return{args:Q,keys:null}}},5559:(Pt,ke,M)=>{"use strict";function g(X,Y){if(X){const ce=X.indexOf(Y);0<=ce&&X.splice(ce,1)}}M.d(ke,{P:()=>g})},1566:(Pt,ke,M)=>{"use strict";function g(X){const ce=X(q=>{Error.call(q),q.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}M.d(ke,{d:()=>g})},6118:(Pt,ke,M)=>{"use strict";function g(X,Y){return X.reduce((ce,q,e)=>(ce[q]=Y[e],ce),{})}M.d(ke,{n:()=>g})},575:(Pt,ke,M)=>{"use strict";M.d(ke,{O:()=>ce,x:()=>Y});var g=M(5445);let X=null;function Y(q){if(g.config.useDeprecatedSynchronousErrorHandling){const e=!X;if(e&&(X={errorThrown:!1,error:null}),q(),e){const{errorThrown:Q,error:Le}=X;if(X=null,Q)throw Le}}else q()}function ce(q){g.config.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=q)}},9701:(Pt,ke,M)=>{"use strict";function g(X,Y,ce,q=0,e=!1){const Q=Y.schedule(function(){ce(),e?X.add(this.schedule(null,q)):this.unsubscribe()},q);if(X.add(Q),!e)return Q}M.d(ke,{f:()=>g})},204:(Pt,ke,M)=>{"use strict";function g(X){return X}M.d(ke,{y:()=>g})},1287:(Pt,ke,M)=>{"use strict";M.d(ke,{z:()=>g});const g=X=>X&&"number"==typeof X.length&&"function"!=typeof X},5235:(Pt,ke,M)=>{"use strict";M.d(ke,{D:()=>X});var g=M(2602);function X(Y){return Symbol.asyncIterator&&(0,g.m)(Y?.[Symbol.asyncIterator])}},2602:(Pt,ke,M)=>{"use strict";function g(X){return"function"==typeof X}M.d(ke,{m:()=>g})},7808:(Pt,ke,M)=>{"use strict";M.d(ke,{c:()=>Y});var g=M(4373),X=M(2602);function Y(ce){return(0,X.m)(ce[g.L])}},9449:(Pt,ke,M)=>{"use strict";M.d(ke,{T:()=>Y});var g=M(6691),X=M(2602);function Y(ce){return(0,X.m)(ce?.[g.h])}},3972:(Pt,ke,M)=>{"use strict";M.d(ke,{t:()=>X});var g=M(2602);function X(Y){return(0,g.m)(Y?.then)}},401:(Pt,ke,M)=>{"use strict";M.d(ke,{L:()=>ce,Q:()=>Y});var g=M(2321),X=M(2602);function Y(q){return(0,g.FC)(this,arguments,function*(){const Q=q.getReader();try{for(;;){const{value:Le,done:pe}=yield(0,g.qq)(Q.read());if(pe)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(Le)}}finally{Q.releaseLock()}})}function ce(q){return(0,X.m)(q?.getReader)}},7426:(Pt,ke,M)=>{"use strict";M.d(ke,{K:()=>X});var g=M(2602);function X(Y){return Y&&(0,g.m)(Y.schedule)}},4114:(Pt,ke,M)=>{"use strict";M.d(ke,{A:()=>X,e:()=>Y});var g=M(2602);function X(ce){return(0,g.m)(ce?.lift)}function Y(ce){return q=>{if(X(q))return q.lift(function(e){try{return ce(e,this)}catch(Q){this.error(Q)}});throw new TypeError("Unable to lift unknown Observable type")}}},7825:(Pt,ke,M)=>{"use strict";M.d(ke,{Z:()=>ce});var g=M(9736);const{isArray:X}=Array;function ce(q){return(0,g.U)(e=>function Y(q,e){return X(e)?q(...e):q(e)}(q,e))}},2707:(Pt,ke,M)=>{"use strict";function g(){}M.d(ke,{Z:()=>g})},2476:(Pt,ke,M)=>{"use strict";M.d(ke,{U:()=>Y,z:()=>X});var g=M(204);function X(...ce){return Y(ce)}function Y(ce){return 0===ce.length?g.y:1===ce.length?ce[0]:function(e){return ce.reduce((Q,Le)=>Le(Q),e)}}},6929:(Pt,ke,M)=>{"use strict";M.d(ke,{h:()=>Y});var g=M(5445),X=M(8411);function Y(ce){X.z.setTimeout(()=>{const{onUnhandledError:q}=g.config;if(!q)throw ce;q(ce)})}},2614:(Pt,ke,M)=>{"use strict";function g(X){return new TypeError(`You provided ${null!==X&&"object"==typeof X?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}M.d(ke,{z:()=>g})},3344:(Pt,ke,M)=>{"use strict";M.d(ke,{Eq:()=>q,Ig:()=>X,fI:()=>Q});var g=M(1699);function X(pe){return null!=pe&&"false"!=`${pe}`}function q(pe){return Array.isArray(pe)?pe:[pe]}function Q(pe){return pe instanceof g.SBq?pe.nativeElement:pe}},1134:(Pt,ke,M)=>{"use strict";M.d(ke,{Yg:()=>gt,xu:()=>xe});var g=M(1699),X=M(3344),Y=M(9877),ce=M(3839),q=M(5823),e=M(2235),Q=M(1527),Le=M(5357),pe=M(655),me=M(9736),Ae=M(5043),ne=M(274),be=M(6744);let xe=(()=>{class le{}return le.\u0275fac=function(Je){return new(Je||le)},le.\u0275mod=g.oAB({type:le}),le.\u0275inj=g.cJS({}),le})();const Ue=new Set;let Ye,ee=(()=>{class le{constructor(Je){this._platform=Je,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):lt}matchMedia(Je){return(this._platform.WEBKIT||this._platform.BLINK)&&function Oe(le){if(!Ue.has(le))try{Ye||(Ye=document.createElement("style"),Ye.setAttribute("type","text/css"),document.head.appendChild(Ye)),Ye.sheet&&(Ye.sheet.insertRule(`@media ${le} {body{ }}`,0),Ue.add(le))}catch(ct){console.error(ct)}}(Je),this._matchMedia(Je)}}return le.\u0275fac=function(Je){return new(Je||le)(g.LFG(be.t4))},le.\u0275prov=g.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"}),le})();function lt(le){return{matches:"all"===le||""===le,media:le,addListener:()=>{},removeListener:()=>{}}}let gt=(()=>{class le{constructor(Je,Ze){this._mediaMatcher=Je,this._zone=Ze,this._queries=new Map,this._destroySubject=new Y.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(Je){return we((0,X.Eq)(Je)).some(it=>this._registerQuery(it).mql.matches)}observe(Je){const it=we((0,X.Eq)(Je)).map(pt=>this._registerQuery(pt).observable);let He=(0,ce.a)(it);return He=(0,q.z)(He.pipe((0,Q.q)(1)),He.pipe((0,Le.T)(1),(0,pe.b)(0))),He.pipe((0,me.U)(pt=>{const Qe={matches:!1,breakpoints:{}};return pt.forEach(({matches:Lt,query:rt})=>{Qe.matches=Qe.matches||Lt,Qe.breakpoints[rt]=Lt}),Qe}))}_registerQuery(Je){if(this._queries.has(Je))return this._queries.get(Je);const Ze=this._mediaMatcher.matchMedia(Je),He={observable:new e.y(pt=>{const Qe=Lt=>this._zone.run(()=>pt.next(Lt));return Ze.addListener(Qe),()=>{Ze.removeListener(Qe)}}).pipe((0,Ae.O)(Ze),(0,me.U)(({matches:pt})=>({query:Je,matches:pt})),(0,ne.R)(this._destroySubject)),mql:Ze};return this._queries.set(Je,He),He}}return le.\u0275fac=function(Je){return new(Je||le)(g.LFG(ee),g.LFG(g.R0b))},le.\u0275prov=g.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"}),le})();function we(le){return le.map(ct=>ct.split(",")).reduce((ct,Je)=>ct.concat(Je)).map(ct=>ct.trim())}},6744:(Pt,ke,M)=>{"use strict";M.d(ke,{Oy:()=>we,i$:()=>Ae,sA:()=>gt,t4:()=>ce});var g=M(1699),X=M(6575);let Y;try{Y=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Y=!1}let pe,ce=(()=>{class ge{constructor(ct){this._platformId=ct,this.isBrowser=this._platformId?(0,X.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Y)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return ge.\u0275fac=function(ct){return new(ct||ge)(g.LFG(g.Lbi))},ge.\u0275prov=g.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})();function Ae(ge){return function me(){if(null==pe&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>pe=!0}))}finally{pe=pe||!1}return pe}()?ge:!!ge.capture}function gt(ge){return ge.composedPath?ge.composedPath()[0]:ge.target}function we(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},6575:(Pt,ke,M)=>{"use strict";M.d(ke,{Do:()=>Ye,ED:()=>Ji,EM:()=>vo,HT:()=>ce,JF:()=>No,K0:()=>e,Mn:()=>rt,Mx:()=>Un,NF:()=>Qi,O5:()=>Vi,PM:()=>uo,RF:()=>to,S$:()=>be,Tn:()=>Ze,UT:()=>ht,V_:()=>Le,Ye:()=>ee,ax:()=>mn,b0:()=>Ue,bD:()=>lo,ez:()=>ai,i8:()=>Zr,n9:()=>zo,p6:()=>Zn,q:()=>Y,sg:()=>mn,tP:()=>no,w_:()=>q,x:()=>Je});var g=M(1699);let X=null;function Y(){return X}function ce(b){X||(X=b)}class q{}const e=new g.OlP("DocumentToken");let Q=(()=>{class b{historyGo(x){throw new Error("Not implemented")}static#e=this.\u0275fac=function(F){return new(F||b)};static#t=this.\u0275prov=g.Yz7({token:b,factory:function(){return(0,g.f3M)(pe)},providedIn:"platform"})}return b})();const Le=new g.OlP("Location Initialized");let pe=(()=>{class b extends Q{constructor(){super(),this._doc=(0,g.f3M)(e),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Y().getBaseHref(this._doc)}onPopState(x){const F=Y().getGlobalEventTarget(this._doc,"window");return F.addEventListener("popstate",x,!1),()=>F.removeEventListener("popstate",x)}onHashChange(x){const F=Y().getGlobalEventTarget(this._doc,"window");return F.addEventListener("hashchange",x,!1),()=>F.removeEventListener("hashchange",x)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(x){this._location.pathname=x}pushState(x,F,re){this._history.pushState(x,F,re)}replaceState(x,F,re){this._history.replaceState(x,F,re)}forward(){this._history.forward()}back(){this._history.back()}historyGo(x=0){this._history.go(x)}getState(){return this._history.state}static#e=this.\u0275fac=function(F){return new(F||b)};static#t=this.\u0275prov=g.Yz7({token:b,factory:function(){return new b},providedIn:"platform"})}return b})();function me(b,H){if(0==b.length)return H;if(0==H.length)return b;let x=0;return b.endsWith("/")&&x++,H.startsWith("/")&&x++,2==x?b+H.substring(1):1==x?b+H:b+"/"+H}function Ae(b){const H=b.match(/#|\?|$/),x=H&&H.index||b.length;return b.slice(0,x-("/"===b[x-1]?1:0))+b.slice(x)}function ne(b){return b&&"?"!==b[0]?"?"+b:b}let be=(()=>{class b{historyGo(x){throw new Error("Not implemented")}static#e=this.\u0275fac=function(F){return new(F||b)};static#t=this.\u0275prov=g.Yz7({token:b,factory:function(){return(0,g.f3M)(Ue)},providedIn:"root"})}return b})();const xe=new g.OlP("appBaseHref");let Ue=(()=>{class b extends be{constructor(x,F){super(),this._platformLocation=x,this._removeListenerFns=[],this._baseHref=F??this._platformLocation.getBaseHrefFromDOM()??(0,g.f3M)(e).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}prepareExternalUrl(x){return me(this._baseHref,x)}path(x=!1){const F=this._platformLocation.pathname+ne(this._platformLocation.search),re=this._platformLocation.hash;return re&&x?`${F}${re}`:F}pushState(x,F,re,We){const mt=this.prepareExternalUrl(re+ne(We));this._platformLocation.pushState(x,F,mt)}replaceState(x,F,re,We){const mt=this.prepareExternalUrl(re+ne(We));this._platformLocation.replaceState(x,F,mt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(x=0){this._platformLocation.historyGo?.(x)}static#e=this.\u0275fac=function(F){return new(F||b)(g.LFG(Q),g.LFG(xe,8))};static#t=this.\u0275prov=g.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})(),Ye=(()=>{class b extends be{constructor(x,F){super(),this._platformLocation=x,this._baseHref="",this._removeListenerFns=[],null!=F&&(this._baseHref=F)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}path(x=!1){let F=this._platformLocation.hash;return null==F&&(F="#"),F.length>0?F.substring(1):F}prepareExternalUrl(x){const F=me(this._baseHref,x);return F.length>0?"#"+F:F}pushState(x,F,re,We){let mt=this.prepareExternalUrl(re+ne(We));0==mt.length&&(mt=this._platformLocation.pathname),this._platformLocation.pushState(x,F,mt)}replaceState(x,F,re,We){let mt=this.prepareExternalUrl(re+ne(We));0==mt.length&&(mt=this._platformLocation.pathname),this._platformLocation.replaceState(x,F,mt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(x=0){this._platformLocation.historyGo?.(x)}static#e=this.\u0275fac=function(F){return new(F||b)(g.LFG(Q),g.LFG(xe,8))};static#t=this.\u0275prov=g.Yz7({token:b,factory:b.\u0275fac})}return b})(),ee=(()=>{class b{constructor(x){this._subject=new g.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=x;const F=this._locationStrategy.getBaseHref();this._basePath=function we(b){if(new RegExp("^(https?:)?//").test(b)){const[,x]=b.split(/\/\/[^\/]+/);return x}return b}(Ae(gt(F))),this._locationStrategy.onPopState(re=>{this._subject.emit({url:this.path(!0),pop:!0,state:re.state,type:re.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(x=!1){return this.normalize(this._locationStrategy.path(x))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(x,F=""){return this.path()==this.normalize(x+ne(F))}normalize(x){return b.stripTrailingSlash(function lt(b,H){if(!b||!H.startsWith(b))return H;const x=H.substring(b.length);return""===x||["/",";","?","#"].includes(x[0])?x:H}(this._basePath,gt(x)))}prepareExternalUrl(x){return x&&"/"!==x[0]&&(x="/"+x),this._locationStrategy.prepareExternalUrl(x)}go(x,F="",re=null){this._locationStrategy.pushState(re,"",x,F),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+ne(F)),re)}replaceState(x,F="",re=null){this._locationStrategy.replaceState(re,"",x,F),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+ne(F)),re)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(x=0){this._locationStrategy.historyGo?.(x)}onUrlChange(x){return this._urlChangeListeners.push(x),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(F=>{this._notifyUrlChangeListeners(F.url,F.state)})),()=>{const F=this._urlChangeListeners.indexOf(x);this._urlChangeListeners.splice(F,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(x="",F){this._urlChangeListeners.forEach(re=>re(x,F))}subscribe(x,F,re){return this._subject.subscribe({next:x,error:F,complete:re})}static#e=this.normalizeQueryParams=ne;static#t=this.joinWithSlash=me;static#n=this.stripTrailingSlash=Ae;static#i=this.\u0275fac=function(F){return new(F||b)(g.LFG(be))};static#o=this.\u0275prov=g.Yz7({token:b,factory:function(){return function Oe(){return new ee((0,g.LFG)(be))}()},providedIn:"root"})}return b})();function gt(b){return b.replace(/\/index.html$/,"")}var Je=function(b){return b[b.Format=0]="Format",b[b.Standalone=1]="Standalone",b}(Je||{}),Ze=function(b){return b[b.Narrow=0]="Narrow",b[b.Abbreviated=1]="Abbreviated",b[b.Wide=2]="Wide",b[b.Short=3]="Short",b}(Ze||{}),it=function(b){return b[b.Short=0]="Short",b[b.Medium=1]="Medium",b[b.Long=2]="Long",b[b.Full=3]="Full",b}(it||{}),He=function(b){return b[b.Decimal=0]="Decimal",b[b.Group=1]="Group",b[b.List=2]="List",b[b.PercentSign=3]="PercentSign",b[b.PlusSign=4]="PlusSign",b[b.MinusSign=5]="MinusSign",b[b.Exponential=6]="Exponential",b[b.SuperscriptingExponent=7]="SuperscriptingExponent",b[b.PerMille=8]="PerMille",b[b.Infinity=9]="Infinity",b[b.NaN=10]="NaN",b[b.TimeSeparator=11]="TimeSeparator",b[b.CurrencyDecimal=12]="CurrencyDecimal",b[b.CurrencyGroup=13]="CurrencyGroup",b}(He||{});function rt(b,H,x){const F=(0,g.cg1)(b),We=fe([F[g.wAp.DaysFormat],F[g.wAp.DaysStandalone]],H);return fe(We,x)}function ht(b,H,x){const F=(0,g.cg1)(b),We=fe([F[g.wAp.MonthsFormat],F[g.wAp.MonthsStandalone]],H);return fe(We,x)}function ue(b,H){return fe((0,g.cg1)(b)[g.wAp.DateFormat],H)}function Ee(b,H){return fe((0,g.cg1)(b)[g.wAp.TimeFormat],H)}function De(b,H){return fe((0,g.cg1)(b)[g.wAp.DateTimeFormat],H)}function Me(b,H){const x=(0,g.cg1)(b),F=x[g.wAp.NumberSymbols][H];if(typeof F>"u"){if(H===He.CurrencyDecimal)return x[g.wAp.NumberSymbols][He.Decimal];if(H===He.CurrencyGroup)return x[g.wAp.NumberSymbols][He.Group]}return F}function Zt(b){if(!b[g.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${b[g.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function fe(b,H){for(let x=H;x>-1;x--)if(typeof b[x]<"u")return b[x];throw new Error("Locale data API: locale data undefined")}function ye(b){const[H,x]=b.split(":");return{hours:+H,minutes:+x}}const Nt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Dn={},on=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Rt=function(b){return b[b.Short=0]="Short",b[b.ShortGMT=1]="ShortGMT",b[b.Long=2]="Long",b[b.Extended=3]="Extended",b}(Rt||{}),At=function(b){return b[b.FullYear=0]="FullYear",b[b.Month=1]="Month",b[b.Date=2]="Date",b[b.Hours=3]="Hours",b[b.Minutes=4]="Minutes",b[b.Seconds=5]="Seconds",b[b.FractionalSeconds=6]="FractionalSeconds",b[b.Day=7]="Day",b}(At||{}),xt=function(b){return b[b.DayPeriods=0]="DayPeriods",b[b.Days=1]="Days",b[b.Months=2]="Months",b[b.Eras=3]="Eras",b}(xt||{});function Zn(b,H,x,F){let re=function at(b){if(se(b))return b;if("number"==typeof b&&!isNaN(b))return new Date(b);if("string"==typeof b){if(b=b.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(b)){const[re,We=1,mt=1]=b.split("-").map(Qt=>+Qt);return ri(re,We-1,mt)}const x=parseFloat(b);if(!isNaN(b-x))return new Date(x);let F;if(F=b.match(Nt))return function $e(b){const H=new Date(0);let x=0,F=0;const re=b[8]?H.setUTCFullYear:H.setFullYear,We=b[8]?H.setUTCHours:H.setHours;b[9]&&(x=Number(b[9]+b[10]),F=Number(b[9]+b[11])),re.call(H,Number(b[1]),Number(b[2])-1,Number(b[3]));const mt=Number(b[4]||0)-x,Qt=Number(b[5]||0)-F,Qn=Number(b[6]||0),si=Math.floor(1e3*parseFloat("0."+(b[7]||0)));return We.call(H,mt,Qt,Qn,si),H}(F)}const H=new Date(b);if(!se(H))throw new Error(`Unable to convert "${b}" into a date`);return H}(b);H=tn(x,H)||H;let Qt,mt=[];for(;H;){if(Qt=on.exec(H),!Qt){mt.push(H);break}{mt=mt.concat(Qt.slice(1));const xn=mt.pop();if(!xn)break;H=xn}}let Qn=re.getTimezoneOffset();F&&(Qn=Zi(F,Qn),re=function Go(b,H,x){const F=x?-1:1,re=b.getTimezoneOffset();return function co(b,H){return(b=new Date(b.getTime())).setMinutes(b.getMinutes()+H),b}(b,F*(Zi(H,re)-re))}(re,F,!0));let si="";return mt.forEach(xn=>{const fn=function qi(b){if(Ai[b])return Ai[b];let H;switch(b){case"G":case"GG":case"GGG":H=gn(xt.Eras,Ze.Abbreviated);break;case"GGGG":H=gn(xt.Eras,Ze.Wide);break;case"GGGGG":H=gn(xt.Eras,Ze.Narrow);break;case"y":H=dn(At.FullYear,1,0,!1,!0);break;case"yy":H=dn(At.FullYear,2,0,!0,!0);break;case"yyy":H=dn(At.FullYear,3,0,!1,!0);break;case"yyyy":H=dn(At.FullYear,4,0,!1,!0);break;case"Y":H=qn(1);break;case"YY":H=qn(2,!0);break;case"YYY":H=qn(3);break;case"YYYY":H=qn(4);break;case"M":case"L":H=dn(At.Month,1,1);break;case"MM":case"LL":H=dn(At.Month,2,1);break;case"MMM":H=gn(xt.Months,Ze.Abbreviated);break;case"MMMM":H=gn(xt.Months,Ze.Wide);break;case"MMMMM":H=gn(xt.Months,Ze.Narrow);break;case"LLL":H=gn(xt.Months,Ze.Abbreviated,Je.Standalone);break;case"LLLL":H=gn(xt.Months,Ze.Wide,Je.Standalone);break;case"LLLLL":H=gn(xt.Months,Ze.Narrow,Je.Standalone);break;case"w":H=yn(1);break;case"ww":H=yn(2);break;case"W":H=yn(1,!0);break;case"d":H=dn(At.Date,1);break;case"dd":H=dn(At.Date,2);break;case"c":case"cc":H=dn(At.Day,1);break;case"ccc":H=gn(xt.Days,Ze.Abbreviated,Je.Standalone);break;case"cccc":H=gn(xt.Days,Ze.Wide,Je.Standalone);break;case"ccccc":H=gn(xt.Days,Ze.Narrow,Je.Standalone);break;case"cccccc":H=gn(xt.Days,Ze.Short,Je.Standalone);break;case"E":case"EE":case"EEE":H=gn(xt.Days,Ze.Abbreviated);break;case"EEEE":H=gn(xt.Days,Ze.Wide);break;case"EEEEE":H=gn(xt.Days,Ze.Narrow);break;case"EEEEEE":H=gn(xt.Days,Ze.Short);break;case"a":case"aa":case"aaa":H=gn(xt.DayPeriods,Ze.Abbreviated);break;case"aaaa":H=gn(xt.DayPeriods,Ze.Wide);break;case"aaaaa":H=gn(xt.DayPeriods,Ze.Narrow);break;case"b":case"bb":case"bbb":H=gn(xt.DayPeriods,Ze.Abbreviated,Je.Standalone,!0);break;case"bbbb":H=gn(xt.DayPeriods,Ze.Wide,Je.Standalone,!0);break;case"bbbbb":H=gn(xt.DayPeriods,Ze.Narrow,Je.Standalone,!0);break;case"B":case"BB":case"BBB":H=gn(xt.DayPeriods,Ze.Abbreviated,Je.Format,!0);break;case"BBBB":H=gn(xt.DayPeriods,Ze.Wide,Je.Format,!0);break;case"BBBBB":H=gn(xt.DayPeriods,Ze.Narrow,Je.Format,!0);break;case"h":H=dn(At.Hours,1,-12);break;case"hh":H=dn(At.Hours,2,-12);break;case"H":H=dn(At.Hours,1);break;case"HH":H=dn(At.Hours,2);break;case"m":H=dn(At.Minutes,1);break;case"mm":H=dn(At.Minutes,2);break;case"s":H=dn(At.Seconds,1);break;case"ss":H=dn(At.Seconds,2);break;case"S":H=dn(At.FractionalSeconds,1);break;case"SS":H=dn(At.FractionalSeconds,2);break;case"SSS":H=dn(At.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":H=gi(Rt.Short);break;case"ZZZZZ":H=gi(Rt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":H=gi(Rt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":H=gi(Rt.Long);break;default:return null}return Ai[b]=H,H}(xn);si+=fn?fn(re,x,Qn):"''"===xn?"'":xn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),si}function ri(b,H,x){const F=new Date(0);return F.setFullYear(b,H,x),F.setHours(0,0,0),F}function tn(b,H){const x=function Qe(b){return(0,g.cg1)(b)[g.wAp.LocaleId]}(b);if(Dn[x]=Dn[x]||{},Dn[x][H])return Dn[x][H];let F="";switch(H){case"shortDate":F=ue(b,it.Short);break;case"mediumDate":F=ue(b,it.Medium);break;case"longDate":F=ue(b,it.Long);break;case"fullDate":F=ue(b,it.Full);break;case"shortTime":F=Ee(b,it.Short);break;case"mediumTime":F=Ee(b,it.Medium);break;case"longTime":F=Ee(b,it.Long);break;case"fullTime":F=Ee(b,it.Full);break;case"short":const re=tn(b,"shortTime"),We=tn(b,"shortDate");F=$t(De(b,it.Short),[re,We]);break;case"medium":const mt=tn(b,"mediumTime"),Qt=tn(b,"mediumDate");F=$t(De(b,it.Medium),[mt,Qt]);break;case"long":const Qn=tn(b,"longTime"),si=tn(b,"longDate");F=$t(De(b,it.Long),[Qn,si]);break;case"full":const xn=tn(b,"fullTime"),fn=tn(b,"fullDate");F=$t(De(b,it.Full),[xn,fn])}return F&&(Dn[x][H]=F),F}function $t(b,H){return H&&(b=b.replace(/\{([^}]+)}/g,function(x,F){return null!=H&&F in H?H[F]:x})),b}function Ln(b,H,x="-",F,re){let We="";(b<0||re&&b<=0)&&(re?b=1-b:(b=-b,We=x));let mt=String(b);for(;mt.length<H;)mt="0"+mt;return F&&(mt=mt.slice(mt.length-H)),We+mt}function dn(b,H,x=0,F=!1,re=!1){return function(We,mt){let Qt=function Mn(b,H){switch(b){case At.FullYear:return H.getFullYear();case At.Month:return H.getMonth();case At.Date:return H.getDate();case At.Hours:return H.getHours();case At.Minutes:return H.getMinutes();case At.Seconds:return H.getSeconds();case At.FractionalSeconds:return H.getMilliseconds();case At.Day:return H.getDay();default:throw new Error(`Unknown DateType value "${b}".`)}}(b,We);if((x>0||Qt>-x)&&(Qt+=x),b===At.Hours)0===Qt&&-12===x&&(Qt=12);else if(b===At.FractionalSeconds)return function st(b,H){return Ln(b,3).substring(0,H)}(Qt,H);const Qn=Me(mt,He.MinusSign);return Ln(Qt,H,Qn,F,re)}}function gn(b,H,x=Je.Format,F=!1){return function(re,We){return function Ti(b,H,x,F,re,We){switch(x){case xt.Months:return ht(H,re,F)[b.getMonth()];case xt.Days:return rt(H,re,F)[b.getDay()];case xt.DayPeriods:const mt=b.getHours(),Qt=b.getMinutes();if(We){const si=function wt(b){const H=(0,g.cg1)(b);return Zt(H),(H[g.wAp.ExtraData][2]||[]).map(F=>"string"==typeof F?ye(F):[ye(F[0]),ye(F[1])])}(H),xn=function wn(b,H,x){const F=(0,g.cg1)(b);Zt(F);const We=fe([F[g.wAp.ExtraData][0],F[g.wAp.ExtraData][1]],H)||[];return fe(We,x)||[]}(H,re,F),fn=si.findIndex(wi=>{if(Array.isArray(wi)){const[ci,Ei]=wi,Qo=mt>=ci.hours&&Qt>=ci.minutes,jo=mt<Ei.hours||mt===Ei.hours&&Qt<Ei.minutes;if(ci.hours<Ei.hours){if(Qo&&jo)return!0}else if(Qo||jo)return!0}else if(wi.hours===mt&&wi.minutes===Qt)return!0;return!1});if(-1!==fn)return xn[fn]}return function Lt(b,H,x){const F=(0,g.cg1)(b),We=fe([F[g.wAp.DayPeriodsFormat],F[g.wAp.DayPeriodsStandalone]],H);return fe(We,x)}(H,re,F)[mt<12?0:1];case xt.Eras:return function Re(b,H){return fe((0,g.cg1)(b)[g.wAp.Eras],H)}(H,F)[b.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${x}`)}}(re,We,b,H,x,F)}}function gi(b){return function(H,x,F){const re=-1*F,We=Me(x,He.MinusSign),mt=re>0?Math.floor(re/60):Math.ceil(re/60);switch(b){case Rt.Short:return(re>=0?"+":"")+Ln(mt,2,We)+Ln(Math.abs(re%60),2,We);case Rt.ShortGMT:return"GMT"+(re>=0?"+":"")+Ln(mt,1,We);case Rt.Long:return"GMT"+(re>=0?"+":"")+Ln(mt,2,We)+":"+Ln(Math.abs(re%60),2,We);case Rt.Extended:return 0===F?"Z":(re>=0?"+":"")+Ln(mt,2,We)+":"+Ln(Math.abs(re%60),2,We);default:throw new Error(`Unknown zone width "${b}"`)}}}const Ri=0,Mi=4;function Vn(b){return ri(b.getFullYear(),b.getMonth(),b.getDate()+(Mi-b.getDay()))}function yn(b,H=!1){return function(x,F){let re;if(H){const We=new Date(x.getFullYear(),x.getMonth(),1).getDay()-1,mt=x.getDate();re=1+Math.floor((mt+We)/7)}else{const We=Vn(x),mt=function Bn(b){const H=ri(b,Ri,1).getDay();return ri(b,0,1+(H<=Mi?Mi:Mi+7)-H)}(We.getFullYear()),Qt=We.getTime()-mt.getTime();re=1+Math.round(Qt/6048e5)}return Ln(re,b,Me(F,He.MinusSign))}}function qn(b,H=!1){return function(x,F){return Ln(Vn(x).getFullYear(),b,Me(F,He.MinusSign),H)}}const Ai={};function Zi(b,H){b=b.replace(/:/g,"");const x=Date.parse("Jan 01, 1970 00:00:00 "+b)/6e4;return isNaN(x)?H:x}function se(b){return b instanceof Date&&!isNaN(b.valueOf())}function Un(b,H){H=encodeURIComponent(H);for(const x of b.split(";")){const F=x.indexOf("="),[re,We]=-1==F?[x,""]:[x.slice(0,F),x.slice(F+1)];if(re.trim()===H)return decodeURIComponent(We)}return null}class Vt{constructor(H,x,F,re){this.$implicit=H,this.ngForOf=x,this.index=F,this.count=re}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let mn=(()=>{class b{set ngForOf(x){this._ngForOf=x,this._ngForOfDirty=!0}set ngForTrackBy(x){this._trackByFn=x}get ngForTrackBy(){return this._trackByFn}constructor(x,F,re){this._viewContainer=x,this._template=F,this._differs=re,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(x){x&&(this._template=x)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const x=this._ngForOf;!this._differ&&x&&(this._differ=this._differs.find(x).create(this.ngForTrackBy))}if(this._differ){const x=this._differ.diff(this._ngForOf);x&&this._applyChanges(x)}}_applyChanges(x){const F=this._viewContainer;x.forEachOperation((re,We,mt)=>{if(null==re.previousIndex)F.createEmbeddedView(this._template,new Vt(re.item,this._ngForOf,-1,-1),null===mt?void 0:mt);else if(null==mt)F.remove(null===We?void 0:We);else if(null!==We){const Qt=F.get(We);F.move(Qt,mt),Ii(Qt,re)}});for(let re=0,We=F.length;re<We;re++){const Qt=F.get(re).context;Qt.index=re,Qt.count=We,Qt.ngForOf=this._ngForOf}x.forEachIdentityChange(re=>{Ii(F.get(re.currentIndex),re)})}static ngTemplateContextGuard(x,F){return!0}static#e=this.\u0275fac=function(F){return new(F||b)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))};static#t=this.\u0275dir=g.lG2({type:b,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return b})();function Ii(b,H){b.context.$implicit=H.item}let Vi=(()=>{class b{constructor(x,F){this._viewContainer=x,this._context=new _o,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=F}set ngIf(x){this._context.$implicit=this._context.ngIf=x,this._updateView()}set ngIfThen(x){hn("ngIfThen",x),this._thenTemplateRef=x,this._thenViewRef=null,this._updateView()}set ngIfElse(x){hn("ngIfElse",x),this._elseTemplateRef=x,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(x,F){return!0}static#e=this.\u0275fac=function(F){return new(F||b)(g.Y36(g.s_b),g.Y36(g.Rgc))};static#t=this.\u0275dir=g.lG2({type:b,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return b})();class _o{constructor(){this.$implicit=null,this.ngIf=null}}function hn(b,H){if(H&&!H.createEmbeddedView)throw new Error(`${b} must be a TemplateRef, but received '${(0,g.AaK)(H)}'.`)}class En{constructor(H,x){this._viewContainerRef=H,this._templateRef=x,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(H){H&&!this._created?this.create():!H&&this._created&&this.destroy()}}let to=(()=>{class b{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(x){this._ngSwitch=x,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(x){this._defaultViews.push(x)}_matchCase(x){const F=x==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||F,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),F}_updateDefaultCases(x){if(this._defaultViews.length>0&&x!==this._defaultUsed){this._defaultUsed=x;for(const F of this._defaultViews)F.enforceState(x)}}static#e=this.\u0275fac=function(F){return new(F||b)};static#t=this.\u0275dir=g.lG2({type:b,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return b})(),zo=(()=>{class b{constructor(x,F,re){this.ngSwitch=re,re._addCase(),this._view=new En(x,F)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(F){return new(F||b)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(to,9))};static#t=this.\u0275dir=g.lG2({type:b,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return b})(),Ji=(()=>{class b{constructor(x,F,re){re._addDefault(new En(x,F))}static#e=this.\u0275fac=function(F){return new(F||b)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(to,9))};static#t=this.\u0275dir=g.lG2({type:b,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return b})(),no=(()=>{class b{constructor(x){this._viewContainerRef=x,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(x){if(x.ngTemplateOutlet||x.ngTemplateOutletInjector){const F=this._viewContainerRef;if(this._viewRef&&F.remove(F.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:re,ngTemplateOutletContext:We,ngTemplateOutletInjector:mt}=this;this._viewRef=F.createEmbeddedView(re,We,mt?{injector:mt}:void 0)}else this._viewRef=null}else this._viewRef&&x.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(F){return new(F||b)(g.Y36(g.s_b))};static#t=this.\u0275dir=g.lG2({type:b,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[g.TTD]})}return b})();let Zr=(()=>{class b{transform(x){if(null==x)return null;if("string"!=typeof x)throw function xi(b,H){return new g.vHH(2100,!1)}();return x.toLowerCase()}static#e=this.\u0275fac=function(F){return new(F||b)};static#t=this.\u0275pipe=g.Yjl({name:"lowercase",type:b,pure:!0,standalone:!0})}return b})(),ai=(()=>{class b{static#e=this.\u0275fac=function(F){return new(F||b)};static#t=this.\u0275mod=g.oAB({type:b});static#n=this.\u0275inj=g.cJS({})}return b})();const lo="browser",Bo="server";function Qi(b){return b===lo}function uo(b){return b===Bo}let vo=(()=>{class b{static#e=this.\u0275prov=(0,g.Yz7)({token:b,providedIn:"root",factory:()=>new rr((0,g.LFG)(e),window)})}return b})();class rr{constructor(H,x){this.document=H,this.window=x,this.offset=()=>[0,0]}setOffset(H){this.offset=Array.isArray(H)?()=>H:H}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(H){this.supportsScrolling()&&this.window.scrollTo(H[0],H[1])}scrollToAnchor(H){if(!this.supportsScrolling())return;const x=function zr(b,H){const x=b.getElementById(H)||b.getElementsByName(H)[0];if(x)return x;if("function"==typeof b.createTreeWalker&&b.body&&"function"==typeof b.body.attachShadow){const F=b.createTreeWalker(b.body,NodeFilter.SHOW_ELEMENT);let re=F.currentNode;for(;re;){const We=re.shadowRoot;if(We){const mt=We.getElementById(H)||We.querySelector(`[name="${H}"]`);if(mt)return mt}re=F.nextNode()}}return null}(this.document,H);x&&(this.scrollToElement(x),x.focus())}setHistoryScrollRestoration(H){this.supportsScrolling()&&(this.window.history.scrollRestoration=H)}scrollToElement(H){const x=H.getBoundingClientRect(),F=x.left+this.window.pageXOffset,re=x.top+this.window.pageYOffset,We=this.offset();this.window.scrollTo(F-We[0],re-We[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class No{}},4860:(Pt,ke,M)=>{"use strict";M.d(ke,{JF:()=>j,eN:()=>ae});var g=M(1699),X=M(4980),Y=M(4683),ce=M(2235),q=M(5616),e=M(4520),Q=M(9736),Le=M(7474),pe=M(1891),me=M(6575);class Ae{}class ne{}class be{constructor(de){this.normalizedNames=new Map,this.lazyUpdate=null,de?"string"==typeof de?this.lazyInit=()=>{this.headers=new Map,de.split("\n").forEach(Ce=>{const Ke=Ce.indexOf(":");if(Ke>0){const Dt=Ce.slice(0,Ke),St=Dt.toLowerCase(),It=Ce.slice(Ke+1).trim();this.maybeSetNormalizedName(Dt,St),this.headers.has(St)?this.headers.get(St).push(It):this.headers.set(St,[It])}})}:typeof Headers<"u"&&de instanceof Headers?(this.headers=new Map,de.forEach((Ce,Ke)=>{this.setHeaderEntries(Ke,Ce)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(de).forEach(([Ce,Ke])=>{this.setHeaderEntries(Ce,Ke)})}:this.headers=new Map}has(de){return this.init(),this.headers.has(de.toLowerCase())}get(de){this.init();const Ce=this.headers.get(de.toLowerCase());return Ce&&Ce.length>0?Ce[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(de){return this.init(),this.headers.get(de.toLowerCase())||null}append(de,Ce){return this.clone({name:de,value:Ce,op:"a"})}set(de,Ce){return this.clone({name:de,value:Ce,op:"s"})}delete(de,Ce){return this.clone({name:de,value:Ce,op:"d"})}maybeSetNormalizedName(de,Ce){this.normalizedNames.has(Ce)||this.normalizedNames.set(Ce,de)}init(){this.lazyInit&&(this.lazyInit instanceof be?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(de=>this.applyUpdate(de)),this.lazyUpdate=null))}copyFrom(de){de.init(),Array.from(de.headers.keys()).forEach(Ce=>{this.headers.set(Ce,de.headers.get(Ce)),this.normalizedNames.set(Ce,de.normalizedNames.get(Ce))})}clone(de){const Ce=new be;return Ce.lazyInit=this.lazyInit&&this.lazyInit instanceof be?this.lazyInit:this,Ce.lazyUpdate=(this.lazyUpdate||[]).concat([de]),Ce}applyUpdate(de){const Ce=de.name.toLowerCase();switch(de.op){case"a":case"s":let Ke=de.value;if("string"==typeof Ke&&(Ke=[Ke]),0===Ke.length)return;this.maybeSetNormalizedName(de.name,Ce);const Dt=("a"===de.op?this.headers.get(Ce):void 0)||[];Dt.push(...Ke),this.headers.set(Ce,Dt);break;case"d":const St=de.value;if(St){let It=this.headers.get(Ce);if(!It)return;It=It.filter(qt=>-1===St.indexOf(qt)),0===It.length?(this.headers.delete(Ce),this.normalizedNames.delete(Ce)):this.headers.set(Ce,It)}else this.headers.delete(Ce),this.normalizedNames.delete(Ce)}}setHeaderEntries(de,Ce){const Ke=(Array.isArray(Ce)?Ce:[Ce]).map(St=>St.toString()),Dt=de.toLowerCase();this.headers.set(Dt,Ke),this.maybeSetNormalizedName(de,Dt)}forEach(de){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ce=>de(this.normalizedNames.get(Ce),this.headers.get(Ce)))}}class Ue{encodeKey(de){return lt(de)}encodeValue(de){return lt(de)}decodeKey(de){return decodeURIComponent(de)}decodeValue(de){return decodeURIComponent(de)}}const ee=/%(\d[a-f0-9])/gi,Oe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function lt(Pe){return encodeURIComponent(Pe).replace(ee,(de,Ce)=>Oe[Ce]??de)}function gt(Pe){return`${Pe}`}class we{constructor(de={}){if(this.updates=null,this.cloneFrom=null,this.encoder=de.encoder||new Ue,de.fromString){if(de.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ye(Pe,de){const Ce=new Map;return Pe.length>0&&Pe.replace(/^\?/,"").split("&").forEach(Dt=>{const St=Dt.indexOf("="),[It,qt]=-1==St?[de.decodeKey(Dt),""]:[de.decodeKey(Dt.slice(0,St)),de.decodeValue(Dt.slice(St+1))],en=Ce.get(It)||[];en.push(qt),Ce.set(It,en)}),Ce}(de.fromString,this.encoder)}else de.fromObject?(this.map=new Map,Object.keys(de.fromObject).forEach(Ce=>{const Ke=de.fromObject[Ce],Dt=Array.isArray(Ke)?Ke.map(gt):[gt(Ke)];this.map.set(Ce,Dt)})):this.map=null}has(de){return this.init(),this.map.has(de)}get(de){this.init();const Ce=this.map.get(de);return Ce?Ce[0]:null}getAll(de){return this.init(),this.map.get(de)||null}keys(){return this.init(),Array.from(this.map.keys())}append(de,Ce){return this.clone({param:de,value:Ce,op:"a"})}appendAll(de){const Ce=[];return Object.keys(de).forEach(Ke=>{const Dt=de[Ke];Array.isArray(Dt)?Dt.forEach(St=>{Ce.push({param:Ke,value:St,op:"a"})}):Ce.push({param:Ke,value:Dt,op:"a"})}),this.clone(Ce)}set(de,Ce){return this.clone({param:de,value:Ce,op:"s"})}delete(de,Ce){return this.clone({param:de,value:Ce,op:"d"})}toString(){return this.init(),this.keys().map(de=>{const Ce=this.encoder.encodeKey(de);return this.map.get(de).map(Ke=>Ce+"="+this.encoder.encodeValue(Ke)).join("&")}).filter(de=>""!==de).join("&")}clone(de){const Ce=new we({encoder:this.encoder});return Ce.cloneFrom=this.cloneFrom||this,Ce.updates=(this.updates||[]).concat(de),Ce}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(de=>this.map.set(de,this.cloneFrom.map.get(de))),this.updates.forEach(de=>{switch(de.op){case"a":case"s":const Ce=("a"===de.op?this.map.get(de.param):void 0)||[];Ce.push(gt(de.value)),this.map.set(de.param,Ce);break;case"d":if(void 0===de.value){this.map.delete(de.param);break}{let Ke=this.map.get(de.param)||[];const Dt=Ke.indexOf(gt(de.value));-1!==Dt&&Ke.splice(Dt,1),Ke.length>0?this.map.set(de.param,Ke):this.map.delete(de.param)}}}),this.cloneFrom=this.updates=null)}}class le{constructor(){this.map=new Map}set(de,Ce){return this.map.set(de,Ce),this}get(de){return this.map.has(de)||this.map.set(de,de.defaultValue()),this.map.get(de)}delete(de){return this.map.delete(de),this}has(de){return this.map.has(de)}keys(){return this.map.keys()}}function Je(Pe){return typeof ArrayBuffer<"u"&&Pe instanceof ArrayBuffer}function Ze(Pe){return typeof Blob<"u"&&Pe instanceof Blob}function it(Pe){return typeof FormData<"u"&&Pe instanceof FormData}class pt{constructor(de,Ce,Ke,Dt){let St;if(this.url=Ce,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=de.toUpperCase(),function ct(Pe){switch(Pe){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Dt?(this.body=void 0!==Ke?Ke:null,St=Dt):St=Ke,St&&(this.reportProgress=!!St.reportProgress,this.withCredentials=!!St.withCredentials,St.responseType&&(this.responseType=St.responseType),St.headers&&(this.headers=St.headers),St.context&&(this.context=St.context),St.params&&(this.params=St.params)),this.headers||(this.headers=new be),this.context||(this.context=new le),this.params){const It=this.params.toString();if(0===It.length)this.urlWithParams=Ce;else{const qt=Ce.indexOf("?");this.urlWithParams=Ce+(-1===qt?"?":qt<Ce.length-1?"&":"")+It}}else this.params=new we,this.urlWithParams=Ce}serializeBody(){return null===this.body?null:Je(this.body)||Ze(this.body)||it(this.body)||function He(Pe){return typeof URLSearchParams<"u"&&Pe instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof we?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||it(this.body)?null:Ze(this.body)?this.body.type||null:Je(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof we?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(de={}){const Ce=de.method||this.method,Ke=de.url||this.url,Dt=de.responseType||this.responseType,St=void 0!==de.body?de.body:this.body,It=void 0!==de.withCredentials?de.withCredentials:this.withCredentials,qt=void 0!==de.reportProgress?de.reportProgress:this.reportProgress;let en=de.headers||this.headers,di=de.params||this.params;const ln=de.context??this.context;return void 0!==de.setHeaders&&(en=Object.keys(de.setHeaders).reduce(($n,Jt)=>$n.set(Jt,de.setHeaders[Jt]),en)),de.setParams&&(di=Object.keys(de.setParams).reduce(($n,Jt)=>$n.set(Jt,de.setParams[Jt]),di)),new pt(Ce,Ke,St,{params:di,headers:en,context:ln,reportProgress:qt,responseType:Dt,withCredentials:It})}}var Qe=function(Pe){return Pe[Pe.Sent=0]="Sent",Pe[Pe.UploadProgress=1]="UploadProgress",Pe[Pe.ResponseHeader=2]="ResponseHeader",Pe[Pe.DownloadProgress=3]="DownloadProgress",Pe[Pe.Response=4]="Response",Pe[Pe.User=5]="User",Pe}(Qe||{});class Lt{constructor(de,Ce=200,Ke="OK"){this.headers=de.headers||new be,this.status=void 0!==de.status?de.status:Ce,this.statusText=de.statusText||Ke,this.url=de.url||null,this.ok=this.status>=200&&this.status<300}}class rt extends Lt{constructor(de={}){super(de),this.type=Qe.ResponseHeader}clone(de={}){return new rt({headers:de.headers||this.headers,status:void 0!==de.status?de.status:this.status,statusText:de.statusText||this.statusText,url:de.url||this.url||void 0})}}class ht extends Lt{constructor(de={}){super(de),this.type=Qe.Response,this.body=void 0!==de.body?de.body:null}clone(de={}){return new ht({body:void 0!==de.body?de.body:this.body,headers:de.headers||this.headers,status:void 0!==de.status?de.status:this.status,statusText:de.statusText||this.statusText,url:de.url||this.url||void 0})}}class Re extends Lt{constructor(de){super(de,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${de.url||"(unknown url)"}`:`Http failure response for ${de.url||"(unknown url)"}: ${de.status} ${de.statusText}`,this.error=de.error||null}}function ft(Pe,de){return{body:de,headers:Pe.headers,context:Pe.context,observe:Pe.observe,params:Pe.params,reportProgress:Pe.reportProgress,responseType:Pe.responseType,withCredentials:Pe.withCredentials}}let ae=(()=>{class Pe{constructor(Ce){this.handler=Ce}request(Ce,Ke,Dt={}){let St;if(Ce instanceof pt)St=Ce;else{let en,di;en=Dt.headers instanceof be?Dt.headers:new be(Dt.headers),Dt.params&&(di=Dt.params instanceof we?Dt.params:new we({fromObject:Dt.params})),St=new pt(Ce,Ke,void 0!==Dt.body?Dt.body:null,{headers:en,context:Dt.context,params:di,reportProgress:Dt.reportProgress,responseType:Dt.responseType||"json",withCredentials:Dt.withCredentials})}const It=(0,X.of)(St).pipe((0,q.b)(en=>this.handler.handle(en)));if(Ce instanceof pt||"events"===Dt.observe)return It;const qt=It.pipe((0,e.h)(en=>en instanceof ht));switch(Dt.observe||"body"){case"body":switch(St.responseType){case"arraybuffer":return qt.pipe((0,Q.U)(en=>{if(null!==en.body&&!(en.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return en.body}));case"blob":return qt.pipe((0,Q.U)(en=>{if(null!==en.body&&!(en.body instanceof Blob))throw new Error("Response is not a Blob.");return en.body}));case"text":return qt.pipe((0,Q.U)(en=>{if(null!==en.body&&"string"!=typeof en.body)throw new Error("Response is not a string.");return en.body}));default:return qt.pipe((0,Q.U)(en=>en.body))}case"response":return qt;default:throw new Error(`Unreachable: unhandled observe type ${Dt.observe}}`)}}delete(Ce,Ke={}){return this.request("DELETE",Ce,Ke)}get(Ce,Ke={}){return this.request("GET",Ce,Ke)}head(Ce,Ke={}){return this.request("HEAD",Ce,Ke)}jsonp(Ce,Ke){return this.request("JSONP",Ce,{params:(new we).append(Ke,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ce,Ke={}){return this.request("OPTIONS",Ce,Ke)}patch(Ce,Ke,Dt={}){return this.request("PATCH",Ce,ft(Dt,Ke))}post(Ce,Ke,Dt={}){return this.request("POST",Ce,ft(Dt,Ke))}put(Ce,Ke,Dt={}){return this.request("PUT",Ce,ft(Dt,Ke))}static#e=this.\u0275fac=function(Ke){return new(Ke||Pe)(g.LFG(Ae))};static#t=this.\u0275prov=g.Yz7({token:Pe,factory:Pe.\u0275fac})}return Pe})();function cn(Pe,de){return de(Pe)}function ut(Pe,de){return(Ce,Ke)=>de.intercept(Ce,{handle:Dt=>Pe(Dt,Ke)})}const Zt=new g.OlP(""),wt=new g.OlP(""),wn=new g.OlP("");function pn(){let Pe=null;return(de,Ce)=>{null===Pe&&(Pe=((0,g.f3M)(Zt,{optional:!0})??[]).reduceRight(ut,cn));const Ke=(0,g.f3M)(g.HDt),Dt=Ke.add();return Pe(de,Ce).pipe((0,Le.x)(()=>Ke.remove(Dt)))}}let fe=(()=>{class Pe extends Ae{constructor(Ce,Ke){super(),this.backend=Ce,this.injector=Ke,this.chain=null,this.pendingTasks=(0,g.f3M)(g.HDt)}handle(Ce){if(null===this.chain){const Dt=Array.from(new Set([...this.injector.get(wt),...this.injector.get(wn,[])]));this.chain=Dt.reduceRight((St,It)=>function sn(Pe,de,Ce){return(Ke,Dt)=>Ce.runInContext(()=>de(Ke,St=>Pe(St,Dt)))}(St,It,this.injector),cn)}const Ke=this.pendingTasks.add();return this.chain(Ce,Dt=>this.backend.handle(Dt)).pipe((0,Le.x)(()=>this.pendingTasks.remove(Ke)))}static#e=this.\u0275fac=function(Ke){return new(Ke||Pe)(g.LFG(ne),g.LFG(g.lqb))};static#t=this.\u0275prov=g.Yz7({token:Pe,factory:Pe.\u0275fac})}return Pe})();const ri=/^\)\]\}',?\n/;let $t=(()=>{class Pe{constructor(Ce){this.xhrFactory=Ce}handle(Ce){if("JSONP"===Ce.method)throw new g.vHH(-2800,!1);const Ke=this.xhrFactory;return(Ke.\u0275loadImpl?(0,Y.D)(Ke.\u0275loadImpl()):(0,X.of)(null)).pipe((0,pe.w)(()=>new ce.y(St=>{const It=Ke.build();if(It.open(Ce.method,Ce.urlWithParams),Ce.withCredentials&&(It.withCredentials=!0),Ce.headers.forEach((nn,Sn)=>It.setRequestHeader(nn,Sn.join(","))),Ce.headers.has("Accept")||It.setRequestHeader("Accept","application/json, text/plain, */*"),!Ce.headers.has("Content-Type")){const nn=Ce.detectContentTypeHeader();null!==nn&&It.setRequestHeader("Content-Type",nn)}if(Ce.responseType){const nn=Ce.responseType.toLowerCase();It.responseType="json"!==nn?nn:"text"}const qt=Ce.serializeBody();let en=null;const di=()=>{if(null!==en)return en;const nn=It.statusText||"OK",Sn=new be(It.getAllResponseHeaders()),zn=function tn(Pe){return"responseURL"in Pe&&Pe.responseURL?Pe.responseURL:/^X-Request-URL:/m.test(Pe.getAllResponseHeaders())?Pe.getResponseHeader("X-Request-URL"):null}(It)||Ce.url;return en=new rt({headers:Sn,status:It.status,statusText:nn,url:zn}),en},ln=()=>{let{headers:nn,status:Sn,statusText:zn,url:Si}=di(),Vt=null;204!==Sn&&(Vt=typeof It.response>"u"?It.responseText:It.response),0===Sn&&(Sn=Vt?200:0);let mn=Sn>=200&&Sn<300;if("json"===Ce.responseType&&"string"==typeof Vt){const Ii=Vt;Vt=Vt.replace(ri,"");try{Vt=""!==Vt?JSON.parse(Vt):null}catch(bi){Vt=Ii,mn&&(mn=!1,Vt={error:bi,text:Vt})}}mn?(St.next(new ht({body:Vt,headers:nn,status:Sn,statusText:zn,url:Si||void 0})),St.complete()):St.error(new Re({error:Vt,headers:nn,status:Sn,statusText:zn,url:Si||void 0}))},$n=nn=>{const{url:Sn}=di(),zn=new Re({error:nn,status:It.status||0,statusText:It.statusText||"Unknown Error",url:Sn||void 0});St.error(zn)};let Jt=!1;const Un=nn=>{Jt||(St.next(di()),Jt=!0);let Sn={type:Qe.DownloadProgress,loaded:nn.loaded};nn.lengthComputable&&(Sn.total=nn.total),"text"===Ce.responseType&&It.responseText&&(Sn.partialText=It.responseText),St.next(Sn)},ni=nn=>{let Sn={type:Qe.UploadProgress,loaded:nn.loaded};nn.lengthComputable&&(Sn.total=nn.total),St.next(Sn)};return It.addEventListener("load",ln),It.addEventListener("error",$n),It.addEventListener("timeout",$n),It.addEventListener("abort",$n),Ce.reportProgress&&(It.addEventListener("progress",Un),null!==qt&&It.upload&&It.upload.addEventListener("progress",ni)),It.send(qt),St.next({type:Qe.Sent}),()=>{It.removeEventListener("error",$n),It.removeEventListener("abort",$n),It.removeEventListener("load",ln),It.removeEventListener("timeout",$n),Ce.reportProgress&&(It.removeEventListener("progress",Un),null!==qt&&It.upload&&It.upload.removeEventListener("progress",ni)),It.readyState!==It.DONE&&It.abort()}})))}static#e=this.\u0275fac=function(Ke){return new(Ke||Pe)(g.LFG(me.JF))};static#t=this.\u0275prov=g.Yz7({token:Pe,factory:Pe.\u0275fac})}return Pe})();const Ln=new g.OlP("XSRF_ENABLED"),dn=new g.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),gn=new g.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Ti{}let gi=(()=>{class Pe{constructor(Ce,Ke,Dt){this.doc=Ce,this.platform=Ke,this.cookieName=Dt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ce=this.doc.cookie||"";return Ce!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,me.Mx)(Ce,this.cookieName),this.lastCookieString=Ce),this.lastToken}static#e=this.\u0275fac=function(Ke){return new(Ke||Pe)(g.LFG(me.K0),g.LFG(g.Lbi),g.LFG(dn))};static#t=this.\u0275prov=g.Yz7({token:Pe,factory:Pe.\u0275fac})}return Pe})();function Ri(Pe,de){const Ce=Pe.url.toLowerCase();if(!(0,g.f3M)(Ln)||"GET"===Pe.method||"HEAD"===Pe.method||Ce.startsWith("http://")||Ce.startsWith("https://"))return de(Pe);const Ke=(0,g.f3M)(Ti).getToken(),Dt=(0,g.f3M)(gn);return null!=Ke&&!Pe.headers.has(Dt)&&(Pe=Pe.clone({headers:Pe.headers.set(Dt,Ke)})),de(Pe)}var Bn=function(Pe){return Pe[Pe.Interceptors=0]="Interceptors",Pe[Pe.LegacyInterceptors=1]="LegacyInterceptors",Pe[Pe.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Pe[Pe.NoXsrfProtection=3]="NoXsrfProtection",Pe[Pe.JsonpSupport=4]="JsonpSupport",Pe[Pe.RequestsMadeViaParent=5]="RequestsMadeViaParent",Pe[Pe.Fetch=6]="Fetch",Pe}(Bn||{});function yn(...Pe){const de=[ae,$t,fe,{provide:Ae,useExisting:fe},{provide:ne,useExisting:$t},{provide:wt,useValue:Ri,multi:!0},{provide:Ln,useValue:!0},{provide:Ti,useClass:gi}];for(const Ce of Pe)de.push(...Ce.\u0275providers);return(0,g.MR2)(de)}const Ai=new g.OlP("LEGACY_INTERCEPTOR_FN");function qi(){return function Vn(Pe,de){return{\u0275kind:Pe,\u0275providers:de}}(Bn.LegacyInterceptors,[{provide:Ai,useFactory:pn},{provide:wt,useExisting:Ai,multi:!0}])}let j=(()=>{class Pe{static#e=this.\u0275fac=function(Ke){return new(Ke||Pe)};static#t=this.\u0275mod=g.oAB({type:Pe});static#n=this.\u0275inj=g.cJS({providers:[yn(qi())]})}return Pe})()},1699:(Pt,ke,M)=>{"use strict";M.d(ke,{$8M:()=>Nc,$WT:()=>_i,$Z:()=>gp,AFp:()=>Lf,ALo:()=>YD,AaK:()=>ne,AsE:()=>al,BQk:()=>fu,CHM:()=>ro,CRH:()=>ub,DdM:()=>BD,EJc:()=>BE,EiD:()=>If,EpF:()=>cg,F$t:()=>fg,F4k:()=>lg,FYo:()=>Gf,FiY:()=>$s,Gf:()=>cb,GfV:()=>sc,GkF:()=>ch,Gpc:()=>Ue,HDt:()=>Pb,Hsn:()=>pg,Ikx:()=>Z0,JOm:()=>Uc,JVY:()=>Gm,JZr:()=>gt,KtG:()=>va,L6k:()=>zm,LAX:()=>Wm,LFG:()=>ot,LMc:()=>qT,LSH:()=>fd,Lbi:()=>yd,Lck:()=>Sw,MAs:()=>rg,MGl:()=>pu,MMx:()=>xD,MR2:()=>gd,NdJ:()=>uh,Ojb:()=>__,OlP:()=>vi,Oqu:()=>qs,P3R:()=>Of,PXZ:()=>dT,Q6J:()=>rh,QGY:()=>lh,Qsj:()=>O_,R0b:()=>$o,RDi:()=>l1,Rgc:()=>Sh,SBq:()=>rc,SDv:()=>ED,Sil:()=>jE,Suo:()=>lb,TTD:()=>xn,TgZ:()=>uu,Tol:()=>Fe,Udp:()=>I,VKq:()=>UD,VuI:()=>YT,W1O:()=>pb,WLB:()=>HD,X6Q:()=>yT,XFs:()=>Rt,Xpm:()=>Ir,Xq5:()=>$p,Xts:()=>Yc,Y36:()=>lc,YKP:()=>SD,YNc:()=>ig,Yjl:()=>$r,Yz7:()=>Zt,Z0I:()=>fe,ZZ4:()=>Cy,_Bn:()=>AD,_UZ:()=>ah,_c5:()=>RT,_uU:()=>da,aQg:()=>wy,c2e:()=>Nb,cJS:()=>wn,cg1:()=>V0,dDg:()=>aT,dqk:()=>$t,eBb:()=>Ym,eFA:()=>Vb,eJc:()=>sy,ekj:()=>J,eoX:()=>Ub,f3M:()=>Et,g9A:()=>Bf,h0i:()=>dl,hGG:()=>FT,hij:()=>Fa,iGM:()=>ab,ifc:()=>St,ip1:()=>Ob,jDz:()=>OD,kEZ:()=>jD,kL8:()=>K1,lG2:()=>xo,lcZ:()=>WD,lqb:()=>ks,lri:()=>Lb,mCW:()=>Hl,n5z:()=>Zh,oAB:()=>ir,oJD:()=>xf,oxw:()=>hg,pB0:()=>Cf,q3G:()=>Aa,qFp:()=>JT,qLn:()=>ca,qOj:()=>Qd,qZA:()=>du,qzn:()=>Ps,rWj:()=>Bb,rg0:()=>re,s9C:()=>fh,sBO:()=>DT,s_b:()=>jg,soG:()=>Vg,tb:()=>my,tp0:()=>ra,uIk:()=>Kd,vHH:()=>we,vpe:()=>Fs,wAp:()=>yu,xi3:()=>qD,xp6:()=>fp,ynx:()=>hu,z2F:()=>wu,z3N:()=>Gs,zSh:()=>hr,zW0:()=>Hp,zs3:()=>Es});var g=M(9877),X=M(6482),Y=M(2235),ce=M(7835),q=M(8071),e=M(4980),Q=M(5584),Le=M(1891),pe=M(3317);function me(t){for(let n in t)if(t[n]===me)return n;throw Error("Could not find renamed property on target object.")}function Ae(t,n){for(const o in n)n.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=n[o])}function ne(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ne).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const o=n.indexOf("\n");return-1===o?n:n.substring(0,o)}function be(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const xe=me({__forward_ref__:me});function Ue(t){return t.__forward_ref__=Ue,t.toString=function(){return ne(this())},t}function Ye(t){return ee(t)?t():t}function ee(t){return"function"==typeof t&&t.hasOwnProperty(xe)&&t.__forward_ref__===Ue}function Oe(t){return t&&!!t.\u0275providers}const gt="https://g.co/ng/security#xss";class we extends Error{constructor(n,o){super(function ge(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,o)),this.code=n}}function le(t){return"string"==typeof t?t:null==t?"":String(t)}function He(t,n){throw new we(-201,!1)}function nt(t,n,o,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${o} ${a} ${n} <=Actual]`))}function Zt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function wn(t){return{providers:t.providers||[],imports:t.imports||[]}}function pn(t){return ye(t,_t)||ye(t,Dn)}function fe(t){return null!==pn(t)}function ye(t,n){return t.hasOwnProperty(n)?t[n]:null}function ze(t){return t&&(t.hasOwnProperty(Nt)||t.hasOwnProperty(on))?t[Nt]:null}const _t=me({\u0275prov:me}),Nt=me({\u0275inj:me}),Dn=me({ngInjectableDef:me}),on=me({ngInjectorDef:me});var Rt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Rt||{});let At;function Zn(t){const n=At;return At=t,n}function ri(t,n,o){const a=pn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&Rt.Optional?null:void 0!==n?n:void He(ne(t))}const $t=globalThis,Ai={},qi="__NG_DI_FLAG__",Zi="ngTempTokenPath",Go=/\n/gm,$e="__source";let se;function ie(t){const n=se;return se=t,n}function Ne(t,n=Rt.Default){if(void 0===se)throw new we(-203,!1);return null===se?ri(t,void 0,n):se.get(t,n&Rt.Optional?null:void 0,n)}function ot(t,n=Rt.Default){return(function xt(){return At}()||Ne)(Ye(t),n)}function Et(t,n=Rt.Default){return ot(t,Wt(n))}function Wt(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function An(t){const n=[];for(let o=0;o<t.length;o++){const a=Ye(t[o]);if(Array.isArray(a)){if(0===a.length)throw new we(900,!1);let l,h=Rt.Default;for(let m=0;m<a.length;m++){const v=a[m],w=Pe(v);"number"==typeof w?-1===w?l=v.token:h|=w:l=v}n.push(ot(l,h))}else n.push(ot(a))}return n}function kn(t,n){return t[qi]=n,t.prototype[qi]=n,t}function Pe(t){return t[qi]}function Ke(t){return{toString:t}.toString()}var Dt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Dt||{}),St=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(St||{});const It={},qt=[],en=me({\u0275cmp:me}),di=me({\u0275dir:me}),ln=me({\u0275pipe:me}),$n=me({\u0275mod:me}),Jt=me({\u0275fac:me}),Un=me({__NG_ELEMENT_ID__:me}),ni=me({__NG_ENV_ID__:me});function nn(t,n,o){let a=t.length;for(;;){const l=t.indexOf(n,o);if(-1===l)return l;if(0===l||t.charCodeAt(l-1)<=32){const h=n.length;if(l+h===a||t.charCodeAt(l+h)<=32)return l}o=l+1}}function Sn(t,n,o){let a=0;for(;a<o.length;){const l=o[a];if("number"==typeof l){if(0!==l)break;a++;const h=o[a++],m=o[a++],v=o[a++];t.setAttribute(n,m,v,h)}else{const h=l,m=o[++a];Si(h)?t.setProperty(n,h,m):t.setAttribute(n,h,m),a++}}return a}function zn(t){return 3===t||4===t||6===t}function Si(t){return 64===t.charCodeAt(0)}function Vt(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let o=-1;for(let a=0;a<n.length;a++){const l=n[a];"number"==typeof l?o=l:0===o||mn(t,o,l,null,-1===o||2===o?n[++a]:null)}}return t}function mn(t,n,o,a,l){let h=0,m=t.length;if(-1===n)m=-1;else for(;h<t.length;){const v=t[h++];if("number"==typeof v){if(v===n){m=-1;break}if(v>n){m=h-1;break}}}for(;h<t.length;){const v=t[h];if("number"==typeof v)break;if(v===o){if(null===a)return void(null!==l&&(t[h+1]=l));if(a===t[h+1])return void(t[h+2]=l)}h++,null!==a&&h++,null!==l&&h++}-1!==m&&(t.splice(m,0,n),h=m+1),t.splice(h++,0,o),null!==a&&t.splice(h++,0,a),null!==l&&t.splice(h++,0,l)}const Ii="ng-template";function bi(t,n,o){let a=0,l=!0;for(;a<t.length;){let h=t[a++];if("string"==typeof h&&l){const m=t[a++];if(o&&"class"===h&&-1!==nn(m.toLowerCase(),n,0))return!0}else{if(1===h){for(;a<t.length&&"string"==typeof(h=t[a++]);)if(h.toLowerCase()===n)return!0;return!1}"number"==typeof h&&(l=!1)}}return!1}function Vi(t){return 4===t.type&&t.value!==Ii}function _o(t,n,o){return n===(4!==t.type||o?t.value:Ii)}function hn(t,n,o){let a=4;const l=t.attrs||[],h=function Qs(t){for(let n=0;n<t.length;n++)if(zn(t[n]))return n;return t.length}(l);let m=!1;for(let v=0;v<n.length;v++){const w=n[v];if("number"!=typeof w){if(!m)if(4&a){if(a=2|1&a,""!==w&&!_o(t,w,o)||""===w&&1===n.length){if(En(a))return!1;m=!0}}else{const N=8&a?w:n[++v];if(8&a&&null!==t.attrs){if(!bi(t.attrs,N,o)){if(En(a))return!1;m=!0}continue}const te=to(8&a?"class":w,l,Vi(t),o);if(-1===te){if(En(a))return!1;m=!0;continue}if(""!==N){let Ie;Ie=te>h?"":l[te+1].toLowerCase();const je=8&a?Ie:null;if(je&&-1!==nn(je,N,0)||2&a&&N!==Ie){if(En(a))return!1;m=!0}}}}else{if(!m&&!En(a)&&!En(w))return!1;if(m&&En(w))continue;m=!1,a=w|1&a}}return En(a)||m}function En(t){return 0==(1&t)}function to(t,n,o,a){if(null===n)return-1;let l=0;if(a||!o){let h=!1;for(;l<n.length;){const m=n[l];if(m===t)return l;if(3===m||6===m)h=!0;else{if(1===m||2===m){let v=n[++l];for(;"string"==typeof v;)v=n[++l];continue}if(4===m)break;if(0===m){l+=4;continue}}l+=h?1:2}return-1}return function Sr(t,n){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const a=t[o];if("number"==typeof a)return-1;if(a===n)return o;o++}return-1}(n,t)}function zo(t,n,o=!1){for(let a=0;a<n.length;a++)if(hn(t,n[a],o))return!0;return!1}function Fo(t,n){e:for(let o=0;o<n.length;o++){const a=n[o];if(t.length===a.length){for(let l=0;l<t.length;l++)if(t[l]!==a[l])continue e;return!0}}return!1}function mi(t,n){return t?":not("+n.trim()+")":n}function no(t){let n=t[0],o=1,a=2,l="",h=!1;for(;o<t.length;){let m=t[o];if("string"==typeof m)if(2&a){const v=t[++o];l+="["+m+(v.length>0?'="'+v+'"':"")+"]"}else 8&a?l+="."+m:4&a&&(l+=" "+m);else""!==l&&!En(m)&&(n+=mi(h,l),l=""),a=m,h=h||!En(a);o++}return""!==l&&(n+=mi(h,l)),n}function Ir(t){return Ke(()=>{const n=or(t),o={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Dt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||St.Emulated,styles:t.styles||qt,_:null,schemas:t.schemas||null,tView:null,id:""};mr(o);const a=t.dependencies;return o.directiveDefs=io(a,!1),o.pipeDefs=io(a,!0),o.id=function Lo(t){let n=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const l of o)n=Math.imul(31,n)+l.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(o),o})}function tr(t){return vn(t)||yi(t)}function nr(t){return null!==t}function ir(t){return Ke(()=>({type:t.type,bootstrap:t.bootstrap||qt,declarations:t.declarations||qt,imports:t.imports||qt,exports:t.exports||qt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Vr(t,n){if(null==t)return It;const o={};for(const a in t)if(t.hasOwnProperty(a)){let l=t[a],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),o[l]=a,n&&(n[l]=h)}return o}function xo(t){return Ke(()=>{const n=or(t);return mr(n),n})}function $r(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function vn(t){return t[en]||null}function yi(t){return t[di]||null}function zt(t){return t[ln]||null}function _i(t){const n=vn(t)||yi(t)||zt(t);return null!==n&&n.standalone}function bn(t,n){const o=t[$n]||null;if(!o&&!0===n)throw new Error(`Type ${ne(t)} does not have '\u0275mod' property.`);return o}function or(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||It,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||qt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Vr(t.inputs,n),outputs:Vr(t.outputs)}}function mr(t){t.features?.forEach(n=>n(t))}function io(t,n){if(!t)return null;const o=n?zt:tr;return()=>("function"==typeof t?t():t).map(a=>o(a)).filter(nr)}const Jn=0,jt=1,Xt=2,Yn=3,$i=4,Oo=5,Ci=6,_r=7,ai=8,lo=9,Bo=10,Ht=11,vr=12,Qi=13,uo=14,pi=15,Mo=16,Yo=17,vo=18,rr=19,zr=20,yr=21,No=22,xr=23,Ki=24,Rn=25,yo=1,sr=2,Gi=7,Or=9,Yi=11;function bo(t){return Array.isArray(t)&&"object"==typeof t[yo]}function Fi(t){return Array.isArray(t)&&!0===t[yo]}function Wo(t){return 0!=(4&t.flags)}function qo(t){return t.componentOffset>-1}function ar(t){return 1==(1&t.flags)}function Xi(t){return!!t.template}function Co(t){return 0!=(512&t[Xt])}function kr(t,n){return t.hasOwnProperty(Jt)?t[Jt]:null}let Oi=null,ms=!1;function hi(t){const n=Oi;return Oi=t,n}const _s={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Us(t){if(!Uo(t)||t.dirty){if(!t.producerMustRecompute(t)&&!ss(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Rr(t){t.dirty=!0,function Jo(t){if(void 0===t.liveConsumerNode)return;const n=ms;ms=!0;try{for(const o of t.liveConsumerNode)o.dirty||Rr(o)}finally{ms=n}}(t),t.consumerMarkedDirty?.(t)}function qr(t){return t&&(t.nextProducerIndex=0),hi(t)}function Fr(t,n){if(hi(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Uo(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)Lr(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ss(t){lr(t);for(let n=0;n<t.producerNode.length;n++){const o=t.producerNode[n],a=t.producerLastReadVersion[n];if(a!==o.version||(Us(o),a!==o.version))return!0}return!1}function as(t){if(lr(t),Uo(t))for(let n=0;n<t.producerNode.length;n++)Lr(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Lr(t,n){if(function Is(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),lr(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)Lr(t.producerNode[a],t.producerIndexOfThis[a]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[n],l=t.liveConsumerNode[n];lr(l),l.producerIndexOfThis[a]=n}}function Uo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function lr(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Ho=null;function re(t){const n=hi(null);try{return t()}finally{hi(n)}}const mt=()=>{},Qt=(()=>({..._s,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:mt}))();class si{constructor(n,o,a){this.previousValue=n,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function xn(){return fn}function fn(t){return t.type.prototype.ngOnChanges&&(t.setInput=ci),wi}function wi(){const t=Qo(this),n=t?.current;if(n){const o=t.previous;if(o===It)t.previous=n;else for(let a in n)o[a]=n[a];t.current=null,this.ngOnChanges(n)}}function ci(t,n,o,a){const l=this.declaredInputs[o],h=Qo(t)||function jo(t,n){return t[Ei]=n}(t,{previous:It,current:null}),m=h.current||(h.current={}),v=h.previous,w=v[l];m[l]=new si(w&&w.currentValue,n,v===It),t[a]=n}xn.ngInherit=!0;const Ei="__ngSimpleChanges__";function Qo(t){return t[Ei]||null}const Bi=function(t,n,o){};function li(t){for(;Array.isArray(t);)t=t[Jn];return t}function s(t,n){return li(n[t])}function d(t,n){return li(n[t.index])}function C(t,n){return t.data[n]}function O(t,n){return t[n]}function $(t,n){const o=n[t];return bo(o)?o:o[Jn]}function bt(t,n){return null==n?null:t[n]}function Ut(t){t[Yo]=0}function _n(t){1024&t[Xt]||(t[Xt]|=1024,Kn(t,1))}function Tn(t){1024&t[Xt]&&(t[Xt]&=-1025,Kn(t,-1))}function Kn(t,n){let o=t[Yn];if(null===o)return;o[Oo]+=n;let a=o;for(o=o[Yn];null!==o&&(1===n&&1===a[Oo]||-1===n&&0===a[Oo]);)o[Oo]+=n,a=o,o=o[Yn]}const Kt={lFrame:Ni(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Te(){return Kt.bindingsEnabled}function dt(){return null!==Kt.skipHydrationRootTNode}function Ct(){return Kt.lFrame.lView}function Fn(){return Kt.lFrame.tView}function ro(t){return Kt.lFrame.contextLView=t,t[ai]}function va(t){return Kt.lFrame.contextLView=null,t}function Ui(){let t=Zs();for(;null!==t&&64===t.type;)t=t.parent;return t}function Zs(){return Kt.lFrame.currentTNode}function Ur(){const t=Kt.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function ur(t,n){const o=Kt.lFrame;o.currentTNode=t,o.isParent=n}function Mc(){return Kt.lFrame.isParent}function ya(){Kt.lFrame.isParent=!1}function dr(){const t=Kt.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Da(){return Kt.lFrame.bindingIndex++}function Ds(t){const n=Kt.lFrame,o=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,o}function D(t){Kt.lFrame.inI18n=t}function E(t,n){const o=Kt.lFrame;o.bindingIndex=o.bindingRootIndex=t,T(n)}function T(t){Kt.lFrame.currentDirectiveIndex=t}function G(){return Kt.lFrame.currentQueryIndex}function oe(t){Kt.lFrame.currentQueryIndex=t}function Xe(t){const n=t[jt];return 2===n.type?n.declTNode:1===n.type?t[Ci]:null}function qe(t,n,o){if(o&Rt.SkipSelf){let l=n,h=t;for(;!(l=l.parent,null!==l||o&Rt.Host||(l=Xe(h),null===l||(h=h[uo],10&l.type))););if(null===l)return!1;n=l,t=h}const a=Kt.lFrame=On();return a.currentTNode=n,a.lView=t,!0}function Gt(t){const n=On(),o=t[jt];Kt.lFrame=n,n.currentTNode=o.firstChild,n.lView=t,n.tView=o,n.contextLView=t,n.bindingIndex=o.bindingStartIndex,n.inI18n=!1}function On(){const t=Kt.lFrame,n=null===t?null:t.child;return null===n?Ni(t):n}function Ni(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function ei(){const t=Kt.lFrame;return Kt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Kr=ei;function xs(){const t=ei();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function To(){return Kt.lFrame.selectedIndex}function na(t){Kt.lFrame.selectedIndex=t}function po(){const t=Kt.lFrame;return C(t.tView,t.selectedIndex)}let Mu=!0;function go(){return Mu}function Xr(t){Mu=t}function ml(t,n){for(let o=n.directiveStart,a=n.directiveEnd;o<a;o++){const h=t.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:v,ngAfterViewInit:w,ngAfterViewChecked:N,ngOnDestroy:V}=h;m&&(t.contentHooks??=[]).push(-o,m),v&&((t.contentHooks??=[]).push(o,v),(t.contentCheckHooks??=[]).push(o,v)),w&&(t.viewHooks??=[]).push(-o,w),N&&((t.viewHooks??=[]).push(o,N),(t.viewCheckHooks??=[]).push(o,N)),null!=V&&(t.destroyHooks??=[]).push(o,V)}}function _l(t,n,o){Ph(t,n,3,o)}function ba(t,n,o,a){(3&t[Xt])===o&&Ph(t,n,o,a)}function Ac(t,n){let o=t[Xt];(3&o)===n&&(o&=8191,o+=1,t[Xt]=o)}function Ph(t,n,o,a){const h=a??-1,m=n.length-1;let v=0;for(let w=void 0!==a?65535&t[Yo]:0;w<m;w++)if("number"==typeof n[w+1]){if(v=n[w],null!=a&&v>=a)break}else n[w]<0&&(t[Yo]+=65536),(v<h||-1==h)&&(Jg(t,o,n,w),t[Yo]=(4294901760&t[Yo])+w+2),w++}function kh(t,n){Bi(4,t,n);const o=hi(null);try{n.call(t)}finally{hi(o),Bi(5,t,n)}}function Jg(t,n,o,a){const l=o[a]<0,h=o[a+1],v=t[l?-o[a]:o[a]];l?t[Xt]>>13<t[Yo]>>16&&(3&t[Xt])===n&&(t[Xt]+=8192,kh(v,h)):kh(v,h)}const Va=-1;class Sc{constructor(n,o,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function Vs(t){return t!==Va}function Ic(t){return 32767&t}function ia(t,n){let o=function Su(t){return t>>16}(t),a=n;for(;o>0;)a=a[uo],o--;return a}let Iu=!0;function Dl(t){const n=Iu;return Iu=t,n}const Pi=255,Rh=5;let xu=0;const Os={};function bl(t,n){const o=Nu(t,n);if(-1!==o)return o;const a=n[jt];a.firstCreatePass&&(t.injectorIndex=n.length,Cl(a.data,t),Cl(n,null),Cl(a.blueprint,null));const l=$a(t,n),h=t.injectorIndex;if(Vs(l)){const m=Ic(l),v=ia(l,n),w=v[jt].data;for(let N=0;N<8;N++)n[h+N]=v[m+N]|w[m+N]}return n[h+8]=l,h}function Cl(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Nu(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function $a(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,a=null,l=n;for(;null!==l;){if(a=Ru(l),null===a)return Va;if(o++,l=l[uo],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return Va}function Ga(t,n,o){!function Ou(t,n,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(Un)&&(a=o[Un]),null==a&&(a=o[Un]=xu++);const l=a&Pi;n.data[t+(l>>Rh)]|=1<<l}(t,n,o)}function Lh(t,n,o){if(o&Rt.Optional||void 0!==t)return t;He()}function Bh(t,n,o,a){if(o&Rt.Optional&&void 0===a&&(a=null),!(o&(Rt.Self|Rt.Host))){const l=t[lo],h=Zn(void 0);try{return l?l.get(n,a,o&Rt.Optional):ri(n,a,o&Rt.Optional)}finally{Zn(h)}}return Lh(a,0,o)}function wl(t,n,o,a=Rt.Default,l){if(null!==t){if(2048&n[Xt]&&!(a&Rt.Self)){const m=function Vh(t,n,o,a,l){let h=t,m=n;for(;null!==h&&null!==m&&2048&m[Xt]&&!(512&m[Xt]);){const v=Pu(h,m,o,a|Rt.Self,Os);if(v!==Os)return v;let w=h.parent;if(!w){const N=m[zr];if(N){const V=N.get(o,Os,a);if(V!==Os)return V}w=Ru(m),m=m[uo]}h=w}return l}(t,n,o,a,Os);if(m!==Os)return m}const h=Pu(t,n,o,a,Os);if(h!==Os)return h}return Bh(n,o,a,l)}function Pu(t,n,o,a,l){const h=function Xg(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Un)?t[Un]:void 0;return"number"==typeof n?n>=0?n&Pi:tm:n}(o);if("function"==typeof h){if(!qe(n,t,a))return a&Rt.Host?Lh(l,0,a):Bh(n,o,a,l);try{let m;if(m=h(a),null!=m||a&Rt.Optional)return m;He()}finally{Kr()}}else if("number"==typeof h){let m=null,v=Nu(t,n),w=Va,N=a&Rt.Host?n[pi][Ci]:null;for((-1===v||a&Rt.SkipSelf)&&(w=-1===v?$a(t,n):n[v+8],w!==Va&&jh(a,!1)?(m=n[jt],v=Ic(w),n=ia(w,n)):v=-1);-1!==v;){const V=n[jt];if(Hh(h,v,V.data)){const te=Uh(v,n,o,m,a,N);if(te!==Os)return te}w=n[v+8],w!==Va&&jh(a,n[jt].data[v+8]===N)&&Hh(h,v,n)?(m=V,v=Ic(w),n=ia(w,n)):v=-1}}return l}function Uh(t,n,o,a,l,h){const m=n[jt],v=m.data[t+8],V=xc(v,m,o,null==a?qo(v)&&Iu:a!=m&&0!=(3&v.type),l&Rt.Host&&h===v);return null!==V?Ca(n,m,V,v):Os}function xc(t,n,o,a,l){const h=t.providerIndexes,m=n.data,v=1048575&h,w=t.directiveStart,V=h>>20,Ie=l?v+V:t.directiveEnd;for(let je=a?v:v+V;je<Ie;je++){const yt=m[je];if(je<w&&o===yt||je>=w&&yt.type===o)return je}if(l){const je=m[w];if(je&&Xi(je)&&je.type===o)return w}return null}function Ca(t,n,o,a){let l=t[o];const h=n.data;if(function Qg(t){return t instanceof Sc}(l)){const m=l;m.resolving&&function Je(t,n){const o=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new we(-200,`Circular dependency in DI detected for ${t}${o}`)}(function ct(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():le(t)}(h[o]));const v=Dl(m.canSeeViewProviders);m.resolving=!0;const N=m.injectImpl?Zn(m.injectImpl):null;qe(t,a,Rt.Default);try{l=t[o]=m.factory(void 0,h,t,a),n.firstCreatePass&&o>=a.directiveStart&&function Nh(t,n,o){const{ngOnChanges:a,ngOnInit:l,ngDoCheck:h}=n.type.prototype;if(a){const m=fn(n);(o.preOrderHooks??=[]).push(t,m),(o.preOrderCheckHooks??=[]).push(t,m)}l&&(o.preOrderHooks??=[]).push(0-t,l),h&&((o.preOrderHooks??=[]).push(t,h),(o.preOrderCheckHooks??=[]).push(t,h))}(o,h[o],n)}finally{null!==N&&Zn(N),Dl(v),m.resolving=!1,Kr()}}return l}function Hh(t,n,o){return!!(o[n+(t>>Rh)]&1<<t)}function jh(t,n){return!(t&Rt.Self||t&Rt.Host&&n)}class Tr{constructor(n,o){this._tNode=n,this._lView=o}get(n,o,a){return wl(this._tNode,this._lView,n,Wt(a),o)}}function tm(){return new Tr(Ui(),Ct())}function Zh(t){return Ke(()=>{const n=t.prototype.constructor,o=n[Jt]||ku(n),a=Object.prototype;let l=Object.getPrototypeOf(t.prototype).constructor;for(;l&&l!==a;){const h=l[Jt]||ku(l);if(h&&h!==o)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function ku(t){return ee(t)?()=>{const n=ku(Ye(t));return n&&n()}:kr(t)}function Ru(t){const n=t[jt],o=n.type;return 2===o?n.declTNode:1===o?t[Ci]:null}function Nc(t){return function Fh(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const o=t.attrs;if(o){const a=o.length;let l=0;for(;l<a;){const h=o[l];if(zn(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<a&&"string"==typeof o[l];)l++;else{if(h===n)return o[l+1];l+=2}}}return null}(Ui(),t)}const Ea="__parameters__";function Ya(t,n,o){return Ke(()=>{const a=function Lu(t){return function(...o){if(t){const a=t(...o);for(const l in a)this[l]=a[l]}}}(n);function l(...h){if(this instanceof l)return a.apply(this,h),this;const m=new l(...h);return v.annotation=m,v;function v(w,N,V){const te=w.hasOwnProperty(Ea)?w[Ea]:Object.defineProperty(w,Ea,{value:[]})[Ea];for(;te.length<=V;)te.push(null);return(te[V]=te[V]||[]).push(m),w}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=t,l.annotationCls=l,l})}function Rc(t,n){t.forEach(o=>Array.isArray(o)?Rc(o,n):n(o))}function nm(t,n,o){n>=t.length?t.push(o):t.splice(n,0,o)}function Bu(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function El(t,n){const o=[];for(let a=0;a<t;a++)o.push(n);return o}function Mr(t,n,o){let a=oa(t,n);return a>=0?t[1|a]=o:(a=~a,function ws(t,n,o,a){let l=t.length;if(l==n)t.push(o,a);else if(1===l)t.push(a,t[0]),t[0]=o;else{for(l--,t.push(t[l-1],t[l]);l>n;)t[l]=t[l-2],l--;t[n]=o,t[n+1]=a}}(t,a,n,o)),a}function Tl(t,n){const o=oa(t,n);if(o>=0)return t[1|o]}function oa(t,n){return function Gh(t,n,o){let a=0,l=t.length>>o;for(;l!==a;){const h=a+(l-a>>1),m=t[h<<o];if(n===m)return h<<o;m>n?l=h:a=h+1}return~(l<<o)}(t,n,1)}const $s=kn(Ya("Optional"),8),ra=kn(Ya("SkipSelf"),4);function Bc(t){return 128==(128&t.flags)}var Uc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Uc||{});const hm=/^>|^->|<!--|-->|--!>|<!-$/g,tf=/(<|>)/g,fm="\u200b$1\u200b";const sa=new Map;let kl=0;const Yu="__ngContext__";function Xo(t,n){bo(n)?(t[Yu]=n[rr],function gm(t){sa.set(t[rr],t)}(n)):t[Yu]=n}let Ku;function Xu(t,n){return Ku(t,n)}function Hc(t){const n=t[Yn];return Fi(n)?n[Yn]:n}function bm(t){return wm(t[vr])}function Cm(t){return wm(t[$i])}function wm(t){for(;null!==t&&!Fi(t);)t=t[$i];return t}function Ma(t,n,o,a,l){if(null!=a){let h,m=!1;Fi(a)?h=a:bo(a)&&(m=!0,a=a[Jn]);const v=li(a);0===t&&null!==o?null==l?Im(n,o,v):ec(n,o,v,l||null,!0):1===t&&null!==o?ec(n,o,v,l||null,!0):2===t?function Ul(t,n,o){const a=id(t,n);a&&function Om(t,n,o,a){t.removeChild(n,o,a)}(t,a,n,o)}(n,v,m):3===t&&n.destroyNode(v),null!=h&&function r1(t,n,o,a,l){const h=o[Gi];h!==li(o)&&Ma(n,t,a,h,l);for(let v=Yi;v<o.length;v++){const w=o[v];Vo(w[jt],w,t,n,a,h)}}(n,t,h,o,l)}}function ed(t,n){return t.createText(n)}function Rl(t,n){return t.createComment(function Ka(t){return t.replace(hm,n=>n.replace(tf,fm))}(n))}function td(t,n,o){return t.createElement(n,o)}function Am(t,n){const o=t[Or],a=o.indexOf(n);Tn(n),o.splice(a,1)}function nd(t,n){if(t.length<=Yi)return;const o=Yi+n,a=t[o];if(a){const l=a[Mo];null!==l&&l!==t&&Am(l,a),n>0&&(t[o-1][$i]=a[$i]);const h=Bu(t,Yi+n);!function Xy(t,n){Vo(t,n,n[Ht],2,null,null),n[Jn]=null,n[Ci]=null}(a[jt],a);const m=h[vo];null!==m&&m.detachView(h[jt]),a[Yn]=null,a[$i]=null,a[Xt]&=-129}return a}function uf(t,n){if(!(256&n[Xt])){const o=n[Ht];n[xr]&&as(n[xr]),n[Ki]&&as(n[Ki]),o.destroyNode&&Vo(t,n,o,3,null,null),function Mm(t){let n=t[vr];if(!n)return df(t[jt],t);for(;n;){let o=null;if(bo(n))o=n[vr];else{const a=n[Yi];a&&(o=a)}if(!o){for(;n&&!n[$i]&&n!==t;)bo(n)&&df(n[jt],n),n=n[Yn];null===n&&(n=t),bo(n)&&df(n[jt],n),o=n&&n[$i]}n=o}}(n)}}function df(t,n){if(!(256&n[Xt])){n[Xt]&=-129,n[Xt]|=256,function o1(t,n){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let a=0;a<o.length;a+=2){const l=n[o[a]];if(!(l instanceof Sc)){const h=o[a+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const v=l[h[m]],w=h[m+1];Bi(4,v,w);try{w.call(v)}finally{Bi(5,v,w)}}else{Bi(4,l,h);try{h.call(l)}finally{Bi(5,l,h)}}}}}(t,n),function n1(t,n){const o=t.cleanup,a=n[_r];if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const m=o[h+3];m>=0?a[m]():a[-m].unsubscribe(),h+=2}else o[h].call(a[o[h+1]]);null!==a&&(n[_r]=null);const l=n[yr];if(null!==l){n[yr]=null;for(let h=0;h<l.length;h++)(0,l[h])()}}(t,n),1===n[jt].type&&n[Ht].destroy();const o=n[Mo];if(null!==o&&Fi(n[Yn])){o!==n[Yn]&&Am(o,n);const a=n[vo];null!==a&&a.detachView(t)}!function mm(t){sa.delete(t[rr])}(n)}}function Fl(t,n,o){return Sm(t,n.parent,o)}function Sm(t,n,o){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return o[Jn];{const{componentOffset:l}=a;if(l>-1){const{encapsulation:h}=t.data[a.directiveStart+l];if(h===St.None||h===St.Emulated)return null}return d(a,o)}}function ec(t,n,o,a,l){t.insertBefore(n,o,a,l)}function Im(t,n,o){t.appendChild(n,o)}function xm(t,n,o,a,l){null!==a?ec(t,n,o,a,l):Im(t,n,o)}function id(t,n){return t.parentNode(n)}function Pm(t,n,o){return od(t,n,o)}function km(t,n,o){return 40&t.type?d(t,o):null}let hf,ad,vf,cd,od=km;function Rm(t,n){od=t,hf=n}function rd(t,n,o,a){const l=Fl(t,a,n),h=n[Ht],v=Pm(a.parent||n[Ci],a,n);if(null!=l)if(Array.isArray(o))for(let w=0;w<o.length;w++)xm(h,l,o[w],v,!1);else xm(h,l,o,v,!1);void 0!==hf&&hf(h,a,n,o,l)}function Ll(t,n){if(null!==n){const o=n.type;if(3&o)return d(n,t);if(4&o)return Bl(-1,t[n.index]);if(8&o){const a=n.child;if(null!==a)return Ll(t,a);{const l=t[n.index];return Fi(l)?Bl(-1,l):li(l)}}if(32&o)return Xu(n,t)()||li(t[n.index]);{const a=Fm(t,n);return null!==a?Array.isArray(a)?a[0]:Ll(Hc(t[pi]),a):Ll(t,n.next)}}return null}function Fm(t,n){return null!==n?t[pi][Ci].projection[n.projection]:null}function Bl(t,n){const o=Yi+t+1;if(o<n.length){const a=n[o],l=a[jt].firstChild;if(null!==l)return Ll(a,l)}return n[Gi]}function sd(t,n,o,a,l,h,m){for(;null!=o;){const v=a[o.index],w=o.type;if(m&&0===n&&(v&&Xo(li(v),a),o.flags|=2),32!=(32&o.flags))if(8&w)sd(t,n,o.child,a,l,h,!1),Ma(n,t,l,v,h);else if(32&w){const N=Xu(o,a);let V;for(;V=N();)Ma(n,t,l,V,h);Ma(n,t,l,v,h)}else 16&w?Lm(t,n,a,o,l,h):Ma(n,t,l,v,h);o=m?o.projectionNext:o.next}}function Vo(t,n,o,a,l,h){sd(o,a,t.firstChild,n,l,h,!1)}function Lm(t,n,o,a,l,h){const m=o[pi],w=m[Ci].projection[a.projection];if(Array.isArray(w))for(let N=0;N<w.length;N++)Ma(n,t,l,w[N],h);else{let N=w;const V=m[Yn];Bc(a)&&(N.flags|=128),sd(t,n,N,V,l,h,!0)}}function gf(t,n,o){""===o?t.removeAttribute(n,"class"):t.setAttribute(n,"class",o)}function Bm(t,n,o){const{mergedAttrs:a,classes:l,styles:h}=o;null!==a&&Sn(t,n,a),null!==l&&gf(t,n,l),null!==h&&function a1(t,n,o){t.setAttribute(n,"style",o)}(t,n,h)}function jc(t){return function mf(){if(void 0===ad&&(ad=null,$t.trustedTypes))try{ad=$t.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ad}()?.createHTML(t)||t}function l1(t){vf=t}function Zc(){if(void 0!==vf)return vf;if(typeof document<"u")return document;throw new we(210,!1)}function yf(){if(void 0===cd&&(cd=null,$t.trustedTypes))try{cd=$t.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return cd}function ld(t){return yf()?.createHTML(t)||t}function bf(t){return yf()?.createScriptURL(t)||t}class Wi{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${gt})`}}class ui extends Wi{getTypeName(){return"HTML"}}class Hm extends Wi{getTypeName(){return"Style"}}class jm extends Wi{getTypeName(){return"Script"}}class Zm extends Wi{getTypeName(){return"URL"}}class Vm extends Wi{getTypeName(){return"ResourceURL"}}function Gs(t){return t instanceof Wi?t.changingThisBreaksApplicationSecurity:t}function Ps(t,n){const o=function $m(t){return t instanceof Wi&&t.getTypeName()||null}(t);if(null!=o&&o!==n){if("ResourceURL"===o&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${o} (see ${gt})`)}return o===n}function Gm(t){return new ui(t)}function zm(t){return new Hm(t)}function Ym(t){return new jm(t)}function Wm(t){return new Zm(t)}function Cf(t){return new Vm(t)}function wf(t){const n=new Jm(t);return function Vc(){try{return!!(new window.DOMParser).parseFromString(jc(""),"text/html")}catch{return!1}}()?new qm(n):n}class qm{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const o=(new window.DOMParser).parseFromString(jc(n),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(n):(o.removeChild(o.firstChild),o)}catch{return null}}}class Jm{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const o=this.inertDocument.createElement("template");return o.innerHTML=jc(n),o}}const Qm=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Hl(t){return(t=String(t)).match(Qm)?t:"unsafe:"+t}function zs(t){const n={};for(const o of t.split(","))n[o]=!0;return n}function $c(...t){const n={};for(const o of t)for(const a in o)o.hasOwnProperty(a)&&(n[a]=!0);return n}const Ef=zs("area,br,col,hr,img,wbr"),Tf=zs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Mf=zs("rp,rt"),ud=$c(Ef,$c(Tf,zs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$c(Mf,zs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$c(Mf,Tf)),dd=zs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Af=$c(dd,zs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),zs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Km=zs("script,style,template");class Xm{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let o=n.firstChild,a=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?a=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,a&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let l=this.checkClobberedElement(o,o.nextSibling);if(l){o=l;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(n){const o=n.nodeName.toLowerCase();if(!ud.hasOwnProperty(o))return this.sanitizedSomething=!0,!Km.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const a=n.attributes;for(let l=0;l<a.length;l++){const h=a.item(l),m=h.name,v=m.toLowerCase();if(!Af.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let w=h.value;dd[v]&&(w=Hl(w)),this.buf.push(" ",m,'="',Sf(w),'"')}return this.buf.push(">"),!0}endElement(n){const o=n.nodeName.toLowerCase();ud.hasOwnProperty(o)&&!Ef.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(n){this.buf.push(Sf(n))}checkClobberedElement(n,o){if(o&&(n.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return o}}const e_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,t_=/([^\#-~ |!])/g;function Sf(t){return t.replace(/&/g,"&amp;").replace(e_,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(t_,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let jl;function If(t,n){let o=null;try{jl=jl||wf(t);let a=n?String(n):"";o=jl.getInertBodyElement(a);let l=5,h=a;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,a=h,h=o.innerHTML,o=jl.getInertBodyElement(a)}while(a!==h);return jc((new Xm).sanitizeChildren(hd(o)||o))}finally{if(o){const a=hd(o)||o;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function hd(t){return"content"in t&&function n_(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Aa=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Aa||{});function xf(t){const n=zc();return n?ld(n.sanitize(Aa.HTML,t)||""):Ps(t,"HTML")?ld(Gs(t)):If(Zc(),le(t))}function fd(t){const n=zc();return n?n.sanitize(Aa.URL,t)||"":Ps(t,"URL")?Gs(t):Hl(le(t))}function Gc(t){const n=zc();if(n)return bf(n.sanitize(Aa.RESOURCE_URL,t)||"");if(Ps(t,"ResourceURL"))return bf(Gs(t));throw new we(904,!1)}function Of(t,n,o){return function s_(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?Gc:fd}(n,o)(t)}function zc(){const t=Ct();return t&&t[Bo].sanitizer}class vi{constructor(n,o){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Zt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Yc=new vi("ENVIRONMENT_INITIALIZER"),Nf=new vi("INJECTOR",-1),Pf=new vi("INJECTOR_DEF_TYPES");class pd{get(n,o=Ai){if(o===Ai){const a=new Error(`NullInjectorError: No provider for ${ne(n)}!`);throw a.name="NullInjectorError",a}return o}}function gd(t){return{\u0275providers:t}}function a_(...t){return{\u0275providers:kf(0,t),\u0275fromNgModule:!0}}function kf(t,...n){const o=[],a=new Set;let l;const h=m=>{o.push(m)};return Rc(n,m=>{const v=m;Zl(v,h,[],a)&&(l||=[],l.push(v))}),void 0!==l&&Rf(l,h),o}function Rf(t,n){for(let o=0;o<t.length;o++){const{ngModule:a,providers:l}=t[o];Sa(l,h=>{n(h,a)})}}function Zl(t,n,o,a){if(!(t=Ye(t)))return!1;let l=null,h=ze(t);const m=!h&&vn(t);if(h||m){if(m&&!m.standalone)return!1;l=t}else{const w=t.ngModule;if(h=ze(w),!h)return!1;l=w}const v=a.has(l);if(m){if(v)return!1;if(a.add(l),m.dependencies){const w="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const N of w)Zl(N,n,o,a)}}else{if(!h)return!1;{if(null!=h.imports&&!v){let N;a.add(l);try{Rc(h.imports,V=>{Zl(V,n,o,a)&&(N||=[],N.push(V))})}finally{}void 0!==N&&Rf(N,n)}if(!v){const N=kr(l)||(()=>new l);n({provide:l,useFactory:N,deps:qt},l),n({provide:Pf,useValue:l,multi:!0},l),n({provide:Yc,useValue:()=>ot(l),multi:!0},l)}const w=h.providers;if(null!=w&&!v){const N=t;Sa(w,V=>{n(V,N)})}}}return l!==t&&void 0!==t.providers}function Sa(t,n){for(let o of t)Oe(o)&&(o=o.\u0275providers),Array.isArray(o)?Sa(o,n):n(o)}const c_=me({provide:String,useValue:me});function ao(t){return null!==t&&"object"==typeof t&&c_ in t}function aa(t){return"function"==typeof t}const hr=new vi("Set Injector scope."),$l={},u_={};let md;function Gl(){return void 0===md&&(md=new pd),md}class ks{}class zl extends ks{get destroyed(){return this._destroyed}constructor(n,o,a,l){super(),this.parent=o,this.source=a,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,vd(n,m=>this.processProvider(m)),this.records.set(Nf,tc(void 0,this)),l.has("environment")&&this.records.set(ks,tc(void 0,this));const h=this.records.get(hr);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Pf.multi,qt,Rt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of n)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const o=ie(this),a=Zn(void 0);try{return n()}finally{ie(o),Zn(a)}}get(n,o=Ai,a=Rt.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(ni))return n[ni](this);a=Wt(a);const h=ie(this),m=Zn(void 0);try{if(!(a&Rt.SkipSelf)){let w=this.records.get(n);if(void 0===w){const N=function g_(t){return"function"==typeof t||"object"==typeof t&&t instanceof vi}(n)&&pn(n);w=N&&this.injectableDefInScope(N)?tc(_d(n),$l):null,this.records.set(n,w)}if(null!=w)return this.hydrate(n,w)}return(a&Rt.Self?Gl():this.parent).get(n,o=a&Rt.Optional&&o===Ai?null:o)}catch(v){if("NullInjectorError"===v.name){if((v[Zi]=v[Zi]||[]).unshift(ne(n)),h)throw v;return function de(t,n,o,a){const l=t[Zi];throw n[$e]&&l.unshift(n[$e]),t.message=function Ce(t,n,o,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let l=ne(n);if(Array.isArray(n))l=n.map(ne).join(" -> ");else if("object"==typeof n){let h=[];for(let m in n)if(n.hasOwnProperty(m)){let v=n[m];h.push(m+":"+("string"==typeof v?JSON.stringify(v):ne(v)))}l=`{${h.join(", ")}}`}return`${o}${a?"("+a+")":""}[${l}]: ${t.replace(Go,"\n  ")}`}("\n"+t.message,l,o,a),t.ngTokenPath=l,t[Zi]=null,t}(v,n,"R3InjectorError",this.source)}throw v}finally{Zn(m),ie(h)}}resolveInjectorInitializers(){const n=ie(this),o=Zn(void 0);try{const l=this.get(Yc.multi,qt,Rt.Self);for(const h of l)h()}finally{ie(n),Zn(o)}}toString(){const n=[],o=this.records;for(const a of o.keys())n.push(ne(a));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processProvider(n){let o=aa(n=Ye(n))?n:Ye(n&&n.provide);const a=function h_(t){return ao(t)?tc(void 0,t.useValue):tc(Ff(t),$l)}(n);if(aa(n)||!0!==n.multi)this.records.get(o);else{let l=this.records.get(o);l||(l=tc(void 0,$l,!0),l.factory=()=>An(l.multi),this.records.set(o,l)),o=n,l.multi.push(n)}this.records.set(o,a)}hydrate(n,o){return o.value===$l&&(o.value=u_,o.value=o.factory()),"object"==typeof o.value&&o.value&&function p_(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(n){if(!n.providedIn)return!1;const o=Ye(n.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(n){const o=this._onDestroyHooks.indexOf(n);-1!==o&&this._onDestroyHooks.splice(o,1)}}function _d(t){const n=pn(t),o=null!==n?n.factory:kr(t);if(null!==o)return o;if(t instanceof vi)throw new we(204,!1);if(t instanceof Function)return function d_(t){const n=t.length;if(n>0)throw El(n,"?"),new we(204,!1);const o=function Be(t){return t&&(t[_t]||t[Dn])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new we(204,!1)}function Ff(t,n,o){let a;if(aa(t)){const l=Ye(t);return kr(l)||_d(l)}if(ao(t))a=()=>Ye(t.useValue);else if(function Vl(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...An(t.deps||[]));else if(function Ia(t){return!(!t||!t.useExisting)}(t))a=()=>ot(Ye(t.useExisting));else{const l=Ye(t&&(t.useClass||t.provide));if(!function f_(t){return!!t.deps}(t))return kr(l)||_d(l);a=()=>new l(...An(t.deps))}return a}function tc(t,n,o=!1){return{factory:t,value:n,multi:o?[]:void 0}}function vd(t,n){for(const o of t)Array.isArray(o)?vd(o,n):o&&Oe(o)?vd(o.\u0275providers,n):n(o)}const Lf=new vi("AppId",{providedIn:"root",factory:()=>m_}),m_="ng",Bf=new vi("Platform Initializer"),yd=new vi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),__=new vi("CSP nonce",{providedIn:"root",factory:()=>Zc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Uf=(t,n,o)=>null;function Ad(t,n,o=!1){return Uf(t,n,o)}class A_{}class Zf{}class I_{resolveComponentFactory(n){throw function S_(t){const n=Error(`No component factory found for ${ne(t)}.`);return n.ngComponent=t,n}(n)}}let ql=(()=>{class t{static#e=this.NULL=new I_}return t})();function $f(){return Na(Ui(),Ct())}function Na(t,n){return new rc(d(t,n))}let rc=(()=>{class t{constructor(o){this.nativeElement=o}static#e=this.__NG_ELEMENT_ID__=$f}return t})();function x_(t){return t instanceof rc?t.nativeElement:t}class Gf{}let O_=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function N_(){const t=Ct(),o=$(Ui().index,t);return(bo(o)?o:t)[Ht]}()}return t})(),P_=(()=>{class t{static#e=this.\u0275prov=Zt({token:t,providedIn:"root",factory:()=>null})}return t})();class sc{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const k_=new sc("16.2.9"),xd={};function qf(t,n=null,o=null,a){const l=Jf(t,n,o,a);return l.resolveInjectorInitializers(),l}function Jf(t,n=null,o=null,a,l=new Set){const h=[o||qt,a_(t)];return a=a||("object"==typeof t?void 0:ne(t)),new zl(h,n||Gl(),a||null,l)}let Es=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Ai;static#t=this.NULL=new pd;static create(o,a){if(Array.isArray(o))return qf({name:""},a,o,"");{const l=o.name??"";return qf({name:l},o.parent,o.providers,l)}}static#n=this.\u0275prov=Zt({token:t,providedIn:"any",factory:()=>ot(Nf)});static#i=this.__NG_ELEMENT_ID__=-1}return t})();function Nd(t){return t.ngOriginalError}class ca{constructor(){this._console=console}handleError(n){const o=this._findOriginalError(n);this._console.error("ERROR",n),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(n){let o=n&&Nd(n);for(;o&&Nd(o);)o=Nd(o);return o||null}}function kd(t){return n=>{setTimeout(t,void 0,n)}}const Fs=class j_ extends g.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,o,a){let l=n,h=o||(()=>null),m=a;if(n&&"object"==typeof n){const w=n;l=w.next?.bind(w),h=w.error?.bind(w),m=w.complete?.bind(w)}this.__isAsync&&(h=kd(h),l&&(l=kd(l)),m&&(m=kd(m)));const v=super.subscribe({next:l,error:h,complete:m});return n instanceof X.w0&&n.add(v),v}};function Kf(...t){}class $o{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fs(!1),this.onMicrotaskEmpty=new Fs(!1),this.onStable=new Fs(!1),this.onError=new Fs(!1),typeof Zone>"u")throw new we(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!a&&o,l.shouldCoalesceRunChangeDetection=a,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function Z_(){const t="function"==typeof $t.requestAnimationFrame;let n=$t[t?"requestAnimationFrame":"setTimeout"],o=$t[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&o){const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function G_(t){const n=()=>{!function $_(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call($t,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Fd(t),t.isCheckStableRunning=!0,Rd(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Fd(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,l,h,m,v)=>{if(function Y_(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(v))return o.invokeTask(l,h,m,v);try{return Xf(t),o.invokeTask(l,h,m,v)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||t.shouldCoalesceRunChangeDetection)&&n(),ep(t)}},onInvoke:(o,a,l,h,m,v,w)=>{try{return Xf(t),o.invoke(l,h,m,v,w)}finally{t.shouldCoalesceRunChangeDetection&&n(),ep(t)}},onHasTask:(o,a,l,h)=>{o.hasTask(l,h),a===l&&("microTask"==h.change?(t._hasPendingMicrotasks=h.microTask,Fd(t),Rd(t)):"macroTask"==h.change&&(t.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,a,l,h)=>(o.handleError(l,h),t.runOutsideAngular(()=>t.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!$o.isInAngularZone())throw new we(909,!1)}static assertNotInAngularZone(){if($o.isInAngularZone())throw new we(909,!1)}run(n,o,a){return this._inner.run(n,o,a)}runTask(n,o,a,l){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+l,n,V_,Kf,Kf);try{return h.runTask(m,o,a)}finally{h.cancelTask(m)}}runGuarded(n,o,a){return this._inner.runGuarded(n,o,a)}runOutsideAngular(n){return this._outer.run(n)}}const V_={};function Rd(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Fd(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Xf(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ep(t){t._nesting--,Rd(t)}class z_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fs,this.onMicrotaskEmpty=new Fs,this.onStable=new Fs,this.onError=new Fs}run(n,o,a){return n.apply(o,a)}runGuarded(n,o,a){return n.apply(o,a)}runOutsideAngular(n){return n()}runTask(n,o,a,l){return n.apply(o,a)}}const tp=new vi("",{providedIn:"root",factory:np});function np(){const t=Et($o);let n=!0;const o=new Y.y(l=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{l.next(n),l.complete()})}),a=new Y.y(l=>{let h;t.runOutsideAngular(()=>{h=t.onStable.subscribe(()=>{$o.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,l.next(!0))})})});const m=t.onUnstable.subscribe(()=>{$o.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{l.next(!1)}))});return()=>{h.unsubscribe(),m.unsubscribe()}});return(0,ce.T)(o,a.pipe((0,Q.B)()))}function Ys(t){return t instanceof Function?t():t}let Ld=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Zt({token:t,providedIn:"root",factory:()=>new t})}return t})();function Qc(t){for(;t;){t[Xt]|=64;const n=Hc(t);if(Co(t)&&!n)return t;t=n}return null}const Bd=new vi("",{providedIn:"root",factory:()=>!1});let Ql=null;function Pa(t,n){return t[n]??hp()}function up(t,n){const o=hp();o.producerNode?.length&&(t[n]=Ql,o.lView=t,Ql=dp())}const ov={..._s,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Qc(t.lView)},lView:null};function dp(){return Object.create(ov)}function hp(){return Ql??=dp(),Ql}const Nn={};function fp(t){pp(Fn(),Ct(),To()+t,!1)}function pp(t,n,o,a){if(!a)if(3==(3&n[Xt])){const h=t.preOrderCheckHooks;null!==h&&_l(n,h,o)}else{const h=t.preOrderHooks;null!==h&&ba(n,h,0,o)}na(o)}function lc(t,n=Rt.Default){const o=Ct();return null===o?ot(t,n):wl(Ui(),o,Ye(t),n)}function gp(){throw new Error("invalid")}function Kl(t,n,o,a,l,h,m,v,w,N,V){const te=n.blueprint.slice();return te[Jn]=l,te[Xt]=140|a,(null!==N||t&&2048&t[Xt])&&(te[Xt]|=2048),Ut(te),te[Yn]=te[uo]=t,te[ai]=o,te[Bo]=m||t&&t[Bo],te[Ht]=v||t&&t[Ht],te[lo]=w||t&&t[lo]||null,te[Ci]=h,te[rr]=function pm(){return kl++}(),te[No]=V,te[zr]=N,te[pi]=2==n.type?t[pi]:te,te}function uc(t,n,o,a,l){let h=t.data[n];if(null===h)h=Ud(t,n,o,a,l),function Oh(){return Kt.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=o,h.value=a,h.attrs=l;const m=Ur();h.injectorIndex=null===m?-1:m.injectorIndex}return ur(h,!0),h}function Ud(t,n,o,a,l){const h=Zs(),m=Mc(),w=t.data[n]=function dv(t,n,o,a,l,h){let m=n?n.injectorIndex:-1,v=0;return dt()&&(v|=128),{type:o,index:a,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:v,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,o,n,a,l);return null===t.firstChild&&(t.firstChild=w),null!==h&&(m?null==h.child&&null!==w.parent&&(h.child=w):null===h.next&&(h.next=w,w.prev=h)),w}function Kc(t,n,o,a){if(0===o)return-1;const l=n.length;for(let h=0;h<o;h++)n.push(a),t.blueprint.push(a),t.data.push(null);return l}function mp(t,n,o,a,l){const h=Pa(n,xr),m=To(),v=2&a;try{na(-1),v&&n.length>Rn&&pp(t,n,Rn,!1),Bi(v?2:0,l);const N=v?h:null,V=qr(N);try{null!==N&&(N.dirty=!1),o(a,l)}finally{Fr(N,V)}}finally{v&&null===n[xr]&&up(n,xr),na(m),Bi(v?3:1,l)}}function Hd(t,n,o){if(Wo(n)){const a=hi(null);try{const h=n.directiveEnd;for(let m=n.directiveStart;m<h;m++){const v=t.data[m];v.contentQueries&&v.contentQueries(1,o[m],m)}}finally{hi(a)}}}function jd(t,n,o){Te()&&(function vv(t,n,o,a){const l=o.directiveStart,h=o.directiveEnd;qo(o)&&function Tv(t,n,o){const a=d(n,t),l=_p(o);let m=16;o.signals?m=4096:o.onPush&&(m=64);const v=Xl(t,Kl(t,l,null,m,a,n,null,t[Bo].rendererFactory.createRenderer(a,o),null,null,null));t[n.index]=v}(n,o,t.data[l+o.componentOffset]),t.firstCreatePass||bl(o,n),Xo(a,n);const m=o.initialInputs;for(let v=l;v<h;v++){const w=t.data[v],N=Ca(n,t,v,o);Xo(N,n),null!==m&&Mv(0,v-l,N,w,0,m),Xi(w)&&($(o.index,n)[ai]=Ca(n,t,v,o))}}(t,n,o,d(o,n)),64==(64&o.flags)&&wp(t,n,o))}function Zd(t,n,o=d){const a=n.localNames;if(null!==a){let l=n.index+1;for(let h=0;h<a.length;h+=2){const m=a[h+1],v=-1===m?o(n,t):t[m];t[l++]=v}}}function _p(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Vd(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Vd(t,n,o,a,l,h,m,v,w,N,V){const te=Rn+a,Ie=te+l,je=function sv(t,n){const o=[];for(let a=0;a<n;a++)o.push(a<t?null:Nn);return o}(te,Ie),yt="function"==typeof N?N():N;return je[jt]={type:t,blueprint:je,template:o,queries:null,viewQuery:v,declTNode:n,data:je.slice().fill(null,te),bindingStartIndex:te,expandoStartIndex:Ie,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:w,consts:yt,incompleteFirstPass:!1,ssrId:V}}let vp=t=>null;function Dp(t,n,o,a){for(let l in t)if(t.hasOwnProperty(l)){o=null===o?{}:o;const h=t[l];null===a?bp(o,n,l,h):a.hasOwnProperty(l)&&bp(o,n,a[l],h)}return o}function bp(t,n,o,a){t.hasOwnProperty(o)?t[o].push(n,a):t[o]=[n,a]}function ts(t,n,o,a,l,h,m,v){const w=d(n,o);let V,N=n.inputs;!v&&null!=N&&(V=N[a])?(Wd(t,o,V,a,l),qo(n)&&function pv(t,n){const o=$(n,t);16&o[Xt]||(o[Xt]|=64)}(o,n.index)):3&n.type&&(a=function fv(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),l=null!=m?m(l,n.value||"",a):l,h.setProperty(w,a,l))}function $d(t,n,o,a){if(Te()){const l=null===a?null:{"":-1},h=function Dv(t,n){const o=t.directiveRegistry;let a=null,l=null;if(o)for(let h=0;h<o.length;h++){const m=o[h];if(zo(n,m.selectors,!1))if(a||(a=[]),Xi(m))if(null!==m.findHostDirectiveDefs){const v=[];l=l||new Map,m.findHostDirectiveDefs(m,v,l),a.unshift(...v,m),Gd(t,n,v.length)}else a.unshift(m),Gd(t,n,0);else l=l||new Map,m.findHostDirectiveDefs?.(m,a,l),a.push(m)}return null===a?null:[a,l]}(t,o);let m,v;null===h?m=v=null:[m,v]=h,null!==m&&Cp(t,n,o,m,l,v),l&&function bv(t,n,o){if(n){const a=t.localNames=[];for(let l=0;l<n.length;l+=2){const h=o[n[l+1]];if(null==h)throw new we(-301,!1);a.push(n[l],h)}}}(o,a,l)}o.mergedAttrs=Vt(o.mergedAttrs,o.attrs)}function Cp(t,n,o,a,l,h){for(let N=0;N<a.length;N++)Ga(bl(o,n),t,a[N].type);!function wv(t,n,o){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+o,t.providerIndexes=n}(o,t.data.length,a.length);for(let N=0;N<a.length;N++){const V=a[N];V.providersResolver&&V.providersResolver(V)}let m=!1,v=!1,w=Kc(t,n,a.length,null);for(let N=0;N<a.length;N++){const V=a[N];o.mergedAttrs=Vt(o.mergedAttrs,V.hostAttrs),Ev(t,o,n,w,V),Cv(w,V,l),null!==V.contentQueries&&(o.flags|=4),(null!==V.hostBindings||null!==V.hostAttrs||0!==V.hostVars)&&(o.flags|=64);const te=V.type.prototype;!m&&(te.ngOnChanges||te.ngOnInit||te.ngDoCheck)&&((t.preOrderHooks??=[]).push(o.index),m=!0),!v&&(te.ngOnChanges||te.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(o.index),v=!0),w++}!function hv(t,n,o){const l=n.directiveEnd,h=t.data,m=n.attrs,v=[];let w=null,N=null;for(let V=n.directiveStart;V<l;V++){const te=h[V],Ie=o?o.get(te):null,yt=Ie?Ie.outputs:null;w=Dp(te.inputs,V,w,Ie?Ie.inputs:null),N=Dp(te.outputs,V,N,yt);const kt=null===w||null===m||Vi(n)?null:Av(w,V,m);v.push(kt)}null!==w&&(w.hasOwnProperty("class")&&(n.flags|=8),w.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=v,n.inputs=w,n.outputs=N}(t,o,h)}function wp(t,n,o){const a=o.directiveStart,l=o.directiveEnd,h=o.index,m=function _(){return Kt.lFrame.currentDirectiveIndex}();try{na(h);for(let v=a;v<l;v++){const w=t.data[v],N=n[v];T(v),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&yv(w,N)}}finally{na(-1),T(m)}}function yv(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Gd(t,n,o){n.componentOffset=o,(t.components??=[]).push(n.index)}function Cv(t,n,o){if(o){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)o[n.exportAs[a]]=t;Xi(n)&&(o[""]=t)}}function Ev(t,n,o,a,l){t.data[a]=l;const h=l.factory||(l.factory=kr(l.type)),m=new Sc(h,Xi(l),lc);t.blueprint[a]=m,o[a]=m,function mv(t,n,o,a,l){const h=l.hostBindings;if(h){let m=t.hostBindingOpCodes;null===m&&(m=t.hostBindingOpCodes=[]);const v=~n.index;(function _v(t){let n=t.length;for(;n>0;){const o=t[--n];if("number"==typeof o&&o<0)return o}return 0})(m)!=v&&m.push(v),m.push(o,a,h)}}(t,n,a,Kc(t,o,l.hostVars,Nn),l)}function Ls(t,n,o,a,l,h){const m=d(t,n);!function zd(t,n,o,a,l,h,m){if(null==h)t.removeAttribute(n,l,o);else{const v=null==m?le(h):m(h,a||"",l);t.setAttribute(n,l,v,o)}}(n[Ht],m,h,t.value,o,a,l)}function Mv(t,n,o,a,l,h){const m=h[n];if(null!==m)for(let v=0;v<m.length;)Ep(a,o,m[v++],m[v++],m[v++])}function Ep(t,n,o,a,l){const h=hi(null);try{const m=t.inputTransforms;null!==m&&m.hasOwnProperty(a)&&(l=m[a].call(n,l)),null!==t.setInput?t.setInput(n,l,o,a):n[a]=l}finally{hi(h)}}function Av(t,n,o){let a=null,l=0;for(;l<o.length;){const h=o[l];if(0!==h)if(5!==h){if("number"==typeof h)break;if(t.hasOwnProperty(h)){null===a&&(a=[]);const m=t[h];for(let v=0;v<m.length;v+=2)if(m[v]===n){a.push(h,m[v+1],o[l+1]);break}}l+=2}else l+=2;else l+=4}return a}function Tp(t,n,o,a){return[t,!0,!1,n,null,0,a,o,null,null,null]}function Mp(t,n){const o=t.contentQueries;if(null!==o)for(let a=0;a<o.length;a+=2){const h=o[a+1];if(-1!==h){const m=t.data[h];oe(o[a]),m.contentQueries(2,n[h],h)}}}function Xl(t,n){return t[vr]?t[Qi][$i]=n:t[vr]=n,t[Qi]=n,n}function Yd(t,n,o){oe(0);const a=hi(null);try{n(t,o)}finally{hi(a)}}function Ap(t){return t[_r]||(t[_r]=[])}function Sp(t){return t.cleanup||(t.cleanup=[])}function xp(t,n){const o=t[lo],a=o?o.get(ca,null):null;a&&a.handleError(n)}function Wd(t,n,o,a,l){for(let h=0;h<o.length;){const m=o[h++],v=o[h++];Ep(t.data[m],n[m],a,v,l)}}function Ws(t,n,o){const a=s(n,t);!function Em(t,n,o){t.setValue(n,o)}(t[Ht],a,o)}function Sv(t,n){const o=$(n,t),a=o[jt];!function Iv(t,n){for(let o=n.length;o<t.blueprint.length;o++)n.push(t.blueprint[o])}(a,o);const l=o[Jn];null!==l&&null===o[No]&&(o[No]=Ad(l,o[lo])),qd(a,o,o[ai])}function qd(t,n,o){Gt(n);try{const a=t.viewQuery;null!==a&&Yd(1,a,o);const l=t.template;null!==l&&mp(t,n,l,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Mp(t,n),t.staticViewQueries&&Yd(2,t.viewQuery,o);const h=t.components;null!==h&&function xv(t,n){for(let o=0;o<n.length;o++)Sv(t,n[o])}(n,h)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{n[Xt]&=-5,xs()}}let Op=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(o,a,l){const h=typeof Zone>"u"?null:Zone.current,m=function We(t,n,o){const a=Object.create(Qt);o&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=n;const l=m=>{a.cleanupFn=m};return a.ref={notify:()=>Rr(a),run:()=>{if(a.dirty=!1,a.hasRun&&!ss(a))return;a.hasRun=!0;const m=qr(a);try{a.cleanupFn(),a.cleanupFn=mt,a.fn(l)}finally{Fr(a,m)}},cleanup:()=>a.cleanupFn()},a.ref}(o,N=>{this.all.has(N)&&this.queue.set(N,h)},l);let v;this.all.add(m),m.notify();const w=()=>{m.cleanup(),v?.(),this.all.delete(m),this.queue.delete(m)};return v=a?.onDestroy(w),{destroy:w}}flush(){if(0!==this.queue.size)for(const[o,a]of this.queue)this.queue.delete(o),a?a.run(()=>o.run()):o.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Zt({token:t,providedIn:"root",factory:()=>new t})}return t})();function eu(t,n,o){let a=o?t.styles:null,l=o?t.classes:null,h=0;if(null!==n)for(let m=0;m<n.length;m++){const v=n[m];"number"==typeof v?h=v:1==h?l=be(l,v):2==h&&(a=be(a,v+": "+n[++m]+";"))}o?t.styles=a:t.stylesWithoutHost=a,o?t.classes=l:t.classesWithoutHost=l}function Xc(t,n,o,a,l=!1){for(;null!==o;){const h=n[o.index];null!==h&&a.push(li(h)),Fi(h)&&Np(h,a);const m=o.type;if(8&m)Xc(t,n,o.child,a);else if(32&m){const v=Xu(o,n);let w;for(;w=v();)a.push(w)}else if(16&m){const v=Fm(n,o);if(Array.isArray(v))a.push(...v);else{const w=Hc(n[pi]);Xc(w[jt],w,v,a,!0)}}o=l?o.projectionNext:o.next}return a}function Np(t,n){for(let o=Yi;o<t.length;o++){const a=t[o],l=a[jt].firstChild;null!==l&&Xc(a[jt],a,l,n)}t[Gi]!==t[Jn]&&n.push(t[Gi])}function tu(t,n,o,a=!0){const l=n[Bo],h=l.rendererFactory,m=l.afterRenderEventManager;h.begin?.(),m?.begin();try{Pp(t,n,t.template,o)}catch(w){throw a&&xp(n,w),w}finally{h.end?.(),l.effectManager?.flush(),m?.end()}}function Pp(t,n,o,a){const l=n[Xt];if(256!=(256&l)){n[Bo].effectManager?.flush(),Gt(n);try{Ut(n),function gl(t){return Kt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&mp(t,n,o,2,a);const m=3==(3&l);if(m){const N=t.preOrderCheckHooks;null!==N&&_l(n,N,null)}else{const N=t.preOrderHooks;null!==N&&ba(n,N,0,null),Ac(n,0)}if(function Pv(t){for(let n=bm(t);null!==n;n=Cm(n)){if(!n[sr])continue;const o=n[Or];for(let a=0;a<o.length;a++){_n(o[a])}}}(n),kp(n,2),null!==t.contentQueries&&Mp(t,n),m){const N=t.contentCheckHooks;null!==N&&_l(n,N)}else{const N=t.contentHooks;null!==N&&ba(n,N,1),Ac(n,1)}!function rv(t,n){const o=t.hostBindingOpCodes;if(null===o)return;const a=Pa(n,Ki);try{for(let l=0;l<o.length;l++){const h=o[l];if(h<0)na(~h);else{const m=h,v=o[++l],w=o[++l];E(v,m),a.dirty=!1;const N=qr(a);try{w(2,n[m])}finally{Fr(a,N)}}}}finally{null===n[Ki]&&up(n,Ki),na(-1)}}(t,n);const v=t.components;null!==v&&Fp(n,v,0);const w=t.viewQuery;if(null!==w&&Yd(2,w,a),m){const N=t.viewCheckHooks;null!==N&&_l(n,N)}else{const N=t.viewHooks;null!==N&&ba(n,N,2),Ac(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Xt]&=-73,Tn(n)}finally{xs()}}}function kp(t,n){for(let o=bm(t);null!==o;o=Cm(o))for(let a=Yi;a<o.length;a++)Rp(o[a],n)}function kv(t,n,o){Rp($(n,t),o)}function Rp(t,n){if(!function Ge(t){return 128==(128&t[Xt])}(t))return;const o=t[jt],a=t[Xt];if(80&a&&0===n||1024&a||2===n)Pp(o,t,o.template,t[ai]);else if(t[Oo]>0){kp(t,1);const l=o.components;null!==l&&Fp(t,l,1)}}function Fp(t,n,o){for(let a=0;a<n.length;a++)kv(t,n[a],o)}class el{get rootNodes(){const n=this._lView,o=n[jt];return Xc(o,n,o.firstChild,[])}constructor(n,o){this._lView=n,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ai]}set context(n){this._lView[ai]=n}get destroyed(){return 256==(256&this._lView[Xt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Yn];if(Fi(n)){const o=n[8],a=o?o.indexOf(this):-1;a>-1&&(nd(n,a),Bu(o,a))}this._attachedToViewContainer=!1}uf(this._lView[jt],this._lView)}onDestroy(n){!function Gn(t,n){if(256==(256&t[Xt]))throw new we(911,!1);null===t[yr]&&(t[yr]=[]),t[yr].push(n)}(this._lView,n)}markForCheck(){Qc(this._cdRefInjectingView||this._lView)}detach(){this._lView[Xt]&=-129}reattach(){this._lView[Xt]|=128}detectChanges(){tu(this._lView[jt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new we(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Tm(t,n){Vo(t,n,n[Ht],2,null,null)}(this._lView[jt],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new we(902,!1);this._appRef=n}}class Rv extends el{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;tu(n[jt],n,n[ai],!1)}checkNoChanges(){}get context(){return null}}class Lp extends ql{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const o=vn(n);return new tl(o,this.ngModule)}}function Bp(t){const n=[];for(let o in t)t.hasOwnProperty(o)&&n.push({propName:t[o],templateName:o});return n}class Lv{constructor(n,o){this.injector=n,this.parentInjector=o}get(n,o,a){a=Wt(a);const l=this.injector.get(n,xd,a);return l!==xd||o===xd?l:this.parentInjector.get(n,o,a)}}class tl extends Zf{get inputs(){const n=this.componentDef,o=n.inputTransforms,a=Bp(n.inputs);if(null!==o)for(const l of a)o.hasOwnProperty(l.propName)&&(l.transform=o[l.propName]);return a}get outputs(){return Bp(this.componentDef.outputs)}constructor(n,o){super(),this.componentDef=n,this.ngModule=o,this.componentType=n.type,this.selector=function er(t){return t.map(no).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!o}create(n,o,a,l){let h=(l=l||this.ngModule)instanceof ks?l:l?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const m=h?new Lv(n,h):n,v=m.get(Gf,null);if(null===v)throw new we(407,!1);const te={rendererFactory:v,sanitizer:m.get(P_,null),effectManager:m.get(Op,null),afterRenderEventManager:m.get(Ld,null)},Ie=v.createRenderer(null,this.componentDef),je=this.componentDef.selectors[0][0]||"div",yt=a?function av(t,n,o,a){const h=a.get(Bd,!1)||o===St.ShadowDom,m=t.selectRootElement(n,h);return function cv(t){vp(t)}(m),m}(Ie,a,this.componentDef.encapsulation,m):td(Ie,je,function Fv(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(je)),un=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Mt=null;null!==yt&&(Mt=Ad(yt,m,!0));const Pn=Vd(0,null,null,1,0,null,null,null,null,null,null),Xn=Kl(null,Pn,null,un,null,null,te,Ie,m,null,Mt);let ji,ps;Gt(Xn);try{const Ua=this.componentDef;let Eu,Ty=null;Ua.findHostDirectiveDefs?(Eu=[],Ty=new Map,Ua.findHostDirectiveDefs(Ua,Eu,Ty),Eu.push(Ua)):Eu=[Ua];const QT=function Uv(t,n){const o=t[jt],a=Rn;return t[a]=n,uc(o,a,2,"#host",null)}(Xn,yt),KT=function Hv(t,n,o,a,l,h,m){const v=l[jt];!function jv(t,n,o,a){for(const l of t)n.mergedAttrs=Vt(n.mergedAttrs,l.hostAttrs);null!==n.mergedAttrs&&(eu(n,n.mergedAttrs,!0),null!==o&&Bm(a,o,n))}(a,t,n,m);let w=null;null!==n&&(w=Ad(n,l[lo]));const N=h.rendererFactory.createRenderer(n,o);let V=16;o.signals?V=4096:o.onPush&&(V=64);const te=Kl(l,_p(o),null,V,l[t.index],t,h,N,null,null,w);return v.firstCreatePass&&Gd(v,t,a.length-1),Xl(l,te),l[t.index]=te}(QT,yt,Ua,Eu,Xn,te,Ie);ps=C(Pn,Rn),yt&&function Vv(t,n,o,a){if(a)Sn(t,o,["ng-version",k_.full]);else{const{attrs:l,classes:h}=function xi(t){const n=[],o=[];let a=1,l=2;for(;a<t.length;){let h=t[a];if("string"==typeof h)2===l?""!==h&&n.push(h,t[++a]):8===l&&o.push(h);else{if(!En(l))break;l=h}a++}return{attrs:n,classes:o}}(n.selectors[0]);l&&Sn(t,o,l),h&&h.length>0&&gf(t,o,h.join(" "))}}(Ie,Ua,yt,a),void 0!==o&&function $v(t,n,o){const a=t.projection=[];for(let l=0;l<n.length;l++){const h=o[l];a.push(null!=h?Array.from(h):null)}}(ps,this.ngContentSelectors,o),ji=function Zv(t,n,o,a,l,h){const m=Ui(),v=l[jt],w=d(m,l);Cp(v,l,m,o,null,a);for(let V=0;V<o.length;V++)Xo(Ca(l,v,m.directiveStart+V,m),l);wp(v,l,m),w&&Xo(w,l);const N=Ca(l,v,m.directiveStart+m.componentOffset,m);if(t[ai]=l[ai]=N,null!==h)for(const V of h)V(N,n);return Hd(v,m,t),N}(KT,Ua,Eu,Ty,Xn,[Gv]),qd(Pn,Xn,null)}finally{xs()}return new Bv(this.componentType,ji,Na(ps,Xn),Xn,ps)}}class Bv extends A_{constructor(n,o,a,l,h){super(),this.location=a,this._rootLView=l,this._tNode=h,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new Rv(l),this.componentType=n}setInput(n,o){const a=this._tNode.inputs;let l;if(null!==a&&(l=a[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),o))return;const h=this._rootLView;Wd(h[jt],h,l,n,o),this.previousInputValues.set(n,o),Qc($(this._tNode.index,h))}}get injector(){return new Tr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function Gv(){const t=Ui();ml(Ct()[jt],t)}function Qd(t){let n=function Jd(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const a=[t];for(;n;){let l;if(Xi(t))l=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new we(903,!1);l=n.\u0275dir}if(l){if(o){a.push(l);const m=t;m.inputs=nu(t.inputs),m.inputTransforms=nu(t.inputTransforms),m.declaredInputs=nu(t.declaredInputs),m.outputs=nu(t.outputs);const v=l.hostBindings;v&&Yv(t,v);const w=l.viewQuery,N=l.contentQueries;if(w&&Ts(t,w),N&&R1(t,N),Ae(t.inputs,l.inputs),Ae(t.declaredInputs,l.declaredInputs),Ae(t.outputs,l.outputs),null!==l.inputTransforms&&(null===m.inputTransforms&&(m.inputTransforms={}),Ae(m.inputTransforms,l.inputTransforms)),Xi(l)&&l.data.animation){const V=t.data;V.animation=(V.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let m=0;m<h.length;m++){const v=h[m];v&&v.ngInherit&&v(t),v===Qd&&(o=!1)}}n=Object.getPrototypeOf(n)}!function zv(t){let n=0,o=null;for(let a=t.length-1;a>=0;a--){const l=t[a];l.hostVars=n+=l.hostVars,l.hostAttrs=Vt(l.hostAttrs,o=Vt(o,l.hostAttrs))}}(a)}function nu(t){return t===It?{}:t===qt?[]:t}function Ts(t,n){const o=t.viewQuery;t.viewQuery=o?(a,l)=>{n(a,l),o(a,l)}:n}function R1(t,n){const o=t.contentQueries;t.contentQueries=o?(a,l,h)=>{n(a,l,h),o(a,l,h)}:n}function Yv(t,n){const o=t.hostBindings;t.hostBindings=o?(a,l)=>{n(a,l),o(a,l)}:n}function Hp(t){return n=>{n.findHostDirectiveDefs=jp,n.hostDirectives=(Array.isArray(t)?t:t()).map(o=>"function"==typeof o?{directive:Ye(o),inputs:It,outputs:It}:{directive:Ye(o.directive),inputs:Zp(o.inputs),outputs:Zp(o.outputs)})}}function jp(t,n,o){if(null!==t.hostDirectives)for(const a of t.hostDirectives){const l=yi(a.directive);qv(l.declaredInputs,a.inputs),jp(l,n,o),o.set(l,a),n.push(l)}}function Zp(t){if(void 0===t||0===t.length)return It;const n={};for(let o=0;o<t.length;o+=2)n[t[o]]=t[o+1];return n}function qv(t,n){for(const o in n)n.hasOwnProperty(o)&&(t[n[o]]=t[o])}function $p(t){const n=t.inputConfig,o={};for(const a in n)if(n.hasOwnProperty(a)){const l=n[a];Array.isArray(l)&&l[2]&&(o[a]=l[2])}t.inputTransforms=o}function ou(t){return!!ru(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function ru(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Bs(t,n,o){return t[n]=o}function fr(t,n,o){return!Object.is(t[n],o)&&(t[n]=o,!0)}function ka(t,n,o,a){const l=fr(t,n,o);return fr(t,n+1,a)||l}function Kd(t,n,o,a){const l=Ct();return fr(l,Da(),n)&&(Fn(),Ls(po(),l,t,n,o,a)),Kd}function hc(t,n,o,a){return fr(t,Da(),o)?n+le(o)+a:Nn}function fc(t,n,o,a,l,h){const v=ka(t,function ys(){return Kt.lFrame.bindingIndex}(),o,l);return Ds(2),v?n+le(o)+a+le(l)+h:Nn}function ig(t,n,o,a,l,h,m,v){const w=Ct(),N=Fn(),V=t+Rn,te=N.firstCreatePass?function g0(t,n,o,a,l,h,m,v,w){const N=n.consts,V=uc(n,t,4,m||null,bt(N,v));$d(n,o,V,bt(N,w)),ml(n,V);const te=V.tView=Vd(2,V,a,l,h,n.directiveRegistry,n.pipeRegistry,null,n.schemas,N,null);return null!==n.queries&&(n.queries.template(n,V),te.queries=n.queries.embeddedTView(V)),V}(V,N,w,n,o,a,l,h,m):N.data[V];ur(te,!1);const Ie=og(N,w,te,t);go()&&rd(N,w,Ie,te),Xo(Ie,w),Xl(w,w[V]=Tp(Ie,w,Ie,te)),ar(te)&&jd(N,w,te),null!=m&&Zd(w,te,v)}let og=function lu(t,n,o,a){return Xr(!0),n[Ht].createComment("")};function rg(t){return O(function fl(){return Kt.lFrame.contextLView}(),Rn+t)}function rh(t,n,o){const a=Ct();return fr(a,Da(),n)&&ts(Fn(),po(),a,t,n,a[Ht],o,!1),rh}function sh(t,n,o,a,l){const m=l?"class":"style";Wd(t,o,n.inputs[m],m,a)}function uu(t,n,o,a){const l=Ct(),h=Fn(),m=Rn+t,v=l[Ht],w=h.firstCreatePass?function y0(t,n,o,a,l,h){const m=n.consts,w=uc(n,t,2,a,bt(m,l));return $d(n,o,w,bt(m,h)),null!==w.attrs&&eu(w,w.attrs,!1),null!==w.mergedAttrs&&eu(w,w.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,w),w}(m,h,l,n,o,a):h.data[m],N=sg(h,l,w,v,n,t);l[m]=N;const V=ar(w);return ur(w,!0),Bm(v,N,w),32!=(32&w.flags)&&go()&&rd(h,l,N,w),0===function U(){return Kt.lFrame.elementDepthCount}()&&Xo(N,l),function P(){Kt.lFrame.elementDepthCount++}(),V&&(jd(h,l,w),Hd(h,w,l)),null!==a&&Zd(l,w),uu}function du(){let t=Ui();Mc()?ya():(t=t.parent,ur(t,!1));const n=t;(function Ot(t){return Kt.skipHydrationRootTNode===t})(n)&&function oo(){Kt.skipHydrationRootTNode=null}(),function W(){Kt.lFrame.elementDepthCount--}();const o=Fn();return o.firstCreatePass&&(ml(o,t),Wo(t)&&o.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Kg(t){return 0!=(8&t.flags)}(n)&&sh(o,n,Ct(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function yl(t){return 0!=(16&t.flags)}(n)&&sh(o,n,Ct(),n.stylesWithoutHost,!1),du}function ah(t,n,o,a){return uu(t,n,o,a),du(),ah}let sg=(t,n,o,a,l,h)=>(Xr(!0),td(a,l,function Tu(){return Kt.lFrame.currentNamespace}()));function hu(t,n,o){const a=Ct(),l=Fn(),h=t+Rn,m=l.firstCreatePass?function C0(t,n,o,a,l){const h=n.consts,m=bt(h,a),v=uc(n,t,8,"ng-container",m);return null!==m&&eu(v,m,!0),$d(n,o,v,bt(h,l)),null!==n.queries&&n.queries.elementStart(n,v),v}(h,l,a,n,o):l.data[h];ur(m,!0);const v=ag(l,a,m,t);return a[h]=v,go()&&rd(l,a,v,m),Xo(v,a),ar(m)&&(jd(l,a,m),Hd(l,m,a)),null!=o&&Zd(a,m),hu}function fu(){let t=Ui();const n=Fn();return Mc()?ya():(t=t.parent,ur(t,!1)),n.firstCreatePass&&(ml(n,t),Wo(t)&&n.queries.elementEnd(t)),fu}function ch(t,n,o){return hu(t,n,o),fu(),ch}let ag=(t,n,o,a)=>(Xr(!0),Rl(n[Ht],""));function cg(){return Ct()}function lh(t){return!!t&&"function"==typeof t.then}function lg(t){return!!t&&"function"==typeof t.subscribe}function uh(t,n,o,a){const l=Ct(),h=Fn(),m=Ui();return function dh(t,n,o,a,l,h,m){const v=ar(a),N=t.firstCreatePass&&Sp(t),V=n[ai],te=Ap(n);let Ie=!0;if(3&a.type||m){const kt=d(a,n),Yt=m?m(kt):kt,un=te.length,Mt=m?Xn=>m(li(Xn[a.index])):a.index;let Pn=null;if(!m&&v&&(Pn=function T0(t,n,o,a){const l=t.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const m=l[h];if(m===o&&l[h+1]===a){const v=n[_r],w=l[h+2];return v.length>w?v[w]:null}"string"==typeof m&&(h+=2)}return null}(t,n,l,a.index)),null!==Pn)(Pn.__ngLastListenerFn__||Pn).__ngNextListenerFn__=h,Pn.__ngLastListenerFn__=h,Ie=!1;else{h=dg(a,n,V,h,!1);const Xn=o.listen(Yt,l,h);te.push(h,Xn),N&&N.push(l,Mt,un,un+1)}}else h=dg(a,n,V,h,!1);const je=a.outputs;let yt;if(Ie&&null!==je&&(yt=je[l])){const kt=yt.length;if(kt)for(let Yt=0;Yt<kt;Yt+=2){const ji=n[yt[Yt]][yt[Yt+1]].subscribe(h),ps=te.length;te.push(h,ji),N&&N.push(l,a.index,ps,-(ps+1))}}}(h,l,l[Ht],m,t,n,a),uh}function hh(t,n,o,a){try{return Bi(6,n,o),!1!==o(a)}catch(l){return xp(t,l),!1}finally{Bi(7,n,o)}}function dg(t,n,o,a,l){return function h(m){if(m===Function)return a;Qc(t.componentOffset>-1?$(t.index,n):n);let w=hh(n,o,a,m),N=h.__ngNextListenerFn__;for(;N;)w=hh(n,o,N,m)&&w,N=N.__ngNextListenerFn__;return l&&!1===w&&m.preventDefault(),w}}function hg(t=1){return function bs(t){return(Kt.lFrame.contextLView=function ta(t,n){for(;t>0;)n=n[uo],t--;return n}(t,Kt.lFrame.contextLView))[ai]}(t)}function M0(t,n){let o=null;const a=function Ji(t){const n=t.attrs;if(null!=n){const o=n.indexOf(5);if(!(1&o))return n[o+1]}return null}(t);for(let l=0;l<n.length;l++){const h=n[l];if("*"!==h){if(null===a?zo(t,h,!0):Fo(a,h))return l}else o=l}return o}function fg(t){const n=Ct()[pi][Ci];if(!n.projection){const a=n.projection=El(t?t.length:1,null),l=a.slice();let h=n.child;for(;null!==h;){const m=t?M0(h,t):0;null!==m&&(l[m]?l[m].projectionNext=h:a[m]=h,l[m]=h),h=h.next}}}function pg(t,n=0,o){const a=Ct(),l=Fn(),h=uc(l,Rn+t,16,null,o||null);null===h.projection&&(h.projection=n),ya(),(!a[No]||dt())&&32!=(32&h.flags)&&function pf(t,n,o){Lm(n[Ht],0,n,o,Fl(t,o,n),Pm(o.parent||n[Ci],o,n))}(l,a,h)}function fh(t,n,o){return pu(t,"",n,"",o),fh}function pu(t,n,o,a,l){const h=Ct(),m=hc(h,n,o,a);return m!==Nn&&ts(Fn(),po(),h,t,m,h[Ht],l,!1),pu}function gu(t,n){return t<<17|n<<2}function la(t){return t>>17&32767}function ph(t){return 2|t}function Ra(t){return(131068&t)>>2}function pr(t,n){return-131069&t|n<<2}function gh(t){return 1|t}function wg(t,n,o,a,l){const h=t[o+1],m=null===n;let v=a?la(h):Ra(h),w=!1;for(;0!==v&&(!1===w||m);){const V=t[v+1];N0(t[v],n)&&(w=!0,t[v+1]=a?gh(V):ph(V)),v=a?la(V):Ra(V)}w&&(t[o+1]=a?ph(h):gh(h))}function N0(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&oa(t,n)>=0}const ko={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Eg(t){return t.substring(ko.key,ko.keyEnd)}function Tg(t,n){const o=ko.textEnd;return o===n?-1:(n=ko.keyEnd=function r(t,n,o){for(;n<o&&t.charCodeAt(n)>32;)n++;return n}(t,ko.key=n,o),bc(t,n,o))}function bc(t,n,o){for(;n<o&&t.charCodeAt(n)<=32;)n++;return n}function I(t,n,o){return vt(t,n,o,!1),I}function J(t,n){return vt(t,n,null,!0),J}function Fe(t){!function Ft(t,n,o,a){const l=Fn(),h=Ds(2);l.firstUpdatePass&&Cn(l,null,h,a);const m=Ct();if(o!==Nn&&fr(m,h,o)){const v=l.data[To()];if(ua(v,a)&&!jn(l,h)){let w=a?v.classesWithoutHost:v.stylesWithoutHost;null!==w&&(o=be(w,o||"")),sh(l,v,m,o,a)}else!function Ro(t,n,o,a,l,h,m,v){l===Nn&&(l=qt);let w=0,N=0,V=0<l.length?l[0]:null,te=0<h.length?h[0]:null;for(;null!==V||null!==te;){const Ie=w<l.length?l[w+1]:void 0,je=N<h.length?h[N+1]:void 0;let kt,yt=null;V===te?(w+=2,N+=2,Ie!==je&&(yt=te,kt=je)):null===te||null!==V&&V<te?(w+=2,yt=V):(N+=2,yt=te,kt=je),null!==yt&&Io(t,n,o,a,yt,kt,m,v),V=w<l.length?l[w]:null,te=N<h.length?h[N]:null}}(l,v,m,m[Ht],m[h+1],m[h+1]=function fi(t,n,o){if(null==o||""===o)return qt;const a=[],l=Gs(o);if(Array.isArray(l))for(let h=0;h<l.length;h++)t(a,l[h],!0);else if("object"==typeof l)for(const h in l)l.hasOwnProperty(h)&&t(a,h,l[h]);else"string"==typeof l&&n(a,l);return a}(t,n,o),a,h)}}(ki,Tt,t,!0)}function Tt(t,n){for(let o=function k0(t){return function Ag(t){ko.key=0,ko.keyEnd=0,ko.value=0,ko.valueEnd=0,ko.textEnd=t.length}(t),Tg(t,bc(t,0,ko.textEnd))}(n);o>=0;o=Tg(n,o))Mr(t,Eg(n),!0)}function vt(t,n,o,a){const l=Ct(),h=Fn(),m=Ds(2);h.firstUpdatePass&&Cn(h,t,m,a),n!==Nn&&fr(l,m,n)&&Io(h,h.data[To()],l,l[Ht],t,l[m+1]=function Ar(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=ne(Gs(t)))),t}(n,o),a,m)}function jn(t,n){return n>=t.expandoStartIndex}function Cn(t,n,o,a){const l=t.data;if(null===l[o+1]){const h=l[To()],m=jn(t,o);ua(h,a)&&null===n&&!m&&(n=!1),n=function an(t,n,o,a){const l=function k(t){const n=Kt.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let h=a?n.residualClasses:n.residualStyles;if(null===l)0===(a?n.classBindings:n.styleBindings)&&(o=Wn(o=oi(null,t,n,o,a),n.attrs,a),h=null);else{const m=n.directiveStylingLast;if(-1===m||t[m]!==l)if(o=oi(l,t,n,o,a),null===h){let w=function ii(t,n,o){const a=o?n.classBindings:n.styleBindings;if(0!==Ra(a))return t[la(a)]}(t,n,a);void 0!==w&&Array.isArray(w)&&(w=oi(null,t,n,w[1],a),w=Wn(w,n.attrs,a),function ti(t,n,o,a){t[la(o?n.classBindings:n.styleBindings)]=a}(t,n,a,w))}else h=function eo(t,n,o){let a;const l=n.directiveEnd;for(let h=1+n.directiveStylingLast;h<l;h++)a=Wn(a,t[h].hostAttrs,o);return Wn(a,n.attrs,o)}(t,n,a)}return void 0!==h&&(a?n.residualClasses=h:n.residualStyles=h),o}(l,h,n,a),function x0(t,n,o,a,l,h){let m=h?n.classBindings:n.styleBindings,v=la(m),w=Ra(m);t[a]=o;let V,N=!1;if(Array.isArray(o)?(V=o[1],(null===V||oa(o,V)>0)&&(N=!0)):V=o,l)if(0!==w){const Ie=la(t[v+1]);t[a+1]=gu(Ie,v),0!==Ie&&(t[Ie+1]=pr(t[Ie+1],a)),t[v+1]=function S0(t,n){return 131071&t|n<<17}(t[v+1],a)}else t[a+1]=gu(v,0),0!==v&&(t[v+1]=pr(t[v+1],a)),v=a;else t[a+1]=gu(w,0),0===v?v=a:t[w+1]=pr(t[w+1],a),w=a;N&&(t[a+1]=ph(t[a+1])),wg(t,V,a,!0),wg(t,V,a,!1),function O0(t,n,o,a,l){const h=l?t.residualClasses:t.residualStyles;null!=h&&"string"==typeof n&&oa(h,n)>=0&&(o[a+1]=gh(o[a+1]))}(n,V,t,a,h),m=gu(v,w),h?n.classBindings=m:n.styleBindings=m}(l,h,n,o,m,a)}}function oi(t,n,o,a,l){let h=null;const m=o.directiveEnd;let v=o.directiveStylingLast;for(-1===v?v=o.directiveStart:v++;v<m&&(h=n[v],a=Wn(a,h.hostAttrs,l),h!==t);)v++;return null!==t&&(o.directiveStylingLast=v),a}function Wn(t,n,o){const a=o?1:2;let l=-1;if(null!==n)for(let h=0;h<n.length;h++){const m=n[h];"number"==typeof m?l=m:l===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Mr(t,m,!!o||n[++h]))}return void 0===t?null:t}function ki(t,n,o){const a=String(n);""!==a&&!a.includes(" ")&&Mr(t,a,o)}function Io(t,n,o,a,l,h,m,v){if(!(3&n.type))return;const w=t.data,N=w[v+1],V=function I0(t){return 1==(1&t)}(N)?mo(w,n,o,l,Ra(N),m):void 0;Hr(V)||(Hr(h)||function A0(t){return 2==(2&t)}(N)&&(h=mo(w,null,o,l,v,m)),function s1(t,n,o,a,l){if(n)l?t.addClass(o,a):t.removeClass(o,a);else{let h=-1===a.indexOf("-")?void 0:Uc.DashCase;null==l?t.removeStyle(o,a,h):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),h|=Uc.Important),t.setStyle(o,a,l,h))}}(a,m,s(To(),o),l,h))}function mo(t,n,o,a,l,h){const m=null===n;let v;for(;l>0;){const w=t[l],N=Array.isArray(w),V=N?w[1]:w,te=null===V;let Ie=o[l+1];Ie===Nn&&(Ie=te?qt:void 0);let je=te?Tl(Ie,a):V===a?Ie:void 0;if(N&&!Hr(je)&&(je=Tl(w,a)),Hr(je)&&(v=je,m))return v;const yt=t[l+1];l=m?la(yt):Ra(yt)}if(null!==n){let w=h?n.residualClasses:n.residualStyles;null!=w&&(v=Tl(w,a))}return v}function Hr(t){return void 0!==t}function ua(t,n){return 0!=(t.flags&(n?8:16))}function da(t,n=""){const o=Ct(),a=Fn(),l=t+Rn,h=a.firstCreatePass?uc(a,l,1,n,null):a.data[l],m=jr(a,o,h,n,t);o[l]=m,go()&&rd(a,o,m,h),ur(h,!1)}let jr=(t,n,o,a,l)=>(Xr(!0),ed(n[Ht],a));function qs(t){return Fa("",t,""),qs}function Fa(t,n,o){const a=Ct(),l=hc(a,t,n,o);return l!==Nn&&Ws(a,To(),l),Fa}function al(t,n,o,a,l){const h=Ct(),m=fc(h,t,n,o,a,l);return m!==Nn&&Ws(h,To(),m),al}function Z0(t,n,o){const a=Ct();return fr(a,Da(),n)&&ts(Fn(),po(),a,t,n,a[Ht],o,!0),Z0}const ul=void 0;var IC=["en",[["a","p"],["AM","PM"],ul],[["AM","PM"],ul,ul],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ul,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ul,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ul,"{1} 'at' {0}",ul],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function SC(t){const o=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let vu={};function V0(t){const n=function xC(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=X1(n);if(o)return o;const a=n.split("-")[0];if(o=X1(a),o)return o;if("en"===a)return IC;throw new we(701,!1)}function K1(t){return V0(t)[yu.PluralCase]}function X1(t){return t in vu||(vu[t]=$t.ng&&$t.ng.common&&$t.ng.common.locales&&$t.ng.common.locales[t]),vu[t]}var yu=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(yu||{});const Du="en-US",Rg={marker:"element"},Fg={marker:"ICU"};var hs=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}(hs||{});let eD=Du;function tD(t){(function et(t,n){null==t&&nt(n,t,null,"!=")})(t,"Expected localeId to be defined"),"string"==typeof t&&(eD=t.toLowerCase().replace(/_/g,"-"))}function nD(t,n,o){const a=n.insertBeforeIndex,l=Array.isArray(a)?a[0]:a;return null===l?km(t,0,o):li(o[l])}function iD(t,n,o,a,l){const h=n.insertBeforeIndex;if(Array.isArray(h)){let m=a,v=null;if(3&n.type||(v=m,m=l),null!==m&&-1===n.componentOffset)for(let w=1;w<h.length;w++)ec(t,m,o[h[w]],v,!1)}}function oD(t,n){if(t.push(n),t.length>1)for(let o=t.length-2;o>=0;o--){const a=t[o];rD(a)||RC(a,n)&&null===FC(a)&&LC(a,n.index)}}function rD(t){return!(64&t.type)}function RC(t,n){return rD(n)||t.index>n.index}function FC(t){const n=t.insertBeforeIndex;return Array.isArray(n)?n[0]:n}function LC(t,n){const o=t.insertBeforeIndex;Array.isArray(o)?o[0]=n:(Rm(nD,iD),t.insertBeforeIndex=n)}function HC(t,n,o){const a=Ud(t,o,64,null,null);return oD(n,a),a}function YC(){const t=[];let o,a,n=-1;function h(v,w){n=0;const N=function Lg(t,n){const o=n[t.currentCaseLViewIndex];return null===o?o:o<0?~o:o}(v,w);a=null!==N?v.remove[N]:qt}function m(){if(n<a.length){const v=a[n++];return v>0?o[v]:(t.push(n,a),h(o[jt].data[~v],o),m())}return 0===t.length?null:(a=t.pop(),n=t.pop(),m())}return function l(v,w){for(o=w;t.length;)t.pop();return h(v.value,w),m}}const Bg=/\ufffd(\d+):?\d*\ufffd/gi,qC=/\ufffd(\d+)\ufffd/,pD=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Eh="\ufffd",JC=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,QC=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,KC=/\uE500/g;function gD(t,n,o,a,l,h,m){const v=Kc(t,a,1,null);let w=v<<hs.SHIFT,N=Ur();n===N&&(N=null),null===N&&(w|=hs.APPEND_EAGERLY),m&&(w|=hs.COMMENT,function cf(t){void 0===Ku&&(Ku=t())}(YC)),l.push(w,null===h?"":h);const V=Ud(t,v,m?32:1,null===h?"":h,null);oD(o,V);const te=V.index;return ur(V,!1),null!==N&&n!==N&&function UC(t,n){let o=t.insertBeforeIndex;null===o?(Rm(nD,iD),o=t.insertBeforeIndex=[null,n]):(function ht(t,n,o){t!=n&&nt(o,t,n,"==")}(Array.isArray(o),!0,"Expecting array here"),o.push(n))}(N,te),V}function tw(t,n,o,a,l,h,m){const v=m.match(Bg),w=gD(t,n,o,h,a,v?null:m,!1);v&&Th(l,m,w.index,null,0,null)}function Th(t,n,o,a,l,h){const m=t.length,v=m+1;t.push(null,null);const w=m+2,N=n.split(Bg);let V=0;for(let te=0;te<N.length;te++){const Ie=N[te];if(1&te){const je=l+parseInt(Ie,10);t.push(-1-je),V|=mD(je)}else""!==Ie&&t.push(Ie)}return t.push(o<<2|(a?1:0)),a&&t.push(a,h),t[m]=V,t[v]=t.length-w,V}function mD(t){return 1<<Math.min(t,31)}function _D(t){let n,h,o="",a=0,l=!1;for(;null!==(n=JC.exec(t));)l?n[0]===`${Eh}/*${h}${Eh}`&&(a=n.index,l=!1):(o+=t.substring(a,n.index+n[0].length),h=n[1],l=!0);return o+=t.slice(a),o}function vD(t,n,o,a,l,h){let m=0;const v={type:l.type,currentCaseLViewIndex:Kc(t,n,1,null),anchorIdx:h,cases:[],create:[],remove:[],update:[]};(function lw(t,n,o){t.push(mD(n.mainBinding),2,-1-n.mainBinding,o<<2|2)})(o,l,h),function BC(t,n,o){const a=t.data[n];null===a?t.data[n]=o:a.value=o}(t,h,v);const w=l.values;for(let N=0;N<w.length;N++){const V=w[N],te=[];for(let Ie=0;Ie<V.length;Ie++){const je=V[Ie];if("string"!=typeof je){const yt=te.push(je)-1;V[Ie]=`\x3c!--\ufffd${yt}\ufffd--\x3e`}}m=aw(t,v,n,o,a,l.cases[N],V.join(""),te)|m}m&&function uw(t,n,o){t.push(n,1,o<<2|3)}(o,m,h)}function sw(t){const n=[],o=[];let a=1,l=0;const h=$0(t=t.replace(pD,function(m,v,w){return a="select"===w?0:1,l=parseInt(v.slice(1),10),""}));for(let m=0;m<h.length;){let v=h[m++].trim();1===a&&(v=v.replace(/\s*(?:=)?(\w+)\s*/,"$1")),v.length&&n.push(v);const w=$0(h[m++]);n.length>o.length&&o.push(w)}return{type:a,mainBinding:l,cases:n,values:o}}function $0(t){if(!t)return[];let n=0;const o=[],a=[],l=/[{}]/g;let h;for(l.lastIndex=0;h=l.exec(t);){const v=h.index;if("}"==h[0]){if(o.pop(),0==o.length){const w=t.substring(n,v);pD.test(w)?a.push(sw(w)):a.push(w),n=v+1}}else{if(0==o.length){const w=t.substring(n,v);a.push(w),n=v+1}o.push("{")}}const m=t.substring(n);return a.push(m),a}function aw(t,n,o,a,l,h,m,v){const w=[],N=[],V=[];n.cases.push(h),n.create.push(w),n.remove.push(N),n.update.push(V);const Ie=wf(Zc()).getInertBodyElement(m),je=hd(Ie)||Ie;return je?yD(t,n,o,a,w,N,V,je,l,v,0):0}function yD(t,n,o,a,l,h,m,v,w,N,V){let te=0,Ie=v.firstChild;for(;Ie;){const je=Kc(t,o,1,null);switch(Ie.nodeType){case Node.ELEMENT_NODE:const yt=Ie,kt=yt.tagName.toLowerCase();if(ud.hasOwnProperty(kt)){G0(l,Rg,kt,w,je),t.data[je]=kt;const Pn=yt.attributes;for(let Xn=0;Xn<Pn.length;Xn++){const ji=Pn.item(Xn),ps=ji.name.toLowerCase();ji.value.match(Bg)?Af.hasOwnProperty(ps)&&Th(m,ji.value,je,ji.name,0,dd[ps]?Hl:null):dw(l,je,ji)}te=yD(t,n,o,a,l,h,m,Ie,je,N,V+1)|te,DD(h,je,V)}break;case Node.TEXT_NODE:const Yt=Ie.textContent||"",un=Yt.match(Bg);G0(l,null,un?"":Yt,w,je),DD(h,je,V),un&&(te=Th(m,Yt,je,null,0,null)|te);break;case Node.COMMENT_NODE:const Mt=qC.exec(Ie.textContent||"");if(Mt){const Xn=N[parseInt(Mt[1],10)];G0(l,Fg,"",w,je),vD(t,o,a,w,Xn,je),cw(h,je,V)}}Ie=Ie.nextSibling}return te}function DD(t,n,o){0===o&&t.push(n)}function cw(t,n,o){0===o&&(t.push(~n),t.push(n))}function G0(t,n,o,a,l){null!==n&&t.push(n),t.push(o,l,function jC(t,n,o){return t|n<<17|o<<1}(0,a,l))}function dw(t,n,o){t.push(n<<1|1,o.name,o.value)}function CD(t,n,o=-1){const a=Fn(),l=Ct(),h=Rn+t,m=bt(a.consts,n),v=Ur();a.firstCreatePass&&function ew(t,n,o,a,l,h){const m=Ur(),v=[],w=[],N=[[]];l=function rw(t,n){if(function ow(t){return-1===t}(n))return _D(t);{const o=t.indexOf(`:${n}${Eh}`)+2+n.toString().length,a=t.search(new RegExp(`${Eh}\\/\\*\\d+:${n}${Eh}`));return _D(t.substring(o,a))}}(l,h);const V=function XC(t){return t.replace(KC," ")}(l).split(QC);for(let te=0;te<V.length;te++){let Ie=V[te];if(1&te){const je=47===Ie.charCodeAt(0),kt=(Ie.charCodeAt(je?1:0),Rn+Number.parseInt(Ie.substring(je?2:1)));if(je)N.shift(),ur(Ur(),!1);else{const Yt=HC(t,N[0],kt);N.unshift([]),ur(Yt,!0)}}else{const je=$0(Ie);for(let yt=0;yt<je.length;yt++){let kt=je[yt];if(1&yt){const Yt=kt;if("object"!=typeof Yt)throw new Error(`Unable to parse ICU expression in "${l}" message.`);vD(t,o,w,n,Yt,gD(t,m,N[0],o,v,"",!0).index)}else""!==kt&&tw(t,m,N[0],v,w,o,kt)}}}t.data[a]={create:v,update:w}}(a,null===v?0:v.index,l,h,m,o),2===a.type?l[pi][Xt]|=32:l[Xt]|=32;const w=a.data[h],V=Sm(a,v===l[Ci]?null:v,l);(function $C(t,n,o,a){const l=t[Ht];for(let h=0;h<n.length;h++){const m=n[h++],v=n[h],N=(m&hs.APPEND_EAGERLY)===hs.APPEND_EAGERLY,V=m>>>hs.SHIFT;let te=t[V];null===te&&(te=t[V]=(m&hs.COMMENT)===hs.COMMENT?l.createComment(v):ed(l,v)),N&&null!==o&&ec(l,o,te,a,!1)}})(l,w.create,V,v&&8&v.type?l[v.index]:null),D(!0)}function ED(t,n,o){CD(t,n,o),function wD(){D(!1)}()}function z0(t,n,o,a,l){if(t=Ye(t),Array.isArray(t))for(let h=0;h<t.length;h++)z0(t[h],n,o,a,l);else{const h=Fn(),m=Ct(),v=Ui();let w=aa(t)?t:Ye(t.provide);const N=Ff(t),V=1048575&v.providerIndexes,te=v.directiveStart,Ie=v.providerIndexes>>20;if(aa(t)||!t.multi){const je=new Sc(N,l,lc),yt=W0(w,n,l?V:V+Ie,te);-1===yt?(Ga(bl(v,m),h,w),Y0(h,t,n.length),n.push(w),v.directiveStart++,v.directiveEnd++,l&&(v.providerIndexes+=1048576),o.push(je),m.push(je)):(o[yt]=je,m[yt]=je)}else{const je=W0(w,n,V+Ie,te),yt=W0(w,n,V,V+Ie),Yt=yt>=0&&o[yt];if(l&&!Yt||!l&&!(je>=0&&o[je])){Ga(bl(v,m),h,w);const un=function Aw(t,n,o,a,l){const h=new Sc(t,o,lc);return h.multi=[],h.index=n,h.componentProviders=0,MD(h,l,a&&!o),h}(l?Mw:Tw,o.length,l,a,N);!l&&Yt&&(o[yt].providerFactory=un),Y0(h,t,n.length,0),n.push(w),v.directiveStart++,v.directiveEnd++,l&&(v.providerIndexes+=1048576),o.push(un),m.push(un)}else Y0(h,t,je>-1?je:yt,MD(o[l?yt:je],N,!l&&a));!l&&a&&Yt&&o[yt].componentProviders++}}}function Y0(t,n,o,a){const l=aa(n),h=function l_(t){return!!t.useClass}(n);if(l||h){const w=(h?Ye(n.useClass):n).prototype.ngOnDestroy;if(w){const N=t.destroyHooks||(t.destroyHooks=[]);if(!l&&n.multi){const V=N.indexOf(o);-1===V?N.push(o,[a,w]):N[V+1].push(a,w)}else N.push(o,w)}}}function MD(t,n,o){return o&&t.componentProviders++,t.multi.push(n)-1}function W0(t,n,o,a){for(let l=o;l<a;l++)if(n[l]===t)return l;return-1}function Tw(t,n,o,a){return q0(this.multi,[])}function Mw(t,n,o,a){const l=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,v=Ca(o,o[jt],this.providerFactory.index,a);h=v.slice(0,m),q0(l,h);for(let w=m;w<v.length;w++)h.push(v[w])}else h=[],q0(l,h);return h}function q0(t,n){for(let o=0;o<t.length;o++)n.push((0,t[o])());return n}function AD(t,n=[]){return o=>{o.providersResolver=(a,l)=>function Ew(t,n,o){const a=Fn();if(a.firstCreatePass){const l=Xi(t);z0(o,a.data,a.blueprint,l,!0),z0(n,a.data,a.blueprint,l,!1)}}(a,l?l(t):t,n)}}class dl{}class SD{}function Sw(t,n){return new J0(t,n??null,[])}class J0 extends dl{constructor(n,o,a){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Lp(this);const l=bn(n);this._bootstrapComponents=Ys(l.bootstrap),this._r3Injector=Jf(n,o,[{provide:dl,useValue:this},{provide:ql,useValue:this.componentFactoryResolver},...a],ne(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Q0 extends SD{constructor(n){super(),this.moduleType=n}create(n){return new J0(this.moduleType,n,[])}}class ID extends dl{constructor(n){super(),this.componentFactoryResolver=new Lp(this),this.instance=null;const o=new zl([...n.providers,{provide:dl,useValue:this},{provide:ql,useValue:this.componentFactoryResolver}],n.parent||Gl(),n.debugName,new Set(["environment"]));this.injector=o,n.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function xD(t,n,o=null){return new ID({providers:t,parent:n,debugName:o,runEnvironmentInitializers:!0}).injector}let xw=(()=>{class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const a=kf(0,o.type),l=a.length>0?xD([a],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,l)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Zt({token:t,providedIn:"environment",factory:()=>new t(ot(ks))})}return t})();function OD(t){t.getStandaloneInjector=n=>n.get(xw).getOrCreateStandaloneInjector(t)}function BD(t,n,o){const a=dr()+t,l=Ct();return l[a]===Nn?Bs(l,a,o?n.call(o):n()):function il(t,n){return t[n]}(l,a)}function UD(t,n,o,a){return ZD(Ct(),dr(),t,n,o,a)}function HD(t,n,o,a,l){return VD(Ct(),dr(),t,n,o,a,l)}function jD(t,n,o,a,l,h){return function $D(t,n,o,a,l,h,m,v){const w=n+o;return function su(t,n,o,a,l){const h=ka(t,n,o,a);return fr(t,n+2,l)||h}(t,w,l,h,m)?Bs(t,w+3,v?a.call(v,l,h,m):a(l,h,m)):Mh(t,w+3)}(Ct(),dr(),t,n,o,a,l,h)}function Mh(t,n){const o=t[n];return o===Nn?void 0:o}function ZD(t,n,o,a,l,h){const m=n+o;return fr(t,m,l)?Bs(t,m+1,h?a.call(h,l):a(l)):Mh(t,m+1)}function VD(t,n,o,a,l,h,m){const v=n+o;return ka(t,v,l,h)?Bs(t,v+2,m?a.call(m,l,h):a(l,h)):Mh(t,v+2)}function YD(t,n){const o=Fn();let a;const l=t+Rn;o.firstCreatePass?(a=function Gw(t,n){if(n)for(let o=n.length-1;o>=0;o--){const a=n[o];if(t===a.name)return a}}(n,o.pipeRegistry),o.data[l]=a,a.onDestroy&&(o.destroyHooks??=[]).push(l,a.onDestroy)):a=o.data[l];const h=a.factory||(a.factory=kr(a.type)),v=Zn(lc);try{const w=Dl(!1),N=h();return Dl(w),function v0(t,n,o,a){o>=t.data.length&&(t.data[o]=null,t.blueprint[o]=null),n[o]=a}(o,Ct(),l,N),N}finally{Zn(v)}}function WD(t,n,o){const a=t+Rn,l=Ct(),h=O(l,a);return Ah(l,a)?ZD(l,dr(),n,h.transform,o,h):h.transform(o)}function qD(t,n,o,a){const l=t+Rn,h=Ct(),m=O(h,l);return Ah(h,l)?VD(h,dr(),n,m.transform,o,a,m):m.transform(o,a)}function Ah(t,n){return t[jt].data[n].pure}function qw(){return this._results[Symbol.iterator]()}class X0{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Fs)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=X0.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=qw)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,o){return this._results.reduce(n,o)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,o){const a=this;a.dirty=!1;const l=function Cs(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Ly(t,n,o){if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++){let l=t[a],h=n[a];if(o&&(l=o(l),h=o(h)),h!==l)return!1}return!0}(a._results,l,o))&&(a._results=l,a.length=l.length,a.last=l[this.length-1],a.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Qw(t,n,o,a=!0){const l=n[jt];if(function e1(t,n,o,a){const l=Yi+a,h=o.length;a>0&&(o[l-1][$i]=n),a<h-Yi?(n[$i]=o[l],nm(o,Yi+a,n)):(o.push(n),n[$i]=null),n[Yn]=o;const m=n[Mo];null!==m&&o!==m&&function t1(t,n){const o=t[Or];n[pi]!==n[Yn][Yn][pi]&&(t[sr]=!0),null===o?t[Or]=[n]:o.push(n)}(m,n);const v=n[vo];null!==v&&v.insertView(t),n[Xt]|=128}(l,n,t,o),a){const h=Bl(o,t),m=n[Ht],v=id(m,t[Gi]);null!==v&&function lf(t,n,o,a,l,h){a[Jn]=l,a[Ci]=n,Vo(t,a,o,1,l,h)}(l,t[Ci],m,n,v,h)}}let Sh=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=eE}return t})();const Kw=Sh,Xw=class extends Kw{constructor(n,o,a){super(),this._declarationLView=n,this._declarationTContainer=o,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,o){return this.createEmbeddedViewImpl(n,o)}createEmbeddedViewImpl(n,o,a){const l=function Jw(t,n,o,a){const l=n.tView,v=Kl(t,l,o,4096&t[Xt]?4096:16,null,n,null,null,null,a?.injector??null,a?.hydrationInfo??null);v[Mo]=t[n.index];const N=t[vo];return null!==N&&(v[vo]=N.createEmbeddedView(l)),qd(l,v,o),v}(this._declarationLView,this._declarationTContainer,n,{injector:o,hydrationInfo:a});return new el(l)}};function eE(){return Ug(Ui(),Ct())}function Ug(t,n){return 4&t.type?new Xw(n,t,Na(t,n)):null}let jg=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=sE}return t})();function sE(){return nb(Ui(),Ct())}const aE=jg,eb=class extends aE{constructor(n,o,a){super(),this._lContainer=n,this._hostTNode=o,this._hostLView=a}get element(){return Na(this._hostTNode,this._hostLView)}get injector(){return new Tr(this._hostTNode,this._hostLView)}get parentInjector(){const n=$a(this._hostTNode,this._hostLView);if(Vs(n)){const o=ia(n,this._hostLView),a=Ic(n);return new Tr(o[jt].data[a+8],o)}return new Tr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const o=tb(this._lContainer);return null!==o&&o[n]||null}get length(){return this._lContainer.length-Yi}createEmbeddedView(n,o,a){let l,h;"number"==typeof a?l=a:null!=a&&(l=a.index,h=a.injector);const v=n.createEmbeddedViewImpl(o||{},h,null);return this.insertImpl(v,l,false),v}createComponent(n,o,a,l,h){const m=n&&!function kc(t){return"function"==typeof t}(n);let v;if(m)v=o;else{const kt=o||{};v=kt.index,a=kt.injector,l=kt.projectableNodes,h=kt.environmentInjector||kt.ngModuleRef}const w=m?n:new tl(vn(n)),N=a||this.parentInjector;if(!h&&null==w.ngModule){const Yt=(m?N:this.parentInjector).get(ks,null);Yt&&(h=Yt)}vn(w.componentType??{});const je=w.create(N,l,null,h);return this.insertImpl(je.hostView,v,false),je}insert(n,o){return this.insertImpl(n,o,!1)}insertImpl(n,o,a){const l=n._lView;if(function tt(t){return Fi(t[Yn])}(l)){const w=this.indexOf(n);if(-1!==w)this.detach(w);else{const N=l[Yn],V=new eb(N,N[Ci],N[Yn]);V.detach(V.indexOf(n))}}const m=this._adjustIndex(o),v=this._lContainer;return Qw(v,l,m,!a),n.attachToViewContainerRef(),nm(ey(v),m,n),n}move(n,o){return this.insert(n,o)}indexOf(n){const o=tb(this._lContainer);return null!==o?o.indexOf(n):-1}remove(n){const o=this._adjustIndex(n,-1),a=nd(this._lContainer,o);a&&(Bu(ey(this._lContainer),o),uf(a[jt],a))}detach(n){const o=this._adjustIndex(n,-1),a=nd(this._lContainer,o);return a&&null!=Bu(ey(this._lContainer),o)?new el(a):null}_adjustIndex(n,o=0){return n??this.length+o}};function tb(t){return t[8]}function ey(t){return t[8]||(t[8]=[])}function nb(t,n){let o;const a=n[t.index];return Fi(a)?o=a:(o=Tp(a,n,null,t),n[t.index]=o,Xl(n,o)),ib(o,n,t,a),new eb(o,t,n)}let ib=function ob(t,n,o,a){if(t[Gi])return;let l;l=8&o.type?li(a):function cE(t,n){const o=t[Ht],a=o.createComment(""),l=d(n,t);return ec(o,id(o,l),a,function Nm(t,n){return t.nextSibling(n)}(o,l),!1),a}(n,o),t[Gi]=l};class ty{constructor(n){this.queryList=n,this.matches=null}clone(){return new ty(this.queryList)}setDirty(){this.queryList.setDirty()}}class ny{constructor(n=[]){this.queries=n}createEmbeddedView(n){const o=n.queries;if(null!==o){const a=null!==n.contentQueries?n.contentQueries[0]:o.length,l=[];for(let h=0;h<a;h++){const m=o.getByIndex(h);l.push(this.queries[m.indexInDeclarationView].clone())}return new ny(l)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let o=0;o<this.queries.length;o++)null!==fb(n,o).matches&&this.queries[o].setDirty()}}class rb{constructor(n,o,a=null){this.predicate=n,this.flags=o,this.read=a}}class iy{constructor(n=[]){this.queries=n}elementStart(n,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,o)}elementEnd(n){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(n)}embeddedTView(n){let o=null;for(let a=0;a<this.length;a++){const l=null!==o?o.length:0,h=this.getByIndex(a).embeddedTView(n,l);h&&(h.indexInDeclarationView=a,null!==o?o.push(h):o=[h])}return null!==o?new iy(o):null}template(n,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,o)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class oy{constructor(n,o=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(n,o){this.isApplyingToNode(o)&&this.matchTNode(n,o)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,o){this.elementStart(n,o)}embeddedTView(n,o){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,o),new oy(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let l=0;l<a.length;l++){const h=a[l];this.matchTNodeWithReadOption(n,o,dE(o,h)),this.matchTNodeWithReadOption(n,o,xc(o,n,h,!1,!1))}else a===Sh?4&o.type&&this.matchTNodeWithReadOption(n,o,-1):this.matchTNodeWithReadOption(n,o,xc(o,n,a,!1,!1))}matchTNodeWithReadOption(n,o,a){if(null!==a){const l=this.metadata.read;if(null!==l)if(l===rc||l===jg||l===Sh&&4&o.type)this.addMatch(o.index,-2);else{const h=xc(o,n,l,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,a)}}addMatch(n,o){null===this.matches?this.matches=[n,o]:this.matches.push(n,o)}}function dE(t,n){const o=t.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===n)return o[a+1];return null}function fE(t,n,o,a){return-1===o?function hE(t,n){return 11&t.type?Na(t,n):4&t.type?Ug(t,n):null}(n,t):-2===o?function pE(t,n,o){return o===rc?Na(n,t):o===Sh?Ug(n,t):o===jg?nb(n,t):void 0}(t,n,a):Ca(t,t[jt],o,n)}function sb(t,n,o,a){const l=n[vo].queries[a];if(null===l.matches){const h=t.data,m=o.matches,v=[];for(let w=0;w<m.length;w+=2){const N=m[w];v.push(N<0?null:fE(n,h[N],m[w+1],o.metadata.read))}l.matches=v}return l.matches}function ry(t,n,o,a){const l=t.queries.getByIndex(o),h=l.matches;if(null!==h){const m=sb(t,n,l,o);for(let v=0;v<h.length;v+=2){const w=h[v];if(w>0)a.push(m[v/2]);else{const N=h[v+1],V=n[-w];for(let te=Yi;te<V.length;te++){const Ie=V[te];Ie[Mo]===Ie[Yn]&&ry(Ie[jt],Ie,N,a)}if(null!==V[Or]){const te=V[Or];for(let Ie=0;Ie<te.length;Ie++){const je=te[Ie];ry(je[jt],je,N,a)}}}}}return a}function ab(t){const n=Ct(),o=Fn(),a=G();oe(a+1);const l=fb(o,a);if(t.dirty&&function _e(t){return 4==(4&t[Xt])}(n)===(2==(2&l.metadata.flags))){if(null===l.matches)t.reset([]);else{const h=l.crossesNgTemplate?ry(o,n,a,[]):sb(o,n,l,a);t.reset(h,x_),t.notifyOnChanges()}return!0}return!1}function cb(t,n,o){const a=Fn();a.firstCreatePass&&(hb(a,new rb(t,n,o),-1),2==(2&n)&&(a.staticViewQueries=!0)),db(a,Ct(),n)}function lb(t,n,o,a){const l=Fn();if(l.firstCreatePass){const h=Ui();hb(l,new rb(n,o,a),h.index),function mE(t,n){const o=t.contentQueries||(t.contentQueries=[]);n!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,n)}(l,t),2==(2&o)&&(l.staticContentQueries=!0)}db(l,Ct(),o)}function ub(){return function gE(t,n){return t[vo].queries[n].queryList}(Ct(),G())}function db(t,n,o){const a=new X0(4==(4&o));(function uv(t,n,o,a){const l=Ap(n);l.push(o),t.firstCreatePass&&Sp(t).push(a,l.length-1)})(t,n,a,a.destroy),null===n[vo]&&(n[vo]=new ny),n[vo].queries.push(new ty(a))}function hb(t,n,o){null===t.queries&&(t.queries=new iy),t.queries.track(new oy(n,o))}function fb(t,n){return t.queries.getByIndex(n)}function pb(t,n){return Ug(t,n)}function sy(t){return!!bn(t)}const Ob=new vi("Application Initializer");let dy=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,a)=>{this.resolve=o,this.reject=a}),this.appInits=Et(Ob,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const l of this.appInits){const h=l();if(lh(h))o.push(h);else if(lg(h)){const m=new Promise((v,w)=>{h.subscribe({complete:v,error:w})});o.push(m)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{a()}).catch(l=>{this.reject(l)}),0===o.length&&a(),this.initialized=!0}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Zt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Nb=(()=>{class t{log(o){console.log(o)}warn(o){console.warn(o)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Zt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Vg=new vi("LocaleId",{providedIn:"root",factory:()=>Et(Vg,Rt.Optional|Rt.SkipSelf)||function LE(){return typeof $localize<"u"&&$localize.locale||Du}()}),BE=new vi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Pb=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new q.X(!1)}add(){this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Zt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class HE{constructor(n,o){this.ngModuleFactory=n,this.componentFactories=o}}let jE=(()=>{class t{compileModuleSync(o){return new Q0(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),h=Ys(bn(o).declarations).reduce((m,v)=>{const w=vn(v);return w&&m.push(new tl(w)),m},[]);return new HE(a,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Zt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Lb=new vi(""),Bb=new vi("");let py,aT=(()=>{class t{constructor(o,a,l){this._ngZone=o,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,py||(function cT(t){py=t}(l),l.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$o.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,l){let h=-1;a&&a>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==h),o(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:l})}whenStable(o,a,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,l){return[]}static#e=this.\u0275fac=function(a){return new(a||t)(ot($o),ot(Ub),ot(Bb))};static#t=this.\u0275prov=Zt({token:t,factory:t.\u0275fac})}return t})(),Ub=(()=>{class t{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){return py?.findTestabilityInTree(this,o,a)??null}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Zt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Ec=null;const Hb=new vi("AllowMultipleToken"),gy=new vi("PlatformDestroyListeners"),my=new vi("appBootstrapListener");class dT{constructor(n,o){this.name=n,this.token=o}}function Vb(t,n,o=[]){const a=`Platform: ${n}`,l=new vi(a);return(h=[])=>{let m=_y();if(!m||m.injector.get(Hb,!1)){const v=[...o,...h,{provide:l,useValue:!0}];t?t(v):function hT(t){if(Ec&&!Ec.get(Hb,!1))throw new we(400,!1);(function jb(){!function js(t){Ho=t}(()=>{throw new we(600,!1)})})(),Ec=t;const n=t.get(Gb);(function Zb(t){t.get(Bf,null)?.forEach(o=>o())})(t)}(function $b(t=[],n){return Es.create({name:n,providers:[{provide:hr,useValue:"platform"},{provide:gy,useValue:new Set([()=>Ec=null])},...t]})}(v,a))}return function pT(t){const n=_y();if(!n)throw new we(401,!1);return n}()}}function _y(){return Ec?.get(Gb)??null}let Gb=(()=>{class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const l=function gT(t="zone.js",n){return"noop"===t?new z_:"zone.js"===t?new $o(n):t}(a?.ngZone,function zb(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return l.run(()=>{const h=function Iw(t,n,o){return new J0(t,n,o)}(o.moduleType,this.injector,function Qb(t){return[{provide:$o,useFactory:t},{provide:Yc,multi:!0,useFactory:()=>{const n=Et(_T,{optional:!0});return()=>n.initialize()}},{provide:Jb,useFactory:mT},{provide:tp,useFactory:np}]}(()=>l)),m=h.injector.get(ca,null);return l.runOutsideAngular(()=>{const v=l.onError.subscribe({next:w=>{m.handleError(w)}});h.onDestroy(()=>{Gg(this._modules,h),v.unsubscribe()})}),function Yb(t,n,o){try{const a=o();return lh(a)?a.catch(l=>{throw n.runOutsideAngular(()=>t.handleError(l)),l}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}(m,l,()=>{const v=h.injector.get(dy);return v.runInitializers(),v.donePromise.then(()=>(tD(h.injector.get(Vg,Du)||Du),this._moduleDoBootstrap(h),h))})})}bootstrapModule(o,a=[]){const l=Wb({},a);return function lT(t,n,o){const a=new Q0(o);return Promise.resolve(a)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(o){const a=o.injector.get(wu);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>a.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new we(-403,!1);o.instance.ngDoBootstrap(a)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new we(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(gy,null);o&&(o.forEach(a=>a()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(a){return new(a||t)(ot(Es))};static#t=this.\u0275prov=Zt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function Wb(t,n){return Array.isArray(n)?n.reduce(Wb,t):{...t,...n}}let wu=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Et(Jb),this.zoneIsStable=Et(tp),this.componentTypes=[],this.components=[],this.isStable=Et(Pb).hasPendingTasks.pipe((0,Le.w)(o=>o?(0,e.of)(!1):this.zoneIsStable),(0,pe.x)(),(0,Q.B)()),this._injector=Et(ks)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,a){const l=o instanceof Zf;if(!this._injector.get(dy).done)throw!l&&_i(o),new we(405,!1);let m;m=l?o:this._injector.get(ql).resolveComponentFactory(o),this.componentTypes.push(m.componentType);const v=function uT(t){return t.isBoundToModule}(m)?void 0:this._injector.get(dl),N=m.create(Es.NULL,[],a||m.selector,v),V=N.location.nativeElement,te=N.injector.get(Lb,null);return te?.registerApplication(V),N.onDestroy(()=>{this.detachView(N.hostView),Gg(this.components,N),te?.unregisterApplication(V)}),this._loadComponent(N),N}tick(){if(this._runningTick)throw new we(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1}}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;Gg(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const a=this._injector.get(my,[]);a.push(...this._bootstrapListeners),a.forEach(l=>l(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Gg(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new we(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Zt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Gg(t,n){const o=t.indexOf(n);o>-1&&t.splice(o,1)}const Jb=new vi("",{providedIn:"root",factory:()=>Et(ca).handleError.bind(void 0)});function mT(){const t=Et($o),n=Et(ca);return o=>t.runOutsideAngular(()=>n.handleError(o))}let _T=(()=>{class t{constructor(){this.zone=Et($o),this.applicationRef=Et(wu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Zt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function yT(){return!1}let DT=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=bT}return t})();function bT(t){return function CT(t,n,o){if(qo(t)&&!o){const a=$(t.index,n);return new el(a,a)}return 47&t.type?new el(n[pi],n):null}(Ui(),Ct(),16==(16&t))}class tC{constructor(){}supports(n){return ou(n)}create(n){return new ST(n)}}const AT=(t,n)=>n;class ST{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||AT}forEachItem(n){let o;for(o=this._itHead;null!==o;o=o._next)n(o)}forEachOperation(n){let o=this._itHead,a=this._removalsHead,l=0,h=null;for(;o||a;){const m=!a||o&&o.currentIndex<iC(a,l,h)?o:a,v=iC(m,l,h),w=m.currentIndex;if(m===a)l--,a=a._nextRemoved;else if(o=o._next,null==m.previousIndex)l++;else{h||(h=[]);const N=v-l,V=w-l;if(N!=V){for(let Ie=0;Ie<N;Ie++){const je=Ie<h.length?h[Ie]:h[Ie]=0,yt=je+Ie;V<=yt&&yt<N&&(h[Ie]=je+1)}h[m.previousIndex]=V-N}}v!==w&&n(m,v,w)}}forEachPreviousItem(n){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)n(o)}forEachAddedItem(n){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)n(o)}forEachMovedItem(n){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)n(o)}forEachRemovedItem(n){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)n(o)}forEachIdentityChange(n){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)n(o)}diff(n){if(null==n&&(n=[]),!ou(n))throw new we(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let l,h,m,o=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let v=0;v<this.length;v++)h=n[v],m=this._trackByFn(v,h),null!==o&&Object.is(o.trackById,m)?(a&&(o=this._verifyReinsertion(o,h,m,v)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,m,v),a=!0),o=o._next}else l=0,function Qv(t,n){if(Array.isArray(t))for(let o=0;o<t.length;o++)n(t[o]);else{const o=t[Symbol.iterator]();let a;for(;!(a=o.next()).done;)n(a.value)}}(n,v=>{m=this._trackByFn(l,v),null!==o&&Object.is(o.trackById,m)?(a&&(o=this._verifyReinsertion(o,v,m,l)),Object.is(o.item,v)||this._addIdentityChange(o,v)):(o=this._mismatch(o,v,m,l),a=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,o,a,l){let h;return null===n?h=this._itTail:(h=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,o)||this._addIdentityChange(n,o),this._reinsertAfter(n,h,l)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,l))?(Object.is(n.item,o)||this._addIdentityChange(n,o),this._moveAfter(n,h,l)):n=this._addAfter(new IT(o,a),h,l),n}_verifyReinsertion(n,o,a,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?n=this._reinsertAfter(h,n._prev,l):n.currentIndex!=l&&(n.currentIndex=l,this._addToMoves(n,l)),n}_truncate(n){for(;null!==n;){const o=n._next;this._addToRemovals(this._unlink(n)),n=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const l=n._prevRemoved,h=n._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(n,o,a),this._addToMoves(n,a),n}_moveAfter(n,o,a){return this._unlink(n),this._insertAfter(n,o,a),this._addToMoves(n,a),n}_addAfter(n,o,a){return this._insertAfter(n,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,o,a){const l=null===o?this._itHead:o._next;return n._next=l,n._prev=o,null===l?this._itTail=n:l._prev=n,null===o?this._itHead=n:o._next=n,null===this._linkedRecords&&(this._linkedRecords=new nC),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const o=n._prev,a=n._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,n}_addToMoves(n,o){return n.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nC),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,o){return n.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class IT{constructor(n,o){this.item=n,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xT{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const o=n._prevDup,a=n._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class nC{constructor(){this.map=new Map}put(n){const o=n.trackById;let a=this.map.get(o);a||(a=new xT,this.map.set(o,a)),a.add(n)}get(n,o){const l=this.map.get(n);return l?l.get(n,o):null}remove(n){const o=n.trackById;return this.map.get(o).remove(n)&&this.map.delete(o),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function iC(t,n,o){const a=t.previousIndex;if(null===a)return a;let l=0;return o&&a<o.length&&(l=o[a]),a+n+l}class oC{constructor(){}supports(n){return n instanceof Map||ru(n)}create(){return new OT}}class OT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let o;for(o=this._mapHead;null!==o;o=o._next)n(o)}forEachPreviousItem(n){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)n(o)}forEachChangedItem(n){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)n(o)}forEachAddedItem(n){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)n(o)}forEachRemovedItem(n){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)n(o)}diff(n){if(n){if(!(n instanceof Map||ru(n)))throw new we(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(l,a);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,o){if(n){const a=n._prev;return o._next=n,o._prev=a,n._prev=o,a&&(a._next=o),n===this._mapHead&&(this._mapHead=o),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(n,o){if(this._records.has(n)){const l=this._records.get(n);this._maybeAddToChanges(l,o);const h=l._prev,m=l._next;return h&&(h._next=m),m&&(m._prev=h),l._next=null,l._prev=null,l}const a=new NT(n);return this._records.set(n,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,o){Object.is(o,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=o,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,o){n instanceof Map?n.forEach(o):Object.keys(n).forEach(a=>o(n[a],a))}}class NT{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rC(){return new Cy([new tC])}let Cy=(()=>{class t{static#e=this.\u0275prov=Zt({token:t,providedIn:"root",factory:rC});constructor(o){this.factories=o}static create(o,a){if(null!=a){const l=a.factories.slice();o=o.concat(l)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||rC()),deps:[[t,new ra,new $s]]}}find(o){const a=this.factories.find(l=>l.supports(o));if(null!=a)return a;throw new we(901,!1)}}return t})();function sC(){return new wy([new oC])}let wy=(()=>{class t{static#e=this.\u0275prov=Zt({token:t,providedIn:"root",factory:sC});constructor(o){this.factories=o}static create(o,a){if(a){const l=a.factories.slice();o=o.concat(l)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||sC()),deps:[[t,new ra,new $s]]}}find(o){const a=this.factories.find(l=>l.supports(o));if(a)return a;throw new we(901,!1)}}return t})();const RT=Vb(null,"core",[]);let FT=(()=>{class t{constructor(o){}static#e=this.\u0275fac=function(a){return new(a||t)(ot(wu))};static#t=this.\u0275mod=ir({type:t});static#n=this.\u0275inj=wn({})}return t})();function YT(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function qT(t,n){const o=vn(t),a=n.elementInjector||Gl();return new tl(o).create(a,n.projectableNodes,n.hostElement,n.environmentInjector)}function JT(t){const n=vn(t);if(!n)return null;const o=new tl(n);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},8849:(Pt,ke,M)=>{"use strict";M.d(ke,{Cf:()=>ee,EJ:()=>Ci,Fj:()=>xe,JJ:()=>Be,JU:()=>Le,Kr:()=>Qi,On:()=>xi,Wl:()=>me,YN:()=>_r,u5:()=>Nr,wV:()=>tr});var g=M(1699),X=M(6575),Y=M(4683),ce=M(4300),q=M(9736);let e=(()=>{class R{constructor(S,z){this._renderer=S,this._elementRef=z,this.onChange=he=>{},this.onTouched=()=>{}}setProperty(S,z){this._renderer.setProperty(this._elementRef.nativeElement,S,z)}registerOnTouched(S){this.onTouched=S}registerOnChange(S){this.onChange=S}setDisabledState(S){this.setProperty("disabled",S)}static#e=this.\u0275fac=function(z){return new(z||R)(g.Y36(g.Qsj),g.Y36(g.SBq))};static#t=this.\u0275dir=g.lG2({type:R})}return R})(),Q=(()=>{class R extends e{static#e=this.\u0275fac=function(){let S;return function(he){return(S||(S=g.n5z(R)))(he||R)}}();static#t=this.\u0275dir=g.lG2({type:R,features:[g.qOj]})}return R})();const Le=new g.OlP("NgValueAccessor"),pe={provide:Le,useExisting:(0,g.Gpc)(()=>me),multi:!0};let me=(()=>{class R extends Q{writeValue(S){this.setProperty("checked",S)}static#e=this.\u0275fac=function(){let S;return function(he){return(S||(S=g.n5z(R)))(he||R)}}();static#t=this.\u0275dir=g.lG2({type:R,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(z,he){1&z&&g.NdJ("change",function(In){return he.onChange(In.target.checked)})("blur",function(){return he.onTouched()})},features:[g._Bn([pe]),g.qOj]})}return R})();const Ae={provide:Le,useExisting:(0,g.Gpc)(()=>xe),multi:!0},be=new g.OlP("CompositionEventMode");let xe=(()=>{class R extends e{constructor(S,z,he){super(S,z),this._compositionMode=he,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ne(){const R=(0,X.q)()?(0,X.q)().getUserAgent():"";return/android (\d+)/.test(R.toLowerCase())}())}writeValue(S){this.setProperty("value",S??"")}_handleInput(S){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(S)}_compositionStart(){this._composing=!0}_compositionEnd(S){this._composing=!1,this._compositionMode&&this.onChange(S)}static#e=this.\u0275fac=function(z){return new(z||R)(g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(be,8))};static#t=this.\u0275dir=g.lG2({type:R,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(z,he){1&z&&g.NdJ("input",function(In){return he._handleInput(In.target.value)})("blur",function(){return he.onTouched()})("compositionstart",function(){return he._compositionStart()})("compositionend",function(In){return he._compositionEnd(In.target.value)})},features:[g._Bn([Ae]),g.qOj]})}return R})();const ee=new g.OlP("NgValidators"),Oe=new g.OlP("NgAsyncValidators");function Qe(R){return null!=R}function Lt(R){return(0,g.QGY)(R)?(0,Y.D)(R):R}function rt(R){let B={};return R.forEach(S=>{B=null!=S?{...B,...S}:B}),0===Object.keys(B).length?null:B}function ht(R,B){return B.map(S=>S(R))}function ft(R){return R.map(B=>function Re(R){return!R.validate}(B)?B:S=>B.validate(S))}function ue(R){return null!=R?function ae(R){if(!R)return null;const B=R.filter(Qe);return 0==B.length?null:function(S){return rt(ht(S,B))}}(ft(R)):null}function De(R){return null!=R?function Ee(R){if(!R)return null;const B=R.filter(Qe);return 0==B.length?null:function(S){const z=ht(S,B).map(Lt);return(0,ce.D)(z).pipe((0,q.U)(rt))}}(ft(R)):null}function Me(R,B){return null===R?[B]:Array.isArray(R)?[...R,B]:[R,B]}function nt(R){return R?Array.isArray(R)?R:[R]:[]}function cn(R,B){return Array.isArray(R)?R.includes(B):R===B}function ut(R,B){const S=nt(B);return nt(R).forEach(he=>{cn(S,he)||S.push(he)}),S}function sn(R,B){return nt(B).filter(S=>!cn(R,S))}class Zt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(B){this._rawValidators=B||[],this._composedValidatorFn=ue(this._rawValidators)}_setAsyncValidators(B){this._rawAsyncValidators=B||[],this._composedAsyncValidatorFn=De(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(B){this._onDestroyCallbacks.push(B)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(B=>B()),this._onDestroyCallbacks=[]}reset(B=void 0){this.control&&this.control.reset(B)}hasError(B,S){return!!this.control&&this.control.hasError(B,S)}getError(B,S){return this.control?this.control.getError(B,S):null}}class wt extends Zt{get formDirective(){return null}get path(){return null}}class wn extends Zt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class pn{constructor(B){this._cd=B}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Be=(()=>{class R extends pn{constructor(S){super(S)}static#e=this.\u0275fac=function(z){return new(z||R)(g.Y36(wn,2))};static#t=this.\u0275dir=g.lG2({type:R,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(z,he){2&z&&g.ekj("ng-untouched",he.isUntouched)("ng-touched",he.isTouched)("ng-pristine",he.isPristine)("ng-dirty",he.isDirty)("ng-valid",he.isValid)("ng-invalid",he.isInvalid)("ng-pending",he.isPending)},features:[g.qOj]})}return R})();const gi="VALID",Ri="INVALID",Mi="PENDING",Bn="DISABLED";function qi(R){return null!=R&&!Array.isArray(R)&&"object"==typeof R}class Go{constructor(B,S){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(B),this._assignAsyncValidators(S)}get validator(){return this._composedValidatorFn}set validator(B){this._rawValidators=this._composedValidatorFn=B}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(B){this._rawAsyncValidators=this._composedAsyncValidatorFn=B}get parent(){return this._parent}get valid(){return this.status===gi}get invalid(){return this.status===Ri}get pending(){return this.status==Mi}get disabled(){return this.status===Bn}get enabled(){return this.status!==Bn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(B){this._assignValidators(B)}setAsyncValidators(B){this._assignAsyncValidators(B)}addValidators(B){this.setValidators(ut(B,this._rawValidators))}addAsyncValidators(B){this.setAsyncValidators(ut(B,this._rawAsyncValidators))}removeValidators(B){this.setValidators(sn(B,this._rawValidators))}removeAsyncValidators(B){this.setAsyncValidators(sn(B,this._rawAsyncValidators))}hasValidator(B){return cn(this._rawValidators,B)}hasAsyncValidator(B){return cn(this._rawAsyncValidators,B)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(B={}){this.touched=!0,this._parent&&!B.onlySelf&&this._parent.markAsTouched(B)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(B=>B.markAllAsTouched())}markAsUntouched(B={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(S=>{S.markAsUntouched({onlySelf:!0})}),this._parent&&!B.onlySelf&&this._parent._updateTouched(B)}markAsDirty(B={}){this.pristine=!1,this._parent&&!B.onlySelf&&this._parent.markAsDirty(B)}markAsPristine(B={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(S=>{S.markAsPristine({onlySelf:!0})}),this._parent&&!B.onlySelf&&this._parent._updatePristine(B)}markAsPending(B={}){this.status=Mi,!1!==B.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!B.onlySelf&&this._parent.markAsPending(B)}disable(B={}){const S=this._parentMarkedDirty(B.onlySelf);this.status=Bn,this.errors=null,this._forEachChild(z=>{z.disable({...B,onlySelf:!0})}),this._updateValue(),!1!==B.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...B,skipPristineCheck:S}),this._onDisabledChange.forEach(z=>z(!0))}enable(B={}){const S=this._parentMarkedDirty(B.onlySelf);this.status=gi,this._forEachChild(z=>{z.enable({...B,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:B.emitEvent}),this._updateAncestors({...B,skipPristineCheck:S}),this._onDisabledChange.forEach(z=>z(!1))}_updateAncestors(B){this._parent&&!B.onlySelf&&(this._parent.updateValueAndValidity(B),B.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(B){this._parent=B}getRawValue(){return this.value}updateValueAndValidity(B={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gi||this.status===Mi)&&this._runAsyncValidator(B.emitEvent)),!1!==B.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!B.onlySelf&&this._parent.updateValueAndValidity(B)}_updateTreeValidity(B={emitEvent:!0}){this._forEachChild(S=>S._updateTreeValidity(B)),this.updateValueAndValidity({onlySelf:!0,emitEvent:B.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Bn:gi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(B){if(this.asyncValidator){this.status=Mi,this._hasOwnPendingAsyncValidator=!0;const S=Lt(this.asyncValidator(this));this._asyncValidationSubscription=S.subscribe(z=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(z,{emitEvent:B})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(B,S={}){this.errors=B,this._updateControlsErrors(!1!==S.emitEvent)}get(B){let S=B;return null==S||(Array.isArray(S)||(S=S.split(".")),0===S.length)?null:S.reduce((z,he)=>z&&z._find(he),this)}getError(B,S){const z=S?this.get(S):this;return z&&z.errors?z.errors[B]:null}hasError(B,S){return!!this.getError(B,S)}get root(){let B=this;for(;B._parent;)B=B._parent;return B}_updateControlsErrors(B){this.status=this._calculateStatus(),B&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(B)}_initObservables(){this.valueChanges=new g.vpe,this.statusChanges=new g.vpe}_calculateStatus(){return this._allControlsDisabled()?Bn:this.errors?Ri:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Mi)?Mi:this._anyControlsHaveStatus(Ri)?Ri:gi}_anyControlsHaveStatus(B){return this._anyControls(S=>S.status===B)}_anyControlsDirty(){return this._anyControls(B=>B.dirty)}_anyControlsTouched(){return this._anyControls(B=>B.touched)}_updatePristine(B={}){this.pristine=!this._anyControlsDirty(),this._parent&&!B.onlySelf&&this._parent._updatePristine(B)}_updateTouched(B={}){this.touched=this._anyControlsTouched(),this._parent&&!B.onlySelf&&this._parent._updateTouched(B)}_registerOnCollectionChange(B){this._onCollectionChange=B}_setUpdateStrategy(B){qi(B)&&null!=B.updateOn&&(this._updateOn=B.updateOn)}_parentMarkedDirty(B){return!B&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(B){return null}_assignValidators(B){this._rawValidators=Array.isArray(B)?B.slice():B,this._composedValidatorFn=function yn(R){return Array.isArray(R)?ue(R):R||null}(this._rawValidators)}_assignAsyncValidators(B){this._rawAsyncValidators=Array.isArray(B)?B.slice():B,this._composedAsyncValidatorFn=function Ai(R){return Array.isArray(R)?De(R):R||null}(this._rawAsyncValidators)}}const Ne=new g.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ot}),ot="always";function Et(R,B,S=ot){(function Pe(R,B){const S=function Ve(R){return R._rawValidators}(R);null!==B.validator?R.setValidators(Me(S,B.validator)):"function"==typeof S&&R.setValidators([S]);const z=function et(R){return R._rawAsyncValidators}(R);null!==B.asyncValidator?R.setAsyncValidators(Me(z,B.asyncValidator)):"function"==typeof z&&R.setAsyncValidators([z]);const he=()=>R.updateValueAndValidity();An(B._rawValidators,he),An(B._rawAsyncValidators,he)})(R,B),B.valueAccessor.writeValue(R.value),(R.disabled||"always"===S)&&B.valueAccessor.setDisabledState?.(R.disabled),function Ce(R,B){B.valueAccessor.registerOnChange(S=>{R._pendingValue=S,R._pendingChange=!0,R._pendingDirty=!0,"change"===R.updateOn&&Dt(R,B)})}(R,B),function St(R,B){const S=(z,he)=>{B.valueAccessor.writeValue(z),he&&B.viewToModelUpdate(z)};R.registerOnChange(S),B._registerOnDestroy(()=>{R._unregisterOnChange(S)})}(R,B),function Ke(R,B){B.valueAccessor.registerOnTouched(()=>{R._pendingTouched=!0,"blur"===R.updateOn&&R._pendingChange&&Dt(R,B),"submit"!==R.updateOn&&R.markAsTouched()})}(R,B),function kn(R,B){if(B.valueAccessor.setDisabledState){const S=z=>{B.valueAccessor.setDisabledState(z)};R.registerOnDisabledChange(S),B._registerOnDestroy(()=>{R._unregisterOnDisabledChange(S)})}}(R,B)}function An(R,B){R.forEach(S=>{S.registerOnValidatorChange&&S.registerOnValidatorChange(B)})}function Dt(R,B){R._pendingDirty&&R.markAsDirty(),R.setValue(R._pendingValue,{emitModelToViewChange:!1}),B.viewToModelUpdate(R._pendingValue),R._pendingChange=!1}function bi(R,B){const S=R.indexOf(B);S>-1&&R.splice(S,1)}function Vi(R){return"object"==typeof R&&null!==R&&2===Object.keys(R).length&&"value"in R&&"disabled"in R}const _o=class extends Go{constructor(B=null,S,z){super(function Vn(R){return(qi(R)?R.validators:R)||null}(S),function qn(R,B){return(qi(B)?B.asyncValidators:R)||null}(z,S)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(B),this._setUpdateStrategy(S),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),qi(S)&&(S.nonNullable||S.initialValueIsDefault)&&(this.defaultValue=Vi(B)?B.value:B)}setValue(B,S={}){this.value=this._pendingValue=B,this._onChange.length&&!1!==S.emitModelToViewChange&&this._onChange.forEach(z=>z(this.value,!1!==S.emitViewToModelChange)),this.updateValueAndValidity(S)}patchValue(B,S={}){this.setValue(B,S)}reset(B=this.defaultValue,S={}){this._applyFormState(B),this.markAsPristine(S),this.markAsUntouched(S),this.setValue(this.value,S),this._pendingChange=!1}_updateValue(){}_anyControls(B){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(B){this._onChange.push(B)}_unregisterOnChange(B){bi(this._onChange,B)}registerOnDisabledChange(B){this._onDisabledChange.push(B)}_unregisterOnDisabledChange(B){bi(this._onDisabledChange,B)}_forEachChild(B){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(B){Vi(B)?(this.value=this._pendingValue=B.value,B.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=B}},no={provide:wn,useExisting:(0,g.Gpc)(()=>xi)},er=(()=>Promise.resolve())();let xi=(()=>{class R extends wn{constructor(S,z,he,rn,In,Li){super(),this._changeDetectorRef=In,this.callSetDisabledState=Li,this.control=new _o,this._registered=!1,this.name="",this.update=new g.vpe,this._parent=S,this._setValidators(z),this._setAsyncValidators(he),this.valueAccessor=function Sn(R,B){if(!B)return null;let S,z,he;return Array.isArray(B),B.forEach(rn=>{rn.constructor===xe?S=rn:function ni(R){return Object.getPrototypeOf(R.constructor)===Q}(rn)?z=rn:he=rn}),he||z||S||null}(0,rn)}ngOnChanges(S){if(this._checkForErrors(),!this._registered||"name"in S){if(this._registered&&(this._checkName(),this.formDirective)){const z=S.name.previousValue;this.formDirective.removeControl({name:z,path:this._getPath(z)})}this._setUpControl()}"isDisabled"in S&&this._updateDisabled(S),function Un(R,B){if(!R.hasOwnProperty("model"))return!1;const S=R.model;return!!S.isFirstChange()||!Object.is(B,S.currentValue)}(S,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(S){this.viewModel=S,this.update.emit(S)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Et(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(S){er.then(()=>{this.control.setValue(S,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(S){const z=S.isDisabled.currentValue,he=0!==z&&(0,g.VuI)(z);er.then(()=>{he&&!this.control.disabled?this.control.disable():!he&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(S){return this._parent?function Bt(R,B){return[...B.path,R]}(S,this._parent):[S]}static#e=this.\u0275fac=function(z){return new(z||R)(g.Y36(wt,9),g.Y36(ee,10),g.Y36(Oe,10),g.Y36(Le,10),g.Y36(g.sBO,8),g.Y36(Ne,8))};static#t=this.\u0275dir=g.lG2({type:R,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[g._Bn([no]),g.qOj,g.TTD]})}return R})();const gr={provide:Le,useExisting:(0,g.Gpc)(()=>tr),multi:!0};let tr=(()=>{class R extends Q{writeValue(S){this.setProperty("value",S??"")}registerOnChange(S){this.onChange=z=>{S(""==z?null:parseFloat(z))}}static#e=this.\u0275fac=function(){let S;return function(he){return(S||(S=g.n5z(R)))(he||R)}}();static#t=this.\u0275dir=g.lG2({type:R,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(z,he){1&z&&g.NdJ("input",function(In){return he.onChange(In.target.value)})("blur",function(){return he.onTouched()})},features:[g._Bn([gr]),g.qOj]})}return R})(),Zr=(()=>{class R{static#e=this.\u0275fac=function(z){return new(z||R)};static#t=this.\u0275mod=g.oAB({type:R});static#n=this.\u0275inj=g.cJS({})}return R})();const Yn={provide:Le,useExisting:(0,g.Gpc)(()=>Ci),multi:!0};function $i(R,B){return null==R?`${B}`:(B&&"object"==typeof B&&(B="Object"),`${R}: ${B}`.slice(0,50))}let Ci=(()=>{class R extends Q{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(S){this._compareWith=S}writeValue(S){this.value=S;const he=$i(this._getOptionId(S),S);this.setProperty("value",he)}registerOnChange(S){this.onChange=z=>{this.value=this._getOptionValue(z),S(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(S){for(const z of this._optionMap.keys())if(this._compareWith(this._optionMap.get(z),S))return z;return null}_getOptionValue(S){const z=function Oo(R){return R.split(":")[0]}(S);return this._optionMap.has(z)?this._optionMap.get(z):S}static#e=this.\u0275fac=function(){let S;return function(he){return(S||(S=g.n5z(R)))(he||R)}}();static#t=this.\u0275dir=g.lG2({type:R,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(z,he){1&z&&g.NdJ("change",function(In){return he.onChange(In.target.value)})("blur",function(){return he.onTouched()})},inputs:{compareWith:"compareWith"},features:[g._Bn([Yn]),g.qOj]})}return R})(),_r=(()=>{class R{constructor(S,z,he){this._element=S,this._renderer=z,this._select=he,this._select&&(this.id=this._select._registerOption())}set ngValue(S){null!=this._select&&(this._select._optionMap.set(this.id,S),this._setElementValue($i(this.id,S)),this._select.writeValue(this._select.value))}set value(S){this._setElementValue(S),this._select&&this._select.writeValue(this._select.value)}_setElementValue(S){this._renderer.setProperty(this._element.nativeElement,"value",S)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(z){return new(z||R)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(Ci,9))};static#t=this.\u0275dir=g.lG2({type:R,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return R})();const ai={provide:Le,useExisting:(0,g.Gpc)(()=>vr),multi:!0};function lo(R,B){return null==R?`${B}`:("string"==typeof B&&(B=`'${B}'`),B&&"object"==typeof B&&(B="Object"),`${R}: ${B}`.slice(0,50))}let vr=(()=>{class R extends Q{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(S){this._compareWith=S}writeValue(S){let z;if(this.value=S,Array.isArray(S)){const he=S.map(rn=>this._getOptionId(rn));z=(rn,In)=>{rn._setSelected(he.indexOf(In.toString())>-1)}}else z=(he,rn)=>{he._setSelected(!1)};this._optionMap.forEach(z)}registerOnChange(S){this.onChange=z=>{const he=[],rn=z.selectedOptions;if(void 0!==rn){const In=rn;for(let Li=0;Li<In.length;Li++){const Dr=this._getOptionValue(In[Li].value);he.push(Dr)}}else{const In=z.options;for(let Li=0;Li<In.length;Li++){const Po=In[Li];if(Po.selected){const Dr=this._getOptionValue(Po.value);he.push(Dr)}}}this.value=he,S(he)}}_registerOption(S){const z=(this._idCounter++).toString();return this._optionMap.set(z,S),z}_getOptionId(S){for(const z of this._optionMap.keys())if(this._compareWith(this._optionMap.get(z)._value,S))return z;return null}_getOptionValue(S){const z=function Bo(R){return R.split(":")[0]}(S);return this._optionMap.has(z)?this._optionMap.get(z)._value:S}static#e=this.\u0275fac=function(){let S;return function(he){return(S||(S=g.n5z(R)))(he||R)}}();static#t=this.\u0275dir=g.lG2({type:R,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(z,he){1&z&&g.NdJ("change",function(In){return he.onChange(In.target)})("blur",function(){return he.onTouched()})},inputs:{compareWith:"compareWith"},features:[g._Bn([ai]),g.qOj]})}return R})(),Qi=(()=>{class R{constructor(S,z,he){this._element=S,this._renderer=z,this._select=he,this._select&&(this.id=this._select._registerOption(this))}set ngValue(S){null!=this._select&&(this._value=S,this._setElementValue(lo(this.id,S)),this._select.writeValue(this._select.value))}set value(S){this._select?(this._value=S,this._setElementValue(lo(this.id,S)),this._select.writeValue(this._select.value)):this._setElementValue(S)}_setElementValue(S){this._renderer.setProperty(this._element.nativeElement,"value",S)}_setSelected(S){this._renderer.setProperty(this._element.nativeElement,"selected",S)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(z){return new(z||R)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(vr,9))};static#t=this.\u0275dir=g.lG2({type:R,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return R})(),Fi=(()=>{class R{static#e=this.\u0275fac=function(z){return new(z||R)};static#t=this.\u0275mod=g.oAB({type:R});static#n=this.\u0275inj=g.cJS({imports:[Zr]})}return R})(),Nr=(()=>{class R{static withConfig(S){return{ngModule:R,providers:[{provide:Ne,useValue:S.callSetDisabledState??ot}]}}static#e=this.\u0275fac=function(z){return new(z||R)};static#t=this.\u0275mod=g.oAB({type:R});static#n=this.\u0275inj=g.cJS({imports:[Fi]})}return R})()},9713:()=>{"use strict";const Pt=":";const wt=function(fe,...ye){if(wt.translate){const ze=wt.translate(fe,ye);fe=ze[0],ye=ze[1]}let Be=pn(fe[0],fe.raw[0]);for(let ze=1;ze<fe.length;ze++)Be+=ye[ze-1]+pn(fe[ze],fe.raw[ze]);return Be},wn=":";function pn(fe,ye){return ye.charAt(0)===wn?fe.substring(function ue(fe,ye){for(let Be=1,ze=1;Be<fe.length;Be++,ze++)if("\\"===ye[ze])ze++;else if(fe[Be]===Pt)return Be;throw new Error(`Unterminated $localize metadata block in "${ye}".`)}(fe,ye)+1):fe}globalThis.$localize=wt},140:(Pt,ke,M)=>{"use strict";M.d(ke,{Hw:()=>Kt,Ps:()=>Qr,jv:()=>C});var g=M(1699),X=M(6575),Y=M(6744),zo=M(1134);const is="cdk-high-contrast-black-on-white",yo="cdk-high-contrast-white-on-black",sr="cdk-high-contrast-active";let Gi=(()=>{class ve{constructor(P,W){this._platform=P,this._document=W,this._breakpointSubscription=(0,g.f3M)(zo.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const P=this._document.createElement("div");P.style.backgroundColor="rgb(1,2,3)",P.style.position="absolute",this._document.body.appendChild(P);const W=this._document.defaultView||window,Te=W&&W.getComputedStyle?W.getComputedStyle(P):null,dt=(Te&&Te.backgroundColor||"").replace(/ /g,"");switch(P.remove(),dt){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const P=this._document.body.classList;P.remove(sr,is,yo),this._hasCheckedHighContrastMode=!0;const W=this.getHighContrastMode();1===W?P.add(sr,is):2===W&&P.add(sr,yo)}}}return ve.\u0275fac=function(P){return new(P||ve)(g.LFG(Y.t4),g.LFG(X.K0))},ve.\u0275prov=g.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"}),ve})(),Wo=(()=>{class ve{}return ve.\u0275fac=function(P){return new(P||ve)},ve.\u0275mod=g.oAB({type:ve}),ve.\u0275inj=g.cJS({}),ve})();var ar=M(3344);const he=new g.OlP("mat-sanity-checks",{providedIn:"root",factory:function z(){return!0}});let rn=(()=>{class ve{constructor(P,W,Te){this._sanityChecks=W,this._document=Te,this._hasDoneGlobalChecks=!1,P._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(P){return!(0,Y.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[P])}}return ve.\u0275fac=function(P){return new(P||ve)(g.LFG(Gi),g.LFG(he,8),g.LFG(X.K0))},ve.\u0275mod=g.oAB({type:ve}),ve.\u0275inj=g.cJS({imports:[Wo,Wo]}),ve})();function br(ve,U){return class extends ve{get color(){return this._color}set color(P){const W=P||this.defaultColor;W!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),W&&this._elementRef.nativeElement.classList.add(`mat-${W}`),this._color=W)}constructor(...P){super(...P),this.defaultColor=U,this.color=U}}}class Fr{constructor(U,P,W,Te=!1){this._renderer=U,this.element=P,this.config=W,this._animationForciblyDisabledThroughCss=Te,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const ss=(0,Y.i$)({passive:!0,capture:!0});class as{constructor(){this._events=new Map,this._delegateEventHandler=U=>{const P=(0,Y.sA)(U);P&&this._events.get(U.type)?.forEach((W,Te)=>{(Te===P||Te.contains(P))&&W.forEach(dt=>dt.handleEvent(U))})}}addHandler(U,P,W,Te){const dt=this._events.get(P);if(dt){const Ot=dt.get(W);Ot?Ot.add(Te):dt.set(W,new Set([Te]))}else this._events.set(P,new Map([[W,new Set([Te])]])),U.runOutsideAngular(()=>{document.addEventListener(P,this._delegateEventHandler,ss)})}removeHandler(U,P,W){const Te=this._events.get(U);if(!Te)return;const dt=Te.get(P);dt&&(dt.delete(W),0===dt.size&&Te.delete(P),0===Te.size&&(this._events.delete(U),document.removeEventListener(U,this._delegateEventHandler,ss)))}}const Cr={enterDuration:225,exitDuration:150},Uo=(0,Y.i$)({passive:!0,capture:!0}),lr=["mousedown","touchstart"],Is=["mouseup","mouseleave","touchend","touchcancel"];class Br{constructor(U,P,W,Te){this._target=U,this._ngZone=P,this._platform=Te,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,Te.isBrowser&&(this._containerElement=(0,ar.fI)(W))}fadeInRipple(U,P,W={}){const Te=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),dt={...Cr,...W.animation};W.centered&&(U=Te.left+Te.width/2,P=Te.top+Te.height/2);const Ot=W.radius||function ea(ve,U,P){const W=Math.max(Math.abs(ve-P.left),Math.abs(ve-P.right)),Te=Math.max(Math.abs(U-P.top),Math.abs(U-P.bottom));return Math.sqrt(W*W+Te*Te)}(U,P,Te),Hn=U-Te.left,Er=P-Te.top,Ko=dt.enterDuration,oo=document.createElement("div");oo.classList.add("mat-ripple-element"),oo.style.left=Hn-Ot+"px",oo.style.top=Er-Ot+"px",oo.style.height=2*Ot+"px",oo.style.width=2*Ot+"px",null!=W.color&&(oo.style.backgroundColor=W.color),oo.style.transitionDuration=`${Ko}ms`,this._containerElement.appendChild(oo);const Ct=window.getComputedStyle(oo),ro=Ct.transitionDuration,va="none"===Ct.transitionProperty||"0s"===ro||"0s, 0s"===ro||0===Te.width&&0===Te.height,Ui=new Fr(this,oo,W,va);oo.style.transform="scale3d(1, 1, 1)",Ui.state=0,W.persistent||(this._mostRecentTransientRipple=Ui);let Zs=null;return!va&&(Ko||dt.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ur=()=>this._finishRippleTransition(Ui),ur=()=>this._destroyRipple(Ui);oo.addEventListener("transitionend",Ur),oo.addEventListener("transitioncancel",ur),Zs={onTransitionEnd:Ur,onTransitionCancel:ur}}),this._activeRipples.set(Ui,Zs),(va||!Ko)&&this._finishRippleTransition(Ui),Ui}fadeOutRipple(U){if(2===U.state||3===U.state)return;const P=U.element,W={...Cr,...U.config.animation};P.style.transitionDuration=`${W.exitDuration}ms`,P.style.opacity="0",U.state=2,(U._animationForciblyDisabledThroughCss||!W.exitDuration)&&this._finishRippleTransition(U)}fadeOutAll(){this._getActiveRipples().forEach(U=>U.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(U=>{U.config.persistent||U.fadeOut()})}setupTriggerEvents(U){const P=(0,ar.fI)(U);!this._platform.isBrowser||!P||P===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=P,lr.forEach(W=>{Br._eventManager.addHandler(this._ngZone,W,P,this)}))}handleEvent(U){"mousedown"===U.type?this._onMousedown(U):"touchstart"===U.type?this._onTouchStart(U):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Is.forEach(P=>{this._triggerElement.addEventListener(P,this,Uo)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(U){0===U.state?this._startFadeOutTransition(U):2===U.state&&this._destroyRipple(U)}_startFadeOutTransition(U){const P=U===this._mostRecentTransientRipple,{persistent:W}=U.config;U.state=1,!W&&(!P||!this._isPointerDown)&&U.fadeOut()}_destroyRipple(U){const P=this._activeRipples.get(U)??null;this._activeRipples.delete(U),this._activeRipples.size||(this._containerRect=null),U===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),U.state=3,null!==P&&(U.element.removeEventListener("transitionend",P.onTransitionEnd),U.element.removeEventListener("transitioncancel",P.onTransitionCancel)),U.element.remove()}_onMousedown(U){const P=function lo(ve){return 0===ve.buttons||0===ve.offsetX&&0===ve.offsetY}(U),W=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!P&&!W&&(this._isPointerDown=!0,this.fadeInRipple(U.clientX,U.clientY,this._target.rippleConfig))}_onTouchStart(U){if(!this._target.rippleDisabled&&!function Bo(ve){const U=ve.touches&&ve.touches[0]||ve.changedTouches&&ve.changedTouches[0];return!(!U||-1!==U.identifier||null!=U.radiusX&&1!==U.radiusX||null!=U.radiusY&&1!==U.radiusY)}(U)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const P=U.changedTouches;for(let W=0;W<P.length;W++)this.fadeInRipple(P[W].clientX,P[W].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(U=>{!U.config.persistent&&(1===U.state||U.config.terminateOnPointerUp&&0===U.state)&&U.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const U=this._triggerElement;U&&(lr.forEach(P=>Br._eventManager.removeHandler(P,U,this)),this._pointerUpEventsRegistered&&Is.forEach(P=>U.removeEventListener(P,this,Uo)))}}Br._eventManager=new as;var mt=M(4980),Qt=M(3252),Qn=M(4300),si=M(6482),xn=M(3738),fn=M(9736),wi=M(2389),ci=M(7474),Ei=M(5584),Qo=M(1527),jo=M(4860),fo=M(6480);const Eo=["*"];let Bi;function Ao(ve){return function wr(){if(void 0===Bi&&(Bi=null,typeof window<"u")){const ve=window;void 0!==ve.trustedTypes&&(Bi=ve.trustedTypes.createPolicy("angular#components",{createHTML:U=>U}))}return Bi}()?.createHTML(ve)||ve}function li(ve){return Error(`Unable to find icon with the name "${ve}"`)}function s(ve){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${ve}".`)}function d(ve){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${ve}".`)}class p{constructor(U,P,W){this.url=U,this.svgText=P,this.options=W}}let C=(()=>{class ve{constructor(P,W,Te,dt){this._httpClient=P,this._sanitizer=W,this._errorHandler=dt,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=Te}addSvgIcon(P,W,Te){return this.addSvgIconInNamespace("",P,W,Te)}addSvgIconLiteral(P,W,Te){return this.addSvgIconLiteralInNamespace("",P,W,Te)}addSvgIconInNamespace(P,W,Te,dt){return this._addSvgIconConfig(P,W,new p(Te,null,dt))}addSvgIconResolver(P){return this._resolvers.push(P),this}addSvgIconLiteralInNamespace(P,W,Te,dt){const Ot=this._sanitizer.sanitize(g.q3G.HTML,Te);if(!Ot)throw d(Te);const Hn=Ao(Ot);return this._addSvgIconConfig(P,W,new p("",Hn,dt))}addSvgIconSet(P,W){return this.addSvgIconSetInNamespace("",P,W)}addSvgIconSetLiteral(P,W){return this.addSvgIconSetLiteralInNamespace("",P,W)}addSvgIconSetInNamespace(P,W,Te){return this._addSvgIconSetConfig(P,new p(W,null,Te))}addSvgIconSetLiteralInNamespace(P,W,Te){const dt=this._sanitizer.sanitize(g.q3G.HTML,W);if(!dt)throw d(W);const Ot=Ao(dt);return this._addSvgIconSetConfig(P,new p("",Ot,Te))}registerFontClassAlias(P,W=P){return this._fontCssClassesByAlias.set(P,W),this}classNameForFontAlias(P){return this._fontCssClassesByAlias.get(P)||P}setDefaultFontSetClass(...P){return this._defaultFontSetClass=P,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(P){const W=this._sanitizer.sanitize(g.q3G.RESOURCE_URL,P);if(!W)throw s(P);const Te=this._cachedIconsByUrl.get(W);return Te?(0,mt.of)(_e(Te)):this._loadSvgIconFromConfig(new p(P,null)).pipe((0,xn.b)(dt=>this._cachedIconsByUrl.set(W,dt)),(0,fn.U)(dt=>_e(dt)))}getNamedSvgIcon(P,W=""){const Te=Ge(W,P);let dt=this._svgIconConfigs.get(Te);if(dt)return this._getSvgFromConfig(dt);if(dt=this._getIconConfigFromResolvers(W,P),dt)return this._svgIconConfigs.set(Te,dt),this._getSvgFromConfig(dt);const Ot=this._iconSetConfigs.get(W);return Ot?this._getSvgFromIconSetConfigs(P,Ot):(0,Qt._)(li(Te))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(P){return P.svgText?(0,mt.of)(_e(this._svgElementFromConfig(P))):this._loadSvgIconFromConfig(P).pipe((0,fn.U)(W=>_e(W)))}_getSvgFromIconSetConfigs(P,W){const Te=this._extractIconWithNameFromAnySet(P,W);if(Te)return(0,mt.of)(Te);const dt=W.filter(Ot=>!Ot.svgText).map(Ot=>this._loadSvgIconSetFromConfig(Ot).pipe((0,wi.K)(Hn=>{const Ko=`Loading icon set URL: ${this._sanitizer.sanitize(g.q3G.RESOURCE_URL,Ot.url)} failed: ${Hn.message}`;return this._errorHandler.handleError(new Error(Ko)),(0,mt.of)(null)})));return(0,Qn.D)(dt).pipe((0,fn.U)(()=>{const Ot=this._extractIconWithNameFromAnySet(P,W);if(!Ot)throw li(P);return Ot}))}_extractIconWithNameFromAnySet(P,W){for(let Te=W.length-1;Te>=0;Te--){const dt=W[Te];if(dt.svgText&&dt.svgText.toString().indexOf(P)>-1){const Ot=this._svgElementFromConfig(dt),Hn=this._extractSvgIconFromSet(Ot,P,dt.options);if(Hn)return Hn}}return null}_loadSvgIconFromConfig(P){return this._fetchIcon(P).pipe((0,xn.b)(W=>P.svgText=W),(0,fn.U)(()=>this._svgElementFromConfig(P)))}_loadSvgIconSetFromConfig(P){return P.svgText?(0,mt.of)(null):this._fetchIcon(P).pipe((0,xn.b)(W=>P.svgText=W))}_extractSvgIconFromSet(P,W,Te){const dt=P.querySelector(`[id="${W}"]`);if(!dt)return null;const Ot=dt.cloneNode(!0);if(Ot.removeAttribute("id"),"svg"===Ot.nodeName.toLowerCase())return this._setSvgAttributes(Ot,Te);if("symbol"===Ot.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(Ot),Te);const Hn=this._svgElementFromString(Ao("<svg></svg>"));return Hn.appendChild(Ot),this._setSvgAttributes(Hn,Te)}_svgElementFromString(P){const W=this._document.createElement("DIV");W.innerHTML=P;const Te=W.querySelector("svg");if(!Te)throw Error("<svg> tag not found");return Te}_toSvgElement(P){const W=this._svgElementFromString(Ao("<svg></svg>")),Te=P.attributes;for(let dt=0;dt<Te.length;dt++){const{name:Ot,value:Hn}=Te[dt];"id"!==Ot&&W.setAttribute(Ot,Hn)}for(let dt=0;dt<P.childNodes.length;dt++)P.childNodes[dt].nodeType===this._document.ELEMENT_NODE&&W.appendChild(P.childNodes[dt].cloneNode(!0));return W}_setSvgAttributes(P,W){return P.setAttribute("fit",""),P.setAttribute("height","100%"),P.setAttribute("width","100%"),P.setAttribute("preserveAspectRatio","xMidYMid meet"),P.setAttribute("focusable","false"),W&&W.viewBox&&P.setAttribute("viewBox",W.viewBox),P}_fetchIcon(P){const{url:W,options:Te}=P,dt=Te?.withCredentials??!1;if(!this._httpClient)throw function So(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==W)throw Error(`Cannot fetch icon from URL "${W}".`);const Ot=this._sanitizer.sanitize(g.q3G.RESOURCE_URL,W);if(!Ot)throw s(W);const Hn=this._inProgressUrlFetches.get(Ot);if(Hn)return Hn;const Er=this._httpClient.get(Ot,{responseType:"text",withCredentials:dt}).pipe((0,fn.U)(Ko=>Ao(Ko)),(0,ci.x)(()=>this._inProgressUrlFetches.delete(Ot)),(0,Ei.B)());return this._inProgressUrlFetches.set(Ot,Er),Er}_addSvgIconConfig(P,W,Te){return this._svgIconConfigs.set(Ge(P,W),Te),this}_addSvgIconSetConfig(P,W){const Te=this._iconSetConfigs.get(P);return Te?Te.push(W):this._iconSetConfigs.set(P,[W]),this}_svgElementFromConfig(P){if(!P.svgElement){const W=this._svgElementFromString(P.svgText);this._setSvgAttributes(W,P.options),P.svgElement=W}return P.svgElement}_getIconConfigFromResolvers(P,W){for(let Te=0;Te<this._resolvers.length;Te++){const dt=this._resolvers[Te](W,P);if(dt)return tt(dt)?new p(dt.url,null,dt.options):new p(dt,null)}}}return ve.\u0275fac=function(P){return new(P||ve)(g.LFG(jo.eN,8),g.LFG(fo.H7),g.LFG(X.K0,8),g.LFG(g.qLn))},ve.\u0275prov=g.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"}),ve})();function _e(ve){return ve.cloneNode(!0)}function Ge(ve,U){return ve+":"+U}function tt(ve){return!(!ve.url||!ve.options)}const bt=br(class{constructor(ve){this._elementRef=ve}}),Ut=new g.OlP("MAT_ICON_DEFAULT_OPTIONS"),_n=new g.OlP("mat-icon-location",{providedIn:"root",factory:function Tn(){const ve=(0,g.f3M)(X.K0),U=ve?ve.location:null;return{getPathname:()=>U?U.pathname+U.search:""}}}),Kn=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Gn=Kn.map(ve=>`[${ve}]`).join(", "),Di=/^url\(['"]?#(.*?)['"]?\)$/;let Kt=(()=>{class ve extends bt{get inline(){return this._inline}set inline(P){this._inline=(0,ar.Ig)(P)}get svgIcon(){return this._svgIcon}set svgIcon(P){P!==this._svgIcon&&(P?this._updateSvgIcon(P):this._svgIcon&&this._clearSvgElement(),this._svgIcon=P)}get fontSet(){return this._fontSet}set fontSet(P){const W=this._cleanupFontValue(P);W!==this._fontSet&&(this._fontSet=W,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(P){const W=this._cleanupFontValue(P);W!==this._fontIcon&&(this._fontIcon=W,this._updateFontIconClasses())}constructor(P,W,Te,dt,Ot,Hn){super(P),this._iconRegistry=W,this._location=dt,this._errorHandler=Ot,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=si.w0.EMPTY,Hn&&(Hn.color&&(this.color=this.defaultColor=Hn.color),Hn.fontSet&&(this.fontSet=Hn.fontSet)),Te||P.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(P){if(!P)return["",""];const W=P.split(":");switch(W.length){case 1:return["",W[0]];case 2:return W;default:throw Error(`Invalid icon name: "${P}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const P=this._elementsWithExternalReferences;if(P&&P.size){const W=this._location.getPathname();W!==this._previousPath&&(this._previousPath=W,this._prependPathToReferences(W))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(P){this._clearSvgElement();const W=this._location.getPathname();this._previousPath=W,this._cacheChildrenWithExternalReferences(P),this._prependPathToReferences(W),this._elementRef.nativeElement.appendChild(P)}_clearSvgElement(){const P=this._elementRef.nativeElement;let W=P.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();W--;){const Te=P.childNodes[W];(1!==Te.nodeType||"svg"===Te.nodeName.toLowerCase())&&Te.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const P=this._elementRef.nativeElement,W=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(Te=>Te.length>0);this._previousFontSetClass.forEach(Te=>P.classList.remove(Te)),W.forEach(Te=>P.classList.add(Te)),this._previousFontSetClass=W,this.fontIcon!==this._previousFontIconClass&&!W.includes("mat-ligature-font")&&(this._previousFontIconClass&&P.classList.remove(this._previousFontIconClass),this.fontIcon&&P.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(P){return"string"==typeof P?P.trim().split(" ")[0]:P}_prependPathToReferences(P){const W=this._elementsWithExternalReferences;W&&W.forEach((Te,dt)=>{Te.forEach(Ot=>{dt.setAttribute(Ot.name,`url('${P}#${Ot.value}')`)})})}_cacheChildrenWithExternalReferences(P){const W=P.querySelectorAll(Gn),Te=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let dt=0;dt<W.length;dt++)Kn.forEach(Ot=>{const Hn=W[dt],Er=Hn.getAttribute(Ot),Ko=Er?Er.match(Di):null;if(Ko){let oo=Te.get(Hn);oo||(oo=[],Te.set(Hn,oo)),oo.push({name:Ot,value:Ko[1]})}})}_updateSvgIcon(P){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),P){const[W,Te]=this._splitIconName(P);W&&(this._svgNamespace=W),Te&&(this._svgName=Te),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(Te,W).pipe((0,Qo.q)(1)).subscribe(dt=>this._setSvgElement(dt),dt=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${W}:${Te}! ${dt.message}`))})}}}return ve.\u0275fac=function(P){return new(P||ve)(g.Y36(g.SBq),g.Y36(C),g.$8M("aria-hidden"),g.Y36(_n),g.Y36(g.qLn),g.Y36(Ut,8))},ve.\u0275cmp=g.Xpm({type:ve,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(P,W){2&P&&(g.uIk("data-mat-icon-type",W._usingFontIcon()?"font":"svg")("data-mat-icon-name",W._svgName||W.fontIcon)("data-mat-icon-namespace",W._svgNamespace||W.fontSet)("fontIcon",W._usingFontIcon()?W.fontIcon:null),g.ekj("mat-icon-inline",W.inline)("mat-icon-no-color","primary"!==W.color&&"accent"!==W.color&&"warn"!==W.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[g.qOj],ngContentSelectors:Eo,decls:1,vars:0,template:function(P,W){1&P&&(g.F$t(),g.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),ve})(),Qr=(()=>{class ve{}return ve.\u0275fac=function(P){return new(P||ve)},ve.\u0275mod=g.oAB({type:ve}),ve.\u0275inj=g.cJS({imports:[rn,rn]}),ve})()},6480:(Pt,ke,M)=>{"use strict";M.d(ke,{Dx:()=>Nt,H7:()=>Ri,b2:()=>fe,q6:()=>Zt});var g=M(1699),X=M(6575);class Y extends X.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ce extends Y{static makeCurrent(){(0,X.HT)(new ce)}onAndCancel($e,se,j){return $e.addEventListener(se,j),()=>{$e.removeEventListener(se,j)}}dispatchEvent($e,se){$e.dispatchEvent(se)}remove($e){$e.parentNode&&$e.parentNode.removeChild($e)}createElement($e,se){return(se=se||this.getDefaultDocument()).createElement($e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode($e){return $e.nodeType===Node.ELEMENT_NODE}isShadowRoot($e){return $e instanceof DocumentFragment}getGlobalEventTarget($e,se){return"window"===se?window:"document"===se?$e:"body"===se?$e.body:null}getBaseHref($e){const se=function e(){return q=q||document.querySelector("base"),q?q.getAttribute("href"):null}();return null==se?null:function Le(at){Q=Q||document.createElement("a"),Q.setAttribute("href",at);const $e=Q.pathname;return"/"===$e.charAt(0)?$e:`/${$e}`}(se)}resetBaseElement(){q=null}getUserAgent(){return window.navigator.userAgent}getCookie($e){return(0,X.Mx)(document.cookie,$e)}}let Q,q=null,me=(()=>{class at{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(j){return new(j||at)};static#t=this.\u0275prov=g.Yz7({token:at,factory:at.\u0275fac})}return at})();const Ae=new g.OlP("EventManagerPlugins");let ne=(()=>{class at{constructor(se,j){this._zone=j,this._eventNameToPlugin=new Map,se.forEach(ie=>{ie.manager=this}),this._plugins=se.slice().reverse()}addEventListener(se,j,ie){return this._findPluginFor(j).addEventListener(se,j,ie)}getZone(){return this._zone}_findPluginFor(se){let j=this._eventNameToPlugin.get(se);if(j)return j;if(j=this._plugins.find(Ne=>Ne.supports(se)),!j)throw new g.vHH(5101,!1);return this._eventNameToPlugin.set(se,j),j}static#e=this.\u0275fac=function(j){return new(j||at)(g.LFG(Ae),g.LFG(g.R0b))};static#t=this.\u0275prov=g.Yz7({token:at,factory:at.\u0275fac})}return at})();class be{constructor($e){this._doc=$e}}const xe="ng-app-id";let Ue=(()=>{class at{constructor(se,j,ie,Ne={}){this.doc=se,this.appId=j,this.nonce=ie,this.platformId=Ne,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,X.PM)(Ne),this.resetHostNodes()}addStyles(se){for(const j of se)1===this.changeUsageCount(j,1)&&this.onStyleAdded(j)}removeStyles(se){for(const j of se)this.changeUsageCount(j,-1)<=0&&this.onStyleRemoved(j)}ngOnDestroy(){const se=this.styleNodesInDOM;se&&(se.forEach(j=>j.remove()),se.clear());for(const j of this.getAllStyles())this.onStyleRemoved(j);this.resetHostNodes()}addHost(se){this.hostNodes.add(se);for(const j of this.getAllStyles())this.addStyleToHost(se,j)}removeHost(se){this.hostNodes.delete(se)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(se){for(const j of this.hostNodes)this.addStyleToHost(j,se)}onStyleRemoved(se){const j=this.styleRef;j.get(se)?.elements?.forEach(ie=>ie.remove()),j.delete(se)}collectServerRenderedStyles(){const se=this.doc.head?.querySelectorAll(`style[${xe}="${this.appId}"]`);if(se?.length){const j=new Map;return se.forEach(ie=>{null!=ie.textContent&&j.set(ie.textContent,ie)}),j}return null}changeUsageCount(se,j){const ie=this.styleRef;if(ie.has(se)){const Ne=ie.get(se);return Ne.usage+=j,Ne.usage}return ie.set(se,{usage:j,elements:[]}),j}getStyleElement(se,j){const ie=this.styleNodesInDOM,Ne=ie?.get(j);if(Ne?.parentNode===se)return ie.delete(j),Ne.removeAttribute(xe),Ne;{const ot=this.doc.createElement("style");return this.nonce&&ot.setAttribute("nonce",this.nonce),ot.textContent=j,this.platformIsServer&&ot.setAttribute(xe,this.appId),ot}}addStyleToHost(se,j){const ie=this.getStyleElement(se,j);se.appendChild(ie);const Ne=this.styleRef,ot=Ne.get(j)?.elements;ot?ot.push(ie):Ne.set(j,{elements:[ie],usage:1})}resetHostNodes(){const se=this.hostNodes;se.clear(),se.add(this.doc.head)}static#e=this.\u0275fac=function(j){return new(j||at)(g.LFG(X.K0),g.LFG(g.AFp),g.LFG(g.Ojb,8),g.LFG(g.Lbi))};static#t=this.\u0275prov=g.Yz7({token:at,factory:at.\u0275fac})}return at})();const Ye={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ee=/%COMP%/g,ge=new g.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Je(at,$e){return $e.map(se=>se.replace(ee,at))}let Ze=(()=>{class at{constructor(se,j,ie,Ne,ot,Bt,Et,Wt=null){this.eventManager=se,this.sharedStylesHost=j,this.appId=ie,this.removeStylesOnCompDestroy=Ne,this.doc=ot,this.platformId=Bt,this.ngZone=Et,this.nonce=Wt,this.rendererByCompId=new Map,this.platformIsServer=(0,X.PM)(Bt),this.defaultRenderer=new it(se,ot,Et,this.platformIsServer)}createRenderer(se,j){if(!se||!j)return this.defaultRenderer;this.platformIsServer&&j.encapsulation===g.ifc.ShadowDom&&(j={...j,encapsulation:g.ifc.Emulated});const ie=this.getOrCreateRenderer(se,j);return ie instanceof ht?ie.applyToHost(se):ie instanceof rt&&ie.applyStyles(),ie}getOrCreateRenderer(se,j){const ie=this.rendererByCompId;let Ne=ie.get(j.id);if(!Ne){const ot=this.doc,Bt=this.ngZone,Et=this.eventManager,Wt=this.sharedStylesHost,An=this.removeStylesOnCompDestroy,kn=this.platformIsServer;switch(j.encapsulation){case g.ifc.Emulated:Ne=new ht(Et,Wt,j,this.appId,An,ot,Bt,kn);break;case g.ifc.ShadowDom:return new Lt(Et,Wt,se,j,ot,Bt,this.nonce,kn);default:Ne=new rt(Et,Wt,j,An,ot,Bt,kn)}ie.set(j.id,Ne)}return Ne}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(j){return new(j||at)(g.LFG(ne),g.LFG(Ue),g.LFG(g.AFp),g.LFG(ge),g.LFG(X.K0),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(g.Ojb))};static#t=this.\u0275prov=g.Yz7({token:at,factory:at.\u0275fac})}return at})();class it{constructor($e,se,j,ie){this.eventManager=$e,this.doc=se,this.ngZone=j,this.platformIsServer=ie,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement($e,se){return se?this.doc.createElementNS(Ye[se]||se,$e):this.doc.createElement($e)}createComment($e){return this.doc.createComment($e)}createText($e){return this.doc.createTextNode($e)}appendChild($e,se){(Qe($e)?$e.content:$e).appendChild(se)}insertBefore($e,se,j){$e&&(Qe($e)?$e.content:$e).insertBefore(se,j)}removeChild($e,se){$e&&$e.removeChild(se)}selectRootElement($e,se){let j="string"==typeof $e?this.doc.querySelector($e):$e;if(!j)throw new g.vHH(-5104,!1);return se||(j.textContent=""),j}parentNode($e){return $e.parentNode}nextSibling($e){return $e.nextSibling}setAttribute($e,se,j,ie){if(ie){se=ie+":"+se;const Ne=Ye[ie];Ne?$e.setAttributeNS(Ne,se,j):$e.setAttribute(se,j)}else $e.setAttribute(se,j)}removeAttribute($e,se,j){if(j){const ie=Ye[j];ie?$e.removeAttributeNS(ie,se):$e.removeAttribute(`${j}:${se}`)}else $e.removeAttribute(se)}addClass($e,se){$e.classList.add(se)}removeClass($e,se){$e.classList.remove(se)}setStyle($e,se,j,ie){ie&(g.JOm.DashCase|g.JOm.Important)?$e.style.setProperty(se,j,ie&g.JOm.Important?"important":""):$e.style[se]=j}removeStyle($e,se,j){j&g.JOm.DashCase?$e.style.removeProperty(se):$e.style[se]=""}setProperty($e,se,j){$e[se]=j}setValue($e,se){$e.nodeValue=se}listen($e,se,j){if("string"==typeof $e&&!($e=(0,X.q)().getGlobalEventTarget(this.doc,$e)))throw new Error(`Unsupported event target ${$e} for event ${se}`);return this.eventManager.addEventListener($e,se,this.decoratePreventDefault(j))}decoratePreventDefault($e){return se=>{if("__ngUnwrap__"===se)return $e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>$e(se)):$e(se))&&se.preventDefault()}}}function Qe(at){return"TEMPLATE"===at.tagName&&void 0!==at.content}class Lt extends it{constructor($e,se,j,ie,Ne,ot,Bt,Et){super($e,Ne,ot,Et),this.sharedStylesHost=se,this.hostEl=j,this.shadowRoot=j.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Wt=Je(ie.id,ie.styles);for(const An of Wt){const kn=document.createElement("style");Bt&&kn.setAttribute("nonce",Bt),kn.textContent=An,this.shadowRoot.appendChild(kn)}}nodeOrShadowRoot($e){return $e===this.hostEl?this.shadowRoot:$e}appendChild($e,se){return super.appendChild(this.nodeOrShadowRoot($e),se)}insertBefore($e,se,j){return super.insertBefore(this.nodeOrShadowRoot($e),se,j)}removeChild($e,se){return super.removeChild(this.nodeOrShadowRoot($e),se)}parentNode($e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot($e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class rt extends it{constructor($e,se,j,ie,Ne,ot,Bt,Et){super($e,Ne,ot,Bt),this.sharedStylesHost=se,this.removeStylesOnCompDestroy=ie,this.styles=Et?Je(Et,j.styles):j.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class ht extends rt{constructor($e,se,j,ie,Ne,ot,Bt,Et){const Wt=ie+"-"+j.id;super($e,se,j,Ne,ot,Bt,Et,Wt),this.contentAttr=function le(at){return"_ngcontent-%COMP%".replace(ee,at)}(Wt),this.hostAttr=function ct(at){return"_nghost-%COMP%".replace(ee,at)}(Wt)}applyToHost($e){this.applyStyles(),this.setAttribute($e,this.hostAttr,"")}createElement($e,se){const j=super.createElement($e,se);return super.setAttribute(j,this.contentAttr,""),j}}let Re=(()=>{class at extends be{constructor(se){super(se)}supports(se){return!0}addEventListener(se,j,ie){return se.addEventListener(j,ie,!1),()=>this.removeEventListener(se,j,ie)}removeEventListener(se,j,ie){return se.removeEventListener(j,ie)}static#e=this.\u0275fac=function(j){return new(j||at)(g.LFG(X.K0))};static#t=this.\u0275prov=g.Yz7({token:at,factory:at.\u0275fac})}return at})();const ft=["alt","control","meta","shift"],ae={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ue={alt:at=>at.altKey,control:at=>at.ctrlKey,meta:at=>at.metaKey,shift:at=>at.shiftKey};let Ee=(()=>{class at extends be{constructor(se){super(se)}supports(se){return null!=at.parseEventName(se)}addEventListener(se,j,ie){const Ne=at.parseEventName(j),ot=at.eventCallback(Ne.fullKey,ie,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,X.q)().onAndCancel(se,Ne.domEventName,ot))}static parseEventName(se){const j=se.toLowerCase().split("."),ie=j.shift();if(0===j.length||"keydown"!==ie&&"keyup"!==ie)return null;const Ne=at._normalizeKey(j.pop());let ot="",Bt=j.indexOf("code");if(Bt>-1&&(j.splice(Bt,1),ot="code."),ft.forEach(Wt=>{const An=j.indexOf(Wt);An>-1&&(j.splice(An,1),ot+=Wt+".")}),ot+=Ne,0!=j.length||0===Ne.length)return null;const Et={};return Et.domEventName=ie,Et.fullKey=ot,Et}static matchEventFullKeyCode(se,j){let ie=ae[se.key]||se.key,Ne="";return j.indexOf("code.")>-1&&(ie=se.code,Ne="code."),!(null==ie||!ie)&&(ie=ie.toLowerCase()," "===ie?ie="space":"."===ie&&(ie="dot"),ft.forEach(ot=>{ot!==ie&&(0,ue[ot])(se)&&(Ne+=ot+".")}),Ne+=ie,Ne===j)}static eventCallback(se,j,ie){return Ne=>{at.matchEventFullKeyCode(Ne,se)&&ie.runGuarded(()=>j(Ne))}}static _normalizeKey(se){return"esc"===se?"escape":se}static#e=this.\u0275fac=function(j){return new(j||at)(g.LFG(X.K0))};static#t=this.\u0275prov=g.Yz7({token:at,factory:at.\u0275fac})}return at})();const Zt=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:X.bD},{provide:g.g9A,useValue:function nt(){ce.makeCurrent()},multi:!0},{provide:X.K0,useFactory:function ut(){return(0,g.RDi)(document),document},deps:[]}]),wt=new g.OlP(""),wn=[{provide:g.rWj,useClass:class pe{addToWindow($e){g.dqk.getAngularTestability=(j,ie=!0)=>{const Ne=$e.findTestabilityInTree(j,ie);if(null==Ne)throw new g.vHH(5103,!1);return Ne},g.dqk.getAllAngularTestabilities=()=>$e.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>$e.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(j=>{const ie=g.dqk.getAllAngularTestabilities();let Ne=ie.length,ot=!1;const Bt=function(Et){ot=ot||Et,Ne--,0==Ne&&j(ot)};ie.forEach(Et=>{Et.whenStable(Bt)})})}findTestabilityInTree($e,se,j){return null==se?null:$e.getTestability(se)??(j?(0,X.q)().isShadowRoot(se)?this.findTestabilityInTree($e,se.host,!0):this.findTestabilityInTree($e,se.parentElement,!0):null)}},deps:[]},{provide:g.lri,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]}],pn=[{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function cn(){return new g.qLn},deps:[]},{provide:Ae,useClass:Re,multi:!0,deps:[X.K0,g.R0b,g.Lbi]},{provide:Ae,useClass:Ee,multi:!0,deps:[X.K0]},Ze,Ue,ne,{provide:g.FYo,useExisting:Ze},{provide:X.JF,useClass:me,deps:[]},[]];let fe=(()=>{class at{constructor(se){}static withServerTransition(se){return{ngModule:at,providers:[{provide:g.AFp,useValue:se.appId}]}}static#e=this.\u0275fac=function(j){return new(j||at)(g.LFG(wt,12))};static#t=this.\u0275mod=g.oAB({type:at});static#n=this.\u0275inj=g.cJS({providers:[...pn,...wn],imports:[X.ez,g.hGG]})}return at})(),Nt=(()=>{class at{constructor(se){this._doc=se}getTitle(){return this._doc.title}setTitle(se){this._doc.title=se||""}static#e=this.\u0275fac=function(j){return new(j||at)(g.LFG(X.K0))};static#t=this.\u0275prov=g.Yz7({token:at,factory:function(j){let ie=null;return ie=j?new j:function _t(){return new Nt((0,g.LFG)(X.K0))}(),ie},providedIn:"root"})}return at})();typeof window<"u"&&window;let Ri=(()=>{class at{static#e=this.\u0275fac=function(j){return new(j||at)};static#t=this.\u0275prov=g.Yz7({token:at,factory:function(j){let ie=null;return ie=j?new(j||at):g.LFG(Bn),ie},providedIn:"root"})}return at})(),Bn=(()=>{class at extends Ri{constructor(se){super(),this._doc=se}sanitize(se,j){if(null==j)return null;switch(se){case g.q3G.NONE:return j;case g.q3G.HTML:return(0,g.qzn)(j,"HTML")?(0,g.z3N)(j):(0,g.EiD)(this._doc,String(j)).toString();case g.q3G.STYLE:return(0,g.qzn)(j,"Style")?(0,g.z3N)(j):j;case g.q3G.SCRIPT:if((0,g.qzn)(j,"Script"))return(0,g.z3N)(j);throw new g.vHH(5200,!1);case g.q3G.URL:return(0,g.qzn)(j,"URL")?(0,g.z3N)(j):(0,g.mCW)(String(j));case g.q3G.RESOURCE_URL:if((0,g.qzn)(j,"ResourceURL"))return(0,g.z3N)(j);throw new g.vHH(5201,!1);default:throw new g.vHH(5202,!1)}}bypassSecurityTrustHtml(se){return(0,g.JVY)(se)}bypassSecurityTrustStyle(se){return(0,g.L6k)(se)}bypassSecurityTrustScript(se){return(0,g.eBb)(se)}bypassSecurityTrustUrl(se){return(0,g.LAX)(se)}bypassSecurityTrustResourceUrl(se){return(0,g.pB0)(se)}static#e=this.\u0275fac=function(j){return new(j||at)(g.LFG(X.K0))};static#t=this.\u0275prov=g.Yz7({token:at,factory:function(j){let ie=null;return ie=j?new j:function Mi(at){return new Bn(at.get(X.K0))}(g.LFG(g.zs3)),ie},providedIn:"root"})}return at})()},7723:(Pt,ke,M)=>{"use strict";M.d(ke,{gz:()=>io,F0:()=>So,rH:()=>p,Od:()=>C,Bz:()=>Zs,lC:()=>Ci,AF:()=>wt});var g=M(1699),X=M(2235),Y=M(2602),q=M(4683),e=M(4980),Q=M(8071),Le=M(3839),pe=M(1967),me=M(5823),Ae=M(384);function ne(D){return new X.y(E=>{(0,Ae.Xf)(D()).subscribe(E)})}var be=M(2476),xe=M(3252),Ue=M(6290),Ye=M(6482),ee=M(4114),Oe=M(5678);function lt(){return(0,ee.e)((D,E)=>{let _=null;D._refCount++;const T=(0,Oe.x)(E,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(_=null);const k=D._connection,G=_;_=null,k&&(!G||k===G)&&k.unsubscribe(),E.unsubscribe()});D.subscribe(T),T.closed||(_=D.connect())})}class gt extends X.y{constructor(E,_){super(),this.source=E,this.subjectFactory=_,this._subject=null,this._refCount=0,this._connection=null,(0,ee.A)(E)&&(this.lift=E.lift)}_subscribe(E){return this.getSubject().subscribe(E)}getSubject(){const E=this._subject;return(!E||E.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:E}=this;this._subject=this._connection=null,E?.unsubscribe()}connect(){let E=this._connection;if(!E){E=this._connection=new Ye.w0;const _=this.getSubject();E.add(this.source.subscribe((0,Oe.x)(_,void 0,()=>{this._teardown(),_.complete()},T=>{this._teardown(),_.error(T)},()=>this._teardown()))),E.closed&&(this._connection=null,E=Ye.w0.EMPTY)}return E}refCount(){return lt()(this)}}var we=M(9877),ge=M(6575),le=M(9736),ct=M(1891),Je=M(1527),Ze=M(5043),it=M(4520),He=M(9912),pt=M(5267),Qe=M(5616),Lt=M(3738),rt=M(2389);var ft=M(728);function ae(D){return D<=0?()=>Ue.E:(0,ee.e)((E,_)=>{let T=[];E.subscribe((0,Oe.x)(_,k=>{T.push(k),D<T.length&&T.shift()},()=>{for(const k of T)_.next(k);_.complete()},void 0,()=>{T=null}))})}var ue=M(3614),Ee=M(204),Me=M(8037),Ve=M(7474),et=M(274),nt=M(7047),cn=M(6480);const ut="primary",sn=Symbol("RouteTitle");class Zt{constructor(E){this.params=E||{}}has(E){return Object.prototype.hasOwnProperty.call(this.params,E)}get(E){if(this.has(E)){const _=this.params[E];return Array.isArray(_)?_[0]:_}return null}getAll(E){if(this.has(E)){const _=this.params[E];return Array.isArray(_)?_:[_]}return[]}get keys(){return Object.keys(this.params)}}function wt(D){return new Zt(D)}function wn(D,E,_){const T=_.path.split("/");if(T.length>D.length||"full"===_.pathMatch&&(E.hasChildren()||T.length<D.length))return null;const k={};for(let G=0;G<T.length;G++){const oe=T[G],Xe=D[G];if(oe.startsWith(":"))k[oe.substring(1)]=Xe;else if(oe!==Xe.path)return null}return{consumed:D.slice(0,T.length),posParams:k}}function fe(D,E){const _=D?Object.keys(D):void 0,T=E?Object.keys(E):void 0;if(!_||!T||_.length!=T.length)return!1;let k;for(let G=0;G<_.length;G++)if(k=_[G],!ye(D[k],E[k]))return!1;return!0}function ye(D,E){if(Array.isArray(D)&&Array.isArray(E)){if(D.length!==E.length)return!1;const _=[...D].sort(),T=[...E].sort();return _.every((k,G)=>T[G]===k)}return D===E}function Be(D){return D.length>0?D[D.length-1]:null}function ze(D){return function ce(D){return!!D&&(D instanceof X.y||(0,Y.m)(D.lift)&&(0,Y.m)(D.subscribe))}(D)?D:(0,g.QGY)(D)?(0,q.D)(Promise.resolve(D)):(0,e.of)(D)}const _t={exact:function Rt(D,E,_){if(!dn(D.segments,E.segments)||!ri(D.segments,E.segments,_)||D.numberOfChildren!==E.numberOfChildren)return!1;for(const T in E.children)if(!D.children[T]||!Rt(D.children[T],E.children[T],_))return!1;return!0},subset:xt},Nt={exact:function on(D,E){return fe(D,E)},subset:function At(D,E){return Object.keys(E).length<=Object.keys(D).length&&Object.keys(E).every(_=>ye(D[_],E[_]))},ignored:()=>!0};function Dn(D,E,_){return _t[_.paths](D.root,E.root,_.matrixParams)&&Nt[_.queryParams](D.queryParams,E.queryParams)&&!("exact"===_.fragment&&D.fragment!==E.fragment)}function xt(D,E,_){return Zn(D,E,E.segments,_)}function Zn(D,E,_,T){if(D.segments.length>_.length){const k=D.segments.slice(0,_.length);return!(!dn(k,_)||E.hasChildren()||!ri(k,_,T))}if(D.segments.length===_.length){if(!dn(D.segments,_)||!ri(D.segments,_,T))return!1;for(const k in E.children)if(!D.children[k]||!xt(D.children[k],E.children[k],T))return!1;return!0}{const k=_.slice(0,D.segments.length),G=_.slice(D.segments.length);return!!(dn(D.segments,k)&&ri(D.segments,k,T)&&D.children[ut])&&Zn(D.children[ut],E,G,T)}}function ri(D,E,_){return E.every((T,k)=>Nt[_](D[k].parameters,T.parameters))}class tn{constructor(E=new $t([],{}),_={},T=null){this.root=E,this.queryParams=_,this.fragment=T}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wt(this.queryParams)),this._queryParamMap}toString(){return gi.serialize(this)}}class $t{constructor(E,_){this.segments=E,this.children=_,this.parent=null,Object.values(_).forEach(T=>T.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ri(this)}}class Ln{constructor(E,_){this.path=E,this.parameters=_}get parameterMap(){return this._parameterMap||(this._parameterMap=wt(this.parameters)),this._parameterMap}toString(){return Zi(this)}}function dn(D,E){return D.length===E.length&&D.every((_,T)=>_.path===E[T].path)}let gn=(()=>{class D{static#e=this.\u0275fac=function(T){return new(T||D)};static#t=this.\u0275prov=g.Yz7({token:D,factory:function(){return new Ti},providedIn:"root"})}return D})();class Ti{parse(E){const _=new Et(E);return new tn(_.parseRootSegment(),_.parseQueryParams(),_.parseFragment())}serialize(E){const _=`/${Mi(E.root,!0)}`,T=function Go(D){const E=Object.keys(D).map(_=>{const T=D[_];return Array.isArray(T)?T.map(k=>`${Vn(_)}=${Vn(k)}`).join("&"):`${Vn(_)}=${Vn(T)}`}).filter(_=>!!_);return E.length?`?${E.join("&")}`:""}(E.queryParams);return`${_}${T}${"string"==typeof E.fragment?`#${function yn(D){return encodeURI(D)}(E.fragment)}`:""}`}}const gi=new Ti;function Ri(D){return D.segments.map(E=>Zi(E)).join("/")}function Mi(D,E){if(!D.hasChildren())return Ri(D);if(E){const _=D.children[ut]?Mi(D.children[ut],!1):"",T=[];return Object.entries(D.children).forEach(([k,G])=>{k!==ut&&T.push(`${k}:${Mi(G,!1)}`)}),T.length>0?`${_}(${T.join("//")})`:_}{const _=function Mn(D,E){let _=[];return Object.entries(D.children).forEach(([T,k])=>{T===ut&&(_=_.concat(E(k,T)))}),Object.entries(D.children).forEach(([T,k])=>{T!==ut&&(_=_.concat(E(k,T)))}),_}(D,(T,k)=>k===ut?[Mi(D.children[ut],!1)]:[`${k}:${Mi(T,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[ut]?`${Ri(D)}/${_[0]}`:`${Ri(D)}/(${_.join("//")})`}}function Bn(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vn(D){return Bn(D).replace(/%3B/gi,";")}function qn(D){return Bn(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ai(D){return decodeURIComponent(D)}function qi(D){return Ai(D.replace(/\+/g,"%20"))}function Zi(D){return`${qn(D.path)}${function co(D){return Object.keys(D).map(E=>`;${qn(E)}=${qn(D[E])}`).join("")}(D.parameters)}`}const at=/^[^\/()?;#]+/;function $e(D){const E=D.match(at);return E?E[0]:""}const se=/^[^\/()?;=#]+/,ie=/^[^=?&#]+/,ot=/^[^&#]+/;class Et{constructor(E){this.url=E,this.remaining=E}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new $t([],{}):new $t([],this.parseChildren())}parseQueryParams(){const E={};if(this.consumeOptional("?"))do{this.parseQueryParam(E)}while(this.consumeOptional("&"));return E}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const E=[];for(this.peekStartsWith("(")||E.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),E.push(this.parseSegment());let _={};this.peekStartsWith("/(")&&(this.capture("/"),_=this.parseParens(!0));let T={};return this.peekStartsWith("(")&&(T=this.parseParens(!1)),(E.length>0||Object.keys(_).length>0)&&(T[ut]=new $t(E,_)),T}parseSegment(){const E=$e(this.remaining);if(""===E&&this.peekStartsWith(";"))throw new g.vHH(4009,!1);return this.capture(E),new Ln(Ai(E),this.parseMatrixParams())}parseMatrixParams(){const E={};for(;this.consumeOptional(";");)this.parseParam(E);return E}parseParam(E){const _=function j(D){const E=D.match(se);return E?E[0]:""}(this.remaining);if(!_)return;this.capture(_);let T="";if(this.consumeOptional("=")){const k=$e(this.remaining);k&&(T=k,this.capture(T))}E[Ai(_)]=Ai(T)}parseQueryParam(E){const _=function Ne(D){const E=D.match(ie);return E?E[0]:""}(this.remaining);if(!_)return;this.capture(_);let T="";if(this.consumeOptional("=")){const oe=function Bt(D){const E=D.match(ot);return E?E[0]:""}(this.remaining);oe&&(T=oe,this.capture(T))}const k=qi(_),G=qi(T);if(E.hasOwnProperty(k)){let oe=E[k];Array.isArray(oe)||(oe=[oe],E[k]=oe),oe.push(G)}else E[k]=G}parseParens(E){const _={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const T=$e(this.remaining),k=this.remaining[T.length];if("/"!==k&&")"!==k&&";"!==k)throw new g.vHH(4010,!1);let G;T.indexOf(":")>-1?(G=T.slice(0,T.indexOf(":")),this.capture(G),this.capture(":")):E&&(G=ut);const oe=this.parseChildren();_[G]=1===Object.keys(oe).length?oe[ut]:new $t([],oe),this.consumeOptional("//")}return _}peekStartsWith(E){return this.remaining.startsWith(E)}consumeOptional(E){return!!this.peekStartsWith(E)&&(this.remaining=this.remaining.substring(E.length),!0)}capture(E){if(!this.consumeOptional(E))throw new g.vHH(4011,!1)}}function Wt(D){return D.segments.length>0?new $t([],{[ut]:D}):D}function An(D){const E={};for(const T of Object.keys(D.children)){const G=An(D.children[T]);if(T===ut&&0===G.segments.length&&G.hasChildren())for(const[oe,Xe]of Object.entries(G.children))E[oe]=Xe;else(G.segments.length>0||G.hasChildren())&&(E[T]=G)}return function kn(D){if(1===D.numberOfChildren&&D.children[ut]){const E=D.children[ut];return new $t(D.segments.concat(E.segments),E.children)}return D}(new $t(D.segments,E))}function Pe(D){return D instanceof tn}function Ce(D){let E;const k=Wt(function _(G){const oe={};for(const qe of G.children){const Gt=_(qe);oe[qe.outlet]=Gt}const Xe=new $t(G.url,oe);return G===D&&(E=Xe),Xe}(D.root));return E??k}function Ke(D,E,_,T){let k=D;for(;k.parent;)k=k.parent;if(0===E.length)return It(k,k,k,_,T);const G=function di(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new en(!0,0,D);let E=0,_=!1;const T=D.reduce((k,G,oe)=>{if("object"==typeof G&&null!=G){if(G.outlets){const Xe={};return Object.entries(G.outlets).forEach(([qe,Gt])=>{Xe[qe]="string"==typeof Gt?Gt.split("/"):Gt}),[...k,{outlets:Xe}]}if(G.segmentPath)return[...k,G.segmentPath]}return"string"!=typeof G?[...k,G]:0===oe?(G.split("/").forEach((Xe,qe)=>{0==qe&&"."===Xe||(0==qe&&""===Xe?_=!0:".."===Xe?E++:""!=Xe&&k.push(Xe))}),k):[...k,G]},[]);return new en(_,E,T)}(E);if(G.toRoot())return It(k,k,new $t([],{}),_,T);const oe=function $n(D,E,_){if(D.isAbsolute)return new ln(E,!0,0);if(!_)return new ln(E,!1,NaN);if(null===_.parent)return new ln(_,!0,0);const T=Dt(D.commands[0])?0:1;return function Jt(D,E,_){let T=D,k=E,G=_;for(;G>k;){if(G-=k,T=T.parent,!T)throw new g.vHH(4005,!1);k=T.segments.length}return new ln(T,!1,k-G)}(_,_.segments.length-1+T,D.numberOfDoubleDots)}(G,k,D),Xe=oe.processChildren?nn(oe.segmentGroup,oe.index,G.commands):ni(oe.segmentGroup,oe.index,G.commands);return It(k,oe.segmentGroup,Xe,_,T)}function Dt(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function St(D){return"object"==typeof D&&null!=D&&D.outlets}function It(D,E,_,T,k){let oe,G={};T&&Object.entries(T).forEach(([qe,Gt])=>{G[qe]=Array.isArray(Gt)?Gt.map(On=>`${On}`):`${Gt}`}),oe=D===E?_:qt(D,E,_);const Xe=Wt(An(oe));return new tn(Xe,G,k)}function qt(D,E,_){const T={};return Object.entries(D.children).forEach(([k,G])=>{T[k]=G===E?_:qt(G,E,_)}),new $t(D.segments,T)}class en{constructor(E,_,T){if(this.isAbsolute=E,this.numberOfDoubleDots=_,this.commands=T,E&&T.length>0&&Dt(T[0]))throw new g.vHH(4003,!1);const k=T.find(St);if(k&&k!==Be(T))throw new g.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ln{constructor(E,_,T){this.segmentGroup=E,this.processChildren=_,this.index=T}}function ni(D,E,_){if(D||(D=new $t([],{})),0===D.segments.length&&D.hasChildren())return nn(D,E,_);const T=function Sn(D,E,_){let T=0,k=E;const G={match:!1,pathIndex:0,commandIndex:0};for(;k<D.segments.length;){if(T>=_.length)return G;const oe=D.segments[k],Xe=_[T];if(St(Xe))break;const qe=`${Xe}`,Gt=T<_.length-1?_[T+1]:null;if(k>0&&void 0===qe)break;if(qe&&Gt&&"object"==typeof Gt&&void 0===Gt.outlets){if(!mn(qe,Gt,oe))return G;T+=2}else{if(!mn(qe,{},oe))return G;T++}k++}return{match:!0,pathIndex:k,commandIndex:T}}(D,E,_),k=_.slice(T.commandIndex);if(T.match&&T.pathIndex<D.segments.length){const G=new $t(D.segments.slice(0,T.pathIndex),{});return G.children[ut]=new $t(D.segments.slice(T.pathIndex),D.children),nn(G,0,k)}return T.match&&0===k.length?new $t(D.segments,{}):T.match&&!D.hasChildren()?zn(D,E,_):T.match?nn(D,0,k):zn(D,E,_)}function nn(D,E,_){if(0===_.length)return new $t(D.segments,{});{const T=function Un(D){return St(D[0])?D[0].outlets:{[ut]:D}}(_),k={};if(Object.keys(T).some(G=>G!==ut)&&D.children[ut]&&1===D.numberOfChildren&&0===D.children[ut].segments.length){const G=nn(D.children[ut],E,_);return new $t(D.segments,G.children)}return Object.entries(T).forEach(([G,oe])=>{"string"==typeof oe&&(oe=[oe]),null!==oe&&(k[G]=ni(D.children[G],E,oe))}),Object.entries(D.children).forEach(([G,oe])=>{void 0===T[G]&&(k[G]=oe)}),new $t(D.segments,k)}}function zn(D,E,_){const T=D.segments.slice(0,E);let k=0;for(;k<_.length;){const G=_[k];if(St(G)){const qe=Si(G.outlets);return new $t(T,qe)}if(0===k&&Dt(_[0])){T.push(new Ln(D.segments[E].path,Vt(_[0]))),k++;continue}const oe=St(G)?G.outlets[ut]:`${G}`,Xe=k<_.length-1?_[k+1]:null;oe&&Xe&&Dt(Xe)?(T.push(new Ln(oe,Vt(Xe))),k+=2):(T.push(new Ln(oe,{})),k++)}return new $t(T,{})}function Si(D){const E={};return Object.entries(D).forEach(([_,T])=>{"string"==typeof T&&(T=[T]),null!==T&&(E[_]=zn(new $t([],{}),0,T))}),E}function Vt(D){const E={};return Object.entries(D).forEach(([_,T])=>E[_]=`${T}`),E}function mn(D,E,_){return D==_.path&&fe(E,_.parameters)}const Ii="imperative";class bi{constructor(E,_){this.id=E,this.url=_}}class Vi extends bi{constructor(E,_,T="imperative",k=null){super(E,_),this.type=0,this.navigationTrigger=T,this.restoredState=k}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _o extends bi{constructor(E,_,T){super(E,_),this.urlAfterRedirects=T,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class hn extends bi{constructor(E,_,T,k){super(E,_),this.reason=T,this.code=k,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class En extends bi{constructor(E,_,T,k){super(E,_),this.reason=T,this.code=k,this.type=16}}class to extends bi{constructor(E,_,T,k){super(E,_),this.error=T,this.target=k,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class zo extends bi{constructor(E,_,T,k){super(E,_),this.urlAfterRedirects=T,this.state=k,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ji extends bi{constructor(E,_,T,k){super(E,_),this.urlAfterRedirects=T,this.state=k,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qs extends bi{constructor(E,_,T,k,G){super(E,_),this.urlAfterRedirects=T,this.state=k,this.shouldActivate=G,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Sr extends bi{constructor(E,_,T,k){super(E,_),this.urlAfterRedirects=T,this.state=k,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fo extends bi{constructor(E,_,T,k){super(E,_),this.urlAfterRedirects=T,this.state=k,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mi{constructor(E){this.route=E,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class no{constructor(E){this.route=E,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class er{constructor(E){this.snapshot=E,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xi{constructor(E){this.snapshot=E,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ir{constructor(E){this.snapshot=E,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gr{constructor(E){this.snapshot=E,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tr{constructor(E,_,T){this.routerEvent=E,this.position=_,this.anchor=T,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class nr{}class ir{constructor(E){this.url=E}}class Vr{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new xo,this.attachRef=null}}let xo=(()=>{class D{constructor(){this.contexts=new Map}onChildOutletCreated(_,T){const k=this.getOrCreateContext(_);k.outlet=T,this.contexts.set(_,k)}onChildOutletDestroyed(_){const T=this.getContext(_);T&&(T.outlet=null,T.attachRef=null)}onOutletDeactivated(){const _=this.contexts;return this.contexts=new Map,_}onOutletReAttached(_){this.contexts=_}getOrCreateContext(_){let T=this.getContext(_);return T||(T=new Vr,this.contexts.set(_,T)),T}getContext(_){return this.contexts.get(_)||null}static#e=this.\u0275fac=function(T){return new(T||D)};static#t=this.\u0275prov=g.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();class $r{constructor(E){this._root=E}get root(){return this._root.value}parent(E){const _=this.pathFromRoot(E);return _.length>1?_[_.length-2]:null}children(E){const _=vn(E,this._root);return _?_.children.map(T=>T.value):[]}firstChild(E){const _=vn(E,this._root);return _&&_.children.length>0?_.children[0].value:null}siblings(E){const _=yi(E,this._root);return _.length<2?[]:_[_.length-2].children.map(k=>k.value).filter(k=>k!==E)}pathFromRoot(E){return yi(E,this._root).map(_=>_.value)}}function vn(D,E){if(D===E.value)return E;for(const _ of E.children){const T=vn(D,_);if(T)return T}return null}function yi(D,E){if(D===E.value)return[E];for(const _ of E.children){const T=yi(D,_);if(T.length)return T.unshift(E),T}return[]}class zt{constructor(E,_){this.value=E,this.children=_}toString(){return`TreeNode(${this.value})`}}function _i(D){const E={};return D&&D.children.forEach(_=>E[_.value.outlet]=_),E}class bn extends $r{constructor(E,_){super(E),this.snapshot=_,Xt(this,E)}toString(){return this.snapshot.toString()}}function or(D,E){const _=function mr(D,E){const oe=new Jn([],{},{},"",{},ut,E,null,{});return new jt("",new zt(oe,[]))}(0,E),T=new Q.X([new Ln("",{})]),k=new Q.X({}),G=new Q.X({}),oe=new Q.X({}),Xe=new Q.X(""),qe=new io(T,k,oe,Xe,G,ut,E,_.root);return qe.snapshot=_.root,new bn(new zt(qe,[]),_)}class io{constructor(E,_,T,k,G,oe,Xe,qe){this.urlSubject=E,this.paramsSubject=_,this.queryParamsSubject=T,this.fragmentSubject=k,this.dataSubject=G,this.outlet=oe,this.component=Xe,this._futureSnapshot=qe,this.title=this.dataSubject?.pipe((0,le.U)(Gt=>Gt[sn]))??(0,e.of)(void 0),this.url=E,this.params=_,this.queryParams=T,this.fragment=k,this.data=G}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,le.U)(E=>wt(E)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,le.U)(E=>wt(E)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Gr(D,E="emptyOnly"){const _=D.pathFromRoot;let T=0;if("always"!==E)for(T=_.length-1;T>=1;){const k=_[T],G=_[T-1];if(k.routeConfig&&""===k.routeConfig.path)T--;else{if(G.component)break;T--}}return function Lo(D){return D.reduce((E,_)=>({params:{...E.params,..._.params},data:{...E.data,..._.data},resolve:{..._.data,...E.resolve,..._.routeConfig?.data,..._._resolvedData}}),{params:{},data:{},resolve:{}})}(_.slice(T))}class Jn{get title(){return this.data?.[sn]}constructor(E,_,T,k,G,oe,Xe,qe,Gt){this.url=E,this.params=_,this.queryParams=T,this.fragment=k,this.data=G,this.outlet=oe,this.component=Xe,this.routeConfig=qe,this._resolve=Gt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=wt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(T=>T.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class jt extends $r{constructor(E,_){super(_),this.url=E,Xt(this,_)}toString(){return Yn(this._root)}}function Xt(D,E){E.value._routerState=D,E.children.forEach(_=>Xt(D,_))}function Yn(D){const E=D.children.length>0?` { ${D.children.map(Yn).join(", ")} } `:"";return`${D.value}${E}`}function $i(D){if(D.snapshot){const E=D.snapshot,_=D._futureSnapshot;D.snapshot=_,fe(E.queryParams,_.queryParams)||D.queryParamsSubject.next(_.queryParams),E.fragment!==_.fragment&&D.fragmentSubject.next(_.fragment),fe(E.params,_.params)||D.paramsSubject.next(_.params),function pn(D,E){if(D.length!==E.length)return!1;for(let _=0;_<D.length;++_)if(!fe(D[_],E[_]))return!1;return!0}(E.url,_.url)||D.urlSubject.next(_.url),fe(E.data,_.data)||D.dataSubject.next(_.data)}else D.snapshot=D._futureSnapshot,D.dataSubject.next(D._futureSnapshot.data)}function Oo(D,E){const _=fe(D.params,E.params)&&function st(D,E){return dn(D,E)&&D.every((_,T)=>fe(_.parameters,E[T].parameters))}(D.url,E.url);return _&&!(!D.parent!=!E.parent)&&(!D.parent||Oo(D.parent,E.parent))}let Ci=(()=>{class D{constructor(){this.activated=null,this._activatedRoute=null,this.name=ut,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.attachEvents=new g.vpe,this.detachEvents=new g.vpe,this.parentContexts=(0,g.f3M)(xo),this.location=(0,g.f3M)(g.s_b),this.changeDetector=(0,g.f3M)(g.sBO),this.environmentInjector=(0,g.f3M)(g.lqb),this.inputBinder=(0,g.f3M)(ai,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(_){if(_.name){const{firstChange:T,previousValue:k}=_.name;if(T)return;this.isTrackedInParentContexts(k)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(k)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(_){return this.parentContexts.getContext(_)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const _=this.parentContexts.getContext(this.name);_?.route&&(_.attachRef?this.attach(_.attachRef,_.route):this.activateWith(_.route,_.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new g.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new g.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new g.vHH(4012,!1);this.location.detach();const _=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(_.instance),_}attach(_,T){this.activated=_,this._activatedRoute=T,this.location.insert(_.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(_.instance)}deactivate(){if(this.activated){const _=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,T){if(this.isActivated)throw new g.vHH(4013,!1);this._activatedRoute=_;const k=this.location,oe=_.snapshot.component,Xe=this.parentContexts.getOrCreateContext(this.name).children,qe=new _r(_,Xe,k.injector);this.activated=k.createComponent(oe,{index:k.length,injector:qe,environmentInjector:T??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(T){return new(T||D)};static#t=this.\u0275dir=g.lG2({type:D,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[g.TTD]})}return D})();class _r{constructor(E,_,T){this.route=E,this.childContexts=_,this.parent=T}get(E,_){return E===io?this.route:E===xo?this.childContexts:this.parent.get(E,_)}}const ai=new g.OlP("");let lo=(()=>{class D{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(_){this.unsubscribeFromRouteData(_),this.subscribeToRouteData(_)}unsubscribeFromRouteData(_){this.outletDataSubscriptions.get(_)?.unsubscribe(),this.outletDataSubscriptions.delete(_)}subscribeToRouteData(_){const{activatedRoute:T}=_,k=(0,Le.a)([T.queryParams,T.params,T.data]).pipe((0,ct.w)(([G,oe,Xe],qe)=>(Xe={...G,...oe,...Xe},0===qe?(0,e.of)(Xe):Promise.resolve(Xe)))).subscribe(G=>{if(!_.isActivated||!_.activatedComponentRef||_.activatedRoute!==T||null===T.component)return void this.unsubscribeFromRouteData(_);const oe=(0,g.qFp)(T.component);if(oe)for(const{templateName:Xe}of oe.inputs)_.activatedComponentRef.setInput(Xe,G[Xe]);else this.unsubscribeFromRouteData(_)});this.outletDataSubscriptions.set(_,k)}static#e=this.\u0275fac=function(T){return new(T||D)};static#t=this.\u0275prov=g.Yz7({token:D,factory:D.\u0275fac})}return D})();function Ht(D,E,_){if(_&&D.shouldReuseRoute(E.value,_.value.snapshot)){const T=_.value;T._futureSnapshot=E.value;const k=function vr(D,E,_){return E.children.map(T=>{for(const k of _.children)if(D.shouldReuseRoute(T.value,k.value.snapshot))return Ht(D,T,k);return Ht(D,T)})}(D,E,_);return new zt(T,k)}{if(D.shouldAttach(E.value)){const G=D.retrieve(E.value);if(null!==G){const oe=G.route;return oe.value._futureSnapshot=E.value,oe.children=E.children.map(Xe=>Ht(D,Xe)),oe}}const T=function Qi(D){return new io(new Q.X(D.url),new Q.X(D.params),new Q.X(D.queryParams),new Q.X(D.fragment),new Q.X(D.data),D.outlet,D.component,D)}(E.value),k=E.children.map(G=>Ht(D,G));return new zt(T,k)}}const uo="ngNavigationCancelingError";function pi(D,E){const{redirectTo:_,navigationBehaviorOptions:T}=Pe(E)?{redirectTo:E,navigationBehaviorOptions:void 0}:E,k=Mo(!1,0,E);return k.url=_,k.navigationBehaviorOptions=T,k}function Mo(D,E,_){const T=new Error("NavigationCancelingError: "+(D||""));return T[uo]=!0,T.cancellationCode=E,_&&(T.url=_),T}function vo(D){return D&&D[uo]}let rr=(()=>{class D{static#e=this.\u0275fac=function(T){return new(T||D)};static#t=this.\u0275cmp=g.Xpm({type:D,selectors:[["ng-component"]],standalone:!0,features:[g.jDz],decls:1,vars:0,template:function(T,k){1&T&&g._UZ(0,"router-outlet")},dependencies:[Ci],encapsulation:2})}return D})();function Gi(D){const E=D.children&&D.children.map(Gi),_=E?{...D,children:E}:{...D};return!_.component&&!_.loadComponent&&(E||_.loadChildren)&&_.outlet&&_.outlet!==ut&&(_.component=rr),_}function zi(D){return D.outlet||ut}function Do(D){if(!D)return null;if(D.routeConfig?._injector)return D.routeConfig._injector;for(let E=D.parent;E;E=E.parent){const _=E.routeConfig;if(_?._loadedInjector)return _._loadedInjector;if(_?._injector)return _._injector}return null}class bo{constructor(E,_,T,k,G){this.routeReuseStrategy=E,this.futureState=_,this.currState=T,this.forwardEvent=k,this.inputBindingEnabled=G}activate(E){const _=this.futureState._root,T=this.currState?this.currState._root:null;this.deactivateChildRoutes(_,T,E),$i(this.futureState.root),this.activateChildRoutes(_,T,E)}deactivateChildRoutes(E,_,T){const k=_i(_);E.children.forEach(G=>{const oe=G.value.outlet;this.deactivateRoutes(G,k[oe],T),delete k[oe]}),Object.values(k).forEach(G=>{this.deactivateRouteAndItsChildren(G,T)})}deactivateRoutes(E,_,T){const k=E.value,G=_?_.value:null;if(k===G)if(k.component){const oe=T.getContext(k.outlet);oe&&this.deactivateChildRoutes(E,_,oe.children)}else this.deactivateChildRoutes(E,_,T);else G&&this.deactivateRouteAndItsChildren(_,T)}deactivateRouteAndItsChildren(E,_){E.value.component&&this.routeReuseStrategy.shouldDetach(E.value.snapshot)?this.detachAndStoreRouteSubtree(E,_):this.deactivateRouteAndOutlet(E,_)}detachAndStoreRouteSubtree(E,_){const T=_.getContext(E.value.outlet),k=T&&E.value.component?T.children:_,G=_i(E);for(const oe of Object.keys(G))this.deactivateRouteAndItsChildren(G[oe],k);if(T&&T.outlet){const oe=T.outlet.detach(),Xe=T.children.onOutletDeactivated();this.routeReuseStrategy.store(E.value.snapshot,{componentRef:oe,route:E,contexts:Xe})}}deactivateRouteAndOutlet(E,_){const T=_.getContext(E.value.outlet),k=T&&E.value.component?T.children:_,G=_i(E);for(const oe of Object.keys(G))this.deactivateRouteAndItsChildren(G[oe],k);T&&(T.outlet&&(T.outlet.deactivate(),T.children.onOutletDeactivated()),T.attachRef=null,T.route=null)}activateChildRoutes(E,_,T){const k=_i(_);E.children.forEach(G=>{this.activateRoutes(G,k[G.value.outlet],T),this.forwardEvent(new gr(G.value.snapshot))}),E.children.length&&this.forwardEvent(new xi(E.value.snapshot))}activateRoutes(E,_,T){const k=E.value,G=_?_.value:null;if($i(k),k===G)if(k.component){const oe=T.getOrCreateContext(k.outlet);this.activateChildRoutes(E,_,oe.children)}else this.activateChildRoutes(E,_,T);else if(k.component){const oe=T.getOrCreateContext(k.outlet);if(this.routeReuseStrategy.shouldAttach(k.snapshot)){const Xe=this.routeReuseStrategy.retrieve(k.snapshot);this.routeReuseStrategy.store(k.snapshot,null),oe.children.onOutletReAttached(Xe.contexts),oe.attachRef=Xe.componentRef,oe.route=Xe.route.value,oe.outlet&&oe.outlet.attach(Xe.componentRef,Xe.route.value),$i(Xe.route.value),this.activateChildRoutes(E,null,oe.children)}else{const Xe=Do(k.snapshot);oe.attachRef=null,oe.route=k,oe.injector=Xe,oe.outlet&&oe.outlet.activateWith(k,oe.injector),this.activateChildRoutes(E,null,oe.children)}}else this.activateChildRoutes(E,null,T)}}class Fi{constructor(E){this.path=E,this.route=this.path[this.path.length-1]}}class Wo{constructor(E,_){this.component=E,this.route=_}}function qo(D,E,_){const T=D._root;return Co(T,E?E._root:null,_,[T.value])}function Xi(D,E){const _=Symbol(),T=E.get(D,_);return T===_?"function"!=typeof D||(0,g.Z0I)(D)?E.get(D):D:T}function Co(D,E,_,T,k={canDeactivateChecks:[],canActivateChecks:[]}){const G=_i(E);return D.children.forEach(oe=>{(function Ks(D,E,_,T,k={canDeactivateChecks:[],canActivateChecks:[]}){const G=D.value,oe=E?E.value:null,Xe=_?_.getContext(D.value.outlet):null;if(oe&&G.routeConfig===oe.routeConfig){const qe=function os(D,E,_){if("function"==typeof _)return _(D,E);switch(_){case"pathParamsChange":return!dn(D.url,E.url);case"pathParamsOrQueryParamsChange":return!dn(D.url,E.url)||!fe(D.queryParams,E.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Oo(D,E)||!fe(D.queryParams,E.queryParams);default:return!Oo(D,E)}}(oe,G,G.routeConfig.runGuardsAndResolvers);qe?k.canActivateChecks.push(new Fi(T)):(G.data=oe.data,G._resolvedData=oe._resolvedData),Co(D,E,G.component?Xe?Xe.children:null:_,T,k),qe&&Xe&&Xe.outlet&&Xe.outlet.isActivated&&k.canDeactivateChecks.push(new Wo(Xe.outlet.component,oe))}else oe&&wo(E,Xe,k),k.canActivateChecks.push(new Fi(T)),Co(D,null,G.component?Xe?Xe.children:null:_,T,k)})(oe,G[oe.value.outlet],_,T.concat([oe.value]),k),delete G[oe.value.outlet]}),Object.entries(G).forEach(([oe,Xe])=>wo(Xe,_.getContext(oe),k)),k}function wo(D,E,_){const T=_i(D),k=D.value;Object.entries(T).forEach(([G,oe])=>{wo(oe,k.component?E?E.children.getContext(G):null:E,_)}),_.canDeactivateChecks.push(new Wo(k.component&&E&&E.outlet&&E.outlet.isActivated?E.outlet.component:null,k))}function Nr(D){return"function"==typeof D}function Li(D){return D instanceof pe.K||"EmptyError"===D?.name}const Po=Symbol("INITIAL_VALUE");function Dr(){return(0,ct.w)(D=>(0,Le.a)(D.map(E=>E.pipe((0,Je.q)(1),(0,Ze.O)(Po)))).pipe((0,le.U)(E=>{for(const _ of E)if(!0!==_){if(_===Po)return Po;if(!1===_||_ instanceof tn)return _}return!0}),(0,it.h)(E=>E!==Po),(0,Je.q)(1)))}function Yr(D){return(0,be.z)((0,Lt.b)(E=>{if(Pe(E))throw pi(0,E)}),(0,le.U)(E=>!0===E))}class Oi{constructor(E){this.segmentGroup=E||null}}class ms{constructor(E){this.urlTree=E}}function hi(D){return(0,xe._)(new Oi(D))}function _s(D){return(0,xe._)(new ms(D))}class Jo{constructor(E,_){this.urlSerializer=E,this.urlTree=_}noMatchError(E){return new g.vHH(4002,!1)}lineralizeSegments(E,_){let T=[],k=_.root;for(;;){if(T=T.concat(k.segments),0===k.numberOfChildren)return(0,e.of)(T);if(k.numberOfChildren>1||!k.children[ut])return(0,xe._)(new g.vHH(4e3,!1));k=k.children[ut]}}applyRedirectCommands(E,_,T){return this.applyRedirectCreateUrlTree(_,this.urlSerializer.parse(_),E,T)}applyRedirectCreateUrlTree(E,_,T,k){const G=this.createSegmentGroup(E,_.root,T,k);return new tn(G,this.createQueryParams(_.queryParams,this.urlTree.queryParams),_.fragment)}createQueryParams(E,_){const T={};return Object.entries(E).forEach(([k,G])=>{if("string"==typeof G&&G.startsWith(":")){const Xe=G.substring(1);T[k]=_[Xe]}else T[k]=G}),T}createSegmentGroup(E,_,T,k){const G=this.createSegments(E,_.segments,T,k);let oe={};return Object.entries(_.children).forEach(([Xe,qe])=>{oe[Xe]=this.createSegmentGroup(E,qe,T,k)}),new $t(G,oe)}createSegments(E,_,T,k){return _.map(G=>G.path.startsWith(":")?this.findPosParam(E,G,k):this.findOrReturn(G,T))}findPosParam(E,_,T){const k=T[_.path.substring(1)];if(!k)throw new g.vHH(4001,!1);return k}findOrReturn(E,_){let T=0;for(const k of _){if(k.path===E.path)return _.splice(T),k;T++}return E}}const cr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Rr(D,E,_,T,k){const G=qr(D,E,_);return G.matched?(T=function zr(D,E){return D.providers&&!D._injector&&(D._injector=(0,g.MMx)(D.providers,E,`Route: ${D.path}`)),D._injector??E}(E,T),function gs(D,E,_,T){const k=E.canMatch;if(!k||0===k.length)return(0,e.of)(!0);const G=k.map(oe=>{const Xe=Xi(oe,D);return ze(function he(D){return D&&Nr(D.canMatch)}(Xe)?Xe.canMatch(E,_):D.runInContext(()=>Xe(E,_)))});return(0,e.of)(G).pipe(Dr(),Yr())}(T,E,_).pipe((0,le.U)(oe=>!0===oe?G:{...cr}))):(0,e.of)(G)}function qr(D,E,_){if(""===E.path)return"full"===E.pathMatch&&(D.hasChildren()||_.length>0)?{...cr}:{matched:!0,consumedSegments:[],remainingSegments:_,parameters:{},positionalParamSegments:{}};const k=(E.matcher||wn)(_,D,E);if(!k)return{...cr};const G={};Object.entries(k.posParams??{}).forEach(([Xe,qe])=>{G[Xe]=qe.path});const oe=k.consumed.length>0?{...G,...k.consumed[k.consumed.length-1].parameters}:G;return{matched:!0,consumedSegments:k.consumed,remainingSegments:_.slice(k.consumed.length),parameters:oe,positionalParamSegments:k.posParams??{}}}function Fr(D,E,_,T){return _.length>0&&function Cr(D,E,_){return _.some(T=>Uo(D,E,T)&&zi(T)!==ut)}(D,_,T)?{segmentGroup:new $t(E,as(T,new $t(_,D.children))),slicedSegments:[]}:0===_.length&&function Lr(D,E,_){return _.some(T=>Uo(D,E,T))}(D,_,T)?{segmentGroup:new $t(D.segments,ss(D,0,_,T,D.children)),slicedSegments:_}:{segmentGroup:new $t(D.segments,D.children),slicedSegments:_}}function ss(D,E,_,T,k){const G={};for(const oe of T)if(Uo(D,_,oe)&&!k[zi(oe)]){const Xe=new $t([],{});G[zi(oe)]=Xe}return{...k,...G}}function as(D,E){const _={};_[ut]=E;for(const T of D)if(""===T.path&&zi(T)!==ut){const k=new $t([],{});_[zi(T)]=k}return _}function Uo(D,E,_){return(!(D.hasChildren()||E.length>0)||"full"!==_.pathMatch)&&""===_.path}class ea{constructor(E,_,T,k,G,oe,Xe){this.injector=E,this.configLoader=_,this.rootComponentType=T,this.config=k,this.urlTree=G,this.paramsInheritanceStrategy=oe,this.urlSerializer=Xe,this.allowRedirects=!0,this.applyRedirects=new Jo(this.urlSerializer,this.urlTree)}noMatchError(E){return new g.vHH(4002,!1)}recognize(){const E=Fr(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,E,ut).pipe((0,rt.K)(_=>{if(_ instanceof ms)return this.allowRedirects=!1,this.urlTree=_.urlTree,this.match(_.urlTree);throw _ instanceof Oi?this.noMatchError(_):_}),(0,le.U)(_=>{const T=new Jn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ut,this.rootComponentType,null,{}),k=new zt(T,_),G=new jt("",k),oe=function de(D,E,_=null,T=null){return Ke(Ce(D),E,_,T)}(T,[],this.urlTree.queryParams,this.urlTree.fragment);return oe.queryParams=this.urlTree.queryParams,G.url=this.urlSerializer.serialize(oe),this.inheritParamsAndData(G._root),{state:G,tree:oe}}))}match(E){return this.processSegmentGroup(this.injector,this.config,E.root,ut).pipe((0,rt.K)(T=>{throw T instanceof Oi?this.noMatchError(T):T}))}inheritParamsAndData(E){const _=E.value,T=Gr(_,this.paramsInheritanceStrategy);_.params=Object.freeze(T.params),_.data=Object.freeze(T.data),E.children.forEach(k=>this.inheritParamsAndData(k))}processSegmentGroup(E,_,T,k){return 0===T.segments.length&&T.hasChildren()?this.processChildren(E,_,T):this.processSegment(E,_,T,T.segments,k,!0)}processChildren(E,_,T){const k=[];for(const G of Object.keys(T.children))"primary"===G?k.unshift(G):k.push(G);return(0,q.D)(k).pipe((0,Qe.b)(G=>{const oe=T.children[G],Xe=function Or(D,E){const _=D.filter(T=>zi(T)===E);return _.push(...D.filter(T=>zi(T)!==E)),_}(_,G);return this.processSegmentGroup(E,Xe,oe,G)}),function Re(D,E){return(0,ee.e)(function ht(D,E,_,T,k){return(G,oe)=>{let Xe=_,qe=E,Gt=0;G.subscribe((0,Oe.x)(oe,On=>{const Ni=Gt++;qe=Xe?D(qe,On,Ni):(Xe=!0,On),T&&oe.next(qe)},k&&(()=>{Xe&&oe.next(qe),oe.complete()})))}}(D,E,arguments.length>=2,!0))}((G,oe)=>(G.push(...oe),G)),(0,ft.d)(null),function De(D,E){const _=arguments.length>=2;return T=>T.pipe(D?(0,it.h)((k,G)=>D(k,G,T)):Ee.y,ae(1),_?(0,ft.d)(E):(0,ue.T)(()=>new pe.K))}(),(0,He.z)(G=>{if(null===G)return hi(T);const oe=Hs(G);return function ga(D){D.sort((E,_)=>E.value.outlet===ut?-1:_.value.outlet===ut?1:E.value.outlet.localeCompare(_.value.outlet))}(oe),(0,e.of)(oe)}))}processSegment(E,_,T,k,G,oe){return(0,q.D)(_).pipe((0,Qe.b)(Xe=>this.processSegmentAgainstRoute(Xe._injector??E,_,Xe,T,k,G,oe).pipe((0,rt.K)(qe=>{if(qe instanceof Oi)return(0,e.of)(null);throw qe}))),(0,pt.P)(Xe=>!!Xe),(0,rt.K)(Xe=>{if(Li(Xe))return function Is(D,E,_){return 0===E.length&&!D.children[_]}(T,k,G)?(0,e.of)([]):hi(T);throw Xe}))}processSegmentAgainstRoute(E,_,T,k,G,oe,Xe){return function lr(D,E,_,T){return!!(zi(D)===T||T!==ut&&Uo(E,_,D))&&("**"===D.path||qr(E,D,_).matched)}(T,k,G,oe)?void 0===T.redirectTo?this.matchSegmentAgainstRoute(E,k,T,G,oe,Xe):Xe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(E,k,_,T,G,oe):hi(k):hi(k)}expandSegmentAgainstRouteUsingRedirect(E,_,T,k,G,oe){return"**"===k.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(E,T,k,oe):this.expandRegularSegmentAgainstRouteUsingRedirect(E,_,T,k,G,oe)}expandWildCardWithParamsAgainstRouteUsingRedirect(E,_,T,k){const G=this.applyRedirects.applyRedirectCommands([],T.redirectTo,{});return T.redirectTo.startsWith("/")?_s(G):this.applyRedirects.lineralizeSegments(T,G).pipe((0,He.z)(oe=>{const Xe=new $t(oe,{});return this.processSegment(E,_,Xe,oe,k,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(E,_,T,k,G,oe){const{matched:Xe,consumedSegments:qe,remainingSegments:Gt,positionalParamSegments:On}=qr(_,k,G);if(!Xe)return hi(_);const Ni=this.applyRedirects.applyRedirectCommands(qe,k.redirectTo,On);return k.redirectTo.startsWith("/")?_s(Ni):this.applyRedirects.lineralizeSegments(k,Ni).pipe((0,He.z)(ei=>this.processSegment(E,T,_,ei.concat(Gt),oe,!1)))}matchSegmentAgainstRoute(E,_,T,k,G,oe){let Xe;if("**"===T.path){const qe=k.length>0?Be(k).parameters:{},Gt=new Jn(k,qe,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ho(T),zi(T),T.component??T._loadedComponent??null,T,Jr(T));Xe=(0,e.of)({snapshot:Gt,consumedSegments:[],remainingSegments:[]}),_.children={}}else Xe=Rr(_,T,k,E).pipe((0,le.U)(({matched:qe,consumedSegments:Gt,remainingSegments:On,parameters:Ni})=>qe?{snapshot:new Jn(Gt,Ni,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ho(T),zi(T),T.component??T._loadedComponent??null,T,Jr(T)),consumedSegments:Gt,remainingSegments:On}:null));return Xe.pipe((0,ct.w)(qe=>null===qe?hi(_):this.getChildConfig(E=T._injector??E,T,k).pipe((0,ct.w)(({routes:Gt})=>{const On=T._loadedInjector??E,{snapshot:Ni,consumedSegments:ei,remainingSegments:Kr}=qe,{segmentGroup:xs,slicedSegments:bs}=Fr(_,ei,Kr,Gt);if(0===bs.length&&xs.hasChildren())return this.processChildren(On,Gt,xs).pipe((0,le.U)(To=>null===To?null:[new zt(Ni,To)]));if(0===Gt.length&&0===bs.length)return(0,e.of)([new zt(Ni,[])]);const ta=zi(T)===G;return this.processSegment(On,Gt,xs,bs,ta?ut:G,!0).pipe((0,le.U)(To=>[new zt(Ni,To)]))}))))}getChildConfig(E,_,T){return _.children?(0,e.of)({routes:_.children,injector:E}):_.loadChildren?void 0!==_._loadedRoutes?(0,e.of)({routes:_._loadedRoutes,injector:_._loadedInjector}):function ho(D,E,_,T){const k=E.canLoad;if(void 0===k||0===k.length)return(0,e.of)(!0);const G=k.map(oe=>{const Xe=Xi(oe,D);return ze(function R(D){return D&&Nr(D.canLoad)}(Xe)?Xe.canLoad(E,_):D.runInContext(()=>Xe(E,_)))});return(0,e.of)(G).pipe(Dr(),Yr())}(E,_,T).pipe((0,He.z)(k=>k?this.configLoader.loadChildren(E,_).pipe((0,Lt.b)(G=>{_._loadedRoutes=G.routes,_._loadedInjector=G.injector})):function Us(D){return(0,xe._)(Mo(!1,3))}())):(0,e.of)({routes:[],injector:E})}}function ma(D){const E=D.value.routeConfig;return E&&""===E.path}function Hs(D){const E=[],_=new Set;for(const T of D){if(!ma(T)){E.push(T);continue}const k=E.find(G=>T.value.routeConfig===G.value.routeConfig);void 0!==k?(k.children.push(...T.children),_.add(k)):E.push(T)}for(const T of _){const k=Hs(T.children);E.push(new zt(T.value,k))}return E.filter(T=>!_.has(T))}function Ho(D){return D.data||{}}function Jr(D){return D.resolve||{}}function b(D){return"string"==typeof D.title||null===D.title}function H(D){return(0,ct.w)(E=>{const _=D(E);return _?(0,q.D)(_).pipe((0,le.U)(()=>E)):(0,e.of)(E)})}const x=new g.OlP("ROUTES");let F=(()=>{class D{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,g.f3M)(g.Sil)}loadComponent(_){if(this.componentLoaders.get(_))return this.componentLoaders.get(_);if(_._loadedComponent)return(0,e.of)(_._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(_);const T=ze(_.loadComponent()).pipe((0,le.U)(mt),(0,Lt.b)(G=>{this.onLoadEndListener&&this.onLoadEndListener(_),_._loadedComponent=G}),(0,Ve.x)(()=>{this.componentLoaders.delete(_)})),k=new gt(T,()=>new we.x).pipe(lt());return this.componentLoaders.set(_,k),k}loadChildren(_,T){if(this.childrenLoaders.get(T))return this.childrenLoaders.get(T);if(T._loadedRoutes)return(0,e.of)({routes:T._loadedRoutes,injector:T._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(T);const G=function re(D,E,_,T){return ze(D.loadChildren()).pipe((0,le.U)(mt),(0,He.z)(k=>k instanceof g.YKP||Array.isArray(k)?(0,e.of)(k):(0,q.D)(E.compileModuleAsync(k))),(0,le.U)(k=>{T&&T(D);let G,oe,Xe=!1;return Array.isArray(k)?(oe=k,!0):(G=k.create(_).injector,oe=G.get(x,[],{optional:!0,self:!0}).flat()),{routes:oe.map(Gi),injector:G}}))}(T,this.compiler,_,this.onLoadEndListener).pipe((0,Ve.x)(()=>{this.childrenLoaders.delete(T)})),oe=new gt(G,()=>new we.x).pipe(lt());return this.childrenLoaders.set(T,oe),oe}static#e=this.\u0275fac=function(T){return new(T||D)};static#t=this.\u0275prov=g.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();function mt(D){return function We(D){return D&&"object"==typeof D&&"default"in D}(D)?D.default:D}let Qt=(()=>{class D{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new we.x,this.transitionAbortSubject=new we.x,this.configLoader=(0,g.f3M)(F),this.environmentInjector=(0,g.f3M)(g.lqb),this.urlSerializer=(0,g.f3M)(gn),this.rootContexts=(0,g.f3M)(xo),this.inputBindingEnabled=null!==(0,g.f3M)(ai,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,e.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=k=>this.events.next(new no(k)),this.configLoader.onLoadStartListener=k=>this.events.next(new mi(k))}complete(){this.transitions?.complete()}handleNavigationRequest(_){const T=++this.navigationId;this.transitions?.next({...this.transitions.value,..._,id:T})}setupNavigations(_,T,k){return this.transitions=new Q.X({id:0,currentUrlTree:T,currentRawUrl:T,currentBrowserUrl:T,extractedUrl:_.urlHandlingStrategy.extract(T),urlAfterRedirects:_.urlHandlingStrategy.extract(T),rawUrl:T,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ii,restoredState:null,currentSnapshot:k.snapshot,targetSnapshot:null,currentRouterState:k,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,it.h)(G=>0!==G.id),(0,le.U)(G=>({...G,extractedUrl:_.urlHandlingStrategy.extract(G.rawUrl)})),(0,ct.w)(G=>{this.currentTransition=G;let oe=!1,Xe=!1;return(0,e.of)(G).pipe((0,Lt.b)(qe=>{this.currentNavigation={id:qe.id,initialUrl:qe.rawUrl,extractedUrl:qe.extractedUrl,trigger:qe.source,extras:qe.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ct.w)(qe=>{const Gt=qe.currentBrowserUrl.toString(),On=!_.navigated||qe.extractedUrl.toString()!==Gt||Gt!==qe.currentUrlTree.toString();if(!On&&"reload"!==(qe.extras.onSameUrlNavigation??_.onSameUrlNavigation)){const ei="";return this.events.next(new En(qe.id,this.urlSerializer.serialize(qe.rawUrl),ei,0)),qe.resolve(null),Ue.E}if(_.urlHandlingStrategy.shouldProcessUrl(qe.rawUrl))return(0,e.of)(qe).pipe((0,ct.w)(ei=>{const Kr=this.transitions?.getValue();return this.events.next(new Vi(ei.id,this.urlSerializer.serialize(ei.extractedUrl),ei.source,ei.restoredState)),Kr!==this.transitions?.getValue()?Ue.E:Promise.resolve(ei)}),function js(D,E,_,T,k,G){return(0,He.z)(oe=>function Br(D,E,_,T,k,G,oe="emptyOnly"){return new ea(D,E,_,T,k,oe,G).recognize()}(D,E,_,T,oe.extractedUrl,k,G).pipe((0,le.U)(({state:Xe,tree:qe})=>({...oe,targetSnapshot:Xe,urlAfterRedirects:qe}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,_.config,this.urlSerializer,_.paramsInheritanceStrategy),(0,Lt.b)(ei=>{G.targetSnapshot=ei.targetSnapshot,G.urlAfterRedirects=ei.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:ei.urlAfterRedirects};const Kr=new zo(ei.id,this.urlSerializer.serialize(ei.extractedUrl),this.urlSerializer.serialize(ei.urlAfterRedirects),ei.targetSnapshot);this.events.next(Kr)}));if(On&&_.urlHandlingStrategy.shouldProcessUrl(qe.currentRawUrl)){const{id:ei,extractedUrl:Kr,source:xs,restoredState:bs,extras:ta}=qe,To=new Vi(ei,this.urlSerializer.serialize(Kr),xs,bs);this.events.next(To);const na=or(0,this.rootComponentType).snapshot;return this.currentTransition=G={...qe,targetSnapshot:na,urlAfterRedirects:Kr,extras:{...ta,skipLocationChange:!1,replaceUrl:!1}},(0,e.of)(G)}{const ei="";return this.events.next(new En(qe.id,this.urlSerializer.serialize(qe.extractedUrl),ei,1)),qe.resolve(null),Ue.E}}),(0,Lt.b)(qe=>{const Gt=new Ji(qe.id,this.urlSerializer.serialize(qe.extractedUrl),this.urlSerializer.serialize(qe.urlAfterRedirects),qe.targetSnapshot);this.events.next(Gt)}),(0,le.U)(qe=>(this.currentTransition=G={...qe,guards:qo(qe.targetSnapshot,qe.currentSnapshot,this.rootContexts)},G)),function br(D,E){return(0,He.z)(_=>{const{targetSnapshot:T,currentSnapshot:k,guards:{canActivateChecks:G,canDeactivateChecks:oe}}=_;return 0===oe.length&&0===G.length?(0,e.of)({..._,guardsResult:!0}):function Ha(D,E,_,T){return(0,q.D)(D).pipe((0,He.z)(k=>function kr(D,E,_,T,k){const G=E&&E.routeConfig?E.routeConfig.canDeactivate:null;if(!G||0===G.length)return(0,e.of)(!0);const oe=G.map(Xe=>{const qe=Do(E)??k,Gt=Xi(Xe,qe);return ze(function z(D){return D&&Nr(D.canDeactivate)}(Gt)?Gt.canDeactivate(D,E,_,T):qe.runInContext(()=>Gt(D,E,_,T))).pipe((0,pt.P)())});return(0,e.of)(oe).pipe(Dr())}(k.component,k.route,_,E,T)),(0,pt.P)(k=>!0!==k,!0))}(oe,T,k,D).pipe((0,He.z)(Xe=>Xe&&function As(D){return"boolean"==typeof D}(Xe)?function Pr(D,E,_,T){return(0,q.D)(E).pipe((0,Qe.b)(k=>(0,me.z)(function Ss(D,E){return null!==D&&E&&E(new er(D)),(0,e.of)(!0)}(k.route.parent,T),function Xs(D,E){return null!==D&&E&&E(new Ir(D)),(0,e.of)(!0)}(k.route,T),function rs(D,E,_){const T=E[E.length-1],G=E.slice(0,E.length-1).reverse().map(oe=>function ar(D){const E=D.routeConfig?D.routeConfig.canActivateChild:null;return E&&0!==E.length?{node:D,guards:E}:null}(oe)).filter(oe=>null!==oe).map(oe=>ne(()=>{const Xe=oe.guards.map(qe=>{const Gt=Do(oe.node)??_,On=Xi(qe,Gt);return ze(function S(D){return D&&Nr(D.canActivateChild)}(On)?On.canActivateChild(T,D):Gt.runInContext(()=>On(T,D))).pipe((0,pt.P)())});return(0,e.of)(Xe).pipe(Dr())}));return(0,e.of)(G).pipe(Dr())}(D,k.path,_),function pa(D,E,_){const T=E.routeConfig?E.routeConfig.canActivate:null;if(!T||0===T.length)return(0,e.of)(!0);const k=T.map(G=>ne(()=>{const oe=Do(E)??_,Xe=Xi(G,oe);return ze(function B(D){return D&&Nr(D.canActivate)}(Xe)?Xe.canActivate(E,D):oe.runInContext(()=>Xe(E,D))).pipe((0,pt.P)())}));return(0,e.of)(k).pipe(Dr())}(D,k.route,_))),(0,pt.P)(k=>!0!==k,!0))}(T,G,D,E):(0,e.of)(Xe)),(0,le.U)(Xe=>({..._,guardsResult:Xe})))})}(this.environmentInjector,qe=>this.events.next(qe)),(0,Lt.b)(qe=>{if(G.guardsResult=qe.guardsResult,Pe(qe.guardsResult))throw pi(0,qe.guardsResult);const Gt=new Qs(qe.id,this.urlSerializer.serialize(qe.extractedUrl),this.urlSerializer.serialize(qe.urlAfterRedirects),qe.targetSnapshot,!!qe.guardsResult);this.events.next(Gt)}),(0,it.h)(qe=>!!qe.guardsResult||(this.cancelNavigationTransition(qe,"",3),!1)),H(qe=>{if(qe.guards.canActivateChecks.length)return(0,e.of)(qe).pipe((0,Lt.b)(Gt=>{const On=new Sr(Gt.id,this.urlSerializer.serialize(Gt.extractedUrl),this.urlSerializer.serialize(Gt.urlAfterRedirects),Gt.targetSnapshot);this.events.next(On)}),(0,ct.w)(Gt=>{let On=!1;return(0,e.of)(Gt).pipe(function cs(D,E){return(0,He.z)(_=>{const{targetSnapshot:T,guards:{canActivateChecks:k}}=_;if(!k.length)return(0,e.of)(_);let G=0;return(0,q.D)(k).pipe((0,Qe.b)(oe=>function ja(D,E,_,T){const k=D.routeConfig,G=D._resolve;return void 0!==k?.title&&!b(k)&&(G[sn]=k.title),function _a(D,E,_,T){const k=function vs(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}(D);if(0===k.length)return(0,e.of)({});const G={};return(0,q.D)(k).pipe((0,He.z)(oe=>function ls(D,E,_,T){const k=Do(E)??T,G=Xi(D,k);return ze(G.resolve?G.resolve(E,_):k.runInContext(()=>G(E,_)))}(D[oe],E,_,T).pipe((0,pt.P)(),(0,Lt.b)(Xe=>{G[oe]=Xe}))),ae(1),(0,Me.h)(G),(0,rt.K)(oe=>Li(oe)?Ue.E:(0,xe._)(oe)))}(G,D,E,T).pipe((0,le.U)(oe=>(D._resolvedData=oe,D.data=Gr(D,_).resolve,k&&b(k)&&(D.data[sn]=k.title),null)))}(oe.route,T,D,E)),(0,Lt.b)(()=>G++),ae(1),(0,He.z)(oe=>G===k.length?(0,e.of)(_):Ue.E))})}(_.paramsInheritanceStrategy,this.environmentInjector),(0,Lt.b)({next:()=>On=!0,complete:()=>{On||this.cancelNavigationTransition(Gt,"",2)}}))}),(0,Lt.b)(Gt=>{const On=new Fo(Gt.id,this.urlSerializer.serialize(Gt.extractedUrl),this.urlSerializer.serialize(Gt.urlAfterRedirects),Gt.targetSnapshot);this.events.next(On)}))}),H(qe=>{const Gt=On=>{const Ni=[];On.routeConfig?.loadComponent&&!On.routeConfig._loadedComponent&&Ni.push(this.configLoader.loadComponent(On.routeConfig).pipe((0,Lt.b)(ei=>{On.component=ei}),(0,le.U)(()=>{})));for(const ei of On.children)Ni.push(...Gt(ei));return Ni};return(0,Le.a)(Gt(qe.targetSnapshot.root)).pipe((0,ft.d)(),(0,Je.q)(1))}),H(()=>this.afterPreactivation()),(0,le.U)(qe=>{const Gt=function Bo(D,E,_){const T=Ht(D,E._root,_?_._root:void 0);return new bn(T,E)}(_.routeReuseStrategy,qe.targetSnapshot,qe.currentRouterState);return this.currentTransition=G={...qe,targetRouterState:Gt},G}),(0,Lt.b)(()=>{this.events.next(new nr)}),((D,E,_,T)=>(0,le.U)(k=>(new bo(E,k.targetRouterState,k.currentRouterState,_,T).activate(D),k)))(this.rootContexts,_.routeReuseStrategy,qe=>this.events.next(qe),this.inputBindingEnabled),(0,Je.q)(1),(0,Lt.b)({next:qe=>{oe=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new _o(qe.id,this.urlSerializer.serialize(qe.extractedUrl),this.urlSerializer.serialize(qe.urlAfterRedirects))),_.titleStrategy?.updateTitle(qe.targetRouterState.snapshot),qe.resolve(!0)},complete:()=>{oe=!0}}),(0,et.R)(this.transitionAbortSubject.pipe((0,Lt.b)(qe=>{throw qe}))),(0,Ve.x)(()=>{oe||Xe||this.cancelNavigationTransition(G,"",1),this.currentNavigation?.id===G.id&&(this.currentNavigation=null)}),(0,rt.K)(qe=>{if(Xe=!0,vo(qe))this.events.next(new hn(G.id,this.urlSerializer.serialize(G.extractedUrl),qe.message,qe.cancellationCode)),function Yo(D){return vo(D)&&Pe(D.url)}(qe)?this.events.next(new ir(qe.url)):G.resolve(!1);else{this.events.next(new to(G.id,this.urlSerializer.serialize(G.extractedUrl),qe,G.targetSnapshot??void 0));try{G.resolve(_.errorHandler(qe))}catch(Gt){G.reject(Gt)}}return Ue.E}))}))}cancelNavigationTransition(_,T,k){const G=new hn(_.id,this.urlSerializer.serialize(_.extractedUrl),T,k);this.events.next(G),_.resolve(!1)}static#e=this.\u0275fac=function(T){return new(T||D)};static#t=this.\u0275prov=g.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();function Qn(D){return D!==Ii}let si=(()=>{class D{buildTitle(_){let T,k=_.root;for(;void 0!==k;)T=this.getResolvedTitleForRoute(k)??T,k=k.children.find(G=>G.outlet===ut);return T}getResolvedTitleForRoute(_){return _.data[sn]}static#e=this.\u0275fac=function(T){return new(T||D)};static#t=this.\u0275prov=g.Yz7({token:D,factory:function(){return(0,g.f3M)(xn)},providedIn:"root"})}return D})(),xn=(()=>{class D extends si{constructor(_){super(),this.title=_}updateTitle(_){const T=this.buildTitle(_);void 0!==T&&this.title.setTitle(T)}static#e=this.\u0275fac=function(T){return new(T||D)(g.LFG(cn.Dx))};static#t=this.\u0275prov=g.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})(),fn=(()=>{class D{static#e=this.\u0275fac=function(T){return new(T||D)};static#t=this.\u0275prov=g.Yz7({token:D,factory:function(){return(0,g.f3M)(ci)},providedIn:"root"})}return D})();class wi{shouldDetach(E){return!1}store(E,_){}shouldAttach(E){return!1}retrieve(E){return null}shouldReuseRoute(E,_){return E.routeConfig===_.routeConfig}}let ci=(()=>{class D extends wi{static#e=this.\u0275fac=function(){let _;return function(k){return(_||(_=g.n5z(D)))(k||D)}}();static#t=this.\u0275prov=g.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();const Ei=new g.OlP("",{providedIn:"root",factory:()=>({})});let Qo=(()=>{class D{static#e=this.\u0275fac=function(T){return new(T||D)};static#t=this.\u0275prov=g.Yz7({token:D,factory:function(){return(0,g.f3M)(jo)},providedIn:"root"})}return D})(),jo=(()=>{class D{shouldProcessUrl(_){return!0}extract(_){return _}merge(_,T){return _}static#e=this.\u0275fac=function(T){return new(T||D)};static#t=this.\u0275prov=g.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();var fo=function(D){return D[D.COMPLETE=0]="COMPLETE",D[D.FAILED=1]="FAILED",D[D.REDIRECTING=2]="REDIRECTING",D}(fo||{});function Eo(D,E){D.events.pipe((0,it.h)(_=>_ instanceof _o||_ instanceof hn||_ instanceof to||_ instanceof En),(0,le.U)(_=>_ instanceof _o||_ instanceof En?fo.COMPLETE:_ instanceof hn&&(0===_.code||1===_.code)?fo.REDIRECTING:fo.FAILED),(0,it.h)(_=>_!==fo.REDIRECTING),(0,Je.q)(1)).subscribe(()=>{E()})}function Bi(D){throw D}function wr(D,E,_){return E.parse("/")}const Ao={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},li={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let So=(()=>{class D{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,g.f3M)(g.c2e),this.isNgZoneEnabled=!1,this._events=new we.x,this.options=(0,g.f3M)(Ei,{optional:!0})||{},this.pendingTasks=(0,g.f3M)(g.HDt),this.errorHandler=this.options.errorHandler||Bi,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||wr,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,g.f3M)(Qo),this.routeReuseStrategy=(0,g.f3M)(fn),this.titleStrategy=(0,g.f3M)(si),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,g.f3M)(x,{optional:!0})?.flat()??[],this.navigationTransitions=(0,g.f3M)(Qt),this.urlSerializer=(0,g.f3M)(gn),this.location=(0,g.f3M)(ge.Ye),this.componentInputBindingEnabled=!!(0,g.f3M)(ai,{optional:!0}),this.eventsSubscription=new Ye.w0,this.isNgZoneEnabled=(0,g.f3M)(g.R0b)instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new tn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=or(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(_=>{this.lastSuccessfulId=_.id,this.currentPageId=this.browserPageId},_=>{this.console.warn(`Unhandled Navigation Error: ${_}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const _=this.navigationTransitions.events.subscribe(T=>{try{const{currentTransition:k}=this.navigationTransitions;if(null===k)return void(d(T)&&this._events.next(T));if(T instanceof Vi)Qn(k.source)&&(this.browserUrlTree=k.extractedUrl);else if(T instanceof En)this.rawUrlTree=k.rawUrl;else if(T instanceof zo){if("eager"===this.urlUpdateStrategy){if(!k.extras.skipLocationChange){const G=this.urlHandlingStrategy.merge(k.urlAfterRedirects,k.rawUrl);this.setBrowserUrl(G,k)}this.browserUrlTree=k.urlAfterRedirects}}else if(T instanceof nr)this.currentUrlTree=k.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(k.urlAfterRedirects,k.rawUrl),this.routerState=k.targetRouterState,"deferred"===this.urlUpdateStrategy&&(k.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,k),this.browserUrlTree=k.urlAfterRedirects);else if(T instanceof hn)0!==T.code&&1!==T.code&&(this.navigated=!0),(3===T.code||2===T.code)&&this.restoreHistory(k);else if(T instanceof ir){const G=this.urlHandlingStrategy.merge(T.url,k.currentRawUrl),oe={skipLocationChange:k.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Qn(k.source)};this.scheduleNavigation(G,Ii,null,oe,{resolve:k.resolve,reject:k.reject,promise:k.promise})}T instanceof to&&this.restoreHistory(k,!0),T instanceof _o&&(this.navigated=!0),d(T)&&this._events.next(T)}catch(k){this.navigationTransitions.transitionAbortSubject.next(k)}});this.eventsSubscription.add(_)}resetRootComponentType(_){this.routerState.root.component=_,this.navigationTransitions.rootComponentType=_}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const _=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ii,_)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(_=>{const T="popstate"===_.type?"popstate":"hashchange";"popstate"===T&&setTimeout(()=>{this.navigateToSyncWithBrowser(_.url,T,_.state)},0)}))}navigateToSyncWithBrowser(_,T,k){const G={replaceUrl:!0},oe=k?.navigationId?k:null;if(k){const qe={...k};delete qe.navigationId,delete qe.\u0275routerPageId,0!==Object.keys(qe).length&&(G.state=qe)}const Xe=this.parseUrl(_);this.scheduleNavigation(Xe,T,oe,G)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(_){this.config=_.map(Gi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(_,T={}){const{relativeTo:k,queryParams:G,fragment:oe,queryParamsHandling:Xe,preserveFragment:qe}=T,Gt=qe?this.currentUrlTree.fragment:oe;let Ni,On=null;switch(Xe){case"merge":On={...this.currentUrlTree.queryParams,...G};break;case"preserve":On=this.currentUrlTree.queryParams;break;default:On=G||null}null!==On&&(On=this.removeEmptyProps(On));try{Ni=Ce(k?k.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof _[0]||!_[0].startsWith("/"))&&(_=[]),Ni=this.currentUrlTree.root}return Ke(Ni,_,On,Gt??null)}navigateByUrl(_,T={skipLocationChange:!1}){const k=Pe(_)?_:this.parseUrl(_),G=this.urlHandlingStrategy.merge(k,this.rawUrlTree);return this.scheduleNavigation(G,Ii,null,T)}navigate(_,T={skipLocationChange:!1}){return function s(D){for(let E=0;E<D.length;E++)if(null==D[E])throw new g.vHH(4008,!1)}(_),this.navigateByUrl(this.createUrlTree(_,T),T)}serializeUrl(_){return this.urlSerializer.serialize(_)}parseUrl(_){let T;try{T=this.urlSerializer.parse(_)}catch(k){T=this.malformedUriErrorHandler(k,this.urlSerializer,_)}return T}isActive(_,T){let k;if(k=!0===T?{...Ao}:!1===T?{...li}:T,Pe(_))return Dn(this.currentUrlTree,_,k);const G=this.parseUrl(_);return Dn(this.currentUrlTree,G,k)}removeEmptyProps(_){return Object.keys(_).reduce((T,k)=>{const G=_[k];return null!=G&&(T[k]=G),T},{})}scheduleNavigation(_,T,k,G,oe){if(this.disposed)return Promise.resolve(!1);let Xe,qe,Gt;oe?(Xe=oe.resolve,qe=oe.reject,Gt=oe.promise):Gt=new Promise((Ni,ei)=>{Xe=Ni,qe=ei});const On=this.pendingTasks.add();return Eo(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(On))}),this.navigationTransitions.handleNavigationRequest({source:T,restoredState:k,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:_,extras:G,resolve:Xe,reject:qe,promise:Gt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Gt.catch(Ni=>Promise.reject(Ni))}setBrowserUrl(_,T){const k=this.urlSerializer.serialize(_);if(this.location.isCurrentPathEqualTo(k)||T.extras.replaceUrl){const oe={...T.extras.state,...this.generateNgRouterState(T.id,this.browserPageId)};this.location.replaceState(k,"",oe)}else{const G={...T.extras.state,...this.generateNgRouterState(T.id,this.browserPageId+1)};this.location.go(k,"",G)}}restoreHistory(_,T=!1){if("computed"===this.canceledNavigationResolution){const G=this.currentPageId-this.browserPageId;0!==G?this.location.historyGo(G):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===G&&(this.resetState(_),this.browserUrlTree=_.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(T&&this.resetState(_),this.resetUrlToCurrentUrlTree())}resetState(_){this.routerState=_.currentRouterState,this.currentUrlTree=_.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(_,T){return"computed"===this.canceledNavigationResolution?{navigationId:_,\u0275routerPageId:T}:{navigationId:_}}static#e=this.\u0275fac=function(T){return new(T||D)};static#t=this.\u0275prov=g.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();function d(D){return!(D instanceof nr||D instanceof ir)}let p=(()=>{class D{constructor(_,T,k,G,oe,Xe){this.router=_,this.route=T,this.tabIndexAttribute=k,this.renderer=G,this.el=oe,this.locationStrategy=Xe,this.href=null,this.commands=null,this.onChanges=new we.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const qe=oe.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===qe||"area"===qe,this.isAnchorElement?this.subscription=_.events.subscribe(Gt=>{Gt instanceof _o&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(_){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",_)}ngOnChanges(_){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(_){null!=_?(this.commands=Array.isArray(_)?_:[_],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(_,T,k,G,oe){return!!(null===this.urlTree||this.isAnchorElement&&(0!==_||T||k||G||oe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const _=null===this.href?null:(0,g.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",_)}applyAttributeValue(_,T){const k=this.renderer,G=this.el.nativeElement;null!==T?k.setAttribute(G,_,T):k.removeAttribute(G,_)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(T){return new(T||D)(g.Y36(So),g.Y36(io),g.$8M("tabindex"),g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(ge.S$))};static#t=this.\u0275dir=g.lG2({type:D,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(T,k){1&T&&g.NdJ("click",function(oe){return k.onClick(oe.button,oe.ctrlKey,oe.shiftKey,oe.altKey,oe.metaKey)}),2&T&&g.uIk("target",k.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",g.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",g.VuI],replaceUrl:["replaceUrl","replaceUrl",g.VuI],routerLink:"routerLink"},standalone:!0,features:[g.Xq5,g.TTD]})}return D})(),C=(()=>{class D{get isActive(){return this._isActive}constructor(_,T,k,G,oe){this.router=_,this.element=T,this.renderer=k,this.cdr=G,this.link=oe,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new g.vpe,this.routerEventsSubscription=_.events.subscribe(Xe=>{Xe instanceof _o&&this.update()})}ngAfterContentInit(){(0,e.of)(this.links.changes,(0,e.of)(null)).pipe((0,nt.J)()).subscribe(_=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const _=[...this.links.toArray(),this.link].filter(T=>!!T).map(T=>T.onChanges);this.linkInputChangesSubscription=(0,q.D)(_).pipe((0,nt.J)()).subscribe(T=>{this._isActive!==this.isLinkActive(this.router)(T)&&this.update()})}set routerLinkActive(_){const T=Array.isArray(_)?_:_.split(" ");this.classes=T.filter(k=>!!k)}ngOnChanges(_){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const _=this.hasActiveLinks();this._isActive!==_&&(this._isActive=_,this.cdr.markForCheck(),this.classes.forEach(T=>{_?this.renderer.addClass(this.element.nativeElement,T):this.renderer.removeClass(this.element.nativeElement,T)}),_&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(_))})}isLinkActive(_){const T=function O(D){return!!D.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return k=>!!k.urlTree&&_.isActive(k.urlTree,T)}hasActiveLinks(){const _=this.isLinkActive(this.router);return this.link&&_(this.link)||this.links.some(_)}static#e=this.\u0275fac=function(T){return new(T||D)(g.Y36(So),g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(g.sBO),g.Y36(p,8))};static#t=this.\u0275dir=g.lG2({type:D,selectors:[["","routerLinkActive",""]],contentQueries:function(T,k,G){if(1&T&&g.Suo(G,p,5),2&T){let oe;g.iGM(oe=g.CRH())&&(k.links=oe)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[g.TTD]})}return D})();class ${}let tt=(()=>{class D{constructor(_,T,k,G,oe){this.router=_,this.injector=k,this.preloadingStrategy=G,this.loader=oe}setUpPreloading(){this.subscription=this.router.events.pipe((0,it.h)(_=>_ instanceof _o),(0,Qe.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(_,T){const k=[];for(const G of T){G.providers&&!G._injector&&(G._injector=(0,g.MMx)(G.providers,_,`Route: ${G.path}`));const oe=G._injector??_,Xe=G._loadedInjector??oe;(G.loadChildren&&!G._loadedRoutes&&void 0===G.canLoad||G.loadComponent&&!G._loadedComponent)&&k.push(this.preloadConfig(oe,G)),(G.children||G._loadedRoutes)&&k.push(this.processRoutes(Xe,G.children??G._loadedRoutes))}return(0,q.D)(k).pipe((0,nt.J)())}preloadConfig(_,T){return this.preloadingStrategy.preload(T,()=>{let k;k=T.loadChildren&&void 0===T.canLoad?this.loader.loadChildren(_,T):(0,e.of)(null);const G=k.pipe((0,He.z)(oe=>null===oe?(0,e.of)(void 0):(T._loadedRoutes=oe.routes,T._loadedInjector=oe.injector,this.processRoutes(oe.injector??_,oe.routes))));if(T.loadComponent&&!T._loadedComponent){const oe=this.loader.loadComponent(T);return(0,q.D)([G,oe]).pipe((0,nt.J)())}return G})}static#e=this.\u0275fac=function(T){return new(T||D)(g.LFG(So),g.LFG(g.Sil),g.LFG(g.lqb),g.LFG($),g.LFG(F))};static#t=this.\u0275prov=g.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();const bt=new g.OlP("");let Ut=(()=>{class D{constructor(_,T,k,G,oe={}){this.urlSerializer=_,this.transitions=T,this.viewportScroller=k,this.zone=G,this.options=oe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},oe.scrollPositionRestoration=oe.scrollPositionRestoration||"disabled",oe.anchorScrolling=oe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(_=>{_ instanceof Vi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=_.navigationTrigger,this.restoredId=_.restoredState?_.restoredState.navigationId:0):_ instanceof _o?(this.lastId=_.id,this.scheduleScrollEvent(_,this.urlSerializer.parse(_.urlAfterRedirects).fragment)):_ instanceof En&&0===_.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(_,this.urlSerializer.parse(_.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(_=>{_ instanceof tr&&(_.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(_.position):_.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(_.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(_,T){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new tr(_,"popstate"===this.lastSource?this.store[this.restoredId]:null,T))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(T){g.$Z()};static#t=this.\u0275prov=g.Yz7({token:D,factory:D.\u0275fac})}return D})();function Kn(D,E){return{\u0275kind:D,\u0275providers:E}}function ve(){const D=(0,g.f3M)(g.zs3);return E=>{const _=D.get(g.z2F);if(E!==_.components[0])return;const T=D.get(So),k=D.get(U);1===D.get(P)&&T.initialNavigation(),D.get(Ot,null,g.XFs.Optional)?.setUpPreloading(),D.get(bt,null,g.XFs.Optional)?.init(),T.resetRootComponentType(_.componentTypes[0]),k.closed||(k.next(),k.complete(),k.unsubscribe())}}const U=new g.OlP("",{factory:()=>new we.x}),P=new g.OlP("",{providedIn:"root",factory:()=>1}),Ot=new g.OlP("");function Hn(D){return Kn(0,[{provide:Ot,useExisting:tt},{provide:$,useExisting:D}])}const ro=new g.OlP("ROUTER_FORROOT_GUARD"),va=[ge.Ye,{provide:gn,useClass:Ti},So,xo,{provide:io,useFactory:function Tn(D){return D.routerState.root},deps:[So]},F,[]];function Ui(){return new g.PXZ("Router",So)}let Zs=(()=>{class D{constructor(_){}static forRoot(_,T){return{ngModule:D,providers:[va,[],{provide:x,multi:!0,useValue:_},{provide:ro,useFactory:ya,deps:[[So,new g.FiY,new g.tp0]]},{provide:Ei,useValue:T||{}},T?.useHash?{provide:ge.S$,useClass:ge.Do}:{provide:ge.S$,useClass:ge.b0},{provide:bt,useFactory:()=>{const D=(0,g.f3M)(ge.EM),E=(0,g.f3M)(g.R0b),_=(0,g.f3M)(Ei),T=(0,g.f3M)(Qt),k=(0,g.f3M)(gn);return _.scrollOffset&&D.setOffset(_.scrollOffset),new Ut(k,T,D,E,_)}},T?.preloadingStrategy?Hn(T.preloadingStrategy).\u0275providers:[],{provide:g.PXZ,multi:!0,useFactory:Ui},T?.initialNavigation?fl(T):[],T?.bindToComponentInputs?Kn(8,[lo,{provide:ai,useExisting:lo}]).\u0275providers:[],[{provide:pl,useFactory:ve},{provide:g.tb,multi:!0,useExisting:pl}]]}}static forChild(_){return{ngModule:D,providers:[{provide:x,multi:!0,useValue:_}]}}static#e=this.\u0275fac=function(T){return new(T||D)(g.LFG(ro,8))};static#t=this.\u0275mod=g.oAB({type:D});static#n=this.\u0275inj=g.cJS({})}return D})();function ya(D){return"guarded"}function fl(D){return["disabled"===D.initialNavigation?Kn(3,[{provide:g.ip1,multi:!0,useFactory:()=>{const E=(0,g.f3M)(So);return()=>{E.setUpLocationChangeListener()}}},{provide:P,useValue:2}]).\u0275providers:[],"enabledBlocking"===D.initialNavigation?Kn(2,[{provide:P,useValue:0},{provide:g.ip1,multi:!0,deps:[g.zs3],useFactory:E=>{const _=E.get(ge.V_,Promise.resolve());return()=>_.then(()=>new Promise(T=>{const k=E.get(So),G=E.get(U);Eo(k,()=>{T(!0)}),E.get(Qt).afterPreactivation=()=>(T(!0),G.closed?(0,e.of)(void 0):G),k.initialNavigation()}))}}]).\u0275providers:[]]}const pl=new g.OlP("")},2321:(Pt,ke,M)=>{"use strict";function ne(ae,ue,Ee,De){return new(Ee||(Ee=Promise))(function(Ve,et){function nt(sn){try{ut(De.next(sn))}catch(Zt){et(Zt)}}function cn(sn){try{ut(De.throw(sn))}catch(Zt){et(Zt)}}function ut(sn){sn.done?Ve(sn.value):function Me(Ve){return Ve instanceof Ee?Ve:new Ee(function(et){et(Ve)})}(sn.value).then(nt,cn)}ut((De=De.apply(ae,ue||[])).next())})}function we(ae){return this instanceof we?(this.v=ae,this):new we(ae)}function ge(ae,ue,Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Me,De=Ee.apply(ae,ue||[]),Ve=[];return Me={},et("next"),et("throw"),et("return"),Me[Symbol.asyncIterator]=function(){return this},Me;function et(wt){De[wt]&&(Me[wt]=function(wn){return new Promise(function(pn,fe){Ve.push([wt,wn,pn,fe])>1||nt(wt,wn)})})}function nt(wt,wn){try{!function cn(wt){wt.value instanceof we?Promise.resolve(wt.value.v).then(ut,sn):Zt(Ve[0][2],wt)}(De[wt](wn))}catch(pn){Zt(Ve[0][3],pn)}}function ut(wt){nt("next",wt)}function sn(wt){nt("throw",wt)}function Zt(wt,wn){wt(wn),Ve.shift(),Ve.length&&nt(Ve[0][0],Ve[0][1])}}function ct(ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ee,ue=ae[Symbol.asyncIterator];return ue?ue.call(ae):(ae=function Ye(ae){var ue="function"==typeof Symbol&&Symbol.iterator,Ee=ue&&ae[ue],De=0;if(Ee)return Ee.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&De>=ae.length&&(ae=void 0),{value:ae&&ae[De++],done:!ae}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(ae),Ee={},De("next"),De("throw"),De("return"),Ee[Symbol.asyncIterator]=function(){return this},Ee);function De(Ve){Ee[Ve]=ae[Ve]&&function(et){return new Promise(function(nt,cn){!function Me(Ve,et,nt,cn){Promise.resolve(cn).then(function(ut){Ve({value:ut,done:nt})},et)}(nt,cn,(et=ae[Ve](et)).done,et.value)})}}}M.d(ke,{FC:()=>ge,KL:()=>ct,mG:()=>ne,qq:()=>we}),"function"==typeof SuppressedError&&SuppressedError}},Pt=>{var ke=g=>Pt(Pt.s=g);ke(9713),ke(6034)}]);
//# sourceMappingURL=main.45991f7f8ab1b094.js.map