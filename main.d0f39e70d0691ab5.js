(self.webpackChunkSkyGame_Planner=self.webpackChunkSkyGame_Planner||[]).push([[179],{1357:(bt,ke,S)=>{"use strict";S.d(ke,{T:()=>p});class p{static create(){return{c:0,h:0,sc:0,sh:0,ac:0,ec:0}}static isEmpty(z){return!(z.c||z.h||z.sc||z.sh||z.ec||z.ac)}static add(z,...te){for(const W of te)W.c&&(z.c=(z.c||0)+W.c),W.h&&(z.h=(z.h||0)+W.h),W.sc&&(z.sc=(z.sc||0)+W.sc),W.sh&&(z.sh=(z.sh||0)+W.sh),W.ac&&(z.ac=(z.ac||0)+W.ac),W.ec&&(z.ec=(z.ec||0)+W.ec);return z}static subtract(z,...te){for(const W of te)W.c&&(z.c=(z.c||0)-W.c),W.h&&(z.h=(z.h||0)-W.h),W.sc&&(z.sc=(z.sc||0)-W.sc),W.sh&&(z.sh=(z.sh||0)-W.sh),W.ac&&(z.ac=(z.ac||0)-W.ac),W.ec&&(z.ec=(z.ec||0)-W.ec);return z}static invert(z){return z.c&&(z.c=-z.c),z.h&&(z.h=-z.h),z.sc&&(z.sc=-z.sc),z.sh&&(z.sh=-z.sh),z.ac&&(z.ac=-z.ac),z.ec&&(z.ec=-z.ec),z}}},6841:(bt,ke,S)=>{"use strict";S.d(ke,{O:()=>z});var p=S(292),Q=S.n(p);let z=(()=>{class te{static#e=this.skyTimeZone="America/Los_Angeles";static#t=this.displayFormats=["DD-MM-YYYY","DD/MM/YYYY","MM-DD-YYYY","MM/DD/YYYY","YYYY-MM-DD","YYYY/MM/DD"];static isActive(e,K){const Le=Q()(),oe=Q().tz(e),re=Q().tz(K);return Le.isAfter(oe)&&Le.isBefore(re)}static fromInterfaceLocal(e){if(e)return Q().isDayjs(e)?e:Q()(`${e.year}-${e.month}-${e.day}`)}static fromInterfaceSky(e){if(e)return Q().isDayjs(e)?e:Q().tz(`${e.year}-${e.month}-${e.day}`)}static fromStringLocal(e){if(e)return Q().isDayjs(e)?e:Q()(e)}static fromStringSky(e){if(e)return Q().isDayjs(e)?e:Q().tz(e)}static daysBetween(e,K){const Le=Math.abs(e.diff(K,"hour"));return Math.floor(Le/24)}static getStateFromPeriod(e,K,Le){return Le??=Q()(),e.isAfter(Le)?"future":Le.isAfter(K)?"ended":"active"}}return te})()},3311:(bt,ke,S)=>{"use strict";S.d(ke,{f:()=>p});class p{static find(z,te){return te(z)?z:z?.nw&&this.find(z.nw,te)||z?.ne&&this.find(z.ne,te)||z?.n&&this.find(z.n,te)||void 0}static getRoot(z){if(!z)return z;for(;z.prev;)z=z.prev;return z}static all(z,te){return te??=[],z&&(te.push(z),z.nw&&this.all(z.nw,te),z.ne&&this.all(z.ne,te),z.n&&this.all(z.n,te)),te}static getItems(z,te){const W=new Set;return this.all(z).filter(e=>e.item).forEach(e=>{W.add(e.item),te&&e.hiddenItems?.forEach(K=>W.add(K))}),[...W]}static trace(z){const te=[];for(;z;)te.push(z),z=z.prev;return te.reverse()}}},8460:(bt,ke,S)=>{"use strict";S.d(ke,{q:()=>p});var p=function(Q){return Q.Hat="Hat",Q.Hair="Hair",Q.Mask="Mask",Q.FaceAccessory="FaceAccessory",Q.Necklace="Necklace",Q.Outfit="Outfit",Q.Shoes="Shoes",Q.Cape="Cape",Q.Instrument="Instrument",Q.Held="Held",Q.Prop="Prop",Q.Emote="Emote",Q.Stance="Stance",Q.Call="Call",Q.Spell="Spell",Q.Music="Music",Q.Quest="Quest",Q.WingBuff="WingBuff",Q.Special="Special",Q}(p||{})},3740:(bt,ke,S)=>{"use strict";S.d(ke,{D:()=>De});var p=S(3947),Q=S.n(p),z=S(1699),te=S(5400),W=S(4300),e=S(6841),K=S(3311),Le=S(292),oe=S.n(Le),re=S(1357);class fe{static getItemsByEvent(ze,ee){const Xe=window.skyData.eventConfig.items.find(pe=>pe.name===ze),nt=[],Ce=new Set;return Xe?.instances?.forEach(pe=>{pe.spirits?.forEach(de=>{const Ge=K.f.getItems(de.tree.node).filter(Oe=>!Ce.has(Oe)&&Ce.add(Oe));ee?nt.push(...Ge.filter(Oe=>Oe.type===ee)):nt.push(...Ge)}),pe.shops?.forEach(de=>{de.iaps?.forEach(Ge=>{const Oe=Ge.items?.filter(Pe=>!Ce.has(Pe)&&Ce.add(Pe))||[];ee?nt.push(...Oe.filter(Pe=>Pe.type===ee)):nt.push(...Oe)})})}),nt.sort((pe,de)=>(pe.order||99999)-(de.order||99999)),nt}}var ne=S(4860),ge=S(9140);let De=(()=>{class xe{constructor(ee,Me){this._httpClient=ee,this._storageService=Me,this.guidMap=new Map,this.onData=new te.t,this.loadData().add(()=>{this.exposeData()})}loadData(){const ee=Me=>this._httpClient.get(`assets/data/${Me}`,{responseType:"text"});return(0,W.D)({areaConfig:ee("areas.json"),eventConfig:ee("events.json"),itemConfig:ee("items.json"),nodeConfig:ee("nodes.json"),questConfig:ee("quests.json"),realmConfig:ee("realms.json"),seasonConfig:ee("seasons.json"),shopConfig:ee("shops.json"),iapConfig:ee("iaps.json"),spiritConfig:ee("spirits.json"),spiritTreeConfig:ee("spirit-trees.json"),travelingSpiritConfig:ee("traveling-spirits.json"),returningSpiritsConfig:ee("returning-spirits.json"),wingedLightConfig:ee("winged-lights.json")}).subscribe({next:Me=>{this.onConfigs(Me)},error:Me=>console.error(Me)})}onConfigs(ee){const Me=Object.keys(ee).map(Xe=>{const nt=Q().parse(ee[Xe]);return this[Xe]=nt,nt});this.initializeGuids(Me),console.debug(`Loaded ${Me.length} configs.`),this.initializeRealms(),this.initializeAreas(),this.initializeSeasons(),this.initializeSpirits(),this.initializeTravelingSpirits(),this.initializeReturningSpirits(),this.initializeSpiritTrees(),this.initializeEvents(),this.initializeShops(),this.initializeItems(),this.initializeSeasonItems(),this.initializeWingedLight(),this._storageService.save(),(0,z.X6Q)()&&this.validate(),this.onData.next(),this.onData.complete()}initializeRealms(){this.realmConfig.items.forEach(ee=>{ee.areas?.forEach((Me,Xe)=>{Me=this.guidMap.get(Me),ee.areas[Xe]=Me,Me.realm=ee})})}initializeAreas(){this.areaConfig.items.forEach(ee=>{ee.spirits?.forEach((Me,Xe)=>{Me=this.guidMap.get(Me),ee.spirits[Xe]=Me,Me.area=ee}),ee.wingedLights?.forEach((Me,Xe)=>{Me=this.guidMap.get(Me),ee.wingedLights[Xe]=Me,Me.area=ee})})}initializeSeasons(){this.seasonConfig.items.forEach((ee,Me)=>{ee.number=Me+1,ee.date=e.O.fromStringSky(ee.date),ee.endDate=e.O.fromStringSky(ee.endDate).endOf("day"),ee.spirits?.forEach((Xe,nt)=>{Xe=this.guidMap.get(Xe),ee.spirits[nt]=Xe,Xe.season=ee}),ee.shops?.forEach((Xe,nt)=>{Xe=this.guidMap.get(Xe),ee.shops[nt]=Xe,Xe.season=ee})})}initializeSpirits(){this.spiritConfig.items.forEach((ee,Me)=>{if(ee._index=Me,ee.tree){const Xe=this.guidMap.get(ee.tree);Xe.spirit=ee,ee.tree=Xe}})}initializeTravelingSpirits(){const ee={};this.travelingSpiritConfig.items.forEach((Me,Xe)=>{Me.date=e.O.fromInterfaceSky(Me.date),Me.endDate=e.O.fromInterfaceSky(Me.endDate)?.endOf("day")??oe()(Me.date).add(3,"day").endOf("day");const nt=this.guidMap.get(Me.spirit);Me.spirit=nt,nt.ts??=[],nt.ts.push(Me),ee[nt.name]??=0,ee[nt.name]++,Me.number=Xe+1,Me.visit=ee[nt.name];const Ce=this.guidMap.get(Me.tree);Me.tree=Ce,Ce.ts=Me})}initializeReturningSpirits(){this.returningSpiritsConfig.items.forEach((ee,Me)=>{if(ee.date=e.O.fromInterfaceSky(ee.date),ee.endDate=e.O.fromInterfaceSky(ee.endDate).endOf("day"),ee.area){const Xe=this.guidMap.get(ee.area);ee.area=Xe,Xe.rs??=[],Xe.rs.push(ee)}ee.spirits?.forEach((Xe,nt)=>{this.registerGuid(Xe),Xe.return=ee;const Ce=this.guidMap.get(Xe.spirit);ee.spirits[nt].spirit=Ce,Ce.returns??=[],Ce.returns.push(Xe);const pe=this.guidMap.get(Xe.tree);ee.spirits[nt].tree=pe,pe.visit=Xe})})}initializeSpiritTrees(){this.spiritTreeConfig.items.forEach(ee=>{const Me=this.guidMap.get(ee.node);Me||console.error("Node not found",ee.node),ee.node=Me,Me.spiritTree=ee,this.initializeNode(Me)})}initializeNode(ee,Me){const Xe=nt=>{const Ce=this.guidMap.get(nt);return this.initializeNode(Ce,ee)};if(Me&&(ee.prev=Me),"string"==typeof ee.n&&(ee.n=Xe(ee.n)),"string"==typeof ee.nw&&(ee.nw=Xe(ee.nw)),"string"==typeof ee.ne&&(ee.ne=Xe(ee.ne)),"string"==typeof ee.item){const nt=this.guidMap.get(ee.item);nt||console.error("Node item not found",ee,ee.item),ee.item=nt,nt.nodes??=[],nt.nodes.push(ee)}return ee.unlocked=this._storageService.unlocked.has(ee.guid),ee.hiddenItems?.length&&ee.hiddenItems.forEach((nt,Ce)=>{if("string"!=typeof nt)return;const pe=this.guidMap.get(nt);pe||console.error("Node hidden item not found",ee,nt),ee.hiddenItems[Ce]=pe,pe.hiddenNodes??=[],pe.hiddenNodes.push(ee),ee.unlocked&&(pe.unlocked=!0,this._storageService.unlocked.add(pe.guid))}),ee}initializeEvents(){this.eventConfig.items.forEach(ee=>{ee.instances?.forEach((Me,Xe)=>{this.registerGuid(Me),Me.number=Xe+1,Me.date=e.O.fromInterfaceSky(Me.date),Me.endDate=e.O.fromInterfaceSky(Me.endDate).endOf("day"),Me.event=ee,Me.shops?.forEach((nt,Ce)=>{nt=this.guidMap.get(nt),Me.shops[Ce]=nt,nt.event=Me}),Me.spirits?.forEach(nt=>{nt.eventInstance=Me;const Ce=this.guidMap.get(nt.spirit);Ce||console.error("Spirit not found",nt.spirit),nt.spirit=Ce,nt.spirit.events=[],nt.spirit.events.push(nt);const pe=this.guidMap.get(nt.tree);pe||console.error("Tree not found",nt.tree),nt.tree=pe,pe.eventInstanceSpirit=nt})})})}initializeShops(){this.shopConfig.items.forEach(ee=>{if(ee.spirit){const Me=this.guidMap.get(ee.spirit);ee.spirit=Me,Me.shops??=[],Me.shops.push(ee)}ee.iaps?.forEach((Me,Xe)=>{Me=this.guidMap.get(Me),ee.iaps[Xe]=Me,Me.shop=ee,Me.bought=this._storageService.unlocked.has(Me.guid),Me.items?.forEach((nt,Ce)=>{const pe=this.guidMap.get(nt);pe||console.error("Item not found",nt),Me.items[Ce]=pe,pe.iaps??=[],pe.iaps.push(Me),Me.bought&&(pe.unlocked=!0,this._storageService.unlocked.add(pe.guid))})})})}initializeItems(){this.itemConfig.items.forEach(ee=>{ee.unlocked||=this._storageService.unlocked.has(ee.guid),ee.order??=999999})}initializeSeasonItems(){for(const ee of this.seasonConfig.items){for(const Me of ee.spirits??[])if(Me?.tree?.node)for(const Xe of K.f.getItems(Me.tree.node,!0))Xe.season=ee;for(const Me of ee.shops??[])for(const Xe of Me.iaps??[])for(const nt of Xe.items??[])nt.season=ee}}initializeWingedLight(){this.wingedLightConfig.items.forEach(ee=>{ee.unlocked=this._storageService.unlockedCol.has(ee.guid)})}exposeData(){window.skyData={areaConfig:this.areaConfig,spiritTreeConfig:this.spiritTreeConfig,eventConfig:this.eventConfig,itemConfig:this.itemConfig,nodeConfig:this.nodeConfig,questConfig:this.questConfig,realmConfig:this.realmConfig,seasonConfig:this.seasonConfig,shopConfig:this.shopConfig,spiritConfig:this.spiritConfig,travelingSpiritConfig:this.travelingSpiritConfig,returningSpiritsConfig:this.returningSpiritsConfig,wingedLightConfig:this.wingedLightConfig},window.skyGuids=this.guidMap,window.NodeHelper=K.f,window.DateHelper=e.O,window.CostHelper=re.T,window.ItemHelper=fe;const ee="color:cyan;";console.log("To view loaded data, see %cwindow.skyData%c.",ee,""),console.log("You can also use the helpers %cNodeHelper%c, %cDateHelper%c and %cCostHelper%c.",ee,"",ee,"",ee,"")}reloadUnlocked(){this.itemConfig.items.forEach(ee=>{ee.unlocked=this._storageService.unlocked.has(ee.guid)}),this.nodeConfig.items.forEach(ee=>{ee.unlocked=this._storageService.unlocked.has(ee.guid)}),this.wingedLightConfig.items.forEach(ee=>{ee.unlocked=this._storageService.unlockedCol.has(ee.guid)})}initializeGuids(ee){for(const Me of ee)Me.items.forEach(Xe=>this.registerGuid(Xe))}registerGuid(ee){if(!ee.guid)throw new Error(`GUID not defined on: ${JSON.stringify(ee)}`);if(10!==ee.guid.length&&console.error("GUID unexpected length:",ee.guid),this.guidMap.has(ee.guid))throw new Error(`GUID ${ee.guid} already registered!`);this.guidMap.set(ee.guid,ee)}validate(){const ee=new Set(this.areaConfig.items.flatMap(Xe=>Xe.wingedLights||[]).map(Xe=>Xe.guid)),Me=this.wingedLightConfig.items.filter(Xe=>!ee.has(Xe.guid));Me.length&&console.error("Winged Light not found in areas:",Me)}static#e=this.\u0275fac=function(Me){return new(Me||xe)(z.LFG(ne.eN),z.LFG(ge.V))};static#t=this.\u0275prov=z.Yz7({token:xe,factory:xe.\u0275fac,providedIn:"root"})}return xe})()},9140:(bt,ke,S)=>{"use strict";S.d(ke,{V:()=>Q});var p=S(1699);let Q=(()=>{class z{constructor(){this.unlocked=new Set,this.unlockedCol=new Set,this.initializeItems(),this.initializeCol()}initializeItems(){const W=localStorage.getItem("unlocked");(W?.length&&W.split(",")||[]).forEach(K=>this.unlocked.add(K))}add(...W){W?.forEach(e=>this.unlocked.add(e))}remove(...W){W?.forEach(e=>this.unlocked.delete(e))}serializeUnlocked(){return[...this.unlocked].join(",")}save(){const W=this.serializeUnlocked();localStorage.setItem("unlocked",W)}initializeCol(){const W=localStorage.getItem("col.unlocked");(W?.length&&W.split(",")||[]).forEach(K=>this.unlockedCol.add(K))}addCol(...W){W?.forEach(e=>this.unlockedCol.add(e))}removeCol(...W){W?.forEach(e=>this.unlockedCol.delete(e))}serializeUnlockedCol(){return[...this.unlockedCol].join(",")}saveCol(){const W=this.serializeUnlockedCol();localStorage.setItem("col.unlocked",W)}static#e=this.\u0275fac=function(e){return new(e||z)};static#t=this.\u0275prov=p.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})()},7849:(bt,ke,S)=>{"use strict";var p=S(6480),Q=S(4860),z=S(140),te=S(1134),W=S(7723),e=S(1699),K=S(6575);function Le(o,f){1&o&&(e.TgZ(0,"div",30),e._UZ(1,"img",31),e.qZA())}function oe(o,f){1&o&&e.GkF(0)}function re(o,f){1&o&&e.GkF(0)}function fe(o,f){1&o&&e.GkF(0)}let ne=(()=>{class o{static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-credits"]],decls:119,vars:3,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2"],[1,"sky-card","mt"],[1,"h3"],[1,"sky-card-body"],[1,"container","ws-pl"],["href","https://github.com/Silverfeelin/SkyGame-Planner/","target","_blank"],["href","https://github.com/Silverfeelin/SkyGame-Planner/blob/master/LICENSE","target","_blank"],["href","https://www.thatskygame.com/","target","_blank"],["href","https://thatgamecompany.com/","target","_blank"],["href","https://github.com/Silverfeelin/SkyGame-Planner/blob/master/package.json","target","_blank"],["href","https://www.npmjs.com/","target","_blank"],["discord",""],["href","https://sky-children-of-the-light.fandom.com/wiki/Sky:_Children_of_the_Light_Wiki","target","_blank"],["href","https://www.fandom.com/licensing","target","_blank"],[1,"mb-0"],["href","https://sky-children-of-the-light.fandom.com/wiki/Special:Community"],[1,"flex-credits"],[1,"flex-credit"],[1,"credit-name"],[1,"credit-handle","c-accent"],[4,"ngTemplateOutlet"],[1,"credit-handle-name"],[1,"container","ws-pl","mt"],["href","https://www.youtube.com/channel/UCTdBaJiejXA0WSOkPX0YO0w","target","_blank"],["href","https://www.youtube.com/@noobmode","target","_blank"],["href","https://www.youtube.com/@AppUnwrapper","target","_blank"],["href","https://www.youtube.com/@SkyBat","target","_blank"],["href","https://github.com/Silverfeelin/SkyGame-Planner/issues?q=is%3Aissue","target","_blank"],[1,"d-inline-block"],["src","assets/external/discord-mark-blue.svg","loading","lazy",1,"img-discord"]],template:function(a,l){if(1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Credits"),e.qZA()()(),e.TgZ(4,"div",3)(5,"div",1)(6,"h2",4)(7,"mat-icon"),e._uU(8,"note"),e.qZA(),e._uU(9," License "),e.qZA()(),e.TgZ(10,"div",5)(11,"div",6)(12,"p"),e._uU(13," Source code is publicly available "),e.TgZ(14,"a",7),e._uU(15,"on GitHub"),e.qZA(),e._uU(16," under the "),e.TgZ(17,"a",8),e._uU(18,"MIT License"),e.qZA(),e._uU(19,". "),e.qZA(),e.TgZ(20,"p"),e._uU(21," This project hosts some media and screenshots captured from the game "),e.TgZ(22,"a",9),e._uU(23,"Sky: Children of the Light"),e.qZA(),e._uU(24," developed by "),e.TgZ(25,"a",10),e._uU(26,"thatgamecompany"),e.qZA(),e._uU(27,"."),e._UZ(28,"br"),e._uU(29," Aforementioned license covers which assets are excluded from the terms of the license. "),e.qZA(),e.TgZ(30,"p"),e._uU(31," Sky Planner is non-commercial, is not affiliated with thatgamecompany and is made available for informational purposes. "),e.qZA(),e.TgZ(32,"p"),e._uU(33," This project uses many public packages. These are listed in the "),e.TgZ(34,"a",11),e._uU(35,"package.json"),e.qZA(),e._uU(36," file."),e._UZ(37,"br"),e._uU(38," For respective licenses, please look up the packages on "),e.TgZ(39,"a",12),e._uU(40,"npm"),e.qZA(),e._uU(41,". "),e.qZA()()()(),e.YNc(42,Le,2,0,"ng-template",null,13,e.W1O),e.TgZ(44,"div",3)(45,"div",1)(46,"h2",4)(47,"mat-icon"),e._uU(48,"favorite"),e.qZA(),e._uU(49," Attribution "),e.qZA()(),e.TgZ(50,"div",5)(51,"div",6)(52,"p"),e._uU(53," Various images such as item icons and spirits are loaded directly from the "),e.TgZ(54,"a",14),e._uU(55,"Sky: Children of the Light Fandom wiki"),e.qZA(),e._uU(56,"."),e._UZ(57,"br"),e._uU(58," This project only links to the original assets. For more information refer to "),e.TgZ(59,"a",15),e._uU(60,"Fandom licensing page"),e.qZA(),e._uU(61,"."),e._UZ(62,"br"),e.qZA(),e.TgZ(63,"p",16),e._uU(64," A special thanks to the wiki contributors for all their hard work and for giving me permission to show images from the wiki on Sky Planner. You can find out more about "),e.TgZ(65,"a",17),e._uU(66,"the wiki contributors here"),e.qZA(),e._uU(67,"."),e._UZ(68,"br"),e._uU(69," In particular many icons on the wiki are contributed to the wiki by: "),e.qZA(),e.TgZ(70,"div",18)(71,"div",19)(72,"div",20),e._uU(73,"Morybel"),e.qZA(),e.TgZ(74,"div",21),e.YNc(75,oe,1,0,"ng-container",22),e.TgZ(76,"span",23),e._uU(77,"morybel"),e.qZA()()(),e.TgZ(78,"div",19)(79,"div",20),e._uU(80,"Mimi"),e.qZA(),e.TgZ(81,"div",21),e.YNc(82,re,1,0,"ng-container",22),e.TgZ(83,"span",23),e._uU(84,"mimi4117"),e.qZA()()(),e.TgZ(85,"div",19)(86,"div",20),e._uU(87,"Ray"),e.qZA(),e.TgZ(88,"div",21),e.YNc(89,fe,1,0,"ng-container",22),e.TgZ(90,"span",23),e._uU(91,"ray808080"),e.qZA()()()()(),e.TgZ(92,"div",24)(93,"p"),e._uU(94," Some Traveling Spirit price corrections were made based on infographics by Jed#9275 (new Discord handle unknown). "),e.qZA(),e.TgZ(95,"p"),e._uU(96," Some YouTube videos by "),e.TgZ(97,"a",25),e._uU(98,"nastymold"),e.qZA(),e._uU(99,", "),e.TgZ(100,"a",26),e._uU(101,"Noob Mode"),e.qZA(),e._uU(102,", "),e.TgZ(103,"a",27),e._uU(104,"App Unwrapper"),e.qZA(),e._uU(105," and "),e.TgZ(106,"a",28),e._uU(107,"Sky Bat"),e.qZA(),e._uU(108," were used as a reference to find missing information for older events."),e._UZ(109,"br"),e._uU(110," Go check out their content! "),e.qZA(),e.TgZ(111,"p"),e._uU(112," Thank you for the suggestions to improve Sky Planner:"),e._UZ(113,"br"),e._uU(114," Daw, Morybel, oWishy "),e.TgZ(115,"i")(116,"a",29),e._uU(117,"and more"),e.qZA()(),e._uU(118,". "),e.qZA()()()()),2&a){const _=e.MAs(43);e.xp6(75),e.Q6J("ngTemplateOutlet",_),e.xp6(7),e.Q6J("ngTemplateOutlet",_),e.xp6(7),e.Q6J("ngTemplateOutlet",_)}},dependencies:[K.tP,z.Hw],styles:[".img-discord[_ngcontent-%COMP%]{height:20px}.flex-credits[_ngcontent-%COMP%]{margin-top:var(--padding-content);display:flex;gap:var(--padding-content)}.flex-credit[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:start;gap:4px;text-decoration:none;padding:var(--padding-content)}.flex-credit[_ngcontent-%COMP%]:link{cursor:pointer}.credit-name[_ngcontent-%COMP%]{text-align:left;font-weight:700}.credit-handle-name[_ngcontent-%COMP%]{padding-left:6px}.credit-handle[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:link{color:var(--color-accent);text-decoration:none}.credit-handle[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:link:hover{color:var(--color-link-hover)}"]})}return o})();var ge=S(6841),De=S(3311),xe=S(3740);let ze=(()=>{class o{constructor(n){this._zone=n,this._copyItem=!1,this._copyNode=!1,this._copyShop=!1,window.debug=this}set copyItem(n){this._zone.run(()=>{this._copyItem=!!n})}get copyItem(){return this._copyItem}set copyNode(n){this._zone.run(()=>{this._copyNode=!!n})}get copyNode(){return this._copyNode}set copyShop(n){this._zone.run(()=>{this._copyShop=!!n})}get copyShop(){return this._copyShop}static#e=this.\u0275fac=function(a){return new(a||o)(e.LFG(e.R0b))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var ee=S(9877);let Me=(()=>{class o{constructor(n){this._router=n,this.itemToggled=new ee.x,this.searchReset=new ee.x,document.addEventListener("keydown",a=>{this.onKeyDown(a)})}toggleItem(n){this.itemToggled.next(n)}onKeyDown(n){n.ctrlKey&&n.shiftKey&&"F"===n.key.toUpperCase()&&(n.preventDefault(),this.searchReset.next(),"/"!==(this._router.url.split("?")[0]||"/")&&this._router.navigate(["/"],{skipLocationChange:!1,queryParams:{focus:"1"}}))}static#e=this.\u0275fac=function(a){return new(a||o)(e.LFG(W.F0))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var Xe=S(9140);let nt=(()=>{class o{constructor(n,a){this._eventService=n,this._storageService=a}togglePurchased(n){n&&(n.bought?this.lockIap(n):this.unlockIap(n),n.items?.forEach(l=>{this._eventService.toggleItem(l)}))}unlockIap(n){if(n.items?.find(l=>l.unlocked)&&!confirm("This IAP contains an item that is already unlocked. Do you want to continue?"))return;const a=[n.guid];n.bought=!0,n.items?.forEach(l=>{l.unlocked=!0,a.push(l.guid)}),this._storageService.add(...a),this._storageService.save()}lockIap(n){const a=[n.guid];n.bought=!1,n.items?.forEach(l=>{l.unlocked=!!l.iaps?.find(_=>_.bought),l.unlocked||a.push(l.guid)}),this._storageService.remove(...a),this._storageService.save()}static#e=this.\u0275fac=function(a){return new(a||o)(e.LFG(Me),e.LFG(Xe.V))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var Ce=S(2235),pe=S(6290),de=S(4980),Ge=S(384),Oe=S(9912),Pe=S(1287),$e=S(2602),He=S(7825);const ft=["addListener","removeListener"],Fe=["addEventListener","removeEventListener"],Bt=["on","off"];function ut(o,f,n,a){if((0,$e.m)(n)&&(a=n,n=void 0),a)return ut(o,f,n).pipe((0,He.Z)(a));const[l,_]=function ce(o){return(0,$e.m)(o.addEventListener)&&(0,$e.m)(o.removeEventListener)}(o)?Fe.map(M=>U=>o[M](f,U,n)):function Re(o){return(0,$e.m)(o.addListener)&&(0,$e.m)(o.removeListener)}(o)?ft.map(pt(o,f)):function ct(o){return(0,$e.m)(o.on)&&(0,$e.m)(o.off)}(o)?Bt.map(pt(o,f)):[];if(!l&&(0,Pe.z)(o))return(0,Oe.z)(M=>ut(M,f,n))((0,Ge.Xf)(o));if(!l)throw new TypeError("Invalid event target");return new Ce.y(M=>{const U=(...q)=>M.next(1<q.length?q:q[0]);return l(U),()=>_(U)})}function pt(o,f){return n=>a=>o[n](f,a)}var he=S(1826),Se=S(7426);function Ae(o=0,f,n=he.P){let a=-1;return null!=f&&((0,Se.K)(f)?n=f:a=f),new Ce.y(l=>{let _=function we(o){return o instanceof Date&&!isNaN(o)}(o)?+o-n.now():o;_<0&&(_=0);let M=0;return n.schedule(function(){l.closed||(l.next(M++),0<=a?this.schedule(void 0,a):l.complete())},_)})}const{isArray:Ye}=Array;function rt(o){return 1===o.length&&Ye(o[0])?o[0]:o}var ot=S(5678);function pn(...o){return 1===(o=rt(o)).length?(0,Ge.Xf)(o[0]):new Ce.y(function gt(o){return f=>{let n=[];for(let a=0;n&&!f.closed&&a<o.length;a++)n.push((0,Ge.Xf)(o[a]).subscribe((0,ot.x)(f,l=>{if(n){for(let _=0;_<n.length;_++)_!==a&&n[_].unsubscribe();n=null}f.next(l)})))}}(o))}var ln=S(7835),zt=S(6190);function xt(...o){const f=(0,zt.jO)(o),n=rt(o);return n.length?new Ce.y(a=>{let l=n.map(()=>[]),_=n.map(()=>!1);a.add(()=>{l=_=null});for(let M=0;!a.closed&&M<n.length;M++)(0,Ge.Xf)(n[M]).subscribe((0,ot.x)(a,U=>{if(l[M].push(U),l.every(q=>q.length)){const q=l.map(ye=>ye.shift());a.next(f?f(...q):q),l.some((ye,Ve)=>!ye.length&&_[Ve])&&a.complete()}},()=>{_[M]=!0,!l[M].length&&a.complete()}));return()=>{l=_=null}}):pe.E}var xn=S(5823),me=S(274),_e=S(4520),je=S(1527),Qe=S(3738),_t=S(9736),Rt=S(4114),gn=S(204),un=S(2707);function Lt(...o){const f=(0,zt.jO)(o);return(0,Rt.e)((n,a)=>{const l=o.length,_=new Array(l);let M=o.map(()=>!1),U=!1;for(let q=0;q<l;q++)(0,Ge.Xf)(o[q]).subscribe((0,ot.x)(a,ye=>{_[q]=ye,!U&&!M[q]&&(M[q]=!0,(U=M.every(gn.y))&&(M=null))},un.Z));n.subscribe((0,ot.x)(a,q=>{if(U){const ye=[q,..._];a.next(f?f(...ye):ye)}}))})}var Nt=S(8037);function Fn(o,f){return f?n=>(0,xn.z)(f.pipe((0,je.q)(1),function Mt(){return(0,Rt.e)((o,f)=>{o.subscribe((0,ot.x)(f,un.Z))})}()),n.pipe(Fn(o))):(0,Oe.z)((n,a)=>o(n,a).pipe((0,je.q)(1),(0,Nt.h)(n)))}function li(o,f=he.z){const n=Ae(o,f);return Fn(()=>n)}var an=S(1891),bn=(S(5043),S(3317),S(5357),S(5584)),mn=(S(8849),{left:"right",right:"left",bottom:"top",top:"bottom"});function Ri(o){return o.replace(/left|right|bottom|top/g,function(f){return mn[f]})}function Ei(o){return o.split("-")[0]}var Hi={start:"end",end:"start"};function Fi(o){return o.replace(/start|end/g,function(f){return Hi[f]})}var $n="top",Qn="bottom",In="right",ai="left",Li="auto",Qi=[$n,Qn,In,ai],$i="start",io="end",dt="viewport",We="popper",V=Qi.reduce(function(o,f){return o.concat([f+"-"+$i,f+"-"+io])},[]),se=[].concat(Qi,[Li]).reduce(function(o,f){return o.concat([f,f+"-"+$i,f+"-"+io])},[]),Ie=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function it(o){if(null==o)return window;if("[object Window]"!==o.toString()){var f=o.ownerDocument;return f&&f.defaultView||window}return o}function Dt(o){return o instanceof it(o).Element||o instanceof Element}function At(o){return o instanceof it(o).HTMLElement||o instanceof HTMLElement}function kt(o){return!(typeof ShadowRoot>"u")&&(o instanceof it(o).ShadowRoot||o instanceof ShadowRoot)}function Xt(o){return((Dt(o)?o.ownerDocument:o.document)||window.document).documentElement}var cn=Math.max,yi=Math.min,_n=Math.round;function Gn(){var o=navigator.userAgentData;return null!=o&&o.brands?o.brands.map(function(f){return f.brand+"/"+f.version}).join(" "):navigator.userAgent}function Qt(){return!/^((?!chrome|android).)*safari/i.test(Gn())}function Zn(o,f,n){void 0===f&&(f=!1),void 0===n&&(n=!1);var a=o.getBoundingClientRect(),l=1,_=1;f&&At(o)&&(l=o.offsetWidth>0&&_n(a.width)/o.offsetWidth||1,_=o.offsetHeight>0&&_n(a.height)/o.offsetHeight||1);var U=(Dt(o)?it(o):window).visualViewport,q=!Qt()&&n,ye=(a.left+(q&&U?U.offsetLeft:0))/l,Ve=(a.top+(q&&U?U.offsetTop:0))/_,St=a.width/l,yt=a.height/_;return{width:St,height:yt,top:Ve,right:ye+St,bottom:Ve+yt,left:ye,x:ye,y:Ve}}function ri(o){var f=it(o);return{scrollLeft:f.pageXOffset,scrollTop:f.pageYOffset}}function dn(o){return Zn(Xt(o)).left+ri(o).scrollLeft}function ii(o){return it(o).getComputedStyle(o)}function Yt(o){return o?(o.nodeName||"").toLowerCase():null}function Cn(o){return"html"===Yt(o)?o:o.assignedSlot||o.parentNode||(kt(o)?o.host:null)||Xt(o)}function Ai(o){var f=ii(o);return/auto|scroll|overlay|hidden/.test(f.overflow+f.overflowY+f.overflowX)}function Si(o){return["html","body","#document"].indexOf(Yt(o))>=0?o.ownerDocument.body:At(o)&&Ai(o)?o:Si(Cn(o))}function vi(o,f){var n;void 0===f&&(f=[]);var a=Si(o),l=a===(null==(n=o.ownerDocument)?void 0:n.body),_=it(a),M=l?[_].concat(_.visualViewport||[],Ai(a)?a:[]):a,U=f.concat(M);return l?U:U.concat(vi(Cn(M)))}function oo(o){return["table","td","th"].indexOf(Yt(o))>=0}function Dn(o){return At(o)&&"fixed"!==ii(o).position?o.offsetParent:null}function Gi(o){for(var f=it(o),n=Dn(o);n&&oo(n)&&"static"===ii(n).position;)n=Dn(n);return n&&("html"===Yt(n)||"body"===Yt(n)&&"static"===ii(n).position)?f:n||function wn(o){var f=/firefox/i.test(Gn());if(/Trident/i.test(Gn())&&At(o)&&"fixed"===ii(o).position)return null;var l=Cn(o);for(kt(l)&&(l=l.host);At(l)&&["html","body"].indexOf(Yt(l))<0;){var _=ii(l);if("none"!==_.transform||"none"!==_.perspective||"paint"===_.contain||-1!==["transform","perspective"].indexOf(_.willChange)||f&&"filter"===_.willChange||f&&_.filter&&"none"!==_.filter)return l;l=l.parentNode}return null}(o)||f}function wo(o,f){var n=f.getRootNode&&f.getRootNode();if(o.contains(f))return!0;if(n&&kt(n)){var a=f;do{if(a&&o.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function Yi(o){return Object.assign({},o,{left:o.x,top:o.y,right:o.x+o.width,bottom:o.y+o.height})}function Xo(o,f,n){return f===dt?Yi(function Rn(o,f){var n=it(o),a=Xt(o),l=n.visualViewport,_=a.clientWidth,M=a.clientHeight,U=0,q=0;if(l){_=l.width,M=l.height;var ye=Qt();(ye||!ye&&"fixed"===f)&&(U=l.offsetLeft,q=l.offsetTop)}return{width:_,height:M,x:U+dn(o),y:q}}(o,n)):Dt(f)?function vs(o,f){var n=Zn(o,!1,"fixed"===f);return n.top=n.top+o.clientTop,n.left=n.left+o.clientLeft,n.bottom=n.top+o.clientHeight,n.right=n.left+o.clientWidth,n.width=o.clientWidth,n.height=o.clientHeight,n.x=n.left,n.y=n.top,n}(f,n):Yi(function Ii(o){var f,n=Xt(o),a=ri(o),l=null==(f=o.ownerDocument)?void 0:f.body,_=cn(n.scrollWidth,n.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),M=cn(n.scrollHeight,n.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),U=-a.scrollLeft+dn(o),q=-a.scrollTop;return"rtl"===ii(l||n).direction&&(U+=cn(n.clientWidth,l?l.clientWidth:0)-_),{width:_,height:M,x:U,y:q}}(Xt(o)))}function Je(o){return o.split("-")[1]}function Pt(o){return["top","bottom"].indexOf(o)>=0?"x":"y"}function Et(o){var q,f=o.reference,n=o.element,a=o.placement,l=a?Ei(a):null,_=a?Je(a):null,M=f.x+f.width/2-n.width/2,U=f.y+f.height/2-n.height/2;switch(l){case $n:q={x:M,y:f.y-n.height};break;case Qn:q={x:M,y:f.y+f.height};break;case In:q={x:f.x+f.width,y:U};break;case ai:q={x:f.x-n.width,y:U};break;default:q={x:f.x,y:f.y}}var ye=l?Pt(l):null;if(null!=ye){var Ve="y"===ye?"height":"width";switch(_){case $i:q[ye]=q[ye]-(f[Ve]/2-n[Ve]/2);break;case io:q[ye]=q[ye]+(f[Ve]/2-n[Ve]/2)}}return q}function On(o){return Object.assign({},{top:0,right:0,bottom:0,left:0},o)}function Kn(o,f){return f.reduce(function(n,a){return n[a]=o,n},{})}function Xn(o,f){void 0===f&&(f={});var a=f.placement,l=void 0===a?o.placement:a,_=f.strategy,M=void 0===_?o.strategy:_,U=f.boundary,q=void 0===U?"clippingParents":U,ye=f.rootBoundary,Ve=void 0===ye?dt:ye,St=f.elementContext,yt=void 0===St?We:St,Ht=f.altBoundary,Pn=void 0!==Ht&&Ht,fn=f.padding,Jt=void 0===fn?0:fn,jn=On("number"!=typeof Jt?Jt:Kn(Jt,Qi)),Vn=o.rects.popper,pi=o.elements[Pn?yt===We?"reference":We:yt],En=function ui(o,f,n,a){var l="clippingParents"===f?function jo(o){var f=vi(Cn(o)),a=["absolute","fixed"].indexOf(ii(o).position)>=0&&At(o)?Gi(o):o;return Dt(a)?f.filter(function(l){return Dt(l)&&wo(l,a)&&"body"!==Yt(l)}):[]}(o):[].concat(f),_=[].concat(l,[n]),U=_.reduce(function(q,ye){var Ve=Xo(o,ye,a);return q.top=cn(Ve.top,q.top),q.right=yi(Ve.right,q.right),q.bottom=yi(Ve.bottom,q.bottom),q.left=cn(Ve.left,q.left),q},Xo(o,_[0],a));return U.width=U.right-U.left,U.height=U.bottom-U.top,U.x=U.left,U.y=U.top,U}(Dt(pi)?pi:pi.contextElement||Xt(o.elements.popper),q,Ve,M),Mn=Zn(o.elements.reference),ki=Et({reference:Mn,element:Vn,strategy:"absolute",placement:l}),_i=Yi(Object.assign({},Vn,ki)),Pi=yt===We?_i:Mn,go={top:En.top-Pi.top+jn.top,bottom:Pi.bottom-En.bottom+jn.bottom,left:En.left-Pi.left+jn.left,right:Pi.right-En.right+jn.right},Do=o.modifiersData.offset;if(yt===We&&Do){var Ps=Do[l];Object.keys(go).forEach(function(Yo){var Ua=[In,Qn].indexOf(Yo)>=0?1:-1,Ys=[$n,Qn].indexOf(Yo)>=0?"y":"x";go[Yo]+=Ps[Ys]*Ua})}return go}const To={name:"flip",enabled:!0,phase:"main",fn:function No(o){var f=o.state,n=o.options,a=o.name;if(!f.modifiersData[a]._skip){for(var l=n.mainAxis,_=void 0===l||l,M=n.altAxis,U=void 0===M||M,q=n.fallbackPlacements,ye=n.padding,Ve=n.boundary,St=n.rootBoundary,yt=n.altBoundary,Ht=n.flipVariations,Pn=void 0===Ht||Ht,fn=n.allowedAutoPlacements,Jt=f.options.placement,jn=Ei(Jt),Vn=q||(jn!==Jt&&Pn?function Vo(o){if(Ei(o)===Li)return[];var f=Ri(o);return[Fi(o),f,Fi(f)]}(Jt):[Ri(Jt)]),pi=[Jt].concat(Vn).reduce(function(Za,sa){return Za.concat(Ei(sa)===Li?function Ci(o,f){void 0===f&&(f={});var l=f.boundary,_=f.rootBoundary,M=f.padding,U=f.flipVariations,q=f.allowedAutoPlacements,ye=void 0===q?se:q,Ve=Je(f.placement),St=Ve?U?V:V.filter(function(Pn){return Je(Pn)===Ve}):Qi,yt=St.filter(function(Pn){return ye.indexOf(Pn)>=0});0===yt.length&&(yt=St);var Ht=yt.reduce(function(Pn,fn){return Pn[fn]=Xn(o,{placement:fn,boundary:l,rootBoundary:_,padding:M})[Ei(fn)],Pn},{});return Object.keys(Ht).sort(function(Pn,fn){return Ht[Pn]-Ht[fn]})}(f,{placement:sa,boundary:Ve,rootBoundary:St,padding:ye,flipVariations:Pn,allowedAutoPlacements:fn}):sa)},[]),En=f.rects.reference,Mn=f.rects.popper,ki=new Map,_i=!0,Pi=pi[0],go=0;go<pi.length;go++){var Do=pi[go],Ps=Ei(Do),Yo=Je(Do)===$i,Ua=[$n,Qn].indexOf(Ps)>=0,Ys=Ua?"width":"height",Er=Xn(f,{placement:Do,boundary:Ve,rootBoundary:St,altBoundary:yt,padding:ye}),mo=Ua?Yo?In:ai:Yo?Qn:$n;En[Ys]>Mn[Ys]&&(mo=Ri(mo));var Fh=Ri(mo),va=[];if(_&&va.push(Er[Ps]<=0),U&&va.push(Er[mo]<=0,Er[Fh]<=0),va.every(function(Za){return Za})){Pi=Do,_i=!1;break}ki.set(Do,va)}if(_i)for(var Lh=function(sa){var hl=pi.find(function(wu){var Ha=ki.get(wu);if(Ha)return Ha.slice(0,sa).every(function(ja){return ja})});if(hl)return Pi=hl,"break"},Mc=Pn?3:1;Mc>0&&"break"!==Lh(Mc);Mc--);f.placement!==Pi&&(f.modifiersData[a]._skip=!0,f.placement=Pi,f.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function An(o,f,n){return cn(o,yi(f,n))}function en(o){var f=Zn(o),n=o.offsetWidth,a=o.offsetHeight;return Math.abs(f.width-n)<=1&&(n=f.width),Math.abs(f.height-a)<=1&&(a=f.height),{x:o.offsetLeft,y:o.offsetTop,width:n,height:a}}const kn={name:"preventOverflow",enabled:!0,phase:"main",fn:function Oi(o){var f=o.state,n=o.options,a=o.name,l=n.mainAxis,_=void 0===l||l,M=n.altAxis,U=void 0!==M&&M,yt=n.tether,Ht=void 0===yt||yt,Pn=n.tetherOffset,fn=void 0===Pn?0:Pn,Jt=Xn(f,{boundary:n.boundary,rootBoundary:n.rootBoundary,padding:n.padding,altBoundary:n.altBoundary}),jn=Ei(f.placement),Nn=Je(f.placement),Vn=!Nn,pi=Pt(jn),En=function gr(o){return"x"===o?"y":"x"}(pi),Mn=f.modifiersData.popperOffsets,ki=f.rects.reference,_i=f.rects.popper,Pi="function"==typeof fn?fn(Object.assign({},f.rects,{placement:f.placement})):fn,go="number"==typeof Pi?{mainAxis:Pi,altAxis:Pi}:Object.assign({mainAxis:0,altAxis:0},Pi),Do=f.modifiersData.offset?f.modifiersData.offset[f.placement]:null,Ps={x:0,y:0};if(Mn){if(_){var Yo,Ua="y"===pi?$n:ai,Ys="y"===pi?Qn:In,Er="y"===pi?"height":"width",mo=Mn[pi],Fh=mo+Jt[Ua],va=mo-Jt[Ys],ul=Ht?-_i[Er]/2:0,Lh=Nn===$i?ki[Er]:_i[Er],Mc=Nn===$i?-_i[Er]:-ki[Er],dl=f.elements.arrow,Za=Ht&&dl?en(dl):{width:0,height:0},sa=f.modifiersData["arrow#persistent"]?f.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},hl=sa[Ua],wu=sa[Ys],Ha=An(0,ki[Er],Za[Er]),ja=Vn?ki[Er]/2-ul-Ha-hl-go.mainAxis:Lh-Ha-hl-go.mainAxis,N1=Vn?-ki[Er]/2+ul+Ha+wu+go.mainAxis:Mc+Ha+wu+go.mainAxis,Bh=f.elements.arrow&&Gi(f.elements.arrow),k1=Bh?"y"===pi?Bh.clientTop||0:Bh.clientLeft||0:0,fl=null!=(Yo=Do?.[pi])?Yo:0,fm=mo+N1-fl,Uh=An(Ht?yi(Fh,mo+ja-fl-k1):Fh,mo,Ht?cn(va,fm):va);Mn[pi]=Uh,Ps[pi]=Uh-mo}if(U){var pm,Va=Mn[En],Tu="y"===En?"height":"width",gm=Va+Jt["x"===pi?$n:ai],Zh=Va-Jt["x"===pi?Qn:In],Eu=-1!==[$n,ai].indexOf(jn),Hh=null!=(pm=Do?.[En])?pm:0,mm=Eu?gm:Va-ki[Tu]-_i[Tu]-Hh+go.altAxis,jh=Eu?Va+ki[Tu]+_i[Tu]-Hh-go.altAxis:Zh,_m=Ht&&Eu?function Bi(o,f,n){var a=An(o,f,n);return a>n?n:a}(mm,Va,jh):An(Ht?mm:gm,Va,Ht?jh:Zh);Mn[En]=_m,Ps[En]=_m-Va}f.modifiersData[a]=Ps}},requiresIfExists:["offset"]},qr={name:"arrow",enabled:!0,phase:"main",fn:function Mr(o){var f,n=o.state,a=o.name,l=o.options,_=n.elements.arrow,M=n.modifiersData.popperOffsets,U=Ei(n.placement),q=Pt(U),Ve=[ai,In].indexOf(U)>=0?"height":"width";if(_&&M){var St=function(f,n){return On("number"!=typeof(f="function"==typeof f?f(Object.assign({},n.rects,{placement:n.placement})):f)?f:Kn(f,Qi))}(l.padding,n),yt=en(_),Ht="y"===q?$n:ai,Pn="y"===q?Qn:In,fn=n.rects.reference[Ve]+n.rects.reference[q]-M[q]-n.rects.popper[Ve],Jt=M[q]-n.rects.reference[q],jn=Gi(_),Nn=jn?"y"===q?jn.clientHeight||0:jn.clientWidth||0:0,Mn=Nn/2-yt[Ve]/2+(fn/2-Jt/2),ki=An(St[Ht],Mn,Nn-yt[Ve]-St[Pn]);n.modifiersData[a]=((f={})[q]=ki,f.centerOffset=ki-Mn,f)}},effect:function _o(o){var f=o.state,a=o.options.element,l=void 0===a?"[data-popper-arrow]":a;null!=l&&("string"==typeof l&&!(l=f.elements.popper.querySelector(l))||wo(f.elements.popper,l)&&(f.elements.arrow=l))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function rn(o,f,n){void 0===n&&(n=!1);var a=At(f),l=At(f)&&function $t(o){var f=o.getBoundingClientRect(),n=_n(f.width)/o.offsetWidth||1,a=_n(f.height)/o.offsetHeight||1;return 1!==n||1!==a}(f),_=Xt(f),M=Zn(o,l,n),U={scrollLeft:0,scrollTop:0},q={x:0,y:0};return(a||!a&&!n)&&(("body"!==Yt(f)||Ai(_))&&(U=function di(o){return o!==it(o)&&At(o)?function er(o){return{scrollLeft:o.scrollLeft,scrollTop:o.scrollTop}}(o):ri(o)}(f)),At(f)?((q=Zn(f,!0)).x+=f.clientLeft,q.y+=f.clientTop):_&&(q.x=dn(_))),{x:M.left+U.scrollLeft-q.x,y:M.top+U.scrollTop-q.y,width:M.width,height:M.height}}function ci(o){var f=new Map,n=new Set,a=[];function l(_){n.add(_.name),[].concat(_.requires||[],_.requiresIfExists||[]).forEach(function(U){if(!n.has(U)){var q=f.get(U);q&&l(q)}}),a.push(_)}return o.forEach(function(_){f.set(_.name,_)}),o.forEach(function(_){n.has(_.name)||l(_)}),a}function qo(o){var f;return function(){return f||(f=new Promise(function(n){Promise.resolve().then(function(){f=void 0,n(o())})})),f}}var Eo={placement:"bottom",modifiers:[],strategy:"absolute"};function tr(){for(var o=arguments.length,f=new Array(o),n=0;n<o;n++)f[n]=arguments[n];return!f.some(function(a){return!(a&&"function"==typeof a.getBoundingClientRect)})}function Vt(o){void 0===o&&(o={});var n=o.defaultModifiers,a=void 0===n?[]:n,l=o.defaultOptions,_=void 0===l?Eo:l;return function(U,q,ye){void 0===ye&&(ye=_);var Ve={placement:"bottom",orderedModifiers:[],options:Object.assign({},Eo,_),modifiersData:{},elements:{reference:U,popper:q},attributes:{},styles:{}},St=[],yt=!1,Ht={state:Ve,setOptions:function(jn){var Nn="function"==typeof jn?jn(Ve.options):jn;fn(),Ve.options=Object.assign({},_,Ve.options,Nn),Ve.scrollParents={reference:Dt(U)?vi(U):U.contextElement?vi(U.contextElement):[],popper:vi(q)};var Vn=function ro(o){var f=ci(o);return Ie.reduce(function(n,a){return n.concat(f.filter(function(l){return l.phase===a}))},[])}(function ji(o){var f=o.reduce(function(n,a){var l=n[a.name];return n[a.name]=l?Object.assign({},l,a,{options:Object.assign({},l.options,a.options),data:Object.assign({},l.data,a.data)}):a,n},{});return Object.keys(f).map(function(n){return f[n]})}([].concat(a,Ve.options.modifiers)));return Ve.orderedModifiers=Vn.filter(function(Do){return Do.enabled}),function Pn(){Ve.orderedModifiers.forEach(function(Jt){var Nn=Jt.options,pi=Jt.effect;if("function"==typeof pi){var En=pi({state:Ve,name:Jt.name,instance:Ht,options:void 0===Nn?{}:Nn});St.push(En||function(){})}})}(),Ht.update()},forceUpdate:function(){if(!yt){var jn=Ve.elements,Nn=jn.reference,Vn=jn.popper;if(tr(Nn,Vn)){Ve.rects={reference:rn(Nn,Gi(Vn),"fixed"===Ve.options.strategy),popper:en(Vn)},Ve.reset=!1,Ve.placement=Ve.options.placement,Ve.orderedModifiers.forEach(function(Do){return Ve.modifiersData[Do.name]=Object.assign({},Do.data)});for(var En=0;En<Ve.orderedModifiers.length;En++)if(!0!==Ve.reset){var Mn=Ve.orderedModifiers[En],ki=Mn.fn,_i=Mn.options;"function"==typeof ki&&(Ve=ki({state:Ve,options:void 0===_i?{}:_i,name:Mn.name,instance:Ht})||Ve)}else Ve.reset=!1,En=-1}}},update:qo(function(){return new Promise(function(Jt){Ht.forceUpdate(),Jt(Ve)})}),destroy:function(){fn(),yt=!0}};if(!tr(U,q))return Ht;function fn(){St.forEach(function(Jt){return Jt()}),St=[]}return Ht.setOptions(ye).then(function(Jt){!yt&&ye.onFirstUpdate&&ye.onFirstUpdate(Jt)}),Ht}}var ho={passive:!0},ko={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Wr(o){var f,n=o.popper,a=o.popperRect,l=o.placement,_=o.variation,M=o.offsets,U=o.position,q=o.gpuAcceleration,ye=o.adaptive,Ve=o.roundOffsets,St=o.isFixed,yt=M.x,Ht=void 0===yt?0:yt,Pn=M.y,fn=void 0===Pn?0:Pn,Jt="function"==typeof Ve?Ve({x:Ht,y:fn}):{x:Ht,y:fn};Ht=Jt.x,fn=Jt.y;var jn=M.hasOwnProperty("x"),Nn=M.hasOwnProperty("y"),Vn=ai,pi=$n,En=window;if(ye){var Mn=Gi(n),ki="clientHeight",_i="clientWidth";Mn===it(n)&&"static"!==ii(Mn=Xt(n)).position&&"absolute"===U&&(ki="scrollHeight",_i="scrollWidth"),(l===$n||(l===ai||l===In)&&_===io)&&(pi=Qn,fn-=(St&&Mn===En&&En.visualViewport?En.visualViewport.height:Mn[ki])-a.height,fn*=q?1:-1),l!==ai&&(l!==$n&&l!==Qn||_!==io)||(Vn=In,Ht-=(St&&Mn===En&&En.visualViewport?En.visualViewport.width:Mn[_i])-a.width,Ht*=q?1:-1)}var Yo,Do=Object.assign({position:U},ye&&ko),Ps=!0===Ve?function _r(o){var n=o.y,l=window.devicePixelRatio||1;return{x:_n(o.x*l)/l||0,y:_n(n*l)/l||0}}({x:Ht,y:fn}):{x:Ht,y:fn};return Ht=Ps.x,fn=Ps.y,Object.assign({},Do,q?((Yo={})[pi]=Nn?"0":"",Yo[Vn]=jn?"0":"",Yo.transform=(En.devicePixelRatio||1)<=1?"translate("+Ht+"px, "+fn+"px)":"translate3d("+Ht+"px, "+fn+"px, 0)",Yo):((f={})[pi]=Nn?fn+"px":"",f[Vn]=jn?Ht+"px":"",f.transform="",f))}var Po=Vt({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Mo(o){var f=o.state,n=o.instance,a=o.options,l=a.scroll,_=void 0===l||l,M=a.resize,U=void 0===M||M,q=it(f.elements.popper),ye=[].concat(f.scrollParents.reference,f.scrollParents.popper);return _&&ye.forEach(function(Ve){Ve.addEventListener("scroll",n.update,ho)}),U&&q.addEventListener("resize",n.update,ho),function(){_&&ye.forEach(function(Ve){Ve.removeEventListener("scroll",n.update,ho)}),U&&q.removeEventListener("resize",n.update,ho)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function zo(o){var f=o.state;f.modifiersData[o.name]=Et({reference:f.rects.reference,element:f.rects.popper,strategy:"absolute",placement:f.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Ir(o){var f=o.state,n=o.options,a=n.gpuAcceleration,l=void 0===a||a,_=n.adaptive,M=void 0===_||_,U=n.roundOffsets,q=void 0===U||U,Ve={placement:Ei(f.placement),variation:Je(f.placement),popper:f.elements.popper,popperRect:f.rects.popper,gpuAcceleration:l,isFixed:"fixed"===f.options.strategy};null!=f.modifiersData.popperOffsets&&(f.styles.popper=Object.assign({},f.styles.popper,Wr(Object.assign({},Ve,{offsets:f.modifiersData.popperOffsets,position:f.options.strategy,adaptive:M,roundOffsets:q})))),null!=f.modifiersData.arrow&&(f.styles.arrow=Object.assign({},f.styles.arrow,Wr(Object.assign({},Ve,{offsets:f.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:q})))),f.attributes.popper=Object.assign({},f.attributes.popper,{"data-popper-placement":f.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function Br(o){var f=o.state;Object.keys(f.elements).forEach(function(n){var a=f.styles[n]||{},l=f.attributes[n]||{},_=f.elements[n];!At(_)||!Yt(_)||(Object.assign(_.style,a),Object.keys(l).forEach(function(M){var U=l[M];!1===U?_.removeAttribute(M):_.setAttribute(M,!0===U?"":U)}))})},effect:function fo(o){var f=o.state,n={popper:{position:f.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(f.elements.popper.style,n.popper),f.styles=n,f.elements.arrow&&Object.assign(f.elements.arrow.style,n.arrow),function(){Object.keys(f.elements).forEach(function(a){var l=f.elements[a],_=f.attributes[a]||{},U=Object.keys(f.styles.hasOwnProperty(a)?f.styles[a]:n[a]).reduce(function(q,ye){return q[ye]="",q},{});!At(l)||!Yt(l)||(Object.assign(l.style,U),Object.keys(_).forEach(function(q){l.removeAttribute(q)}))})}},requires:["computeStyles"]}]});const yr=["*"],ur=["dialog"];function fi(o){return"string"==typeof o}function on(o){return null!=o}function Ne(o){return(o||document.body).getBoundingClientRect()}const hr={animation:!0,transitionTimerDelayMs:5},vo=()=>{},{transitionTimerDelayMs:Tt}=hr,ti=new Map,yo=(o,f,n,a)=>{let l=a.context||{};const _=ti.get(f);if(_)switch(a.runningTransition){case"continue":return pe.E;case"stop":o.run(()=>_.transition$.complete()),l=Object.assign(_.context,l),ti.delete(f)}const M=n(f,a.animation,l)||vo;if(!a.animation||"none"===window.getComputedStyle(f).transitionProperty)return o.run(()=>M()),(0,de.of)(void 0).pipe(function mt(o){return f=>new Ce.y(n=>f.subscribe({next:M=>o.run(()=>n.next(M)),error:M=>o.run(()=>n.error(M)),complete:()=>o.run(()=>n.complete())}))}(o));const U=new ee.x,q=new ee.x,ye=U.pipe(function vn(...o){return f=>(0,xn.z)(f,(0,de.of)(...o))}(!0));ti.set(f,{transition$:U,complete:()=>{q.next(),q.complete()},context:l});const Ve=function Pr(o){const{transitionDelay:f,transitionDuration:n}=window.getComputedStyle(o);return 1e3*(parseFloat(f)+parseFloat(n))}(f);return o.runOutsideAngular(()=>{const St=ut(f,"transitionend").pipe((0,me.R)(ye),(0,_e.h)(({target:Ht})=>Ht===f));pn(Ae(Ve+Tt).pipe((0,me.R)(ye)),St,q).pipe((0,me.R)(ye)).subscribe(()=>{ti.delete(f),o.run(()=>{M(),U.next(),U.complete()})})}),U.asObservable()};let Yr=(()=>{class o{constructor(){this.animation=hr.animation}static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),tt=(()=>{class o{static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275mod=e.oAB({type:o});static#n=this.\u0275inj=e.cJS({})}return o})(),mi=(()=>{class o{static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275mod=e.oAB({type:o});static#n=this.\u0275inj=e.cJS({})}return o})(),Au=(()=>{class o{static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275mod=e.oAB({type:o});static#n=this.\u0275inj=e.cJS({})}return o})(),Ou=(()=>{class o{static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275mod=e.oAB({type:o});static#n=this.\u0275inj=e.cJS({})}return o})();var Ji=function(o){return o[o.Tab=9]="Tab",o[o.Enter=13]="Enter",o[o.Escape=27]="Escape",o[o.Space=32]="Space",o[o.PageUp=33]="PageUp",o[o.PageDown=34]="PageDown",o[o.End=35]="End",o[o.Home=36]="Home",o[o.ArrowLeft=37]="ArrowLeft",o[o.ArrowUp=38]="ArrowUp",o[o.ArrowRight=39]="ArrowRight",o[o.ArrowDown=40]="ArrowDown",o}(Ji||{});const Ja=(o,f)=>!!f&&f.some(n=>n.contains(o)),tf=(o,f)=>!f||null!=function X(o,f){return!f||typeof o.closest>"u"?null:o.closest(f)}(o,f),nf=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Bu=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function sf(o){const f=Array.from(o.querySelectorAll(Bu)).filter(n=>-1!==n.tabIndex);return[f[0],f[f.length-1]]}let xa=(()=>{class o{constructor(n){this._element=n.documentElement}isRTL(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}static#e=this.\u0275fac=function(a){return new(a||o)(e.LFG(K.K0))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const km=/\s+/,af=/  +/gi,cf={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},Pm=/^left/,Rr=/^right/,Rm=/^start/,lf=/^end/;function uf({placement:o,baseClass:f},n){let a=Array.isArray(o)?o:o.split(km),_=a.findIndex(ye=>"auto"===ye);_>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(ye){null==a.find(Ve=>-1!==Ve.search("^"+ye))&&a.splice(_++,1,ye)});const M=a.map(ye=>function Pc(o,f){const[n,a]=cf[o];return f&&a||n}(ye,n.isRTL()));return{placement:M.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!f,phase:"write",fn({state:ye}){const Ve=new RegExp(f+"(-[a-z]+)*","gi"),St=ye.elements.popper,yt=ye.placement;let Ht=St.className;Ht=Ht.replace(Ve,""),Ht+=` ${function Uu(o,f){let[n,a]=f.split("-");const l=n.replace(Pm,"start").replace(Rr,"end");let _=[l];if(a){let M=a;("left"===n||"right"===n)&&(M=M.replace(Rm,"top").replace(lf,"bottom")),_.push(`${l}-${M}`)}return o&&(_=_.map(M=>`${o}-${M}`)),_.join(" ")}(f,yt)}`,Ht=Ht.trim().replace(af," "),St.className=Ht}},To,kn,qr,{enabled:!0,name:"flip",options:{fallbackPlacements:M}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function Zu(o){return o}new Date(1882,10,12),new Date(2174,10,25);let jm=(()=>{class o{static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275mod=e.oAB({type:o});static#n=this.\u0275inj=e.cJS({})}return o})(),Vm=(()=>{class o{static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275mod=e.oAB({type:o});static#n=this.\u0275inj=e.cJS({})}return o})();class tc{constructor(f,n,a){this.nodes=f,this.viewRef=n,this.componentRef=a}}class Uy{constructor(f,n,a,l,_,M){this._componentType=f,this._injector=n,this._viewContainerRef=a,this._renderer=l,this._ngZone=_,this._applicationRef=M,this._windowRef=null,this._contentRef=null}open(f,n,a=!1){this._windowRef||(this._contentRef=this._getContentRef(f,n),this._windowRef=this._viewContainerRef.createComponent(this._componentType,{injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:l}=this._windowRef.location,_=this._ngZone.onStable.pipe((0,je.q)(1),(0,Oe.z)(()=>yo(this._ngZone,l,({classList:M})=>M.add("show"),{animation:a,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:_}}close(f=!1){return this._windowRef?yo(this._ngZone,this._windowRef.location.nativeElement,({classList:n})=>n.remove("show"),{animation:f,runningTransition:"stop"}).pipe((0,Qe.b)(()=>{this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),this._contentRef?.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):(0,de.of)(void 0)}_getContentRef(f,n){if(f){if(f instanceof e.Rgc){const a=f.createEmbeddedView(n);return this._applicationRef.attachView(a),new tc([a.rootNodes],a)}return new tc([[this._renderer.createText(`${f}`)]])}return new tc([])}}let Zy=(()=>{class o{constructor(n,a){this._el=n,this._zone=a}ngOnInit(){this._zone.onStable.asObservable().pipe((0,je.q)(1)).subscribe(()=>{yo(this._zone,this._el.nativeElement,(n,a)=>{a&&Ne(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return yo(this._zone,this._el.nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(e.SBq),e.Y36(e.R0b))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(a,l){2&a&&(e.Tol("modal-backdrop"+(l.backdropClass?" "+l.backdropClass:"")),e.ekj("show",!l.animation)("fade",l.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[e.jDz],decls:0,vars:0,template:function(a,l){},encapsulation:2})}return o})();class zm{update(f){}close(f){}dismiss(f){}}const $m=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Rl=["animation","backdropClass"];class Fl{_applyWindowOptions(f,n){$m.forEach(a=>{on(n[a])&&(f[a]=n[a])})}_applyBackdropOptions(f,n){Rl.forEach(a=>{on(n[a])&&(f[a]=n[a])})}update(f){this._applyWindowOptions(this._windowCmptRef.instance,f),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,f)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,me.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,me.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(f,n,a,l){this._windowCmptRef=f,this._contentRef=n,this._backdropCmptRef=a,this._beforeDismiss=l,this._closed=new ee.x,this._dismissed=new ee.x,this._hidden=new ee.x,f.instance.dismissEvent.subscribe(_=>{this.dismiss(_)}),this.result=new Promise((_,M)=>{this._resolve=_,this._reject=M}),this.result.then(null,()=>{})}close(f){this._windowCmptRef&&(this._closed.next(f),this._resolve(f),this._removeModalElements())}_dismiss(f){this._dismissed.next(f),this._reject(f),this._removeModalElements()}dismiss(f){if(this._windowCmptRef)if(this._beforeDismiss){const n=this._beforeDismiss();!function es(o){return o&&o.then}(n)?!1!==n&&this._dismiss(f):n.then(a=>{!1!==a&&this._dismiss(f)},()=>{})}else this._dismiss(f)}_removeModalElements(){const f=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,de.of)(void 0);f.subscribe(()=>{const{nativeElement:a}=this._windowCmptRef.location;a.parentNode.removeChild(a),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:a}=this._backdropCmptRef.location;a.parentNode.removeChild(a),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),xt(f,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Ll=function(o){return o[o.BACKDROP_CLICK=0]="BACKDROP_CLICK",o[o.ESC=1]="ESC",o}(Ll||{});let vf=(()=>{class o{constructor(n,a,l){this._document=n,this._elRef=a,this._zone=l,this._closed$=new ee.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new e.vpe,this.shown=new ee.x,this.hidden=new ee.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":fi(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,je.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:n}=this._elRef,a={animation:this.animation,runningTransition:"stop"},M=xt(yo(this._zone,n,()=>n.classList.remove("show"),a),yo(this._zone,this._dialogEl.nativeElement,()=>{},a));return M.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),M}_show(){const n={animation:this.animation,runningTransition:"continue"};xt(yo(this._zone,this._elRef.nativeElement,(_,M)=>{M&&Ne(_),_.classList.add("show")},n),yo(this._zone,this._dialogEl.nativeElement,()=>{},n)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{ut(n,"keydown").pipe((0,me.R)(this._closed$),(0,_e.h)(l=>l.which===Ji.Escape)).subscribe(l=>{this.keyboard?requestAnimationFrame(()=>{l.defaultPrevented||this._zone.run(()=>this.dismiss(Ll.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let a=!1;ut(this._dialogEl.nativeElement,"mousedown").pipe((0,me.R)(this._closed$),(0,Qe.b)(()=>a=!1),(0,an.w)(()=>ut(n,"mouseup").pipe((0,me.R)(this._closed$),(0,je.q)(1))),(0,_e.h)(({target:l})=>n===l)).subscribe(()=>{a=!0}),ut(n,"click").pipe((0,me.R)(this._closed$)).subscribe(({target:l})=>{n===l&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!a&&this._zone.run(()=>this.dismiss(Ll.BACKDROP_CLICK))),a=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){const a=n.querySelector("[ngbAutofocus]"),l=sf(n)[0];(a||l||n).focus()}}_restoreFocus(){const n=this._document.body,a=this._elWithFocus;let l;l=a&&a.focus&&n.contains(a)?a:n,this._zone.runOutsideAngular(()=>{setTimeout(()=>l.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&yo(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(K.K0),e.Y36(e.SBq),e.Y36(e.R0b))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["ngb-modal-window"]],viewQuery:function(a,l){if(1&a&&e.Gf(ur,7),2&a){let _;e.iGM(_=e.CRH())&&(l._dialogEl=_.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(a,l){2&a&&(e.uIk("aria-modal",!0)("aria-labelledby",l.ariaLabelledBy)("aria-describedby",l.ariaDescribedBy),e.Tol("modal d-block"+(l.windowClass?" "+l.windowClass:"")),e.ekj("fade",l.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[e.jDz],ngContentSelectors:yr,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(a,l){1&a&&(e.F$t(),e.TgZ(0,"div",0,1)(2,"div",2),e.Hsn(3),e.qZA()()),2&a&&e.Tol("modal-dialog"+(l.size?" modal-"+l.size:"")+(l.centered?" modal-dialog-centered":"")+l.fullscreenClass+(l.scrollable?" modal-dialog-scrollable":"")+(l.modalDialogClass?" "+l.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return o})(),yf=(()=>{class o{constructor(n){this._document=n}hide(){const n=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),a=this._document.body,l=a.style,{overflow:_,paddingRight:M}=l;if(n>0){const U=parseFloat(window.getComputedStyle(a).paddingRight);l.paddingRight=`${U+n}px`}return l.overflow="hidden",()=>{n>0&&(l.paddingRight=M),l.overflow=_}}static#e=this.\u0275fac=function(a){return new(a||o)(e.LFG(K.K0))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),nc=(()=>{class o{constructor(n,a,l,_,M,U,q){this._applicationRef=n,this._injector=a,this._environmentInjector=l,this._document=_,this._scrollBar=M,this._rendererFactory=U,this._ngZone=q,this._activeWindowCmptHasChanged=new ee.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new e.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const ye=this._windowCmpts[this._windowCmpts.length-1];((o,f,n,a=!1)=>{o.runOutsideAngular(()=>{const l=ut(f,"focusin").pipe((0,me.R)(n),(0,_t.U)(_=>_.target));ut(f,"keydown").pipe((0,me.R)(n),(0,_e.h)(_=>_.which===Ji.Tab),Lt(l)).subscribe(([_,M])=>{const[U,q]=sf(f);(M===U||M===f)&&_.shiftKey&&(q.focus(),_.preventDefault()),M===q&&!_.shiftKey&&(U.focus(),_.preventDefault())}),a&&ut(f,"click").pipe((0,me.R)(n),Lt(l),(0,_t.U)(_=>_[1])).subscribe(_=>_.focus())})})(this._ngZone,ye.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(ye.location.nativeElement)}})}_restoreScrollBar(){const n=this._scrollBarRestoreFn;n&&(this._scrollBarRestoreFn=null,n())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(n,a,l){const _=l.container instanceof HTMLElement?l.container:on(l.container)?this._document.querySelector(l.container):this._document.body,M=this._rendererFactory.createRenderer(null,null);if(!_)throw new Error(`The specified modal container "${l.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const U=new zm,q=(n=l.injector||n).get(e.lqb,null)||this._environmentInjector,ye=this._getContentRef(n,q,a,U,l);let Ve=!1!==l.backdrop?this._attachBackdrop(_):void 0,St=this._attachWindowComponent(_,ye.nodes),yt=new Fl(St,ye,Ve,l.beforeDismiss);return this._registerModalRef(yt),this._registerWindowCmpt(St),yt.hidden.pipe((0,je.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(M.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),U.close=Ht=>{yt.close(Ht)},U.dismiss=Ht=>{yt.dismiss(Ht)},U.update=Ht=>{yt.update(Ht)},yt.update(l),1===this._modalRefs.length&&M.addClass(this._document.body,"modal-open"),Ve&&Ve.instance&&Ve.changeDetectorRef.detectChanges(),St.changeDetectorRef.detectChanges(),yt}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(a=>a.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n){let a=(0,e.LMc)(Zy,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(a.hostView),n.appendChild(a.location.nativeElement),a}_attachWindowComponent(n,a){let l=(0,e.LMc)(vf,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:a});return this._applicationRef.attachView(l.hostView),n.appendChild(l.location.nativeElement),l}_getContentRef(n,a,l,_,M){return l?l instanceof e.Rgc?this._createFromTemplateRef(l,_):fi(l)?this._createFromString(l):this._createFromComponent(n,a,l,_,M):new tc([])}_createFromTemplateRef(n,a){const _=n.createEmbeddedView({$implicit:a,close(M){a.close(M)},dismiss(M){a.dismiss(M)}});return this._applicationRef.attachView(_),new tc([_.rootNodes],_)}_createFromString(n){const a=this._document.createTextNode(`${n}`);return new tc([[a]])}_createFromComponent(n,a,l,_,M){const U=e.zs3.create({providers:[{provide:zm,useValue:_}],parent:n}),q=(0,e.LMc)(l,{environmentInjector:a,elementInjector:U}),ye=q.location.nativeElement;return M.scrollable&&ye.classList.add("component-host-scrollable"),this._applicationRef.attachView(q.hostView),new tc([[ye]],q.hostView,q)}_setAriaHidden(n){const a=n.parentElement;a&&n!==this._document.body&&(Array.from(a.children).forEach(l=>{l!==n&&"SCRIPT"!==l.nodeName&&(this._ariaHiddenValues.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}),this._setAriaHidden(a))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,a)=>{n?a.setAttribute("aria-hidden",n):a.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){const a=()=>{const l=this._modalRefs.indexOf(n);l>-1&&(this._modalRefs.splice(l,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(a,a)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{const a=this._windowCmpts.indexOf(n);a>-1&&(this._windowCmpts.splice(a,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(a){return new(a||o)(e.LFG(e.z2F),e.LFG(e.zs3),e.LFG(e.lqb),e.LFG(K.K0),e.LFG(yf),e.LFG(e.FYo),e.LFG(e.R0b))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),bf=(()=>{class o{constructor(n){this._ngbConfig=n,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(n){this._animation=n}static#e=this.\u0275fac=function(a){return new(a||o)(e.LFG(Yr))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Cf=(()=>{class o{constructor(n,a,l){this._injector=n,this._modalStack=a,this._config=l}open(n,a={}){const l={...this._config,animation:this._config.animation,...a};return this._modalStack.open(this._injector,n,l)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(a){return new(a||o)(e.LFG(e.zs3),e.LFG(nc),e.LFG(bf))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Hc=(()=>{class o{static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275mod=e.oAB({type:o});static#n=this.\u0275inj=e.cJS({providers:[Cf]})}return o})(),Qu=(()=>{class o{static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275mod=e.oAB({type:o});static#n=this.\u0275inj=e.cJS({})}return o})(),nd=(()=>{class o{static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275mod=e.oAB({type:o});static#n=this.\u0275inj=e.cJS({})}return o})();class Km{constructor(f,n){this.open=f,this.close=n,n||(this.close=f)}isManual(){return"manual"===this.open||"manual"===this.close}}const Xm={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},Sf=o=>o>0?li(o):f=>f;let Na=(()=>{class o{static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275mod=e.oAB({type:o});static#n=this.\u0275inj=e.cJS({})}return o})(),Zl=(()=>{class o{static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275mod=e.oAB({type:o});static#n=this.\u0275inj=e.cJS({})}return o})(),xf=(()=>{class o{static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275mod=e.oAB({type:o});static#n=this.\u0275inj=e.cJS({})}return o})(),Hl=(()=>{class o{static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275mod=e.oAB({type:o});static#n=this.\u0275inj=e.cJS({})}return o})(),ld=(()=>{class o{static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275mod=e.oAB({type:o});static#n=this.\u0275inj=e.cJS({})}return o})(),Vl=(()=>{class o{static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275mod=e.oAB({type:o});static#n=this.\u0275inj=e.cJS({})}return o})(),zl=(()=>{class o{constructor(n){this._ngbConfig=n,this.autoClose=!0,this.placement="auto",this.popperOptions=a=>a,this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(n){this._animation=n}static#e=this.\u0275fac=function(a){return new(a||o)(e.LFG(Yr))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Nf=0,dd=(()=>{class o{static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip",2,"position","absolute"],hostVars:5,hostBindings:function(a,l){2&a&&(e.Ikx("id",l.id),e.Tol("tooltip"+(l.tooltipClass?" "+l.tooltipClass:"")),e.ekj("fade",l.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},standalone:!0,features:[e.jDz],ngContentSelectors:yr,decls:3,vars:0,consts:[["data-popper-arrow","",1,"tooltip-arrow"],[1,"tooltip-inner"]],template:function(a,l){1&a&&(e.F$t(),e._UZ(0,"div",0),e.TgZ(1,"div",1),e.Hsn(2),e.qZA())},encapsulation:2,changeDetection:0})}return o})(),Oo=(()=>{class o{constructor(n,a,l,_,M,U,q,ye,Ve){this._elementRef=n,this._renderer=a,this._ngZone=U,this._document=q,this._changeDetector=ye,this.shown=new e.vpe,this.hidden=new e.vpe,this._ngbTooltipWindowId="ngb-tooltip-"+Nf++,this._windowRef=null,this.animation=M.animation,this.autoClose=M.autoClose,this.placement=M.placement,this.popperOptions=M.popperOptions,this.triggers=M.triggers,this.container=M.container,this.disableTooltip=M.disableTooltip,this.tooltipClass=M.tooltipClass,this.openDelay=M.openDelay,this.closeDelay=M.closeDelay,this._popupService=new Uy(dd,l,_,a,this._ngZone,Ve),this._positioning=function Rc(){const o=(0,e.f3M)(xa);let f=null;return{createPopper(n){if(!f){let l=(n.updatePopperOptions||Zu)(uf(n,o));f=Po(n.hostElement,n.targetElement,l)}},update(){f&&f.update()},setOptions(n){if(f){let l=(n.updatePopperOptions||Zu)(uf(n,o));f.setOptions(l)}},destroy(){f&&(f.destroy(),f=null)}}}()}set ngbTooltip(n){this._ngbTooltip=n,!n&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(n){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:a,transition$:l}=this._popupService.open(this._ngbTooltip,n??this.tooltipContext,this.animation);this._windowRef=a,this._windowRef.setInput("animation",this.animation),this._windowRef.setInput("tooltipClass",this.tooltipClass),this._windowRef.setInput("id",this._ngbTooltipWindowId),this._renderer.setAttribute(this._getPositionTargetElement(),"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._getPositionTargetElement(),targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,baseClass:"bs-tooltip",updatePopperOptions:_=>this.popperOptions(_)}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),function xl(o,f,n,a,l,_,M,U){n&&o.runOutsideAngular((o=>nf?()=>setTimeout(()=>o(),100):o)(()=>{const ye=ut(f,"keydown").pipe((0,me.R)(l),(0,_e.h)(yt=>yt.which===Ji.Escape),(0,Qe.b)(yt=>yt.preventDefault())),Ve=ut(f,"mousedown").pipe((0,_t.U)(yt=>{const Ht=yt.target;return 2!==yt.button&&!Ja(Ht,M)&&("inside"===n?Ja(Ht,_)&&tf(Ht,U):"outside"===n?!Ja(Ht,_):tf(Ht,U)||!Ja(Ht,_))}),(0,me.R)(l)),St=ut(f,"mouseup").pipe(Lt(Ve),(0,_e.h)(([yt,Ht])=>Ht),li(0),(0,me.R)(l));pn([ye.pipe((0,_t.U)(yt=>0)),St.pipe((0,_t.U)(yt=>1))]).subscribe(yt=>o.run(()=>a(yt)))}))}(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),l.subscribe(()=>this.shown.emit())}}close(n=this.animation){null!=this._windowRef&&(this._renderer.removeAttribute(this._getPositionTargetElement(),"aria-describedby"),this._popupService.close(n).subscribe(()=>{this._windowRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function e_(o,f,n,a,l,_,M=0,U=0){const q=function id(o,f=Xm){const n=(o||"").trim();if(0===n.length)return[];const a=n.split(/\s+/).map(_=>_.split(":")).map(_=>{let M=f[_[0]]||_;return new Km(M[0],M[1])}),l=a.filter(_=>_.isManual());if(l.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===l.length&&a.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return a}(n);if(1===q.length&&q[0].isManual())return()=>{};const ye=function od(o,f,n,a){return new Ce.y(l=>{const _=[],M=()=>l.next(!0),U=()=>l.next(!1),q=()=>l.next(!a());return n.forEach(ye=>{ye.open===ye.close?_.push(o.listen(f,ye.open,q)):_.push(o.listen(f,ye.open,M),o.listen(f,ye.close,U))}),()=>{_.forEach(ye=>ye())}})}(o,f,q,a).pipe(function Vc(o,f,n){return a=>{let l=null;const _=a.pipe((0,_t.U)(q=>({open:q})),(0,_e.h)(q=>{const ye=n();return ye===q.open||l&&l.open!==ye?(l&&l.open!==q.open&&(l=null),!1):(l=q,!0)}),(0,bn.B)()),M=_.pipe((0,_e.h)(q=>q.open),Sf(o)),U=_.pipe((0,_e.h)(q=>!q.open),Sf(f));return(0,ln.T)(M,U).pipe((0,_e.h)(q=>q===l&&(l=null,q.open!==n())),(0,_t.U)(q=>q.open))}}(M,U,a)).subscribe(Ve=>Ve?l():_());return()=>ye.unsubscribe()}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:n}){n&&this.isOpen()&&(this._windowRef.instance.tooltipClass=n.currentValue)}ngOnDestroy(){this.close(!1),this._unregisterListenersFn?.()}_getPositionTargetElement(){return(fi(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget)||this._elementRef.nativeElement}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.zs3),e.Y36(e.s_b),e.Y36(zl),e.Y36(e.R0b),e.Y36(K.K0),e.Y36(e.sBO),e.Y36(e.z2F))};static#t=this.\u0275dir=e.lG2({type:o,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",popperOptions:"popperOptions",triggers:"triggers",positionTarget:"positionTarget",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",tooltipContext:"tooltipContext",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],standalone:!0,features:[e.TTD]})}return o})(),kf=(()=>{class o{static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275mod=e.oAB({type:o});static#n=this.\u0275inj=e.cJS({})}return o})();new e.OlP("live announcer delay",{providedIn:"root",factory:function Pf(){return 100}});let Ff=(()=>{class o{static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275mod=e.oAB({type:o});static#n=this.\u0275inj=e.cJS({})}return o})(),pd=(()=>{class o{static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275mod=e.oAB({type:o});static#n=this.\u0275inj=e.cJS({})}return o})();const Uf=[tt,mi,Au,Ou,jm,Vm,Hc,Qu,pd,nd,Na,Zl,xf,Hl,ld,Vl,kf,Ff];let Zf=(()=>{class o{static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275mod=e.oAB({type:o});static#n=this.\u0275inj=e.cJS({imports:[Uf,tt,mi,Au,Ou,jm,Vm,Hc,Qu,pd,nd,Na,Zl,xf,Hl,ld,Vl,kf,Ff]})}return o})();var lo=S(1357),sn=S(8460),b_=S(5400);let C_=(()=>{class o{constructor(n){this._http=n}get(n){const a=new b_.t(1);return this._http.get(n,{responseType:"blob"}).subscribe({next:l=>{const _=window.URL.createObjectURL(l);a.next(_),a.complete()},error:l=>a.error(l)}),a}static#e=this.\u0275fac=function(a){return new(a||o)(e.LFG(Q.eN))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function D_(o,f){if(1&o&&e._UZ(0,"div",4),2&o){const n=e.oxw(2);e.Udp("background-image","url('"+n.src+"')")}}function w_(o,f){if(1&o&&e._UZ(0,"img",5),2&o){const n=e.oxw(2);e.Udp("width",n.width)("height",n.height),e.Q6J("src",n.safeString||n.safeUrl,e.LSH),e.uIk("loading",n.lazy?"lazy":void 0)("draggable",n.draggable)}}function ea(o,f){if(1&o&&e._UZ(0,"mat-icon",6),2&o){const n=e.oxw(2);e.Q6J("svgIcon",n.safeString)}}function sc(o,f){if(1&o&&(e.ynx(0),e.YNc(1,D_,1,2,"div",1),e.YNc(2,w_,1,7,"img",2),e.YNc(3,ea,1,1,"mat-icon",3),e.BQk()),2&o){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.isStoryBlok),e.xp6(1),e.Q6J("ngIf",!n.isSvg&&!n.isStoryBlok),e.xp6(1),e.Q6J("ngIf",n.isSvg&&n.safeString)}}let Gc=(()=>{class o{constructor(n,a){this._imageService=n,this._domSanitizer=a,this.isSvg=!1,this.isStoryBlok=!1}ngOnChanges(n){n.src&&this.updateImage(n.src.currentValue)}updateImage(n){this._loadSource&&(this._loadSource.unsubscribe(),this._loadSource=void 0),n||="",this.isSvg=n.startsWith("#"),this.safeString=this.safeUrl=void 0,this.isStoryBlok=n.includes("storyblok.com"),this.safeString=this.isSvg&&n.startsWith("#")?n.substring(1):n}loadObjectUrl(n){this._loadSource=this._imageService.get(n).subscribe({next:a=>this.safeUrl=this._domSanitizer.bypassSecurityTrustUrl(a),error:a=>console.error("Failed loading URL",n,a)})}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(C_),e.Y36(p.H7))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-icon"]],hostVars:2,hostBindings:function(a,l){2&a&&e.Udp("opacity",l.opacity)},inputs:{src:"src",opacity:"opacity",width:"width",height:"height",lazy:"lazy",draggable:"draggable"},features:[e.TTD],decls:1,vars:1,consts:[[4,"ngIf"],["class","img img-bg",3,"background-image",4,"ngIf"],["class","img","crossorigin","anonymous",3,"src","width","height",4,"ngIf"],[3,"svgIcon",4,"ngIf"],[1,"img","img-bg"],["crossorigin","anonymous",1,"img",3,"src"],[3,"svgIcon"]],template:function(a,l){1&a&&e.YNc(0,sc,4,3,"ng-container",0),2&a&&e.Q6J("ngIf",l.src)},dependencies:[K.O5,z.Hw],styles:["img[_ngcontent-%COMP%], .img[_ngcontent-%COMP%], mat-icon[_ngcontent-%COMP%]{width:100%;height:100%}.img-bg[_ngcontent-%COMP%]{background-repeat:no-repeat;background-size:cover}"],changeDetection:0})}return o})();function T_(o,f){if(1&o&&e._UZ(0,"app-icon",5),2&o){const n=e.oxw(2);e.Q6J("src",(null==n.item.season?null:n.item.season.iconUrl)||"#season-candle")}}function E_(o,f){1&o&&e._UZ(0,"app-icon",6),2&o&&e.Q6J("src","#season-heart")}function M_(o,f){1&o&&e._UZ(0,"app-icon",7),2&o&&e.Q6J("src","#ascended-candle")}function S_(o,f){1&o&&e._UZ(0,"app-icon",8),2&o&&e.Q6J("src","#gift")}function x_(o,f){if(1&o&&(e.ynx(0),e.YNc(1,T_,1,1,"app-icon",1),e.YNc(2,E_,1,1,"app-icon",2),e.YNc(3,M_,1,1,"app-icon",3),e.YNc(4,S_,1,1,"app-icon",4),e.BQk()),2&o){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",null==n.item.season?null:n.item.season.iconUrl),e.xp6(1),e.Q6J("ngIf","Ultimate"===n.item.group),e.xp6(1),e.Q6J("ngIf","Elder"===n.item.group),e.xp6(1),e.Q6J("ngIf",null==n.item.iaps?null:n.item.iaps.length)}}let gd=(()=>{class o{static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-item-icons"]],inputs:{item:"item"},decls:1,vars:1,consts:[[4,"ngIf"],["class","img-tr",3,"src",4,"ngIf"],["class","img-tl seasonal",3,"src",4,"ngIf"],["class","img-tl",3,"src",4,"ngIf"],["class","img-tl currency",3,"src",4,"ngIf"],[1,"img-tr",3,"src"],[1,"img-tl","seasonal",3,"src"],[1,"img-tl",3,"src"],[1,"img-tl","currency",3,"src"]],template:function(a,l){1&a&&e.YNc(0,x_,5,4,"ng-container",0),2&a&&e.Q6J("ngIf",l.item)},dependencies:[K.O5,Gc],styles:["*[_ngcontent-%COMP%]{pointer-events:none}.img-tl[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:var(--icon-size-group);height:var(--icon-size-group)}.img-tr[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:var(--icon-size-group);height:var(--icon-size-group)}"],changeDetection:0})}return o})();function I_(o,f){if(1&o){const n=e.EpF();e.TgZ(0,"app-icon",3),e.NdJ("click",function(l){e.CHM(n);const _=e.oxw();return e.KtG(_.iconClick(l))}),e.qZA()}if(2&o){const n=e.oxw();e.Q6J("src",n.item.icon)("opacity",n.item.unlocked||n.highlight?void 0:.5)("draggable",!1)}}function A_(o,f){if(1&o&&(e.TgZ(0,"span",4),e._uU(1),e.qZA()),2&o){const n=e.oxw();e.xp6(1),e.hij("Lv",n.item.level,"")}}function O_(o,f){if(1&o&&e._UZ(0,"app-item-icons",5),2&o){const n=e.oxw();e.Q6J("item",n.item)}}let ac=(()=>{class o{constructor(n,a,l){this._debug=n,this._eventService=a,this._changeDetectorRef=l,this.size="default",this.hoverHighlight=!0,this._size="default",this.ItemType=sn.q}ngOnInit(){this._sub=this._eventService.itemToggled.subscribe(n=>{n.guid===this.item?.guid&&this._changeDetectorRef.markForCheck()})}ngOnChanges(n){n.size&&(this._size=n.size.currentValue)}ngOnDestroy(){this._sub?.unsubscribe()}iconClick(n){this._debug.copyItem&&(n.stopImmediatePropagation(),n.preventDefault(),navigator.clipboard.writeText(this.item.guid))}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(ze),e.Y36(Me),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-item"]],hostVars:3,hostBindings:function(a,l){2&a&&(e.uIk("data-size",l._size),e.ekj("hoverable",l.hoverHighlight))},inputs:{item:"item",size:"size",highlight:"highlight",hoverHighlight:"hoverHighlight",showSubIcons:"showSubIcons"},features:[e.TTD],decls:3,vars:3,consts:[["class","img item-icon",3,"src","opacity","draggable","click",4,"ngIf"],["class","emote-level",4,"ngIf"],[3,"item",4,"ngIf"],[1,"img","item-icon",3,"src","opacity","draggable","click"],[1,"emote-level"],[3,"item"]],template:function(a,l){1&a&&(e.YNc(0,I_,1,3,"app-icon",0),e.YNc(1,A_,2,1,"span",1),e.YNc(2,O_,1,1,"app-item-icons",2)),2&a&&(e.Q6J("ngIf",l.item.icon),e.xp6(1),e.Q6J("ngIf",l.item.type===l.ItemType.Emote),e.xp6(1),e.Q6J("ngIf",l.showSubIcons))},dependencies:[K.O5,Gc,gd],styles:["[_nghost-%COMP%]{display:inline-block;position:relative;border:0;border-radius:var(--border-radius);width:var(--item-size);height:var(--item-size)}[data-size=large][_nghost-%COMP%]{width:var(--item-size-large);height:var(--item-size-large)}[data-size=medium][_nghost-%COMP%]{width:var(--item-size-medium);height:var(--item-size-medium)}[data-size=small][_nghost-%COMP%]{width:var(--item-size-small);height:var(--item-size-small)}.img[_ngcontent-%COMP%]{width:100%;height:100%;transition:var(--animation-short);filter:drop-shadow(0 0 0 #0000)}.hoverable[_nghost-%COMP%]:hover   .img[_ngcontent-%COMP%]{transition:var(--animation-short);filter:drop-shadow(0 0 4px #fffa73)}.img[_ngcontent-%COMP%]{width:100%;height:100%}.emote-level[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;font-size:12px}"],changeDetection:0})}return o})();function $l(o,f){if(1&o){const n=e.EpF();e.TgZ(0,"div",5),e.NdJ("click",function(l){e.CHM(n);const _=e.oxw();return e.KtG(_.toggleNode(l))})("mouseenter",function(l){e.CHM(n);const _=e.oxw();return e.KtG(_.mouseEnter(l))})("mouseleave",function(l){e.CHM(n);const _=e.oxw();return e.KtG(_.mouseLeave(l))}),e._UZ(1,"app-item",6),e.qZA()}if(2&o){const n=e.oxw(),a=e.MAs(11);e.Q6J("ngbTooltip",a)("placement",n.tooltipPlacement),e.xp6(1),e.Q6J("item",n.node.item)("highlight",n.hover)}}function ta(o,f){if(1&o&&(e.TgZ(0,"div",7),e._uU(1),e._UZ(2,"mat-icon",8),e.qZA()),2&o){const n=e.oxw();e.xp6(1),e.hij(" ",n.node.c,""),e.xp6(1),e.Q6J("inline",!1)}}function Yc(o,f){if(1&o&&(e.TgZ(0,"div",7),e._uU(1),e._UZ(2,"mat-icon",9),e.qZA()),2&o){const n=e.oxw();e.xp6(1),e.hij(" ",n.node.sc,""),e.xp6(1),e.Q6J("inline",!1)}}function Hf(o,f){if(1&o&&(e.TgZ(0,"div",7),e._uU(1),e._UZ(2,"mat-icon",10),e.qZA()),2&o){const n=e.oxw();e.xp6(1),e.hij(" ",n.node.h,""),e.xp6(1),e.Q6J("inline",!1)}}function jf(o,f){if(1&o&&(e.TgZ(0,"div",7),e._uU(1),e._UZ(2,"mat-icon",11),e.qZA()),2&o){const n=e.oxw();e.xp6(1),e.hij(" ",n.node.sh,""),e.xp6(1),e.Q6J("inline",!1)}}function Vf(o,f){if(1&o&&(e.TgZ(0,"div",12),e._uU(1),e._UZ(2,"mat-icon",13),e.qZA()),2&o){const n=e.oxw();e.xp6(1),e.hij(" ",n.node.ac,""),e.xp6(1),e.Q6J("inline",!1)}}function Xy(o,f){if(1&o&&(e.TgZ(0,"div",7),e._uU(1),e._UZ(2,"mat-icon",14),e.qZA()),2&o){const n=e.oxw();e.xp6(1),e.hij(" ",n.node.ec,""),e.xp6(1),e.Q6J("inline",!1)}}function eb(o,f){if(1&o&&(e.ynx(0),e.TgZ(1,"span",16),e._uU(2),e.qZA(),e.BQk()),2&o){const n=e.oxw(2);e.xp6(2),e.Oqu(n.node.item.name)}}function tb(o,f){if(1&o&&e.YNc(0,eb,3,1,"ng-container",15),2&o){const n=e.oxw();e.Q6J("ngIf",n.node.item)}}let md=(()=>{class o{constructor(n,a,l){this._debug=n,this._eventService=a,this._storageService=l,this.position="center",this.tooltipPlacement="bottom"}ngOnChanges(n){if(n.position){const a=n.position.currentValue;this.tooltipPlacement="left"===a?"bottom-start":"right"===a?"bottom-end":"bottom"}}mouseEnter(n){this.hover=!0}mouseLeave(n){this.hover=!1}toggleNode(n){if(!this.node.item)return;const a=this.node.item;if(this._debug.copyNode)return n.stopImmediatePropagation(),n.preventDefault(),void this.copyDebug(this.node);a.unlocked?this.lockItem():this.unlockItem(),this._eventService.toggleItem(a)}copyDebug(n){navigator.clipboard.writeText(JSON.stringify({nw:!!n.nw,n:!!n.n,ne:!!n.ne,item:n.item?.guid,c:n.c,h:n.h,sc:n.sc,sh:n.sh,ac:n.ac,ec:n.ec}))}unlockItem(){if(!this.node.item)return;const n=[];this.node.item.unlocked=!0,n.push(this.node.item.guid),this.node.unlocked=!0,n.push(this.node.guid),this.node.hiddenItems?.forEach(a=>{a.unlocked=!0,n.push(a.guid)}),this._storageService.add(...n),this._storageService.save()}lockItem(){if(!this.node.item)return;const n=[],l=[this.node.item,...this.node.hiddenItems||[]];for(const _ of l)_.unlocked=!1,n.push(_.guid),(_.nodes||[]).forEach(q=>{q.unlocked=!1,n.push(q.guid)}),(_.hiddenNodes||[]).forEach(q=>{q.unlocked=!1,n.push(q.guid)});this._storageService.remove(...n),this._storageService.save()}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(ze),e.Y36(Me),e.Y36(Xe.V))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-node"]],inputs:{node:"node",position:"position",highlight:"highlight"},features:[e.TTD],decls:12,vars:14,consts:[["class","item-container","container","body",3,"ngbTooltip","placement","click","mouseenter","mouseleave",4,"ngIf"],["class","cost",4,"ngIf"],["class","cost ascend",4,"ngIf"],[1,"unlock-check"],["nodeHover",""],["container","body",1,"item-container",3,"ngbTooltip","placement","click","mouseenter","mouseleave"],[3,"item","highlight"],[1,"cost"],["svgIcon","candle",1,"icon-middle",3,"inline"],["svgIcon","season-candle",1,"icon-middle",3,"inline"],["svgIcon","heart",1,"icon-middle",3,"inline"],["svgIcon","season-heart",1,"seasonal","icon-middle",3,"inline"],[1,"cost","ascend"],["svgIcon","ascended-candle",1,"icon-middle",3,"inline"],["svgIcon","ticket",1,"icon-middle",3,"inline"],[4,"ngIf"],[1,"ws-nw"]],template:function(a,l){1&a&&(e.TgZ(0,"div"),e.YNc(1,$l,2,4,"div",0),e.YNc(2,ta,3,2,"div",1),e.YNc(3,Yc,3,2,"div",1),e.YNc(4,Hf,3,2,"div",1),e.YNc(5,jf,3,2,"div",1),e.YNc(6,Vf,3,2,"div",2),e.YNc(7,Xy,3,2,"div",1),e.TgZ(8,"mat-icon",3),e._uU(9,"done"),e.qZA()(),e.YNc(10,tb,1,1,"ng-template",null,4,e.W1O)),2&a&&(e.ekj("highlight",l.highlight),e.uIk("data-position",l.position),e.xp6(1),e.Q6J("ngIf",l.node.item),e.xp6(1),e.Q6J("ngIf",null==l.node?null:l.node.c),e.xp6(1),e.Q6J("ngIf",null==l.node?null:l.node.sc),e.xp6(1),e.Q6J("ngIf",null==l.node?null:l.node.h),e.xp6(1),e.Q6J("ngIf",null==l.node?null:l.node.sh),e.xp6(1),e.Q6J("ngIf",null==l.node?null:l.node.ac),e.xp6(1),e.Q6J("ngIf",null==l.node?null:l.node.ec),e.xp6(1),e.ekj("unlocked",l.node.unlocked||(null==l.node.item?null:l.node.item.unlocked))("self",l.node.unlocked))},dependencies:[K.O5,Oo,z.Hw,ac],styles:["[_nghost-%COMP%]{position:relative;display:inline-block;width:100%;height:100%;-webkit-user-select:none;user-select:none}.item-container[_ngcontent-%COMP%]{display:inline-block;cursor:pointer}.cost[_ngcontent-%COMP%]{float:right;text-align:right;right:calc(50% + 3px);position:relative}.cost[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{fill:var(--color-candle)}div[data-position=left][_ngcontent-%COMP%]   .cost[_ngcontent-%COMP%]{left:unset;right:0}mat-icon[_ngcontent-%COMP%]{width:var(--icon-size-cost);vertical-align:text-bottom}"]})}return o})();const _d=function(o,f){return{cost:o,remaining:f,icon:"candle",iconClass:"currency"}};function nb(o,f){if(1&o&&(e.TgZ(0,"div",4),e.GkF(1,5),e.qZA()),2&o){const n=e.oxw(),a=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",e.WLB(2,_d,null==n.cost?null:n.cost.c,null==n.remaining?null:n.remaining.c))}}const ib=function(o,f){return{cost:o,remaining:f,icon:"candle",iconClass:"seasonal"}};function zf(o,f){if(1&o&&(e.TgZ(0,"div",4),e.GkF(1,5),e.qZA()),2&o){const n=e.oxw(),a=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",e.WLB(2,ib,null==n.cost?null:n.cost.sc,null==n.remaining?null:n.remaining.sc))}}const N_=function(o,f){return{cost:o,remaining:f,icon:"heart",iconClass:"currency"}};function k_(o,f){if(1&o&&(e.TgZ(0,"div",4),e.GkF(1,5),e.qZA()),2&o){const n=e.oxw(),a=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",e.WLB(2,N_,null==n.cost?null:n.cost.h,null==n.remaining?null:n.remaining.h))}}const P_=function(o,f){return{cost:o,remaining:f,icon:"heart",iconClass:"seasonal"}};function R_(o,f){if(1&o&&(e.TgZ(0,"div",4),e.GkF(1,5),e.qZA()),2&o){const n=e.oxw(),a=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",e.WLB(2,P_,null==n.cost?null:n.cost.sh,null==n.remaining?null:n.remaining.sh))}}const $f=function(o,f){return{cost:o,remaining:f,icon:"ascended-candle",iconClass:"currency"}};function Gl(o,f){if(1&o&&(e.TgZ(0,"div",4),e.GkF(1,5),e.qZA()),2&o){const n=e.oxw(),a=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",e.WLB(2,$f,null==n.cost?null:n.cost.ac,null==n.remaining?null:n.remaining.ac))}}const Gf=function(o,f){return{cost:o,remaining:f,icon:"ticket",iconClass:"currency"}};function vd(o,f){if(1&o&&(e.TgZ(0,"div",4),e.GkF(1,5),e.qZA()),2&o){const n=e.oxw(),a=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",e.WLB(2,Gf,null==n.cost?null:n.cost.ec,null==n.remaining?null:n.remaining.ec))}}function F_(o,f){if(1&o&&(e.TgZ(0,"b",10),e._uU(1),e.qZA()),2&o){const n=e.oxw().cost;e.xp6(1),e.hij(" ",n||0,"")}}function ka(o,f){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const n=e.oxw().remaining;e.xp6(1),e.hij(" ",n||0,"")}}function Yf(o,f){if(1&o&&(e.TgZ(0,"span",11),e._uU(1),e.qZA()),2&o){const n=e.oxw().cost;e.xp6(1),e.hij(" (",n||0,")")}}function L_(o,f){if(1&o&&(e._UZ(0,"mat-icon",6),e.TgZ(1,"div"),e.YNc(2,F_,2,1,"b",7),e.YNc(3,ka,2,1,"span",8),e.YNc(4,Yf,2,1,"span",9),e.qZA()),2&o){const n=f.cost,a=f.remaining,l=f.icon;e.Tol(f.iconClass+" cost-icon icon-middle"),e.Q6J("svgIcon",l)("inline",!1),e.xp6(2),e.Q6J("ngIf",n&&!a),e.xp6(1),e.Q6J("ngIf",a),e.xp6(1),e.Q6J("ngIf",n&&a)}}function yd(o,f){1&o&&(e.TgZ(0,"span",11),e._uU(1,"Total cost of all items."),e.qZA())}function qf(o,f){if(1&o&&(e.TgZ(0,"span"),e._uU(1,"Cost of items not yet unlocked."),e.qZA(),e._UZ(2,"br"),e.YNc(3,yd,2,0,"span",9),e._UZ(4,"br"),e.TgZ(5,"span",10),e._uU(6,"All items are unlocked."),e.qZA()),2&o){const n=e.oxw();e.xp6(3),e.Q6J("ngIf",n.remaining)}}let Yl=(()=>{class o{constructor(){this.borderLeft=!1,this.completed=!1}ngOnChanges(){this.completed=!!this.remaining&&lo.T.isEmpty(this.remaining)}static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-cost"]],inputs:{cost:"cost",remaining:"remaining",borderLeft:"borderLeft"},features:[e.TTD],decls:11,vars:9,consts:[["container","body","placement","top",1,"costs",3,"ngbTooltip"],["class","cost",4,"ngIf"],["costTemplate",""],["costHover",""],[1,"cost"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"svgIcon","inline"],["class","c-completed",4,"ngIf"],[4,"ngIf"],["class","c-accent",4,"ngIf"],[1,"c-completed"],[1,"c-accent"]],template:function(a,l){if(1&a&&(e.TgZ(0,"div",0),e.YNc(1,nb,2,5,"div",1),e.YNc(2,zf,2,5,"div",1),e.YNc(3,k_,2,5,"div",1),e.YNc(4,R_,2,5,"div",1),e.YNc(5,Gl,2,5,"div",1),e.YNc(6,vd,2,5,"div",1),e.qZA(),e.YNc(7,L_,5,7,"ng-template",null,2,e.W1O),e.YNc(9,qf,7,1,"ng-template",null,3,e.W1O)),2&a){const _=e.MAs(10);e.ekj("cost-border-left",l.borderLeft),e.Q6J("ngbTooltip",_),e.xp6(1),e.Q6J("ngIf",null==l.cost?null:l.cost.c),e.xp6(1),e.Q6J("ngIf",null==l.cost?null:l.cost.sc),e.xp6(1),e.Q6J("ngIf",null==l.cost?null:l.cost.h),e.xp6(1),e.Q6J("ngIf",null==l.cost?null:l.cost.sh),e.xp6(1),e.Q6J("ngIf",null==l.cost?null:l.cost.ac),e.xp6(1),e.Q6J("ngIf",null==l.cost?null:l.cost.ec)}},dependencies:[K.O5,K.tP,Oo,z.Hw],styles:[".costs[_ngcontent-%COMP%]{display:inline-block}.cost[_ngcontent-%COMP%]{position:relative;display:inline-block;padding:0 8px 0 30px}.cost[_ngcontent-%COMP%]:not(:first-child), .cost-border-left[_ngcontent-%COMP%]   .cost[_ngcontent-%COMP%]{border-left:1px solid var(--color-cost-border)}mat-icon[_ngcontent-%COMP%]{vertical-align:sub;height:auto}.cost[_ngcontent-%COMP%]   mat-icon.cost-icon[_ngcontent-%COMP%]{position:absolute;top:-2px;left:4px}"],changeDetection:0})}return o})(),fs=(()=>{class o{transform(n,a){return a??=ge.O.displayFormat,n.format(a)}static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275pipe=e.Yjl({name:"dayjs",type:o,pure:!0})}return o})();function B_(o,f){if(1&o&&e._UZ(0,"app-node",15),2&o){const n=e.oxw().$implicit,a=e.oxw();e.Q6J("node",n)("position","left")("highlight",a.highlightItem?(null==n.item?null:n.item.guid)===a.highlightItem||n===a.hiddenItems[a.highlightItem]:void 0)}}function U_(o,f){1&o&&e._UZ(0,"div",16)}function Wf(o,f){if(1&o&&(e.TgZ(0,"div",12),e.YNc(1,B_,1,3,"app-node",13),e.YNc(2,U_,1,0,"div",14),e.qZA()),2&o){const n=f.$implicit;e.xp6(1),e.Q6J("ngIf",n),e.xp6(1),e.Q6J("ngIf",null==n?null:n.n)}}function ob(o,f){if(1&o&&e._UZ(0,"app-node",15),2&o){const n=e.oxw().$implicit,a=e.oxw();e.Q6J("node",n)("position","center")("highlight",a.highlightItem?(null==n.item?null:n.item.guid)===a.highlightItem||n===a.hiddenItems[a.highlightItem]:void 0)}}function rb(o,f){1&o&&e._UZ(0,"div",19)}function qc(o,f){1&o&&e._UZ(0,"div",16)}function Ni(o,f){1&o&&e._UZ(0,"div",20)}function Wc(o,f){if(1&o&&(e.TgZ(0,"div",12),e.YNc(1,ob,1,3,"app-node",13),e.YNc(2,rb,1,0,"div",17),e.YNc(3,qc,1,0,"div",14),e.YNc(4,Ni,1,0,"div",18),e.qZA()),2&o){const n=f.$implicit;e.xp6(1),e.Q6J("ngIf",n),e.xp6(1),e.Q6J("ngIf",null==n?null:n.nw),e.xp6(1),e.Q6J("ngIf",null==n?null:n.n),e.xp6(1),e.Q6J("ngIf",null==n?null:n.ne)}}function Jf(o,f){if(1&o&&e._UZ(0,"app-node",15),2&o){const n=e.oxw().$implicit,a=e.oxw();e.Q6J("node",n)("position","right")("highlight",a.highlightItem?(null==n.item?null:n.item.guid)===a.highlightItem||n===a.hiddenItems[a.highlightItem]:void 0)}}function Qf(o,f){1&o&&e._UZ(0,"div",16)}function bd(o,f){if(1&o&&(e.TgZ(0,"div",12),e.YNc(1,Jf,1,3,"app-node",13),e.YNc(2,Qf,1,0,"div",14),e.qZA()),2&o){const n=f.$implicit;e.xp6(1),e.Q6J("ngIf",n),e.xp6(1),e.Q6J("ngIf",null==n?null:n.n)}}function Cd(o,f){if(1&o&&(e.TgZ(0,"span",24),e._uU(1),e.ALo(2,"dayjs"),e.qZA()),2&o){const n=e.oxw(2);e.xp6(1),e.hij("(",e.xi3(2,1,n.tsDate,n.dateFormat),")")}}function Z_(o,f){if(1&o&&(e.TgZ(0,"span",24),e._uU(1),e.ALo(2,"dayjs"),e.qZA()),2&o){const n=e.oxw(2);e.xp6(1),e.hij("(",e.xi3(2,1,n.rsDate,n.dateFormat),")")}}function Kf(o,f){if(1&o&&(e.TgZ(0,"div",21),e.Hsn(1),e.TgZ(2,"div",22),e._uU(3),e.YNc(4,Cd,3,4,"span",23),e.YNc(5,Z_,3,4,"span",23),e.qZA()()),2&o){const n=e.oxw();e.xp6(3),e.hij(" ",n.name," "),e.xp6(1),e.Q6J("ngIf",n.tsDate),e.xp6(1),e.Q6J("ngIf",n.rsDate)}}function Xf(o,f){1&o&&e._UZ(0,"div",25)}function ql(o,f){if(1&o&&(e.TgZ(0,"div",26),e._UZ(1,"app-cost",27),e.qZA()),2&o){const n=e.oxw();e.xp6(1),e.Q6J("cost",n.totalCost)("remaining",n.remainingCost)}}const sb=[[["div","name",""]]],Dd=["div[name]"];let Jc=(()=>{class o{constructor(n,a,l){this._eventService=n,this._storageService=a,this._elementRef=l,this.nodes=[],this.left=[],this.center=[],this.right=[],this.hiddenItems={},this.hasCostAtRoot=!1,this.itemMap=new Map,this.dateFormat=ge.O.displayFormat}ngAfterViewInit(){const a=this._elementRef.nativeElement.querySelector(".spirit-tree-scroll");a&&(a.scrollTop=1e3)}ngOnChanges(n){n.tree&&(this.initializeNodes(),this.subscribeItemChanged(),this.calculateRemainingCosts(),this.tsDate=this.tree.ts?.date,this.rsDate=this.tree.visit?.return?.date)}ngOnDestroy(){this._itemSub?.unsubscribe()}initializeNodes(){this.itemMap.clear(),this.totalCost=lo.T.create(),this.remainingCost=lo.T.create(),this.nodes=[],this.left=[],this.center=[],this.right=[],this.hasCost=!1,this.tree&&(this.initializeNode(this.tree.node,0,0),this.hasCost=!lo.T.isEmpty(this.totalCost),this.hasCostAtRoot=!lo.T.isEmpty(this.tree.node))}subscribeItemChanged(){this._itemSub?.unsubscribe(),this._itemSub=this._eventService.itemToggled.pipe((0,_e.h)(n=>this.itemMap.has(n.guid))).subscribe(n=>this.onItemChanged(n))}onItemChanged(n){this.itemMap.get(n.guid)&&this.calculateRemainingCosts()}initializeNode(n,a,l){n.item&&this.itemMap.set(n.item.guid,n),this.nodes.push(n),(a<0?this.left:a>0?this.right:this.center)[l]=n,lo.T.add(this.totalCost,n),n.nw&&this.initializeNode(n.nw,a-1,l),n.ne&&this.initializeNode(n.ne,a+1,l),n.n&&this.initializeNode(n.n,a,l+1),n.hiddenItems?.length&&n.hiddenItems.forEach(M=>this.hiddenItems[M.guid]=n)}calculateRemainingCosts(){this.remainingCost=lo.T.create(),this.nodes.filter(n=>!n.unlocked&&!n.item?.unlocked).forEach(n=>{lo.T.add(this.remainingCost,n)})}unlockAll(){const n=this.nodes.filter(M=>M.item),l=n.map(M=>M.item).filter(M=>!M.unlocked).length;confirm(`Are you sure you want to ${l?"UNLOCK":"REMOVE"} all items from this tree?`)&&(l?n.filter(M=>!M.item.unlocked).forEach(M=>{M.item.unlocked=!0,M.unlocked=!0,this._storageService.add(M.item.guid,M.guid),this._eventService.toggleItem(M.item)}):n.filter(M=>M.item.unlocked).forEach(M=>{M.item.unlocked=!1;const U=M.item.nodes||[];U.forEach(q=>q.unlocked=!1),this._storageService.remove(M.item.guid,...U.map(q=>q.guid)),this._eventService.toggleItem(M.item)}),this._storageService.save())}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(Me),e.Y36(Xe.V),e.Y36(e.SBq))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-spirit-tree"]],inputs:{tree:"tree",name:"name",highlight:"highlight",highlightItem:"highlightItem"},features:[e.TTD],ngContentSelectors:Dd,decls:16,vars:11,consts:[[1,"content","sky-border-solid"],[1,"spirit-tree-scroll"],["container","body","placement","bottom-end",1,"unlock-all",3,"ngbTooltip","click"],[1,"spirit-tree"],[1,"column","left"],["class","st-item",4,"ngFor","ngForOf"],[1,"column","center"],[1,"column","right"],[1,"footer"],["class","name",4,"ngIf"],["class","hr",4,"ngIf"],["class","costs",4,"ngIf"],[1,"st-item"],[3,"node","position","highlight",4,"ngIf"],["class","arrow arrow-up",4,"ngIf"],[3,"node","position","highlight"],[1,"arrow","arrow-up"],["class","arrow arrow-left",4,"ngIf"],["class","arrow arrow-right",4,"ngIf"],[1,"arrow","arrow-left"],[1,"arrow","arrow-right"],[1,"name"],[1,"name-default"],["class","c-accent ts-date",4,"ngIf"],[1,"c-accent","ts-date"],[1,"hr"],[1,"costs"],[3,"cost","remaining"]],template:function(a,l){1&a&&(e.F$t(sb),e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.NdJ("click",function(){return l.unlockAll()}),e.TgZ(3,"mat-icon"),e._uU(4,"lock_open"),e.qZA()(),e.TgZ(5,"div",3)(6,"div",4),e.YNc(7,Wf,3,2,"div",5),e.qZA(),e.TgZ(8,"div",6),e.YNc(9,Wc,5,4,"div",5),e.qZA(),e.TgZ(10,"div",7),e.YNc(11,bd,3,2,"div",5),e.qZA()()(),e.TgZ(12,"div",8),e.YNc(13,Kf,6,3,"div",9),e.YNc(14,Xf,1,0,"div",10),e.YNc(15,ql,2,2,"div",11),e.qZA()()),2&a&&(e.ekj("highlight",l.highlight),e.xp6(1),e.ekj("pad-bottom",l.hasCostAtRoot),e.xp6(1),e.Q6J("ngbTooltip","Toggle all"),e.xp6(5),e.Q6J("ngForOf",l.left),e.xp6(2),e.Q6J("ngForOf",l.center),e.xp6(2),e.Q6J("ngForOf",l.right),e.xp6(2),e.Q6J("ngIf",l.name),e.xp6(1),e.Q6J("ngIf",l.name&&l.hasCost),e.xp6(1),e.Q6J("ngIf",l.hasCost))},dependencies:[K.sg,K.O5,Oo,z.Hw,md,Yl,fs],styles:["[_nghost-%COMP%]{display:inline-block}.content[_ngcontent-%COMP%]{border-radius:var(--border-radius);overflow:hidden}.spirit-tree-scroll[_ngcontent-%COMP%]{background:var(--color-tree-background);position:relative;overflow-y:auto;padding-top:20px}.spirit-tree-scroll.pad-bottom[_ngcontent-%COMP%]{padding-bottom:32px}.spirit-tree[_ngcontent-%COMP%]{display:inline-flex;gap:32px;width:min-content;padding:4px}.column[_ngcontent-%COMP%]{display:flex;gap:40px;flex-direction:column-reverse;justify-content:flex-start;counter-reset:item-counter;width:var(--item-size)}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{padding-bottom:48px}.st-item[_ngcontent-%COMP%]{position:relative;width:var(--item-size);height:var(--item-size)}.arrow[_ngcontent-%COMP%]{position:absolute;background:var(--color-tree-line);width:1px}.arrow-left[_ngcontent-%COMP%]{transform:rotate(-45deg);height:32px;left:-18px;top:0}.arrow-up[_ngcontent-%COMP%]{height:24px;top:-30px;left:50%;transform:translate(-50%)}.arrow-right[_ngcontent-%COMP%]{transform:rotate(45deg);height:32px;right:-18px;top:0}.footer[_ngcontent-%COMP%]{text-align:center;background:var(--color-tree-footer-background)}.name[_ngcontent-%COMP%]{padding:4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:bottom}.name-default[_ngcontent-%COMP%]:not(:only-child){display:none}.ts-date[_ngcontent-%COMP%]{font-size:13px;vertical-align:text-bottom}.hr[_ngcontent-%COMP%]{--width:calc(100% - 20px);height:1px;width:var(--width);margin-left:calc((100% - var(--width)) / 2);background:var(--color-tree-footer-border)}.costs[_ngcontent-%COMP%]{padding:4px}.cost[_ngcontent-%COMP%]{display:inline-block;font-size:14px;padding:0 6px}.cost[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:17px;vertical-align:sub;height:auto}.remaining-cost[_ngcontent-%COMP%]{color:var(--color-accent)}.seasonal[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{fill:var(--color-seasonal)}"]})}return o})();var wd=S(292),Co=S.n(wd);let Pa=(()=>{class o{constructor(){this.label=""}ngOnChanges(n){this.label=this.getLabel()}getLabel(){const n=this.date??Co()();return this.start&&n.isBefore(this.start)?this.getLabelBeforeStart(n):this.start&&!this.end?"ongoing":this.end&&n.isBefore(this.end)?this.getLabelBeforeEnd(n):this.end?"ended":""}getLabelBeforeStart(n){const a=ge.O.daysBetween(n,this.start);return a?`in ${a+1} days`:"tomorrow"}getLabelBeforeEnd(n){const a=ge.O.daysBetween(n,this.end);return a?`${a+1} days left`:"last day"}static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-days-left"]],inputs:{date:"date",start:"start",end:"end"},features:[e.TTD],decls:2,vars:1,template:function(a,l){1&a&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&a&&(e.xp6(1),e.Oqu(l.label))},changeDetection:0})}return o})(),na=(()=>{class o{constructor(){this.label=""}ngOnChanges(){this.label=this.getLabel()}getLabel(){if(!this.start||!this.end)return"";const n=ge.O.daysBetween(this.start,this.end);return n?`${n+1} days`:"1 day"}static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-duration"]],inputs:{start:"start",end:"end"},features:[e.TTD],decls:2,vars:1,template:function(a,l){1&a&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&a&&(e.xp6(1),e.Oqu(l.label))},changeDetection:0})}return o})(),ep=(()=>{class o{constructor(){this.settingChanged=new ee.x,this._wikiNewTab=!1,this._wikiNewTab=this.wikiNewTab}get wikiNewTab(){return"1"===localStorage.getItem("wiki.newtab")}set wikiNewTab(n){this._wikiNewTab=n,localStorage.setItem("wiki.newtab",n?"1":"0"),this.settingChanged.next()}static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function Td(o,f){if(1&o&&(e.ynx(0),e.TgZ(1,"a",1)(2,"mat-icon",2),e._uU(3,"question_mark"),e.qZA(),e.TgZ(4,"span",3),e._uU(5,"Wiki"),e.qZA()(),e.BQk()),2&o){const n=e.oxw();e.xp6(1),e.Tol(n.aClass),e.Udp("order",n.order),e.Q6J("href",n.wiki.href||"#",e.LSH),e.uIk("target",n.openNewTab?"_blank":void 0)}}let pr=(()=>{class o{constructor(n){this._settingService=n,this.aClass="container d-inline-block",this.openNewTab=!1,this.openNewTab=n._wikiNewTab}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(ep))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-wiki-link"]],inputs:{aClass:"aClass",wiki:"wiki",order:"order"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"href"],[1,"menu-icon"],[1,"menu-label"]],template:function(a,l){1&a&&e.YNc(0,Td,6,6,"ng-container",0),2&a&&e.Q6J("ngIf",l.wiki)},dependencies:[K.O5,z.Hw],styles:["[_nghost-%COMP%]{display:contents}"],changeDetection:0})}return o})();function H_(o,f){if(1&o&&(e.TgZ(0,"span",3),e._uU(1," ("),e._UZ(2,"app-days-left",11),e._uU(3,") "),e.qZA()),2&o){const n=e.oxw();e.xp6(2),e.Q6J("start",n.instance.date)("end",n.instance.endDate)}}function Ed(o,f){if(1&o&&(e.TgZ(0,"span",3),e._uU(1," ("),e._UZ(2,"app-days-left",11),e._uU(3,") "),e.qZA()),2&o){const n=e.oxw();e.xp6(2),e.Q6J("start",n.instance.date)("end",n.instance.endDate)}}function Wl(o,f){if(1&o&&(e.TgZ(0,"span",3),e._uU(1),e.qZA()),2&o){const n=e.oxw();e.xp6(1),e.hij("(",n.ecLeft," needed)")}}function Hs(o,f){if(1&o&&(e.TgZ(0,"span",3),e._uU(1),e.qZA()),2&o){const n=e.oxw();e.xp6(1),e.hij("(",n.cLeft," needed)")}}function Jl(o,f){if(1&o&&(e.TgZ(0,"div",21),e._UZ(1,"app-spirit-tree",22),e.qZA()),2&o){const n=f.$implicit,a=e.oxw(2);e.xp6(1),e.Q6J("tree",n.tree)("name",(null==n?null:n.name)||n.spirit.name)("highlightItem",a.highlightItem)}}function Md(o,f){if(1&o&&(e.TgZ(0,"div",16)(1,"div",1)(2,"h2",17),e._uU(3,"Spirits"),e.qZA()(),e.TgZ(4,"div",18)(5,"div",19),e.YNc(6,Jl,2,3,"div",20),e.qZA()()()),2&o){const n=e.oxw();e.xp6(6),e.Q6J("ngForOf",n.instance.spirits)}}function j_(o,f){1&o&&(e.TgZ(0,"span",37),e._uU(1,"Returning IAP"),e.qZA())}function V_(o,f){1&o&&(e.TgZ(0,"span",38),e._uU(1,"New IAP"),e.qZA())}function tp(o,f){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const n=e.oxw(3).$implicit;e.xp6(1),e.Oqu(n.name)}}function cc(o,f){1&o&&(e.TgZ(0,"span"),e._uU(1,"Premium Candle Store"),e.qZA())}function z_(o,f){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const n=e.oxw(3).$implicit;let a;e.xp6(1),e.Oqu(null!==(a=n.name)&&void 0!==a?a:null==n.spirit?null:n.spirit.name)}}function $_(o,f){if(1&o&&(e.ynx(0),e._UZ(1,"mat-icon",39),e.TgZ(2,"span",9),e._uU(3),e.qZA(),e.BQk()),2&o){const n=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngbTooltip","Regular candles"),e.xp6(2),e.hij(" ",n.c," ")}}function G_(o,f){if(1&o&&(e.ynx(0),e._UZ(1,"mat-icon",40),e.TgZ(2,"span",9),e._uU(3),e.qZA(),e.BQk()),2&o){const n=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngbTooltip","Season candles"),e.xp6(2),e.hij(" ",n.sc," ")}}function Sd(o,f){if(1&o&&(e.ynx(0),e._UZ(1,"mat-icon",41),e.TgZ(2,"span",9),e._uU(3),e.qZA(),e.BQk()),2&o){const n=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngbTooltip","Gift Season Pass"),e.xp6(2),e.hij(" ",n.sp," ")}}function np(o,f){if(1&o&&(e.TgZ(0,"div",32),e.YNc(1,$_,4,2,"ng-container",15),e.YNc(2,G_,4,2,"ng-container",15),e.YNc(3,Sd,4,2,"ng-container",15),e.qZA()),2&o){const n=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",n.c),e.xp6(1),e.Q6J("ngIf",n.sc),e.xp6(1),e.Q6J("ngIf",n.sp)}}function Y_(o,f){if(1&o&&(e.ynx(0),e.TgZ(1,"span",46),e._uU(2),e.qZA(),e.BQk()),2&o){const n=e.oxw(2).$implicit;e.xp6(2),e.Oqu(n.name)}}function ip(o,f){if(1&o&&e.YNc(0,Y_,3,1,"ng-container",15),2&o){const n=e.oxw().$implicit;e.Q6J("ngIf",n)}}function xd(o,f){if(1&o){const n=e.EpF();e.TgZ(0,"div",42),e.NdJ("click",function(l){e.CHM(n);const _=e.oxw().$implicit,M=e.oxw(4);return e.KtG(M.togglePurchased(l,_))}),e._UZ(1,"app-item",43),e.TgZ(2,"mat-icon",44),e._uU(3,"done"),e.qZA(),e.YNc(4,ip,1,1,"ng-template",null,45,e.W1O),e.qZA()}if(2&o){const n=f.$implicit,a=e.MAs(5),l=e.oxw().$implicit;e.xp6(1),e.Q6J("item",n)("ngbTooltip",a),e.xp6(1),e.ekj("unlocked",null==n?null:n.unlocked)("self",l.bought)}}function ab(o,f){if(1&o&&(e.TgZ(0,"div",27)(1,"div",1)(2,"h3",28),e._uU(3),e.qZA()(),e.TgZ(4,"div",4)(5,"div",29)(6,"mat-icon",8),e._uU(7),e.qZA(),e.TgZ(8,"span",9),e.YNc(9,j_,2,0,"span",30),e.YNc(10,V_,2,0,"span",31),e.qZA()(),e.TgZ(11,"div",32)(12,"mat-icon",8),e._uU(13,"location_on"),e.qZA(),e.TgZ(14,"span",9),e.YNc(15,tp,2,1,"span",15),e.YNc(16,cc,2,0,"span",15),e.YNc(17,z_,2,1,"span",15),e.qZA()(),e.TgZ(18,"div",32)(19,"mat-icon",8),e._uU(20,"attach_money"),e.qZA(),e.TgZ(21,"span",33),e._uU(22),e.qZA()(),e.YNc(23,np,4,3,"div",34),e.TgZ(24,"div",35),e.YNc(25,xd,6,6,"div",36),e.qZA()()()),2&o){const n=f.$implicit,a=e.oxw(2).$implicit,l=e.oxw(2);e.ekj("highlight",n.guid===l.highlightIap),e.xp6(2),e.Q6J("ngbTooltip",n.name),e.xp6(1),e.hij(" ",l.iapNames[n.guid]," "),e.xp6(4),e.Oqu(n.returning?"undo":"grade"),e.xp6(2),e.Q6J("ngIf",n.returning),e.xp6(1),e.Q6J("ngIf",!n.returning),e.xp6(5),e.Q6J("ngIf",a.name),e.xp6(1),e.Q6J("ngIf",!a.name&&"Store"===a.type),e.xp6(1),e.Q6J("ngIf",!a.name&&"Store"!==a.type),e.xp6(4),e.Q6J("ngbTooltip","Price of the IAP in USD."),e.xp6(1),e.hij(" ",n.price," "),e.xp6(1),e.Q6J("ngIf",n.c||n.sc||n.sp),e.xp6(2),e.Q6J("ngForOf",n.items)}}function cb(o,f){if(1&o&&(e.ynx(0),e.YNc(1,ab,26,14,"div",26),e.BQk()),2&o){const n=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",n.iaps)}}function q_(o,f){if(1&o&&(e.ynx(0),e.YNc(1,cb,2,1,"ng-container",15),e.BQk()),2&o){const n=f.$implicit;e.xp6(1),e.Q6J("ngIf",null==n.iaps?null:n.iaps.length)}}function W_(o,f){if(1&o&&(e.ynx(0),e.TgZ(1,"div",16)(2,"div",1)(3,"h2",17),e._uU(4,"In-App Purchases"),e.qZA()(),e.TgZ(5,"div",23)(6,"div",24),e.YNc(7,q_,2,1,"ng-container",25),e.qZA()()(),e.BQk()),2&o){const n=e.oxw();e.xp6(7),e.Q6J("ngForOf",n.shops)}}let lb=(()=>{class o{constructor(n,a,l,_,M){this._dataService=n,this._debugService=a,this._eventService=l,this._iapService=_,this._route=M,this.iapNames={},this.c=0,this.cLeft=0,this.ec=0,this.ecLeft=0,M.queryParamMap.subscribe(U=>this.onQueryChanged(U)),M.paramMap.subscribe(U=>this.onParamsChanged(U)),this.subscribeItemChanged()}ngOnDestroy(){this._itemSub?.unsubscribe()}subscribeItemChanged(){this._itemSub?.unsubscribe(),this._itemSub=this._eventService.itemToggled.subscribe(n=>this.onItemChanged())}onItemChanged(){this.calculateCandles()}onQueryChanged(n){this.highlightItem=n.get("highlightItem")||void 0,this.highlightIap=n.get("highlightIap")||void 0}onParamsChanged(n){const a=n.get("guid");this.instance=this._dataService.guidMap.get(a),this.state=ge.O.getStateFromPeriod(this.instance.date,this.instance.endDate),this.shops=this.instance.shops?[...this.instance.shops]:void 0,this.shops?.sort((_,M)=>{const U=_.iaps?.filter(ye=>!ye.returning).length??0;return(M.iaps?.filter(ye=>!ye.returning).length??0)-U});const l=this.instance.event?.name;l&&this.shops?.forEach(_=>{_.iaps?.forEach(M=>{let U=M.name?.replace(`${l} `,"");-1===U?.indexOf(" ")&&(U=l.startsWith("Days of ")?M.name?.substring(8):M.name),this.iapNames[M.guid]=U})}),this.calculateCandles()}togglePurchased(n,a){if(this._debugService.copyShop)return n.stopImmediatePropagation(),n.preventDefault(),void navigator.clipboard.writeText(a.shop?.guid??"");this._iapService.togglePurchased(a)}calculateCandles(){this.c=this.cLeft=this.ec=this.ecLeft=0,this.instance.spirits?.map(n=>n.tree).forEach(n=>{n&&De.f.all(n.node).forEach(a=>{this.c+=a.c||0,this.ec+=a.ec||0,!a.unlocked&&!a.item?.unlocked&&(this.cLeft+=a.c||0,this.ecLeft+=a.ec||0)})})}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(xe.D),e.Y36(ze),e.Y36(Me),e.Y36(nt),e.Y36(W.gz))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-event-instance"]],decls:36,vars:27,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"c-accent"],[1,"sky-card-body"],[1,"grid","grid-2"],[3,"wiki","aClass"],[1,"container"],[1,"menu-icon"],[1,"menu-label"],["class","c-accent",4,"ngIf"],[3,"start","end"],["svgIcon","ticket",1,"menu-icon"],["svgIcon","candle",1,"menu-icon"],["class","sky-card mt",4,"ngIf"],[4,"ngIf"],[1,"sky-card","mt"],[1,"h3","mb-0"],[1,"sky-card-body","pad-0"],[1,"sky-flex","scroll-x","pad"],["class","tree-wrapper p-inline-block",4,"ngFor","ngForOf"],[1,"tree-wrapper","p-inline-block"],[3,"tree","name","highlightItem"],[1,"pad","sky-card-body"],[1,"grid","grid-4"],[4,"ngFor","ngForOf"],["class","sky-card sky-card-border p-rel",3,"highlight",4,"ngFor","ngForOf"],[1,"sky-card","sky-card-border","p-rel"],["container","body",1,"h4","mb-0",3,"ngbTooltip"],[1,"item"],["class","c-partial",4,"ngIf"],["class","c-full",4,"ngIf"],[1,"mt-half","item"],["container","body",1,"menu-label",3,"ngbTooltip"],["class","mt-half item",4,"ngIf"],[1,"mt-half","item","iap-items"],["class","iap-item point d-inline-block p-rel",3,"click",4,"ngFor","ngForOf"],[1,"c-partial"],[1,"c-full"],["svgIcon","candle","container","body","placement","right",1,"menu-icon",3,"ngbTooltip"],["svgIcon","season-candle","container","body","placement","right",1,"menu-icon",3,"ngbTooltip"],["svgIcon","gift","container","body","placement","right",1,"menu-icon","seasonal",3,"ngbTooltip"],[1,"iap-item","point","d-inline-block","p-rel",3,"click"],["placement","bottom","container","body",3,"item","ngbTooltip"],[1,"unlock-check"],["itemHover",""],[1,"ws-nw"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3),e.TgZ(4,"span",3),e._uU(5),e.ALo(6,"dayjs"),e.qZA()()(),e.TgZ(7,"div",4)(8,"div",5),e._UZ(9,"app-wiki-link",6),e.TgZ(10,"div",7)(11,"mat-icon",8),e._uU(12,"calendar_month"),e.qZA(),e.TgZ(13,"span",9),e._uU(14),e.ALo(15,"dayjs"),e.ALo(16,"dayjs"),e.qZA(),e.YNc(17,H_,4,2,"span",10),e.qZA(),e.TgZ(18,"div",7)(19,"mat-icon",8),e._uU(20,"schedule"),e.qZA(),e.TgZ(21,"span",9),e._UZ(22,"app-duration",11),e.YNc(23,Ed,4,2,"span",10),e.qZA()(),e.TgZ(24,"div",7),e._UZ(25,"mat-icon",12),e.TgZ(26,"span",9),e._uU(27),e.YNc(28,Wl,2,1,"span",10),e.qZA()(),e.TgZ(29,"div",7),e._UZ(30,"mat-icon",13),e.TgZ(31,"span",9),e._uU(32),e.YNc(33,Hs,2,1,"span",10),e.qZA()()()()(),e.YNc(34,Md,7,1,"div",14),e.YNc(35,W_,8,1,"ng-container",15)),2&a&&(e.xp6(3),e.hij(" ",l.instance.event.name," "),e.xp6(2),e.Oqu(e.xi3(6,20,l.instance.date,"YYYY")),e.xp6(4),e.Q6J("wiki",l.instance.event._wiki)("aClass","container colspan-2"),e.xp6(1),e.ekj("expired","ended"===l.state),e.xp6(4),e.AsE(" ",e.lcZ(15,23,l.instance.date)," to ",e.lcZ(16,25,l.instance.endDate)," "),e.xp6(3),e.Q6J("ngIf","active"!==l.state),e.xp6(1),e.ekj("expired","ended"===l.state),e.xp6(4),e.Q6J("start",l.instance.date)("end",l.instance.endDate),e.xp6(1),e.Q6J("ngIf","active"===l.state),e.xp6(4),e.hij(" ",l.ec," event currency "),e.xp6(1),e.Q6J("ngIf",l.ecLeft),e.xp6(4),e.hij(" ",l.c," candles "),e.xp6(1),e.Q6J("ngIf",l.cLeft),e.xp6(1),e.Q6J("ngIf",null==l.instance.spirits?null:l.instance.spirits.length),e.xp6(1),e.Q6J("ngIf",null==l.shops?null:l.shops.length))},dependencies:[K.sg,K.O5,Oo,z.Hw,Jc,ac,Pa,na,pr,fs],styles:[".tree-wrapper[_ngcontent-%COMP%]   app-spirit-tree[_ngcontent-%COMP%]{vertical-align:bottom}"]})}return o})(),Ra=(()=>{class o{constructor(n){this.template=n}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:o,selectors:[["","appTableColumn",""]],inputs:{tdClass:"tdClass"}})}return o})(),xs=(()=>{class o{constructor(n){this.template=n,this.fit=!1}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:o,selectors:[["","appTableHeader",""]],inputs:{fit:"fit",width:"width",textAlign:"textAlign"}})}return o})(),Id=(()=>{class o{constructor(n){this.template=n}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:o,selectors:[["","appTableFooter",""]],inputs:{colspan:"colspan",textAlign:"textAlign"}})}return o})();function Ad(o,f){if(1&o&&(e.ynx(0),e.TgZ(1,"th"),e.GkF(2,4),e.qZA(),e.BQk()),2&o){const n=f.$implicit;e.xp6(1),e.Udp("text-align",n.textAlign)("width",n.width),e.ekj("fit",n.fit),e.xp6(1),e.Q6J("ngTemplateOutlet",n.template)}}function Od(o,f){if(1&o&&(e.TgZ(0,"thead")(1,"tr"),e.YNc(2,Ad,3,7,"ng-container",3),e.qZA()()),2&o){const n=e.oxw();e.xp6(2),e.Q6J("ngForOf",n.headers)}}const lc=function(o){return{row:o}};function Nd(o,f){if(1&o&&(e.ynx(0),e.TgZ(1,"td"),e.GkF(2,5),e.qZA(),e.BQk()),2&o){const n=f.$implicit,a=e.oxw().$implicit;e.xp6(1),e.Tol(n.tdClass),e.xp6(1),e.Q6J("ngTemplateOutlet",n.template)("ngTemplateOutletContext",e.VKq(4,lc,a))}}function kd(o,f){if(1&o&&(e.ynx(0),e.TgZ(1,"tr"),e.YNc(2,Nd,3,6,"ng-container",3),e.qZA(),e.BQk()),2&o){const n=e.oxw();e.xp6(2),e.Q6J("ngForOf",n.columns)}}function Qc(o,f){if(1&o&&(e.ynx(0),e.TgZ(1,"td"),e.GkF(2,4),e.qZA(),e.BQk()),2&o){const n=f.$implicit;e.xp6(1),e.Udp("text-align",n.textAlign),e.uIk("colspan",n.colspan),e.xp6(1),e.Q6J("ngTemplateOutlet",n.template)}}function Ql(o,f){if(1&o&&(e.TgZ(0,"tfoot")(1,"tr"),e.YNc(2,Qc,3,4,"ng-container",3),e.qZA()()),2&o){const n=e.oxw();e.xp6(2),e.Q6J("ngForOf",n.footers)}}let ps=(()=>{class o{static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-table"]],contentQueries:function(a,l,_){if(1&a&&(e.Suo(_,xs,4),e.Suo(_,Ra,4),e.Suo(_,Id,4)),2&a){let M;e.iGM(M=e.CRH())&&(l.headers=M),e.iGM(M=e.CRH())&&(l.columns=M),e.iGM(M=e.CRH())&&(l.footers=M)}},inputs:{rows:"rows"},decls:6,vars:3,consts:[[1,"table-container"],[1,""],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"ngTemplateOutlet"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"table",1),e.YNc(2,Od,3,1,"thead",2),e.TgZ(3,"tbody"),e.YNc(4,kd,3,1,"ng-container",3),e.qZA(),e.YNc(5,Ql,3,1,"tfoot",2),e.qZA()()),2&a&&(e.xp6(2),e.Q6J("ngIf",null==l.headers?null:l.headers.length),e.xp6(2),e.Q6J("ngForOf",l.rows),e.xp6(1),e.Q6J("ngIf",null==l.footers?null:l.footers.length))},dependencies:[K.sg,K.O5,K.tP],styles:[".table-container[_ngcontent-%COMP%]{min-width:-moz-fit-content;min-width:fit-content}table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0 var(--padding-content-half);margin-top:calc(-1 * var(--padding-content-half));margin-bottom:calc(-1 * var(--padding-content-half))}td[_ngcontent-%COMP%]{background-color:var(--color-background)}th[_ngcontent-%COMP%], tfoot[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:var(--color-table-header-background)}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:var(--padding-content);border-top:var(--border-solid);border-bottom:var(--border-solid)}th[_ngcontent-%COMP%]:first-child, td[_ngcontent-%COMP%]:first-child{border-top-left-radius:var(--border-radius);border-bottom-left-radius:var(--border-radius);border-left:var(--border-solid)}th[_ngcontent-%COMP%]:last-child, td[_ngcontent-%COMP%]:last-child{border-top-right-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-right:var(--border-solid)}th.fit[_ngcontent-%COMP%], td.fit[_ngcontent-%COMP%]{width:1px}.link[_ngcontent-%COMP%]{cursor:pointer}.link[_ngcontent-%COMP%]:hover{color:var(--color-link-hover)}"]})}return o})();function Pd(o,f){1&o&&e._uU(0,"#")}function Rd(o,f){1&o&&e._uU(0,"Name")}function Kl(o,f){1&o&&e._uU(0,"Year")}function ub(o,f){1&o&&e._uU(0,"Start")}function Fd(o,f){1&o&&e._uU(0,"End")}function Kc(o,f){1&o&&e._uU(0,"Spirits")}function J_(o,f){1&o&&e._uU(0,"IAPs")}function op(o,f){1&o&&e._uU(0,"Unlocked")}function Q_(o,f){1&o&&e._uU(0),2&o&&e.hij(" ",f.row.number," ")}const K_=function(o){return["/event-instance",o]};function Ld(o,f){if(1&o&&(e.TgZ(0,"a",8),e._uU(1),e.qZA()),2&o){const n=f.row;e.Q6J("routerLink",e.VKq(2,K_,n.guid)),e.xp6(1),e.Oqu(n.name)}}function rp(o,f){1&o&&e._uU(0),2&o&&e.hij(" ",f.row.year," ")}function X_(o,f){if(1&o&&(e._uU(0),e.ALo(1,"dayjs")),2&o){const n=f.row,a=e.oxw();e.hij(" ",e.xi3(1,1,n.date,a.dateFormat)," ")}}function ev(o,f){if(1&o&&(e._uU(0),e.ALo(1,"dayjs")),2&o){const n=f.row,a=e.oxw();e.hij(" ",e.xi3(1,1,n.endDate,a.dateFormat)," ")}}function db(o,f){1&o&&e._uU(0),2&o&&e.hij(" ",f.row.spirits," ")}function tv(o,f){if(1&o&&(e.ynx(0),e._uU(1," ("),e.TgZ(2,"span",10)(3,"mat-icon"),e._uU(4,"undo"),e.qZA(),e._uU(5),e.qZA(),e._uU(6,") "),e.BQk()),2&o){const n=e.oxw().row;e.xp6(2),e.Q6J("ngbTooltip","Contains "+n.returningIaps+" returning IAPs."),e.xp6(3),e.Oqu(n.returningIaps)}}function Xl(o,f){if(1&o&&(e._uU(0),e.YNc(1,tv,7,2,"ng-container",9)),2&o){const n=f.row;e.hij(" ",n.iaps," "),e.xp6(1),e.Q6J("ngIf",n.returningIaps)}}function Bd(o,f){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const n=e.oxw().row;e.ekj("completed",n.unlockedItems===n.totalItems),e.xp6(1),e.AsE(" ",n.unlockedItems," / ",n.totalItems," ")}}function nv(o,f){1&o&&e.YNc(0,Bd,2,4,"span",11),2&o&&e.Q6J("ngIf",f.row.totalItems)}let sp=(()=>{class o{constructor(n,a){this._dataService=n,this._route=a,this.rows=[],this.dateFormat=ge.O.displayFormat}ngOnInit(){this._route.paramMap.subscribe(n=>this.onParamsChanged(n))}onParamsChanged(n){const a=n.get("guid");this.event=this._dataService.guidMap.get(a),this.instances=[],this.event.instances&&this.instances.push(...this.event.instances),this.initTable()}initTable(){this.rows=this.instances.map((n,a)=>{let l=0,_=0;n.shops?.forEach(q=>{l+=q.iaps?.length??0,_+=q.iaps?.filter(ye=>ye.returning).length??0});let M=0,U=0;return n.spirits?.forEach(q=>{De.f.getItems(q.tree.node).forEach(ye=>{ye.unlocked&&M++,U++})}),{number:a+1,name:this.event.name,year:n.date.year(),guid:n.guid,date:n.date,endDate:n.endDate,iaps:l,returningIaps:_,spirits:n.spirits?.length??0,unlockedItems:M,totalItems:U}}).reverse()}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(xe.D),e.Y36(W.gz))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-event"]],decls:23,vars:2,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card","mt"],[1,"sky-card-body"],[3,"rows"],[3,"appTableHeader"],[3,"appTableColumn"],[3,"routerLink"],[4,"ngIf"],["container","body",1,"returning",3,"ngbTooltip"],[3,"completed",4,"ngIf"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3),e.qZA()()(),e.TgZ(4,"div",3)(5,"div",4)(6,"app-table",5),e.YNc(7,Pd,1,0,"ng-template",6),e.YNc(8,Rd,1,0,"ng-template",6),e.YNc(9,Kl,1,0,"ng-template",6),e.YNc(10,ub,1,0,"ng-template",6),e.YNc(11,Fd,1,0,"ng-template",6),e.YNc(12,Kc,1,0,"ng-template",6),e.YNc(13,J_,1,0,"ng-template",6),e.YNc(14,op,1,0,"ng-template",6),e.YNc(15,Q_,1,1,"ng-template",7),e.YNc(16,Ld,2,4,"ng-template",7),e.YNc(17,rp,1,1,"ng-template",7),e.YNc(18,X_,2,4,"ng-template",7),e.YNc(19,ev,2,4,"ng-template",7),e.YNc(20,db,1,1,"ng-template",7),e.YNc(21,Xl,2,2,"ng-template",7),e.YNc(22,nv,1,1,"ng-template",7),e.qZA()()()),2&a&&(e.xp6(3),e.Oqu(l.event.name),e.xp6(3),e.Q6J("rows",l.rows))},dependencies:[K.O5,W.rH,Oo,z.Hw,ps,Ra,xs,fs],styles:[".returning[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:relative;top:6px}.returning[_ngcontent-%COMP%]{color:var(--color-old)}.completed[_ngcontent-%COMP%]{color:var(--color-unlock-check);font-weight:700}"]})}return o})();function Ud(o,f){if(1&o&&e._UZ(0,"div",10),2&o){const n=e.oxw(2);e.Udp("order",1)("background-image",n.imageUrlSafe)("background-position",n.event.imagePosition||void 0)}}function eu(o,f){if(1&o&&(e.TgZ(0,"div",11)(1,"mat-icon",12),e._uU(2,"calendar_month"),e.qZA(),e.TgZ(3,"span",13),e._uU(4),e.ALo(5,"dayjs"),e.ALo(6,"dayjs"),e.TgZ(7,"span",14),e._uU(8," ("),e._UZ(9,"app-days-left",15),e._uU(10,") "),e.qZA()()()),2&o){const n=e.oxw(2);e.Udp("order",n.sections.date),e.xp6(4),e.AsE(" ",e.lcZ(5,6,n.instance.date)," to ",e.lcZ(6,8,n.instance.endDate)," "),e.xp6(5),e.Q6J("start",n.instance.date)("end",n.instance.endDate)}}const ap=function(o){return["/event-instance",o]};function cp(o,f){if(1&o&&(e.TgZ(0,"a",16)(1,"mat-icon",12),e._uU(2,"article"),e.qZA(),e.TgZ(3,"span",13),e._uU(4," Overview "),e.qZA()()),2&o){const n=e.oxw(2);e.Udp("order",n.sections.overview),e.Q6J("routerLink",e.VKq(3,ap,n.instance.guid))}}const iv=function(o){return["/event",o]};function lp(o,f){if(1&o&&(e.TgZ(0,"a",16)(1,"mat-icon",12),e._uU(2,"list"),e.qZA(),e.TgZ(3,"span",13),e._uU(4," List "),e.qZA()()),2&o){const n=e.oxw(2);e.Udp("order",n.sections.list),e.Q6J("routerLink",e.VKq(3,iv,n.event.guid))}}function hb(o,f){if(1&o){const n=e.EpF();e.TgZ(0,"div",17),e.NdJ("click",function(){e.CHM(n);const l=e.oxw(2);return e.KtG(l.checkin())}),e.TgZ(1,"mat-icon",12),e._uU(2),e.qZA(),e.TgZ(3,"span",13),e._uU(4," I have done my dailies. "),e.qZA()()}if(2&o){const n=e.oxw(2);e.Udp("order",n.sections.checkin),e.ekj("active",n.checkedIn),e.xp6(2),e.Oqu(n.checkedIn?"check_box":"check_box_outline_blank")}}function ov(o,f){if(1&o&&(e.TgZ(0,"a",16)(1,"mat-icon",12),e._uU(2,"schedule"),e.qZA(),e.TgZ(3,"span",13),e._uU(4," Most recent "),e.TgZ(5,"span",14),e._uU(6),e.ALo(7,"dayjs"),e.qZA()()()),2&o){const n=e.oxw(2);e.Udp("order",n.sections.recent),e.Q6J("routerLink",e.VKq(7,ap,n.lastInstance.guid)),e.xp6(6),e.hij("(",e.xi3(7,4,n.lastInstance.date,"YYYY"),")")}}function tu(o,f){if(1&o&&(e.TgZ(0,"div",11)(1,"mat-icon",12),e._uU(2,"sell"),e.qZA(),e.TgZ(3,"span",13),e._UZ(4,"app-cost",18),e.qZA()()),2&o){const n=e.oxw(2);e.Udp("order",n.sections.cost),e.xp6(4),e.Q6J("cost",n.cost)("remaining",n.remainingCost)("borderLeft",!0)}}function rv(o,f){if(1&o&&(e.TgZ(0,"div",1)(1,"div",2)(2,"h2",3),e._uU(3),e.qZA()(),e.TgZ(4,"div",4)(5,"div",5),e.YNc(6,Ud,1,6,"div",6),e.YNc(7,eu,11,10,"div",7),e.YNc(8,cp,5,5,"a",8),e.YNc(9,lp,5,5,"a",8),e.YNc(10,hb,5,5,"div",9),e.YNc(11,ov,8,9,"a",8),e.YNc(12,tu,5,5,"div",7),e.qZA()()()),2&o){const n=e.oxw();e.xp6(3),e.Oqu(n.event.name),e.xp6(3),e.Q6J("ngIf",n.sections.img&&n.imageUrlSafe),e.xp6(1),e.Q6J("ngIf",n.sections.date&&n.instance),e.xp6(1),e.Q6J("ngIf",n.sections.overview&&n.instance),e.xp6(1),e.Q6J("ngIf",n.sections.list),e.xp6(1),e.Q6J("ngIf",n.sections.checkin),e.xp6(1),e.Q6J("ngIf",n.sections.recent&&n.lastInstance),e.xp6(1),e.Q6J("ngIf",n.sections.cost&&n.cost)}}let Fa=(()=>{class o{constructor(){this.options={show:["img","list","recent"]},this.sections={},this.checkedIn=!1}ngOnInit(){this.updateSections(),this.updateEvent(),this.updateInstance()}ngOnChanges(n){n.options&&this.updateSections(),n.event&&this.updateEvent(),n.instance&&this.updateInstance()}checkin(){this.checkedIn=!this.checkedIn,this.checkedIn?localStorage.setItem(`event.checkin.${this.event?.guid}`,Co().tz().format("YYYY-MM-DD")):localStorage.removeItem(`event.checkin.${this.event?.guid}`)}updateEvent(){if(this.event?.instances){const n=Co()();this.lastInstance=this.event.instances.findLast(a=>ge.O.isActive(a.date,a.endDate)),this.lastInstance??=this.event.instances.findLast(a=>a.date.isBefore(n))}this.imageUrlSafe=this.event?.imageUrl?`url('${this.event.imageUrl}')`:void 0,this.updateCheckin()}updateCheckin(){const n=localStorage.getItem(`event.checkin.${this.event?.guid}`);if(n){const a=Co().tz(n,"YYYY-MM-DD",ge.O.skyTimeZone);this.checkedIn=a.isSame(Co().tz(),"day")}}updateInstance(){if(this.cost=this.remainingCost=void 0,!this.instance)return;const n=this.instance.spirits.map(l=>De.f.all(l.tree?.node)).flat();this.cost=lo.T.add(lo.T.create(),...n);const a=n.filter(l=>!l.unlocked&&!l.item?.unlocked);this.remainingCost=lo.T.add(lo.T.create(),...a)}updateSections(){this.sections={},this.options.show?.forEach((n,a)=>{this.sections[n]=a+2})}static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-event-card"]],inputs:{event:"event",instance:"instance",options:"options"},features:[e.TTD],decls:1,vars:1,consts:[["class","sky-card p-rel",4,"ngIf"],[1,"sky-card","p-rel"],[1,"sky-card-header"],[1,"h3"],[1,"sky-card-body","event-body"],[1,"grid","grid-1"],["class","event-img sky-border-solid",3,"order","background-image","background-position",4,"ngIf"],["class","item",3,"order",4,"ngIf"],["class","item link",3,"routerLink","order",4,"ngIf"],["class","item checkin",3,"active","order","click",4,"ngIf"],[1,"event-img","sky-border-solid"],[1,"item"],[1,"menu-icon"],[1,"menu-label"],[1,"c-accent"],[3,"start","end"],[1,"item","link",3,"routerLink"],[1,"item","checkin",3,"click"],[3,"cost","remaining","borderLeft"]],template:function(a,l){1&a&&e.YNc(0,rv,13,8,"div",0),2&a&&e.Q6J("ngIf",l.event)},dependencies:[K.O5,W.rH,z.Hw,Pa,Yl,fs],styles:[".event-img[_ngcontent-%COMP%]{box-shadow:0 0 8px 1px var(--color-image-inset) inset;border-radius:var(--border-radius);height:var(--img-preview-height);background-repeat:no-repeat;background-position:center;background-size:100%;max-width:960px}.checkin[_ngcontent-%COMP%]{cursor:pointer}.checkin[_ngcontent-%COMP%]:hover{color:var(--color-link-hover)}"],changeDetection:0})}return o})();const uc=function(){return["img","list","recent"]},up=function(o){return{show:o}};function dp(o,f){1&o&&e._UZ(0,"app-event-card",9),2&o&&e.Q6J("event",f.$implicit)("options",e.VKq(3,up,e.DdM(2,uc)))}function sv(o,f){1&o&&e._UZ(0,"app-event-card",9),2&o&&e.Q6J("event",f.$implicit)("options",e.VKq(3,up,e.DdM(2,uc)))}const cv=function(){return{href:"https://sky-children-of-the-light.fandom.com/wiki/Special_Events"}};let hp=(()=>{class o{constructor(n){this._dataService=n,this.lastInstances={},this.eventMap={}}ngOnInit(){this.recurring=[],this.old=[],this._dataService.eventConfig.items.forEach(n=>{if(this.eventMap[n.guid]=n,n.recurring?this.recurring.push(n):this.old.push(n),n.instances){const a=[...n.instances],l=[...a].reverse(),_=Co()(),M=a.find(U=>ge.O.isActive(U.date,U.endDate))??l.find(U=>U.date.isBefore(_));this.lastInstances[n.guid]=M}}),this.old.sort((n,a)=>this.lastInstances[n.guid]?this.lastInstances[a.guid]?this.lastInstances[a.guid].date.diff(this.lastInstances[n.guid].date):-1:1)}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(xe.D))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-events"]],decls:20,vars:4,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card-body"],[3,"wiki"],[1,"sky-card","mt"],[1,"h3"],[1,"grid","grid-4"],[3,"event","options",4,"ngFor","ngForOf"],[3,"event","options"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Events"),e.qZA()(),e.TgZ(4,"div",3),e._UZ(5,"app-wiki-link",4),e.qZA()(),e.TgZ(6,"div",5)(7,"div",1)(8,"h2",6),e._uU(9,"Recurring events"),e.qZA()(),e.TgZ(10,"div",3)(11,"div",7),e.YNc(12,dp,1,5,"app-event-card",8),e.qZA()()(),e.TgZ(13,"div",5)(14,"div",1)(15,"h2",6),e._uU(16,"Other events"),e.qZA()(),e.TgZ(17,"div",3)(18,"div",7),e.YNc(19,sv,1,5,"app-event-card",8),e.qZA()()()),2&a&&(e.xp6(5),e.Q6J("wiki",e.DdM(3,cv)),e.xp6(7),e.Q6J("ngForOf",l.recurring),e.xp6(7),e.Q6J("ngForOf",l.old))},dependencies:[K.sg,Fa,pr]})}return o})();class Xc{static getItemLink(f){return{route:["/item"],extras:{queryParams:{type:f.type,item:f.guid}}}}static getItemSource(f){if(f.nodes?.length||f.hiddenNodes?.length){const n=[...f.nodes||[],...f.hiddenNodes||[]];let a,l=Co()("2000-1-1");for(const q of n){if(q.unlocked){a=q;break}const ye=De.f.getRoot(q)?.spiritTree;if(!ye)continue;const Ve=ye?.eventInstanceSpirit?.eventInstance?ye.eventInstanceSpirit.eventInstance.date:ye?.ts?ye.ts.date:ye?.visit?ye.visit.return.date:Co()("2000-1-2");Ve.diff(l)<0||(l=Ve,a=q)}if(!a)return;const _=De.f.getRoot(a)?.spiritTree,M={queryParams:{highlightItem:f.guid}},U=_?.spirit??_?.ts?.spirit??_?.visit?.spirit;if(_?.eventInstanceSpirit)return{route:["/event-instance",_.eventInstanceSpirit.eventInstance.guid],extras:M};if(U)return{route:["/spirit",U.guid],extras:M}}else if(f.iaps?.length){const n=f.iaps.find(_=>_.bought)||f.iaps.find(_=>_?.shop?.permanent)||f.iaps.at(-1),a=n?.shop,l={queryParams:{highlightIap:n?.guid}};if(a?.permanent)return{route:["/shop"],extras:l};if(a?.event)return{route:["/event-instance",a.event.guid],extras:l};if(a?.season)return{route:["/season",a.season.guid],extras:l}}}static getPreviewLink(f){let n;switch(f.type){case"Hat":n="Hair_Accessories";break;case"Hair":n="Hair";break;case"Mask":n="Masks";break;case"FaceAccessory":n="Face_Accessories";break;case"Necklace":n="Necklaces";break;case"Outfit":n="Outfits";break;case"Shoes":n="Shoes";break;case"Cape":n="Capes";break;case"Instrument":case"Held":case"Prop":n="Props";break;default:n=""}if(!n)return"";const a=new URL(`https://sky-children-of-the-light.fandom.com/wiki/${n}`),l=De.f.getRoot(f.nodes?.at(-1)??f.hiddenNodes?.at(-1))?.spiritTree,_=l?.spirit??l?.ts?.spirit??l?.visit?.spirit;return a.searchParams.append("tabber-active",_?_.name:f.name),a.hash="Held"===f.type||"Instrument"===f.type?"Held_Props_Display":"Prop"===f.type?"Placeable_Props_Display":"Display",a.toString()}static getQueryParams(f){const n=f instanceof URL?f:new URL(f),a={};for(const[l,_]of n.searchParams.entries())a[l]=_;return a}}let Zd=(()=>{class o{constructor(){this.typeChanged=new e.vpe,this._showTypes={}}ngOnInit(){!this.showTypes&&this.setTypes(void 0)}ngOnChanges(n){n.showTypes&&this.setTypes(n.showTypes.currentValue)}changeType(n){this.type!==n&&this.typeChanged.emit(n)}setTypes(n){n??=["Outfit","Shoes","Mask","FaceAccessory","Necklace","Hair","Hat","Cape","Held","Prop","Emote","Stance","Call"],this._showTypes={};for(const a of n)this._showTypes[a]=!0}static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-item-type-selector"]],inputs:{type:"type",showTypes:"showTypes"},outputs:{typeChanged:"typeChanged"},features:[e.TTD],decls:27,vars:39,consts:[[1,"flex"],["container","body",1,"item-icon","category",3,"ngbTooltip","click"],["svgIcon","outfit"],["svgIcon","shoes"],["svgIcon","mask"],["svgIcon","face-acc"],["svgIcon","necklace"],["svgIcon","hair"],["svgIcon","hat"],["svgIcon","cape"],["svgIcon","held"],["svgIcon","prop"],["svgIcon","emote"],["svgIcon","stance"],["svgIcon","call"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1),e.NdJ("click",function(){return l.changeType("Outfit")}),e._UZ(2,"mat-icon",2),e.qZA(),e.TgZ(3,"div",1),e.NdJ("click",function(){return l.changeType("Shoes")}),e._UZ(4,"mat-icon",3),e.qZA(),e.TgZ(5,"div",1),e.NdJ("click",function(){return l.changeType("Mask")}),e._UZ(6,"mat-icon",4),e.qZA(),e.TgZ(7,"div",1),e.NdJ("click",function(){return l.changeType("FaceAccessory")}),e._UZ(8,"mat-icon",5),e.qZA(),e.TgZ(9,"div",1),e.NdJ("click",function(){return l.changeType("Necklace")}),e._UZ(10,"mat-icon",6),e.qZA(),e.TgZ(11,"div",1),e.NdJ("click",function(){return l.changeType("Hair")}),e._UZ(12,"mat-icon",7),e.qZA(),e.TgZ(13,"div",1),e.NdJ("click",function(){return l.changeType("Hat")}),e._UZ(14,"mat-icon",8),e.qZA(),e.TgZ(15,"div",1),e.NdJ("click",function(){return l.changeType("Cape")}),e._UZ(16,"mat-icon",9),e.qZA(),e.TgZ(17,"div",1),e.NdJ("click",function(){return l.changeType("Held")}),e._UZ(18,"mat-icon",10),e.qZA(),e.TgZ(19,"div",1),e.NdJ("click",function(){return l.changeType("Prop")}),e._UZ(20,"mat-icon",11),e.qZA(),e.TgZ(21,"div",1),e.NdJ("click",function(){return l.changeType("Emote")}),e._UZ(22,"mat-icon",12),e.qZA(),e.TgZ(23,"div",1),e.NdJ("click",function(){return l.changeType("Stance")}),e._UZ(24,"mat-icon",13),e.qZA(),e.TgZ(25,"div",1),e.NdJ("click",function(){return l.changeType("Call")}),e._UZ(26,"mat-icon",14),e.qZA()()),2&a&&(e.xp6(1),e.ekj("highlight","Outfit"===l.type),e.Q6J("ngbTooltip","Outfits"),e.xp6(2),e.ekj("highlight","Shoes"===l.type),e.Q6J("ngbTooltip","Shoes"),e.xp6(2),e.ekj("highlight","Mask"===l.type),e.Q6J("ngbTooltip","Masks"),e.xp6(2),e.ekj("highlight","FaceAccessory"===l.type),e.Q6J("ngbTooltip","Face accessories"),e.xp6(2),e.ekj("highlight","Necklace"===l.type),e.Q6J("ngbTooltip","Necklaces"),e.xp6(2),e.ekj("highlight","Hair"===l.type),e.Q6J("ngbTooltip","Hair"),e.xp6(2),e.ekj("highlight","Hat"===l.type),e.Q6J("ngbTooltip","Hats"),e.xp6(2),e.ekj("highlight","Cape"===l.type),e.Q6J("ngbTooltip","Capes"),e.xp6(2),e.ekj("highlight","Held"===l.type),e.Q6J("ngbTooltip","Held props"),e.xp6(2),e.ekj("highlight","Prop"===l.type),e.Q6J("ngbTooltip","Props"),e.xp6(2),e.ekj("highlight","Emote"===l.type),e.Q6J("ngbTooltip","Emotes"),e.xp6(2),e.ekj("highlight","Stance"===l.type),e.Q6J("ngbTooltip","Stances"),e.xp6(2),e.ekj("highlight","Call"===l.type),e.Q6J("ngbTooltip","Calls"))},dependencies:[Oo,z.Hw],styles:[".category[_ngcontent-%COMP%]{cursor:pointer;border:var(--border-solid)}.category.highlight[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-item-active)}.category[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-item);width:var(--item-size);height:var(--item-size)}.item-icon[_ngcontent-%COMP%]{position:relative;width:var(--item-size);height:var(--item-size);background:var(--color-background);border-radius:var(--border-radius)}"],changeDetection:0})}return o})();const fb=["itemDiv"];function Hd(o,f){1&o&&(e.TgZ(0,"div",20)(1,"div",21),e._UZ(2,"mat-icon",22),e.qZA()())}function fp(o,f){if(1&o){const n=e.EpF();e.ynx(0),e._UZ(1,"div",23),e.TgZ(2,"div",20)(3,"app-item",24),e.NdJ("click",function(l){const M=e.CHM(n).$implicit,U=e.oxw(2);return e.KtG(U.selectItem(l,M))}),e.qZA(),e.TgZ(4,"mat-icon",25),e._uU(5,"done"),e.qZA()(),e.BQk()}if(2&o){const n=f.$implicit,a=f.index,l=e.oxw(2);e.xp6(1),e.Udp("display",!l.columns||!a||(a+l.offsetNone)%l.columns?void 0:"block"),e.xp6(2),e.ekj("highlight",n&&n===l.selectedItem)("item-unlocked",n.unlocked&&(n.type!==l.typeEmote||n.level>=l.emoteLevels[n.name])),e.Q6J("item",n)("showSubIcons",!0)("ngbTooltip",n.name),e.xp6(1),e.ekj("self",n.type!==l.typeEmote||n.level>=l.emoteLevels[n.name])("unlocked",n.unlocked)}}function lv(o,f){if(1&o){const n=e.EpF();e.TgZ(0,"div",3)(1,"div",1)(2,"div",12),e._uU(3," You have unlocked "),e.TgZ(4,"b"),e._uU(5),e.qZA(),e._uU(6," out of "),e.TgZ(7,"b"),e._uU(8),e.qZA(),e._uU(9," items. "),e.TgZ(10,"div",13),e.NdJ("click",function(){e.CHM(n);const l=e.oxw();return e.KtG(l.toggleNone())}),e._UZ(11,"mat-icon",14),e.qZA(),e.TgZ(12,"div",15)(13,"mat-icon",16),e.NdJ("click",function(){e.CHM(n);const l=e.oxw();return e.KtG(l.setColumns())}),e._uU(14,"apps"),e.qZA()()()(),e.TgZ(15,"div",5)(16,"div",17),e.YNc(17,Hd,3,0,"div",18),e.YNc(18,fp,6,13,"ng-container",19),e.qZA()()()}if(2&o){const n=e.oxw();e.xp6(4),e.ekj("completed",n.shownUnlocked==n.shownItems.length),e.xp6(1),e.Oqu(n.shownUnlocked),e.xp6(2),e.ekj("completed",n.shownUnlocked==n.shownItems.length),e.xp6(1),e.Oqu(n.shownItems.length),e.xp6(2),e.Udp("opacity",n.shouldShowNone?1:.5),e.xp6(1),e.Q6J("ngbTooltip","Toggle unequip icon"),e.xp6(2),e.Q6J("ngbTooltip","Toggle column size"),e.xp6(3),e.ekj("gap-half-y",n.columns),e.xp6(1),e.Q6J("ngIf",n.showNone),e.xp6(1),e.Q6J("ngForOf",n.shownItems)}}function uv(o,f){if(1&o&&(e.TgZ(0,"a",32)(1,"mat-icon",33),e._uU(2,"search"),e.qZA(),e.TgZ(3,"span",34),e._uU(4,"Find item"),e.qZA()()),2&o){const n=e.oxw(2);e.Q6J("routerLink",n.selectedItemNav.route)("queryParams",null==n.selectedItemNav.extras?null:n.selectedItemNav.extras.queryParams)}}function pp(o,f){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",26),e._uU(3),e.qZA()(),e.TgZ(4,"div",5)(5,"div",27)(6,"a",28),e._UZ(7,"app-item",29),e.qZA(),e._UZ(8,"app-wiki-link",30),e.YNc(9,uv,5,2,"a",31),e.qZA()()()),2&o){const n=e.oxw();e.xp6(3),e.Oqu(n.selectedItem.name),e.xp6(3),e.Q6J("routerLink",null==n.selectedItemNav?null:n.selectedItemNav.route)("queryParams",null==n.selectedItemNav||null==n.selectedItemNav.extras?null:n.selectedItemNav.extras.queryParams),e.xp6(1),e.Q6J("item",n.selectedItem)("size","large")("highlight",!0)("hoverHighlight",!1),e.xp6(1),e.Q6J("wiki",n.selectedItem._wiki)("aClass","info-grid-find container"),e.xp6(1),e.Q6J("ngIf",n.selectedItemNav)}}function dv(o,f){if(1&o){const n=e.EpF();e.TgZ(0,"div",40),e.NdJ("click",function(){e.CHM(n);const l=e.oxw().$implicit,_=e.oxw(4);return e.KtG(_.openItem(l))}),e.TgZ(1,"div",41)(2,"div",42),e._UZ(3,"app-item",43),e.qZA(),e.TgZ(4,"div",44),e._UZ(5,"img",45)(6,"app-item-icons",46),e.qZA()()()}if(2&o){const n=e.oxw().$implicit,a=e.oxw(4);e.ekj("highlight",n&&n===a.selectedItem),e.Q6J("ngbTooltip",n.name),e.xp6(3),e.Q6J("item",n)("hoverHighlight",!1)("highlight",!0)("showSubIcons",!1),e.xp6(2),e.Q6J("src",n.previewUrl,e.LSH),e.xp6(1),e.Q6J("item",n)}}function gp(o,f){if(1&o&&(e.ynx(0),e.YNc(1,dv,7,9,"div",39),e.BQk()),2&o){const n=f.$implicit;e.xp6(1),e.Q6J("ngIf",n.previewUrl)}}function hv(o,f){if(1&o&&(e.TgZ(0,"div",38),e.YNc(1,gp,2,1,"ng-container",19),e.qZA()),2&o){const n=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",n.previewItems)}}function fv(o,f){if(1&o&&(e.TgZ(0,"div",5),e.YNc(1,hv,2,1,"div",37),e.qZA()),2&o){const n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==n.previewItems?null:n.previewItems.length)}}function pb(o,f){if(1&o){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",3)(2,"div",35),e.NdJ("click",function(){e.CHM(n);const l=e.oxw();return e.KtG(l.togglePreviews())}),e.TgZ(3,"h2",4),e._uU(4," Field guide "),e.TgZ(5,"mat-icon"),e._uU(6),e.qZA()()(),e.YNc(7,fv,2,1,"div",36),e.qZA(),e.BQk()}if(2&o){const n=e.oxw();e.xp6(6),e.Oqu(n.showFieldGuide?"keyboard_arrow_up":"keyboard_arrow_down"),e.xp6(1),e.Q6J("ngIf",n.showFieldGuide)}}let mp=(()=>{class o{constructor(n,a,l,_){this._dataService=n,this._route=a,this._router=l,this._changeDetectionRef=_,this.typeEmote=sn.q.Emote,this._scrollToPreview=0,this.typeItems={},this.typeUnlocked={},this.emotes={},this.emoteLevels={},this.shownItems=[],this.previewItems=[],this.shownUnlocked=0,this.showFieldGuide=!1,this.shouldShowNone=!0,this.showNone=!1,this.offsetNone=0,this.initializeItems(),this.columns=+localStorage.getItem("item.columns")||void 0,this.shouldShowNone="0"!==localStorage.getItem("item.none"),a.queryParamMap.subscribe(M=>{this.onQueryParamsChanged(M)})}ngAfterViewInit(){this._previewObserver=new IntersectionObserver(n=>{n.forEach(a=>{this._scrollToPreview=a.isIntersecting&&a.intersectionRatio>=.9?0:a.boundingClientRect.top>0?-1:1})},{threshold:[0,.1,.9,1]}),this._previewObserver.observe(this.itemDiv.nativeElement)}ngOnDestroy(){this._previewObserver?.disconnect()}onQueryParamsChanged(n){const a=n.get("type");this.type=a||sn.q.Outfit,this.shownItems=this.typeItems[this.type]??[],this.shownUnlocked=this.typeUnlocked[this.type]??0,this.previewItems=this.shownItems.filter(_=>_.previewUrl),this.type===sn.q.Emote&&(this.shownItems=Object.values(this.emotes),this.shownUnlocked=this.shownItems.filter(_=>_.unlocked&&_.level===this.emoteLevels[_.name]).length),this.updateShowNone();const l=n.get("item")||"";l&&(this.selectedItem=this._dataService.guidMap.get(l),this.selectedItemNav=this.selectedItem?Xc.getItemSource(this.selectedItem):void 0),this.showFieldGuide="1"===n.get("fg")}setColumns(){switch(this.columns){case 3:this.columns=4;break;case 4:this.columns=5;break;case 5:this.columns=6;break;case 6:this.columns=void 0;break;default:this.columns=3}localStorage.setItem("item.columns",`${this.columns||""}`)}toggleNone(){this.shouldShowNone=!this.shouldShowNone,localStorage.setItem("item.none",this.shouldShowNone?"1":"0"),this.updateShowNone()}updateShowNone(){this.showNone=this.shouldShowNone&&(this.type===sn.q.Necklace||this.type===sn.q.Hat||this.type===sn.q.Held||this.type===sn.q.Shoes||this.type===sn.q.FaceAccessory),this.offsetNone=this.showNone?1:0,this._changeDetectionRef.markForCheck()}onTypeChanged(n){const a=Xc.getQueryParams(location.href);a.type=n,this.selectedItem?a.item=this.selectedItem.guid:delete a.item,this._router.navigate([],{queryParams:a,replaceUrl:!0})}togglePreviews(){this.showFieldGuide=!this.showFieldGuide;const n=new URL(location.href);n.searchParams.set("fg",this.showFieldGuide?"1":"0"),window.history.replaceState(window.history.state,"",n.pathname+n.search)}initializeItems(){this.typeItems={},this.typeUnlocked={};for(const a in sn.q)this.typeItems[a]=[],this.typeUnlocked[a]=0;const n=(a,l)=>{this.typeItems[a].push(l),l.unlocked&&this.typeUnlocked[a]++};this.items=this._dataService.itemConfig.items.slice(),this.items.forEach(a=>{if("Emote"===a.type)return(!this.emoteLevels[a.name]||a.level>this.emoteLevels[a.name])&&(this.emoteLevels[a.name]=a.level),void((!this.emotes[a.name]||a.unlocked)&&(this.emotes[a.name]=a));n(a.type,a),a.type===sn.q.Instrument&&n(sn.q.Held,a)});for(const a in sn.q)this.typeItems[a].sort((l,_)=>l.order-_.order)}selectItem(n,a){if(n.detail>1)return void this.openItem(a);const l=new URL(location.href);l.searchParams.set("type",`${this.type}`),l.searchParams.set("item",a.guid),window.history.replaceState(window.history.state,"",l.pathname+l.search),this.onQueryParamsChanged((0,W.AF)(Xc.getQueryParams(l))),this._scrollToPreview&&setTimeout(()=>{this.itemDiv.nativeElement.scrollIntoView({behavior:"smooth",block:this._scrollToPreview>0?"start":"end"})},50)}openItem(n){const a=Xc.getItemSource(n);a?this._router.navigate(a.route,a.extras):alert("Could not find item source.")}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(xe.D),e.Y36(W.gz),e.Y36(W.F0),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-items"]],viewQuery:function(a,l){if(1&a&&e.Gf(fb,7),2&a){let _;e.iGM(_=e.CRH())&&(l.itemDiv=_.first)}},decls:15,vars:5,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card","mt"],[1,"h3","mb-0"],[1,"sky-card-body"],[3,"type","typeChanged"],["class","sky-card mt",4,"ngIf"],[1,"grid","grid-1","item-info","mt",3,"hidden"],["itemDiv",""],["class","sky-card",4,"ngIf"],[4,"ngIf"],[1,"unlock-bar"],[1,"none-toggle",3,"click"],["svgIcon","none","container","body","placement","left",3,"ngbTooltip"],[1,"column-toggle"],["container","body","placement","left",3,"ngbTooltip","click"],[1,"flex","item-grid"],["class","item-icon",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"item-icon"],[1,"item-none"],["svgIcon","none",1,""],[1,"item-col-hr"],["container","body","placement","auto",1,"a",3,"item","showSubIcons","ngbTooltip","click"],[1,"unlock-check"],[1,"h3"],[1,"info-grid"],[1,"item-icon","item-icon-large","info-grid-icon","d-inline-block",3,"routerLink","queryParams"],[3,"item","size","highlight","hoverHighlight"],[3,"wiki","aClass"],["class","info-grid-find container",3,"routerLink","queryParams",4,"ngIf"],[1,"info-grid-find","container",3,"routerLink","queryParams"],[1,"menu-icon"],[1,"menu-label"],[1,"sky-card-header","header-previews",3,"click"],["class","sky-card-body",4,"ngIf"],["class","sky-flex flex-wrap",4,"ngIf"],[1,"sky-flex","flex-wrap"],["class","item-preview link","container","body","placement","auto",3,"highlight","ngbTooltip","click",4,"ngIf"],["container","body","placement","auto",1,"item-preview","link",3,"ngbTooltip","click"],[1,"pad"],[1,"item-preview-icon"],[3,"item","hoverHighlight","highlight","showSubIcons"],[1,"mt"],["loading","lazy",1,"preview-img",3,"src"],[3,"item"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Items"),e.qZA()()(),e.TgZ(4,"div",3)(5,"div",1)(6,"h2",4),e._uU(7,"Type"),e.qZA()(),e.TgZ(8,"div",5)(9,"app-item-type-selector",6),e.NdJ("typeChanged",function(M){return l.onTypeChanged(M)}),e.qZA()()(),e.YNc(10,lv,19,14,"div",7),e.TgZ(11,"div",8,9),e.YNc(13,pp,10,10,"div",10),e.qZA(),e.YNc(14,pb,8,2,"ng-container",11)),2&a&&(e.xp6(9),e.Q6J("type",l.type),e.xp6(1),e.Q6J("ngIf",null==l.shownItems?null:l.shownItems.length),e.xp6(1),e.Q6J("hidden",!l.selectedItem),e.xp6(2),e.Q6J("ngIf",l.selectedItem),e.xp6(1),e.Q6J("ngIf",null==l.previewItems?null:l.previewItems.length))},dependencies:[K.sg,K.O5,W.rH,Oo,z.Hw,ac,gd,pr,Zd],styles:[".item-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(200px,1fr))}.item-grid.gap-half-y[_ngcontent-%COMP%]{row-gap:calc(var(--padding-content) / 2)}.none-toggle[_ngcontent-%COMP%]{position:absolute;top:0;right:24px;width:24px;height:24px;cursor:pointer;z-index:2;overflow:hidden}.none-toggle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;width:32px;height:32px;vertical-align:top;top:-4px;right:-4px}.column-toggle[_ngcontent-%COMP%]{position:absolute;top:0;right:0;cursor:pointer;z-index:2}.column-toggle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:top}.unlock-bar[_ngcontent-%COMP%]{position:relative}.item-unlocked[_ngcontent-%COMP%]{background-color:var(--color-unlock-check-background)}.completed[_ngcontent-%COMP%]{color:var(--color-new);font-weight:700}.header-previews[_ngcontent-%COMP%]{cursor:pointer}.header-previews[_ngcontent-%COMP%]:hover{color:var(--color-link-hover)}.header-previews[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:middle}.item-icon[_ngcontent-%COMP%]{position:relative;width:var(--item-size);height:var(--item-size);background:var(--color-background);border-radius:var(--border-radius)}.item-icon-large[_ngcontent-%COMP%]{width:var(--item-size-large);height:var(--item-size-large)}.item-col-hr[_ngcontent-%COMP%]{display:none;flex-basis:100%;height:0;margin:0;padding:0}.item-none[_ngcontent-%COMP%]{position:relative;width:var(--item-size);height:var(--item-size)}.item-none[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-item);width:100%;height:100%}app-item.a[_ngcontent-%COMP%]{cursor:pointer}.item-preview[_ngcontent-%COMP%]{position:relative;display:inline-block;background:var(--color-background);border-radius:var(--border-radius);border:var(--border-solid);overflow:hidden;min-width:128px;text-align:center}.item-preview-icon[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.preview-img[_ngcontent-%COMP%]{height:192px;max-height:192px;object-fit:scale-down}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-template-rows:1fr;grid-column-gap:8px;grid-row-gap:8px}.info-grid-icon[_ngcontent-%COMP%]{grid-area:1 / 1 / 3 / 2;border:var(--border-solid)}@media screen and (min-width: 720px){.info-grid[_ngcontent-%COMP%]{grid-template-columns:96px 1fr;grid-template-rows:repeat(2,44px)}.info-grid[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]:nth-child(n+4){grid-column:1 / 3}}"],changeDetection:0})}return o})();function _p(o,f){if(1&o&&e._UZ(0,"div",13),2&o){const n=e.oxw().$implicit;e.Udp("background-image","url("+n.imageUrl+")")("background-position",n.imagePosition||void 0)}}const Is=function(o){return["/realm",o]};function vp(o,f){if(1&o&&(e.TgZ(0,"div",7)(1,"div",1)(2,"h2",8),e._uU(3),e.qZA()(),e.TgZ(4,"div",3),e.YNc(5,_p,1,4,"div",9),e.TgZ(6,"a",10)(7,"mat-icon",11),e._uU(8,"article"),e.qZA(),e.TgZ(9,"span",12),e._uU(10,"Overview"),e.qZA()()()()),2&o){const n=f.$implicit;e.xp6(3),e.Oqu(n.name),e.xp6(2),e.Q6J("ngIf",n.imageUrl),e.xp6(1),e.Q6J("routerLink",e.VKq(3,Is,n.guid))}}const jd=function(){return{href:"https://sky-children-of-the-light.fandom.com/wiki/Realms"}};let ma=(()=>{class o{constructor(n){this._dataService=n,this.realms=n.realmConfig.items,this.visibleRealms=this.realms.filter(a=>!a.hidden)}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(xe.D))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-realms"]],decls:8,vars:3,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card-body"],[3,"wiki"],[1,"grid","grid-3","mt"],["class","sky-card p-rel",4,"ngFor","ngForOf"],[1,"sky-card","p-rel"],[1,"h3","mb-0"],["class","p-rel img sky-border-solid",3,"background-image","background-position",4,"ngIf"],[1,"item","link","mt",3,"routerLink"],[1,"menu-icon"],[1,"menu-label"],[1,"p-rel","img","sky-border-solid"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Realms"),e.qZA()(),e.TgZ(4,"div",3),e._UZ(5,"app-wiki-link",4),e.qZA()(),e.TgZ(6,"div",5),e.YNc(7,vp,11,5,"div",6),e.qZA()),2&a&&(e.xp6(5),e.Q6J("wiki",e.DdM(2,jd)),e.xp6(2),e.Q6J("ngForOf",l.visibleRealms))},dependencies:[K.sg,K.O5,W.rH,z.Hw,pr],styles:[".img[_ngcontent-%COMP%]{box-shadow:0 0 16px 2px var(--color-image-inset) inset;border-radius:var(--border-radius);height:var(--img-preview-height);background-size:cover;background-position:bottom}"]})}return o})();function Vd(o,f){if(1&o&&(e.TgZ(0,"span",3),e._uU(1," ("),e._UZ(2,"app-days-left",12),e._uU(3,") "),e.qZA()),2&o){const n=e.oxw();e.xp6(2),e.Q6J("start",n.season.date)("end",n.season.endDate)}}function pv(o,f){if(1&o&&(e.TgZ(0,"span",3),e._uU(1," ("),e._UZ(2,"app-days-left",12),e._uU(3,") "),e.qZA()),2&o){const n=e.oxw();e.xp6(2),e.Q6J("start",n.season.date)("end",n.season.endDate)}}function mb(o,f){if(1&o&&(e.TgZ(0,"span",3),e._uU(1),e.qZA()),2&o){const n=e.oxw();e.xp6(1),e.hij("(",n.scLeft," needed)")}}function gv(o,f){if(1&o&&(e.TgZ(0,"span",3),e._uU(1),e.qZA()),2&o){const n=e.oxw();e.xp6(1),e.hij("(",n.shLeft," needed)")}}function zd(o,f){if(1&o&&e._UZ(0,"app-spirit-tree",22),2&o){const n=e.oxw();e.Q6J("tree",n.guide.tree)("name",n.guide.name)("highlight",n.highlightTree===n.guide.tree.guid)}}const js=function(o){return["/spirit",o]},yp=function(o){return{highlightTree:o}};function mv(o,f){if(1&o&&(e.TgZ(0,"div",19)(1,"app-spirit-tree",22)(2,"div",25)(3,"a",26),e._uU(4),e.qZA()()()()),2&o){const n=e.oxw().$implicit,a=e.oxw(2);e.xp6(1),e.Q6J("tree",n.tree)("name",n.name)("highlight",a.highlightTree===n.tree.guid),e.xp6(2),e.Q6J("routerLink",e.VKq(6,js,n.guid))("queryParams",e.VKq(8,yp,n.tree.guid)),e.xp6(1),e.hij(" ",n.name," ")}}function _b(o,f){if(1&o&&(e.ynx(0),e.YNc(1,mv,5,10,"div",24),e.BQk()),2&o){const n=f.$implicit;e.xp6(1),e.Q6J("ngIf",n.tree)}}function sr(o,f){if(1&o&&(e.ynx(0),e.YNc(1,_b,2,1,"ng-container",23),e.BQk()),2&o){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.spirits)}}function _v(o,f){1&o&&(e.TgZ(0,"span",39),e._uU(1,"Returning IAP"),e.qZA())}function $d(o,f){1&o&&(e.TgZ(0,"span",40),e._uU(1,"New IAP"),e.qZA())}function vv(o,f){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const n=e.oxw(3).$implicit;e.xp6(1),e.Oqu(n.name)}}function yv(o,f){1&o&&(e.TgZ(0,"span"),e._uU(1,"Premium Candle Store"),e.qZA())}function Gd(o,f){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const n=e.oxw(3).$implicit;let a;e.xp6(1),e.Oqu(null!==(a=n.name)&&void 0!==a?a:null==n.spirit?null:n.spirit.name)}}function bp(o,f){if(1&o&&(e.ynx(0),e._UZ(1,"mat-icon",41),e.TgZ(2,"span",9),e._uU(3),e.qZA(),e.BQk()),2&o){const n=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngbTooltip","Regular candles"),e.xp6(2),e.hij(" ",n.c," ")}}function Cp(o,f){if(1&o&&(e.ynx(0),e._UZ(1,"mat-icon",42),e.TgZ(2,"span",9),e._uU(3),e.qZA(),e.BQk()),2&o){const n=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngbTooltip","Season candles"),e.xp6(2),e.hij(" ",n.sc," ")}}function bv(o,f){if(1&o&&(e.ynx(0),e._UZ(1,"mat-icon",43),e.TgZ(2,"span",9),e._uU(3),e.qZA(),e.BQk()),2&o){const n=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngbTooltip","Gift Season Pass"),e.xp6(2),e.hij(" ",n.sp," ")}}function Dp(o,f){if(1&o&&(e.TgZ(0,"div",34),e.YNc(1,bp,4,2,"ng-container",21),e.YNc(2,Cp,4,2,"ng-container",21),e.YNc(3,bv,4,2,"ng-container",21),e.qZA()),2&o){const n=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",n.c),e.xp6(1),e.Q6J("ngIf",n.sc),e.xp6(1),e.Q6J("ngIf",n.sp)}}function wp(o,f){if(1&o&&(e.ynx(0),e.TgZ(1,"span",48),e._uU(2),e.qZA(),e.BQk()),2&o){const n=e.oxw(2).$implicit;e.xp6(2),e.Oqu(n.name)}}function Cv(o,f){if(1&o&&e.YNc(0,wp,3,1,"ng-container",21),2&o){const n=e.oxw().$implicit;e.Q6J("ngIf",n)}}function Tp(o,f){if(1&o){const n=e.EpF();e.TgZ(0,"div",44),e.NdJ("click",function(l){e.CHM(n);const _=e.oxw().$implicit,M=e.oxw(4);return e.KtG(M.togglePurchased(l,_))}),e._UZ(1,"app-item",45),e.TgZ(2,"mat-icon",46),e._uU(3,"done"),e.qZA(),e.YNc(4,Cv,1,1,"ng-template",null,47,e.W1O),e.qZA()}if(2&o){const n=f.$implicit,a=e.MAs(5),l=e.oxw().$implicit;e.xp6(1),e.Q6J("item",n)("ngbTooltip",a),e.xp6(1),e.ekj("unlocked",null==n?null:n.unlocked)("self",l.bought)}}function Dv(o,f){if(1&o&&(e.TgZ(0,"div",29)(1,"div",1)(2,"h3",30),e._uU(3),e.qZA()(),e.TgZ(4,"div",4)(5,"div",31)(6,"mat-icon",8),e._uU(7),e.qZA(),e.TgZ(8,"span",9),e.YNc(9,_v,2,0,"span",32),e.YNc(10,$d,2,0,"span",33),e.qZA()(),e.TgZ(11,"div",34)(12,"mat-icon",8),e._uU(13,"location_on"),e.qZA(),e.TgZ(14,"span",9),e.YNc(15,vv,2,1,"span",21),e.YNc(16,yv,2,0,"span",21),e.YNc(17,Gd,2,1,"span",21),e.qZA()(),e.TgZ(18,"div",34)(19,"mat-icon",8),e._uU(20,"attach_money"),e.qZA(),e.TgZ(21,"span",35),e._uU(22),e.qZA()(),e.YNc(23,Dp,4,3,"div",36),e.TgZ(24,"div",37),e.YNc(25,Tp,6,6,"div",38),e.qZA()()()),2&o){const n=f.$implicit,a=e.oxw(2).$implicit,l=e.oxw(2);e.ekj("highlight",n.guid===l.highlightIap),e.xp6(2),e.Q6J("ngbTooltip",n.name),e.xp6(1),e.hij(" ",n.name," "),e.xp6(4),e.Oqu(n.returning?"undo":"grade"),e.xp6(2),e.Q6J("ngIf",n.returning),e.xp6(1),e.Q6J("ngIf",!n.returning),e.xp6(5),e.Q6J("ngIf",a.name),e.xp6(1),e.Q6J("ngIf",!a.name&&"Store"===a.type),e.xp6(1),e.Q6J("ngIf",!a.name&&"Store"!==a.type),e.xp6(4),e.Q6J("ngbTooltip","Price of the IAP in USD."),e.xp6(1),e.hij(" ",n.price," "),e.xp6(1),e.Q6J("ngIf",n.c||n.sc||n.sp),e.xp6(2),e.Q6J("ngForOf",n.items)}}function Ep(o,f){if(1&o&&(e.ynx(0),e.YNc(1,Dv,26,14,"div",28),e.BQk()),2&o){const n=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",n.iaps)}}function dc(o,f){if(1&o&&(e.ynx(0),e.YNc(1,Ep,2,1,"ng-container",21),e.BQk()),2&o){const n=f.$implicit;e.xp6(1),e.Q6J("ngIf",null==n.iaps?null:n.iaps.length)}}function ia(o,f){if(1&o&&(e.ynx(0),e.TgZ(1,"div",15)(2,"div",1)(3,"h2",16),e._uU(4,"In-App Purchases"),e.qZA()(),e.TgZ(5,"div",4)(6,"div",27),e.YNc(7,dc,2,1,"ng-container",23),e.qZA()()(),e.BQk()),2&o){const n=e.oxw();e.xp6(7),e.Q6J("ngForOf",n.shops)}}const hc=function(o){return{season:o,type:"Season,Guide"}};let wv=(()=>{class o{constructor(n,a,l,_){this._dataService=n,this._eventService=a,this._iapService=l,this._route=_,this.spirits=[],this.shops=[],this.nodes=new Set,this.sc=0,this.scLeft=0,this.sh=0,this.shLeft=0,_.queryParamMap.subscribe(M=>this.onQueryChanged(M)),_.paramMap.subscribe(M=>this.onParamsChanged(M)),this.subscribeItemChanged()}ngOnDestroy(){this._itemSub?.unsubscribe()}subscribeItemChanged(){this._itemSub?.unsubscribe(),this._itemSub=this._eventService.itemToggled.subscribe(n=>this.onItemChanged())}onItemChanged(){this.calculateSc()}onQueryChanged(n){this.highlightIap=n.get("highlightIap")||void 0,this.highlightTree=n.get("highlightTree")||void 0}onParamsChanged(n){const a=n.get("guid");this.initializeSeason(a)}initializeSeason(n){this.season=this._dataService.guidMap.get(n),this.state=ge.O.getStateFromPeriod(this.season.date,this.season.endDate),this.guide=void 0,this.spirits=[],this.season?.spirits?.forEach(a=>{switch(a.type){case"Guide":this.guide=a;break;case"Season":this.spirits.push(a)}}),this.shops=this.season.shops??[],this.calculateSc()}calculateSc(){this.sc=this.scLeft=this.sh=this.shLeft=0,[this.guide,...this.spirits].map(n=>n?.tree).forEach(n=>{n&&De.f.all(n.node).forEach(a=>{this.sc+=a.sc||0,this.sh+=a.sh||0,!a.unlocked&&!a.item?.unlocked&&(this.scLeft+=a.sc||0,this.shLeft+=a.sh||0)})})}togglePurchased(n,a){this._iapService.togglePurchased(a)}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(xe.D),e.Y36(Me),e.Y36(nt),e.Y36(W.gz))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-season"]],decls:50,vars:30,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"c-accent"],[1,"sky-card-body"],[1,"grid","grid-2"],[3,"wiki","aClass"],[1,"container",3,"routerLink","queryParams"],[1,"menu-icon"],[1,"menu-label"],[1,"container"],["class","c-accent",4,"ngIf"],[3,"start","end"],["svgIcon","season-candle",1,"menu-icon"],["svgIcon","season-heart",1,"menu-icon"],[1,"sky-card","mt"],[1,"h3"],[1,"sky-card-body","pad-0"],[1,"sky-flex","scroll-x","pad"],[1,"tree-wrapper"],[3,"tree","name","highlight",4,"ngIf"],[4,"ngIf"],[3,"tree","name","highlight"],[4,"ngFor","ngForOf"],["class","tree-wrapper",4,"ngIf"],["name",""],[3,"routerLink","queryParams"],[1,"grid","grid-4"],["class","sky-card p-rel",3,"highlight",4,"ngFor","ngForOf"],[1,"sky-card","p-rel"],["container","body",1,"h4",3,"ngbTooltip"],[1,"item"],["class","c-partial",4,"ngIf"],["class","c-full",4,"ngIf"],[1,"mt-half","item"],["container","body",1,"menu-label",3,"ngbTooltip"],["class","mt-half item",4,"ngIf"],[1,"mt-half","item","iap-items"],["class","iap-item point d-inline-block p-rel",3,"click",4,"ngFor","ngForOf"],[1,"c-partial"],[1,"c-full"],["svgIcon","candle","container","body","placement","right",1,"menu-icon",3,"ngbTooltip"],["svgIcon","season-candle","container","body","placement","right",1,"menu-icon",3,"ngbTooltip"],["svgIcon","gift","container","body","placement","right",1,"menu-icon","seasonal",3,"ngbTooltip"],[1,"iap-item","point","d-inline-block","p-rel",3,"click"],["placement","bottom","container","body",3,"item","ngbTooltip"],[1,"unlock-check"],["itemHover",""],[1,"ws-nw"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3),e.TgZ(4,"span",3),e._uU(5),e.qZA()()(),e.TgZ(6,"div",4)(7,"div",5),e._UZ(8,"app-wiki-link",6),e.TgZ(9,"a",7)(10,"mat-icon",8),e._uU(11,"list"),e.qZA(),e.TgZ(12,"span",9),e._uU(13," Spirits "),e.TgZ(14,"span",3),e._uU(15),e.qZA()()(),e.TgZ(16,"div",10)(17,"mat-icon",8),e._uU(18,"calendar_month"),e.qZA(),e.TgZ(19,"span",9),e._uU(20),e.ALo(21,"dayjs"),e.ALo(22,"dayjs"),e.YNc(23,Vd,4,2,"span",11),e.qZA()(),e.TgZ(24,"div",10)(25,"mat-icon",8),e._uU(26,"schedule"),e.qZA(),e.TgZ(27,"span",9),e._UZ(28,"app-duration",12),e.YNc(29,pv,4,2,"span",11),e.qZA()(),e.TgZ(30,"div",10),e._UZ(31,"mat-icon",13),e.TgZ(32,"span",9),e._uU(33),e.YNc(34,mb,2,1,"span",11),e.qZA()(),e.TgZ(35,"div",10),e._UZ(36,"mat-icon",14),e.TgZ(37,"span",9),e._uU(38),e.YNc(39,gv,2,1,"span",11),e.qZA()()()()(),e.TgZ(40,"div",15)(41,"div",1)(42,"h2",16),e._uU(43,"Spirits"),e.qZA()(),e.TgZ(44,"div",17)(45,"div",18)(46,"div",19),e.YNc(47,zd,1,3,"app-spirit-tree",20),e.qZA(),e.YNc(48,sr,2,1,"ng-container",21),e.qZA()()(),e.YNc(49,ia,8,1,"ng-container",21)),2&a&&(e.xp6(3),e.hij("",l.season.name," "),e.xp6(2),e.hij("(#",l.season.number,")"),e.xp6(3),e.Q6J("wiki",l.season._wiki)("aClass","container"),e.xp6(1),e.Q6J("routerLink","/spirit")("queryParams",e.VKq(28,hc,l.season.guid)),e.xp6(6),e.hij("(",l.season.spirits.length-1,")"),e.xp6(1),e.ekj("expired","ended"===l.state),e.xp6(4),e.AsE(" ",e.lcZ(21,24,l.season.date)," to ",e.lcZ(22,26,l.season.endDate)," "),e.xp6(3),e.Q6J("ngIf","active"!==l.state),e.xp6(1),e.ekj("expired","ended"===l.state),e.xp6(4),e.Q6J("start",l.season.date)("end",l.season.endDate),e.xp6(1),e.Q6J("ngIf","active"===l.state),e.xp6(4),e.hij(" ",l.sc," season candles "),e.xp6(1),e.Q6J("ngIf",l.scLeft),e.xp6(4),e.hij(" ",l.sh," season hearts "),e.xp6(1),e.Q6J("ngIf",l.shLeft),e.xp6(8),e.Q6J("ngIf",null==l.guide?null:l.guide.tree),e.xp6(1),e.Q6J("ngIf",l.spirits),e.xp6(1),e.Q6J("ngIf",l.shops.length))},dependencies:[K.sg,K.O5,W.rH,Oo,z.Hw,Jc,ac,Pa,na,pr,fs],styles:["app-spirit-tree[_ngcontent-%COMP%]{vertical-align:bottom}.tree-wrapper[_ngcontent-%COMP%]{display:inline-block}"]})}return o})();function Tv(o,f){if(1&o&&e._UZ(0,"div",12),2&o){const n=e.oxw(2);e.Udp("order",n.sections.img)("background-image",n.imageUrlSafe)("background-position",n.season.imagePosition||void 0)}}const Mp=function(o){return["/season",o]};function Sp(o,f){if(1&o&&(e.TgZ(0,"a",13)(1,"mat-icon",14),e._uU(2,"article"),e.qZA(),e.TgZ(3,"span",15),e._uU(4,"Overview"),e.qZA()()),2&o){const n=e.oxw(2);e.Udp("order",n.sections.overview),e.Q6J("routerLink",e.VKq(3,Mp,n.season.guid))}}const Yd=function(o){return{season:o,type:"Season,Guide"}};function el(o,f){if(1&o&&(e.TgZ(0,"a",16)(1,"mat-icon",14),e._uU(2,"list"),e.qZA(),e.TgZ(3,"span",15),e._uU(4,"Spirits "),e.TgZ(5,"span",17),e._uU(6),e.qZA()()()),2&o){const n=e.oxw(2);e.Udp("order",n.sections.spirits),e.Q6J("routerLink","/spirit")("queryParams",e.VKq(5,Yd,n.season.guid)),e.xp6(6),e.hij("(",n.season.spirits.length-1,")")}}function nu(o,f){if(1&o&&(e.TgZ(0,"div",18)(1,"mat-icon",14),e._uU(2,"calendar_month"),e.qZA(),e.TgZ(3,"span",15),e._uU(4),e.ALo(5,"dayjs"),e.ALo(6,"dayjs"),e.TgZ(7,"span",17),e._uU(8," ("),e._UZ(9,"app-days-left",19),e._uU(10,") "),e.qZA()()()),2&o){const n=e.oxw(2);e.Udp("order",n.sections.date),e.xp6(4),e.AsE(" ",e.lcZ(5,6,n.season.date)," to ",e.lcZ(6,8,n.season.endDate)," "),e.xp6(5),e.Q6J("start",n.season.date)("end",n.season.endDate)}}function xp(o,f){if(1&o){const n=e.EpF();e.TgZ(0,"div",20),e.NdJ("click",function(){e.CHM(n);const l=e.oxw(2);return e.KtG(l.checkin())}),e.TgZ(1,"mat-icon",14),e._uU(2),e.qZA(),e.TgZ(3,"span",15),e._uU(4," I have done my dailies. "),e.qZA()()}if(2&o){const n=e.oxw(2);e.Udp("order",n.sections.checkin),e.ekj("active",n.checkedIn),e.xp6(2),e.Oqu(n.checkedIn?"check_box":"check_box_outline_blank")}}function Ip(o,f){if(1&o&&(e.TgZ(0,"div",18)(1,"mat-icon",14),e._uU(2,"sell"),e.qZA(),e.TgZ(3,"span",15)(4,"div",21),e._UZ(5,"app-cost",22),e.qZA()()()),2&o){const n=e.oxw(2);e.Udp("order",n.sections.cost),e.xp6(5),e.Q6J("cost",n.cost)("remaining",n.remainingCost)("borderLeft",!0)}}function Ev(o,f){if(1&o&&(e.TgZ(0,"div",1)(1,"div",2)(2,"h2",3),e._UZ(3,"img",4),e._uU(4),e.TgZ(5,"span",5),e._uU(6),e.qZA()()(),e.TgZ(7,"div",6),e.YNc(8,Tv,1,6,"div",7),e.YNc(9,Sp,5,5,"a",8),e.YNc(10,el,7,7,"a",9),e.YNc(11,nu,11,10,"div",10),e.YNc(12,xp,5,5,"div",11),e.YNc(13,Ip,6,5,"div",10),e.qZA()()),2&o){const n=e.oxw();e.xp6(3),e.Q6J("src",n.season.iconUrl,e.LSH),e.xp6(1),e.hij(" ",n.season.name," "),e.xp6(2),e.hij("#",n.season.number,""),e.xp6(2),e.Q6J("ngIf",n.sections.img&&n.imageUrlSafe),e.xp6(1),e.Q6J("ngIf",n.sections.overview),e.xp6(1),e.Q6J("ngIf",n.sections.spirits),e.xp6(1),e.Q6J("ngIf",n.sections.date),e.xp6(1),e.Q6J("ngIf",n.sections.checkin),e.xp6(1),e.Q6J("ngIf",n.sections.cost&&n.cost)}}let Ap=(()=>{class o{constructor(){this.options={show:["img","overview","spirits"]},this.sections={},this.checkedIn=!1}ngOnInit(){this.updateSections(),this.updateSeason()}ngOnChanges(n){n.options&&this.updateSections(),n.season&&this.updateSeason()}updateSeason(){if(this.cost=this.remainingCost=void 0,!this.season)return;const n=this.season.spirits.map(l=>De.f.all(l.tree?.node)).flat();this.cost=lo.T.add(lo.T.create(),...n);const a=n.filter(l=>!l.unlocked&&!l.item?.unlocked);this.remainingCost=lo.T.add(lo.T.create(),...a),this.imageUrlSafe=this.season.imageUrl?`url('${this.season.imageUrl}')`:void 0,this.updateCheckin()}checkin(){this.checkedIn=!this.checkedIn,this.checkedIn?localStorage.setItem(`season.checkin.${this.season?.guid}`,Co().tz().format("YYYY-MM-DD")):localStorage.removeItem(`season.checkin.${this.season?.guid}`)}updateCheckin(){const n=localStorage.getItem(`season.checkin.${this.season?.guid}`);if(n){const a=Co().tz(n,"YYYY-MM-DD",ge.O.skyTimeZone);this.checkedIn=a.isSame(Co().tz(),"day")}}updateSections(){this.sections={},this.options.show?.forEach((n,a)=>{this.sections[n]=a+2})}static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-season-card"]],inputs:{season:"season",options:"options"},features:[e.TTD],decls:1,vars:1,consts:[["class","sky-card p-rel",4,"ngIf"],[1,"sky-card","p-rel"],[1,"sky-card-header"],[1,"h3","mb-0"],[1,"season-icon",3,"src"],[1,"h5","c-accent","number"],[1,"sky-card-body","grid","grid-1"],["class","season-img sky-border-solid",3,"order","background-image","background-position",4,"ngIf"],["class","item link",3,"routerLink","order",4,"ngIf"],["class","item link",3,"routerLink","queryParams","order",4,"ngIf"],["class","item",3,"order",4,"ngIf"],["class","item checkin",3,"active","order","click",4,"ngIf"],[1,"season-img","sky-border-solid"],[1,"item","link",3,"routerLink"],[1,"menu-icon"],[1,"menu-label"],[1,"item","link",3,"routerLink","queryParams"],[1,"c-accent"],[1,"item"],[3,"start","end"],[1,"item","checkin",3,"click"],[1,"d-inline-block"],[3,"cost","remaining","borderLeft"]],template:function(a,l){1&a&&e.YNc(0,Ev,14,9,"div",0),2&a&&e.Q6J("ngIf",l.season)},dependencies:[K.O5,W.rH,z.Hw,Pa,Yl,fs],styles:[".season-icon[_ngcontent-%COMP%]{width:var(--item-size-small);height:var(--item-size-small)}.season-img[_ngcontent-%COMP%]{box-shadow:0 0 16px 2px var(--color-image-inset) inset;border-radius:var(--border-radius);height:var(--img-preview-height);background-repeat:no-repeat;background-position:center;background-size:100%}.checkin[_ngcontent-%COMP%]{cursor:pointer}.checkin[_ngcontent-%COMP%]:hover{color:var(--color-link-hover)}"],changeDetection:0})}return o})();const Mv=function(o){return["/season",o]};function Sv(o,f){if(1&o&&(e.TgZ(0,"a",8),e._UZ(1,"img",9),e.qZA()),2&o){const n=f.$implicit;e.Q6J("routerLink",e.VKq(3,Mv,n.guid))("ngbTooltip",n.name),e.xp6(1),e.Q6J("src",n.iconUrl,e.LSH)}}function Op(o,f){1&o&&e._UZ(0,"app-season-card",14),2&o&&e.Q6J("season",f.$implicit)}function vb(o,f){if(1&o&&(e.ynx(0),e.TgZ(1,"div",10)(2,"div",1)(3,"h2",11),e._uU(4),e.qZA()(),e.TgZ(5,"div",3)(6,"div",12),e.YNc(7,Op,1,1,"app-season-card",13),e.qZA()()(),e.BQk()),2&o){const n=f.$implicit,a=e.oxw();e.xp6(4),e.Oqu(n),e.xp6(3),e.Q6J("ngForOf",a.yearMap[n])}}const yb=function(){return{href:"https://sky-children-of-the-light.fandom.com/wiki/Seasonal_Events"}};let bb=(()=>{class o{constructor(n){this._dataService=n,this.years=[],this.seasons=n.seasonConfig.items,this.reverseSeasons=this.seasons.slice().reverse()}ngOnInit(){let n=this.seasons.at(-1).year+1;this.yearMap={};for(let a=this.seasons.length-1;a>=0;a--){const l=this.seasons[a];!this.currentSeason&&ge.O.isActive(l.date,l.endDate)&&(this.currentSeason=l),l.year<n&&(n=l.year,this.years.push(n),this.yearMap[n]=[]),this.yearMap[n].push(l)}}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(xe.D))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-seasons"]],decls:9,vars:4,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2"],[1,"sky-card-body"],[3,"wiki"],[1,"flex","mt"],["class","item-icon","placement","bottom","container","body",3,"routerLink","ngbTooltip",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["placement","bottom","container","body",1,"item-icon",3,"routerLink","ngbTooltip"],[1,"season-icon",3,"src"],[1,"sky-card","mt"],[1,"h3"],[1,"grid","grid-2"],[3,"season",4,"ngFor","ngForOf"],[3,"season"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Seasons"),e.qZA()(),e.TgZ(4,"div",3),e._UZ(5,"app-wiki-link",4),e.TgZ(6,"div",5),e.YNc(7,Sv,2,5,"a",6),e.qZA()()(),e.YNc(8,vb,8,2,"ng-container",7)),2&a&&(e.xp6(5),e.Q6J("wiki",e.DdM(3,yb)),e.xp6(2),e.Q6J("ngForOf",l.reverseSeasons),e.xp6(1),e.Q6J("ngForOf",l.years))},dependencies:[K.sg,W.rH,Oo,Ap,pr],styles:[".season-icon[_ngcontent-%COMP%]{width:var(--item-size);height:var(--item-size)}.season-icon-small[_ngcontent-%COMP%]{width:var(--item-size-small);height:var(--item-size-small)}.img[_ngcontent-%COMP%]{box-shadow:0 0 16px 2px var(--color-image-inset) inset;border-radius:var(--border-radius);height:var(--img-preview-height);background-repeat:no-repeat;background-position:center;background-size:100%}.item-icon[_ngcontent-%COMP%]{position:relative;width:var(--item-size);height:var(--item-size);background:var(--color-background);border-radius:var(--border-radius)}"]})}return o})(),qd=(()=>{class o{transform(n){switch(n){case"Regular":return"Regular Spirit";case"Elder":return"Elder Spirit";case"Guide":return"Season Guide";case"Season":return"Seasonal Spirit";case"Event":return"Event Spirit";case"Special":return"Special Spirit";default:return""}}static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275pipe=e.Yjl({name:"spiritType",type:o,pure:!0})}return o})();function Np(o,f){1&o&&e._UZ(0,"mat-icon",3),2&o&&e.Q6J("svgIcon","candle")("ngbTooltip","Regular Spirit")}function Cb(o,f){1&o&&e._UZ(0,"mat-icon",3),2&o&&e.Q6J("svgIcon","candle")("ngbTooltip","Special Spirit")}function iu(o,f){1&o&&e._UZ(0,"mat-icon",3),2&o&&e.Q6J("svgIcon","ascended-candle")("ngbTooltip","Elder Spirit")}function Db(o,f){1&o&&e._UZ(0,"mat-icon",3),2&o&&e.Q6J("svgIcon","season-heart")("ngbTooltip","Season Guide")}function kp(o,f){1&o&&e._UZ(0,"mat-icon",3),2&o&&e.Q6J("svgIcon","season-candle")("ngbTooltip","Seasonal Spirit")}function Pp(o,f){1&o&&e._UZ(0,"span")}let fc=(()=>{class o{static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-spirit-type-icon"]],inputs:{type:"type"},decls:7,vars:6,consts:[[3,"ngSwitch"],["container","body","placement","bottom",3,"svgIcon","ngbTooltip",4,"ngSwitchCase"],[4,"ngSwitchDefault"],["container","body","placement","bottom",3,"svgIcon","ngbTooltip"]],template:function(a,l){1&a&&(e.ynx(0,0),e.YNc(1,Np,1,2,"mat-icon",1),e.YNc(2,Cb,1,2,"mat-icon",1),e.YNc(3,iu,1,2,"mat-icon",1),e.YNc(4,Db,1,2,"mat-icon",1),e.YNc(5,kp,1,2,"mat-icon",1),e.YNc(6,Pp,1,0,"span",2),e.BQk()),2&a&&(e.Q6J("ngSwitch",l.type),e.xp6(1),e.Q6J("ngSwitchCase","Regular"),e.xp6(1),e.Q6J("ngSwitchCase","Special"),e.xp6(1),e.Q6J("ngSwitchCase","Elder"),e.xp6(1),e.Q6J("ngSwitchCase","Guide"),e.xp6(1),e.Q6J("ngSwitchCase","Season"))},dependencies:[K.RF,K.n9,K.ED,Oo,z.Hw],changeDetection:0})}return o})();function Rp(o,f){if(1&o&&(e.TgZ(0,"div",18),e._UZ(1,"img",19),e.qZA()),2&o){const n=e.oxw();e.xp6(1),e.Q6J("src",n.spirit.imageUrl,e.LSH)("alt",n.spirit.name)}}function Fp(o,f){if(1&o&&e._UZ(0,"img",24),2&o){const n=e.oxw(2);e.Q6J("src",n.spirit.season.iconUrl,e.LSH)}}function ni(o,f){1&o&&(e.TgZ(0,"mat-icon"),e._uU(1,"ac_unit"),e.qZA())}const Lp=function(o){return["/season",o]},Wd=function(o){return{highlightTree:o}};function pc(o,f){if(1&o&&(e.TgZ(0,"a",20),e.YNc(1,Fp,1,1,"img",21),e.YNc(2,ni,2,0,"ng-template",null,22,e.W1O),e.TgZ(4,"span",23),e._uU(5),e.qZA()()),2&o){const n=e.MAs(3),a=e.oxw();e.Q6J("routerLink",e.VKq(5,Lp,null==a.spirit.season?null:a.spirit.season.guid))("queryParams",e.VKq(7,Wd,null==a.spirit.tree?null:a.spirit.tree.guid)),e.xp6(1),e.Q6J("ngIf",null==a.spirit.season?null:a.spirit.season.iconUrl)("ngIfElse",n),e.xp6(4),e.hij(" ",null==a.spirit.season?null:a.spirit.season.name," ")}}const Bp=function(o){return["/event",o]};function Iv(o,f){if(1&o&&(e.TgZ(0,"a",27),e._uU(1),e.qZA()),2&o){const n=e.oxw(2);e.Q6J("routerLink",e.VKq(2,Bp,n.event.guid)),e.xp6(1),e.hij(" ",n.event.name," ")}}function ou(o,f){if(1&o&&(e.TgZ(0,"div",25)(1,"mat-icon"),e._uU(2,"event"),e.qZA(),e.YNc(3,Iv,2,4,"a",26),e.qZA()),2&o){const n=e.oxw();e.xp6(3),e.Q6J("ngIf",n.event)}}function gc(o,f){1&o&&(e.TgZ(0,"span",23),e._uU(1," Regular Spirit "),e.qZA())}function Jd(o,f){if(1&o&&(e.TgZ(0,"span",23),e._uU(1),e.qZA()),2&o){const n=e.oxw(2);e.xp6(1),e.hij(" ",n.spirit.type," ")}}const tl=function(){return["/spirit"]},Up=function(o){return{type:o}};function Qd(o,f){if(1&o&&(e.TgZ(0,"a",20)(1,"mat-icon"),e._uU(2,"person"),e.qZA(),e.YNc(3,gc,2,0,"span",28),e.YNc(4,Jd,2,1,"span",28),e.qZA()),2&o){const n=e.oxw();e.Q6J("routerLink",e.DdM(4,tl))("queryParams",e.VKq(5,Up,n.spirit.type)),e.xp6(3),e.Q6J("ngIf","Regular"===n.spirit.type),e.xp6(1),e.Q6J("ngIf","Elder"===n.spirit.type||"Special"===n.spirit.type)}}const Kd=function(o){return["/realm",o]};function Xd(o,f){if(1&o&&(e.TgZ(0,"div",25)(1,"mat-icon"),e._uU(2,"map"),e.qZA(),e.TgZ(3,"a",29),e._uU(4),e.qZA()()),2&o){const n=e.oxw();e.xp6(3),e.Q6J("routerLink",e.VKq(3,Kd,n.spirit.area.realm.guid))("queryParams",e.VKq(5,Wd,null==n.spirit.tree?null:n.spirit.tree.guid)),e.xp6(1),e.hij(" ",n.spirit.area.realm.name," ")}}function Zp(o,f){if(1&o&&(e.TgZ(0,"div",25)(1,"mat-icon"),e._uU(2,"location_on"),e.qZA(),e.TgZ(3,"span",23),e._uU(4),e.qZA()()),2&o){const n=e.oxw();e.xp6(4),e.hij(" ",n.spirit.area.name," ")}}function eh(o,f){if(1&o&&(e.TgZ(0,"div",30),e._UZ(1,"app-spirit-tree",31),e.qZA()),2&o){const n=f.$implicit,a=e.oxw();e.xp6(1),e.Q6J("tree",n.tree)("name",n.name)("highlight",a.highlightTree===n.tree.guid)("highlightItem",a.highlightItem)}}let Av=(()=>{class o{constructor(n,a){this._dataService=n,this._route=a,this.trees=[],a.queryParamMap.subscribe(l=>this.onQueryChanged(l)),a.paramMap.subscribe(l=>this.onParamsChanged(l))}onQueryChanged(n){this.highlightTree=n.get("highlightTree")||void 0,this.highlightItem=n.get("highlightItem")||void 0}onParamsChanged(n){const a=n.get("guid");this.spirit=this._dataService.guidMap.get(a),this.typeName=(new qd).transform(this.spirit.type),this.event=this.spirit?.events?.at(-1)?.eventInstance?.event,this.trees=[];const l=(this.spirit.ts||[]).map(U=>({date:U.date,name:"Traveling Spirit #"+U.number,tree:U.tree})),_=(this.spirit.returns||[]).map((U,q)=>({date:U.return.date,name:U.return.name||"Visit #"+(q+1),tree:U.tree})),M=l.concat(_);M.sort((U,q)=>q.date.diff(U.date)),this.trees=M,this.spirit.tree&&this.trees.push({name:"Spirit tree",tree:this.spirit.tree})}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(xe.D),e.Y36(W.gz))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-spirit"]],decls:26,vars:11,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2"],[1,"sky-card","mt"],[1,"h3"],[3,"type"],[1,"sky-card-body"],[1,"spirit-grid"],[1,"spirit-grid-img","spirit-grid-item","sky-card-item"],["class","spirit-img",4,"ngIf"],[3,"wiki","aClass"],["class","spirit-grid-item sky-card-item sky-card-item-icon",3,"routerLink","queryParams",4,"ngIf"],["class","spirit-grid-item sky-card-item sky-card-item-icon",4,"ngIf"],[1,"sky-card","mt","spirit-trees"],[1,"h3","mb-0"],[1,"sky-card-body","pad-0"],[1,"sky-flex","scroll-x","pad"],["class","tree-wrapper p-inline-block",4,"ngFor","ngForOf"],[1,"spirit-img"],[3,"src","alt"],[1,"spirit-grid-item","sky-card-item","sky-card-item-icon",3,"routerLink","queryParams"],["class","icon",3,"src",4,"ngIf","ngIfElse"],["seasonIcon",""],[1,"menu-label"],[1,"icon",3,"src"],[1,"spirit-grid-item","sky-card-item","sky-card-item-icon"],["class","menu-label",3,"routerLink",4,"ngIf"],[1,"menu-label",3,"routerLink"],["class","menu-label",4,"ngIf"],[1,"menu-label",3,"routerLink","queryParams"],[1,"tree-wrapper","p-inline-block"],[3,"tree","name","highlight","highlightItem"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Spirit"),e.qZA()()(),e.TgZ(4,"div",3)(5,"div",1)(6,"h2",4),e._UZ(7,"app-spirit-type-icon",5),e._uU(8),e.qZA()(),e.TgZ(9,"div",6)(10,"div",7)(11,"div",8),e.YNc(12,Rp,2,2,"div",9),e.qZA(),e._UZ(13,"app-wiki-link",10),e.YNc(14,pc,6,9,"a",11),e.YNc(15,ou,4,1,"div",12),e.YNc(16,Qd,5,7,"a",11),e.YNc(17,Xd,5,7,"div",12),e.YNc(18,Zp,5,1,"div",12),e.qZA()()(),e.TgZ(19,"div",13)(20,"div",1)(21,"h2",14),e._uU(22,"Spirit tree"),e.qZA()(),e.TgZ(23,"div",15)(24,"div",16),e.YNc(25,eh,2,4,"div",17),e.qZA()()()),2&a&&(e.xp6(7),e.Q6J("type",l.spirit.type),e.xp6(1),e.hij(" ",l.spirit.name," "),e.xp6(4),e.Q6J("ngIf",l.spirit.imageUrl),e.xp6(1),e.Q6J("wiki",l.spirit._wiki)("aClass","spirit-grid-item sky-card-item sky-card-item-icon"),e.xp6(1),e.Q6J("ngIf","Season"===l.spirit.type||"Guide"===l.spirit.type),e.xp6(1),e.Q6J("ngIf","Event"===l.spirit.type),e.xp6(1),e.Q6J("ngIf","Regular"===l.spirit.type||"Elder"===l.spirit.type||"Special"===l.spirit.type),e.xp6(1),e.Q6J("ngIf",null==l.spirit.area?null:l.spirit.area.realm),e.xp6(1),e.Q6J("ngIf",l.spirit.area),e.xp6(7),e.Q6J("ngForOf",l.trees))},dependencies:[K.sg,K.O5,W.rH,z.Hw,Jc,fc,pr],styles:[".tree-wrapper[_ngcontent-%COMP%]   app-spirit-tree[_ngcontent-%COMP%]{vertical-align:bottom}.spirit-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:var(--border-radius);padding:5px 0;width:auto;height:192px;max-height:192px}.spirit-trees[_ngcontent-%COMP%]{max-width:100%}.spirit-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-template-rows:1fr;gap:8px}.spirit-grid-img[_ngcontent-%COMP%]{grid-area:1 / 1 / 2 / 2;width:100%;height:100%;padding-top:0;padding-bottom:0}.spirit-grid-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.spirit-img[_ngcontent-%COMP%]{width:auto;height:208px}.spirit-grid-item[_ngcontent-%COMP%]{width:100%;overflow:auto;border:var(--border-solid)}@media screen and (min-width: 720px){.spirit-grid[_ngcontent-%COMP%]{grid-template-columns:160px 1fr;grid-template-rows:46px}.spirit-grid-img[_ngcontent-%COMP%]{grid-area:1 / 1 / 5 / 2}.spirit-grid-item[_ngcontent-%COMP%]:nth-child(n+6){grid-column:1 / 3}}"]})}return o})();class Ov{static union(...f){const n=new Set;return f.forEach(a=>a.forEach(l=>n.add(l))),Array.from(n)}static intersection(...f){const n=new Map;for(const l of f)for(const _ of l)n.set(_,(n.get(_)||0)+1);const a=[];return n.forEach((l,_)=>{l<f.length||a.push(_)}),a}}class Nv{static getTrees(f){const n=[];f.ts?.forEach(l=>{n.push({date:l.date,tree:l.tree})}),f.returns?.forEach(l=>{n.push({date:l.return.date,tree:l.tree})}),n.sort((l,_)=>l.date.diff(_.date));const a=[];return f.tree&&a.push(f.tree),a.push(...n.map(l=>l.tree)),a}}function Hp(o,f){1&o&&e._uU(0,"Spirit")}function kv(o,f){1&o&&e._uU(0,"Type")}function Pv(o,f){1&o&&e._uU(0,"Location")}function Rv(o,f){1&o&&e._uU(0,"Unlocked")}const jp=function(o){return["/spirit",o]};function Vp(o,f){if(1&o&&(e.TgZ(0,"a",16),e._uU(1),e.qZA()),2&o){const n=f.row;e.Q6J("routerLink",e.VKq(2,jp,n.guid)),e.xp6(1),e.Oqu(n.name)}}function zp(o,f){1&o&&e._UZ(0,"app-spirit-type-icon",17),2&o&&e.Q6J("type",f.row.type)}function Fv(o,f){if(1&o&&(e.TgZ(0,"a",16),e._uU(1),e.qZA()),2&o){const n=f.row;e.Q6J("routerLink",void 0),e.xp6(1),e.hij(" ",null==n.area?null:n.area.name," ")}}function Lv(o,f){if(1&o&&(e.TgZ(0,"span",19),e._uU(1),e.qZA()),2&o){const n=e.oxw().row;e.ekj("partial",n.unlockedLast&&n.unlockedLast===n.totalLast||(n.unlockedFree||n.totalPass)&&n.unlockedFree===n.totalFree)("completed",n.unlockedItems===n.totalItems),e.Q6J("ngbTooltip",n.unlockTooltip),e.xp6(1),e.AsE(" ",n.unlockedItems," / ",n.totalItems," ")}}function os(o,f){1&o&&e.YNc(0,Lv,2,7,"span",18),2&o&&e.Q6J("ngIf",f.row.totalItems)}function Bv(o,f){1&o&&e._uU(0,"Total:")}function Uv(o,f){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const n=e.oxw(2);e.ekj("completed",n.unlockedItems===n.totalItems),e.xp6(1),e.AsE("",n.unlockedItems," / ",n.totalItems,"")}}function wb(o,f){if(1&o&&(e.TgZ(0,"div",10)(1,"div",4)(2,"app-table",11),e.YNc(3,Hp,1,0,"ng-template",12),e.YNc(4,kv,1,0,"ng-template",12),e.YNc(5,Pv,1,0,"ng-template",12),e.YNc(6,Rv,1,0,"ng-template",12),e.YNc(7,Vp,2,4,"ng-template",13),e.YNc(8,zp,1,1,"ng-template",13),e.YNc(9,Fv,2,2,"ng-template",13),e.YNc(10,os,1,1,"ng-template",13),e.YNc(11,Bv,1,0,"ng-template",14),e.YNc(12,Uv,2,4,"ng-template",15),e.qZA()()()),2&o){const n=e.oxw();e.xp6(2),e.Q6J("rows",n.rows),e.xp6(9),e.Q6J("colspan",3)("textAlign","right")}}function th(o,f){if(1&o&&(e.TgZ(0,"div",31),e._UZ(1,"img",32),e.qZA()),2&o){const n=e.oxw().$implicit;e.xp6(1),e.Q6J("src",n.imageUrl,e.LSH)}}function $p(o,f){if(1&o&&(e.TgZ(0,"span",33),e._uU(1),e.qZA()),2&o){const n=e.oxw().$implicit;e.ekj("partial",n.unlockedLast&&n.unlockedLast===n.totalLast||(n.unlockedFree||n.totalPass)&&n.unlockedFree===n.totalFree)("completed",n.unlockedItems===n.totalItems),e.Q6J("ngbTooltip",n.unlockTooltip),e.xp6(1),e.AsE(" ",n.unlockedItems," / ",n.totalItems," ")}}function Zv(o,f){if(1&o&&(e.TgZ(0,"div",22)(1,"div",1)(2,"h2",23),e._UZ(3,"app-spirit-type-icon",17),e._uU(4),e.qZA()(),e.TgZ(5,"div",4),e.YNc(6,th,2,1,"div",24),e.TgZ(7,"a",25)(8,"mat-icon",26),e._uU(9,"list"),e.qZA(),e.TgZ(10,"span",27),e._uU(11,"Information"),e.qZA()(),e.TgZ(12,"div",28)(13,"mat-icon",26),e._uU(14,"lock_open"),e.qZA(),e.TgZ(15,"div",29),e.YNc(16,$p,2,7,"span",30),e.qZA()()()()),2&o){const n=f.$implicit;e.xp6(3),e.Q6J("type",n.type),e.xp6(1),e.hij(" ",n.name," "),e.xp6(2),e.Q6J("ngIf",n.imageUrl),e.xp6(1),e.Q6J("routerLink",e.VKq(5,jp,n.guid)),e.xp6(9),e.Q6J("ngIf",n.totalItems)}}function Hv(o,f){if(1&o&&(e.TgZ(0,"div",20),e.YNc(1,Zv,17,7,"div",21),e.qZA()),2&o){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.rows)}}function jv(o,f){1&o&&e._UZ(0,"mat-icon",37),2&o&&e.Q6J("svgIcon","ascended-candle")("ngbTooltip","Elder Spirit")}function Gp(o,f){1&o&&e._UZ(0,"mat-icon",37),2&o&&e.Q6J("svgIcon","season-heart")("ngbTooltip","Season Guide")}function Vv(o,f){1&o&&e._UZ(0,"mat-icon",37),2&o&&e.Q6J("svgIcon","candle")("ngbTooltip","Regular Spirit")}function zv(o,f){1&o&&e._UZ(0,"mat-icon",37),2&o&&e.Q6J("svgIcon","season-candle")("ngbTooltip","Season Spirit")}function nh(o,f){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const n=e.oxw().row;e.xp6(1),e.Oqu(n.type)}}function $v(o,f){1&o&&(e.ynx(0,34),e.YNc(1,jv,1,2,"mat-icon",35),e.YNc(2,Gp,1,2,"mat-icon",35),e.YNc(3,Vv,1,2,"mat-icon",35),e.YNc(4,zv,1,2,"mat-icon",35),e.YNc(5,nh,2,1,"span",36),e.BQk()),2&o&&(e.Q6J("ngSwitch",f.row.type),e.xp6(1),e.Q6J("ngSwitchCase","Elder"),e.xp6(1),e.Q6J("ngSwitchCase","Guide"),e.xp6(1),e.Q6J("ngSwitchCase","Regular"),e.xp6(1),e.Q6J("ngSwitchCase","Season"))}let Gv=(()=>{class o{constructor(n,a,l){this._dataService=n,this._changeDetectorRef=a,this._route=l,this.mode="cards",this.spirits=[],this.spiritTrees={},this.rows=[],this.unlockedItems=0,this.totalItems=0,this.mode=localStorage.getItem("spirits.mode")||"grid",l.queryParamMap.subscribe(_=>{this.onQueryChanged(_)})}changeMode(){this.mode="grid"===this.mode?"cards":"grid",localStorage.setItem("spirits.mode",this.mode)}onQueryChanged(n){this.spirits=[],this.spiritTrees={};const a=n.get("type"),l=a?new Set(a.split(",")):void 0,M=[],U=n.get("realm"),q=U?this._dataService.guidMap.get(U):void 0;if(q){const yt=new Set(q.areas?.flatMap(Pn=>Pn.spirits||[])||[]),Ht=this._dataService.spiritConfig.items.filter(Pn=>yt.has(Pn));M.push(Ht)}const ye=n.get("season"),Ve=ye?this._dataService.guidMap.get(ye):void 0;Ve&&M.push(Ve.spirits||[]);let St=M.length?Ov.intersection(...M):this._dataService.spiritConfig.items;switch(St=l?St.filter(yt=>l.has(yt.type)):St,St.forEach(yt=>(this.spirits.push(yt),this.spiritTrees[yt.guid]=Nv.getTrees(yt),!0)),n.get("sort")){case"age-asc":this.sortAge(1);break;case"age-desc":this.sortAge(-1);break;case"name-asc":this.sortName()}this.initTable()}initTable(){this.unlockedItems=0,this.totalItems=0,this.rows=this.spirits.map(n=>{let a=0,l=0;const _=this.spiritTrees[n.guid],M=new Set;_.forEach(fn=>{De.f.getItems(fn.node).forEach(Jt=>{M.has(Jt)||(M.add(Jt),Jt.unlocked&&a++,l++)})});let U=0,q=0,ye=0,Ve=0,St=0,yt=0;const Ht=_.at(-1);Ht&&De.f.getItems(Ht.node).forEach(fn=>{fn.unlocked&&U++,q++,"Ultimate"===fn.group?(fn.unlocked&&St++,yt++):(fn.unlocked&&ye++,Ve++)});const Pn=a===l?"All items unlocked.":U&&U===q?"All items unlocked in most recent visit.":(ye||yt)&&ye===Ve?"All free items unlocked.":void 0;return this.unlockedItems+=a,this.totalItems+=l,{...n,areaGuid:n.area?.guid,unlockedItems:a,totalItems:l,unlockedFree:ye,totalFree:Ve,unlockedPass:St,totalPass:yt,unlockedLast:U,totalLast:q,unlockTooltip:Pn}})}sortDefault(){this.sortByDefault(),this.updateSortUrl("default"),this.initTable()}sortName(){this.sortByName(),this.updateSortUrl("name-asc"),this.initTable()}sortAge(n){this.sortByAge(n),this.updateSortUrl(n>0?"age-asc":"age-desc"),this.initTable()}sortByDefault(){this.spirits.sort((n,a)=>n._index-a._index)}sortByName(){this.spirits.sort((n,a)=>n.name.localeCompare(a.name))}sortByAge(n){const a=Co()("2019-1-1"),l=Co()("2999-1-1"),_=this.spirits.reduce((M,U)=>{let q=U.season?.date||U.events?.at(-1)?.eventInstance?.date;switch(U.type){case"Regular":case"Elder":q=a;break;case"Guide":case"Season":q=U.season?.date;break;case"Event":q=U.events?.at(0)?.eventInstance?.date}return M[U.guid]=q??l,M},{});this.spirits.sort((M,U)=>{const Ve=_[M.guid].diff(_[U.guid]);return Ve?Ve*n:(M._index-U._index)*n})}updateSortUrl(n){const a=new URL(location.href);a.searchParams.set("sort",n),history.replaceState(history.state,"",a.pathname+a.search)}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(xe.D),e.Y36(e.sBO),e.Y36(W.gz))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-spirits"]],decls:20,vars:2,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"h6","link",3,"click"],[1,"sky-card-body"],[1,"sky-flex","flex-wrap"],["type","button",3,"click"],["class","sky-card mt p-0",4,"ngIf"],["class","grid grid-4 mt",4,"ngIf"],["type",""],[1,"sky-card","mt","p-0"],[3,"rows"],[3,"appTableHeader"],[3,"appTableColumn"],[3,"appTableFooter","colspan","textAlign"],[3,"appTableFooter"],[3,"routerLink"],[3,"type"],["container","body","placement","left",3,"partial","completed","ngbTooltip",4,"ngIf"],["container","body","placement","left",3,"ngbTooltip"],[1,"grid","grid-4","mt"],["class","sky-card p-rel",4,"ngFor","ngForOf"],[1,"sky-card","p-rel"],[1,"h3","mb-0"],["class","p-rel item spirit-img",4,"ngIf"],[1,"mt","item","link",3,"routerLink"],[1,"menu-icon"],[1,"menu-label"],[1,"mt","p-rel","item"],[1,"d-inline-block","menu-label"],["container","body","placement","bottom",3,"partial","completed","ngbTooltip",4,"ngIf"],[1,"p-rel","item","spirit-img"],["loading","lazy",3,"src"],["container","body","placement","bottom",3,"ngbTooltip"],[3,"ngSwitch"],["container","body","placement","bottom",3,"svgIcon","ngbTooltip",4,"ngSwitchCase"],[4,"ngSwitchDefault"],["container","body","placement","bottom",3,"svgIcon","ngbTooltip"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3," Spirits "),e.TgZ(4,"a",3),e.NdJ("click",function(){return l.changeMode()}),e._uU(5,"Change view"),e.qZA()()(),e.TgZ(6,"div",4)(7,"div",5)(8,"button",6),e.NdJ("click",function(){return l.sortDefault()}),e._uU(9,"Default"),e.qZA(),e.TgZ(10,"button",6),e.NdJ("click",function(){return l.sortName()}),e._uU(11,"Alphabetical"),e.qZA(),e.TgZ(12,"button",6),e.NdJ("click",function(){return l.sortAge(1)}),e._uU(13,"Oldest first"),e.qZA(),e.TgZ(14,"button",6),e.NdJ("click",function(){return l.sortAge(-1)}),e._uU(15,"Newest first"),e.qZA()()()(),e.YNc(16,wb,13,3,"div",7),e.YNc(17,Hv,2,1,"div",8),e.YNc(18,$v,6,5,"ng-template",null,9,e.W1O)),2&a&&(e.xp6(16),e.Q6J("ngIf","grid"===l.mode),e.xp6(1),e.Q6J("ngIf","cards"===l.mode))},dependencies:[K.sg,K.O5,K.RF,K.n9,K.ED,W.rH,Oo,z.Hw,ps,Ra,xs,Id,fc],styles:[".partial[_ngcontent-%COMP%]{color:var(--color-old);font-weight:700}.completed[_ngcontent-%COMP%]{color:var(--color-new);font-weight:700}.spirit-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding:0 10px;width:auto;height:128px;max-height:128px}"],changeDetection:0})}return o})();function Yv(o,f){1&o&&e._uU(0,"#")}function qv(o,f){}function Wv(o,f){1&o&&e._uU(0,"Spirit")}function Vs(o,f){1&o&&e._uU(0,"Date")}function ih(o,f){1&o&&e._uU(0,"Visit")}function Jv(o,f){1&o&&e._uU(0,"Unlocked")}function Yp(o,f){1&o&&e._uU(0),2&o&&e.hij(" ",f.row.number," ")}function Qv(o,f){if(1&o&&e._UZ(0,"app-icon",13),2&o){const n=e.oxw().row;e.Q6J("src",n.spirit.imageUrl)("width","auto")("lazy",!0)}}function qp(o,f){if(1&o&&(e.TgZ(0,"div",11),e.YNc(1,Qv,1,3,"app-icon",12),e.qZA()),2&o){const n=f.row;e.xp6(1),e.Q6J("ngIf",n.spirit.imageUrl)}}const Wp=function(o){return["/spirit",o]},ru=function(o){return{highlightTree:o}};function oh(o,f){if(1&o&&(e.TgZ(0,"a",14),e._uU(1),e.qZA()),2&o){const n=f.row;e.Q6J("routerLink",e.VKq(3,Wp,n.spiritGuid))("queryParams",e.VKq(5,ru,n.treeGuid)),e.xp6(1),e.hij(" ",n.spirit.name," ")}}function Tb(o,f){if(1&o&&(e.TgZ(0,"span",15),e._uU(1),e.ALo(2,"dayjs"),e.qZA()),2&o){const n=f.row,a=e.oxw();e.xp6(1),e.Oqu(e.xi3(2,1,n.date,a.dateFormat))}}function Jp(o,f){1&o&&e._uU(0),2&o&&e.hij(" ",f.row.visit," ")}function Qp(o,f){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const n=e.oxw().row;e.ekj("completed",n.unlockedItems===n.totalItems),e.xp6(1),e.AsE(" ",n.unlockedItems," / ",n.totalItems," ")}}function Kp(o,f){1&o&&e.YNc(0,Qp,2,4,"span",16),2&o&&e.Q6J("ngIf",f.row.totalItems)}const rh=function(){return{href:"https://sky-children-of-the-light.fandom.com/wiki/Traveling_Spirits"}};let oa=(()=>{class o{constructor(n){this._dataService=n,this.rows=[],this.dateFormat=ge.O.displayFormat,this.rows=this._dataService.travelingSpiritConfig.items.map(a=>{let l=0,_=0;return De.f.getItems(a.tree.node).forEach(M=>{M.unlocked&&l++,_++}),{...a,spiritGuid:a.spirit.guid,treeGuid:a.tree.guid,unlockedItems:l,totalItems:_}}).reverse()}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(xe.D))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-traveling-spirits"]],decls:21,vars:6,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card-body"],[3,"wiki"],[1,"sky-card","p-0","mt"],[3,"rows"],[3,"appTableHeader","fit"],[3,"appTableHeader","fit","textAlign"],[3,"appTableHeader"],[3,"appTableColumn"],[1,"sky-card","spirit-img","t-center"],[3,"src","width","lazy",4,"ngIf"],[3,"src","width","lazy"],[3,"routerLink","queryParams"],[1,"ws-nw"],[3,"completed",4,"ngIf"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Traveling Spirits"),e.qZA()(),e.TgZ(4,"div",3),e._UZ(5,"app-wiki-link",4),e.qZA()(),e.TgZ(6,"div",5)(7,"div",3)(8,"app-table",6),e.YNc(9,Yv,1,0,"ng-template",7),e.YNc(10,qv,0,0,"ng-template",8),e.YNc(11,Wv,1,0,"ng-template",9),e.YNc(12,Vs,1,0,"ng-template",9),e.YNc(13,ih,1,0,"ng-template",9),e.YNc(14,Jv,1,0,"ng-template",9),e.YNc(15,Yp,1,1,"ng-template",10),e.YNc(16,qp,2,1,"ng-template",10),e.YNc(17,oh,2,7,"ng-template",10),e.YNc(18,Tb,3,4,"ng-template",10),e.YNc(19,Jp,1,1,"ng-template",10),e.YNc(20,Kp,1,1,"ng-template",10),e.qZA()()()),2&a&&(e.xp6(5),e.Q6J("wiki",e.DdM(5,rh)),e.xp6(3),e.Q6J("rows",l.rows),e.xp6(1),e.Q6J("fit",!0),e.xp6(1),e.Q6J("fit",!0)("textAlign","center"))},dependencies:[K.O5,W.rH,Gc,ps,Ra,xs,pr,fs],styles:[".completed[_ngcontent-%COMP%]{color:var(--color-unlock-check)}.spirit-img[_ngcontent-%COMP%]{display:none}.spirit-img[_ngcontent-%COMP%]:not(:first-child){margin-left:var(--padding-content)}@media screen and (min-width: 992px){.spirit-img[_ngcontent-%COMP%]{display:inline-block;width:var(--item-size);height:var(--item-size)}}@media screen and (min-width: 1400px){.spirit-img[_ngcontent-%COMP%]{width:calc(2 * var(--item-size));height:calc(2 * var(--item-size))}}"]})}return o})();function Kv(o,f){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const n=e.oxw(3).$implicit;e.xp6(1),e.Oqu(n.name)}}function Xv(o,f){1&o&&(e.TgZ(0,"span"),e._uU(1,"Premium Candle Store"),e.qZA())}function sh(o,f){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const n=e.oxw(3).$implicit;let a;e.xp6(1),e.Oqu(null!==(a=n.name)&&void 0!==a?a:null==n.spirit?null:n.spirit.name)}}function e0(o,f){if(1&o&&(e.ynx(0),e._UZ(1,"mat-icon",20),e.TgZ(2,"span",14),e._uU(3),e.qZA(),e.BQk()),2&o){const n=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngbTooltip","Regular candles"),e.xp6(2),e.hij(" ",n.c," ")}}function eg(o,f){if(1&o&&(e.ynx(0),e._UZ(1,"mat-icon",21),e.TgZ(2,"span",14),e._uU(3),e.qZA(),e.BQk()),2&o){const n=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngbTooltip","Season candles"),e.xp6(2),e.hij(" ",n.sc," ")}}function t0(o,f){if(1&o&&(e.ynx(0),e._UZ(1,"mat-icon",22),e.TgZ(2,"span",14),e._uU(3),e.qZA(),e.BQk()),2&o){const n=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngbTooltip","Gift Season Pass"),e.xp6(2),e.hij(" ",n.sp," ")}}function su(o,f){if(1&o&&(e.TgZ(0,"div",15),e.YNc(1,e0,4,2,"ng-container",8),e.YNc(2,eg,4,2,"ng-container",8),e.YNc(3,t0,4,2,"ng-container",8),e.qZA()),2&o){const n=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",n.c),e.xp6(1),e.Q6J("ngIf",n.sc),e.xp6(1),e.Q6J("ngIf",n.sp)}}function nl(o,f){if(1&o&&(e.ynx(0),e.TgZ(1,"span",27),e._uU(2),e.qZA(),e.BQk()),2&o){const n=e.oxw(2).$implicit;e.xp6(2),e.Oqu(n.name)}}function tg(o,f){if(1&o&&e.YNc(0,nl,3,1,"ng-container",8),2&o){const n=e.oxw().$implicit;e.Q6J("ngIf",n)}}function au(o,f){if(1&o){const n=e.EpF();e.TgZ(0,"div",23),e.NdJ("click",function(l){e.CHM(n);const _=e.oxw().$implicit,M=e.oxw(4);return e.KtG(M.togglePurchased(l,_))}),e._UZ(1,"app-item",24),e.TgZ(2,"mat-icon",25),e._uU(3,"done"),e.qZA(),e.YNc(4,tg,1,1,"ng-template",null,26,e.W1O),e.qZA()}if(2&o){const n=f.$implicit,a=e.MAs(5),l=e.oxw().$implicit;e.xp6(1),e.Q6J("item",n)("ngbTooltip",a),e.xp6(1),e.ekj("unlocked",null==n?null:n.unlocked)("self",l.bought)}}function Eb(o,f){if(1&o&&(e.TgZ(0,"div",10)(1,"div",1)(2,"h3",11),e._uU(3),e.qZA()(),e.TgZ(4,"div",3)(5,"div",12)(6,"mat-icon",13),e._uU(7,"location_on"),e.qZA(),e.TgZ(8,"span",14),e.YNc(9,Kv,2,1,"span",8),e.YNc(10,Xv,2,0,"span",8),e.YNc(11,sh,2,1,"span",8),e.qZA()(),e.TgZ(12,"div",15)(13,"mat-icon",13),e._uU(14,"attach_money"),e.qZA(),e.TgZ(15,"span",16),e._uU(16),e.qZA()(),e.YNc(17,su,4,3,"div",17),e.TgZ(18,"div",18),e.YNc(19,au,6,6,"div",19),e.qZA()()()),2&o){const n=f.$implicit,a=e.oxw(2).$implicit,l=e.oxw(2);e.ekj("highlight",n.guid===l.highlightIap),e.xp6(2),e.Q6J("ngbTooltip",n.name),e.xp6(1),e.hij(" ",n.name," "),e.xp6(6),e.Q6J("ngIf",a.name),e.xp6(1),e.Q6J("ngIf",!a.name&&"Store"===a.type),e.xp6(1),e.Q6J("ngIf",!a.name&&"Store"!==a.type),e.xp6(4),e.Q6J("ngbTooltip","Price of the IAP in USD."),e.xp6(1),e.hij(" ",n.price," "),e.xp6(1),e.Q6J("ngIf",n.c||n.sc||n.sp),e.xp6(2),e.Q6J("ngForOf",n.items)}}function n0(o,f){if(1&o&&(e.ynx(0),e.YNc(1,Eb,20,11,"div",9),e.BQk()),2&o){const n=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",n.iaps)}}function ng(o,f){if(1&o&&(e.ynx(0),e.YNc(1,n0,2,1,"ng-container",8),e.BQk()),2&o){const n=f.$implicit;e.xp6(1),e.Q6J("ngIf",null==n.iaps?null:n.iaps.length)}}function ig(o,f){if(1&o&&(e.TgZ(0,"div",6),e.YNc(1,ng,2,1,"ng-container",7),e.qZA()),2&o){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.shops)}}const r0=function(){return{href:"https://sky-children-of-the-light.fandom.com/wiki/Premium_Candle_Shop"}};let og=(()=>{class o{constructor(n,a,l){this._dataService=n,this._iapService=a,this.shops=this._dataService.shopConfig.items.filter(_=>_.permanent),l.queryParamMap.subscribe(_=>this.onQueryChanged(_))}onQueryChanged(n){this.highlightIap=n.get("highlightIap")||void 0}togglePurchased(n,a){this._iapService.togglePurchased(a)}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(xe.D),e.Y36(nt),e.Y36(W.gz))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-shops"]],decls:7,vars:3,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card-body"],[3,"wiki"],["class","grid grid-4 mt",4,"ngIf"],[1,"grid","grid-4","mt"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","sky-card p-rel",3,"highlight",4,"ngFor","ngForOf"],[1,"sky-card","p-rel"],["container","body",1,"h4","mb-0",3,"ngbTooltip"],[1,"item"],[1,"menu-icon"],[1,"menu-label"],[1,"item","mt-half"],["container","body",1,"menu-label",3,"ngbTooltip"],["class","item mt-half",4,"ngIf"],[1,"item","iap-items","mt-half"],["class","iap-item point d-inline-block p-rel",3,"click",4,"ngFor","ngForOf"],["svgIcon","candle","container","body","placement","right",1,"menu-icon",3,"ngbTooltip"],["svgIcon","season-candle","container","body","placement","right",1,"menu-icon",3,"ngbTooltip"],["svgIcon","gift","container","body","placement","right",1,"menu-icon","seasonal",3,"ngbTooltip"],[1,"iap-item","point","d-inline-block","p-rel",3,"click"],["placement","bottom","container","body",3,"item","ngbTooltip"],[1,"unlock-check"],["itemHover",""],[1,"ws-nw"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Permanent In-App Purchases"),e.qZA()(),e.TgZ(4,"div",3),e._UZ(5,"app-wiki-link",4),e.qZA()(),e.YNc(6,ig,2,1,"div",5)),2&a&&(e.xp6(5),e.Q6J("wiki",e.DdM(2,r0)),e.xp6(1),e.Q6J("ngIf",null==l.shops?null:l.shops.length))},dependencies:[K.sg,K.O5,Oo,z.Hw,ac,pr]})}return o})();function rg(o,f){1&o&&e._uU(0,"Spirit")}function il(o,f){1&o&&e._uU(0,"Type")}function s0(o,f){1&o&&e._uU(0,"Origin")}function sg(o,f){1&o&&e._uU(0,"Unlocked")}const ag=function(o){return["/spirit",o]};function a0(o,f){if(1&o&&(e.TgZ(0,"a",12),e._uU(1),e.qZA()),2&o){const n=f.row;e.Q6J("routerLink",e.VKq(2,ag,n.guid)),e.xp6(1),e.hij(" ",n.name," ")}}function c0(o,f){1&o&&e._UZ(0,"app-spirit-type-icon",13),2&o&&e.Q6J("type",f.row.type)}const ol=function(o){return["/season",o]};function l0(o,f){if(1&o&&(e.TgZ(0,"a",12),e._uU(1),e.qZA()),2&o){const n=e.oxw().row;e.Q6J("routerLink",e.VKq(2,ol,n.season.guid)),e.xp6(1),e.Oqu(n.season.name)}}const u0=function(o){return["/realm",o]};function d0(o,f){if(1&o&&(e.TgZ(0,"a",12),e._uU(1),e.qZA()),2&o){const n=e.oxw().row;e.Q6J("routerLink",e.VKq(2,u0,n.area.realm.guid)),e.xp6(1),e.Oqu(n.area.realm.name)}}function h0(o,f){if(1&o&&(e.YNc(0,l0,2,4,"a",14),e.YNc(1,d0,2,4,"a",14)),2&o){const n=f.row;e.Q6J("ngIf",n.season),e.xp6(1),e.Q6J("ngIf","Regular"===n.type)}}function f0(o,f){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const n=f.row;e.ekj("completed",n.unlocked===n.total),e.xp6(1),e.AsE(" ",n.unlocked," / ",n.total," ")}}function p0(o,f){1&o&&e._uU(0,"Total:")}function g0(o,f){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const n=e.oxw();e.ekj("completed",n.unlocked===n.total),e.xp6(1),e.AsE("",n.unlocked," / ",n.total,"")}}const cg=function(){return{href:"https://sky-children-of-the-light.fandom.com/wiki/Wing_Buffs"}};let ah=(()=>{class o{constructor(n){this._dataService=n,this.unlocked=0,this.total=0}ngOnInit(){const n=new Set;for(const U of this._dataService.itemConfig.items.filter(q=>q.type===sn.q.WingBuff))n.add(U),U.unlocked&&this.unlocked++,this.total++;const a=new Set,l=new Set,_=new Map;for(const U of n){if(!U.nodes?.length)continue;const ye=De.f.getRoot(U.nodes[0]).spiritTree;let Ve,St=!1;if(ye?.spirit?Ve=ye.spirit:ye?.ts?(Ve=ye.ts.spirit,St=!0):ye?.visit&&(Ve=ye.visit.spirit,St=!0),Ve){_.has(Ve.guid)||_.set(Ve.guid,{unlocked:0,total:0});const yt=_.get(Ve.guid);yt.total++,U.unlocked&&yt.unlocked++,St?l.add(Ve):a.add(Ve)}}const M=Array.from(a).concat(Array.from(l));this.rows=M.map(U=>{const q=_.get(U.guid);return{...U,...q}})}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(xe.D))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-wing-buffs"]],decls:29,vars:11,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card-body"],[3,"wiki"],[1,"sky-card","mt"],[3,"rows"],[3,"appTableHeader"],[3,"appTableColumn"],[3,"appTableFooter","colspan","textAlign"],[3,"appTableFooter"],[1,"mt"],[3,"routerLink"],[3,"type"],[3,"routerLink",4,"ngIf"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Wing Buffs"),e.qZA()(),e.TgZ(4,"div",3),e._UZ(5,"app-wiki-link",4),e.qZA()(),e.TgZ(6,"div",5)(7,"div",1)(8,"div"),e._uU(9,"You have unlocked "),e.TgZ(10,"b"),e._uU(11),e.qZA(),e._uU(12," out of "),e.TgZ(13,"b"),e._uU(14),e.qZA(),e._uU(15," wing buffs."),e.qZA()(),e.TgZ(16,"div",3)(17,"app-table",6),e.YNc(18,rg,1,0,"ng-template",7),e.YNc(19,il,1,0,"ng-template",7),e.YNc(20,s0,1,0,"ng-template",7),e.YNc(21,sg,1,0,"ng-template",7),e.YNc(22,a0,2,4,"ng-template",8),e.YNc(23,c0,1,1,"ng-template",8),e.YNc(24,h0,2,2,"ng-template",8),e.YNc(25,f0,2,4,"ng-template",8),e.YNc(26,p0,1,0,"ng-template",9),e.YNc(27,g0,2,4,"ng-template",10),e.qZA()()(),e._UZ(28,"div",11)),2&a&&(e.xp6(5),e.Q6J("wiki",e.DdM(10,cg)),e.xp6(5),e.ekj("completed",l.unlocked===l.total),e.xp6(1),e.Oqu(l.unlocked),e.xp6(2),e.ekj("completed",l.unlocked===l.total),e.xp6(1),e.Oqu(l.total),e.xp6(3),e.Q6J("rows",l.rows),e.xp6(9),e.Q6J("colspan",3)("textAlign","right"))},dependencies:[K.O5,W.rH,ps,Ra,xs,Id,fc,pr],styles:[".completed[_ngcontent-%COMP%]{color:var(--color-new);font-weight:700}"]})}return o})(),lg=(()=>{class o{get theme(){return this._theme}init(){const n=localStorage.getItem("theme")||"";this.set(n)}set(n){this._theme=n||"",n?document.body.dataset.theme=n:delete document.body.dataset.theme,localStorage.setItem("theme",n||"")}static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function cu(o,f){if(1&o){const n=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){const _=e.CHM(n).$implicit,M=e.oxw();return e.KtG(M.setDateFormat(_))}),e._uU(1),e.ALo(2,"lowercase"),e.qZA()}if(2&o){const n=f.$implicit,a=e.oxw();e.ekj("highlight",a.dateFormat===n),e.xp6(1),e.hij(" ",e.lcZ(2,3,n)," ")}}let _0=(()=>{class o{constructor(n,a,l,_){this._dataService=n,this._settingService=a,this._storageService=l,this._themeService=_,this.today=Co()(),this.wikiNewTab=!1,this.unlockedCount=this._storageService.unlocked.size,this.dateFormats=ge.O.displayFormats,this.dateFormat=ge.O.displayFormat,this.currentTheme=this._themeService.theme||"sky",this.wikiNewTab=a.wikiNewTab}export(){const n=this._storageService.serializeUnlocked(),a=this._storageService.serializeUnlockedCol(),_=JSON.stringify({unlocked:n,unlockedCol:a});let M="";try{const U=new Blob([_],{type:"application/json"});M=URL.createObjectURL(U);const q=document.createElement("a");q.href=M,q.download=`SkyPlanner_${Co()().format("YYYY-MM-DD")}.json`,document.body.appendChild(q),q.click(),document.body.removeChild(q)}finally{URL.revokeObjectURL(M)}}import(){const n=document.createElement("input");n.type="file",n.accept="application/json",n.onchange=a=>{const l=a.target.files?.[0];if(!l)return;const _=new FileReader;_.onload=M=>{try{const U=JSON.parse(_.result);this.handleImportJson(U)}catch(U){console.error(U),alert("Failed to parse file. If the selected file was exported by Sky Planner, please report this.")}},_.onerror=M=>{console.error(M),alert("Failed to read file. If the selected file was exported by Sky Planner, please report this.")},_.readAsText(l)},n.click()}handleImportJson(n){if(!n)throw new Error("No content.");if("string"!=typeof n.unlocked)throw new Error("No unlocked data.");const a=n.unlocked.split(","),l=n.unlockedCol?.split(",")||[];confirm(`You're about to overwrite your current data with ${a.length} entries. This cannot be undone. Are you sure?`)&&(this._storageService.unlocked.clear(),this._storageService.add(...a),this._storageService.save(),this._storageService.unlockedCol.clear(),this._storageService.addCol(...l),this._storageService.saveCol(),this._dataService.reloadUnlocked(),this.unlockedCount=this._storageService.unlocked.size)}clear(){confirm("You're about to clear all your data. This cannot be undone. Are you sure?")&&(this._storageService.unlocked.clear(),this._storageService.save(),this._storageService.unlockedCol.clear(),this._storageService.saveCol(),this._dataService.reloadUnlocked(),this.unlockedCount=0)}setTheme(n){this._themeService.set(n),this.currentTheme=this._themeService.theme||"sky"}setDateFormat(n){this.dateFormat=n,ge.O.displayFormat=n,localStorage.setItem("date.format",n)}toggleWikiTab(){this.wikiNewTab=!this.wikiNewTab,this._settingService.wikiNewTab=this.wikiNewTab}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(xe.D),e.Y36(ep),e.Y36(Xe.V),e.Y36(lg))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-settings"]],decls:60,vars:13,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card","mt"],[1,"h3","mb-0"],[1,"sky-card-body"],[1,"container","ws-pl"],[1,"sky-flex","flex-wrap","mt"],["type","button",1,"item",3,"click"],[1,"c-accent"],["type","button",1,"item","clear-data",3,"click"],["type","button","data-theme","sky",1,"item","btn-sky",3,"click"],["type","button","data-theme","light",1,"item",3,"click"],["type","button","data-theme","dark",1,"item",3,"click"],["type","button","class","item ws-nw",3,"highlight","click",4,"ngFor","ngForOf"],[1,"h3"],[1,"container","wiki-toggle-tab",3,"click"],[1,"menu-icon"],[1,"menu-label"],["type","button",1,"item","ws-nw",3,"click"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Settings"),e.qZA()()(),e.TgZ(4,"div",3)(5,"div",1)(6,"h2",4)(7,"mat-icon"),e._uU(8,"swap_horiz"),e.qZA(),e._uU(9," Import / Export "),e.qZA()(),e.TgZ(10,"div",5)(11,"div",6),e._uU(12," Import or export your progression. The exported file serves as a backup of all your unlocked items in Sky Planner. "),e.TgZ(13,"div",7)(14,"button",8),e.NdJ("click",function(){return l.import()}),e._uU(15," Import data "),e.qZA(),e.TgZ(16,"button",8),e.NdJ("click",function(){return l.export()}),e._uU(17," Export data "),e.TgZ(18,"span",9),e._uU(19),e.qZA()(),e.TgZ(20,"button",10),e.NdJ("click",function(){return l.clear()}),e._uU(21," Clear data "),e.qZA()()()()(),e.TgZ(22,"div",3)(23,"div",1)(24,"h2",4)(25,"mat-icon"),e._uU(26,"color_lens"),e.qZA(),e._uU(27," Theme "),e.qZA()(),e.TgZ(28,"div",5)(29,"div",6),e._uU(30," Change the theme of the website. "),e.TgZ(31,"div",7)(32,"button",11),e.NdJ("click",function(){return l.setTheme("")}),e._uU(33," Sky "),e.qZA(),e.TgZ(34,"button",12),e.NdJ("click",function(){return l.setTheme("light")}),e._uU(35," Light "),e.qZA(),e.TgZ(36,"button",13),e.NdJ("click",function(){return l.setTheme("dark")}),e._uU(37," Dark "),e.qZA()()()()(),e.TgZ(38,"div",3)(39,"div",1)(40,"h2",4)(41,"mat-icon"),e._uU(42,"date_range"),e.qZA(),e._uU(43," Date "),e.qZA()(),e.TgZ(44,"div",5)(45,"div",6),e._uU(46),e.ALo(47,"dayjs"),e.TgZ(48,"div",7),e.YNc(49,cu,3,5,"button",14),e.qZA()()(),e.TgZ(50,"div",3)(51,"div",1)(52,"h2",15),e._uU(53,"Wiki"),e.qZA()(),e.TgZ(54,"div",5)(55,"div",16),e.NdJ("click",function(){return l.toggleWikiTab()}),e.TgZ(56,"mat-icon",17),e._uU(57),e.qZA(),e.TgZ(58,"span",18),e._uU(59,"Navigate to wiki in new tab"),e.qZA()()()()()),2&a&&(e.xp6(19),e.hij("(",l.unlockedCount,")"),e.xp6(13),e.ekj("highlight","sky"===l.currentTheme),e.xp6(2),e.ekj("highlight","light"===l.currentTheme),e.xp6(2),e.ekj("highlight","dark"===l.currentTheme),e.xp6(10),e.hij(" Change the date displayed in the application. Today's date is ",e.xi3(47,10,l.today,l.dateFormat),". "),e.xp6(3),e.Q6J("ngForOf",l.dateFormats),e.xp6(8),e.Oqu(l.wikiNewTab?"check_box":"check_box_outline_blank"))},dependencies:[K.sg,z.Hw,K.i8,fs],styles:[".clear-data[_ngcontent-%COMP%]{color:var(--color-danger);background:var(--color-danger-background);border-color:var(--color-danger-accent)}.clear-data[_ngcontent-%COMP%]:hover{background:var(--color-danger-accent)}.small[_ngcontent-%COMP%]{font-size:8px;line-height:8px}.btn-sky[_ngcontent-%COMP%]{color:#fff!important;background:#50b6d8!important}.wiki-toggle-tab[_ngcontent-%COMP%]{cursor:pointer}.wiki-toggle-tab[_ngcontent-%COMP%]:hover{color:var(--color-link-hover)}"]})}return o})();var v0=S(7198),As=S.n(v0);let y0=(()=>{class o{getMap(){return this._map||(this._map=this.initialize()),this._map}attach(n){return this._div?(n.appendChild(this._div),this._map?.invalidateSize(),this._map?.setView([-270,270],1,{animate:!1,duration:0}),this._map):this._map}detach(){document.body.appendChild(this._div),this._map?.closePopup(),this._map?.invalidateSize(),this.enable()}enable(){this._map&&(this._map.scrollWheelZoom.enable(),this._map.doubleClickZoom.enable(),this._map.boxZoom.enable(),this._map.keyboard.enable(),this._map.touchZoom.enable(),this._map.dragging.enable())}disable(){this._map&&(this._zoom?.remove(),this._map.scrollWheelZoom.disable(),this._map.doubleClickZoom.disable(),this._map.boxZoom.disable(),this._map.keyboard.disable(),this._map.touchZoom.disable(),this._map.dragging.disable())}initialize(){if(this._map)return this._map;this._div=document.createElement("div"),this._div.classList.add("map"),document.body.appendChild(this._div);const n=As().map(this._div,{attributionControl:!1,crs:As().CRS.Simple,minZoom:0,maxZoom:3,center:[-270,270],maxBounds:[[100,-100],[-640,640]],zoomControl:!1}).setView([-270,270],1);As().tileLayer("assets/game/map/{z}/{x}_{y}.webp",{tileSize:540,bounds:[[0,0],[-540,540]]}).addTo(n),this._zoom=As().control.zoom({position:"bottomright"}),this._zoom.addTo(n);const a=document.cookie.split(";").find(_=>_.includes("mapcopy="))?.split("=")[1];return void 0!==a&&n.on("click",_=>{console.log(_),navigator.clipboard.writeText(a+JSON.stringify([+_.latlng.lat.toFixed(2),+_.latlng.lng.toFixed(2)]))}),window.map=n,console.log("Map initialized as %cwindow.map%c.","color:cyan;",""),n}static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),lu=(()=>{class o{constructor(n){this._mapService=n,this._groups={},this._funcs=new Array,this._map=this._mapService.getMap()}attach(n){return this._mapService.attach(n)}on(n,a){this._funcs.push([n,a]),this._map.on(n,a)}centerMap(n=1){this._map.flyTo([-270,270],n,{animate:!1,duration:0})}createLayerGroup(n,a=!0){return this._groups[n]?.remove(),this._groups[n]=As().layerGroup(),a&&this._mapService.getMap().addLayer(this._groups[n]),this._groups[n]}getLayerGroup(n){return this._groups[n]}ngOnDestroy(){Object.values(this._groups).forEach(n=>n.remove()),this._funcs.forEach(n=>{this._map.off(n[0],n[1])}),this._mapService.detach()}static#e=this.\u0275fac=function(a){return new(a||o)(e.LFG(y0))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac})}return o})();const ug=["mapContainer"],ch=function(){return["/spirit"]},dg=function(o){return{type:"Regular,Elder",realm:o}};function b0(o,f){if(1&o&&(e.TgZ(0,"a",13),e._UZ(1,"app-spirit-type-icon",14),e.TgZ(2,"span",15),e._uU(3," Spirits\xa0"),e.TgZ(4,"span",16),e._uU(5),e.qZA()()()),2&o){const n=e.oxw();e.ekj("colspan-2",!n.seasonSpiritCount),e.Q6J("routerLink",e.DdM(6,ch))("queryParams",e.VKq(7,dg,n.realm.guid)),e.xp6(1),e.Q6J("type","Regular"),e.xp6(4),e.hij("(",n.spirits.length,")")}}const Sb=function(o){return{type:"Season,Guide",realm:o}};function hg(o,f){if(1&o&&(e.TgZ(0,"a",13),e._UZ(1,"app-spirit-type-icon",14),e.TgZ(2,"span",15),e._uU(3," Season Spirits\xa0"),e.TgZ(4,"span",16),e._uU(5),e.qZA()()()),2&o){const n=e.oxw();e.ekj("colspan-2",!n.spirits.length),e.Q6J("routerLink",e.DdM(6,ch))("queryParams",e.VKq(7,Sb,n.realm.guid)),e.xp6(1),e.Q6J("type","Season"),e.xp6(4),e.hij("(",n.seasonSpiritCount,")")}}function fg(o,f){if(1&o){const n=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(n);const l=e.oxw();return e.KtG(l.mapToggleAreas())}),e.TgZ(1,"mat-icon"),e._uU(2,"location_on"),e.qZA()()}if(2&o){const n=e.oxw();e.ekj("button-areas-off",!n.showAreas),e.Q6J("ngbTooltip","Show areas")}}const xb=function(o){return["/spirit",o]},uu=function(o){return{highlightTree:o}};function C0(o,f){if(1&o&&(e.TgZ(0,"div",24)(1,"app-spirit-tree",25)(2,"div",26)(3,"a",27),e._uU(4),e.qZA()()()()),2&o){const n=e.oxw().$implicit,a=e.oxw(2);e.xp6(1),e.Q6J("tree",n.tree)("name",n.name)("highlight",a.highlightTree===n.tree.guid),e.xp6(2),e.Q6J("routerLink",e.VKq(6,xb,n.guid))("queryParams",e.VKq(8,uu,n.tree.guid)),e.xp6(1),e.hij(" ",n.name," ")}}function D0(o,f){if(1&o&&(e.ynx(0),e.YNc(1,C0,5,10,"div",23),e.BQk()),2&o){const n=f.$implicit;e.xp6(1),e.Q6J("ngIf",n.tree)}}function lh(o,f){if(1&o&&(e.TgZ(0,"div",18)(1,"div",2)(2,"h2",19),e._uU(3,"Spirit Trees"),e.qZA()(),e.TgZ(4,"div",20)(5,"div",21),e.YNc(6,D0,2,1,"ng-container",22),e.qZA()()()),2&o){const n=e.oxw();e.xp6(6),e.Q6J("ngForOf",n.spirits)}}let w0=(()=>{class o{constructor(n,a,l){this._dataService=n,this._mapInstanceService=a,this._route=l,this.spirits=[],this.seasonSpiritCount=0,this.hasAreaData=!1,this.showAreas=!1,l.queryParamMap.subscribe(_=>this.onQueryChanged(_)),l.paramMap.subscribe(_=>this.onParamsChanged(_))}ngAfterViewInit(){this.map=this._mapInstanceService.attach(this.mapContainer.nativeElement),this.drawMap(),this.panToRealm(!0)}onQueryChanged(n){this.highlightTree=n.get("highlightTree")||void 0}onParamsChanged(n){const a=n.get("guid");this.initializeRealm(a)}panToRealm(n=!1){this.realm?.mapData?.position&&this.map.flyTo(this.realm.mapData.position,this.realm.mapData.zoom??1,n?{animate:!1,duration:0}:void 0)}mapToggleAreas(){this.showAreas=!this.showAreas;const n=this._mapInstanceService.getLayerGroup("area");this.showAreas?n?.addTo(this.map):n?.remove()}initializeRealm(n){this.realm=this._dataService.guidMap.get(n),this.spirits=[],this.seasonSpiritCount=0,this.realm?.areas?.forEach(a=>{a.spirits?.forEach(l=>{"Regular"===l.type||"Elder"===l.type?this.spirits.push(l):"Season"===l.type&&this.seasonSpiritCount++})}),this.map&&(this.drawMap(),this.panToRealm(!0))}drawMap(){const n=this.realm.mapData||{},a=this._mapInstanceService.createLayerGroup("boundary"),l=this._mapInstanceService.createLayerGroup("area");if(l.remove(),n.boundary){const M=As().polygon(n.boundary,{color:n.boundaryColor||"#0ff",weight:1,fillOpacity:.05});a.addLayer(M)}const _=As().icon({iconUrl:"assets/icons/symbols/location_on.svg",iconSize:[24,24],popupAnchor:[0,-12]});this.hasAreaData=this.realm?.areas?.filter(M=>M.mapData?.position).length>0,this.realm?.areas?.forEach(M=>{if(!M.mapData?.position)return;const U=As().marker(M.mapData.position,{icon:_});U.bindPopup(this.createAreaPopup(M),{}),l.addLayer(U)})}createAreaPopup(n){return n.name}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(xe.D),e.Y36(lu),e.Y36(W.gz))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-realm"]],viewQuery:function(a,l){if(1&a&&e.Gf(ug,7),2&a){let _;e.iGM(_=e.CRH())&&(l.mapContainer=_.first)}},features:[e._Bn([lu])],decls:17,vars:8,consts:[[1,"realm-info-flex"],[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card-body"],[1,"grid","grid-1"],[3,"wiki","aClass"],["class","container",3,"colspan-2","routerLink","queryParams",4,"ngIf"],[1,"map-container"],["mapContainer",""],["type","button","class","map-control map-control-tl","container","body","placement","right",3,"button-areas-off","ngbTooltip","click",4,"ngIf"],["type","button","container","body","placement","right",1,"map-control","map-control-bl",3,"ngbTooltip","click"],["class","sky-card mt",4,"ngIf"],[1,"container",3,"routerLink","queryParams"],[1,"menu-icon",3,"type"],[1,"menu-label"],[1,"c-accent"],["type","button","container","body","placement","right",1,"map-control","map-control-tl",3,"ngbTooltip","click"],[1,"sky-card","mt"],[1,"h3"],[1,"sky-card-body","pad-0"],[1,"sky-flex","scroll-x","pad"],[4,"ngFor","ngForOf"],["class","tree-wrapper",4,"ngIf"],[1,"tree-wrapper"],[3,"tree","name","highlight"],["name",""],[3,"routerLink","queryParams"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._uU(4),e.qZA()(),e.TgZ(5,"div",4)(6,"div",5),e._UZ(7,"app-wiki-link",6),e.YNc(8,b0,6,9,"a",7),e.YNc(9,hg,6,9,"a",7),e.qZA()()(),e.TgZ(10,"div",8,9),e.YNc(12,fg,3,3,"button",10),e.TgZ(13,"button",11),e.NdJ("click",function(){return l.panToRealm()}),e.TgZ(14,"mat-icon"),e._uU(15,"center_focus_weak"),e.qZA()()()(),e.YNc(16,lh,7,1,"div",12)),2&a&&(e.xp6(4),e.Oqu(l.realm.name),e.xp6(3),e.Q6J("wiki",l.realm._wiki)("aClass","container colspan-2"),e.xp6(1),e.Q6J("ngIf",l.spirits.length),e.xp6(1),e.Q6J("ngIf",l.seasonSpiritCount),e.xp6(3),e.Q6J("ngIf",l.hasAreaData),e.xp6(1),e.Q6J("ngbTooltip","Center map"),e.xp6(3),e.Q6J("ngIf",null==l.spirits?null:l.spirits.length))},dependencies:[K.sg,K.O5,W.rH,Oo,z.Hw,Jc,fc,pr],styles:["app-spirit-tree[_ngcontent-%COMP%]{vertical-align:bottom}.tree-wrapper[_ngcontent-%COMP%]{display:inline-block}.map-container[_ngcontent-%COMP%]{position:relative}.map-container[_ngcontent-%COMP%]     .map{height:240px}.map-control[_ngcontent-%COMP%]{position:absolute;z-index:9999;padding:var(--padding-content);color:var(--color-map-tooltip);background:var(--color-map-tooltip-background);border-radius:var(--border-radius);width:32px;height:32px}.map-control[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;bottom:3px;left:3px}.button-areas-off[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{opacity:.5}.map-control-tl[_ngcontent-%COMP%]{top:var(--padding-content);left:var(--padding-content)}.map-control-bl[_ngcontent-%COMP%]{bottom:var(--padding-content);left:var(--padding-content)}.realm-info-flex[_ngcontent-%COMP%]{display:grid;gap:8px;grid-template-columns:1fr}.realm-info-flex[_ngcontent-%COMP%]   .map-container[_ngcontent-%COMP%]{min-height:240px}@media screen and (min-width: 992px){.realm-info-flex[_ngcontent-%COMP%]{grid-template-columns:1fr 400px}}"]})}return o})();var Os=S(5267);let ra=(()=>{class o{constructor(n){this._dataService=n,this._default="Sky Planner"}resolve(n,a){const l=n.paramMap.get("guid");return l?new Ce.y(_=>{this._dataService.onData.pipe((0,Os.P)()).subscribe({next:()=>{const M=this._dataService.guidMap.get(l);_.next("string"==typeof M?.name?`${M.name} - ${this._default}`:this._default),_.complete()},error:()=>{_.next(this._default),_.complete()}})}):""}static#e=this.\u0275fac=function(a){return new(a||o)(e.LFG(xe.D))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Tr=(()=>{class o{constructor(n){this._dataService=n,this._default="Sky Planner"}resolve(n,a){const l=n.paramMap.get("guid");return l?new Ce.y(_=>{this._dataService.onData.pipe((0,Os.P)()).subscribe({next:()=>{const M=this._dataService.guidMap.get(l);_.next("string"==typeof M?.event?.name?`${M.event.name} - ${this._default}`:this._default),_.complete()},error:()=>{_.next(this._default),_.complete()}})}):""}static#e=this.\u0275fac=function(a){return new(a||o)(e.LFG(xe.D))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function La(o,f){1&o&&e._uU(0,"Name")}function du(o,f){1&o&&e._uU(0,"Spirits")}function gs(o,f){1&o&&e._uU(0,"Start")}function uh(o,f){1&o&&e._uU(0,"End")}function mc(o,f){1&o&&e._uU(0,"Unlocked")}const _c=function(o){return["/rs",o]};function vc(o,f){if(1&o&&(e.TgZ(0,"a",10),e._uU(1),e.qZA()),2&o){const n=f.row;e.Q6J("routerLink",e.VKq(2,_c,n.guid)),e.xp6(1),e.hij(" ",n.name," ")}}function yc(o,f){if(1&o&&e._UZ(0,"app-icon",15),2&o){const n=e.oxw().$implicit;e.Q6J("src",n.spirit.imageUrl)("width","auto")("lazy",!0)}}const bc=function(o){return["/spirit",o]},Cc=function(o){return{highlightTree:o}};function Dc(o,f){if(1&o&&(e.TgZ(0,"a",13),e.YNc(1,yc,1,3,"app-icon",14),e.qZA()),2&o){const n=f.$implicit;e.Q6J("routerLink",e.VKq(4,bc,n.spirit.guid))("queryParams",e.VKq(6,Cc,n.tree.guid))("ngbTooltip",n.spirit.name),e.xp6(1),e.Q6J("ngIf",n.spirit.imageUrl)}}function wc(o,f){if(1&o&&(e.YNc(0,Dc,2,8,"a",11),e.TgZ(1,"div",12),e._uU(2),e.qZA()),2&o){const n=f.row;e.Q6J("ngForOf",n.spirits),e.xp6(2),e.hij(" ",(null==n.spirits?null:n.spirits.length)||0," ")}}function Tc(o,f){if(1&o&&(e.TgZ(0,"span",16),e._uU(1),e.ALo(2,"dayjs"),e.qZA()),2&o){const n=f.row,a=e.oxw();e.xp6(1),e.Oqu(e.xi3(2,1,n.date,a.dateFormat))}}function pg(o,f){if(1&o&&(e.TgZ(0,"span",16),e._uU(1),e.ALo(2,"dayjs"),e.qZA()),2&o){const n=f.row,a=e.oxw();e.xp6(1),e.Oqu(e.xi3(2,1,n.endDate,a.dateFormat))}}function gg(o,f){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const n=e.oxw().row;e.ekj("completed",n.unlockedItems===n.totalItems),e.xp6(1),e.AsE(" ",n.unlockedItems," / ",n.totalItems," ")}}function mg(o,f){1&o&&e.YNc(0,gg,2,4,"span",17),2&o&&e.Q6J("ngIf",f.row.totalItems)}const vg=function(){return{href:"https://sky-children-of-the-light.fandom.com/wiki/Returning_Spirits"}};let yg=(()=>{class o{constructor(n){this._dataService=n,this.rows=[],this.dateFormat=ge.O.displayFormat,this.rows=this._dataService.returningSpiritsConfig.items.map(a=>{let l=0,_=0;return a.spirits.forEach(M=>{De.f.getItems(M.tree.node).forEach(U=>{U.unlocked&&l++,_++})}),{...a,spiritGuids:a.spirits.map(M=>M.guid),unlockedItems:l,totalItems:_}}).reverse()}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(xe.D))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-returning-spirits"]],decls:19,vars:4,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card-body"],[3,"wiki"],[1,"sky-card","p-0","mt"],[3,"rows"],[3,"appTableHeader"],[3,"appTableColumn"],[3,"appTableColumn","tdClass"],[3,"routerLink"],["class","sky-card spirit-img t-center","container","body","placement","bottom",3,"routerLink","queryParams","ngbTooltip",4,"ngFor","ngForOf"],[1,"spirit-count"],["container","body","placement","bottom",1,"sky-card","spirit-img","t-center",3,"routerLink","queryParams","ngbTooltip"],[3,"src","width","lazy",4,"ngIf"],[3,"src","width","lazy"],[1,"ws-nw"],[3,"completed",4,"ngIf"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Special Visits"),e.qZA()(),e.TgZ(4,"div",3),e._UZ(5,"app-wiki-link",4),e.qZA()(),e.TgZ(6,"div",5)(7,"div",3)(8,"app-table",6),e.YNc(9,La,1,0,"ng-template",7),e.YNc(10,du,1,0,"ng-template",7),e.YNc(11,gs,1,0,"ng-template",7),e.YNc(12,uh,1,0,"ng-template",7),e.YNc(13,mc,1,0,"ng-template",7),e.YNc(14,vc,2,4,"ng-template",8),e.YNc(15,wc,3,2,"ng-template",9),e.YNc(16,Tc,3,4,"ng-template",8),e.YNc(17,pg,3,4,"ng-template",8),e.YNc(18,mg,1,1,"ng-template",8),e.qZA()()()),2&a&&(e.xp6(5),e.Q6J("wiki",e.DdM(3,vg)),e.xp6(3),e.Q6J("rows",l.rows),e.xp6(7),e.Q6J("tdClass","ws-nw"))},dependencies:[K.sg,K.O5,W.rH,Oo,Gc,ps,Ra,xs,pr,fs],styles:[".completed[_ngcontent-%COMP%]{color:var(--color-unlock-check)}.spirit-img[_ngcontent-%COMP%]{display:none}.spirit-img[_ngcontent-%COMP%]:not(:first-child){margin-left:var(--padding-content)}@media screen and (min-width: 992px){.spirit-img[_ngcontent-%COMP%]{display:inline-block;width:var(--item-size);height:var(--item-size)}.spirit-count[_ngcontent-%COMP%]{display:none}}@media screen and (min-width: 1400px){.spirit-img[_ngcontent-%COMP%]{width:calc(2 * var(--item-size));height:calc(2 * var(--item-size))}}"]})}return o})();function bg(o,f){if(1&o&&(e.TgZ(0,"span",18),e._uU(1," ("),e._UZ(2,"app-days-left",10),e._uU(3,") "),e.qZA()),2&o){const n=e.oxw();e.xp6(2),e.Q6J("start",n.rs.date)("end",n.rs.endDate)}}function Cg(o,f){if(1&o&&(e.TgZ(0,"span",18),e._uU(1," ("),e._UZ(2,"app-days-left",10),e._uU(3,") "),e.qZA()),2&o){const n=e.oxw();e.xp6(2),e.Q6J("start",n.rs.date)("end",n.rs.endDate)}}const Dg=function(o){return["/realm",o]};function dh(o,f){if(1&o&&(e.TgZ(0,"a",19)(1,"mat-icon",7),e._uU(2,"map"),e.qZA(),e.TgZ(3,"span",8),e._uU(4),e.qZA()()),2&o){const n=e.oxw();e.Q6J("routerLink",e.VKq(2,Dg,n.rs.area.realm.guid)),e.xp6(4),e.hij(" ",n.rs.area.realm.name," ")}}function T0(o,f){if(1&o&&(e.TgZ(0,"div",6)(1,"mat-icon",7),e._uU(2,"location_on"),e.qZA(),e.TgZ(3,"span",8),e._uU(4),e.qZA()()),2&o){const n=e.oxw();e.xp6(4),e.hij(" ",n.rs.area.name," ")}}const Ib=function(o){return["/spirit",o]},Ab=function(o){return{highlightTree:o}};function E0(o,f){if(1&o&&(e.TgZ(0,"div",22)(1,"app-spirit-tree",23)(2,"div",24)(3,"a",25),e._uU(4),e.qZA()()()()),2&o){const n=e.oxw().$implicit;e.xp6(1),e.Q6J("tree",n.tree)("name",n.spirit.name),e.xp6(2),e.Q6J("routerLink",e.VKq(5,Ib,n.spirit.guid))("queryParams",e.VKq(7,Ab,n.tree.guid)),e.xp6(1),e.hij(" ",n.spirit.name," ")}}function M0(o,f){if(1&o&&(e.ynx(0),e.YNc(1,E0,5,9,"div",21),e.BQk()),2&o){const n=f.$implicit;e.xp6(1),e.Q6J("ngIf",n.tree)}}function Ob(o,f){if(1&o&&(e.ynx(0),e.YNc(1,M0,2,1,"ng-container",20),e.BQk()),2&o){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.rs.spirits)}}let S0=(()=>{class o{constructor(n,a){this._dataService=n,this._route=a,a.queryParamMap.subscribe(l=>this.onQueryChanged(l)),a.paramMap.subscribe(l=>this.onParamsChanged(l))}onQueryChanged(n){}onParamsChanged(n){const a=n.get("guid");this.initializeRs(a)}initializeRs(n){this.rs=this._dataService.guidMap.get(n),this.state=ge.O.getStateFromPeriod(this.rs.date,this.rs.endDate)}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(xe.D),e.Y36(W.gz))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-returning-spirit"]],decls:30,vars:20,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card-body"],[1,"grid","grid-2"],[3,"wiki","aClass"],[1,"container"],[1,"menu-icon"],[1,"menu-label"],["class","c-accent",4,"ngIf"],[3,"start","end"],["class","container",3,"routerLink",4,"ngIf"],["class","container",4,"ngIf"],[1,"sky-card","mt"],[1,"h3"],[1,"sky-card-body","pad-0"],[1,"sky-flex","scroll-x","pad"],[4,"ngIf"],[1,"c-accent"],[1,"container",3,"routerLink"],[4,"ngFor","ngForOf"],["class","tree-wrapper",4,"ngIf"],[1,"tree-wrapper"],[3,"tree","name"],["name",""],[3,"routerLink","queryParams"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4),e._UZ(6,"app-wiki-link",5),e.TgZ(7,"div",6)(8,"mat-icon",7),e._uU(9,"calendar_month"),e.qZA(),e.TgZ(10,"span",8),e._uU(11),e.ALo(12,"dayjs"),e.ALo(13,"dayjs"),e.qZA(),e.YNc(14,bg,4,2,"span",9),e.qZA(),e.TgZ(15,"div",6)(16,"mat-icon",7),e._uU(17,"schedule"),e.qZA(),e.TgZ(18,"span",8),e._UZ(19,"app-duration",10),e.YNc(20,Cg,4,2,"span",9),e.qZA()(),e.YNc(21,dh,5,4,"a",11),e.YNc(22,T0,5,1,"div",12),e.qZA()()(),e.TgZ(23,"div",13)(24,"div",1)(25,"h2",14),e._uU(26,"Spirits"),e.qZA()(),e.TgZ(27,"div",15)(28,"div",16),e.YNc(29,Ob,2,1,"ng-container",17),e.qZA()()()),2&a&&(e.xp6(3),e.Oqu(l.rs.name),e.xp6(3),e.Q6J("wiki",l.rs._wiki)("aClass","container colspan-2"),e.xp6(1),e.ekj("expired","ended"===l.state),e.xp6(4),e.AsE(" ",e.lcZ(12,16,l.rs.date)," to ",e.lcZ(13,18,l.rs.endDate)," "),e.xp6(3),e.Q6J("ngIf","future"===l.state),e.xp6(1),e.ekj("expired","ended"===l.state),e.xp6(4),e.Q6J("start",l.rs.date)("end",l.rs.endDate),e.xp6(1),e.Q6J("ngIf","active"===l.state),e.xp6(1),e.Q6J("ngIf",null==l.rs.area?null:l.rs.area.realm),e.xp6(1),e.Q6J("ngIf",l.rs.area),e.xp6(7),e.Q6J("ngIf",null==l.rs.spirits?null:l.rs.spirits.length))},dependencies:[K.sg,K.O5,W.rH,z.Hw,Jc,Pa,na,pr,fs],styles:["app-spirit-tree[_ngcontent-%COMP%]{vertical-align:bottom}.tree-wrapper[_ngcontent-%COMP%]{display:inline-block}"]})}return o})();const hh=function(){return["/spirit"]},x0=function(){return{type:"Regular"}},I0=function(){return{type:"Elder"}},A0=function(){return{type:"Season"}},fh=function(){return{type:"Guide"}},rl=function(){return["/ts"]},ph=function(){return["/rs"]};let hu=(()=>{class o{constructor(n){this._dataService=n,this.spiritCounts={},this.tsCount=n.travelingSpiritConfig.items.length,this.rsCount=n.returningSpiritsConfig.items.length,this.spiritCounts=this._dataService.spiritConfig.items.reduce((a,l)=>(a[l.type]=(a[l.type]||0)+1,a),{})}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(xe.D))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-spirits-overview"]],decls:44,vars:30,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card-body"],[1,"grid","grid-2"],[1,"container",3,"routerLink","queryParams"],[1,"menu-icon",3,"type"],[1,"menu-label"],[1,"c-accent"],[1,"container",3,"routerLink"],[1,"menu-icon"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Spirits"),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4)(6,"a",5),e._UZ(7,"app-spirit-type-icon",6),e.TgZ(8,"span",7),e._uU(9," Regular Spirits "),e.TgZ(10,"span",8),e._uU(11),e.qZA()()(),e.TgZ(12,"a",5),e._UZ(13,"app-spirit-type-icon",6),e.TgZ(14,"span",7),e._uU(15," Elder Spirits "),e.TgZ(16,"span",8),e._uU(17),e.qZA()()(),e.TgZ(18,"a",5),e._UZ(19,"app-spirit-type-icon",6),e.TgZ(20,"span",7),e._uU(21," Season Spirits "),e.TgZ(22,"span",8),e._uU(23),e.qZA()()(),e.TgZ(24,"a",5),e._UZ(25,"app-spirit-type-icon",6),e.TgZ(26,"span",7),e._uU(27," Season Guides "),e.TgZ(28,"span",8),e._uU(29),e.qZA()()(),e.TgZ(30,"a",9)(31,"mat-icon",10),e._uU(32,"hikings"),e.qZA(),e.TgZ(33,"span",7),e._uU(34," Traveling Spirits "),e.TgZ(35,"span",8),e._uU(36),e.qZA()()(),e.TgZ(37,"a",9)(38,"mat-icon",10),e._uU(39,"flight"),e.qZA(),e.TgZ(40,"span",7),e._uU(41," Special Visits "),e.TgZ(42,"span",8),e._uU(43),e.qZA()()()()()()),2&a&&(e.xp6(6),e.Q6J("routerLink",e.DdM(20,hh))("queryParams",e.DdM(21,x0)),e.xp6(1),e.Q6J("type","Regular"),e.xp6(4),e.hij("(",l.spiritCounts.Regular,")"),e.xp6(1),e.Q6J("routerLink",e.DdM(22,hh))("queryParams",e.DdM(23,I0)),e.xp6(1),e.Q6J("type","Elder"),e.xp6(4),e.hij("(",l.spiritCounts.Elder,")"),e.xp6(1),e.Q6J("routerLink",e.DdM(24,hh))("queryParams",e.DdM(25,A0)),e.xp6(1),e.Q6J("type","Season"),e.xp6(4),e.hij("(",l.spiritCounts.Season,")"),e.xp6(1),e.Q6J("routerLink",e.DdM(26,hh))("queryParams",e.DdM(27,fh)),e.xp6(1),e.Q6J("type","Guide"),e.xp6(4),e.hij("(",l.spiritCounts.Guide,")"),e.xp6(1),e.Q6J("routerLink",e.DdM(28,rl)),e.xp6(6),e.hij("(",l.tsCount,")"),e.xp6(1),e.Q6J("routerLink",e.DdM(29,ph)),e.xp6(6),e.hij("(",l.rsCount,")"))},dependencies:[W.rH,z.Hw,fc]})}return o})();var wg=S(655),sl=S(9074),fu=S.n(sl);let gh=(()=>{class o{constructor(n){this._dataService=n,this._items=this.initializeItems()}search(n,a){if(!n)return[];let l=a?.items||this._items;const _=new Set(a?.types||[]);return _.size&&(l=l.filter(q=>_.has(q.type))),fu().go(n,l,{key:a?.key??"search",limit:a?.limit??25}).map(q=>(q.obj.highlighted=fu().highlight(q,"<b>","</b>")??"",q.obj.target=q.target,q.obj.score=q.score,this.setItemLink(q.obj),q.obj))}searchItems(n,a){return a||={},a.items||=this._items.filter(l=>"Item"===l.type),a.hasIcon&&(a.items=a.items.filter(l=>l.data.icon)),this.search(n,a)}setItemLink(n){switch(n.route=void 0,n.queryParams=void 0,n.type){case"Item":const a=Xc.getItemLink(n.data);n.route=a?.route,n.queryParams=a?.extras?.queryParams||void 0;break;case"Spirit":n.route=["/spirit",n.data.guid];break;case"Season":n.route=["/season",n.data.guid];break;case"Event":n.route=["/event",n.data.guid]}}initializeItems(){const n=[];return n.push(...this._dataService.itemConfig.items.filter(a=>{if("Spell"!==a.type&&"Quest"!==a.type&&"Special"!==a.type&&!("Emote"===a.type&&a.level>1))return!0}).map(a=>({name:a.name,type:"Item",data:a,search:a.name}))),n.push(...this._dataService.spiritConfig.items.filter(a=>"Special"!==a.type&&"Event"!==a.type).map(a=>({name:a.name,type:"Spirit",data:a,search:a.name}))),n.push(...this._dataService.seasonConfig.items.map(a=>({name:a.name,type:"Season",data:a,search:a.name}))),n.push(...this._dataService.eventConfig.items.map(a=>({name:a.name,type:"Event",data:a,search:a.name}))),n.forEach(a=>{"string"==typeof a.search&&(a.search=fu().prepare(a.search))}),n}static#e=this.\u0275fac=function(a){return new(a||o)(e.LFG(xe.D))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),al=(()=>{class o{transform(n){switch(n){case sn.q.Hat:return"Hat";case sn.q.Hair:return"Hair";case sn.q.Mask:return"Mask";case sn.q.FaceAccessory:return"Face accessory";case sn.q.Necklace:return"Necklace";case sn.q.Outfit:return"Outfit";case sn.q.Shoes:return"Shoes";case sn.q.Cape:return"Cape";case sn.q.Instrument:return"Instrument";case sn.q.Held:return"Held prop";case sn.q.Prop:return"Placeable prop";case sn.q.Emote:return"Emote";case sn.q.Stance:return"Stance";case sn.q.Call:return"Call";case sn.q.Spell:return"Spell";case sn.q.Music:return"Music sheet";case sn.q.Quest:return"Quest";case sn.q.WingBuff:return"Wing buff";case sn.q.Special:return"Special";default:return"Unknown"}}static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275pipe=e.Yjl({name:"itemType",type:o,pure:!0})}return o})();const O0=["input"];function N0(o,f){1&o&&e._uU(0,"Type")}function k0(o,f){1&o&&e._uU(0,"Icon")}function P0(o,f){1&o&&e._uU(0,"Name")}function mh(o,f){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"itemType"),e.qZA()),2&o){const n=e.oxw().row;e.xp6(1),e.Oqu(e.lcZ(2,1,n.data.type))}}function pu(o,f){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const n=e.oxw().row;e.xp6(1),e.Oqu(n.type)}}function gu(o,f){if(1&o&&(e.YNc(0,mh,3,3,"span",16),e.YNc(1,pu,2,1,"ng-template",null,17,e.W1O)),2&o){const n=f.row,a=e.MAs(2);e.Q6J("ngIf","Item"===n.type)("ngIfElse",a)}}function Nb(o,f){if(1&o&&(e.TgZ(0,"div",19,20),e._UZ(2,"app-icon",21),e.TgZ(3,"mat-icon",22),e._uU(4,"done"),e.qZA()()),2&o){const n=e.oxw().row;e.xp6(2),e.Q6J("src",n.data.iconUrl),e.xp6(1),e.ekj("self",n.data.unlocked)("unlocked",n.data.unlocked)}}function R0(o,f){if(1&o&&(e.TgZ(0,"div",19,23),e._UZ(2,"app-icon",21),e.TgZ(3,"mat-icon",22),e._uU(4,"done"),e.qZA()()),2&o){const n=e.oxw().row;e.xp6(2),e.Q6J("src",n.data.icon),e.xp6(1),e.ekj("self",n.data.unlocked)("unlocked",n.data.unlocked)}}function F0(o,f){if(1&o&&(e.TgZ(0,"div",19,24),e._UZ(2,"app-icon",25),e.qZA()),2&o){const n=e.oxw().row;e.xp6(2),e.Q6J("src",n.data.imageUrl)("width","auto")}}function _h(o,f){if(1&o&&(e.YNc(0,Nb,5,5,"div",18),e.YNc(1,R0,5,5,"div",18),e.YNc(2,F0,3,2,"div",18)),2&o){const n=f.row;e.Q6J("ngIf",n.data.iconUrl),e.xp6(1),e.Q6J("ngIf",n.data.icon),e.xp6(1),e.Q6J("ngIf",!(n.data.iconUrl||n.data.icon)&&n.data.imageUrl)}}function L0(o,f){if(1&o&&(e.TgZ(0,"a",26),e._UZ(1,"span",27),e.qZA()),2&o){const n=f.row;e.ekj("link",n.route),e.Q6J("routerLink",n.route)("queryParams",n.queryParams),e.xp6(1),e.Q6J("innerHTML",n.highlightedName||n.name,e.oJD)}}function Tg(o,f){if(1&o&&(e.TgZ(0,"div",10)(1,"app-table",11),e.YNc(2,N0,1,0,"ng-template",12),e.YNc(3,k0,1,0,"ng-template",13),e.YNc(4,P0,1,0,"ng-template",14),e.YNc(5,gu,3,2,"ng-template",15),e.YNc(6,_h,3,3,"ng-template",15),e.YNc(7,L0,2,5,"ng-template",15),e.qZA()()),2&o){const n=e.oxw();e.xp6(1),e.Q6J("rows",n.searchResults),e.xp6(1),e.Q6J("fit",!0),e.xp6(1),e.Q6J("fit",!0)("textAlign","center")}}function B0(o,f){if(1&o){const n=e.EpF();e.TgZ(0,"div",28),e._uU(1," There are no results. Try searching for "),e.TgZ(2,"a",29),e.NdJ("click",function(l){e.CHM(n);const _=e.oxw();return e.KtG(_.searchDemo(l))}),e._uU(3),e.qZA(),e._uU(4,"! "),e.qZA()}if(2&o){const n=e.oxw();e.xp6(3),e.Oqu(n.demoText)}}function U0(o,f){if(1&o){const n=e.EpF();e.TgZ(0,"div",30)(1,"div",3)(2,"span",29),e.NdJ("click",function(){e.CHM(n);const l=e.oxw();return e.KtG(l.focusInput())}),e._uU(3,"Refine your search for more results."),e.qZA()()()}}let Eg=(()=>{class o{constructor(n,a,l,_,M,U){this._dataService=n,this._eventService=a,this._searchService=l,this._changeDetectorRef=_,this._route=M,this._router=U,this.demoText="Gratitude"}ngAfterViewInit(){if(!this.input)return;this.resetSubscription=this._eventService.searchReset.subscribe(()=>{this.input?.nativeElement&&(this.input.nativeElement.setSelectionRange(0,this.input.nativeElement.value.length),this.input.nativeElement.focus())});const n=this._route.snapshot.queryParamMap.get("search");n&&(this.input.nativeElement.value=n,setTimeout(()=>{this.search()})),this._route.snapshot.queryParamMap.get("focus")&&this.input.nativeElement.focus(),this.searchSubscription=ut(this.input.nativeElement,"input").pipe((0,wg.b)(250)).subscribe(()=>{this.updateCurrentRoute()})}updateCurrentRoute(){const n=this.input?.nativeElement.value||"";let a=window.location.pathname;n&&(a+=`?search=${encodeURIComponent(n)}`),window.history.replaceState(window.history.state,"",a)}searchDemo(n){this.input?.nativeElement&&(this.input.nativeElement.value=n.target.innerText,this.search(),this.updateCurrentRoute(),this._changeDetectorRef.markForCheck())}search(){const n=0===this.searchResults?.length,a=this.input?.nativeElement.value||"";if(!a)return void(this.searchResults=void 0);const l=this._searchService.search(a,{});if(this.searchResults=l,!n&&!l.length){const _=this._dataService.seasonConfig.items,M=_[Math.floor(Math.random()*_.length)];this.demoText=M.shortName}this._changeDetectorRef.markForCheck()}focusInput(){this.input?.nativeElement.focus(),scrollTo(0,0)}unsubscribe(){this.searchSubscription?.unsubscribe()}ngOnDestroy(){this.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(xe.D),e.Y36(Me),e.Y36(gh),e.Y36(e.sBO),e.Y36(W.gz),e.Y36(W.F0))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-search"]],viewQuery:function(a,l){if(1&a&&e.Gf(O0,5),2&a){let _;e.iGM(_=e.CRH())&&(l.input=_.first)}},decls:13,vars:3,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h3","mb-0"],[1,"sky-card-body"],[1,"search"],["type","search","placeholder","Tip: use Ctrl+Shift+F to start a new search at any time.",1,"input",3,"input"],["input",""],["class","mt",4,"ngIf"],["class","container mt",4,"ngIf"],["class","sky-card mt",4,"ngIf"],[1,"mt"],[3,"rows"],[3,"appTableHeader","fit"],[3,"appTableHeader","fit","textAlign"],[3,"appTableHeader"],[3,"appTableColumn"],[4,"ngIf","ngIfElse"],["type",""],["class","result-icon",4,"ngIf"],[1,"result-icon"],["iconUrl",""],[3,"src"],[1,"unlock-check"],["icon",""],["imageUrl",""],[3,"src","width"],[3,"routerLink","queryParams"],[3,"innerHTML"],[1,"container","mt"],[1,"link",3,"click"],[1,"sky-card","mt"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Search"),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4)(6,"input",5,6),e.NdJ("input",function(){return l.search()}),e.qZA(),e.TgZ(8,"mat-icon"),e._uU(9,"search"),e.qZA()(),e.YNc(10,Tg,8,4,"div",7),e.YNc(11,B0,5,1,"div",8),e.qZA()(),e.YNc(12,U0,4,0,"div",9)),2&a&&(e.xp6(10),e.Q6J("ngIf",null==l.searchResults?null:l.searchResults.length),e.xp6(1),e.Q6J("ngIf",l.searchResults&&!l.searchResults.length),e.xp6(1),e.Q6J("ngIf",(null==l.searchResults?null:l.searchResults.length)>=25))},dependencies:[K.O5,W.rH,z.Hw,Gc,ps,Ra,xs,al],styles:[".search[_ngcontent-%COMP%]{position:relative}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:36px}.search[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;left:8px;top:50%;transform:translateY(-50%);opacity:1;transition:opacity var(--animation-short)}.result-icon[_ngcontent-%COMP%]{position:relative;display:inline-block;width:var(--item-size);height:var(--item-size);text-align:center;overflow:hidden;border-radius:var(--border-radius)}"],changeDetection:0})}return o})();function Mg(o,f){1&o&&e._UZ(0,"div",15)}function Sg(o,f){if(1&o&&(e.TgZ(0,"div",16),e._UZ(1,"img",17),e.qZA()),2&o){const n=e.oxw(3);e.xp6(1),e.Q6J("src",n.spirit.imageUrl,e.LSH)("alt",n.spirit.name)}}function Z0(o,f){if(1&o&&(e.TgZ(0,"div",12),e.YNc(1,Mg,1,0,"div",13),e.YNc(2,Sg,2,2,"div",14),e.qZA()),2&o){const n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==n.options?null:n.options.homeBackground),e.xp6(1),e.Q6J("ngIf",n.spirit.imageUrl)}}const H0=function(o){return["/spirit",o]},vh=function(o){return{highlightTree:o}};function xg(o,f){if(1&o&&(e.TgZ(0,"a",18),e._UZ(1,"app-spirit-type-icon",19),e.TgZ(2,"span",20),e._uU(3),e.qZA()()),2&o){const n=e.oxw(2);e.Udp("order",n.sections.ts),e.Q6J("routerLink",e.VKq(6,H0,n.ts.spirit.guid))("queryParams",e.VKq(8,vh,n.ts.tree.guid)),e.xp6(1),e.Q6J("type",n.spirit.type),e.xp6(2),e.Oqu(n.spirit.name)}}function yh(o,f){if(1&o&&(e.TgZ(0,"div",21)(1,"mat-icon"),e._uU(2,"calendar_month"),e.qZA(),e.TgZ(3,"span",20),e._uU(4),e.ALo(5,"dayjs"),e.ALo(6,"dayjs"),e.TgZ(7,"span",22),e._uU(8," ("),e._UZ(9,"app-days-left",23),e._uU(10,") "),e.qZA()()()),2&o){const n=e.oxw(2);e.Udp("order",n.sections.ts),e.xp6(4),e.AsE(" ",e.lcZ(5,6,n.ts.date)," to ",e.lcZ(6,8,n.ts.endDate)," "),e.xp6(5),e.Q6J("start",n.ts.date)("end",n.ts.endDate)}}function bh(o,f){if(1&o&&e._UZ(0,"app-wiki-link",24),2&o){const n=e.oxw(2);e.Q6J("wiki",n.spirit._wiki)("aClass","spirit-grid-item sky-card-item sky-card-item-icon")("order",n.sections.wiki)}}function j0(o,f){if(1&o&&e._UZ(0,"img",27),2&o){const n=e.oxw(3);e.Q6J("src",n.spirit.season.iconUrl,e.LSH)}}function mu(o,f){1&o&&(e.TgZ(0,"mat-icon"),e._uU(1,"ac_unit"),e.qZA())}const _u=function(o){return["/season",o]};function Ch(o,f){if(1&o&&(e.TgZ(0,"a",18),e.YNc(1,j0,1,1,"img",25),e.YNc(2,mu,2,0,"ng-template",null,26,e.W1O),e.TgZ(4,"span",20),e._uU(5),e.qZA()()),2&o){const n=e.MAs(3),a=e.oxw(2);e.Udp("order",a.sections.season),e.Q6J("routerLink",e.VKq(7,_u,null==a.spirit.season?null:a.spirit.season.guid))("queryParams",e.VKq(9,vh,null==a.spirit.tree?null:a.spirit.tree.guid)),e.xp6(1),e.Q6J("ngIf",null==a.spirit.season?null:a.spirit.season.iconUrl)("ngIfElse",n),e.xp6(4),e.hij(" ",null==a.spirit.season?null:a.spirit.season.name," ")}}const Ig=function(o){return["/event",o]};function V0(o,f){if(1&o&&(e.TgZ(0,"a",29),e._uU(1),e.qZA()),2&o){const n=e.oxw(3);e.Q6J("routerLink",e.VKq(2,Ig,n.event.guid)),e.xp6(1),e.hij(" ",n.event.name," ")}}function z0(o,f){if(1&o&&(e.TgZ(0,"div",21)(1,"mat-icon"),e._uU(2,"event"),e.qZA(),e.YNc(3,V0,2,4,"a",28),e.qZA()),2&o){const n=e.oxw(2);e.Udp("order",n.sections.event),e.xp6(3),e.Q6J("ngIf",n.event)}}function $0(o,f){1&o&&(e.TgZ(0,"span",20),e._uU(1," Regular Spirit "),e.qZA())}function vu(o,f){if(1&o&&(e.TgZ(0,"span",20),e._uU(1),e.qZA()),2&o){const n=e.oxw(3);e.xp6(1),e.hij(" ",n.spirit.type," ")}}const yu=function(){return["/spirit"]},Dh=function(o){return{type:o}};function Ag(o,f){if(1&o&&(e.TgZ(0,"a",18)(1,"mat-icon"),e._uU(2,"person"),e.qZA(),e.YNc(3,$0,2,0,"span",30),e.YNc(4,vu,2,1,"span",30),e.qZA()),2&o){const n=e.oxw(2);e.Udp("order",n.sections.regular),e.Q6J("routerLink",e.DdM(6,yu))("queryParams",e.VKq(7,Dh,n.spirit.type)),e.xp6(3),e.Q6J("ngIf","Regular"===n.spirit.type),e.xp6(1),e.Q6J("ngIf","Elder"===n.spirit.type||"Special"===n.spirit.type)}}const G0=function(o){return["/realm",o]};function Y0(o,f){if(1&o&&(e.TgZ(0,"div",21)(1,"mat-icon"),e._uU(2,"map"),e.qZA(),e.TgZ(3,"a",31),e._uU(4),e.qZA()()),2&o){const n=e.oxw(2);e.Udp("order",n.sections.realm),e.xp6(3),e.Q6J("routerLink",e.VKq(5,G0,n.spirit.area.realm.guid))("queryParams",e.VKq(7,vh,null==n.spirit.tree?null:n.spirit.tree.guid)),e.xp6(1),e.hij(" ",n.spirit.area.realm.name," ")}}function Og(o,f){if(1&o&&(e.TgZ(0,"div",21)(1,"mat-icon"),e._uU(2,"location_on"),e.qZA(),e.TgZ(3,"span",20),e._uU(4),e.qZA()()),2&o){const n=e.oxw(2);e.Udp("order",n.sections.area),e.xp6(4),e.hij(" ",n.spirit.area.name," ")}}function wh(o,f){if(1&o&&(e.TgZ(0,"div",21)(1,"mat-icon",32),e._uU(2,"sell"),e.qZA(),e.TgZ(3,"span",20),e._UZ(4,"app-cost",33),e.qZA()()),2&o){const n=e.oxw(2);e.Udp("order",n.sections.cost),e.xp6(4),e.Q6J("cost",n.cost)("remaining",n.remainingCost)("borderLeft",!0)}}function Ng(o,f){if(1&o&&(e.TgZ(0,"div",1)(1,"div",2)(2,"div",3),e.Hsn(3,0,["[select]","title"]),e.qZA(),e.TgZ(4,"h2",4),e._UZ(5,"app-spirit-type-icon",5),e._uU(6),e.qZA()(),e.TgZ(7,"div",6),e.YNc(8,Z0,3,2,"div",7),e.TgZ(9,"div",8),e.YNc(10,xg,4,10,"a",9),e.YNc(11,yh,11,10,"div",10),e.YNc(12,bh,1,3,"app-wiki-link",11),e.YNc(13,Ch,6,11,"a",9),e.YNc(14,z0,4,3,"div",10),e.YNc(15,Ag,5,9,"a",9),e.YNc(16,Y0,5,9,"div",10),e.YNc(17,Og,5,3,"div",10),e.YNc(18,wh,5,5,"div",10),e.qZA()()()),2&o){const n=e.oxw();e.xp6(5),e.Q6J("type",n.spirit.type),e.xp6(1),e.hij(" ",n.spirit.name," "),e.xp6(2),e.Q6J("ngIf",n.sections.img&&n.spirit.imageUrl),e.xp6(2),e.Q6J("ngIf",n.sections.ts&&n.ts),e.xp6(1),e.Q6J("ngIf",n.sections.ts&&n.ts),e.xp6(1),e.Q6J("ngIf",n.sections.wiki),e.xp6(1),e.Q6J("ngIf",n.sections.season&&("Season"===n.spirit.type||"Guide"===n.spirit.type)),e.xp6(1),e.Q6J("ngIf",n.sections.event&&"Event"===n.spirit.type),e.xp6(1),e.Q6J("ngIf",n.sections.regular&&("Regular"===n.spirit.type||"Elder"===n.spirit.type||"Special"===n.spirit.type)),e.xp6(1),e.Q6J("ngIf",n.sections.realm&&(null==n.spirit.area?null:n.spirit.area.realm)),e.xp6(1),e.Q6J("ngIf",n.sections.area&&n.spirit.area),e.xp6(1),e.Q6J("ngIf",n.sections.cost&&n.cost)}}const Th=["*"];let kg=(()=>{class o{constructor(){this.options={show:["img","wiki","season","event","realm","area"]},this.sections={}}ngOnInit(){this.updateSections()}ngOnChanges(n){n.spirit&&this.updateSpirit(),n.options&&this.updateSections(),n.tree&&this.updateCosts()}updateSpirit(){this.typeName=(new qd).transform(this.spirit.type),this.event=this.spirit?.events?.at(-1)?.eventInstance?.event}updateSections(){this.sections={},this.options.show?.forEach((n,a)=>{this.sections[n]=a+2})}updateCosts(){if(this.cost=this.remainingCost=void 0,!this.tree)return;const n=De.f.all(this.tree.node);this.cost=lo.T.add(lo.T.create(),...n);const a=n.filter(l=>!l.unlocked&&!l.item?.unlocked);this.remainingCost=lo.T.add(lo.T.create(),...a)}static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-spirit-card"]],inputs:{spirit:"spirit",ts:"ts",tree:"tree",options:"options"},features:[e.TTD],ngContentSelectors:Th,decls:1,vars:1,consts:[["class","sky-card",4,"ngIf"],[1,"sky-card"],[1,"sky-card-header"],[1,"title-select"],[1,"h3","mb-0","title-default"],[3,"type"],[1,"sky-card-body"],["class","spirit-grid-img spirit-grid-item sky-card-item",4,"ngIf"],[1,"spirit-grid","mt"],["class","spirit-grid-item sky-card-item sky-card-item-icon",3,"routerLink","queryParams","order",4,"ngIf"],["class","spirit-grid-item sky-card-item sky-card-item-icon",3,"order",4,"ngIf"],[3,"wiki","aClass","order",4,"ngIf"],[1,"spirit-grid-img","spirit-grid-item","sky-card-item"],["class","spirit-img-bg",4,"ngIf"],["class","spirit-img",4,"ngIf"],[1,"spirit-img-bg"],[1,"spirit-img"],[3,"src","alt"],[1,"spirit-grid-item","sky-card-item","sky-card-item-icon",3,"routerLink","queryParams"],[1,"menu-icon",3,"type"],[1,"menu-label"],[1,"spirit-grid-item","sky-card-item","sky-card-item-icon"],[1,"c-accent"],[3,"start","end"],[3,"wiki","aClass","order"],["class","icon",3,"src",4,"ngIf","ngIfElse"],["seasonIcon",""],[1,"icon",3,"src"],["class","menu-label",3,"routerLink",4,"ngIf"],[1,"menu-label",3,"routerLink"],["class","menu-label",4,"ngIf"],[1,"menu-label",3,"routerLink","queryParams"],[1,"menu-icon"],[3,"cost","remaining","borderLeft"]],template:function(a,l){1&a&&(e.F$t(),e.YNc(0,Ng,19,12,"div",0)),2&a&&e.Q6J("ngIf",l.spirit)},dependencies:[K.O5,W.rH,z.Hw,fc,Pa,Yl,pr,fs],styles:[".spirit-img[_ngcontent-%COMP%]{position:relative}.spirit-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:var(--border-radius);padding:5px 0;width:auto;height:192px;max-height:192px}.title-select[_ngcontent-%COMP%]:not(:empty) + .title-default[_ngcontent-%COMP%]{display:none}.spirit-img-bg[_ngcontent-%COMP%]{position:absolute;inset:0;background-image:url(https://silverfeelin.github.io/SkyGame-Planner/assets/game/realms/Home.webp);background-size:cover;background-position:bottom;filter:brightness(.6) blur(4px)}.spirit-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-template-rows:1fr;gap:8px}.spirit-grid-img[_ngcontent-%COMP%]{position:relative;grid-area:1 / 1 / 2 / 2;width:100%;height:100%;padding:0}.spirit-grid-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.spirit-img[_ngcontent-%COMP%]{width:auto;height:var(--img-preview-height)}.spirit-grid-item[_ngcontent-%COMP%]{width:100%;overflow:auto;border:var(--border-solid)}"],changeDetection:0})}return o})();function q0(o,f){if(1&o&&(e.TgZ(0,"span",11),e._uU(1),e.ALo(2,"dayjs"),e.qZA()),2&o){const n=e.oxw();e.xp6(1),e.Oqu(e.xi3(2,1,n.nowLocal,"HH:mm:ss"))}}function Pg(o,f){if(1&o&&(e.TgZ(0,"span",11),e._uU(1),e.ALo(2,"dayjs"),e.qZA()),2&o){const n=e.oxw();e.xp6(1),e.Oqu(e.xi3(2,1,n.nowSky,"HH:mm:ss"))}}let Rg=(()=>{class o{constructor(n){this._changeDetectorRef=n,this.localDegHr=0,this.localDegMin=0,this.localDegSec=0,this.skyDegHr=0,this.skyDegMin=0,this.skyDegSec=0}ngOnInit(){this.updateTime(),this._interval=window.setInterval(()=>{this.updateTime()},1e3)}ngOnDestroy(){this._interval&&window.clearInterval(this._interval)}updateTime(){this.nowLocal=Co()();const n=this.nowLocal.hour(),a=this.nowLocal.minute();this.localDegHr=n%12*30+.5*a+180,this.localDegMin=6*a+180,this.localDegSec=6*this.nowLocal.second()+180,this.nowSky=this.nowLocal.tz(ge.O.skyTimeZone);const l=this.nowSky.hour(),_=this.nowSky.minute();this.skyDegHr=l%12*30+.5*_+180,this.skyDegMin=6*_+180,this.skyDegSec=6*this.nowSky.second()+180,this._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-clock"]],decls:25,vars:14,consts:[[1,"clock"],[1,"clock-item"],[1,"container"],[1,"sky-clock"],[1,"hand-hour","hand"],[1,"hand-minute","hand"],[1,"hand-second","hand"],[1,"hand-inner"],[1,"clock-text"],[1,"clock-title"],["class","clock-time",4,"ngIf"],[1,"clock-time"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),e.qZA(),e.TgZ(8,"div",8)(9,"span",9),e._uU(10,"Local time"),e.qZA(),e._UZ(11,"br"),e.YNc(12,q0,3,4,"span",10),e.qZA()()(),e.TgZ(13,"div",1)(14,"div",2)(15,"div",3),e._UZ(16,"div",4)(17,"div",5)(18,"div",6)(19,"div",7),e.qZA(),e.TgZ(20,"div",8)(21,"span",9),e._uU(22,"Sky time"),e.qZA(),e._UZ(23,"br"),e.YNc(24,Pg,3,4,"span",10),e.qZA()()()()),2&a&&(e.xp6(4),e.Udp("transform","rotate("+l.localDegHr+"deg)"),e.xp6(1),e.Udp("transform","rotate("+l.localDegMin+"deg)"),e.xp6(1),e.Udp("transform","rotate("+l.localDegSec+"deg)"),e.xp6(6),e.Q6J("ngIf",l.nowLocal),e.xp6(4),e.Udp("transform","rotate("+l.skyDegHr+"deg)"),e.xp6(1),e.Udp("transform","rotate("+l.skyDegMin+"deg)"),e.xp6(1),e.Udp("transform","rotate("+l.skyDegSec+"deg)"),e.xp6(6),e.Q6J("ngIf",l.nowSky))},dependencies:[K.O5,fs],styles:[".clock[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:row;flex-wrap:wrap;align-items:stretch;gap:var(--padding-content);overflow:hidden}.clock-item[_ngcontent-%COMP%]{text-align:center;flex:1 1 auto}.clock-title[_ngcontent-%COMP%]{font-size:34px;line-height:34px}.clock-time[_ngcontent-%COMP%]{font-size:52px;line-height:52px}.clock-text[_ngcontent-%COMP%]{vertical-align:top;display:inline-block;filter:var(--shadow-clock)}.sky-clock[_ngcontent-%COMP%]{position:relative;display:none;top:0;width:92px;height:92px;border-radius:100%;border:solid var(--color);border-width:9px;box-sizing:border-box;filter:var(--shadow-clock)}.hand[_ngcontent-%COMP%]{position:absolute;top:50%;left:calc(50% - 3px);transform-origin:3px 0;width:6px;border-radius:0 0 50px 50px;background-color:var(--color);outline:var(--shadow-clock)}.hand-hour[_ngcontent-%COMP%]{height:21px}.hand-minute[_ngcontent-%COMP%]{height:32px}.hand-second[_ngcontent-%COMP%]{height:32px;width:2px;left:calc(50% - 1px);transform-origin:1px 0}.hand-inner[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);height:6px;width:6px;border-radius:100%;background:var(--color)}@media screen and (min-width: 992px){.clock-title[_ngcontent-%COMP%]{font-size:36px;line-height:36px}.clock-time[_ngcontent-%COMP%]{font-size:60px;line-height:60px}.sky-clock[_ngcontent-%COMP%]{display:inline-block}.clock-text[_ngcontent-%COMP%]{margin-left:20px}}@media screen and (min-width: 1400px){.clock-title[_ngcontent-%COMP%]{font-size:44px;line-height:44px}.clock-time[_ngcontent-%COMP%]{font-size:72px;line-height:90px}.sky-clock[_ngcontent-%COMP%]{width:128px;height:128px;border-width:12px}.hand[_ngcontent-%COMP%]{left:calc(50% - 4px);transform-origin:4px 0;width:8px}.hand-hour[_ngcontent-%COMP%]{height:28px}.hand-minute[_ngcontent-%COMP%]{height:48px}.hand-second[_ngcontent-%COMP%]{height:48px;transform-origin:1px 0;width:2px;left:calc(50% - 1px)}.hand-inner[_ngcontent-%COMP%]{height:8px;width:8px}}"],changeDetection:0})}return o})();function Fg(o,f){1&o&&(e.TgZ(0,"div",8)(1,"div",1)(2,"div",9),e._uU(3," There is currently no season or event active."),e._UZ(4,"br"),e._uU(5," You can view items, seasons, events and more in the menu on the left. "),e.qZA()()())}const Eh=function(){return["img","overview","date","checkin","cost"]},Lg=function(o){return{show:o}};function Bg(o,f){if(1&o&&e._UZ(0,"app-season-card",10),2&o){const n=e.oxw();e.Q6J("season",n.season)("options",e.VKq(3,Lg,e.DdM(2,Eh)))}}function Ug(o,f){if(1&o&&e._UZ(0,"app-event-card",11),2&o){const n=e.oxw();e.Q6J("event",n.eventInstance.event)("instance",n.eventInstance)("options",e.VKq(4,Lg,e.DdM(3,Eh)))}}const Mh=function(){return["img","ts","cost"]},bu=function(o){return{homeBackground:!0,show:o}};function Zg(o,f){if(1&o&&(e.TgZ(0,"app-spirit-card",12)(1,"div",13)(2,"h2",14),e._uU(3,"Traveling Spirit "),e.TgZ(4,"span",15),e._uU(5),e.qZA()()()()),2&o){const n=e.oxw();e.Q6J("spirit",n.ts.spirit)("ts",n.ts)("tree",n.ts.tree)("options",e.VKq(6,bu,e.DdM(5,Mh))),e.xp6(5),e.hij("(#",n.ts.number,")")}}let Hg=(()=>{class o{constructor(n){this._dataService=n}ngOnInit(){this.season=this._dataService.seasonConfig.items.findLast(n=>ge.O.isActive(n.date,n.endDate)),this.ts=this._dataService.travelingSpiritConfig.items.findLast(n=>ge.O.isActive(n.date,n.endDate));for(const n of this._dataService.eventConfig.items){const a=n.instances?.findLast(l=>ge.O.isActive(l.date,l.endDate));if(a){this.eventInstance=a;break}}}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(xe.D))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-dashboard"]],decls:10,vars:4,consts:[[1,"sky-card"],[1,"sky-card-body"],[1,"mt"],["class","sky-card mt",4,"ngIf"],[1,"grid","grid-2","mt"],[3,"season","options",4,"ngIf"],[3,"event","instance","options",4,"ngIf"],[3,"spirit","ts","tree","options",4,"ngIf"],[1,"sky-card","mt"],[1,"container"],[3,"season","options"],[3,"event","instance","options"],[3,"spirit","ts","tree","options"],["title",""],[1,"h3","mb-0"],[1,"c-accent","h4"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-clock"),e.qZA()(),e.TgZ(3,"div",2),e._UZ(4,"app-search"),e.qZA(),e.YNc(5,Fg,6,0,"div",3),e.TgZ(6,"div",4),e.YNc(7,Bg,1,5,"app-season-card",5),e.YNc(8,Ug,1,6,"app-event-card",6),e.YNc(9,Zg,6,8,"app-spirit-card",7),e.qZA()),2&a&&(e.xp6(5),e.Q6J("ngIf",!l.season&&!l.eventInstance&&!l.ts),e.xp6(2),e.Q6J("ngIf",l.season),e.xp6(1),e.Q6J("ngIf",l.eventInstance),e.xp6(1),e.Q6J("ngIf",l.ts))},dependencies:[K.O5,Eg,Ap,Fa,kg,Rg],styles:[".show-empty[_ngcontent-%COMP%]{display:none}.show-empty[_ngcontent-%COMP%]:only-child{display:block}.img[_ngcontent-%COMP%]{height:var(--img-preview-height)}.search[_ngcontent-%COMP%]{position:relative;cursor:pointer}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:32px;cursor:pointer}.search[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;left:8px;top:50%;transform:translateY(-50%);opacity:1;transition:opacity var(--animation-short)}"]})}return o})(),jg=(()=>{class o{static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-blank"]],decls:0,vars:0,template:function(a,l){},encapsulation:2,changeDetection:0})}return o})();const Vg=function(){return["/col"]},zg=function(){return["/wing-buff"]};let $g=(()=>{class o{constructor(n,a){this._dataService=n,this._storageService=a,this.wb=0,this.totalWb=0,this.col=0,this.totalCol=0,this.col=a.unlockedCol.size,this.totalCol=this._dataService.wingedLightConfig.items.length;const l=this._dataService.itemConfig.items.filter(_=>_.type===sn.q.WingBuff);this.wb=l.filter(_=>_.unlocked).length,this.totalWb=l.length}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(xe.D),e.Y36(Xe.V))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-winged-light"]],decls:16,vars:8,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card-body"],[1,"grid","grid-2"],[1,"container",3,"routerLink"],[1,""],[1,"c-accent"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Winged Light"),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4)(6,"a",5)(7,"span",6),e._uU(8," Children of Light "),e.TgZ(9,"span",7),e._uU(10),e.qZA()()(),e.TgZ(11,"a",5)(12,"span",6),e._uU(13," Wing Buffs "),e.TgZ(14,"span",7),e._uU(15),e.qZA()()()()()()),2&a&&(e.xp6(6),e.Q6J("routerLink",e.DdM(6,Vg)),e.xp6(4),e.AsE("(",l.col," / ",l.totalCol,")"),e.xp6(1),e.Q6J("routerLink",e.DdM(7,zg)),e.xp6(4),e.AsE("(",l.wb," / ",l.totalWb,")"))},dependencies:[W.rH],styles:[".wl[_ngcontent-%COMP%]{color:var(--color-wing-buff)}"],changeDetection:0})}return o})();const Gg=["mapContainer"],Yg=["table"];function Cu(o,f){}function _a(o,f){1&o&&e._uU(0,"Found")}function W0(o,f){1&o&&e._uU(0,"Area")}function J0(o,f){1&o&&e._uU(0,"Realm")}function Sh(o,f){if(1&o){const n=e.EpF();e.TgZ(0,"span",17)(1,"mat-icon",18),e.NdJ("click",function(){const _=e.CHM(n).row,M=e.oxw();return e.KtG(M.showArea(_))}),e._uU(2,"location_on"),e.qZA()()}if(2&o){const n=f.row;e.ekj("completed",n.unlocked===n.wl.length)}}function Ba(o,f){if(1&o){const n=e.EpF();e.TgZ(0,"span",19),e._uU(1),e.TgZ(2,"mat-icon",20),e.NdJ("click",function(){const _=e.CHM(n).row,M=e.oxw();return e.KtG(M.toggleRow(_))}),e._uU(3,"lock_open"),e.qZA()()}if(2&o){const n=f.row;e.ekj("completed",n.unlocked===n.wl.length),e.xp6(1),e.AsE(" ",n.unlocked," / ",n.wl.length," ")}}function xh(o,f){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const n=f.row;e.ekj("completed",n.unlocked===n.wl.length),e.xp6(1),e.Oqu(n.area.name)}}function Q0(o,f){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const n=f.row;e.ekj("completed",n.unlocked===n.wl.length),e.xp6(1),e.Oqu(n.area.realm.name)}}let Ih=(()=>{class o{constructor(n,a,l,_,M,U,q){this._dataService=n,this._storageService=a,this._mapInstanceService=l,this._activatedRoute=_,this._changeDetectorRef=M,this._breakpointObserver=U,this._zone=q,this.unlockedCol=0,this.totalCol=0,this.light=[],this.lightMap={},this.rowMap={},this.unlockedCol=a.unlockedCol.size,this.totalCol=this._dataService.wingedLightConfig.items.length;const ye=new Set;this.rows=[],this._dataService.wingedLightConfig.items.forEach(Ve=>{const St=Ve.area;if(!St||ye.has(St.guid))return;ye.add(St.guid);const yt={area:St,wl:St.wingedLights||[],unlocked:(St.wingedLights||[]).filter(Ht=>Ht.unlocked).length};yt.wl.forEach(Ht=>{this.rowMap[Ht.guid]=yt}),this.rows.push(yt)})}ngAfterViewInit(){this.map=this._mapInstanceService.attach(this.mapContainer?.nativeElement),this.map.setView([-400,270],2,{animate:!1,duration:0});const n=this._activatedRoute.snapshot.queryParamMap,a=+(n.get("x")||0),l=+(n.get("y")||0),_=n.has("z")?+(n.get("z")||0):void 0;void 0!==_&&this.map.setView([l,a],_);const M=this._mapInstanceService.createLayerGroup("col"),U=As().icon({iconUrl:"assets/icons/light.svg",iconSize:[32,32],popupAnchor:[0,-12]});As().imageOverlay("assets/game/map/void.webp",[[-141.87,185.63],[-116.88,210.63]]).addTo(M),this._dataService.wingedLightConfig.items.forEach(q=>{if(!q.mapData)return;const ye={wl:q};ye.marker=As().marker(q.mapData.position,{icon:U,opacity:q.unlocked?.4:1}),ye.marker.bindPopup(this.createPopup(q),{minWidth:480,maxWidth:480}),M.addLayer(ye.marker),this.light.push(ye),this.lightMap[q.guid]=ye}),M.addTo(this.map),window.markCol=(q,ye)=>{this._zone.run(()=>{this.markCol(q,ye)})},window.nextCol=(q,ye)=>{this._zone.run(()=>{ye<0?this.prevCol(q):this.nextCol(q)})},this._mapInstanceService.on("popupopen",q=>{this.onPopupOpen(q)}),this._mapInstanceService.on("moveend",()=>{this.onMoveEnd()}),this._mapInstanceService.on("keydown",q=>{this.onKeydown(q)}),this._subWidth=this._breakpointObserver.observe(["(min-width: 720px)"]).subscribe(q=>this.onResponsive(q))}onResponsive(n){const a=n.matches?480:240;this.light.forEach(l=>{if(!l.marker)return;const _=l.marker.getPopup()?.options||{};_.minWidth=_.maxWidth=a})}ngOnDestroy(){this._subWidth?.unsubscribe()}scrollToList(){this.table&&this.table.nativeElement.scrollIntoView({behavior:"smooth",block:"start"})}reset(){confirm("Are you sure you want to reset your found Children of Light?")&&(this._storageService.unlockedCol.clear(),this._storageService.saveCol(),this._dataService.reloadUnlocked(),this.unlockedCol=0,this.rows.forEach(n=>n.unlocked=0),this.light.forEach(n=>{n.marker?.setOpacity(1)}),this.map.closePopup(),this._changeDetectorRef.markForCheck())}showArea(n){this.shownArea=n.area;const a=this.light.filter(_=>_.wl.area===this.shownArea),l=a.find(_=>!_.wl.unlocked)?.wl??a[0]?.wl;l&&this.flyAndOpen(l,!0)}toggleRow(n,a){a??=n.unlocked<n.wl.length,this.map.closePopup(),n.area.wingedLights?.forEach(l=>{this.toggleWingedLight(l,a),this.updateTable(l),this.updateMarker(l)})}createPopup(n){let a="",l=n.mapData?.videoUrl;l&&(l.includes("youtube")||(l=`https://silverfeelin.github.io/SkyGame-Planner-Videos/CoL/${l}`),a=`<iframe class="s-leaflet-vid" width="480" height="270" src="${l}" title="CoL" frameborder="0" allow="autoplay; encrypted-media;" allowfullscreen></iframe>`);let _="";return n._wiki?.href&&(_=`<a href="${n._wiki.href}" class="button link float-right" target="_blank">Wiki</a>`),`\n<div class="s-leaflet-tooltip" data-wl="${n.guid}" onkeydown="keydownCol(event, this)">\n  <div class="s-leaflet-grid">\n    <div class="container s-leaflet-item"><div class="menu-icon s-leaflet-maticon">map</div><div class="menu-label">${n.area?.realm?.name||""}</div></div>\n    <div class="container s-leaflet-item"><div class="menu-icon s-leaflet-maticon">location_on</div><div class="menu-label">${n.area?.name||""}</div></div>\n    <div class="container s-leaflet-item s-leaflet-desc">\n      <div class="menu-icon s-leaflet-maticon">description</div><div class="menu-label">${n.description||""}</div>\n    </div>\n  </div>\n  <div class="s-leaflet-mt">${a}</div>\n  <div class="s-leaflet-mt">\n    <button type="button" class="s-leaflet-hasicon s-leaflet-found" data-action="mark" onclick="markCol(this, '${n.guid}')">\n      <span class="s-leaflet-maticon">check_box_outline_blank</span>\n      <span class="s-leaflet-check-label">Found</span>\n    </button>\n    <button class="s-leaflet-hasicon" data-direction="left" type="button" onclick="nextCol('${n.guid}', -1)"><span class="s-leaflet-maticon">arrow_back</span>&nbsp;</button>\n    <button class="s-leaflet-hasicon" data-direction="right" type="button" onclick="nextCol('${n.guid}', 1)"><span class="s-leaflet-maticon">arrow_forward</span>&nbsp;</button>\n    ${_}\n  </div>\n</div>\n`}onPopupOpen(n){const a=n.popup.getElement()?.querySelector(".s-leaflet-tooltip");if(!a)return;const _=this._dataService.guidMap.get(a.dataset.wl);this._lastPopup=n.popup,this.updatePopup(a,_)}onMoveEnd(){const n=new URL(location.href),a=this.map.getCenter();n.searchParams.set("x",`${Math.floor(a.lng)}`),n.searchParams.set("y",`${Math.floor(a.lat)}`),n.searchParams.set("z",`${this.map.getZoom()}`),window.history.replaceState(window.history.state,"",n.pathname+n.search)}onKeydown(n){if(!this._lastPopup?.isOpen())return;const a=n.originalEvent.key;if("ArrowLeft"!==a&&"ArrowRight"!==a&&" "!==a)return;const l=this._lastPopup.getElement()?.querySelector(".s-leaflet-tooltip"),_=l.dataset.wl;if(_){switch(a){case"ArrowLeft":this.prevCol(_);break;case"ArrowRight":this.nextCol(_);break;case" ":this.markCol(l.querySelector('[data-action="mark"]'),_);break;default:return}n.originalEvent.preventDefault(),n.originalEvent.stopPropagation()}}updatePopup(n,a){n.querySelector(".s-leaflet-found .s-leaflet-maticon").innerText=a.unlocked?"check_box":"check_box_outline_blank"}updateMarker(n){const a=this.lightMap[n.guid];a&&a.marker?.setOpacity(n.unlocked?.4:1)}updateTable(n){const a=this.rowMap[n.guid];a&&(a.unlocked=(a.wl||[]).filter(l=>l.unlocked).length,this.unlockedCol=this._storageService.unlockedCol.size,this._changeDetectorRef.markForCheck())}flyAndOpen(n,a=!1){if(!n)return;const l=this.lightMap[n.guid];if(!l)return;a&&window.scrollTo({top:0,behavior:"smooth"}),this.map.closePopup();const _=n.mapData?.position||[0,0];this.map.flyTo([_[0]+20,_[1]],3),l.marker?.openPopup(),l.marker?.getElement()?.focus()}toggleWingedLight(n,a){n.unlocked="boolean"==typeof a?a:!n.unlocked,n.unlocked?this._storageService.addCol(n.guid):this._storageService.removeCol(n.guid),this._storageService.saveCol()}allDone(){this.map.closePopup(),this._mapInstanceService.centerMap()}markCol(n,a){const l=this._dataService.guidMap.get(a);this.toggleWingedLight(l),this.updatePopup(n,l),this.updateMarker(l),this.updateTable(l),l.unlocked&&this.nextCol(a,!0)}prevCol(n){const a=this._dataService.guidMap.get(n),l=this._dataService.wingedLightConfig.items.findIndex(M=>M===a),_=this._dataService.wingedLightConfig.items[l-1]||this._dataService.wingedLightConfig.items[this._dataService.wingedLightConfig.items.length-1];this.lightMap[_.guid]?.marker?this.flyAndOpen(_):alert("Missing marker for previous Child of Light!")}nextCol(n,a=!1){const l=this._dataService.guidMap.get(n),_=this._dataService.wingedLightConfig.items.findIndex(q=>q===l);let U,M=(_+1)%this._dataService.wingedLightConfig.items.length;for(;M!==_&&(U=this._dataService.wingedLightConfig.items[M],U.unlocked&&a);)M+=1,M%=this._dataService.wingedLightConfig.items.length;if(M!==_){if(U){if(!this.lightMap[U.guid]?.marker)return void alert("Missing marker for next Child of Light!");this.flyAndOpen(U)}}else this.allDone()}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(xe.D),e.Y36(Xe.V),e.Y36(lu),e.Y36(W.gz),e.Y36(e.sBO),e.Y36(te.Yg),e.Y36(e.R0b))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-children-of-light"]],viewQuery:function(a,l){if(1&a&&(e.Gf(Gg,7),e.Gf(Yg,7)),2&a){let _;e.iGM(_=e.CRH())&&(l.mapContainer=_.first),e.iGM(_=e.CRH())&&(l.table=_.first)}},features:[e._Bn([lu])],decls:28,vars:7,consts:[[1,"map-container"],["mapContainer",""],["type","button",1,"map-control",3,"click"],[1,""],[1,"sky-card","mt"],["table",""],[1,"sky-card-header"],[1,"h3","mb-0","d-inline-block"],[1,"c-accent","show-desktop"],[1,"c-accent","show-mobile"],["type","button",1,"btn-reset",3,"click"],[1,"sky-card-body","scroll-x"],[3,"rows"],[3,"appTableHeader","fit"],[3,"appTableHeader","width"],[3,"appTableHeader"],[3,"appTableColumn"],[1,"link","map-icon"],[3,"click"],[1,"row-unlocked"],[1,"row-toggle",3,"click"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0,1)(2,"button",2),e.NdJ("click",function(){return l.scrollToList()}),e.TgZ(3,"mat-icon"),e._uU(4,"arrow_downward"),e.qZA()()(),e.TgZ(5,"div",3)(6,"div",4,5)(8,"div",6)(9,"h2",7)(10,"span"),e._uU(11,"Children of Light"),e.qZA(),e.TgZ(12,"span",8),e._uU(13),e.qZA(),e.TgZ(14,"div",9),e._uU(15),e.qZA()(),e.TgZ(16,"button",10),e.NdJ("click",function(){return l.reset()}),e._uU(17,"Reset"),e.qZA()(),e.TgZ(18,"div",11)(19,"app-table",12),e.YNc(20,Cu,0,0,"ng-template",13),e.YNc(21,_a,1,0,"ng-template",14),e.YNc(22,W0,1,0,"ng-template",15),e.YNc(23,J0,1,0,"ng-template",15),e.YNc(24,Sh,3,2,"ng-template",16),e.YNc(25,Ba,4,4,"ng-template",16),e.YNc(26,xh,2,3,"ng-template",16),e.YNc(27,Q0,2,3,"ng-template",16),e.qZA()()()()),2&a&&(e.xp6(13),e.AsE(" (",l.unlockedCol," / ",l.totalCol,")"),e.xp6(2),e.AsE("",l.unlockedCol," / ",l.totalCol,""),e.xp6(4),e.Q6J("rows",l.rows),e.xp6(1),e.Q6J("fit",!0),e.xp6(1),e.Q6J("width","84px"))},dependencies:[z.Hw,ps,Ra,xs],styles:[".map-control[_ngcontent-%COMP%]{position:absolute;z-index:9999;bottom:var(--padding-content);left:var(--padding-content);padding:var(--padding-content);color:var(--color-map-tooltip);background:var(--color-map-tooltip-background);border-radius:var(--border-radius);width:32px;height:32px}.map-control[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;bottom:3px;left:3px}.btn-reset[_ngcontent-%COMP%]{color:var(--color-danger);background:var(--color-danger-background);border-color:var(--color-danger-accent);position:absolute;right:var(--padding-content);top:50%;transform:translateY(-50%)}.btn-reset[_ngcontent-%COMP%]:hover{background:var(--color-danger-accent)}input.map-input[_ngcontent-%COMP%]{width:auto;display:inline-block}.map-icon[_ngcontent-%COMP%]{position:relative;display:inline-block;width:24px}.map-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;top:-17px;left:0}.row-unlocked[_ngcontent-%COMP%]{position:relative;white-space:nowrap;padding-right:30px}.row-toggle[_ngcontent-%COMP%]{position:absolute;cursor:pointer;top:-3px;right:0}.completed[_ngcontent-%COMP%]{color:var(--color-unlock-check);font-weight:700}.show-desktop[_ngcontent-%COMP%]{display:none}@media screen and (min-width: 720px){.show-desktop[_ngcontent-%COMP%]{display:unset}.show-mobile[_ngcontent-%COMP%]{display:none}}"],changeDetection:0})}return o})();var kb=S(418),Pb=S.n(kb);const K0=["input"];function X0(o,f){if(1&o){const n=e.EpF();e.ynx(0),e.TgZ(1,"img",8),e.NdJ("click",function(){const _=e.CHM(n).$implicit,M=e.oxw();return e.KtG(M.select(_.data))}),e.qZA(),e.BQk()}if(2&o){const n=f.$implicit,a=f.index;e.xp6(1),e.Q6J("src",n.data.icon,e.LSH)("tabIndex",a+1)("ngbTooltip",n.data.name)}}let Ah=(()=>{class o{constructor(n,a,l){this._elementRef=n,this._searchService=a,this._changeDetectorRef=l,this.closed=new e.vpe,this.selected=new e.vpe,this._lastSearchText="",this.searchResults=[]}ngAfterViewInit(){this.focus()}search(){this.searchText=this.input.nativeElement.value,this.searchText!==this._lastSearchText&&(this._lastSearchText=this.searchText,this.searchResults=this._searchService.searchItems(this.searchText,{limit:15,hasIcon:!0}),this._changeDetectorRef.markForCheck())}selectSearch(){this.input.nativeElement.select()}reset(){this.input.nativeElement.value="",this.searchText=void 0,this.searchResults=[],this._changeDetectorRef.markForCheck()}focus(){setTimeout(()=>{this.input.nativeElement.focus()})}select(n){this.selected.emit(n)}pickerKeydown(n){"Escape"===n.key&&this.close(n)}close(n){n.preventDefault(),n.stopPropagation(),this.closed.emit()}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(e.SBq),e.Y36(gh),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-icon-picker"]],viewQuery:function(a,l){if(1&a&&e.Gf(K0,7),2&a){let _;e.iGM(_=e.CRH())&&(l.input=_.first)}},outputs:{closed:"closed",selected:"selected"},decls:11,vars:1,consts:[[1,"icon-picker",3,"keydown"],[1,"picker-grid"],[4,"ngFor","ngForOf"],[1,"picker-close",3,"click"],[1,"search"],["tabindex","0","type","text","placeholder","Search for icons",1,"search-input",3,"input"],["input",""],[3,"click"],["crossorigin","anonymous","container","body",1,"picker-icon",3,"src","tabIndex","ngbTooltip","click"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0),e.NdJ("keydown",function(M){return l.pickerKeydown(M)}),e.TgZ(1,"div",1),e.YNc(2,X0,2,3,"ng-container",2),e.qZA(),e.TgZ(3,"div",3),e.NdJ("click",function(M){return l.close(M)}),e.TgZ(4,"mat-icon"),e._uU(5,"close"),e.qZA()(),e.TgZ(6,"div",4)(7,"input",5,6),e.NdJ("input",function(){return l.search()}),e.qZA(),e.TgZ(9,"mat-icon",7),e.NdJ("click",function(){return l.selectSearch()}),e._uU(10,"search"),e.qZA()()()),2&a&&(e.xp6(2),e.Q6J("ngForOf",l.searchResults))},dependencies:[K.sg,Oo,z.Hw],styles:["[_nghost-%COMP%]{position:relative;display:inline-block}.icon-picker[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;background:var(--color-card-solid-background);border-radius:var(--border-radius);border:var(--border)}.picker-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,var(--item-size));grid-template-rows:repeat(3,var(--item-size));gap:4px;padding:var(--padding-content);padding-bottom:calc(38px + var(--padding-content) * 2);overflow-y:auto}.picker-icon[_ngcontent-%COMP%]{width:var(--item-size);height:var(--item-size);cursor:pointer}.picker-close[_ngcontent-%COMP%]{position:absolute;top:4px;right:4px;cursor:pointer}.picker-close[_ngcontent-%COMP%]:hover{color:var(--color-accent)}.search[_ngcontent-%COMP%]{position:absolute;left:var(--padding-content);bottom:var(--padding-content);right:var(--padding-content);width:unset;height:38px}.search[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{cursor:pointer;position:absolute;bottom:8px;left:8px}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:36px}"],changeDetection:0})}return o})();const e1=["ttCopy"],Qo=["iconPicker"],qg=["collagePaste"],t1=["collageImage"];function n1(o,f){if(1&o){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",16),e.NdJ("click",function(){const _=e.CHM(n).index,M=e.oxw().index,U=e.oxw();return e.KtG(U.setCollageSize(_+1,M+1))}),e.qZA(),e.BQk()}if(2&o){const n=f.index,a=e.oxw().index,l=e.oxw();e.xp6(1),e.ekj("block-active",n<l.collageSize.x&&a<l.collageSize.y)}}function Wg(o,f){if(1&o&&(e.ynx(0),e.YNc(1,n1,2,2,"ng-container",9),e.BQk()),2&o){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.blockSize.x)}}function o1(o,f){if(1&o){const n=e.EpF();e.TgZ(0,"button",35),e.NdJ("click",function(){e.CHM(n);const l=e.oxw().index,_=e.oxw().index,M=e.oxw();return e.KtG(M.openIconPicker(l,_))}),e.TgZ(1,"mat-icon"),e._uU(2,"checkroom"),e.qZA()()}}function Jg(o,f){if(1&o){const n=e.EpF();e.TgZ(0,"div",36)(1,"img",37),e.NdJ("click",function(){e.CHM(n);const l=e.oxw().index,_=e.oxw().index,M=e.oxw();return e.KtG(M.openIconPicker(l,_))}),e.qZA()()}if(2&o){const n=e.oxw().index,a=e.oxw().index,l=e.oxw();e.xp6(1),e.Udp("width",l.sizes.previewIconWidth,"px"),e.Q6J("src",l.itemIcons[a][n],e.LSH)}}function Qg(o,f){if(1&o){const n=e.EpF();e.TgZ(0,"app-icon-picker",38),e.NdJ("closed",function(){e.CHM(n);const l=e.oxw(3);return e.KtG(l.iconPickerClosed())})("selected",function(l){e.CHM(n);const _=e.oxw(3);return e.KtG(_.iconPickerSelected(l))}),e.qZA()}}function Ec(o,f){if(1&o){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",17)(2,"div",18)(3,"div",19),e.NdJ("click",function(l){e.CHM(n);const _=e.oxw(2);return e.KtG(_.focusPaste(l))}),e.TgZ(4,"input",20,21),e.NdJ("paste",function(l){const M=e.CHM(n).index,U=e.oxw().index,q=e.oxw();return e.KtG(q.paste(l,M,U))}),e.qZA(),e.TgZ(6,"span",22),e._uU(7,"Press "),e.TgZ(8,"kbd"),e._uU(9,"Ctrl+V"),e.qZA(),e._uU(10," with"),e._UZ(11,"br"),e._uU(12,"an image in clipboard."),e.qZA(),e.TgZ(13,"span",23),e._uU(14,"Click to focus"),e._UZ(15,"br"),e._uU(16,"before pasting."),e.qZA(),e.TgZ(17,"div",24),e.NdJ("click",function(l){e.CHM(n);const _=e.oxw(2);return e.KtG(_.stopPaste(l))}),e.TgZ(18,"mat-icon"),e._uU(19,"close"),e.qZA()()(),e.TgZ(20,"button",25),e.NdJ("click",function(){const _=e.CHM(n).index,M=e.oxw().index,U=e.oxw();return e.KtG(U.pickFile(_,M))}),e.TgZ(21,"mat-icon"),e._uU(22,"upload_file"),e.qZA()(),e.TgZ(23,"div",26)(24,"div",27),e.NdJ("click",function(l){const M=e.CHM(n).index,U=e.oxw().index,q=e.oxw();return e.KtG(q.startPaste(M,U,!1,l))}),e.TgZ(25,"mat-icon"),e._uU(26,"content_paste"),e.qZA()(),e.TgZ(27,"div",28),e.NdJ("click",function(l){const M=e.CHM(n).index,U=e.oxw().index,q=e.oxw();return e.KtG(q.startPaste(M,U,!0,l))}),e.TgZ(28,"mat-icon"),e._uU(29,"start"),e.qZA()()(),e.YNc(30,o1,3,0,"button",29),e.TgZ(31,"button",30),e.NdJ("click",function(){const _=e.CHM(n).index,M=e.oxw().index,U=e.oxw();return e.KtG(U.clearFile(_,M))}),e.TgZ(32,"mat-icon"),e._uU(33,"clear"),e.qZA()(),e.TgZ(34,"img",31,32),e.NdJ("load",function(){const _=e.CHM(n).index,M=e.oxw().index,U=e.oxw();return e.KtG(U.imageLoaded(_,M))}),e.qZA(),e.YNc(36,Jg,2,3,"div",33),e.qZA(),e.YNc(37,Qg,1,0,"app-icon-picker",34),e.qZA(),e.BQk()}if(2&o){const n=f.index,a=e.oxw().index,l=e.oxw();e.xp6(1),e.uIk("data-x",n)("data-y",a)("data-z",n+a*l.blockSize.x.length),e.xp6(1),e.Udp("opacity",n<l.collageSize.x&&a<l.collageSize.y?1:.3),e.xp6(1),e.Q6J("hidden",l.iPaste!==n+a*l.blockSize.x.length),e.xp6(27),e.Q6J("ngIf",!l.itemIcons[a][n]),e.xp6(4),e.Q6J("src",l.files[a][n],e.LSH),e.uIk("data-x",n)("data-y",a),e.xp6(2),e.Q6J("ngIf",l.itemIcons[a][n]),e.xp6(1),e.Q6J("ngIf",(null==l.iIconPicker?null:l.iIconPicker.x)===n&&(null==l.iIconPicker?null:l.iIconPicker.y)===a)}}function r1(o,f){if(1&o&&(e.ynx(0),e.YNc(1,Ec,38,12,"ng-container",9),e.BQk()),2&o){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.blockSize.x)}}let s1=(()=>{class o{onWindowFocus(n){void 0!==this.iPaste&&this.focusPaste(n)}constructor(n,a){this._changeDetectorRef=n,this._renderer2=a,this.blockSize={x:Array(6).fill(!1),y:Array(3).fill(!1)},this.collageSize={x:4,y:1},this.bulkPaste=!1,this._rendering=!1,this.sizes={previewWidth:192,previewHeight:288,renderWidth:288,renderHeight:432,previewIconWidth:128/3,renderIconWidth:64},this.setCollageSize(4,1),this.files=[],this.images=[],this.itemIcons=[];for(let l=0;l<this.blockSize.y.length;l++){this.files.push([]),this.images.push([]),this.itemIcons.push([]);for(let _=0;_<this.blockSize.x.length;_++)this.files[l][_]="",this.itemIcons[l][_]=""}}ngAfterViewInit(){for(let n=0;n<this.blockSize.y.length;n++)for(let a=0;a<this.blockSize.x.length;a++){const l=n*this.blockSize.x.length+a,_=this._collageImage.get(l)?.nativeElement,M=this.createPanZoom(_);this.images[n][a]={panZoom:M,element:_}}}setCollageSize(n,a){this.collageSize={x:n,y:a},this.stopPaste(),this._changeDetectorRef.markForCheck()}startPaste(n,a,l,_){this.iPaste=n+a*this.blockSize.x.length,this.bulkPaste=l;const M=this._collagePaste.get(this.iPaste)?.nativeElement;M&&(M.value="",_?.preventDefault(),_?.stopPropagation(),this._changeDetectorRef.markForCheck(),setTimeout(()=>{M.focus()}))}openIconPicker(n,a){this.iIconPicker={x:n,y:a},this.itemIcons[a][n]="",this._changeDetectorRef.markForCheck()}iconPickerClosed(){null!=this.iIconPicker&&(this.iIconPicker=void 0,this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges())}iconPickerSelected(n){this.iIconPicker&&(this.itemIcons[this.iIconPicker.y][this.iIconPicker.x]=n?.icon||"",this.iIconPicker=void 0,this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges())}bulkPasteNext(){if(!this.bulkPaste||null==this.iPaste)return;let n=0,a=0;for(;a<this.collageSize.y&&(this.iPaste++,n=this.iPaste%this.blockSize.x.length,a=Math.floor(this.iPaste/this.blockSize.x.length),!(n<this.collageSize.x&&a<this.collageSize.y)););a>=this.collageSize.y?this.stopPaste():this.startPaste(n,a,!0)}onPanZoomEnd(){this.focusPaste()}focusPaste(n){if(void 0===this.iPaste)return;const a=this._collagePaste.get(this.iPaste)?.nativeElement;a&&(n?.preventDefault(),n?.stopPropagation(),a.focus())}stopPaste(n){n?.preventDefault(),n?.stopPropagation(),this.iPaste=void 0,this.bulkPaste=!1,document.activeElement instanceof HTMLElement&&document.activeElement.blur()}paste(n,a,l){this._changeDetectorRef.markForCheck();const _=this.getImgUrlFromClipboard(n);_&&(this.files[l][a]=_,this.bulkPaste?this.bulkPasteNext():this.stopPaste())}clearTxt(n){n.target.value=""}pickFile(n,a){this.files[a][n]="";const l=document.createElement("input");l.type="file",l.accept="image/*",l.onchange=()=>{const _=l.files?.item(0);if(!_)return;const M=URL.createObjectURL(_);this.files[a][n]=M,this._changeDetectorRef.markForCheck()},l.click()}clearFile(n,a){confirm("Are you sure you want to remove this image?")&&(this.files[a][n]="",this.itemIcons[a][n]="",this._changeDetectorRef.markForCheck())}imageLoaded(n,a){this.copyPrevPanZoom(n,a),this._changeDetectorRef.markForCheck()}saveCollage(){const a=this.render().toDataURL("image/png"),l=document.createElement("a");l.href=a,l.download="sky-outfit-collage.png",l.click()}copyCollage(){this._rendering=!0;const n=()=>{this._rendering=!1,this._changeDetectorRef.detectChanges()};try{this.render().toBlob(l=>{if(!l)return n();const _=new ClipboardItem({"image/png":l});navigator.clipboard.write([_]).then(()=>{n(),this._ttCopy.open(),setTimeout(()=>{this._ttCopy.close()},1e3)}).catch(M=>{console.error("Could not copy image to clipboard: ",M),alert("Copying failed. Please make sure the document is focused."),n()})})}catch(a){console.error(a),n()}}reset(){if(confirm("Are you sure you want to reset all images?")){for(let n=0;n<this.blockSize.y.length;n++)for(let a=0;a<this.blockSize.x.length;a++)this.files[n][a]="",this.itemIcons[n][a]="";this.iPaste=void 0,this._changeDetectorRef.markForCheck()}}createPanZoom(n){return Pb()(n,{zoomSpeed:.05,smoothScroll:!1})}getPrevPanZoom(n,a){for(;n>=0&&a>=0;){if(--n<0&&(n=4,a--),a<0)return;if(this.images[a][n].element?.naturalWidth>0)return this.images[a][n].panZoom}}copyPrevPanZoom(n,a){const l=this.getPrevPanZoom(n,a);l?this.copyPanZoom(l,this.images[a][n].panZoom):this.centerPanZoom(this.images[a][n])}copyPanZoom(n,a){a.moveTo(n.getTransform().x,n.getTransform().y),a.zoomAbs(n.getTransform().x,n.getTransform().y,n.getTransform().scale)}centerPanZoom(n){if(!(n.element?.naturalWidth>0))return;const U=this.sizes.previewWidth;n.panZoom.zoomAbs(-2*U,0,U/n.element.naturalWidth*4)}render(){const a=this.itemIcons.some(U=>U.some(q=>q.length)),l=document.createElement("canvas");l.width=this.sizes.renderWidth*this.collageSize.x+2*(this.collageSize.x+1),l.height=this.sizes.renderHeight*this.collageSize.y+2*(this.collageSize.y+1)+(a?12:0);const _=l.getContext("2d");_.fillStyle="#fff",_.fillRect(0,0,l.width,l.height);const M=(U,q,ye)=>{const Ve=U.closest(".collage-image-container"),St=U.getBoundingClientRect(),yt=Ve.getBoundingClientRect();if(_.drawImage(U,(yt.left-St.left)/St.width*U.naturalWidth,(yt.top-St.top)/St.height*U.naturalHeight,yt.width/St.width*U.naturalWidth,yt.height/St.height*U.naturalHeight,2*(q+1)+q*this.sizes.renderWidth,2*(ye+1)+ye*this.sizes.renderHeight,this.sizes.renderWidth,this.sizes.renderHeight),this.itemIcons[ye][q]){const Vn=document.querySelector(`.grid-collage-block[data-x="${q}"][data-y="${ye}"] .collage-image-icon img`);if(!(Vn?.naturalWidth>0))return;_.fillStyle="#0008",_.beginPath(),_.roundRect(2*(q+1)+q*this.sizes.renderWidth+4,2*(ye+1)+ye*this.sizes.renderHeight+this.sizes.renderHeight-this.sizes.renderIconWidth-4,this.sizes.renderIconWidth,this.sizes.renderIconWidth,8),_.fill(),_.drawImage(Vn,0,0,Vn.naturalWidth,Vn.naturalHeight,2*(q+1)+q*this.sizes.renderWidth+4,2*(ye+1)+ye*this.sizes.renderHeight+this.sizes.renderHeight-this.sizes.renderIconWidth-4,this.sizes.renderIconWidth,this.sizes.renderIconWidth)}};for(let U=0;U<this.collageSize.y;U++)for(let q=0;q<this.collageSize.x;q++){const ye=this.images[U][q].element;ye?.naturalWidth>0&&M(ye,q,U)}return a&&(_.fillStyle="#446",_.font="12px Roboto, sans-serif",_.textAlign="right",_.fillText(1===this.collageSize.x?"Icons from Sky: Children of the Light Wiki":"Icons by contributors of the Sky: Children of the Light Wiki",l.width-4,l.height-3)),l}getImgUrlFromClipboard(n){if(n.clipboardData){var a=n.clipboardData.items;if(a)for(let l=0;l<a.length;l++){if(!a[l].type.includes("image"))continue;const _=a[l].getAsFile();return _?URL.createObjectURL(_):void 0}}}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(e.sBO),e.Y36(e.Qsj))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-collage"]],viewQuery:function(a,l){if(1&a&&(e.Gf(e1,7),e.Gf(Qo,7,Ah),e.Gf(qg,5),e.Gf(t1,5)),2&a){let _;e.iGM(_=e.CRH())&&(l._ttCopy=_.first),e.iGM(_=e.CRH())&&(l._iconPicker=_.first),e.iGM(_=e.CRH())&&(l._collagePaste=_),e.iGM(_=e.CRH())&&(l._collageImage=_)}},hostBindings:function(a,l){1&a&&e.NdJ("focus",function(M){return l.onWindowFocus(M)},!1,e.Jf7)},decls:33,vars:9,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h3","mb-0"],[1,"button","btn-closet",3,"routerLink"],[1,"menu-icon"],[1,"menu-label"],[1,"sky-card-body","scroll-x"],[1,"container"],["data-theme","light",1,"grid-size-blocks"],[4,"ngFor","ngForOf"],[1,"container","mt","sky-flex","flex-wrap"],["type","button",1,"button",3,"click"],["type","button","ngbTooltip","Copied!","triggers","manual","container","body","placement","top","tooltipClass","show",1,"button",3,"disabled","closeDelay","autoClose","click"],["ttCopy","ngbTooltip"],["type","button",1,"button","button-danger",3,"click"],[1,"grid-collage","mt"],[1,"grid-size-block",3,"click"],[1,"grid-collage-block"],[1,"collage-image-container"],["tabindex","-1",1,"collage-pasting",3,"hidden","click"],["type","text",1,"collage-pasting-input",3,"paste"],["collagePaste",""],[1,"collage-pasting-label"],[1,"collage-pasting-focus"],[1,"button","collage-pasting-close",3,"click"],["type","button","ngbTooltip","Select image file","container","body",1,"collage-image-btn","collage-image-btn-file",3,"click"],[1,"button-group","collage-image-btn","collage-image-btn-clipboard"],["ngbTooltip","Paste image","container","body",1,"button","paste-single",3,"click"],["ngbTooltip","Paste images in bulk","container","body",1,"button","paste-multi",3,"click"],["type","button","class","collage-image-btn collage-image-btn-item","ngbTooltip","Add icon to corner","container","body",3,"click",4,"ngIf"],["type","button","ngbTooltip","Reset image","container","body",1,"collage-image-btn","collage-image-btn-clear",3,"click"],["crossorigin","anonymous",1,"collage-image",3,"src","load"],["collageImage",""],["class","collage-image-icon",4,"ngIf"],[3,"closed","selected",4,"ngIf"],["type","button","ngbTooltip","Add icon to corner","container","body",1,"collage-image-btn","collage-image-btn-item",3,"click"],[1,"collage-image-icon"],["crossorigin","anonymous",3,"src","click"],[3,"closed","selected"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Collage"),e.qZA(),e.TgZ(4,"a",3)(5,"mat-icon",4),e._uU(6,"checkroom"),e.qZA(),e.TgZ(7,"span",5),e._uU(8,"Go to closet"),e.qZA()()(),e.TgZ(9,"div",6)(10,"div",7),e._uU(11," Choose the size of your collage. "),e.TgZ(12,"div",8),e.YNc(13,Wg,2,1,"ng-container",9),e.qZA()(),e.TgZ(14,"div",10)(15,"button",11),e.NdJ("click",function(){return l.saveCollage()}),e.TgZ(16,"mat-icon",4),e._uU(17,"save"),e.qZA(),e.TgZ(18,"span",5),e._uU(19,"Save collage"),e.qZA()(),e.TgZ(20,"button",12,13),e.NdJ("click",function(){return l.copyCollage()}),e.TgZ(22,"mat-icon",4),e._uU(23),e.qZA(),e.TgZ(24,"span",5),e._uU(25,"Copy collage"),e.qZA()(),e.TgZ(26,"button",14),e.NdJ("click",function(){return l.reset()}),e.TgZ(27,"mat-icon",4),e._uU(28,"delete_forever"),e.qZA(),e.TgZ(29,"span",5),e._uU(30,"Reset"),e.qZA()()(),e.TgZ(31,"div",15),e.YNc(32,r1,2,1,"ng-container",9),e.qZA()()()),2&a&&(e.xp6(4),e.Q6J("routerLink","/outfit-request/closet"),e.xp6(9),e.Q6J("ngForOf",l.blockSize.y),e.xp6(7),e.Q6J("disabled",l._rendering)("closeDelay",1e3)("autoClose",!0),e.xp6(2),e.ekj("spin",l._rendering),e.xp6(1),e.Oqu(l._rendering?"cached":"image"),e.xp6(9),e.Q6J("ngForOf",l.blockSize.y))},dependencies:[K.sg,K.O5,W.rH,Oo,z.Hw,Ah],styles:[".btn-closet[_ngcontent-%COMP%]{position:absolute;right:8px;top:8px}.grid-size-blocks[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:repeat(6,32px)}.grid-size-block[_ngcontent-%COMP%]{width:32px;height:32px;box-sizing:border-box;border:solid black;border-width:1px 1px 0 0;background:#888;cursor:pointer}.grid-size-block[_ngcontent-%COMP%]:hover{background:#aaa}.grid-size-block[_ngcontent-%COMP%]:nth-of-type(6n-5){border-left-width:1px}.grid-size-block[_ngcontent-%COMP%]:nth-last-of-type(-n+6){border-bottom-width:1px}.block-active[_ngcontent-%COMP%]{background-color:var(--color-active)}.grid-collage[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:repeat(6,192px);gap:20px}@media screen and (min-width: 1400px){.grid-collage[_ngcontent-%COMP%]{gap:2px}}.grid-collage-block[_ngcontent-%COMP%]{position:relative;-webkit-user-select:none;user-select:none}.collage-image-container[_ngcontent-%COMP%]{position:relative;width:192px;height:288px;box-sizing:border-box;border:1px solid black;background-image:url(https://silverfeelin.github.io/SkyGame-Planner/assets/icons/transparent.webp);background-repeat:repeat;overflow:hidden;cursor:grab}.collage-pasting[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:4;padding:10px;background:#171721de}.collage-pasting-input[_ngcontent-%COMP%]{width:0;height:0;padding:0;margin:0;border:0}.collage-pasting[_ngcontent-%COMP%]:focus-within   .collage-pasting-label[_ngcontent-%COMP%]{display:inline}.collage-pasting[_ngcontent-%COMP%]:not(:focus-within)   .collage-pasting-focus[_ngcontent-%COMP%]{display:inline}.collage-pasting-label[_ngcontent-%COMP%], .collage-pasting-focus[_ngcontent-%COMP%]{display:none;color:#fff;position:absolute;top:50%;left:50%;white-space:nowrap;text-align:center;transform:translate(-50%,-50%)}.collage-pasting-close[_ngcontent-%COMP%]{position:absolute;top:4px;right:4px;width:32px;height:32px;z-index:5;cursor:pointer}.collage-pasting-close[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;top:3px;right:3px}.collage-image-btn[_ngcontent-%COMP%]{position:absolute;width:32px;height:32px;z-index:2;cursor:pointer}.collage-image-btn[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{position:absolute;pointer-events:none;top:3px;left:3px}.collage-image-btn-file[_ngcontent-%COMP%]{top:4px;left:4px}.collage-image-btn-clipboard[_ngcontent-%COMP%]{top:4px;right:4px;width:64px}.collage-image-btn-clipboard[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:relative;display:inline-block;width:32px;height:32px}.collage-image-btn-clipboard[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;top:3px;right:3px}.collage-image-btn-clear[_ngcontent-%COMP%]{bottom:4px;right:4px;color:var(--color-danger);background-color:var(--color-danger-background);border-color:var(--color-danger-accent)}.collage-image-btn-item[_ngcontent-%COMP%]{bottom:4px;left:4px}.collage-image[_ngcontent-%COMP%]{position:absolute;top:0;left:0}.collage-image-icon[_ngcontent-%COMP%]{cursor:pointer;background-color:#0008;border-radius:8px;position:absolute;bottom:2px;left:2px;z-index:4}.collage-image-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}app-icon-picker[_ngcontent-%COMP%]{position:absolute;bottom:4px;left:4px;z-index:3}"],changeDetection:0})}return o})();const Kg=["input"],a1=["ttCopyLnk"],Xg=["ttCopyImg"];function Rb(o,f){1&o&&(e.TgZ(0,"a",40)(1,"mat-icon",11),e._uU(2,"photo"),e.qZA(),e.TgZ(3,"span",12),e._uU(4,"Make collage"),e.qZA()()),2&o&&e.Q6J("routerLink","/outfit-request/collage")}function Oh(o,f){1&o&&(e.TgZ(0,"a",41)(1,"mat-icon",11),e._uU(2,"home"),e.qZA(),e.TgZ(3,"span",12),e._uU(4,"Home"),e.qZA()())}function Nh(o,f){1&o&&(e.TgZ(0,"div",42),e._uU(1," Select items from the list to create your request. You can then copy a link or image to share your selection. "),e.qZA())}function zs(o,f){if(1&o){const n=e.EpF();e.TgZ(0,"div",9)(1,"button",10),e.NdJ("click",function(){e.CHM(n);const l=e.oxw();return e.KtG(l.toggleCloset())}),e.TgZ(2,"mat-icon",11),e._uU(3,"checkroom"),e.qZA(),e.TgZ(4,"span",12),e._uU(5),e.qZA()(),e.TgZ(6,"button",10),e.NdJ("click",function(){e.CHM(n);const l=e.oxw();return e.KtG(l.modifyCloset())}),e.TgZ(7,"mat-icon",11),e._uU(8,"manufacturing"),e.qZA(),e._UZ(9,"span",13),e.qZA()()}if(2&o){const n=e.oxw();e.xp6(5),e.Oqu("all"===n.showMode?"Show my items":"Show all items")}}function c1(o,f){if(1&o){const n=e.EpF();e.TgZ(0,"div",9)(1,"button",10),e.NdJ("click",function(){e.CHM(n);const l=e.oxw();return e.KtG(l.toggleHideUnselected())}),e.TgZ(2,"mat-icon",11),e._uU(3,"filter_alt"),e.qZA(),e.TgZ(4,"span",12),e._uU(5),e.qZA()()()}if(2&o){const n=e.oxw();e.xp6(5),e.Oqu(n.hideUnselected?"Show all":"Show highlighted")}}function em(o,f){1&o&&(e.TgZ(0,"div",21)(1,"div",5)(2,"div",43)(3,"mat-icon",44),e._uU(4,"priority_high"),e.qZA(),e.TgZ(5,"span",12),e._uU(6,"This selection has items hidden in your closet. You might be missing some items."),e.qZA()()()())}function $s(o,f){if(1&o){const n=e.EpF();e.TgZ(0,"div",21)(1,"div",1)(2,"h2",45),e._uU(3,"Modify closet"),e.qZA()(),e.TgZ(4,"div",5)(5,"div",42),e._uU(6," Show items in columns. It is recommended to set this number to match your in-game closet. "),e.TgZ(7,"div",9)(8,"button",10),e.NdJ("click",function(){e.CHM(n);const l=e.oxw();return e.KtG(l.setColumns(3))}),e._uU(9,"3"),e.qZA(),e.TgZ(10,"button",10),e.NdJ("click",function(){e.CHM(n);const l=e.oxw();return e.KtG(l.setColumns(4))}),e._uU(11,"4"),e.qZA(),e.TgZ(12,"button",10),e.NdJ("click",function(){e.CHM(n);const l=e.oxw();return e.KtG(l.setColumns(5))}),e._uU(13,"5"),e.qZA(),e.TgZ(14,"button",10),e.NdJ("click",function(){e.CHM(n);const l=e.oxw();return e.KtG(l.setColumns(6))}),e._uU(15,"6"),e.qZA(),e.TgZ(16,"button",10),e.NdJ("click",function(){e.CHM(n);const l=e.oxw();return e.KtG(l.setColumns(7))}),e._uU(17,"7"),e.qZA(),e.TgZ(18,"button",10),e.NdJ("click",function(){e.CHM(n);const l=e.oxw();return e.KtG(l.setColumns(8))}),e._uU(19,"8"),e.qZA()()(),e.TgZ(20,"div",46)(21,"p"),e._uU(22," Click on any item to hide it from the closet. This way you can have the closet appear as it does in-game."),e._UZ(23,"br"),e._uU(24," Note that any highlighted items from shared links will be shown even if they are hidden from your closet. A warning will also indicate you are missing items. "),e.qZA(),e.TgZ(25,"p",47),e._uU(26," Because Sky Planner is primarily an item tracker you can use your tracked data to hide items from the closet."),e._UZ(27,"br"),e.qZA(),e.TgZ(28,"div",9)(29,"button",10),e.NdJ("click",function(){e.CHM(n);const l=e.oxw();return e.KtG(l.updateHiddenFromProgress())}),e._uU(30,"Update closet"),e.qZA(),e.TgZ(31,"button",10),e.NdJ("click",function(){e.CHM(n);const l=e.oxw();return e.KtG(l.resetHidden())}),e._uU(32,"Reset closet"),e.qZA()(),e.TgZ(33,"button",48),e.NdJ("click",function(){e.CHM(n);const l=e.oxw();return e.KtG(l.modifyCloset())}),e.TgZ(34,"mat-icon",11),e._uU(35,"done"),e.qZA(),e.TgZ(36,"span",12),e._uU(37,"Done modifying"),e.qZA()()()()()}if(2&o){const n=e.oxw();e.xp6(8),e.ekj("btn-column-active",3===n.columns),e.xp6(2),e.ekj("btn-column-active",4===n.columns),e.xp6(2),e.ekj("btn-column-active",5===n.columns),e.xp6(2),e.ekj("btn-column-active",6===n.columns),e.xp6(2),e.ekj("btn-column-active",7===n.columns),e.xp6(2),e.ekj("btn-column-active",8===n.columns)}}const Ns=function(o,f){return{$implicit:o,type:f}};function ks(o,f){if(1&o){const n=e.EpF();e.TgZ(0,"div",49)(1,"div",50),e.NdJ("click",function(){const _=e.CHM(n).type,M=e.oxw();return e.KtG(M.toggleClosetSection(_))}),e._UZ(2,"mat-icon",51),e.TgZ(3,"div",52)(4,"mat-icon"),e._uU(5),e.qZA()()(),e.GkF(6,36),e.qZA()}if(2&o){const n=f.type,a=e.oxw(),l=e.MAs(83);e.Udp("grid-template-columns","repeat("+a.columns+", "+(a.itemSizePx+8)+"px)"),e.uIk("data-type",n),e.xp6(1),e.Udp("grid-column","1/"+(a.columns+1)),e.xp6(1),e.Q6J("svgIcon",a.itemIcons[n]),e.xp6(3),e.Oqu(a.typeFolded[n]?"add":"remove"),e.xp6(1),e.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",e.WLB(9,Ns,a.items[n],n))}}function tm(o,f){if(1&o){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",56),e.NdJ("click",function(){e.CHM(n);const l=e.oxw().$implicit,_=e.oxw(2);return e.KtG(_.toggleItem(l))}),e._UZ(2,"app-item",57),e.qZA(),e.BQk()}if(2&o){const n=e.oxw().$implicit,a=e.MAs(4),l=e.oxw().type,_=e.oxw();e.xp6(1),e.ekj("selected-r",_.selected.r[n.guid])("selected-g",_.selected.g[n.guid])("selected-b",_.selected.b[n.guid])("closet-hide",_.hidden[n.guid]||_.hideIap&&(null==n.iaps?null:n.iaps.length))("highlight",_.searchResults&&_.searchResults[n.guid]),e.Q6J("hidden",!_.modifyingCloset&&(_.typeFolded[l]||_.hideUnselected&&!_.selected.a[n.guid]||!_.selected.a[n.guid]&&"closet"===_.showMode&&_.hidden[n.guid]))("ngbTooltip",a),e.uIk("data-guid",n.guid),e.xp6(1),e.Q6J("item",n)("size",_.itemSize)("showSubIcons",!1)("highlight",!0)("hoverHighlight",!1)}}function nm(o,f){if(1&o){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",56),e.NdJ("click",function(){e.CHM(n);const l=e.oxw().$implicit,_=e.oxw(2);return e.KtG(_.toggleItem(l))}),e._UZ(2,"app-item",57),e.qZA(),e.BQk()}if(2&o){const n=e.oxw().$implicit,a=e.MAs(4),l=e.oxw().type,_=e.oxw();e.xp6(1),e.ekj("selected-r",_.selected.r[n.guid])("selected-g",_.selected.g[n.guid])("selected-b",_.selected.b[n.guid])("closet-hide",_.hideIap&&(null==n.iaps?null:n.iaps.length))("highlight",_.searchResults&&_.searchResults[n.guid]),e.Q6J("hidden",_.typeFolded[l])("ngbTooltip",a),e.uIk("data-guid",n.guid),e.xp6(1),e.Q6J("item",n)("size",_.itemSize)("showSubIcons",!1)("highlight",!0)("hoverHighlight",!1)}}function l1(o,f){if(1&o&&(e.ynx(0),e.TgZ(1,"span",58),e._uU(2),e.qZA(),e.BQk()),2&o){const n=e.oxw(2).$implicit;e.xp6(2),e.Oqu(n.name)}}function u1(o,f){if(1&o&&e.YNc(0,l1,3,1,"ng-container",54),2&o){const n=e.oxw().$implicit;e.Q6J("ngIf",n)}}function d1(o,f){if(1&o&&(e.ynx(0),e.YNc(1,tm,3,18,"ng-container",54),e.YNc(2,nm,3,18,"ng-container",54),e.YNc(3,u1,1,1,"ng-template",null,55,e.W1O),e.BQk()),2&o){const n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!n.requesting),e.xp6(1),e.Q6J("ngIf",n.requesting)}}function h1(o,f){1&o&&e.YNc(0,d1,5,2,"ng-container",53),2&o&&e.Q6J("ngForOf",f.$implicit)}const kh=function(){return{type:"Outfit"}},cl=function(){return{type:"Shoes"}},f1=function(){return{type:"Mask"}},im=function(){return{type:"FaceAccessory"}},p1=function(){return{type:"Necklace"}},g1=function(){return{type:"Hair"}},om=function(){return{type:"Hat"}},rm=function(){return{type:"Cape"}},Du=function(){return{type:"Held"}},m1=function(){return{type:"Prop"}};let ll=(()=>{class o{constructor(n,a,l,_){this._dataService=n,this._searchService=a,this._changeDetectorRef=l,this._route=_,this.itemTypes=[sn.q.Outfit,sn.q.Shoes,sn.q.Mask,sn.q.FaceAccessory,sn.q.Necklace,sn.q.Hair,sn.q.Hat,sn.q.Cape,sn.q.Held,sn.q.Prop],this.itemIcons={Outfit:"outfit",Shoes:"shoes",Mask:"mask",FaceAccessory:"face-acc",Necklace:"necklace",Hair:"hair",Hat:"hat",Cape:"cape",Held:"held",Prop:"prop"},this.allItems=[],this.items={},this.selected={a:{},r:{},g:{},b:{}},this.hidden={},this.selectionHasHidden=!1,this._lastSearchText="",this.modifyingCloset=!1,this.hideUnselected=!1,this.hideIap=!1,this.requesting=!1,this.showMode="all",this.columnsLabel="Show as closet",this.maxColumns=8,this.itemSize="small",this.itemSizePx=32,this.typeFolded={},this._itemImgs={},this._rendering=!1,this.hideUnselected="1"===localStorage.getItem("closet.hide-unselected"),this.hidden=JSON.parse(localStorage.getItem("closet.hidden")||"[]").reduce((U,q)=>(U[q]=!0,U),{}),this.columns=+localStorage.getItem("closet.columns")||6,this.showMode=localStorage.getItem("closet.show-mode")||"all",this.itemSize=localStorage.getItem("closet.item-size")||"small",this.itemSizePx="small"===this.itemSize?32:64,this._bgImg=new Image,this._bgImg.crossOrigin="anonymous";const M=["isle","prairie","forest","village","wasteland","vault"][Math.floor(6*Math.random())];this._bgImg.src=`https://silverfeelin.github.io/SkyGame-Planner/assets/game/background/${M}.webp`,this.requesting=location.pathname.endsWith("request"),this.initializeItems()}copyLink(){const n=new URL(location.href);this.requesting&&(n.pathname=n.pathname.replace("/outfit-request/request","/outfit-request/closet")),navigator.clipboard.writeText(n.href).then(()=>{this._ttCopyLnk?.open(),setTimeout(()=>this._ttCopyLnk?.close(),1e3)})}copyImage(){this._rendering=!0;const n=[10,7,5,5],a=document.createElement("canvas"),l=Math.ceil(this.items[sn.q.Outfit].length/n[0]),_=Math.ceil(this.items[sn.q.Shoes].length/n[0]),M=Math.ceil(this.items[sn.q.Mask].length/n[0]),U=Math.ceil(this.items[sn.q.FaceAccessory].length/n[0]),q=Math.ceil(this.items[sn.q.Necklace].length/n[0]),ye=Math.ceil(this.items[sn.q.Hair].length/n[1]),Ve=Math.ceil(this.items[sn.q.Hat].length/n[1]),St=Math.ceil(this.items[sn.q.Cape].length/n[2]),yt=Math.ceil(this.items[sn.q.Held].length/n[3]),Jt=72*St+48-8,jn=72*(yt+Math.ceil(this.items[sn.q.Prop].length/n[3]))+72-8,Nn=Math.max(72*(l+_+M+U+q)+144-8,72*(ye+Ve)+72-8,Jt,jn);a.width=120+72*n.reduce((_i,Pi)=>_i+Pi,0)-8,a.height=Nn===jn?Nn+48:Nn===Jt?Nn+24:Nn;const Vn=a.getContext("2d");this.cvsDrawBackground(Vn);const pi=document.querySelectorAll(".closet-item");this._itemImgs=Array.from(pi).reduce((_i,Pi)=>{const go=Pi.querySelector(".item-icon img");return go?(_i[Pi.getAttribute("data-guid")]=go,_i):_i},{});let En=24,Mn=24;this.cvsDrawSection(Vn,En,Mn,n[0],this.items[sn.q.Outfit],!1),En=24,Mn=48+72*l,this.cvsDrawSection(Vn,En,Mn,n[0],this.items[sn.q.Shoes],!1),En=24,Mn=72+72*(l+_),this.cvsDrawSection(Vn,En,Mn,n[0],this.items[sn.q.Mask],!1),En=24,Mn=96+72*(l+_+M),this.cvsDrawSection(Vn,En,Mn,n[0],this.items[sn.q.FaceAccessory],!1),En=24,Mn=120+72*(l+_+M+U),this.cvsDrawSection(Vn,En,Mn,n[0],this.items[sn.q.Necklace],!1),En=48+72*n[0],Mn=24,this.cvsDrawSection(Vn,En,Mn,n[1],this.items[sn.q.Hair],!1),En=48+72*n[0],Mn=48+72*ye,this.cvsDrawSection(Vn,En,Mn,n[1],this.items[sn.q.Hat],!1),En=72+72*(n[0]+n[1]),Mn=24,this.cvsDrawSection(Vn,En,Mn,n[2],this.items[sn.q.Cape],!1),En=96+72*(n[0]+n[1]+n[2]),Mn=24,this.cvsDrawSection(Vn,En,Mn,n[3],this.items[sn.q.Held],!1),En=96+72*(n[0]+n[1]+n[2]),Mn=48+72*yt,this.cvsDrawSection(Vn,En,Mn,n[3],this.items[sn.q.Prop],!1),Vn.fillStyle="#fff",Vn.font="24px sans-serif",Vn.textAlign="right",Vn.fillText("Icons by contributors of the Sky: Children of the Light Wiki",a.width-8,a.height-8),Vn.fillText("\xa9 Sky: Children of the Light",a.width-8,a.height-8-24);const ki=()=>{this._rendering=!1,this._changeDetectorRef.detectChanges()};try{a.toBlob(_i=>{if(!_i)return ki();const Pi=new ClipboardItem({[_i.type]:_i});navigator.clipboard.write([Pi]).then(()=>{ki(),this._ttCopyImg?.open(),setTimeout(()=>this._ttCopyImg?.close(),1e3)}).catch(go=>{console.error("Could not copy image to clipboard: ",go),alert("Copying failed. Please make sure the document is focused."),ki()})},"image/png")}catch{this._rendering=!1}}setSelectMode(n){this.modifyingCloset=!1,this.selectMode=this.selectMode===n?void 0:n}toggleNone(n){this.selectMode||(this.selectMode="r")}toggleItem(n){if(this.modifyingCloset)return this.hidden[n.guid]?delete this.hidden[n.guid]:this.hidden[n.guid]=!0,localStorage.setItem("closet.hidden",JSON.stringify(Object.keys(this.hidden))),void this.updateSelectionHasHidden();this.selectMode||(this.selectMode="r");const a=this.selected[this.selectMode],l=!a[n.guid];delete this.selected.a[n.guid],delete this.selected.r[n.guid],delete this.selected.g[n.guid],delete this.selected.b[n.guid],l&&(a[n.guid]=n,this.selected.a[n.guid]=n),this.updateSelectionHasHidden();const _=this.serializeQueryItems(Object.values(this.selected.r)),M=this.serializeQueryItems(Object.values(this.selected.g)),U=this.serializeQueryItems(Object.values(this.selected.b)),q=new URL(location.href);q.searchParams.set("r",_),q.searchParams.set("g",M),q.searchParams.set("b",U),window.history.replaceState(window.history.state,"",q.pathname+q.search),this._changeDetectorRef.markForCheck()}resetSelection(){if(!confirm("This will remove the color highlights from all items. Are you sure?"))return;this.selected={a:{},r:{},g:{},b:{}},this.selectionHasHidden=!1;const n=new URL(location.href);n.searchParams.delete("r"),n.searchParams.delete("g"),n.searchParams.delete("b"),window.history.replaceState(window.history.state,"",n.pathname+n.search)}toggleItemSize(){this.itemSize="small"===this.itemSize?"default":"small",this.itemSizePx="small"===this.itemSize?32:64,localStorage.setItem("closet.item-size",this.itemSize)}toggleHideUnselected(){this.hideUnselected=!this.hideUnselected,this.typeFolded={},localStorage.setItem("closet.hide-unselected",this.hideUnselected?"1":"0")}toggleIap(){this.hideIap=!this.hideIap,localStorage.setItem("closet.hide-iap",this.hideIap?"1":"0")}toggleCloset(){this.showMode="all"===this.showMode?"closet":"all","closet"!==this.showMode&&(this.modifyingCloset=!1),localStorage.setItem("closet.show-mode",this.showMode)}modifyCloset(){this.modifyingCloset=!this.modifyingCloset,this.modifyingCloset&&(this.showMode="closet"),this.selectMode=void 0}toggleClosetSection(n){this.typeFolded[n]?delete this.typeFolded[n]:this.typeFolded[n]=!0}scrollToType(n){const a=document.querySelector(`.closet-items[data-type="${n}"]`);a&&a.scrollIntoView({behavior:"smooth",block:"start"})}setColumns(n){this.columns=n,localStorage.setItem("closet.columns",`${n}`)}updateHiddenFromProgress(){const n={};let a=0;for(const l of Object.keys(this.items))for(const _ of this.items[l])_.unlocked||(n[_.guid]=!0,a++);confirm(`This will hide ${a} item(s) from your closet. Are you sure?`)&&(this.hidden=n,localStorage.setItem("closet.hidden",JSON.stringify(Object.keys(this.hidden))))}resetHidden(){confirm("This will show all items in your closet. Are you sure?")&&(this.hidden={},localStorage.setItem("closet.hidden",JSON.stringify([])))}search(){if(this.searchText=this.input.nativeElement.value,this.searchText===this._lastSearchText)return;if(this._lastSearchText=this.searchText,!this.searchText||this.searchText.length<3)return this.searchResults=void 0,void this._changeDetectorRef.markForCheck();const n=this._searchService.searchItems(this.searchText,{limit:50,hasIcon:!0});this.searchResults=n.reduce((a,l)=>(a[l.data.guid]=l.data,a),{}),this._changeDetectorRef.markForCheck()}selectSearch(){this.input.nativeElement.select()}initializeItems(){const n=[sn.q.Necklace,sn.q.Hat,sn.q.Held,sn.q.Shoes,sn.q.FaceAccessory].reduce((M,U,q)=>(M[`${U}`]=46655-q,M),{});this.items={};for(const M of this.itemTypes){this.items[M]=[];const U=n[M];if(U){const q={id:U,guid:M.substring(0,10).padStart(10,"_"),name:"None",icon:"assets/icons/none.webp",type:M,unlocked:!0,order:-1};this.items[M].push(q),this.allItems.push(q)}}for(const M of this._dataService.itemConfig.items){let U=M.type;"Instrument"===U&&(U=sn.q.Held),this.items[U]&&(this.items[U].push(M),this.allItems.push(M))}for(const M of this.itemTypes)this.items[M].sort((U,q)=>(U.order||99999)-(q.order||99999));const a=this._route.snapshot.queryParamMap.get("r");if(a?.length){const M=this.deserializeQueryItems(a);for(const U of M)this.selected.r[U.guid]=U,this.selected.a[U.guid]=U}const l=this._route.snapshot.queryParamMap.get("g");if(l?.length){const M=this.deserializeQueryItems(l);for(const U of M)this.selected.g[U.guid]=U,this.selected.a[U.guid]=U}const _=this._route.snapshot.queryParamMap.get("b");if(_?.length){const M=this.deserializeQueryItems(_);for(const U of M)this.selected.b[U.guid]=U,this.selected.a[U.guid]=U}this.updateSelectionHasHidden()}updateSelectionHasHidden(){this.selectionHasHidden=Object.keys(this.hidden).some(n=>this.selected.a[n])}serializeQueryItems(n){return n.map(l=>(l.id||0).toString(36).padStart(3,"0")).join("")}deserializeQueryItems(n){const a=n?.match(/.{3}/g)||[],_=this.allItems.reduce((U,q)=>(q.id&&(U[q.id]=q),U),{}),M=[];for(const U of a){const q=_[parseInt(U,36)];q&&M.push(q)}return M}cvsDrawBackground(n){const a=n.canvas;let M,U;n.filter="blur(4px) brightness(0.8)",this._bgImg.naturalWidth/this._bgImg.naturalHeight>a.width/a.height?(U=a.height,M=this._bgImg.naturalWidth*(U/this._bgImg.naturalHeight)):(M=a.width,U=this._bgImg.naturalHeight*(M/this._bgImg.naturalWidth)),n.drawImage(this._bgImg,0,0,this._bgImg.naturalWidth,this._bgImg.naturalHeight,a.width/2-M/2-10,a.height/2-U/2-10,M+20,U+20),n.filter="none"}cvsDrawSection(n,a,l,_,M,U){let q=0,ye=0;const Ve=()=>{++q>=_&&(q=0,ye++)},St=Math.ceil(M.length/_);if(n.fillStyle="#0008",n.beginPath(),n.roundRect(a-8,l-8,72*_+8,72*St+8,8),n.fill(),n.strokeStyle="#0006",n.lineWidth=3,n.beginPath(),n.roundRect(a-8,l-8,72*_+8,72*St+8,8),n.stroke(),U){const Jt=document.querySelector(".item-none img");n.fillStyle="#0008",n.beginPath(),n.roundRect(a+72*q,l+72*ye,64,64,8),n.fill(),n.globalAlpha=.2,n.drawImage(Jt,0,0,Jt.naturalWidth,Jt.naturalHeight,a+72*q,l+72*ye,64,64),n.globalAlpha=1,Ve()}const yt=Jt=>{n.strokeStyle=Jt,n.lineWidth=4,n.beginPath(),n.roundRect(a+72*q,l+72*ye,64,64,8),n.stroke()},Ht=Object.keys(this.selected.a).length>0,Pn=!Ht&&"closet"===this.showMode,fn=this.requesting||Ht?.25:.05;for(const Jt of M){if(!Jt.icon){Ve();continue}const jn=this._itemImgs[Jt.guid];jn?(n.fillStyle="#0006",n.beginPath(),n.roundRect(a+72*q,l+72*ye,64,64,8),n.fill(),(this.requesting||Ht)&&!this.selected.a[Jt.guid]&&(n.globalAlpha=fn),this.hideIap&&Jt.iaps?.length&&(n.globalAlpha=fn),!this.requesting&&Pn&&this.hidden[Jt.guid]&&(n.globalAlpha=fn),n.drawImage(jn,0,0,jn.naturalWidth,jn.naturalHeight,a+72*q,l+72*ye,64,64),n.globalAlpha=1,this.selected.r[Jt.guid]&&yt("#f00"),this.selected.g[Jt.guid]&&yt("#0f0"),this.selected.b[Jt.guid]&&yt("#00f"),Ve()):Ve()}}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(xe.D),e.Y36(gh),e.Y36(e.sBO),e.Y36(W.gz))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-closet"]],viewQuery:function(a,l){if(1&a&&(e.Gf(Kg,7),e.Gf(a1,5),e.Gf(Xg,5)),2&a){let _;e.iGM(_=e.CRH())&&(l.input=_.first),e.iGM(_=e.CRH())&&(l._ttCopyLnk=_.first),e.iGM(_=e.CRH())&&(l._ttCopyImg=_.first)}},decls:84,vars:58,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h3","mb-0"],["class","button btn-collage",3,"routerLink",4,"ngIf"],["class","button btn-collage","href","/",4,"ngIf"],[1,"sky-card-body"],["class","container",4,"ngIf"],[1,"sky-flex","flex-wrap"],["class","button-group",4,"ngIf"],[1,"button-group"],["type","button",3,"click"],[1,"menu-icon"],[1,"menu-label"],[1,"menu-no-label"],["type","button",1,"button-danger",3,"click"],[1,"mt"],[1,"search"],["tabindex","0","type","search","placeholder","Search for items",1,"search-input",3,"input"],["input",""],[3,"click"],["class","sky-card mt",4,"ngIf"],[1,"sky-card","mt"],[1,"sky-card-header","header-items","header-sticky"],[1,"h3","mb-0","label-items"],[1,"button-group","btns-copy"],["type","button","ngbTooltip","Copied!","triggers","manual","container","body","placement","bottom","tooltipClass","show",1,"btn-copy","btn-copy-link",3,"closeDelay","autoClose","click"],["ttCopyLnk","ngbTooltip"],["type","button","ngbTooltip","Copied!","triggers","manual","container","body","placement","bottom","tooltipClass","show",1,"btn-copy","btn-copy-image",3,"disabled","closeDelay","autoClose","click"],["ttCopyImg","ngbTooltip"],[1,"btn-colors"],["type","button","ngbTooltip","Mark items red","container","body","placement","top",1,"btn-color","btn-r",3,"click"],["type","button","ngbTooltip","Mark items green","container","body","placement","top",1,"btn-color","btn-g",3,"click"],["type","button","ngbTooltip","Mark items blue","container","body","placement","top-right",1,"btn-color","btn-b",3,"click"],[1,"sky-card-body","closet-container","scroll-x"],[1,"closet-grid"],[1,"closet-grid-section"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"closet-grid-section-divider"],["templateItemsType",""],["templateItems",""],[1,"button","btn-collage",3,"routerLink"],["href","/",1,"button","btn-collage"],[1,"container"],[1,"container","border-warn"],[1,"menu-icon","color-warn"],[1,"h3"],[1,"container","mt"],[1,"mb-0"],["type","button",1,"mt",3,"click"],[1,"closet-items"],[1,"closet-type","t-center",3,"click"],[3,"svgIcon"],[1,"closet-type-fold"],[4,"ngFor","ngForOf"],[4,"ngIf"],["templateItemHover",""],["container","body",1,"closet-item",3,"hidden","ngbTooltip","click"],[3,"item","size","showSubIcons","highlight","hoverHighlight"],[1,"ws-nw"]],template:function(a,l){if(1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Sky outfit request"),e.qZA(),e.YNc(4,Rb,5,1,"a",3),e.YNc(5,Oh,5,0,"a",4),e.qZA(),e.TgZ(6,"div",5),e.YNc(7,Nh,2,0,"div",6),e.TgZ(8,"div",7),e.YNc(9,zs,10,1,"div",8),e.YNc(10,c1,6,1,"div",8),e.TgZ(11,"div",9)(12,"button",10),e.NdJ("click",function(){return l.toggleItemSize()}),e.TgZ(13,"mat-icon",11),e._uU(14,"zoom_in"),e.qZA(),e.TgZ(15,"span",12),e._uU(16),e.qZA()()(),e.TgZ(17,"button",10),e.NdJ("click",function(){return l.toggleIap()}),e.TgZ(18,"mat-icon",11),e._uU(19,"attach_money"),e.qZA(),e.TgZ(20,"span",13),e._uU(21),e.qZA()(),e.TgZ(22,"button",14),e.NdJ("click",function(){return l.resetSelection()}),e.TgZ(23,"mat-icon",11),e._uU(24,"delete_forever"),e.qZA(),e.TgZ(25,"span",12),e._uU(26,"Reset"),e.qZA()()(),e.TgZ(27,"div",15)(28,"div",16)(29,"input",17,18),e.NdJ("input",function(){return l.search()}),e.qZA(),e.TgZ(31,"mat-icon",19),e.NdJ("click",function(){return l.selectSearch()}),e._uU(32,"search"),e.qZA()()()()(),e.YNc(33,em,7,0,"div",20),e.YNc(34,$s,38,12,"div",20),e.TgZ(35,"div",21)(36,"div",22)(37,"h2",23),e._uU(38,"Items"),e.qZA(),e.TgZ(39,"div",24)(40,"button",25,26),e.NdJ("click",function(){return l.copyLink()}),e.TgZ(42,"mat-icon",11),e._uU(43,"link"),e.qZA(),e.TgZ(44,"span",12),e._uU(45,"Copy"),e.qZA()(),e.TgZ(46,"button",27,28),e.NdJ("click",function(){return l.copyImage()}),e.TgZ(48,"mat-icon",11),e._uU(49),e.qZA(),e.TgZ(50,"span",12),e._uU(51,"Copy"),e.qZA()()(),e.TgZ(52,"div",29)(53,"button",30),e.NdJ("click",function(){return l.setSelectMode("r")}),e._uU(54," \xa0 "),e.qZA(),e.TgZ(55,"button",31),e.NdJ("click",function(){return l.setSelectMode("g")}),e._uU(56," \xa0 "),e.qZA(),e.TgZ(57,"button",32),e.NdJ("click",function(){return l.setSelectMode("b")}),e._uU(58," \xa0 "),e.qZA()()(),e.TgZ(59,"div",33)(60,"div",34)(61,"div",35),e.GkF(62,36)(63,36),e.qZA(),e._UZ(64,"div",37),e.TgZ(65,"div",35),e.GkF(66,36)(67,36)(68,36),e.qZA(),e._UZ(69,"div",37),e.TgZ(70,"div",35),e.GkF(71,36)(72,36),e.qZA(),e._UZ(73,"div",37),e.TgZ(74,"div",35),e.GkF(75,36),e.qZA(),e._UZ(76,"div",37),e.TgZ(77,"div",35),e.GkF(78,36)(79,36),e.qZA()()()(),e.YNc(80,ks,7,12,"ng-template",null,38,e.W1O),e.YNc(82,h1,1,1,"ng-template",null,39,e.W1O)),2&a){const _=e.MAs(81);e.xp6(4),e.Q6J("ngIf",!l.requesting),e.xp6(1),e.Q6J("ngIf",l.requesting),e.xp6(2),e.Q6J("ngIf",l.requesting),e.xp6(1),e.ekj("mt",l.requesting),e.xp6(1),e.Q6J("ngIf",!l.requesting),e.xp6(1),e.Q6J("ngIf",!l.requesting),e.xp6(6),e.Oqu("small"===l.itemSize?"Show large icons":"Show small icons"),e.xp6(5),e.Oqu(l.hideIap?"Show IAP":"Hide IAP"),e.xp6(12),e.Q6J("ngIf",!l.requesting&&l.selectionHasHidden),e.xp6(1),e.Q6J("ngIf",l.modifyingCloset),e.xp6(6),e.Q6J("closeDelay",1e3)("autoClose",!0),e.xp6(6),e.Q6J("disabled",l._rendering)("closeDelay",1e3)("autoClose",!0),e.xp6(2),e.ekj("spin",l._rendering),e.xp6(1),e.Oqu(l._rendering?"cached":"image"),e.xp6(4),e.ekj("btn-color-active","r"===l.selectMode),e.xp6(2),e.ekj("btn-color-active","g"===l.selectMode),e.xp6(2),e.ekj("btn-color-active","b"===l.selectMode),e.xp6(2),e.uIk("data-mode",l.selectMode)("data-modifying",l.modifyingCloset||void 0)("data-size",l.itemSize),e.xp6(3),e.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",e.DdM(48,kh)),e.xp6(1),e.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",e.DdM(49,cl)),e.xp6(3),e.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",e.DdM(50,f1)),e.xp6(1),e.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",e.DdM(51,im)),e.xp6(1),e.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",e.DdM(52,p1)),e.xp6(3),e.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",e.DdM(53,g1)),e.xp6(1),e.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",e.DdM(54,om)),e.xp6(3),e.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",e.DdM(55,rm)),e.xp6(3),e.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",e.DdM(56,Du)),e.xp6(1),e.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",e.DdM(57,m1))}},dependencies:[K.sg,K.O5,K.tP,W.rH,Oo,z.Hw,ac],styles:[".btn-collage[_ngcontent-%COMP%]{position:absolute;right:8px;top:8px}.btn-colors[_ngcontent-%COMP%]{position:absolute;right:8px;top:50%;transform:translateY(-50%);display:flex;gap:8px}.btns-copy[_ngcontent-%COMP%]{position:absolute;left:8px;top:8px}.header-sticky[_ngcontent-%COMP%]{position:sticky;top:0;background:var(--color-card-solid-header-background);z-index:2}.btn-color[_ngcontent-%COMP%]{width:36px;border:0}.btn-r[_ngcontent-%COMP%]{background:#f006}.btn-g[_ngcontent-%COMP%]{background:#0f06}.btn-b[_ngcontent-%COMP%]{background:#00f6}.btn-r.btn-color-active[_ngcontent-%COMP%]{background:#f00;box-shadow:0 0 5px 2px red}.btn-g.btn-color-active[_ngcontent-%COMP%]{background:#0f0;box-shadow:0 0 5px 2px #0f0}.btn-b.btn-color-active[_ngcontent-%COMP%]{background:#00f;box-shadow:0 0 5px 2px #00f}.btn-column-active[_ngcontent-%COMP%]{text-decoration:underline}.color-warn[_ngcontent-%COMP%]{color:#f44}.border-warn[_ngcontent-%COMP%]{border:2px solid #f44}.closet-grid[_ngcontent-%COMP%]{display:flex;gap:8px}.closet-grid-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;align-content:flex-start;flex-wrap:wrap;gap:4px}.closet-grid-section-divider[_ngcontent-%COMP%]{height:auto;border-left:1px solid var(--color-border)}.closet-items[_ngcontent-%COMP%]{position:relative;scroll-margin-top:71px;display:grid;grid-template-columns:repeat(auto-fill,72px);gap:4px;-webkit-user-select:none;user-select:none}.closet-type[_ngcontent-%COMP%]{position:relative;cursor:pointer;background-color:var(--color-card-header-background);border-radius:var(--border-radius);padding:4px}.closet-type[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:top}.closet-type-fold[_ngcontent-%COMP%]{position:absolute;right:4px;top:4px}.closet-item[_ngcontent-%COMP%]{display:inline-block;padding:1px;border-radius:var(--border-radius);background:var(--color-background);border:3px solid transparent;border-width:3px!important}.item-none[_ngcontent-%COMP%]{width:var(--item-size);height:var(--item-size)}.item-none[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.closet-container[data-size=small][_ngcontent-%COMP%]   .closet-items[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,40px)}.closet-container[data-size=small][_ngcontent-%COMP%]   .item-none[_ngcontent-%COMP%]{width:var(--item-size-small);height:var(--item-size-small)}.closet-item[_ngcontent-%COMP%]{cursor:pointer}.closet-container[data-mode=r][_ngcontent-%COMP%]   .closet-item[_ngcontent-%COMP%]:hover{border-color:#f006}.closet-container[data-mode=g][_ngcontent-%COMP%]   .closet-item[_ngcontent-%COMP%]:hover{border-color:#0f06}.closet-container[data-mode=b][_ngcontent-%COMP%]   .closet-item[_ngcontent-%COMP%]:hover{border-color:#00f6}.selected-r[_ngcontent-%COMP%]{border-color:red!important}.selected-g[_ngcontent-%COMP%]{border-color:#0f0!important}.selected-b[_ngcontent-%COMP%]{border-color:#00f!important}.closet-hide[_ngcontent-%COMP%]   app-item[_ngcontent-%COMP%]{opacity:.2}.closet-container[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{display:none}.closet-container[_ngcontent-%COMP%]   .closet-items[_ngcontent-%COMP%]:not(:empty) + hr[_ngcontent-%COMP%]{display:block}hr[_ngcontent-%COMP%]:last-child{display:none}.search[_ngcontent-%COMP%]{position:relative}.search[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{cursor:pointer;position:absolute;bottom:8px;left:8px}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:36px}.header-items[_ngcontent-%COMP%]{min-height:54px}.label-items[_ngcontent-%COMP%]{display:none}@media screen and (min-width: 720px){.label-items[_ngcontent-%COMP%]{display:block}.btns-copy[_ngcontent-%COMP%]{left:92px}}@media screen and (max-width: 375px){.btn-copy[_ngcontent-%COMP%]{position:relative;width:38px;height:38px}.btn-copy[_ngcontent-%COMP%]   .menu-label[_ngcontent-%COMP%]{display:none}.btn-copy[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{left:6px;top:6px}}"],changeDetection:0})}return o})();const Rh=function(){return["/outfit-request/closet"]},sm=function(){return["/outfit-request/collage"]};let am=(()=>{class o{static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-tools"]],decls:16,vars:4,consts:[[1,"sky-card"],[1,"sky-card-header"],[1,"h2","mb-0"],[1,"sky-card-body"],[1,"grid","grid-2"],[1,"container",3,"routerLink"],[1,"menu-icon"],[1,"menu-label"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Tools"),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4)(6,"a",5)(7,"mat-icon",6),e._uU(8,"checkroom"),e.qZA(),e.TgZ(9,"span",7),e._uU(10," Outfit request closet "),e.qZA()(),e.TgZ(11,"a",5)(12,"mat-icon",6),e._uU(13,"image"),e.qZA(),e.TgZ(14,"span",7),e._uU(15," Outfit request collage "),e.qZA()()()()()),2&a&&(e.xp6(6),e.Q6J("routerLink",e.DdM(2,Rh)),e.xp6(5),e.Q6J("routerLink",e.DdM(3,sm)))},dependencies:[W.rH,z.Hw],changeDetection:0})}return o})();const Ko=o=>`${o} - Sky Planner`,cm=[{path:"",component:Hg,title:"Sky Planner"},{path:"blank",component:jg,title:"Sky Planner"},{path:"credits",component:ne,title:Ko("Credits")},{path:"event",component:hp,title:Ko("Events")},{path:"event/:guid",component:sp,title:ra},{path:"event-instance/:guid",component:lb,title:Tr},{path:"item",component:mp,title:Ko("Items")},{path:"realm",component:ma,title:Ko("Realms")},{path:"realm/:guid",component:w0,title:ra},{path:"season",component:bb,title:Ko("Seasons")},{path:"season/:guid",component:wv,title:ra},{path:"settings",component:_0,title:Ko("Settings")},{path:"shop",component:og,title:Ko("Shops")},{path:"spirits",component:hu,title:Ko("Spirits")},{path:"spirit",component:Gv,title:Ko("Spirits")},{path:"spirit/:guid",component:Av,title:ra},{path:"ts",component:oa,title:Ko("Traveling Spirits")},{path:"rs",component:yg,title:Ko("Special Visits")},{path:"rs/:guid",component:S0,title:ra},{path:"winged-light",component:$g,title:Ko("Winged Light")},{path:"wing-buff",component:ah,title:Ko("Wing Buffs")},{path:"col",component:Ih,title:Ko("Children of Light")},{path:"tools",component:am,title:Ko("Tools")},{path:"outfit-request/collage",component:s1,title:Ko("Collage")},{path:"outfit-request/closet",component:ll,title:Ko("Closet")},{path:"outfit-request/request",component:ll,title:Ko("Outfit request")},{path:"editor",loadChildren:()=>S.e(471).then(S.bind(S,4471)).then(o=>o.EditorModule)}];let lm=(()=>{class o{static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275mod=e.oAB({type:o});static#n=this.\u0275inj=e.cJS({imports:[W.Bz.forRoot(cm,{scrollPositionRestoration:"enabled"}),W.Bz]})}return o})();var um=S(736),dm=S.n(um),v1=S(7014),y1=S.n(v1),b1=S(6669),C1=S.n(b1);function D1(o,f){if(1&o){const n=e.EpF();e.TgZ(0,"aside",14),e.NdJ("click",function(){e.CHM(n);const l=e.oxw();return e.KtG(l.foldMenu())}),e.TgZ(1,"mat-icon"),e._uU(2,"keyboard_double_arrow_right"),e.qZA()()}2&o&&e.Q6J("ngbTooltip","Open menu")}function w1(o,f){if(1&o&&e._UZ(0,"img",15),2&o){const n=e.oxw();e.Q6J("src",n.seasonIconUrl,e.LSH)}}function T1(o,f){1&o&&(e.TgZ(0,"mat-icon"),e._uU(1,"ac_unit"),e.qZA())}let E1=(()=>{class o{constructor(n,a,l){this._dataService=n,this._breakpointObserver=a,this._router=l,this.wide=!1,this.folded=!1,a.observe(["(min-width: 992px)"]).subscribe(_=>this.onLg(_)),this.seasonIconUrl=n.seasonConfig.items.at(-1)?.iconUrl,this.updateFolded("1"===localStorage.getItem("menu.folded"))}onLg(n){this.wide=n.matches}gotoHome(n){n.preventDefault(),this._router.navigate(["/blank"],{skipLocationChange:!0}).then(()=>{this._router.navigate(["/"])})}foldMenu(){this.updateFolded(!this.folded)}updateFolded(n){this.folded=n,document.body.classList.toggle("menu-folded",this.folded),localStorage.setItem("menu.folded",this.folded?"1":"0")}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(xe.D),e.Y36(te.Yg),e.Y36(W.F0))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-menu"]],decls:78,vars:29,consts:[["class","menu-toggle","container","body","placement","right",3,"ngbTooltip","click",4,"ngIf"],[1,"menu"],[1,"items"],["placement","right","container","body",1,"item","menu-fold",3,"ngbTooltip","click"],[1,"name"],["href","/","placement","right","container","body",1,"item",3,"ngbTooltip","click"],[1,"name","header"],["routerLinkActive","menu-active","placement","right","container","body",1,"item",3,"routerLink","ngbTooltip"],["svgIcon","flaps"],["class","icon",3,"src",4,"ngIf","ngIfElse"],["seasonIcon",""],[1,"bottom"],["href","https://sky-clock.netlify.app/","target","_blank","placement","right","container","body",1,"item",3,"ngbTooltip"],["href","https://github.com/Silverfeelin/SkyGame-Planner/","target","_blank","placement","right","container","body",1,"item",3,"ngbTooltip"],["container","body","placement","right",1,"menu-toggle",3,"ngbTooltip","click"],[1,"icon",3,"src"]],template:function(a,l){if(1&a&&(e.YNc(0,D1,3,1,"aside",0),e.TgZ(1,"aside",1)(2,"nav")(3,"div",2)(4,"a",3),e.NdJ("click",function(){return l.foldMenu()}),e.TgZ(5,"mat-icon"),e._uU(6,"keyboard_double_arrow_left"),e.qZA(),e.TgZ(7,"span",4),e._uU(8,"Close menu"),e.qZA()(),e._UZ(9,"hr"),e.TgZ(10,"a",5),e.NdJ("click",function(M){return l.gotoHome(M)}),e.TgZ(11,"mat-icon"),e._uU(12,"home"),e.qZA(),e.TgZ(13,"span",6),e._uU(14,"Sky Planner"),e.qZA()(),e._UZ(15,"hr"),e.TgZ(16,"a",7)(17,"mat-icon"),e._uU(18,"checkroom"),e.qZA(),e.TgZ(19,"span",4),e._uU(20,"Items"),e.qZA()(),e.TgZ(21,"a",7)(22,"mat-icon"),e._uU(23,"person"),e.qZA(),e.TgZ(24,"span",4),e._uU(25,"Spirits"),e.qZA()(),e.TgZ(26,"a",7),e._UZ(27,"mat-icon",8),e.TgZ(28,"span",4),e._uU(29,"Winged Light"),e.qZA()(),e.TgZ(30,"a",7)(31,"mat-icon"),e._uU(32,"map"),e.qZA(),e.TgZ(33,"span",4),e._uU(34,"Realms"),e.qZA()(),e.TgZ(35,"a",7),e.YNc(36,w1,1,1,"img",9),e.YNc(37,T1,2,0,"ng-template",null,10,e.W1O),e.TgZ(39,"span",4),e._uU(40,"Seasons"),e.qZA()(),e.TgZ(41,"a",7)(42,"mat-icon"),e._uU(43,"celebration"),e.qZA(),e.TgZ(44,"span",4),e._uU(45,"Events"),e.qZA()(),e.TgZ(46,"a",7)(47,"mat-icon"),e._uU(48,"shopping_cart"),e.qZA(),e.TgZ(49,"span",4),e._uU(50,"Permanent IAP"),e.qZA()(),e.TgZ(51,"a",7)(52,"mat-icon"),e._uU(53,"build"),e.qZA(),e.TgZ(54,"span",4),e._uU(55,"Tools"),e.qZA()(),e._UZ(56,"hr",11),e.TgZ(57,"a",12)(58,"mat-icon"),e._uU(59,"schedule"),e.qZA(),e.TgZ(60,"span",4),e._uU(61,"Sky Clock"),e.qZA()(),e._UZ(62,"hr"),e.TgZ(63,"a",7)(64,"mat-icon"),e._uU(65,"settings"),e.qZA(),e.TgZ(66,"span",4),e._uU(67,"Settings"),e.qZA()(),e.TgZ(68,"a",13)(69,"mat-icon"),e._uU(70,"code"),e.qZA(),e.TgZ(71,"span",4),e._uU(72,"GitHub"),e.qZA()(),e.TgZ(73,"a",7)(74,"mat-icon"),e._uU(75,"info"),e.qZA(),e.TgZ(76,"span",4),e._uU(77,"Credits"),e.qZA()()()()()),2&a){const _=e.MAs(38);e.Q6J("ngIf",l.folded),e.xp6(1),e.ekj("folded",l.folded),e.xp6(3),e.Q6J("ngbTooltip",l.wide?"":"Close menu"),e.xp6(6),e.Q6J("ngbTooltip",l.wide?"":"Home"),e.xp6(6),e.Q6J("routerLink","item")("ngbTooltip",l.wide?"":"Items"),e.xp6(5),e.Q6J("routerLink","spirits")("ngbTooltip",l.wide?"":"Spirits"),e.xp6(5),e.Q6J("routerLink","winged-light")("ngbTooltip",l.wide?"":"Winged Light"),e.xp6(4),e.Q6J("routerLink","realm")("ngbTooltip",l.wide?"":"Realms"),e.xp6(5),e.Q6J("routerLink","season")("ngbTooltip",l.wide?"":"Seasons"),e.xp6(1),e.Q6J("ngIf",l.seasonIconUrl)("ngIfElse",_),e.xp6(5),e.Q6J("routerLink","event")("ngbTooltip",l.wide?"":"Events"),e.xp6(5),e.Q6J("routerLink","shop")("ngbTooltip",l.wide?"":"Shop"),e.xp6(5),e.Q6J("routerLink","tools")("ngbTooltip",l.wide?"":"Tools"),e.xp6(6),e.Q6J("ngbTooltip",l.wide?"":"Sky Clock"),e.xp6(6),e.Q6J("routerLink","settings")("ngbTooltip",l.wide?"":"Settings"),e.xp6(5),e.Q6J("ngbTooltip",l.wide?"":"GitHub"),e.xp6(5),e.Q6J("routerLink","credits")("ngbTooltip",l.wide?"":"Credits")}},dependencies:[K.O5,W.rH,W.Od,Oo,z.Hw],styles:[".menu[_ngcontent-%COMP%]{position:fixed;left:0;top:0;bottom:0;width:var(--menu-width);background-color:var(--color-menu-background);z-index:100;overflow-x:hidden;overflow-y:auto;border-right:1px solid var(--color-border)}.folded[_ngcontent-%COMP%]{display:none!important}.menu-toggle[_ngcontent-%COMP%]{position:fixed;cursor:pointer;top:5px;left:0;width:34px;height:34px;z-index:999999;background:var(--color-menu-unfold-background);padding:var(--padding-content);border-radius:0 var(--border-radius) var(--border-radius) 0;border:1px solid var(--color-menu-unfold-border)}.menu-toggle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:4px;position:absolute;top:0;left:0}.header[_ngcontent-%COMP%]{position:relative;font-size:24px;text-align:left;text-decoration:none}.header[_ngcontent-%COMP%]:hover{background-color:var(--color-menu-item-active-background)}.header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:relative;top:3px}.title[_ngcontent-%COMP%]{padding-left:4px}.items[_ngcontent-%COMP%]{display:flex;height:100vh;flex-direction:column;align-content:stretch;position:relative;font-size:18px}.item[_ngcontent-%COMP%]{display:block;padding:10px;cursor:pointer;background-color:var(--color-menu-item-background)}.menu-fold[_ngcontent-%COMP%]{padding:5px 10px}.bottom[_ngcontent-%COMP%]{margin-top:auto}.item.menu-active[_ngcontent-%COMP%], .item[_ngcontent-%COMP%]:hover{background-color:var(--color-menu-item-active-background)}.item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:sub}.item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:10px}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus, a[_ngcontent-%COMP%]:active, a[_ngcontent-%COMP%]:visited{color:unset}hr[_ngcontent-%COMP%]{margin:0;color:var(--color-menu-border)}.header[_ngcontent-%COMP%], .name[_ngcontent-%COMP%]{display:none}@media screen and (min-width: 992px){.header[_ngcontent-%COMP%]{display:block}.name[_ngcontent-%COMP%]{display:inline-block}.item[_ngcontent-%COMP%]{padding:15px 10px}.menu-fold[_ngcontent-%COMP%]{padding:2px 10px}}"]})}return o})();function M1(o,f){1&o&&(e.TgZ(0,"div",2)(1,"mat-icon",3),e._uU(2,"cached"),e.qZA()())}function S1(o,f){1&o&&e._UZ(0,"app-menu")}function x1(o,f){1&o&&(e.TgZ(0,"div",12)(1,"div",6),e._uU(2,"Data was changed in another tab. Please refresh this tab to avoid losing changes!"),e.qZA()())}function I1(o,f){if(1&o){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",4)(2,"mat-icon",5),e.NdJ("click",function(){e.CHM(n);const l=e.oxw();return e.KtG(l.closeMoved())}),e._uU(3,"close"),e.qZA(),e.TgZ(4,"div",6),e._uU(5," This project has moved to"),e._UZ(6,"br"),e.TgZ(7,"a",7),e._uU(8,"https://sky-planner.pages.dev/"),e.qZA(),e._UZ(9,"br")(10,"br"),e._uU(11," If you have tracked progress please "),e.TgZ(12,"a",8),e.NdJ("click",function(l){e.CHM(n);const _=e.oxw();return e.KtG(_.export(l))}),e._uU(13,"export the data"),e.qZA(),e._uU(14,"."),e._UZ(15,"br"),e._uU(16," You can import the data on "),e.TgZ(17,"a",9),e._uU(18,"the new Settings page"),e.qZA(),e._uU(19,". "),e.qZA()(),e.YNc(20,S1,1,0,"app-menu",1),e.YNc(21,x1,3,0,"div",10),e.TgZ(22,"div",11),e._UZ(23,"router-outlet"),e.qZA(),e.BQk()}if(2&o){const n=e.oxw();e.xp6(1),e.Q6J("hidden",n.hideMoved),e.xp6(19),e.Q6J("ngIf",n.showMenu),e.xp6(1),e.Q6J("ngIf",n.dataLoss)}}let A1=(()=>{class o{constructor(n,a,l,_,M,U,q,ye){this._dataService=n,this._eventService=a,this._storageService=l,this._themeService=_,this._domSanitizer=M,this._matIconRegistry=U,this._viewContainerRef=q,this._router=ye,this.ready=!1,this.dataLoss=!1,this.showMenu=!0,this.hideMoved=!1,this._dataService.onData.subscribe(()=>{this.onData()}),this._themeService.init(),this.initDisplayDate(),U.setDefaultFontSetClass("material-symbols-outlined"),U.addSvgIconSet(M.bypassSecurityTrustResourceUrl("assets/icons/icons.svg")),window.addEventListener("storage",()=>{this.dataLoss=!0}),Co().extend(dm()),Co().extend(y1()),Co().extend(C1()),Co().tz.setDefault(ge.O.skyTimeZone),location.pathname.endsWith("/outfit-request/request")&&this.hideMenu(),window.dayjs=Co()}closeMoved(){this.hideMoved=!0}initDisplayDate(){ge.O.displayFormat=localStorage.getItem("date.format")||"",(!ge.O.displayFormat||!ge.O.displayFormats.includes(ge.O.displayFormat))&&(ge.O.displayFormat=ge.O.displayFormats[0])}onData(){this.ready=!0}hideMenu(){this.showMenu=!1,document.body.classList.add("menu-hidden")}export(n){const a=this._storageService.serializeUnlocked(),l=this._storageService.serializeUnlockedCol(),M=JSON.stringify({unlocked:a,unlockedCol:l});let U="";try{const q=new Blob([M],{type:"application/json"});U=URL.createObjectURL(q);const ye=document.createElement("a");ye.href=U,ye.download=`SkyPlanner_${Co()().format("YYYY-MM-DD")}.json`,document.body.appendChild(ye),ye.click(),document.body.removeChild(ye)}finally{URL.revokeObjectURL(U)}return!1}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(xe.D),e.Y36(Me),e.Y36(Xe.V),e.Y36(lg),e.Y36(p.H7),e.Y36(z.jv),e.Y36(e.s_b),e.Y36(W.F0))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-root"]],decls:2,vars:2,consts:[["class","loading fade-in",4,"ngIf"],[4,"ngIf"],[1,"loading","fade-in"],[1,"spin"],[1,"moved",3,"hidden"],[1,"moved-close",3,"click"],[1,"overlay-inner"],["href","https://sky-planner.pages.dev/"],[1,"link",3,"click"],["href","https://sky-planner.pages.dev/settings"],["class","data-loss",4,"ngIf"],[1,"content"],[1,"data-loss"]],template:function(a,l){1&a&&(e.YNc(0,M1,3,0,"div",0),e.YNc(1,I1,24,3,"ng-container",1)),2&a&&(e.Q6J("ngIf",!l.ready),e.xp6(1),e.Q6J("ngIf",l.ready))},dependencies:[K.O5,W.lC,z.Hw,E1],styles:[".loading[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;justify-content:center;align-items:center;height:100%;transform:scaleX(-1)}.loading[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{scale:3}@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0}to{opacity:1}}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade-in 2s ease-in;animation-fill-mode:forwards}  body{position:relative;left:var(--menu-width);width:calc(100% - var(--menu-width));padding:var(--padding-content)}  body.menu-folded,   body.menu-hidden{left:0;width:100%}.data-loss[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#0008;z-index:999}.overlay-inner[_ngcontent-%COMP%]{text-align:center;position:relative;display:inline-block;top:50%;width:100%;transform:translateY(-50%)}.map-container[_ngcontent-%COMP%]{display:none}.moved[_ngcontent-%COMP%]{position:fixed;font-size:32px;text-align:center;inset:0;z-index:99999;background-color:#000c}.moved-close[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;cursor:pointer}"]})}return o})(),O1=(()=>{class o{static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275mod=e.oAB({type:o,bootstrap:[A1]});static#n=this.\u0275inj=e.cJS({imports:[p.b2,lm,Q.JF,Zf,te.xu,z.Ps]})}return o})();Array.prototype.findLast=function(o){for(let f=this.length-1;f>=0;f--){const n=this[f];if(o(n,f,this))return n}},p.q6().bootstrapModule(O1).catch(o=>console.error(o))},5254:(bt,ke,S)=>{var p=S(5784),Q={ease:p(.25,.1,.25,1),easeIn:p(.42,0,1,1),easeOut:p(0,0,.58,1),easeInOut:p(.42,0,.58,1),linear:p(0,0,1,1)};function te(){}function Le(){var oe=new Set,re=new Set,fe=0;return{next:ge,cancel:ge,clearAll:function ne(){oe.clear(),re.clear(),cancelAnimationFrame(fe),fe=0}};function ge(ee){re.add(ee),function De(){fe||(fe=requestAnimationFrame(xe))}()}function xe(){fe=0;var ee=re;re=oe,(oe=ee).forEach(function(Me){Me()}),oe.clear()}}bt.exports=function z(oe,re,fe){var ne=Object.create(null),ge=Object.create(null),De="function"==typeof(fe=fe||{}).easing?fe.easing:Q[fe.easing];De||(fe.easing&&console.warn("Unknown easing function in amator: "+fe.easing),De=Q.ease);var xe="function"==typeof fe.step?fe.step:te,ze="function"==typeof fe.done?fe.done:te,ee=function W(oe){if(!oe)return typeof window<"u"&&window.requestAnimationFrame?function e(){return{next:window.requestAnimationFrame.bind(window),cancel:window.cancelAnimationFrame.bind(window)}}():function K(){return{next:function(oe){return setTimeout(oe,1e3/60)},cancel:function(oe){return clearTimeout(oe)}}}();if("function"!=typeof oe.next)throw new Error("Scheduler is supposed to have next(cb) function");if("function"!=typeof oe.cancel)throw new Error("Scheduler is supposed to have cancel(handle) function");return oe}(fe.scheduler),Me=Object.keys(re);Me.forEach(function(Pe){ne[Pe]=oe[Pe],ge[Pe]=re[Pe]-oe[Pe]});var Ce,nt=Math.max(1,.06*("number"==typeof fe.duration?fe.duration:400)),pe=0;return Ce=ee.next(function Ge(){var Pe=De(pe/nt);pe+=1,function Oe(Pe){Me.forEach(function($e){oe[$e]=ge[$e]*Pe+ne[$e]})}(Pe),pe<=nt?(Ce=ee.next(Ge),xe(oe)):(Ce=0,setTimeout(function(){ze(oe)},0))}),{cancel:function de(){ee.cancel(Ce),Ce=0}}},bt.exports.makeAggregateRaf=Le,bt.exports.sharedScheduler=Le()},5784:bt=>{var W="function"==typeof Float32Array;function e(De,xe){return 1-3*xe+3*De}function K(De,xe){return 3*xe-6*De}function Le(De){return 3*De}function oe(De,xe,ze){return((e(xe,ze)*De+K(xe,ze))*De+Le(xe))*De}function re(De,xe,ze){return 3*e(xe,ze)*De*De+2*K(xe,ze)*De+Le(xe)}function ge(De){return De}bt.exports=function(xe,ze,ee,Me){if(!(0<=xe&&xe<=1&&0<=ee&&ee<=1))throw new Error("bezier x values must be in [0, 1] range");if(xe===ze&&ee===Me)return ge;for(var Xe=W?new Float32Array(11):new Array(11),nt=0;nt<11;++nt)Xe[nt]=oe(.1*nt,xe,ee);return function(de){return 0===de?0:1===de?1:oe(function Ce(pe){for(var de=0,Ge=1;10!==Ge&&Xe[Ge]<=pe;++Ge)de+=.1;--Ge;var $e=de+(pe-Xe[Ge])/(Xe[Ge+1]-Xe[Ge])*.1,He=re($e,xe,ee);return He>=.001?function ne(De,xe,ze,ee){for(var Me=0;Me<4;++Me){var Xe=re(xe,ze,ee);if(0===Xe)return xe;xe-=(oe(xe,ze,ee)-De)/Xe}return xe}(pe,$e,xe,ee):0===He?$e:function fe(De,xe,ze,ee,Me){var Xe,nt,Ce=0;do{(Xe=oe(nt=xe+(ze-xe)/2,ee,Me)-De)>0?ze=nt:xe=nt}while(Math.abs(Xe)>1e-7&&++Ce<10);return nt}(pe,de,de+.1,xe,ee)}(de),ze,Me)}}},292:function(bt){bt.exports=function(){"use strict";var S=6e4,p=36e5,Q="millisecond",z="second",te="minute",W="hour",e="day",K="week",Le="month",oe="quarter",re="year",fe="date",ne="Invalid Date",ge=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,De=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,xe={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Pe){var $e=["th","st","nd","rd"],He=Pe%100;return"["+Pe+($e[(He-20)%10]||$e[He]||$e[0])+"]"}},ze=function(Pe,$e,He){var ft=String(Pe);return!ft||ft.length>=$e?Pe:""+Array($e+1-ft.length).join(He)+Pe},ee={s:ze,z:function(Pe){var $e=-Pe.utcOffset(),He=Math.abs($e),ft=Math.floor(He/60),Fe=He%60;return($e<=0?"+":"-")+ze(ft,2,"0")+":"+ze(Fe,2,"0")},m:function Pe($e,He){if($e.date()<He.date())return-Pe(He,$e);var ft=12*(He.year()-$e.year())+(He.month()-$e.month()),Fe=$e.clone().add(ft,Le),Bt=He-Fe<0,ut=$e.clone().add(ft+(Bt?-1:1),Le);return+(-(ft+(He-Fe)/(Bt?Fe-ut:ut-Fe))||0)},a:function(Pe){return Pe<0?Math.ceil(Pe)||0:Math.floor(Pe)},p:function(Pe){return{M:Le,y:re,w:K,d:e,D:fe,h:W,m:te,s:z,ms:Q,Q:oe}[Pe]||String(Pe||"").toLowerCase().replace(/s$/,"")},u:function(Pe){return void 0===Pe}},Me="en",Xe={};Xe[Me]=xe;var nt=function(Pe){return Pe instanceof Ge},Ce=function Pe($e,He,ft){var Fe;if(!$e)return Me;if("string"==typeof $e){var Bt=$e.toLowerCase();Xe[Bt]&&(Fe=Bt),He&&(Xe[Bt]=He,Fe=Bt);var ut=$e.split("-");if(!Fe&&ut.length>1)return Pe(ut[0])}else{var pt=$e.name;Xe[pt]=$e,Fe=pt}return!ft&&Fe&&(Me=Fe),Fe||!ft&&Me},pe=function(Pe,$e){if(nt(Pe))return Pe.clone();var He="object"==typeof $e?$e:{};return He.date=Pe,He.args=arguments,new Ge(He)},de=ee;de.l=Ce,de.i=nt,de.w=function(Pe,$e){return pe(Pe,{locale:$e.$L,utc:$e.$u,x:$e.$x,$offset:$e.$offset})};var Ge=function(){function Pe(He){this.$L=Ce(He.locale,null,!0),this.parse(He)}var $e=Pe.prototype;return $e.parse=function(He){this.$d=function(ft){var Fe=ft.date,Bt=ft.utc;if(null===Fe)return new Date(NaN);if(de.u(Fe))return new Date;if(Fe instanceof Date)return new Date(Fe);if("string"==typeof Fe&&!/Z$/i.test(Fe)){var ut=Fe.match(ge);if(ut){var pt=ut[2]-1||0,Re=(ut[7]||"0").substring(0,3);return Bt?new Date(Date.UTC(ut[1],pt,ut[3]||1,ut[4]||0,ut[5]||0,ut[6]||0,Re)):new Date(ut[1],pt,ut[3]||1,ut[4]||0,ut[5]||0,ut[6]||0,Re)}}return new Date(Fe)}(He),this.$x=He.x||{},this.init()},$e.init=function(){var He=this.$d;this.$y=He.getFullYear(),this.$M=He.getMonth(),this.$D=He.getDate(),this.$W=He.getDay(),this.$H=He.getHours(),this.$m=He.getMinutes(),this.$s=He.getSeconds(),this.$ms=He.getMilliseconds()},$e.$utils=function(){return de},$e.isValid=function(){return this.$d.toString()!==ne},$e.isSame=function(He,ft){var Fe=pe(He);return this.startOf(ft)<=Fe&&Fe<=this.endOf(ft)},$e.isAfter=function(He,ft){return pe(He)<this.startOf(ft)},$e.isBefore=function(He,ft){return this.endOf(ft)<pe(He)},$e.$g=function(He,ft,Fe){return de.u(He)?this[ft]:this.set(Fe,He)},$e.unix=function(){return Math.floor(this.valueOf()/1e3)},$e.valueOf=function(){return this.$d.getTime()},$e.startOf=function(He,ft){var Fe=this,Bt=!!de.u(ft)||ft,ut=de.p(He),pt=function(Ye,rt){var ot=de.w(Fe.$u?Date.UTC(Fe.$y,rt,Ye):new Date(Fe.$y,rt,Ye),Fe);return Bt?ot:ot.endOf(e)},Re=function(Ye,rt){return de.w(Fe.toDate()[Ye].apply(Fe.toDate("s"),(Bt?[0,0,0,0]:[23,59,59,999]).slice(rt)),Fe)},ct=this.$W,ce=this.$M,he=this.$D,Se="set"+(this.$u?"UTC":"");switch(ut){case re:return Bt?pt(1,0):pt(31,11);case Le:return Bt?pt(1,ce):pt(0,ce+1);case K:var we=this.$locale().weekStart||0,Ae=(ct<we?ct+7:ct)-we;return pt(Bt?he-Ae:he+(6-Ae),ce);case e:case fe:return Re(Se+"Hours",0);case W:return Re(Se+"Minutes",1);case te:return Re(Se+"Seconds",2);case z:return Re(Se+"Milliseconds",3);default:return this.clone()}},$e.endOf=function(He){return this.startOf(He,!1)},$e.$set=function(He,ft){var Fe,Bt=de.p(He),ut="set"+(this.$u?"UTC":""),pt=(Fe={},Fe[e]=ut+"Date",Fe[fe]=ut+"Date",Fe[Le]=ut+"Month",Fe[re]=ut+"FullYear",Fe[W]=ut+"Hours",Fe[te]=ut+"Minutes",Fe[z]=ut+"Seconds",Fe[Q]=ut+"Milliseconds",Fe)[Bt],Re=Bt===e?this.$D+(ft-this.$W):ft;if(Bt===Le||Bt===re){var ct=this.clone().set(fe,1);ct.$d[pt](Re),ct.init(),this.$d=ct.set(fe,Math.min(this.$D,ct.daysInMonth())).$d}else pt&&this.$d[pt](Re);return this.init(),this},$e.set=function(He,ft){return this.clone().$set(He,ft)},$e.get=function(He){return this[de.p(He)]()},$e.add=function(He,ft){var Fe,Bt=this;He=Number(He);var ut=de.p(ft),pt=function(ce){var he=pe(Bt);return de.w(he.date(he.date()+Math.round(ce*He)),Bt)};if(ut===Le)return this.set(Le,this.$M+He);if(ut===re)return this.set(re,this.$y+He);if(ut===e)return pt(1);if(ut===K)return pt(7);var Re=(Fe={},Fe[te]=S,Fe[W]=p,Fe[z]=1e3,Fe)[ut]||1,ct=this.$d.getTime()+He*Re;return de.w(ct,this)},$e.subtract=function(He,ft){return this.add(-1*He,ft)},$e.format=function(He){var ft=this,Fe=this.$locale();if(!this.isValid())return Fe.invalidDate||ne;var Bt=He||"YYYY-MM-DDTHH:mm:ssZ",ut=de.z(this),pt=this.$H,Re=this.$m,ct=this.$M,ce=Fe.weekdays,he=Fe.months,we=function(rt,ot,pn,gt){return rt&&(rt[ot]||rt(ft,Bt))||pn[ot].slice(0,gt)},Ae=function(rt){return de.s(pt%12||12,rt,"0")},Ye=Fe.meridiem||function(rt,ot,pn){var gt=rt<12?"AM":"PM";return pn?gt.toLowerCase():gt};return Bt.replace(De,function(rt,ot){return ot||function(pn){switch(pn){case"YY":return String(ft.$y).slice(-2);case"YYYY":return de.s(ft.$y,4,"0");case"M":return ct+1;case"MM":return de.s(ct+1,2,"0");case"MMM":return we(Fe.monthsShort,ct,he,3);case"MMMM":return we(he,ct);case"D":return ft.$D;case"DD":return de.s(ft.$D,2,"0");case"d":return String(ft.$W);case"dd":return we(Fe.weekdaysMin,ft.$W,ce,2);case"ddd":return we(Fe.weekdaysShort,ft.$W,ce,3);case"dddd":return ce[ft.$W];case"H":return String(pt);case"HH":return de.s(pt,2,"0");case"h":return Ae(1);case"hh":return Ae(2);case"a":return Ye(pt,Re,!0);case"A":return Ye(pt,Re,!1);case"m":return String(Re);case"mm":return de.s(Re,2,"0");case"s":return String(ft.$s);case"ss":return de.s(ft.$s,2,"0");case"SSS":return de.s(ft.$ms,3,"0");case"Z":return ut}return null}(rt)||ut.replace(":","")})},$e.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},$e.diff=function(He,ft,Fe){var Bt,ut=this,pt=de.p(ft),Re=pe(He),ct=(Re.utcOffset()-this.utcOffset())*S,ce=this-Re,he=function(){return de.m(ut,Re)};switch(pt){case re:Bt=he()/12;break;case Le:Bt=he();break;case oe:Bt=he()/3;break;case K:Bt=(ce-ct)/6048e5;break;case e:Bt=(ce-ct)/864e5;break;case W:Bt=ce/p;break;case te:Bt=ce/S;break;case z:Bt=ce/1e3;break;default:Bt=ce}return Fe?Bt:de.a(Bt)},$e.daysInMonth=function(){return this.endOf(Le).$D},$e.$locale=function(){return Xe[this.$L]},$e.locale=function(He,ft){if(!He)return this.$L;var Fe=this.clone(),Bt=Ce(He,ft,!0);return Bt&&(Fe.$L=Bt),Fe},$e.clone=function(){return de.w(this.$d,this)},$e.toDate=function(){return new Date(this.valueOf())},$e.toJSON=function(){return this.isValid()?this.toISOString():null},$e.toISOString=function(){return this.$d.toISOString()},$e.toString=function(){return this.$d.toUTCString()},Pe}(),Oe=Ge.prototype;return pe.prototype=Oe,[["$ms",Q],["$s",z],["$m",te],["$H",W],["$W",e],["$M",Le],["$y",re],["$D",fe]].forEach(function(Pe){Oe[Pe[1]]=function($e){return this.$g($e,Pe[0],Pe[1])}}),pe.extend=function(Pe,$e){return Pe.$i||(Pe($e,Ge,pe),Pe.$i=!0),pe},pe.locale=Ce,pe.isDayjs=nt,pe.unix=function(Pe){return pe(1e3*Pe)},pe.en=Xe[Me],pe.Ls=Xe,pe.p={},pe}()},7014:function(bt){bt.exports=function(){"use strict";return function(S,p,Q){var z=function(e){return e.add(4-e.isoWeekday(),"day")},te=p.prototype;te.isoWeekYear=function(){return z(this).year()},te.isoWeek=function(e){if(!this.$utils().u(e))return this.add(7*(e-this.isoWeek()),"day");var K,oe,re,fe=z(this),ne=(K=this.isoWeekYear(),re=4-(oe=(this.$u?Q.utc:Q)().year(K).startOf("year")).isoWeekday(),oe.isoWeekday()>4&&(re+=7),oe.add(re,"day"));return fe.diff(ne,"week")+1},te.isoWeekday=function(e){return this.$utils().u(e)?this.day()||7:this.day(this.day()%7?e:e-7)};var W=te.startOf;te.startOf=function(e,K){var Le=this.$utils(),oe=!!Le.u(K)||K;return"isoweek"===Le.p(e)?oe?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):W.bind(this)(e,K)}}}()},6669:function(bt){bt.exports=function(){"use strict";var ke={year:0,month:1,day:2,hour:3,minute:4,second:5},S={};return function(p,Q,z){var te,W=function(oe,re,fe){void 0===fe&&(fe={});var ne=new Date(oe);return function(De,xe){void 0===xe&&(xe={});var ze=xe.timeZoneName||"short",ee=De+"|"+ze,Me=S[ee];return Me||(Me=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:De,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:ze}),S[ee]=Me),Me}(re,fe).formatToParts(ne)},e=function(oe,re){for(var fe=W(oe,re),ne=[],ge=0;ge<fe.length;ge+=1){var De=fe[ge],ee=ke[De.type];ee>=0&&(ne[ee]=parseInt(De.value,10))}var Me=ne[3],Ce=+oe;return(z.utc(ne[0]+"-"+ne[1]+"-"+ne[2]+" "+(24===Me?0:Me)+":"+ne[4]+":"+ne[5]+":000").valueOf()-(Ce-=Ce%1e3))/6e4},K=Q.prototype;K.tz=function(oe,re){void 0===oe&&(oe=te);var fe=this.utcOffset(),ne=this.toDate(),ge=ne.toLocaleString("en-US",{timeZone:oe}),De=Math.round((ne-new Date(ge))/1e3/60),xe=z(ge).$set("millisecond",this.$ms).utcOffset(15*-Math.round(ne.getTimezoneOffset()/15)-De,!0);if(re){var ze=xe.utcOffset();xe=xe.add(fe-ze,"minute")}return xe.$x.$timezone=oe,xe},K.offsetName=function(oe){var re=this.$x.$timezone||z.tz.guess(),fe=W(this.valueOf(),re,{timeZoneName:oe}).find(function(ne){return"timezonename"===ne.type.toLowerCase()});return fe&&fe.value};var Le=K.startOf;K.startOf=function(oe,re){if(!this.$x||!this.$x.$timezone)return Le.call(this,oe,re);var fe=z(this.format("YYYY-MM-DD HH:mm:ss:SSS"));return Le.call(fe,oe,re).tz(this.$x.$timezone,!0)},z.tz=function(oe,re,fe){var ne=fe&&re,ge=fe||re||te,De=e(+z(),ge);if("string"!=typeof oe)return z(oe).tz(ge);var xe=function(Xe,nt,Ce){var pe=Xe-60*nt*1e3,de=e(pe,Ce);if(nt===de)return[pe,nt];var Ge=e(pe-=60*(de-nt)*1e3,Ce);return de===Ge?[pe,de]:[Xe-60*Math.min(de,Ge)*1e3,Math.max(de,Ge)]}(z.utc(oe,ne).valueOf(),De,ge),ee=xe[1],Me=z(xe[0]).utcOffset(ee);return Me.$x.$timezone=ge,Me},z.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},z.tz.setDefault=function(oe){te=oe}}}()},736:function(bt){bt.exports=function(){"use strict";var S=/[+-]\d\d(?::?\d\d)?/g,p=/([+-]|\d\d)/g;return function(Q,z,te){var W=z.prototype;te.utc=function(ne){return new z({date:ne,utc:!0,args:arguments})},W.utc=function(ne){var ge=te(this.toDate(),{locale:this.$L,utc:!0});return ne?ge.add(this.utcOffset(),"minute"):ge},W.local=function(){return te(this.toDate(),{locale:this.$L,utc:!1})};var e=W.parse;W.parse=function(ne){ne.utc&&(this.$u=!0),this.$utils().u(ne.$offset)||(this.$offset=ne.$offset),e.call(this,ne)};var K=W.init;W.init=function(){if(this.$u){var ne=this.$d;this.$y=ne.getUTCFullYear(),this.$M=ne.getUTCMonth(),this.$D=ne.getUTCDate(),this.$W=ne.getUTCDay(),this.$H=ne.getUTCHours(),this.$m=ne.getUTCMinutes(),this.$s=ne.getUTCSeconds(),this.$ms=ne.getUTCMilliseconds()}else K.call(this)};var Le=W.utcOffset;W.utcOffset=function(ne,ge){var De=this.$utils().u;if(De(ne))return this.$u?0:De(this.$offset)?Le.call(this):this.$offset;if("string"==typeof ne&&null===(ne=function(Me){void 0===Me&&(Me="");var Xe=Me.match(S);if(!Xe)return null;var nt=(""+Xe[0]).match(p)||["-",0,0],pe=60*+nt[1]+ +nt[2];return 0===pe?0:"+"===nt[0]?pe:-pe}(ne)))return this;var xe=Math.abs(ne)<=16?60*ne:ne,ze=this;if(ge)return ze.$offset=xe,ze.$u=0===ne,ze;if(0!==ne){var ee=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(ze=this.local().add(xe+ee,"minute")).$offset=xe,ze.$x.$localOffset=ee}else ze=this.utc();return ze};var oe=W.format;W.format=function(ne){return oe.call(this,ne||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":""))},W.valueOf=function(){var ne=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*ne},W.isUTC=function(){return!!this.$u},W.toISOString=function(){return this.toDate().toISOString()},W.toString=function(){return this.toDate().toUTCString()};var re=W.toDate;W.toDate=function(ne){return"s"===ne&&this.$offset?te(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():re.call(this)};var fe=W.diff;W.diff=function(ne,ge,De){if(ne&&this.$u===ne.$u)return fe.call(this,ne,ge,De);var xe=this.local(),ze=te(ne).local();return fe.call(xe,ze,ge,De)}}}()},9074:function(bt,ke){var S,Q;void 0!==(Q="function"==typeof(S=z=>{"use strict";var K=(rt,Re)=>{if(rt===Fe)return Fe;var ct=rt.target,ce=ct.length,he=rt._indexes;he=he.slice(0,he.len).sort((gt,ln)=>gt-ln);for(var Se="",we=0,Ae=0,Ye=!1,ot=(rt=[],0);ot<ce;++ot){var pn=ct[ot];if(he[Ae]===ot){if(++Ae,Ye||(Ye=!0,rt.push(Se),Se=""),Ae===he.length){rt.push(Re(Se+=pn,we++)),Se="",rt.push(ct.substr(ot+1));break}}else Ye&&(Ye=!1,rt.push(Re(Se,we++)),Se="");Se+=pn}return rt},oe=pt=>{"string"!=typeof pt&&(pt="");var Re=ze(pt);return{target:pt,_targetLower:Re._lower,_targetLowerCodes:Re.lowerCodes,_nextBeginningIndexes:Fe,_bitflags:Re.bitflags,score:Fe,_indexes:[0],obj:Fe}},re=pt=>{"string"!=typeof pt&&(pt=""),pt=pt.trim();var Re=ze(pt),ct=[];if(Re.containsSpace){var ce=pt.split(/\s+/);ce=[...new Set(ce)];for(var he=0;he<ce.length;he++)if(""!==ce[he]){var Se=ze(ce[he]);ct.push({lowerCodes:Se.lowerCodes,_lower:ce[he].toLowerCase(),containsSpace:!1})}}return{lowerCodes:Re.lowerCodes,bitflags:Re.bitflags,containsSpace:Re.containsSpace,_lower:Re._lower,spaceSearches:ct}},fe=pt=>{if(pt.length>999)return oe(pt);var Re=nt.get(pt);return void 0!==Re||(Re=oe(pt),nt.set(pt,Re)),Re},ne=pt=>{if(pt.length>999)return re(pt);var Re=Ce.get(pt);return void 0!==Re||(Re=re(pt),Ce.set(pt,Re)),Re},ge=(pt,Re,ct)=>{var ce=[];ce.total=Re.length;var he=ct&&ct.limit||$e;if(ct&&ct.key){for(var Se=0;Se<Re.length;Se++)if(Ae=Oe(we=Re[Se],ct.key)){Pe(Ae)||(Ae=fe(Ae)),Ae.score=He,Ae._indexes.len=0;if(ce.push({target:Ae.target,_targetLower:"",_targetLowerCodes:Fe,_nextBeginningIndexes:Fe,_bitflags:0,score:Ae.score,_indexes:Fe,obj:we}),ce.length>=he)return ce}}else if(ct&&ct.keys)for(Se=0;Se<Re.length;Se++){for(var we=Re[Se],rt=new Array(ct.keys.length),ot=ct.keys.length-1;ot>=0;--ot)(Ae=Oe(we,ct.keys[ot]))?(Pe(Ae)||(Ae=fe(Ae)),Ae.score=He,Ae._indexes.len=0,rt[ot]=Ae):rt[ot]=Fe;if(rt.obj=we,rt.score=He,ce.push(rt),ce.length>=he)return ce}else for(Se=0;Se<Re.length;Se++){var Ae;if((Ae=Re[Se])&&(Pe(Ae)||(Ae=fe(Ae)),Ae.score=He,Ae._indexes.len=0,ce.push(Ae),ce.length>=he))return ce}return ce},De=(pt,Re,ct=!1)=>{if(!1===ct&&pt.containsSpace)return xe(pt,Re);for(var ce=pt._lower,he=pt.lowerCodes,Se=he[0],we=Re._targetLowerCodes,Ae=he.length,Ye=we.length,gt=0,rt=0,ot=0;;){if(Se===we[rt]){if(pe[ot++]=rt,++gt===Ae)break;Se=he[gt]}if(++rt>=Ye)return Fe}gt=0;var ln=!1,zt=0,xt=Re._nextBeginningIndexes;xt===Fe&&(xt=Re._nextBeginningIndexes=Me(Re.target));var vn=0;if((rt=0===pe[0]?0:xt[pe[0]-1])!==Ye)for(;;)if(rt>=Ye){if(gt<=0||++vn>200)break;--gt,rt=xt[de[--zt]]}else if(he[gt]===we[rt]){if(de[zt++]=rt,++gt===Ae){ln=!0;break}++rt}else rt=xt[rt];var _e=Re._targetLower.indexOf(ce,pe[0]),je=~_e;if(je&&!ln)for(var Qe=0;Qe<ot;++Qe)pe[Qe]=_e+Qe;var _t=!1;if(je&&(_t=Re._nextBeginningIndexes[_e-1]===_e),ln)var Rt=de,gn=zt;else Rt=pe,gn=ot;var un=0,Lt=0;for(Qe=1;Qe<Ae;++Qe)Rt[Qe]-Rt[Qe-1]!=1&&(un-=Rt[Qe],++Lt);if(un-=(Rt[Ae-1]-Rt[0]-(Ae-1)+12)*Lt,0!==Rt[0]&&(un-=Rt[0]*Rt[0]*.2),ln){var Nt=1;for(Qe=xt[0];Qe<Ye;Qe=xt[Qe])++Nt;Nt>24&&(un*=10*(Nt-24))}else un*=1e3;for(je&&(un/=1+Ae*Ae*1),_t&&(un/=1+Ae*Ae*1),Re.score=un-=Ye-Ae,Qe=0;Qe<gn;++Qe)Re._indexes[Qe]=Rt[Qe];return Re._indexes.len=gn,Re},xe=(pt,Re)=>{for(var ct=new Set,ce=0,he=Fe,Se=0,we=pt.spaceSearches,ot=0;ot<we.length;++ot){if((he=De(we[ot],Re))===Fe)return Fe;ce+=he.score,he._indexes[0]<Se&&(ce-=Se-he._indexes[0]),Se=he._indexes[0];for(var Ye=0;Ye<he._indexes.len;++Ye)ct.add(he._indexes[Ye])}var rt=De(pt,Re,!0);if(rt!==Fe&&rt.score>ce)return rt;he.score=ce,ot=0;for(let pn of ct)he._indexes[ot++]=pn;return he._indexes.len=ot,he},ze=pt=>{for(var Re=pt.length,ct=pt.toLowerCase(),ce=[],he=0,Se=!1,we=0;we<Re;++we){var Ae=ce[we]=ct.charCodeAt(we);32!==Ae?he|=1<<(Ae>=97&&Ae<=122?Ae-97:Ae>=48&&Ae<=57?26:Ae<=127?30:31):Se=!0}return{lowerCodes:ce,bitflags:he,containsSpace:Se,_lower:ct}},Me=pt=>{for(var Re=pt.length,ct=(pt=>{for(var Re=pt.length,ct=[],ce=0,he=!1,Se=!1,we=0;we<Re;++we){var Ae=pt.charCodeAt(we),Ye=Ae>=65&&Ae<=90,rt=Ye||Ae>=97&&Ae<=122||Ae>=48&&Ae<=57,ot=Ye&&!he||!Se||!rt;he=Ye,Se=rt,ot&&(ct[ce++]=we)}return ct})(pt),ce=[],he=ct[0],Se=0,we=0;we<Re;++we)he>we?ce[we]=he:(he=ct[++Se],ce[we]=void 0===he?Re:he);return ce},nt=new Map,Ce=new Map,pe=[],de=[],Ge=pt=>{for(var Re=He,ct=pt.length,ce=0;ce<ct;++ce){var he=pt[ce];if(he!==Fe){var Se=he.score;Se>Re&&(Re=Se)}}return Re===He?Fe:Re},Oe=(pt,Re)=>{var ct=pt[Re];if(void 0!==ct)return ct;var ce=Re;Array.isArray(Re)||(ce=Re.split("."));for(var he=ce.length,Se=-1;pt&&++Se<he;)pt=pt[ce[Se]];return pt},Pe=pt=>"object"==typeof pt,$e=1/0,He=-$e,ft=[];ft.total=0;var Re,ct,ce,he,Fe=null,ut=(Re=[],ct=0,he=Se=>{for(var we=0,Ae=Re[we],Ye=1;Ye<ct;){var rt=Ye+1;we=Ye,rt<ct&&Re[rt].score<Re[Ye].score&&(we=rt),Re[we-1>>1]=Re[we],Ye=1+(we<<1)}for(var ot=we-1>>1;we>0&&Ae.score<Re[ot].score;ot=(we=ot)-1>>1)Re[we]=Re[ot];Re[we]=Ae},(ce={}).add=Se=>{var we=ct;Re[ct++]=Se;for(var Ae=we-1>>1;we>0&&Se.score<Re[Ae].score;Ae=(we=Ae)-1>>1)Re[we]=Re[Ae];Re[we]=Se},ce.poll=Se=>{if(0!==ct){var we=Re[0];return Re[0]=Re[--ct],he(),we}},ce.peek=Se=>{if(0!==ct)return Re[0]},ce.replaceTop=Se=>{Re[0]=Se,he()},ce);return{single:(pt,Re)=>{if("farzher"==pt)return{target:"farzher was here (^-^*)/",score:0,_indexes:[0]};if(!pt||!Re)return Fe;var ct=ne(pt);Pe(Re)||(Re=fe(Re));var ce=ct.bitflags;return(ce&Re._bitflags)!==ce?Fe:De(ct,Re)},go:(pt,Re,ct)=>{if("farzher"==pt)return[{target:"farzher was here (^-^*)/",score:0,_indexes:[0],obj:Re?Re[0]:Fe}];if(!pt)return ct&&ct.all?ge(pt,Re,ct):ft;var ce=ne(pt),he=ce.bitflags,we=ct&&ct.threshold||He,Ae=ct&&ct.limit||$e,Ye=0,rt=0,ot=Re.length;if(ct&&ct.key)for(var pn=ct.key,gt=0;gt<ot;++gt)(zt=Oe(ln=Re[gt],pn))&&(Pe(zt)||(zt=fe(zt)),(he&zt._bitflags)===he)&&(xt=De(ce,zt))!==Fe&&(xt.score<we||(xt={target:xt.target,_targetLower:"",_targetLowerCodes:Fe,_nextBeginningIndexes:Fe,_bitflags:0,score:xt.score,_indexes:xt._indexes,obj:ln},Ye<Ae?(ut.add(xt),++Ye):(++rt,xt.score>ut.peek().score&&ut.replaceTop(xt))));else if(ct&&ct.keys){var xn=ct.scoreFn||Ge,vn=ct.keys,me=vn.length;for(gt=0;gt<ot;++gt){for(var ln=Re[gt],_e=new Array(me),je=0;je<me;++je)(zt=Oe(ln,pn=vn[je]))?(Pe(zt)||(zt=fe(zt)),_e[je]=(he&zt._bitflags)!==he?Fe:De(ce,zt)):_e[je]=Fe;_e.obj=ln;var Qe=xn(_e);Qe!==Fe&&(Qe<we||(_e.score=Qe,Ye<Ae?(ut.add(_e),++Ye):(++rt,Qe>ut.peek().score&&ut.replaceTop(_e))))}}else for(gt=0;gt<ot;++gt){var zt,xt;(zt=Re[gt])&&(Pe(zt)||(zt=fe(zt)),(he&zt._bitflags)===he)&&(xt=De(ce,zt))!==Fe&&(xt.score<we||(Ye<Ae?(ut.add(xt),++Ye):(++rt,xt.score>ut.peek().score&&ut.replaceTop(xt))))}if(0===Ye)return ft;var _t=new Array(Ye);for(gt=Ye-1;gt>=0;--gt)_t[gt]=ut.poll();return _t.total=Ye+rt,_t},highlight:(pt,Re,ct)=>{if("function"==typeof Re)return K(pt,Re);if(pt===Fe)return Fe;void 0===Re&&(Re="<b>"),void 0===ct&&(ct="</b>");var ce="",he=0,Se=!1,we=pt.target,Ae=we.length,Ye=pt._indexes;Ye=Ye.slice(0,Ye.len).sort((pn,gt)=>pn-gt);for(var rt=0;rt<Ae;++rt){var ot=we[rt];if(Ye[he]===rt){if(Se||(Se=!0,ce+=Re),++he===Ye.length){ce+=ot+ct+we.substr(rt+1);break}}else Se&&(Se=!1,ce+=ct);ce+=ot}return ce},prepare:oe,indexes:pt=>pt._indexes.slice(0,pt._indexes.len).sort((Re,ct)=>Re-ct),cleanup:()=>{nt.clear(),Ce.clear(),pe=[],de=[]}}})?S.apply(ke,[]):S)&&(bt.exports=Q)},3947:function(bt){bt.exports=function(){"use strict";function ke(V,se){return V(se={exports:{}},se.exports),se.exports}var S=ke(function(V){var se=V.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=se)}),p=ke(function(V){var se=V.exports={version:"2.6.5"};"number"==typeof __e&&(__e=se)}),z=function(V){return"object"==typeof V?null!==V:"function"==typeof V},te=function(V){if(!z(V))throw TypeError(V+" is not an object!");return V},W=function(V){try{return!!V()}catch{return!0}},e=!W(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),K=S.document,Le=z(K)&&z(K.createElement),re=!e&&!W(function(){return 7!=Object.defineProperty(function(V){return Le?K.createElement(V):{}}("div"),"a",{get:function(){return 7}}).a}),ne=Object.defineProperty,De={f:e?Object.defineProperty:function(se,Ue,at){if(te(se),Ue=function(V,se){if(!z(V))return V;var Ue,at;if(se&&"function"==typeof(Ue=V.toString)&&!z(at=Ue.call(V))||"function"==typeof(Ue=V.valueOf)&&!z(at=Ue.call(V))||!se&&"function"==typeof(Ue=V.toString)&&!z(at=Ue.call(V)))return at;throw TypeError("Can't convert object to primitive value")}(Ue,!0),te(at),re)try{return ne(se,Ue,at)}catch{}if("get"in at||"set"in at)throw TypeError("Accessors not supported!");return"value"in at&&(se[Ue]=at.value),se}},ze=e?function(V,se,Ue){return De.f(V,se,function(V,se){return{enumerable:!(1&V),configurable:!(2&V),writable:!(4&V),value:se}}(1,Ue))}:function(V,se,Ue){return V[se]=Ue,V},ee={}.hasOwnProperty,Me=function(V,se){return ee.call(V,se)},Xe=0,nt=Math.random(),de=ke(function(V){var se="__core-js_shared__",Ue=S[se]||(S[se]={});(V.exports=function(at,Zt){return Ue[at]||(Ue[at]=void 0!==Zt?Zt:{})})("versions",[]).push({version:p.version,mode:"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})}),Ge=de("native-function-to-string",Function.toString),Oe=ke(function(V){var se=function(V){return"Symbol(".concat(void 0===V?"":V,")_",(++Xe+nt).toString(36))}("src"),Ue="toString",at=(""+Ge).split(Ue);p.inspectSource=function(Zt){return Ge.call(Zt)},(V.exports=function(Zt,It,Wt,Bn){var Un="function"==typeof Wt;Un&&(Me(Wt,"name")||ze(Wt,"name",It)),Zt[It]!==Wt&&(Un&&(Me(Wt,se)||ze(Wt,se,Zt[It]?""+Zt[It]:at.join(String(It)))),Zt===S?Zt[It]=Wt:Bn?Zt[It]?Zt[It]=Wt:ze(Zt,It,Wt):(delete Zt[It],ze(Zt,It,Wt)))})(Function.prototype,Ue,function(){return"function"==typeof this&&this[se]||Ge.call(this)})}),$e=function(V,se,Ue){if(function(V){if("function"!=typeof V)throw TypeError(V+" is not a function!")}(V),void 0===se)return V;switch(Ue){case 1:return function(at){return V.call(se,at)};case 2:return function(at,Zt){return V.call(se,at,Zt)};case 3:return function(at,Zt,It){return V.call(se,at,Zt,It)}}return function(){return V.apply(se,arguments)}},He="prototype",ft=function(V,se,Ue){var Ie,it,Dt,At,at=V&ft.F,Zt=V&ft.G,Wt=V&ft.P,Bn=V&ft.B,Un=Zt?S:V&ft.S?S[se]||(S[se]={}):(S[se]||{})[He],Ze=Zt?p:p[se]||(p[se]={}),ve=Ze[He]||(Ze[He]={});for(Ie in Zt&&(Ue=se),Ue)Dt=((it=!at&&Un&&void 0!==Un[Ie])?Un:Ue)[Ie],At=Bn&&it?$e(Dt,S):Wt&&"function"==typeof Dt?$e(Function.call,Dt):Dt,Un&&Oe(Un,Ie,Dt,V&ft.U),Ze[Ie]!=Dt&&ze(Ze,Ie,At),Wt&&ve[Ie]!=Dt&&(ve[Ie]=Dt)};S.core=p,ft.F=1,ft.G=2,ft.S=4,ft.P=8,ft.B=16,ft.W=32,ft.U=64,ft.R=128;var Fe=ft,Bt=Math.ceil,ut=Math.floor,pt=function(V){return isNaN(V=+V)?0:(V>0?ut:Bt)(V)},ce=(!1,function(se,Ue){var Wt,Bn,at=String(function(V){if(null==V)throw TypeError("Can't call method on  "+V);return V}(se)),Zt=pt(Ue),It=at.length;return Zt<0||Zt>=It?void 0:(Wt=at.charCodeAt(Zt))<55296||Wt>56319||Zt+1===It||(Bn=at.charCodeAt(Zt+1))<56320||Bn>57343?Wt:Bn-56320+(Wt-55296<<10)+65536});Fe(Fe.P,"String",{codePointAt:function(se){return ce(this,se)}});var Se=Math.max,we=Math.min,Ae=function(V,se){return(V=pt(V))<0?Se(V+se,0):we(V,se)},Ye=String.fromCharCode,rt=String.fromCodePoint;Fe(Fe.S+Fe.F*(!!rt&&1!=rt.length),"String",{fromCodePoint:function(se){for(var Wt,Ue=arguments,at=[],Zt=arguments.length,It=0;Zt>It;){if(Wt=+Ue[It++],Ae(Wt,1114111)!==Wt)throw RangeError(Wt+" is not a valid code point");at.push(Wt<65536?Ye(Wt):Ye(55296+((Wt-=65536)>>10),Wt%1024+56320))}return at.join("")}});var xn,vn,me,_e,je,Qe,_t,Rt,gn,Mt,Nt,Fn,li,an,zt={Space_Separator:/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,ID_Start:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,ID_Continue:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},xt={isSpaceSeparator:function(se){return"string"==typeof se&&zt.Space_Separator.test(se)},isIdStartChar:function(se){return"string"==typeof se&&(se>="a"&&se<="z"||se>="A"&&se<="Z"||"$"===se||"_"===se||zt.ID_Start.test(se))},isIdContinueChar:function(se){return"string"==typeof se&&(se>="a"&&se<="z"||se>="A"&&se<="Z"||se>="0"&&se<="9"||"$"===se||"_"===se||"\u200c"===se||"\u200d"===se||zt.ID_Continue.test(se))},isDigit:function(se){return"string"==typeof se&&/[0-9]/.test(se)},isHexDigit:function(se){return"string"==typeof se&&/[0-9A-Fa-f]/.test(se)}};function Lt(V,se,Ue){var at=V[se];if(null!=at&&"object"==typeof at)if(Array.isArray(at))for(var Zt=0;Zt<at.length;Zt++){var It=String(Zt),Wt=Lt(at,It,Ue);void 0===Wt?delete at[It]:Object.defineProperty(at,It,{value:Wt,writable:!0,enumerable:!0,configurable:!0})}else for(var Bn in at){var Un=Lt(at,Bn,Ue);void 0===Un?delete at[Bn]:Object.defineProperty(at,Bn,{value:Un,writable:!0,enumerable:!0,configurable:!0})}return Ue.call(V,se,at)}function qt(){for(Mt="default",Nt="",Fn=!1,li=1;;){an=zn();var V=bn[Mt]();if(V)return V}}function zn(){if(xn[_e])return String.fromCodePoint(xn.codePointAt(_e))}function ht(){var V=zn();return"\n"===V?(je++,Qe=0):V?Qe+=V.length:Qe++,V&&(_e+=V.length),V}var bn={default:function(){switch(an){case"\t":case"\v":case"\f":case" ":case"\xa0":case"\ufeff":case"\n":case"\r":case"\u2028":case"\u2029":return void ht();case"/":return ht(),void(Mt="comment");case void 0:return ht(),Ln("eof")}if(!xt.isSpaceSeparator(an))return bn[vn]();ht()},comment:function(){switch(an){case"*":return ht(),void(Mt="multiLineComment");case"/":return ht(),void(Mt="singleLineComment")}throw In(ht())},multiLineComment:function(){switch(an){case"*":return ht(),void(Mt="multiLineCommentAsterisk");case void 0:throw In(ht())}ht()},multiLineCommentAsterisk:function(){switch(an){case"*":return void ht();case"/":return ht(),void(Mt="default");case void 0:throw In(ht())}ht(),Mt="multiLineComment"},singleLineComment:function(){switch(an){case"\n":case"\r":case"\u2028":case"\u2029":return ht(),void(Mt="default");case void 0:return ht(),Ln("eof")}ht()},value:function(){switch(an){case"{":case"[":return Ln("punctuator",ht());case"n":return ht(),mn("ull"),Ln("null",null);case"t":return ht(),mn("rue"),Ln("boolean",!0);case"f":return ht(),mn("alse"),Ln("boolean",!1);case"-":case"+":return"-"===ht()&&(li=-1),void(Mt="sign");case".":return Nt=ht(),void(Mt="decimalPointLeading");case"0":return Nt=ht(),void(Mt="zero");case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return Nt=ht(),void(Mt="decimalInteger");case"I":return ht(),mn("nfinity"),Ln("numeric",1/0);case"N":return ht(),mn("aN"),Ln("numeric",NaN);case'"':case"'":return Fn='"'===ht(),Nt="",void(Mt="string")}throw In(ht())},identifierNameStartEscape:function(){if("u"!==an)throw In(ht());ht();var se=Hi();switch(se){case"$":case"_":break;default:if(!xt.isIdStartChar(se))throw Li()}Nt+=se,Mt="identifierName"},identifierName:function(){switch(an){case"$":case"_":case"\u200c":case"\u200d":return void(Nt+=ht());case"\\":return ht(),void(Mt="identifierNameEscape")}if(!xt.isIdContinueChar(an))return Ln("identifier",Nt);Nt+=ht()},identifierNameEscape:function(){if("u"!==an)throw In(ht());ht();var se=Hi();switch(se){case"$":case"_":case"\u200c":case"\u200d":break;default:if(!xt.isIdContinueChar(se))throw Li()}Nt+=se,Mt="identifierName"},sign:function(){switch(an){case".":return Nt=ht(),void(Mt="decimalPointLeading");case"0":return Nt=ht(),void(Mt="zero");case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return Nt=ht(),void(Mt="decimalInteger");case"I":return ht(),mn("nfinity"),Ln("numeric",li*(1/0));case"N":return ht(),mn("aN"),Ln("numeric",NaN)}throw In(ht())},zero:function(){switch(an){case".":return Nt+=ht(),void(Mt="decimalPoint");case"e":case"E":return Nt+=ht(),void(Mt="decimalExponent");case"x":case"X":return Nt+=ht(),void(Mt="hexadecimal")}return Ln("numeric",0*li)},decimalInteger:function(){switch(an){case".":return Nt+=ht(),void(Mt="decimalPoint");case"e":case"E":return Nt+=ht(),void(Mt="decimalExponent")}if(!xt.isDigit(an))return Ln("numeric",li*Number(Nt));Nt+=ht()},decimalPointLeading:function(){if(xt.isDigit(an))return Nt+=ht(),void(Mt="decimalFraction");throw In(ht())},decimalPoint:function(){switch(an){case"e":case"E":return Nt+=ht(),void(Mt="decimalExponent")}return xt.isDigit(an)?(Nt+=ht(),void(Mt="decimalFraction")):Ln("numeric",li*Number(Nt))},decimalFraction:function(){switch(an){case"e":case"E":return Nt+=ht(),void(Mt="decimalExponent")}if(!xt.isDigit(an))return Ln("numeric",li*Number(Nt));Nt+=ht()},decimalExponent:function(){switch(an){case"+":case"-":return Nt+=ht(),void(Mt="decimalExponentSign")}if(xt.isDigit(an))return Nt+=ht(),void(Mt="decimalExponentInteger");throw In(ht())},decimalExponentSign:function(){if(xt.isDigit(an))return Nt+=ht(),void(Mt="decimalExponentInteger");throw In(ht())},decimalExponentInteger:function(){if(!xt.isDigit(an))return Ln("numeric",li*Number(Nt));Nt+=ht()},hexadecimal:function(){if(xt.isHexDigit(an))return Nt+=ht(),void(Mt="hexadecimalInteger");throw In(ht())},hexadecimalInteger:function(){if(!xt.isHexDigit(an))return Ln("numeric",li*Number(Nt));Nt+=ht()},string:function(){switch(an){case"\\":return ht(),void(Nt+=function Ri(){switch(zn()){case"b":return ht(),"\b";case"f":return ht(),"\f";case"n":return ht(),"\n";case"r":return ht(),"\r";case"t":return ht(),"\t";case"v":return ht(),"\v";case"0":if(ht(),xt.isDigit(zn()))throw In(ht());return"\0";case"x":return ht(),function Ei(){var V="",se=zn();if(!xt.isHexDigit(se)||(V+=ht(),se=zn(),!xt.isHexDigit(se)))throw In(ht());return V+=ht(),String.fromCodePoint(parseInt(V,16))}();case"u":return ht(),Hi();case"\n":case"\u2028":case"\u2029":return ht(),"";case"\r":return ht(),"\n"===zn()&&ht(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case void 0:throw In(ht())}return ht()}());case'"':return Fn?(ht(),Ln("string",Nt)):void(Nt+=ht());case"'":return Fn?void(Nt+=ht()):(ht(),Ln("string",Nt));case"\n":case"\r":throw In(ht());case"\u2028":case"\u2029":!function Qi(V){console.warn("JSON5: '"+$i(V)+"' in strings is not valid ECMAScript; consider escaping")}(an);break;case void 0:throw In(ht())}Nt+=ht()},start:function(){switch(an){case"{":case"[":return Ln("punctuator",ht())}Mt="value"},beforePropertyName:function(){switch(an){case"$":case"_":return Nt=ht(),void(Mt="identifierName");case"\\":return ht(),void(Mt="identifierNameStartEscape");case"}":return Ln("punctuator",ht());case'"':case"'":return Fn='"'===ht(),void(Mt="string")}if(xt.isIdStartChar(an))return Nt+=ht(),void(Mt="identifierName");throw In(ht())},afterPropertyName:function(){if(":"===an)return Ln("punctuator",ht());throw In(ht())},beforePropertyValue:function(){Mt="value"},afterPropertyValue:function(){switch(an){case",":case"}":return Ln("punctuator",ht())}throw In(ht())},beforeArrayValue:function(){if("]"===an)return Ln("punctuator",ht());Mt="value"},afterArrayValue:function(){switch(an){case",":case"]":return Ln("punctuator",ht())}throw In(ht())},end:function(){throw In(ht())}};function Ln(V,se){return{type:V,value:se,line:je,column:Qe}}function mn(V){for(var se=0,Ue=V;se<Ue.length;se+=1){var at=Ue[se];if(zn()!==at)throw In(ht());ht()}}function Hi(){for(var V="",se=4;se-- >0;){var Ue=zn();if(!xt.isHexDigit(Ue))throw In(ht());V+=ht()}return String.fromCodePoint(parseInt(V,16))}var Fi={start:function(){if("eof"===_t.type)throw ai();$n()},beforePropertyName:function(){switch(_t.type){case"identifier":case"string":return Rt=_t.value,void(vn="afterPropertyName");case"punctuator":return void Qn();case"eof":throw ai()}},afterPropertyName:function(){if("eof"===_t.type)throw ai();vn="beforePropertyValue"},beforePropertyValue:function(){if("eof"===_t.type)throw ai();$n()},beforeArrayValue:function(){if("eof"===_t.type)throw ai();"punctuator"!==_t.type||"]"!==_t.value?$n():Qn()},afterPropertyValue:function(){if("eof"===_t.type)throw ai();switch(_t.value){case",":return void(vn="beforePropertyName");case"}":Qn()}},afterArrayValue:function(){if("eof"===_t.type)throw ai();switch(_t.value){case",":return void(vn="beforeArrayValue");case"]":Qn()}},end:function(){}};function $n(){var V;switch(_t.type){case"punctuator":switch(_t.value){case"{":V={};break;case"[":V=[]}break;case"null":case"boolean":case"numeric":case"string":V=_t.value}if(void 0===gn)gn=V;else{var se=me[me.length-1];Array.isArray(se)?se.push(V):Object.defineProperty(se,Rt,{value:V,writable:!0,enumerable:!0,configurable:!0})}if(null!==V&&"object"==typeof V)me.push(V),vn=Array.isArray(V)?"beforeArrayValue":"beforePropertyName";else{var Ue=me[me.length-1];vn=null==Ue?"end":Array.isArray(Ue)?"afterArrayValue":"afterPropertyValue"}}function Qn(){me.pop();var V=me[me.length-1];vn=null==V?"end":Array.isArray(V)?"afterArrayValue":"afterPropertyValue"}function In(V){return io(void 0===V?"JSON5: invalid end of input at "+je+":"+Qe:"JSON5: invalid character '"+$i(V)+"' at "+je+":"+Qe)}function ai(){return io("JSON5: invalid end of input at "+je+":"+Qe)}function Li(){return io("JSON5: invalid identifier character at "+je+":"+(Qe-=5))}function $i(V){var se={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(se[V])return se[V];if(V<" "){var Ue=V.charCodeAt(0).toString(16);return"\\x"+("00"+Ue).substring(Ue.length)}return V}function io(V){var se=new SyntaxError(V);return se.lineNumber=je,se.columnNumber=Qe,se}return{parse:function(se,Ue){xn=String(se),vn="start",me=[],_e=0,je=1,Qe=0,_t=void 0,Rt=void 0,gn=void 0;do{_t=qt(),Fi[vn]()}while("eof"!==_t.type);return"function"==typeof Ue?Lt({"":gn},"",Ue):gn},stringify:function(se,Ue,at){var Wt,Bn,Ze,Zt=[],It="",Un="";if(null!=Ue&&"object"==typeof Ue&&!Array.isArray(Ue)&&(at=Ue.space,Ze=Ue.quote,Ue=Ue.replacer),"function"==typeof Ue)Bn=Ue;else if(Array.isArray(Ue)){Wt=[];for(var ve=0,Ie=Ue;ve<Ie.length;ve+=1){var it=Ie[ve],Dt=void 0;"string"==typeof it?Dt=it:("number"==typeof it||it instanceof String||it instanceof Number)&&(Dt=String(it)),void 0!==Dt&&Wt.indexOf(Dt)<0&&Wt.push(Dt)}}return at instanceof Number?at=Number(at):at instanceof String&&(at=String(at)),"number"==typeof at?at>0&&(at=Math.min(10,Math.floor(at)),Un="          ".substr(0,at)):"string"==typeof at&&(Un=at.substr(0,10)),At("",{"":se});function At(_n,Gn){var Qt=Gn[_n];switch(null!=Qt&&("function"==typeof Qt.toJSON5?Qt=Qt.toJSON5(_n):"function"==typeof Qt.toJSON&&(Qt=Qt.toJSON(_n))),Bn&&(Qt=Bn.call(Gn,_n,Qt)),Qt instanceof Number?Qt=Number(Qt):Qt instanceof String?Qt=String(Qt):Qt instanceof Boolean&&(Qt=Qt.valueOf()),Qt){case null:return"null";case!0:return"true";case!1:return"false"}return"string"==typeof Qt?kt(Qt):"number"==typeof Qt?String(Qt):"object"==typeof Qt?Array.isArray(Qt)?function yi(_n){if(Zt.indexOf(_n)>=0)throw TypeError("Converting circular structure to JSON5");Zt.push(_n);var dn,Gn=It;It+=Un;for(var Qt=[],Zn=0;Zn<_n.length;Zn++){var ri=At(String(Zn),_n);Qt.push(void 0!==ri?ri:"null")}if(0===Qt.length)dn="[]";else if(""===Un)dn="["+Qt.join(",")+"]";else{var Ii=Qt.join(",\n"+It);dn="[\n"+It+Ii+",\n"+Gn+"]"}return Zt.pop(),It=Gn,dn}(Qt):function Xt(_n){if(Zt.indexOf(_n)>=0)throw TypeError("Converting circular structure to JSON5");Zt.push(_n);var Yt,Cn,Gn=It;It+=Un;for(var Zn=[],ri=0,dn=Wt||Object.keys(_n);ri<dn.length;ri+=1){var Rn=dn[ri],ii=At(Rn,_n);if(void 0!==ii){var Ii=cn(Rn)+":";""!==Un&&(Ii+=" "),Zn.push(Ii+=ii)}}return 0===Zn.length?Yt="{}":""===Un?Yt="{"+(Cn=Zn.join(","))+"}":(Cn=Zn.join(",\n"+It),Yt="{\n"+It+Cn+",\n"+Gn+"}"),Zt.pop(),It=Gn,Yt}(Qt):void 0}function kt(_n){for(var Gn={"'":.1,'"':.2},Qt={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"},Zn="",ri=0;ri<_n.length;ri++){var dn=_n[ri];switch(dn){case"'":case'"':Gn[dn]++,Zn+=dn;continue;case"\0":if(xt.isDigit(_n[ri+1])){Zn+="\\x00";continue}}if(Qt[dn])Zn+=Qt[dn];else if(dn<" "){var Rn=dn.charCodeAt(0).toString(16);Zn+="\\x"+("00"+Rn).substring(Rn.length)}else Zn+=dn}var ii=Ze||Object.keys(Gn).reduce(function(Ii,Yt){return Gn[Ii]<Gn[Yt]?Ii:Yt});return ii+(Zn=Zn.replace(new RegExp(ii,"g"),Qt[ii]))+ii}function cn(_n){if(0===_n.length)return kt(_n);var Gn=String.fromCodePoint(_n.codePointAt(0));if(!xt.isIdStartChar(Gn))return kt(_n);for(var Qt=Gn.length;Qt<_n.length;Qt++)if(!xt.isIdContinueChar(String.fromCodePoint(_n.codePointAt(Qt))))return kt(_n);return _n}}}}()},7198:function(bt,ke){!function(S){"use strict";function Q(s){var d,g,D,O;for(g=1,D=arguments.length;g<D;g++)for(d in O=arguments[g])s[d]=O[d];return s}var z=Object.create||function(){function s(){}return function(d){return s.prototype=d,new s}}();function te(s,d){var g=Array.prototype.slice;if(s.bind)return s.bind.apply(s,g.call(arguments,1));var D=g.call(arguments,2);return function(){return s.apply(d,D.length?D.concat(g.call(arguments)):arguments)}}var W=0;function e(s){return"_leaflet_id"in s||(s._leaflet_id=++W),s._leaflet_id}function K(s,d,g){var D,O,G,Te;return Te=function(){D=!1,O&&(G.apply(g,O),O=!1)},G=function(){D?O=arguments:(s.apply(g,arguments),setTimeout(Te,d),D=!0)},G}function Le(s,d,g){var D=d[1],O=d[0],G=D-O;return s===D&&g?s:((s-O)%G+G)%G+O}function oe(){return!1}function re(s,d){if(!1===d)return s;var g=Math.pow(10,void 0===d?6:d);return Math.round(s*g)/g}function fe(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function ne(s){return fe(s).split(/\s+/)}function ge(s,d){for(var g in Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?z(s.options):{}),d)s.options[g]=d[g];return s.options}function De(s,d,g){var D=[];for(var O in s)D.push(encodeURIComponent(g?O.toUpperCase():O)+"="+encodeURIComponent(s[O]));return(d&&-1!==d.indexOf("?")?"&":"?")+D.join("&")}var xe=/\{ *([\w_ -]+) *\}/g;function ze(s,d){return s.replace(xe,function(g,D){var O=d[D];if(void 0===O)throw new Error("No value provided for variable "+g);return"function"==typeof O&&(O=O(d)),O})}var ee=Array.isArray||function(s){return"[object Array]"===Object.prototype.toString.call(s)};function Me(s,d){for(var g=0;g<s.length;g++)if(s[g]===d)return g;return-1}var Xe="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function nt(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var Ce=0;function pe(s){var d=+new Date,g=Math.max(0,16-(d-Ce));return Ce=d+g,window.setTimeout(s,g)}var de=window.requestAnimationFrame||nt("RequestAnimationFrame")||pe,Ge=window.cancelAnimationFrame||nt("CancelAnimationFrame")||nt("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function Oe(s,d,g){if(!g||de!==pe)return de.call(window,te(s,d));s.call(d)}function Pe(s){s&&Ge.call(window,s)}var $e={__proto__:null,extend:Q,create:z,bind:te,get lastId(){return W},stamp:e,throttle:K,wrapNum:Le,falseFn:oe,formatNum:re,trim:fe,splitWords:ne,setOptions:ge,getParamString:De,template:ze,isArray:ee,indexOf:Me,emptyImageUrl:Xe,requestFn:de,cancelFn:Ge,requestAnimFrame:Oe,cancelAnimFrame:Pe};function He(){}He.extend=function(s){var d=function(){ge(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},g=d.__super__=this.prototype,D=z(g);for(var O in D.constructor=d,d.prototype=D,this)Object.prototype.hasOwnProperty.call(this,O)&&"prototype"!==O&&"__super__"!==O&&(d[O]=this[O]);return s.statics&&Q(d,s.statics),s.includes&&(function ft(s){if(!(typeof L>"u")&&L&&L.Mixin){s=ee(s)?s:[s];for(var d=0;d<s.length;d++)s[d]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(s.includes),Q.apply(null,[D].concat(s.includes))),Q(D,s),delete D.statics,delete D.includes,D.options&&(D.options=g.options?z(g.options):{},Q(D.options,s.options)),D._initHooks=[],D.callInitHooks=function(){if(!this._initHooksCalled){g.callInitHooks&&g.callInitHooks.call(this),this._initHooksCalled=!0;for(var G=0,Te=D._initHooks.length;G<Te;G++)D._initHooks[G].call(this)}},d},He.include=function(s){var d=this.prototype.options;return Q(this.prototype,s),s.options&&(this.prototype.options=d,this.mergeOptions(s.options)),this},He.mergeOptions=function(s){return Q(this.prototype.options,s),this},He.addInitHook=function(s){var d=Array.prototype.slice.call(arguments,1),g="function"==typeof s?s:function(){this[s].apply(this,d)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(g),this};var Fe={on:function(s,d,g){if("object"==typeof s)for(var D in s)this._on(D,s[D],d);else for(var O=0,G=(s=ne(s)).length;O<G;O++)this._on(s[O],d,g);return this},off:function(s,d,g){if(arguments.length)if("object"==typeof s)for(var D in s)this._off(D,s[D],d);else{s=ne(s);for(var O=1===arguments.length,G=0,Te=s.length;G<Te;G++)O?this._off(s[G]):this._off(s[G],d,g)}else delete this._events;return this},_on:function(s,d,g,D){if("function"==typeof d){if(!1===this._listens(s,d,g)){g===this&&(g=void 0);var O={fn:d,ctx:g};D&&(O.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(O)}}else console.warn("wrong listener type: "+typeof d)},_off:function(s,d,g){var D,O,G;if(this._events&&(D=this._events[s])){if(1===arguments.length){if(this._firingCount)for(O=0,G=D.length;O<G;O++)D[O].fn=oe;return void delete this._events[s]}if("function"!=typeof d)return void console.warn("wrong listener type: "+typeof d);var Te=this._listens(s,d,g);!1!==Te&&(this._firingCount&&(D[Te].fn=oe,this._events[s]=D=D.slice()),D.splice(Te,1))}},fire:function(s,d,g){if(!this.listens(s,g))return this;var D=Q({},d,{type:s,target:this,sourceTarget:d&&d.sourceTarget||this});if(this._events){var O=this._events[s];if(O){this._firingCount=this._firingCount+1||1;for(var G=0,Te=O.length;G<Te;G++){var Ke=O[G],lt=Ke.fn;Ke.once&&this.off(s,lt,Ke.ctx),lt.call(Ke.ctx||this,D)}this._firingCount--}}return g&&this._propagateEvent(D),this},listens:function(s,d,g,D){"string"!=typeof s&&console.warn('"string" type argument expected');var O=d;"function"!=typeof d&&(D=!!d,O=void 0,g=void 0);var G=this._events&&this._events[s];if(G&&G.length&&!1!==this._listens(s,O,g))return!0;if(D)for(var Te in this._eventParents)if(this._eventParents[Te].listens(s,d,g,D))return!0;return!1},_listens:function(s,d,g){if(!this._events)return!1;var D=this._events[s]||[];if(!d)return!!D.length;g===this&&(g=void 0);for(var O=0,G=D.length;O<G;O++)if(D[O].fn===d&&D[O].ctx===g)return O;return!1},once:function(s,d,g){if("object"==typeof s)for(var D in s)this._on(D,s[D],d,!0);else for(var O=0,G=(s=ne(s)).length;O<G;O++)this._on(s[O],d,g,!0);return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[e(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[e(s)],this},_propagateEvent:function(s){for(var d in this._eventParents)this._eventParents[d].fire(s.type,Q({layer:s.target,propagatedFrom:s.target},s),!0)}};Fe.addEventListener=Fe.on,Fe.removeEventListener=Fe.clearAllEventListeners=Fe.off,Fe.addOneTimeEventListener=Fe.once,Fe.fireEvent=Fe.fire,Fe.hasEventListeners=Fe.listens;var Bt=He.extend(Fe);function ut(s,d,g){this.x=g?Math.round(s):s,this.y=g?Math.round(d):d}var pt=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};function Re(s,d,g){return s instanceof ut?s:ee(s)?new ut(s[0],s[1]):null==s?s:"object"==typeof s&&"x"in s&&"y"in s?new ut(s.x,s.y):new ut(s,d,g)}function ct(s,d){if(s)for(var g=d?[s,d]:s,D=0,O=g.length;D<O;D++)this.extend(g[D])}function ce(s,d){return!s||s instanceof ct?s:new ct(s,d)}function he(s,d){if(s)for(var g=d?[s,d]:s,D=0,O=g.length;D<O;D++)this.extend(g[D])}function Se(s,d){return s instanceof he?s:new he(s,d)}function we(s,d,g){if(isNaN(s)||isNaN(d))throw new Error("Invalid LatLng object: ("+s+", "+d+")");this.lat=+s,this.lng=+d,void 0!==g&&(this.alt=+g)}function Ae(s,d,g){return s instanceof we?s:ee(s)&&"object"!=typeof s[0]?3===s.length?new we(s[0],s[1],s[2]):2===s.length?new we(s[0],s[1]):null:null==s?s:"object"==typeof s&&"lat"in s?new we(s.lat,"lng"in s?s.lng:s.lon,s.alt):void 0===d?null:new we(s,d,g)}ut.prototype={clone:function(){return new ut(this.x,this.y)},add:function(s){return this.clone()._add(Re(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(Re(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new ut(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new ut(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=pt(this.x),this.y=pt(this.y),this},distanceTo:function(s){var d=(s=Re(s)).x-this.x,g=s.y-this.y;return Math.sqrt(d*d+g*g)},equals:function(s){return(s=Re(s)).x===this.x&&s.y===this.y},contains:function(s){return s=Re(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+re(this.x)+", "+re(this.y)+")"}},ct.prototype={extend:function(s){var d,g;if(!s)return this;if(s instanceof ut||"number"==typeof s[0]||"x"in s)d=g=Re(s);else if(g=(s=ce(s)).max,!(d=s.min)||!g)return this;return this.min||this.max?(this.min.x=Math.min(d.x,this.min.x),this.max.x=Math.max(g.x,this.max.x),this.min.y=Math.min(d.y,this.min.y),this.max.y=Math.max(g.y,this.max.y)):(this.min=d.clone(),this.max=g.clone()),this},getCenter:function(s){return Re((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return Re(this.min.x,this.max.y)},getTopRight:function(){return Re(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var d,g;return(s="number"==typeof s[0]||s instanceof ut?Re(s):ce(s))instanceof ct?(d=s.min,g=s.max):d=g=s,d.x>=this.min.x&&g.x<=this.max.x&&d.y>=this.min.y&&g.y<=this.max.y},intersects:function(s){s=ce(s);var d=this.min,g=this.max,D=s.min,O=s.max;return O.x>=d.x&&D.x<=g.x&&O.y>=d.y&&D.y<=g.y},overlaps:function(s){s=ce(s);var d=this.min,g=this.max,D=s.min,O=s.max;return O.x>d.x&&D.x<g.x&&O.y>d.y&&D.y<g.y},isValid:function(){return!(!this.min||!this.max)},pad:function(s){var d=this.min,g=this.max,D=Math.abs(d.x-g.x)*s,O=Math.abs(d.y-g.y)*s;return ce(Re(d.x-D,d.y-O),Re(g.x+D,g.y+O))},equals:function(s){return!!s&&(s=ce(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight()))}},he.prototype={extend:function(s){var D,O,d=this._southWest,g=this._northEast;if(s instanceof we)D=s,O=s;else{if(!(s instanceof he))return s?this.extend(Ae(s)||Se(s)):this;if(O=s._northEast,!(D=s._southWest)||!O)return this}return d||g?(d.lat=Math.min(D.lat,d.lat),d.lng=Math.min(D.lng,d.lng),g.lat=Math.max(O.lat,g.lat),g.lng=Math.max(O.lng,g.lng)):(this._southWest=new we(D.lat,D.lng),this._northEast=new we(O.lat,O.lng)),this},pad:function(s){var d=this._southWest,g=this._northEast,D=Math.abs(d.lat-g.lat)*s,O=Math.abs(d.lng-g.lng)*s;return new he(new we(d.lat-D,d.lng-O),new we(g.lat+D,g.lng+O))},getCenter:function(){return new we((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new we(this.getNorth(),this.getWest())},getSouthEast:function(){return new we(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){s="number"==typeof s[0]||s instanceof we||"lat"in s?Ae(s):Se(s);var D,O,d=this._southWest,g=this._northEast;return s instanceof he?(D=s.getSouthWest(),O=s.getNorthEast()):D=O=s,D.lat>=d.lat&&O.lat<=g.lat&&D.lng>=d.lng&&O.lng<=g.lng},intersects:function(s){s=Se(s);var d=this._southWest,g=this._northEast,D=s.getSouthWest(),O=s.getNorthEast();return O.lat>=d.lat&&D.lat<=g.lat&&O.lng>=d.lng&&D.lng<=g.lng},overlaps:function(s){s=Se(s);var d=this._southWest,g=this._northEast,D=s.getSouthWest(),O=s.getNorthEast();return O.lat>d.lat&&D.lat<g.lat&&O.lng>d.lng&&D.lng<g.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,d){return!!s&&(s=Se(s),this._southWest.equals(s.getSouthWest(),d)&&this._northEast.equals(s.getNorthEast(),d))},isValid:function(){return!(!this._southWest||!this._northEast)}},we.prototype={equals:function(s,d){return!!s&&(s=Ae(s),Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng))<=(void 0===d?1e-9:d))},toString:function(s){return"LatLng("+re(this.lat,s)+", "+re(this.lng,s)+")"},distanceTo:function(s){return rt.distance(this,Ae(s))},wrap:function(){return rt.wrapLatLng(this)},toBounds:function(s){var d=180*s/40075017,g=d/Math.cos(Math.PI/180*this.lat);return Se([this.lat-d,this.lng-g],[this.lat+d,this.lng+g])},clone:function(){return new we(this.lat,this.lng,this.alt)}};var s,Ye={latLngToPoint:function(s,d){var g=this.projection.project(s),D=this.scale(d);return this.transformation._transform(g,D)},pointToLatLng:function(s,d){var g=this.scale(d),D=this.transformation.untransform(s,g);return this.projection.unproject(D)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var d=this.projection.bounds,g=this.scale(s);return new ct(this.transformation.transform(d.min,g),this.transformation.transform(d.max,g))},infinite:!1,wrapLatLng:function(s){var d=this.wrapLng?Le(s.lng,this.wrapLng,!0):s.lng;return new we(this.wrapLat?Le(s.lat,this.wrapLat,!0):s.lat,d,s.alt)},wrapLatLngBounds:function(s){var d=s.getCenter(),g=this.wrapLatLng(d),D=d.lat-g.lat,O=d.lng-g.lng;if(0===D&&0===O)return s;var G=s.getSouthWest(),Te=s.getNorthEast();return new he(new we(G.lat-D,G.lng-O),new we(Te.lat-D,Te.lng-O))}},rt=Q({},Ye,{wrapLng:[-180,180],R:6371e3,distance:function(s,d){var g=Math.PI/180,D=s.lat*g,O=d.lat*g,G=Math.sin((d.lat-s.lat)*g/2),Te=Math.sin((d.lng-s.lng)*g/2),Ke=G*G+Math.cos(D)*Math.cos(O)*Te*Te,lt=2*Math.atan2(Math.sqrt(Ke),Math.sqrt(1-Ke));return this.R*lt}}),pn={R:6378137,MAX_LATITUDE:85.0511287798,project:function(s){var d=Math.PI/180,g=this.MAX_LATITUDE,D=Math.max(Math.min(g,s.lat),-g),O=Math.sin(D*d);return new ut(this.R*s.lng*d,this.R*Math.log((1+O)/(1-O))/2)},unproject:function(s){var d=180/Math.PI;return new we((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*d,s.x*d/this.R)},bounds:(s=6378137*Math.PI,new ct([-s,-s],[s,s]))};function gt(s,d,g,D){if(ee(s))return this._a=s[0],this._b=s[1],this._c=s[2],void(this._d=s[3]);this._a=s,this._b=d,this._c=g,this._d=D}function ln(s,d,g,D){return new gt(s,d,g,D)}gt.prototype={transform:function(s,d){return this._transform(s.clone(),d)},_transform:function(s,d){return s.x=(d=d||1)*(this._a*s.x+this._b),s.y=d*(this._c*s.y+this._d),s},untransform:function(s,d){return new ut((s.x/(d=d||1)-this._b)/this._a,(s.y/d-this._d)/this._c)}};var zt=Q({},rt,{code:"EPSG:3857",projection:pn,transformation:function(){var s=.5/(Math.PI*pn.R);return ln(s,.5,-s,.5)}()}),xt=Q({},zt,{code:"EPSG:900913"});function xn(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function vn(s,d){var D,O,G,Te,Ke,lt,g="";for(D=0,G=s.length;D<G;D++){for(O=0,Te=(Ke=s[D]).length;O<Te;O++)g+=(O?"L":"M")+(lt=Ke[O]).x+" "+lt.y;g+=d?Ue.svg?"z":"x":""}return g||"M0 0"}var me=document.documentElement.style,_e="ActiveXObject"in window,je=_e&&!document.addEventListener,Qe="msLaunchUri"in navigator&&!("documentMode"in document),_t=se("webkit"),Rt=se("android"),gn=se("android 2")||se("android 3"),un=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Lt=Rt&&se("Google")&&un<537&&!("AudioNode"in window),Mt=!!window.opera,Nt=!Qe&&se("chrome"),Fn=se("gecko")&&!_t&&!Mt&&!_e,li=!Nt&&se("safari"),an=se("phantom"),qt="OTransition"in me,zn=0===navigator.platform.indexOf("Win"),ht=_e&&"transition"in me,bn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!gn,Ln="MozPerspective"in me,mn=!window.L_DISABLE_3D&&(ht||bn||Ln)&&!qt&&!an,Ri=typeof orientation<"u"||se("mobile"),Ei=Ri&&_t,Hi=Ri&&bn,Fi=!window.PointerEvent&&window.MSPointerEvent,$n=!(!window.PointerEvent&&!Fi),Qn="ontouchstart"in window||!!window.TouchEvent,In=!window.L_NO_TOUCH&&(Qn||$n),ai=Ri&&Mt,Li=Ri&&Fn,Qi=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,$i=function(){var s=!1;try{var d=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",oe,d),window.removeEventListener("testPassiveEventSupport",oe,d)}catch{}return s}(),io=!!document.createElement("canvas").getContext,Ho=!(!document.createElementNS||!xn("svg").createSVGRect),dt=!!Ho&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(s.firstChild&&s.firstChild.namespaceURI)}(),We=!Ho&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var d=s.firstChild;return d.style.behavior="url(#default#VML)",d&&"object"==typeof d.adj}catch{return!1}}();function se(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var Ue={ie:_e,ielt9:je,edge:Qe,webkit:_t,android:Rt,android23:gn,androidStock:Lt,opera:Mt,chrome:Nt,gecko:Fn,safari:li,phantom:an,opera12:qt,win:zn,ie3d:ht,webkit3d:bn,gecko3d:Ln,any3d:mn,mobile:Ri,mobileWebkit:Ei,mobileWebkit3d:Hi,msPointer:Fi,pointer:$n,touch:In,touchNative:Qn,mobileOpera:ai,mobileGecko:Li,retina:Qi,passiveEvents:$i,canvas:io,svg:Ho,vml:We,inlineSvg:dt,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},at=Ue.msPointer?"MSPointerDown":"pointerdown",Zt=Ue.msPointer?"MSPointerMove":"pointermove",It=Ue.msPointer?"MSPointerUp":"pointerup",Wt=Ue.msPointer?"MSPointerCancel":"pointercancel",Bn={touchstart:at,touchmove:Zt,touchend:It,touchcancel:Wt},Un={touchstart:function yi(s,d){d.MSPOINTER_TYPE_TOUCH&&d.pointerType===d.MSPOINTER_TYPE_TOUCH&&rn(d),cn(s,d)},touchmove:cn,touchend:cn,touchcancel:cn},Ze={},ve=!1;function Ie(s,d,g){return"touchstart"===d&&function Xt(){ve||(document.addEventListener(at,Dt,!0),document.addEventListener(Zt,At,!0),document.addEventListener(It,kt,!0),document.addEventListener(Wt,kt,!0),ve=!0)}(),Un[d]?(g=Un[d].bind(this,g),s.addEventListener(Bn[d],g,!1),g):(console.warn("wrong event specified:",d),oe)}function Dt(s){Ze[s.pointerId]=s}function At(s){Ze[s.pointerId]&&(Ze[s.pointerId]=s)}function kt(s){delete Ze[s.pointerId]}function cn(s,d){if(d.pointerType!==(d.MSPOINTER_TYPE_MOUSE||"mouse")){for(var g in d.touches=[],Ze)d.touches.push(Ze[g]);d.changedTouches=[d],s(d)}}var Gn=200;var Pt,Et,Gt,Ci,Vo,ri=Xo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),dn=Xo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Rn="webkitTransition"===dn||"OTransition"===dn?dn+"End":"transitionend";function ii(s){return"string"==typeof s?document.getElementById(s):s}function Ii(s,d){var g=s.style[d]||s.currentStyle&&s.currentStyle[d];if((!g||"auto"===g)&&document.defaultView){var D=document.defaultView.getComputedStyle(s,null);g=D?D[d]:null}return"auto"===g?null:g}function Yt(s,d,g){var D=document.createElement(s);return D.className=d||"",g&&g.appendChild(D),D}function Cn(s){var d=s.parentNode;d&&d.removeChild(s)}function Ai(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Si(s){var d=s.parentNode;d&&d.lastChild!==s&&d.appendChild(s)}function vi(s){var d=s.parentNode;d&&d.firstChild!==s&&d.insertBefore(s,d.firstChild)}function oo(s,d){if(void 0!==s.classList)return s.classList.contains(d);var g=wo(s);return g.length>0&&new RegExp("(^|\\s)"+d+"(\\s|$)").test(g)}function Dn(s,d){if(void 0!==s.classList)for(var g=ne(d),D=0,O=g.length;D<O;D++)s.classList.add(g[D]);else if(!oo(s,d)){var G=wo(s);Gi(s,(G?G+" ":"")+d)}}function wn(s,d){void 0!==s.classList?s.classList.remove(d):Gi(s,fe((" "+wo(s)+" ").replace(" "+d+" "," ")))}function Gi(s,d){void 0===s.className.baseVal?s.className=d:s.className.baseVal=d}function wo(s){return s.correspondingElement&&(s=s.correspondingElement),void 0===s.className.baseVal?s.className:s.className.baseVal}function Yi(s,d){"opacity"in s.style?s.style.opacity=d:"filter"in s.style&&function vs(s,d){var g=!1,D="DXImageTransform.Microsoft.Alpha";try{g=s.filters.item(D)}catch{if(1===d)return}d=Math.round(100*d),g?(g.Enabled=100!==d,g.Opacity=d):s.style.filter+=" progid:"+D+"(opacity="+d+")"}(s,d)}function Xo(s){for(var d=document.documentElement.style,g=0;g<s.length;g++)if(s[g]in d)return s[g];return!1}function jo(s,d,g){var D=d||new ut(0,0);s.style[ri]=(Ue.ie3d?"translate("+D.x+"px,"+D.y+"px)":"translate3d("+D.x+"px,"+D.y+"px,0)")+(g?" scale("+g+")":"")}function ui(s,d){s._leaflet_pos=d,Ue.any3d?jo(s,d):(s.style.left=d.x+"px",s.style.top=d.y+"px")}function Je(s){return s._leaflet_pos||new ut(0,0)}if("onselectstart"in document)Pt=function(){en(window,"selectstart",rn)},Et=function(){kn(window,"selectstart",rn)};else{var On=Xo(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Pt=function(){if(On){var s=document.documentElement.style;Gt=s[On],s[On]="none"}},Et=function(){On&&(document.documentElement.style[On]=Gt,Gt=void 0)}}function Kn(){en(window,"dragstart",rn)}function Xn(){kn(window,"dragstart",rn)}function No(s){for(;-1===s.tabIndex;)s=s.parentNode;s.style&&(To(),Ci=s,Vo=s.style.outlineStyle,s.style.outlineStyle="none",en(window,"keydown",To))}function To(){Ci&&(Ci.style.outlineStyle=Vo,Ci=void 0,Vo=void 0,kn(window,"keydown",To))}function gr(s){do{s=s.parentNode}while(!(s.offsetWidth&&s.offsetHeight||s===document.body));return s}function An(s){var d=s.getBoundingClientRect();return{x:d.width/s.offsetWidth||1,y:d.height/s.offsetHeight||1,boundingClientRect:d}}var Bi={__proto__:null,TRANSFORM:ri,TRANSITION:dn,TRANSITION_END:Rn,get:ii,getStyle:Ii,create:Yt,remove:Cn,empty:Ai,toFront:Si,toBack:vi,hasClass:oo,addClass:Dn,removeClass:wn,setClass:Gi,getClass:wo,setOpacity:Yi,testProp:Xo,setTransform:jo,setPosition:ui,getPosition:Je,get disableTextSelection(){return Pt},get enableTextSelection(){return Et},disableImageDrag:Kn,enableImageDrag:Xn,preventOutline:No,restoreOutline:To,getSizedParentNode:gr,getScale:An};function en(s,d,g,D){if(d&&"object"==typeof d)for(var O in d)_o(s,O,d[O],g);else for(var G=0,Te=(d=ne(d)).length;G<Te;G++)_o(s,d[G],g,D);return this}var Oi="_leaflet_events";function kn(s,d,g,D){if(1===arguments.length)mr(s),delete s[Oi];else if(d&&"object"==typeof d)for(var O in d)qr(s,O,d[O],g);else if(d=ne(d),2===arguments.length)mr(s,function(Ke){return-1!==Me(d,Ke)});else for(var G=0,Te=d.length;G<Te;G++)qr(s,d[G],g,D);return this}function mr(s,d){for(var g in s[Oi]){var D=g.split(/\d/)[0];(!d||d(D))&&qr(s,D,null,null,g)}}var Mr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function _o(s,d,g,D){var O=d+e(g)+(D?"_"+e(D):"");if(s[Oi]&&s[Oi][O])return this;var G=function(Ke){return g.call(D||s,Ke||window.event)},Te=G;!Ue.touchNative&&Ue.pointer&&0===d.indexOf("touch")?G=Ie(s,d,G):Ue.touch&&"dblclick"===d?G=function Qt(s,d){s.addEventListener("dblclick",d);var D,g=0;function O(G){if(1===G.detail){if("mouse"!==G.pointerType&&(!G.sourceCapabilities||G.sourceCapabilities.firesTouchEvents)){var Te=ro(G);if(!Te.some(function(lt){return lt instanceof HTMLLabelElement&&lt.attributes.for})||Te.some(function(lt){return lt instanceof HTMLInputElement||lt instanceof HTMLSelectElement})){var Ke=Date.now();Ke-g<=Gn?2==++D&&d(function _n(s){var g,D,d={};for(D in s)d[D]=(g=s[D])&&g.bind?g.bind(s):g;return s=d,d.type="dblclick",d.detail=2,d.isTrusted=!1,d._simulated=!0,d}(G)):D=1,g=Ke}}}else D=G.detail}return s.addEventListener("click",O),{dblclick:d,simDblclick:O}}(s,G):"addEventListener"in s?"touchstart"===d||"touchmove"===d||"wheel"===d||"mousewheel"===d?s.addEventListener(Mr[d]||d,G,!!Ue.passiveEvents&&{passive:!1}):"mouseenter"===d||"mouseleave"===d?s.addEventListener(Mr[d],G=function(Ke){Ke=Ke||window.event,Di(s,Ke)&&Te(Ke)},!1):s.addEventListener(d,Te,!1):s.attachEvent("on"+d,G),s[Oi]=s[Oi]||{},s[Oi][O]=G}function qr(s,d,g,D,O){O=O||d+e(g)+(D?"_"+e(D):"");var G=s[Oi]&&s[Oi][O];if(!G)return this;!Ue.touchNative&&Ue.pointer&&0===d.indexOf("touch")?function it(s,d,g){Bn[d]?s.removeEventListener(Bn[d],g,!1):console.warn("wrong event specified:",d)}(s,d,G):Ue.touch&&"dblclick"===d?function Zn(s,d){s.removeEventListener("dblclick",d.dblclick),s.removeEventListener("click",d.simDblclick)}(s,G):"removeEventListener"in s?s.removeEventListener(Mr[d]||d,G,!1):s.detachEvent("on"+d,G),s[Oi][O]=null}function er(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function di(s){return _o(s,"wheel",er),this}function $t(s){return en(s,"mousedown touchstart dblclick contextmenu",er),s._leaflet_disable_click=!0,this}function rn(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function ci(s){return rn(s),er(s),this}function ro(s){if(s.composedPath)return s.composedPath();for(var d=[],g=s.target;g;)d.push(g),g=g.parentNode;return d}function qo(s,d){if(!d)return new ut(s.clientX,s.clientY);var g=An(d),D=g.boundingClientRect;return new ut((s.clientX-D.left)/g.x-d.clientLeft,(s.clientY-D.top)/g.y-d.clientTop)}var ji=Ue.linux&&Ue.chrome?window.devicePixelRatio:Ue.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Sr(s){return Ue.edge?s.wheelDeltaY/2:s.deltaY&&0===s.deltaMode?-s.deltaY/ji:s.deltaY&&1===s.deltaMode?20*-s.deltaY:s.deltaY&&2===s.deltaMode?60*-s.deltaY:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?20*-s.detail:s.detail?s.detail/-32765*60:0}function Di(s,d){var g=d.relatedTarget;if(!g)return!0;try{for(;g&&g!==s;)g=g.parentNode}catch{return!1}return g!==s}var Eo={__proto__:null,on:en,off:kn,stopPropagation:er,disableScrollPropagation:di,disableClickPropagation:$t,preventDefault:rn,stop:ci,getPropagationPath:ro,getMousePosition:qo,getWheelDelta:Sr,isExternalTarget:Di,addListener:en,removeListener:kn},tr=Bt.extend({run:function(s,d,g,D){this.stop(),this._el=s,this._inProgress=!0,this._duration=g||.25,this._easeOutPower=1/Math.max(D||.5,.2),this._startPos=Je(s),this._offset=d.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Oe(this._animate,this),this._step()},_step:function(s){var d=+new Date-this._startTime,g=1e3*this._duration;d<g?this._runFrame(this._easeOut(d/g),s):(this._runFrame(1),this._complete())},_runFrame:function(s,d){var g=this._startPos.add(this._offset.multiplyBy(s));d&&g._round(),ui(this._el,g),this.fire("step")},_complete:function(){Pe(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Vt=Bt.extend({options:{crs:zt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,d){d=ge(this,d),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=te(this._onResize,this),this._initEvents(),d.maxBounds&&this.setMaxBounds(d.maxBounds),void 0!==d.zoom&&(this._zoom=this._limitZoom(d.zoom)),d.center&&void 0!==d.zoom&&this.setView(Ae(d.center),d.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=dn&&Ue.any3d&&!Ue.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),en(this._proxy,Rn,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,d,g){return d=void 0===d?this._zoom:this._limitZoom(d),s=this._limitCenter(Ae(s),d,this.options.maxBounds),g=g||{},this._stop(),this._loaded&&!g.reset&&!0!==g&&(void 0!==g.animate&&(g.zoom=Q({animate:g.animate},g.zoom),g.pan=Q({animate:g.animate,duration:g.duration},g.pan)),this._zoom!==d?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,d,g.zoom):this._tryAnimatedPan(s,g.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(s,d,g.pan&&g.pan.noMoveStart),this)},setZoom:function(s,d){return this._loaded?this.setView(this.getCenter(),s,{zoom:d}):(this._zoom=s,this)},zoomIn:function(s,d){return this.setZoom(this._zoom+(s=s||(Ue.any3d?this.options.zoomDelta:1)),d)},zoomOut:function(s,d){return this.setZoom(this._zoom-(s=s||(Ue.any3d?this.options.zoomDelta:1)),d)},setZoomAround:function(s,d,g){var D=this.getZoomScale(d),O=this.getSize().divideBy(2),Te=(s instanceof ut?s:this.latLngToContainerPoint(s)).subtract(O).multiplyBy(1-1/D),Ke=this.containerPointToLatLng(O.add(Te));return this.setView(Ke,d,{zoom:g})},_getBoundsCenterZoom:function(s,d){d=d||{},s=s.getBounds?s.getBounds():Se(s);var g=Re(d.paddingTopLeft||d.padding||[0,0]),D=Re(d.paddingBottomRight||d.padding||[0,0]),O=this.getBoundsZoom(s,!1,g.add(D));if((O="number"==typeof d.maxZoom?Math.min(d.maxZoom,O):O)===1/0)return{center:s.getCenter(),zoom:O};var G=D.subtract(g).divideBy(2),Te=this.project(s.getSouthWest(),O),Ke=this.project(s.getNorthEast(),O);return{center:this.unproject(Te.add(Ke).divideBy(2).add(G),O),zoom:O}},fitBounds:function(s,d){if(!(s=Se(s)).isValid())throw new Error("Bounds are not valid.");var g=this._getBoundsCenterZoom(s,d);return this.setView(g.center,g.zoom,d)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,d){return this.setView(s,this._zoom,{pan:d})},panBy:function(s,d){if(d=d||{},!(s=Re(s).round()).x&&!s.y)return this.fire("moveend");if(!0!==d.animate&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new tr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),d.noMoveStart||this.fire("movestart"),!1!==d.animate){Dn(this._mapPane,"leaflet-pan-anim");var g=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,g,d.duration||.25,d.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,d,g){if(!1===(g=g||{}).animate||!Ue.any3d)return this.setView(s,d,g);this._stop();var D=this.project(this.getCenter()),O=this.project(s),G=this.getSize(),Te=this._zoom;s=Ae(s),d=void 0===d?Te:d;var Ke=Math.max(G.x,G.y),lt=Ke*this.getZoomScale(Te,d),wt=O.distanceTo(D)||1,jt=1.42,Sn=jt*jt;function Hn(Ft){var Tt=(lt*lt-Ke*Ke+(Ft?-1:1)*Sn*Sn*wt*wt)/(2*(Ft?lt:Ke)*Sn*wt),ti=Math.sqrt(Tt*Tt+1)-Tt;return ti<1e-9?-18:Math.log(ti)}function fi(Ft){return(Math.exp(Ft)-Math.exp(-Ft))/2}function si(Ft){return(Math.exp(Ft)+Math.exp(-Ft))/2}var on=Hn(0);function Ee(Ft){return Ke*(si(on)*function Ui(Ft){return fi(Ft)/si(Ft)}(on+jt*Ft)-fi(on))/Sn}var k=Date.now(),X=(Hn(1)-on)/jt,Ne=g.duration?1e3*g.duration:1e3*X*.8;return this._moveStart(!0,g.noMoveStart),function mt(){var Ft=(Date.now()-k)/Ne,oi=function H(Ft){return 1-Math.pow(1-Ft,1.5)}(Ft)*X;Ft<=1?(this._flyToFrame=Oe(mt,this),this._move(this.unproject(D.add(O.subtract(D).multiplyBy(Ee(oi)/wt)),Te),this.getScaleZoom(Ke/function es(Ft){return Ke*(si(on)/si(on+jt*Ft))}(oi),Te),{flyTo:!0})):this._move(s,d)._moveEnd(!0)}.call(this),this},flyToBounds:function(s,d){var g=this._getBoundsCenterZoom(s,d);return this.flyTo(g.center,g.zoom,d)},setMaxBounds:function(s){return s=Se(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var d=this.options.minZoom;return this.options.minZoom=s,this._loaded&&d!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var d=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&d!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,d){this._enforcingBounds=!0;var g=this.getCenter(),D=this._limitCenter(g,this._zoom,Se(s));return g.equals(D)||this.panTo(D,d),this._enforcingBounds=!1,this},panInside:function(s,d){var g=Re((d=d||{}).paddingTopLeft||d.padding||[0,0]),D=Re(d.paddingBottomRight||d.padding||[0,0]),O=this.project(this.getCenter()),G=this.project(s),Te=this.getPixelBounds(),Ke=ce([Te.min.add(g),Te.max.subtract(D)]),lt=Ke.getSize();if(!Ke.contains(G)){this._enforcingBounds=!0;var wt=G.subtract(Ke.getCenter()),jt=Ke.extend(G).getSize().subtract(lt);O.x+=wt.x<0?-jt.x:jt.x,O.y+=wt.y<0?-jt.y:jt.y,this.panTo(this.unproject(O),d),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=Q({animate:!1,pan:!0},!0===s?{animate:!0}:s);var d=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var g=this.getSize(),D=d.divideBy(2).round(),O=g.divideBy(2).round(),G=D.subtract(O);return G.x||G.y?(s.animate&&s.pan?this.panBy(G):(s.pan&&this._rawPanBy(G),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(te(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:d,newSize:g})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=Q({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var d=te(this._handleGeolocationResponse,this),g=te(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(d,g,s):navigator.geolocation.getCurrentPosition(d,g,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var d=s.code,g=s.message||(1===d?"permission denied":2===d?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:d,message:"Geolocation error: "+g+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var D=new we(s.coords.latitude,s.coords.longitude),O=D.toBounds(2*s.coords.accuracy),G=this._locateOptions;if(G.setView){var Te=this.getBoundsZoom(O);this.setView(D,G.maxZoom?Math.min(Te,G.maxZoom):Te)}var Ke={latlng:D,bounds:O,timestamp:s.timestamp};for(var lt in s.coords)"number"==typeof s.coords[lt]&&(Ke[lt]=s.coords[lt]);this.fire("locationfound",Ke)}},addHandler:function(s,d){if(!d)return this;var g=this[s]=new d(this);return this._handlers.push(g),this.options[s]&&g.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}var s;for(s in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),Cn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Pe(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[s].remove();for(s in this._panes)Cn(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,d){var D=Yt("div","leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),d||this._mapPane);return s&&(this._panes[s]=D),D},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds();return new he(this.unproject(s.getBottomLeft()),this.unproject(s.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,d,g){s=Se(s),g=Re(g||[0,0]);var D=this.getZoom()||0,O=this.getMinZoom(),G=this.getMaxZoom(),Te=s.getNorthWest(),Ke=s.getSouthEast(),lt=this.getSize().subtract(g),wt=ce(this.project(Ke,D),this.project(Te,D)).getSize(),jt=Ue.any3d?this.options.zoomSnap:1,Sn=lt.x/wt.x,Hn=lt.y/wt.y,fi=d?Math.max(Sn,Hn):Math.min(Sn,Hn);return D=this.getScaleZoom(fi,D),jt&&(D=Math.round(D/(jt/100))*(jt/100),D=d?Math.ceil(D/jt)*jt:Math.floor(D/jt)*jt),Math.max(O,Math.min(G,D))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ut(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,d){var g=this._getTopLeftPoint(s,d);return new ct(g,g.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(void 0===s?this.getZoom():s)},getPane:function(s){return"string"==typeof s?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,d){var g=this.options.crs;return d=void 0===d?this._zoom:d,g.scale(s)/g.scale(d)},getScaleZoom:function(s,d){var g=this.options.crs,D=g.zoom(s*g.scale(d=void 0===d?this._zoom:d));return isNaN(D)?1/0:D},project:function(s,d){return d=void 0===d?this._zoom:d,this.options.crs.latLngToPoint(Ae(s),d)},unproject:function(s,d){return d=void 0===d?this._zoom:d,this.options.crs.pointToLatLng(Re(s),d)},layerPointToLatLng:function(s){var d=Re(s).add(this.getPixelOrigin());return this.unproject(d)},latLngToLayerPoint:function(s){return this.project(Ae(s))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(Ae(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(Se(s))},distance:function(s,d){return this.options.crs.distance(Ae(s),Ae(d))},containerPointToLayerPoint:function(s){return Re(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return Re(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var d=this.containerPointToLayerPoint(Re(s));return this.layerPointToLatLng(d)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ae(s)))},mouseEventToContainerPoint:function(s){return qo(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var d=this._container=ii(s);if(!d)throw new Error("Map container not found.");if(d._leaflet_id)throw new Error("Map container is already initialized.");en(d,"scroll",this._onScroll,this),this._containerId=e(d)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ue.any3d,Dn(s,"leaflet-container"+(Ue.touch?" leaflet-touch":"")+(Ue.retina?" leaflet-retina":"")+(Ue.ielt9?" leaflet-oldie":"")+(Ue.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var d=Ii(s,"position");"absolute"!==d&&"relative"!==d&&"fixed"!==d&&"sticky"!==d&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ui(this._mapPane,new ut(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Dn(s.markerPane,"leaflet-zoom-hide"),Dn(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,d,g){ui(this._mapPane,new ut(0,0));var D=!this._loaded;this._loaded=!0,d=this._limitZoom(d),this.fire("viewprereset");var O=this._zoom!==d;this._moveStart(O,g)._move(s,d)._moveEnd(O),this.fire("viewreset"),D&&this.fire("load")},_moveStart:function(s,d){return s&&this.fire("zoomstart"),d||this.fire("movestart"),this},_move:function(s,d,g,D){void 0===d&&(d=this._zoom);var O=this._zoom!==d;return this._zoom=d,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),D?g&&g.pinch&&this.fire("zoom",g):((O||g&&g.pinch)&&this.fire("zoom",g),this.fire("move",g)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Pe(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){ui(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[e(this._container)]=this;var d=s?kn:en;d(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&d(window,"resize",this._onResize,this),Ue.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Pe(this._resizeRequest),this._resizeRequest=Oe(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,d){for(var D,g=[],O="mouseout"===d||"mouseover"===d,G=s.target||s.srcElement,Te=!1;G;){if((D=this._targets[e(G)])&&("click"===d||"preclick"===d)&&this._draggableMoved(D)){Te=!0;break}if(D&&D.listens(d,!0)&&(O&&!Di(G,s)||(g.push(D),O))||G===this._container)break;G=G.parentNode}return!g.length&&!Te&&!O&&this.listens(d,!0)&&(g=[this]),g},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var d=s.target||s.srcElement;if(!(!this._loaded||d._leaflet_disable_events||"click"===s.type&&this._isClickDisabled(d))){var g=s.type;"mousedown"===g&&No(d),this._fireDOMEvent(s,g)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,d,g){if("click"===s.type){var D=Q({},s);D.type="preclick",this._fireDOMEvent(D,D.type,g)}var O=this._findEventTargets(s,d);if(g){for(var G=[],Te=0;Te<g.length;Te++)g[Te].listens(d,!0)&&G.push(g[Te]);O=G.concat(O)}if(O.length){"contextmenu"===d&&rn(s);var Ke=O[0],lt={originalEvent:s};if("keypress"!==s.type&&"keydown"!==s.type&&"keyup"!==s.type){var wt=Ke.getLatLng&&(!Ke._radius||Ke._radius<=10);lt.containerPoint=wt?this.latLngToContainerPoint(Ke.getLatLng()):this.mouseEventToContainerPoint(s),lt.layerPoint=this.containerPointToLayerPoint(lt.containerPoint),lt.latlng=wt?Ke.getLatLng():this.layerPointToLatLng(lt.layerPoint)}for(Te=0;Te<O.length;Te++)if(O[Te].fire(d,lt,!0),lt.originalEvent._stopped||!1===O[Te].options.bubblingMouseEvents&&-1!==Me(this._mouseEvents,d))return}},_draggableMoved:function(s){return(s=s.dragging&&s.dragging.enabled()?s:this).dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,d=this._handlers.length;s<d;s++)this._handlers[s].disable()},whenReady:function(s,d){return this._loaded?s.call(d||this,{target:this}):this.on("load",s,d),this},_getMapPanePos:function(){return Je(this._mapPane)||new ut(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,d){return(s&&void 0!==d?this._getNewPixelOrigin(s,d):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,d){var g=this.getSize()._divideBy(2);return this.project(s,d)._subtract(g)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,d,g){var D=this._getNewPixelOrigin(g,d);return this.project(s,d)._subtract(D)},_latLngBoundsToNewLayerBounds:function(s,d,g){var D=this._getNewPixelOrigin(g,d);return ce([this.project(s.getSouthWest(),d)._subtract(D),this.project(s.getNorthWest(),d)._subtract(D),this.project(s.getSouthEast(),d)._subtract(D),this.project(s.getNorthEast(),d)._subtract(D)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,d,g){if(!g)return s;var D=this.project(s,d),O=this.getSize().divideBy(2),G=new ct(D.subtract(O),D.add(O)),Te=this._getBoundsOffset(G,g,d);return Math.abs(Te.x)<=1&&Math.abs(Te.y)<=1?s:this.unproject(D.add(Te),d)},_limitOffset:function(s,d){if(!d)return s;var g=this.getPixelBounds(),D=new ct(g.min.add(s),g.max.add(s));return s.add(this._getBoundsOffset(D,d))},_getBoundsOffset:function(s,d,g){var D=ce(this.project(d.getNorthEast(),g),this.project(d.getSouthWest(),g)),O=D.min.subtract(s.min),G=D.max.subtract(s.max);return new ut(this._rebound(O.x,-G.x),this._rebound(O.y,-G.y))},_rebound:function(s,d){return s+d>0?Math.round(s-d)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(d))},_limitZoom:function(s){var d=this.getMinZoom(),g=this.getMaxZoom(),D=Ue.any3d?this.options.zoomSnap:1;return D&&(s=Math.round(s/D)*D),Math.max(d,Math.min(g,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){wn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,d){var g=this._getCenterOffset(s)._trunc();return!(!0!==(d&&d.animate)&&!this.getSize().contains(g)||(this.panBy(g,d),0))},_createAnimProxy:function(){var s=this._proxy=Yt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(d){var g=ri,D=this._proxy.style[g];jo(this._proxy,this.project(d.center,d.zoom),this.getZoomScale(d.zoom,1)),D===this._proxy.style[g]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Cn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),d=this.getZoom();jo(this._proxy,this.project(s,d),this.getZoomScale(d,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,d,g){if(this._animatingZoom)return!0;if(g=g||{},!this._zoomAnimated||!1===g.animate||this._nothingToAnimate()||Math.abs(d-this._zoom)>this.options.zoomAnimationThreshold)return!1;var D=this.getZoomScale(d),O=this._getCenterOffset(s)._divideBy(1-1/D);return!(!0!==g.animate&&!this.getSize().contains(O)||(Oe(function(){this._moveStart(!0,g.noMoveStart||!1)._animateZoom(s,d,!0)},this),0))},_animateZoom:function(s,d,g,D){this._mapPane&&(g&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=d,Dn(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:d,noUpdate:D}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(te(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&wn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});var ho=He.extend({options:{position:"topright"},initialize:function(s){ge(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var d=this._map;return d&&d.removeControl(this),this.options.position=s,d&&d.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var d=this._container=this.onAdd(s),g=this.getPosition(),D=s._controlCorners[g];return Dn(d,"leaflet-control"),-1!==g.indexOf("bottom")?D.insertBefore(d,D.firstChild):D.appendChild(d),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Cn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),Mo=function(s){return new ho(s)};Vt.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},d="leaflet-",g=this._controlContainer=Yt("div",d+"control-container",this._container);function D(O,G){s[O+G]=Yt("div",d+O+" "+d+G,g)}D("top","left"),D("top","right"),D("bottom","left"),D("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)Cn(this._controlCorners[s]);Cn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var xi=ho.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,d,g,D){return g<D?-1:D<g?1:0}},initialize:function(s,d,g){for(var D in ge(this,g),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,s)this._addLayer(s[D],D);for(D in d)this._addLayer(d[D],D,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return ho.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,d){return this._addLayer(s,d),this._map?this._update():this},addOverlay:function(s,d){return this._addLayer(s,d,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var d=this._getLayer(e(s));return d&&this._layers.splice(this._layers.indexOf(d),1),this._map?this._update():this},expand:function(){Dn(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(Dn(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):wn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return wn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",d=this._container=Yt("div",s),g=this.options.collapsed;d.setAttribute("aria-haspopup",!0),$t(d),di(d);var D=this._section=Yt("section",s+"-list");g&&(this._map.on("click",this.collapse,this),en(d,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var O=this._layersLink=Yt("a",s+"-toggle",d);O.href="#",O.title="Layers",O.setAttribute("role","button"),en(O,{keydown:function(G){13===G.keyCode&&this._expandSafely()},click:function(G){rn(G),this._expandSafely()}},this),g||this.expand(),this._baseLayersList=Yt("div",s+"-base",D),this._separator=Yt("div",s+"-separator",D),this._overlaysList=Yt("div",s+"-overlays",D),d.appendChild(D)},_getLayer:function(s){for(var d=0;d<this._layers.length;d++)if(this._layers[d]&&e(this._layers[d].layer)===s)return this._layers[d]},_addLayer:function(s,d,g){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:d,overlay:g}),this.options.sortLayers&&this._layers.sort(te(function(D,O){return this.options.sortFunction(D.layer,O.layer,D.name,O.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ai(this._baseLayersList),Ai(this._overlaysList),this._layerControlInputs=[];var s,d,g,D,O=0;for(g=0;g<this._layers.length;g++)this._addItem(D=this._layers[g]),d=d||D.overlay,s=s||!D.overlay,O+=D.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(s=s&&O>1)?"":"none"),this._separator.style.display=d&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var d=this._getLayer(e(s.target)),g=d.overlay?"add"===s.type?"overlayadd":"overlayremove":"add"===s.type?"baselayerchange":null;g&&this._map.fire(g,d)},_createRadioElement:function(s,d){var g='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(d?' checked="checked"':"")+"/>",D=document.createElement("div");return D.innerHTML=g,D.firstChild},_addItem:function(s){var D,d=document.createElement("label"),g=this._map.hasLayer(s.layer);s.overlay?((D=document.createElement("input")).type="checkbox",D.className="leaflet-control-layers-selector",D.defaultChecked=g):D=this._createRadioElement("leaflet-base-layers_"+e(this),g),this._layerControlInputs.push(D),D.layerId=e(s.layer),en(D,"click",this._onInputClick,this);var O=document.createElement("span");O.innerHTML=" "+s.name;var G=document.createElement("span");return d.appendChild(G),G.appendChild(D),G.appendChild(O),(s.overlay?this._overlaysList:this._baseLayersList).appendChild(d),this._checkDisabledLayers(),d},_onInputClick:function(){if(!this._preventClick){var d,g,s=this._layerControlInputs,D=[],O=[];this._handlingClick=!0;for(var G=s.length-1;G>=0;G--)g=this._getLayer((d=s[G]).layerId).layer,d.checked?D.push(g):d.checked||O.push(g);for(G=0;G<O.length;G++)this._map.hasLayer(O[G])&&this._map.removeLayer(O[G]);for(G=0;G<D.length;G++)this._map.hasLayer(D[G])||this._map.addLayer(D[G]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var d,g,s=this._layerControlInputs,D=this._map.getZoom(),O=s.length-1;O>=0;O--)g=this._getLayer((d=s[O]).layerId).layer,d.disabled=void 0!==g.options.minZoom&&D<g.options.minZoom||void 0!==g.options.maxZoom&&D>g.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,en(s,"click",rn),this.expand();var d=this;setTimeout(function(){kn(s,"click",rn),d._preventClick=!1})}}),ar=ho.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var d="leaflet-control-zoom",g=Yt("div",d+" leaflet-bar"),D=this.options;return this._zoomInButton=this._createButton(D.zoomInText,D.zoomInTitle,d+"-in",g,this._zoomIn),this._zoomOutButton=this._createButton(D.zoomOutText,D.zoomOutTitle,d+"-out",g,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),g},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,d,g,D,O){var G=Yt("a",g,D);return G.innerHTML=s,G.href="#",G.title=d,G.setAttribute("role","button"),G.setAttribute("aria-label",d),$t(G),en(G,"click",ci),en(G,"click",O,this),en(G,"click",this._refocusOnMap,this),G},_updateDisabled:function(){var s=this._map,d="leaflet-disabled";wn(this._zoomInButton,d),wn(this._zoomOutButton,d),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(Dn(this._zoomOutButton,d),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(Dn(this._zoomInButton,d),this._zoomInButton.setAttribute("aria-disabled","true"))}});Vt.mergeOptions({zoomControl:!0}),Vt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ar,this.addControl(this.zoomControl))});var _r=ho.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var d="leaflet-control-scale",g=Yt("div",d),D=this.options;return this._addScales(D,d+"-line",g),s.on(D.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),g},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,d,g){s.metric&&(this._mScale=Yt("div",d,g)),s.imperial&&(this._iScale=Yt("div",d,g))},_update:function(){var s=this._map,d=s.getSize().y/2,g=s.distance(s.containerPointToLatLng([0,d]),s.containerPointToLatLng([this.options.maxWidth,d]));this._updateScales(g)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var d=this._getRoundNum(s);this._updateScale(this._mScale,d<1e3?d+" m":d/1e3+" km",d/s)},_updateImperial:function(s){var g,D,O,d=3.2808399*s;d>5280?(D=this._getRoundNum(g=d/5280),this._updateScale(this._iScale,D+" mi",D/g)):(O=this._getRoundNum(d),this._updateScale(this._iScale,O+" ft",O/d))},_updateScale:function(s,d,g){s.style.width=Math.round(this.options.maxWidth*g)+"px",s.innerHTML=d},_getRoundNum:function(s){var d=Math.pow(10,(Math.floor(s)+"").length-1),g=s/d;return d*(g>=10?10:g>=5?5:g>=3?3:g>=2?2:1)}}),Wo=ho.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ue.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(s){ge(this,s),this._attributions={}},onAdd:function(s){for(var d in s.attributionControl=this,this._container=Yt("div","leaflet-control-attribution"),$t(this._container),s._layers)s._layers[d].getAttribution&&this.addAttribution(s._layers[d].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var d in this._attributions)this._attributions[d]&&s.push(d);var g=[];this.options.prefix&&g.push(this.options.prefix),s.length&&g.push(s.join(", ")),this._container.innerHTML=g.join(' <span aria-hidden="true">|</span> ')}}});Vt.mergeOptions({attributionControl:!0}),Vt.addInitHook(function(){this.options.attributionControl&&(new Wo).addTo(this)});ho.Layers=xi,ho.Zoom=ar,ho.Scale=_r,ho.Attribution=Wo,Mo.layers=function(s,d,g){return new xi(s,d,g)},Mo.zoom=function(s){return new ar(s)},Mo.scale=function(s){return new _r(s)},Mo.attribution=function(s){return new Wo(s)};var fo=He.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});fo.addTo=function(s,d){return s.addHandler(d,this),this};var ei={Events:Fe},ss=Ue.touch?"touchstart mousedown":"mousedown",Po=Bt.extend({options:{clickTolerance:3},initialize:function(s,d,g,D){ge(this,D),this._element=s,this._dragStartTarget=d||s,this._preventOutline=g},enable:function(){this._enabled||(en(this._dragStartTarget,ss,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Po._dragging===this&&this.finishDrag(!0),kn(this._dragStartTarget,ss,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!oo(this._element,"leaflet-zoom-anim"))){if(s.touches&&1!==s.touches.length)return void(Po._dragging===this&&this.finishDrag());if(!(Po._dragging||s.shiftKey||1!==s.which&&1!==s.button&&!s.touches||(Po._dragging=this,this._preventOutline&&No(this._element),Kn(),Pt(),this._moving))){this.fire("down");var d=s.touches?s.touches[0]:s,g=gr(this._element);this._startPoint=new ut(d.clientX,d.clientY),this._startPos=Je(this._element),this._parentScale=An(g);var D="mousedown"===s.type;en(document,D?"mousemove":"touchmove",this._onMove,this),en(document,D?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1)return void(this._moved=!0);var d=s.touches&&1===s.touches.length?s.touches[0]:s,g=new ut(d.clientX,d.clientY)._subtract(this._startPoint);!g.x&&!g.y||Math.abs(g.x)+Math.abs(g.y)<this.options.clickTolerance||(g.x/=this._parentScale.x,g.y/=this._parentScale.y,rn(s),this._moved||(this.fire("dragstart"),this._moved=!0,Dn(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Dn(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(g),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),ui(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){wn(document.body,"leaflet-dragging"),this._lastTarget&&(wn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),kn(document,"mousemove touchmove",this._onMove,this),kn(document,"mouseup touchend touchcancel",this._onUp,this),Xn(),Et();var d=this._moved&&this._moving;this._moving=!1,Po._dragging=!1,d&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function vr(s,d,g){var D,G,Te,Ke,lt,wt,jt,Sn,Hn,O=[1,4,2,8];for(G=0,jt=s.length;G<jt;G++)s[G]._code=Lo(s[G],d);for(Ke=0;Ke<4;Ke++){for(Sn=O[Ke],D=[],G=0,Te=(jt=s.length)-1;G<jt;Te=G++)wt=s[Te],(lt=s[G])._code&Sn?wt._code&Sn||((Hn=po(wt,lt,Sn,d,g))._code=Lo(Hn,d),D.push(Hn)):(wt._code&Sn&&((Hn=po(wt,lt,Sn,d,g))._code=Lo(Hn,d),D.push(Hn)),D.push(lt));s=D}return s}function so(s,d){var g,D,O,G,Te,Ke,lt,wt;if(!s||0===s.length)throw new Error("latlngs not passed");Bo(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Sn=Ae([0,0]),Hn=Se(s);Hn.getNorthWest().distanceTo(Hn.getSouthWest())*Hn.getNorthEast().distanceTo(Hn.getNorthWest())<1700&&(Sn=ao(s));var si=s.length,Ui=[];for(g=0;g<si;g++){var on=Ae(s[g]);Ui.push(d.project(Ae([on.lat-Sn.lat,on.lng-Sn.lng])))}for(Ke=lt=wt=0,g=0,D=si-1;g<si;D=g++)lt+=((O=Ui[g]).x+(G=Ui[D]).x)*(Te=O.y*G.x-G.y*O.x),wt+=(O.y+G.y)*Te,Ke+=3*Te;var es=d.unproject(Re(0===Ke?Ui[0]:[lt/Ke,wt/Ke]));return Ae([es.lat+Sn.lat,es.lng+Sn.lng])}function ao(s){for(var d=0,g=0,D=0,O=0;O<s.length;O++){var G=Ae(s[O]);d+=G.lat,g+=G.lng,D++}return Ae([d/D,g/D])}var lr,Ur={__proto__:null,clipPolygon:vr,polygonCenter:so,centroid:ao};function Ro(s,d){if(!d||!s.length)return s.slice();var g=d*d;return function Fo(s,d){var g=s.length,O=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(g);O[0]=O[g-1]=1,Ki(s,O,d,0,g-1);var G,Te=[];for(G=0;G<g;G++)O[G]&&Te.push(s[G]);return Te}(s=function cr(s,d){for(var g=[s[0]],D=1,O=0,G=s.length;D<G;D++)aa(s[D],s[O])>d&&(g.push(s[D]),O=D);return O<G-1&&g.push(s[G-1]),g}(s,g),g)}function co(s,d,g){return Math.sqrt(as(s,d,g,!0))}function Ki(s,d,g,D,O){var Te,Ke,lt,G=0;for(Ke=D+1;Ke<=O-1;Ke++)(lt=as(s[Ke],s[D],s[O],!0))>G&&(Te=Ke,G=lt);G>g&&(d[Te]=1,Ki(s,d,g,D,Te),Ki(s,d,g,Te,O))}function yr(s,d,g,D,O){var Ke,lt,wt,G=D?lr:Lo(s,g),Te=Lo(d,g);for(lr=Te;;){if(!(G|Te))return[s,d];if(G&Te)return!1;wt=Lo(lt=po(s,d,Ke=G||Te,g,O),g),Ke===G?(s=lt,G=wt):(d=lt,Te=wt)}}function po(s,d,g,D,O){var wt,jt,G=d.x-s.x,Te=d.y-s.y,Ke=D.min,lt=D.max;return 8&g?(wt=s.x+G*(lt.y-s.y)/Te,jt=lt.y):4&g?(wt=s.x+G*(Ke.y-s.y)/Te,jt=Ke.y):2&g?(wt=lt.x,jt=s.y+Te*(lt.x-s.x)/G):1&g&&(wt=Ke.x,jt=s.y+Te*(Ke.x-s.x)/G),new ut(wt,jt,O)}function Lo(s,d){var g=0;return s.x<d.min.x?g|=1:s.x>d.max.x&&(g|=2),s.y<d.min.y?g|=4:s.y>d.max.y&&(g|=8),g}function aa(s,d){var g=d.x-s.x,D=d.y-s.y;return g*g+D*D}function as(s,d,g,D){var wt,O=d.x,G=d.y,Te=g.x-O,Ke=g.y-G,lt=Te*Te+Ke*Ke;return lt>0&&((wt=((s.x-O)*Te+(s.y-G)*Ke)/lt)>1?(O=g.x,G=g.y):wt>0&&(O+=Te*wt,G+=Ke*wt)),Te=s.x-O,Ke=s.y-G,D?Te*Te+Ke*Ke:new ut(O,G)}function Bo(s){return!ee(s[0])||"object"!=typeof s[0][0]&&typeof s[0][0]<"u"}function Zr(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Bo(s)}function Rs(s,d){var g,D,O,G,Te,Ke,lt,wt;if(!s||0===s.length)throw new Error("latlngs not passed");Bo(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var jt=Ae([0,0]),Sn=Se(s);Sn.getNorthWest().distanceTo(Sn.getSouthWest())*Sn.getNorthEast().distanceTo(Sn.getNorthWest())<1700&&(jt=ao(s));var fi=s.length,si=[];for(g=0;g<fi;g++){var Ui=Ae(s[g]);si.push(d.project(Ae([Ui.lat-jt.lat,Ui.lng-jt.lng])))}for(g=0,D=0;g<fi-1;g++)D+=si[g].distanceTo(si[g+1])/2;if(0===D)wt=si[0];else for(g=0,G=0;g<fi-1;g++)if((G+=O=(Te=si[g]).distanceTo(Ke=si[g+1]))>D){wt=[Ke.x-(lt=(G-D)/O)*(Ke.x-Te.x),Ke.y-lt*(Ke.y-Te.y)];break}var on=d.unproject(Re(wt));return Ae([on.lat+jt.lat,on.lng+jt.lng])}var R={__proto__:null,simplify:Ro,pointToSegmentDistance:co,closestPointOnSegment:function ya(s,d,g){return as(s,d,g)},clipSegment:yr,_getEdgeIntersection:po,_getBitCode:Lo,_sqClosestPointOnSegment:as,isFlat:Bo,_flat:Zr,polylineCenter:Rs},B={project:function(s){return new ut(s.lng,s.lat)},unproject:function(s){return new we(s.y,s.x)},bounds:new ct([-180,-90],[180,90])},x={R:6378137,R_MINOR:6356752.314245179,bounds:new ct([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(s){var d=Math.PI/180,g=this.R,D=s.lat*d,O=this.R_MINOR/g,G=Math.sqrt(1-O*O),Te=G*Math.sin(D),Ke=Math.tan(Math.PI/4-D/2)/Math.pow((1-Te)/(1+Te),G/2);return D=-g*Math.log(Math.max(Ke,1e-10)),new ut(s.lng*d*g,D)},unproject:function(s){for(var wt,d=180/Math.PI,g=this.R,D=this.R_MINOR/g,O=Math.sqrt(1-D*D),G=Math.exp(-s.y/g),Te=Math.PI/2-2*Math.atan(G),Ke=0,lt=.1;Ke<15&&Math.abs(lt)>1e-7;Ke++)wt=O*Math.sin(Te),wt=Math.pow((1-wt)/(1+wt),O/2),Te+=lt=Math.PI/2-2*Math.atan(G*wt)-Te;return new we(Te*d,s.x*d/g)}},J={__proto__:null,LonLat:B,Mercator:x,SphericalMercator:pn},be=Q({},rt,{code:"EPSG:3395",projection:x,transformation:function(){var s=.5/(Math.PI*x.R);return ln(s,.5,-s,.5)}()}),hn=Q({},rt,{code:"EPSG:4326",projection:B,transformation:ln(1/180,1,-1/180,.5)}),Yn=Q({},Ye,{projection:B,transformation:ln(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,d){var g=d.lng-s.lng,D=d.lat-s.lat;return Math.sqrt(g*g+D*D)},infinite:!0});Ye.Earth=rt,Ye.EPSG3395=be,Ye.EPSG3857=zt,Ye.EPSG900913=xt,Ye.EPSG4326=hn,Ye.Simple=Yn;var Xi=Bt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[e(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[e(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var d=s.target;if(d.hasLayer(this)){if(this._map=d,this._zoomAnimated=d._zoomAnimated,this.getEvents){var g=this.getEvents();d.on(g,this),this.once("remove",function(){d.off(g,this)},this)}this.onAdd(d),this.fire("add"),d.fire("layeradd",{layer:this})}}});Vt.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var d=e(s);return this._layers[d]||(this._layers[d]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s)),this},removeLayer:function(s){var d=e(s);return this._layers[d]?(this._loaded&&s.onRemove(this),delete this._layers[d],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return e(s)in this._layers},eachLayer:function(s,d){for(var g in this._layers)s.call(d,this._layers[g]);return this},_addLayers:function(s){for(var d=0,g=(s=s?ee(s)?s:[s]:[]).length;d<g;d++)this.addLayer(s[d])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[e(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var d=e(s);this._zoomBoundLayers[d]&&(delete this._zoomBoundLayers[d],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,d=-1/0,g=this._getZoomSpan();for(var D in this._zoomBoundLayers){var O=this._zoomBoundLayers[D].options;s=void 0===O.minZoom?s:Math.min(s,O.minZoom),d=void 0===O.maxZoom?d:Math.max(d,O.maxZoom)}this._layersMaxZoom=d===-1/0?void 0:d,this._layersMinZoom=s===1/0?void 0:s,g!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Jo=Xi.extend({initialize:function(s,d){var g,D;if(ge(this,d),this._layers={},s)for(g=0,D=s.length;g<D;g++)this.addLayer(s[g])},addLayer:function(s){var d=this.getLayerId(s);return this._layers[d]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var d=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[d]&&this._map.removeLayer(this._layers[d]),delete this._layers[d],this},hasLayer:function(s){return("number"==typeof s?s:this.getLayerId(s))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var g,D,d=Array.prototype.slice.call(arguments,1);for(g in this._layers)(D=this._layers[g])[s]&&D[s].apply(D,d);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,d){for(var g in this._layers)s.call(d,this._layers[g]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return e(s)}}),Or=Jo.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Jo.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Jo.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new he;for(var d in this._layers){var g=this._layers[d];s.extend(g.getBounds?g.getBounds():g.getLatLng())}return s}}),Hr=He.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){ge(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,d){var g=this._getIconUrl(s);if(!g){if("icon"===s)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var D=this._createImg(g,d&&"IMG"===d.tagName?d:null);return this._setIconStyles(D,s),(this.options.crossOrigin||""===this.options.crossOrigin)&&(D.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),D},_setIconStyles:function(s,d){var g=this.options,D=g[d+"Size"];"number"==typeof D&&(D=[D,D]);var O=Re(D),G=Re("shadow"===d&&g.shadowAnchor||g.iconAnchor||O&&O.divideBy(2,!0));s.className="leaflet-marker-"+d+" "+(g.className||""),G&&(s.style.marginLeft=-G.x+"px",s.style.marginTop=-G.y+"px"),O&&(s.style.width=O.x+"px",s.style.height=O.y+"px")},_createImg:function(s,d){return(d=d||document.createElement("img")).src=s,d},_getIconUrl:function(s){return Ue.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});var Fs=Hr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return"string"!=typeof Fs.imagePath&&(Fs.imagePath=this._detectIconPath()),(this.options.imagePath||Fs.imagePath)+Hr.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var d=function(g,D,O){var G=D.exec(g);return G&&G[O]};return(s=d(s,/^url\((['"])?(.+)\1\)$/,2))&&d(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=Yt("div","leaflet-default-icon-path",document.body),d=Ii(s,"background-image")||Ii(s,"backgroundImage");if(document.body.removeChild(s),d=this._stripUrl(d))return d;var g=document.querySelector('link[href$="leaflet.css"]');return g?g.href.substring(0,g.href.length-11-1):""}}),ba=fo.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new Po(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Dn(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&wn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var d=this._marker,g=d._map,D=this._marker.options.autoPanSpeed,O=this._marker.options.autoPanPadding,G=Je(d._icon),Te=g.getPixelBounds(),Ke=g.getPixelOrigin(),lt=ce(Te.min._subtract(Ke).add(O),Te.max._subtract(Ke).subtract(O));if(!lt.contains(G)){var wt=Re((Math.max(lt.max.x,G.x)-lt.max.x)/(Te.max.x-lt.max.x)-(Math.min(lt.min.x,G.x)-lt.min.x)/(Te.min.x-lt.min.x),(Math.max(lt.max.y,G.y)-lt.max.y)/(Te.max.y-lt.max.y)-(Math.min(lt.min.y,G.y)-lt.min.y)/(Te.min.y-lt.min.y)).multiplyBy(D);g.panBy(wt,{animate:!1}),this._draggable._newPos._add(wt),this._draggable._startPos._add(wt),ui(d._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=Oe(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(Pe(this._panRequest),this._panRequest=Oe(this._adjustPan.bind(this,s)))},_onDrag:function(s){var d=this._marker,g=d._shadow,D=Je(d._icon),O=d._map.layerPointToLatLng(D);g&&ui(g,D),d._latlng=O,s.latlng=O,s.oldLatLng=this._oldLatLng,d.fire("move",s).fire("drag",s)},_onDragEnd:function(s){Pe(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),cs=Xi.extend({options:{icon:new Fs,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,d){ge(this,d),this._latlng=Ae(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var d=this._latlng;return this._latlng=Ae(s),this.update(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,d="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),g=s.icon.createIcon(this._icon),D=!1;g!==this._icon&&(this._icon&&this._removeIcon(),D=!0,s.title&&(g.title=s.title),"IMG"===g.tagName&&(g.alt=s.alt||"")),Dn(g,d),s.keyboard&&(g.tabIndex="0",g.setAttribute("role","button")),this._icon=g,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&en(g,"focus",this._panOnFocus,this);var O=s.icon.createShadow(this._shadow),G=!1;O!==this._shadow&&(this._removeShadow(),G=!0),O&&(Dn(O,d),O.alt=""),this._shadow=O,s.opacity<1&&this._updateOpacity(),D&&this.getPane().appendChild(this._icon),this._initInteraction(),O&&G&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&kn(this._icon,"focus",this._panOnFocus,this),Cn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Cn(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&ui(this._icon,s),this._shadow&&ui(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var d=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(d)},_initInteraction:function(){if(this.options.interactive&&(Dn(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ba)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ba(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Yi(this._icon,s),this._shadow&&Yi(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var d=this.options.icon.options,g=d.iconSize?Re(d.iconSize):Re(0,0),D=d.iconAnchor?Re(d.iconAnchor):Re(0,0);s.panInside(this._latlng,{paddingTopLeft:D,paddingBottomRight:g.subtract(D)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var So=Xi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return ge(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Jr=So.extend({options:{fill:!0,radius:10},initialize:function(s,d){ge(this,d),this._latlng=Ae(s),this._radius=this.options.radius},setLatLng:function(s){var d=this._latlng;return this._latlng=Ae(s),this.redraw(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var d=s&&s.radius||this._radius;return So.prototype.setStyle.call(this,s),this.setRadius(d),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,d=this._radiusY||s,g=this._clickTolerance(),D=[s+g,d+g];this._pxBounds=new ct(this._point.subtract(D),this._point.add(D))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var qi=Jr.extend({initialize:function(s,d,g){if("number"==typeof d&&(d=Q({},g,{radius:d})),ge(this,d),this._latlng=Ae(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new he(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:So.prototype.setStyle,_project:function(){var s=this._latlng.lng,d=this._latlng.lat,g=this._map,D=g.options.crs;if(D.distance===rt.distance){var O=Math.PI/180,G=this._mRadius/rt.R/O,Te=g.project([d+G,s]),Ke=g.project([d-G,s]),lt=Te.add(Ke).divideBy(2),wt=g.unproject(lt).lat,jt=Math.acos((Math.cos(G*O)-Math.sin(d*O)*Math.sin(wt*O))/(Math.cos(d*O)*Math.cos(wt*O)))/O;(isNaN(jt)||0===jt)&&(jt=G/Math.cos(Math.PI/180*d)),this._point=lt.subtract(g.getPixelOrigin()),this._radius=isNaN(jt)?0:lt.x-g.project([wt,s-jt]).x,this._radiusY=lt.y-Te.y}else{var Sn=D.unproject(D.project(this._latlng).subtract([this._mRadius,0]));this._point=g.latLngToLayerPoint(this._latlng),this._radius=this._point.x-g.latLngToLayerPoint(Sn).x}this._updateBounds()}});var Mi=So.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,d){ge(this,d),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var O,G,d=1/0,g=null,D=as,Te=0,Ke=this._parts.length;Te<Ke;Te++)for(var lt=this._parts[Te],wt=1,jt=lt.length;wt<jt;wt++){var Sn=D(s,O=lt[wt-1],G=lt[wt],!0);Sn<d&&(d=Sn,g=D(s,O,G))}return g&&(g.distance=Math.sqrt(d)),g},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Rs(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,d){return d=d||this._defaultShape(),s=Ae(s),d.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new he,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return Bo(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var d=[],g=Bo(s),D=0,O=s.length;D<O;D++)g?(d[D]=Ae(s[D]),this._bounds.extend(d[D])):d[D]=this._convertLatLngs(s[D]);return d},_project:function(){var s=new ct;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),d=new ut(s,s);this._rawPxBounds&&(this._pxBounds=new ct([this._rawPxBounds.min.subtract(d),this._rawPxBounds.max.add(d)]))},_projectLatlngs:function(s,d,g){var G,Te,O=s.length;if(s[0]instanceof we){for(Te=[],G=0;G<O;G++)Te[G]=this._map.latLngToLayerPoint(s[G]),g.extend(Te[G]);d.push(Te)}else for(G=0;G<O;G++)this._projectLatlngs(s[G],d,g)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(s)){if(this.options.noClip)return void(this._parts=this._rings);var g,D,O,G,Te,Ke,lt,d=this._parts;for(g=0,O=0,G=this._rings.length;g<G;g++)for(D=0,Te=(lt=this._rings[g]).length;D<Te-1;D++)(Ke=yr(lt[D],lt[D+1],s,D,!0))&&(d[O]=d[O]||[],d[O].push(Ke[0]),(Ke[1]!==lt[D+1]||D===Te-2)&&(d[O].push(Ke[1]),O++))}},_simplifyPoints:function(){for(var s=this._parts,d=this.options.smoothFactor,g=0,D=s.length;g<D;g++)s[g]=Ro(s[g],d)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,d){var g,D,O,G,Te,Ke,lt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(g=0,G=this._parts.length;g<G;g++)for(D=0,O=(Te=(Ke=this._parts[g]).length)-1;D<Te;O=D++)if((d||0!==D)&&co(s,Ke[O],Ke[D])<=lt)return!0;return!1}});Mi._flat=Zr;var Qr=Mi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return so(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var d=Mi.prototype._convertLatLngs.call(this,s),g=d.length;return g>=2&&d[0]instanceof we&&d[0].equals(d[g-1])&&d.pop(),d},_setLatLngs:function(s){Mi.prototype._setLatLngs.call(this,s),Bo(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Bo(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,d=this.options.weight,g=new ut(d,d);if(s=new ct(s.min.subtract(g),s.max.add(g)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(s)){if(this.options.noClip)return void(this._parts=this._rings);for(var G,D=0,O=this._rings.length;D<O;D++)(G=vr(this._rings[D],s,!0)).length&&this._parts.push(G)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var g,D,O,G,Te,Ke,lt,wt,d=!1;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(G=0,lt=this._parts.length;G<lt;G++)for(Te=0,Ke=(wt=(g=this._parts[G]).length)-1;Te<wt;Ke=Te++)(D=g[Te]).y>s.y!=(O=g[Ke]).y>s.y&&s.x<(O.x-D.x)*(s.y-D.y)/(O.y-D.y)+D.x&&(d=!d);return d||Mi.prototype._containsPoint.call(this,s,!0)}});var ur=Or.extend({initialize:function(s,d){ge(this,d),this._layers={},s&&this.addData(s)},addData:function(s){var g,D,O,d=ee(s)?s:s.features;if(d){for(g=0,D=d.length;g<D;g++)((O=d[g]).geometries||O.geometry||O.features||O.coordinates)&&this.addData(O);return this}var G=this.options;if(G.filter&&!G.filter(s))return this;var Te=br(s,G);return Te?(Te.feature=$r(s),Te.defaultOptions=Te.options,this.resetStyle(Te),G.onEachFeature&&G.onEachFeature(s,Te),this.addLayer(Te)):this},resetStyle:function(s){return void 0===s?this.eachLayer(this.resetStyle,this):(s.options=Q({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(d){this._setLayerStyle(d,s)},this)},_setLayerStyle:function(s,d){s.setStyle&&("function"==typeof d&&(d=d(s.feature)),s.setStyle(d))}});function br(s,d){var Ke,lt,wt,jt,g="Feature"===s.type?s.geometry:s,D=g?g.coordinates:null,O=[],G=d&&d.pointToLayer,Te=d&&d.coordsToLatLng||Kr;if(!D&&!g)return null;switch(g.type){case"Point":return Vr(G,s,Ke=Te(D),d);case"MultiPoint":for(wt=0,jt=D.length;wt<jt;wt++)Ke=Te(D[wt]),O.push(Vr(G,s,Ke,d));return new Or(O);case"LineString":case"MultiLineString":return lt=zr(D,"LineString"===g.type?0:1,Te),new Mi(lt,d);case"Polygon":case"MultiPolygon":return lt=zr(D,"Polygon"===g.type?1:2,Te),new Qr(lt,d);case"GeometryCollection":for(wt=0,jt=g.geometries.length;wt<jt;wt++){var Sn=br({geometry:g.geometries[wt],type:"Feature",properties:s.properties},d);Sn&&O.push(Sn)}return new Or(O);case"FeatureCollection":for(wt=0,jt=g.features.length;wt<jt;wt++){var Hn=br(g.features[wt],d);Hn&&O.push(Hn)}return new Or(O);default:throw new Error("Invalid GeoJSON object.")}}function Vr(s,d,g,D){return s?s(d,g):new cs(g,D&&D.markersInheritOptions&&D)}function Kr(s){return new we(s[1],s[0],s[2])}function zr(s,d,g){for(var Te,D=[],O=0,G=s.length;O<G;O++)Te=d?zr(s[O],d-1,g):(g||Kr)(s[O]),D.push(Te);return D}function ls(s,d){return void 0!==(s=Ae(s)).alt?[re(s.lng,d),re(s.lat,d),re(s.alt,d)]:[re(s.lng,d),re(s.lat,d)]}function us(s,d,g,D){for(var O=[],G=0,Te=s.length;G<Te;G++)O.push(d?us(s[G],Bo(s[G])?0:d-1,g,D):ls(s[G],D));return!d&&g&&O.length>0&&O.push(O[0].slice()),O}function Nr(s,d){return s.feature?Q({},s.feature,{geometry:d}):$r(d)}function $r(s){return"Feature"===s.type||"FeatureCollection"===s.type?s:{type:"Feature",properties:{},geometry:s}}var nr={toGeoJSON:function(s){return Nr(this,{type:"Point",coordinates:ls(this.getLatLng(),s)})}};function Cr(s,d){return new ur(s,d)}cs.include(nr),qi.include(nr),Jr.include(nr),Mi.include({toGeoJSON:function(s){var d=!Bo(this._latlngs);return Nr(this,{type:(d?"Multi":"")+"LineString",coordinates:us(this._latlngs,d?1:0,!1,s)})}}),Qr.include({toGeoJSON:function(s){var d=!Bo(this._latlngs),g=d&&!Bo(this._latlngs[0]),D=us(this._latlngs,g?2:d?1:0,!0,s);return d||(D=[D]),Nr(this,{type:(g?"Multi":"")+"Polygon",coordinates:D})}}),Jo.include({toMultiPoint:function(s){var d=[];return this.eachLayer(function(g){d.push(g.toGeoJSON(s).geometry.coordinates)}),Nr(this,{type:"MultiPoint",coordinates:d})},toGeoJSON:function(s){var d=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===d)return this.toMultiPoint(s);var g="GeometryCollection"===d,D=[];return this.eachLayer(function(O){if(O.toGeoJSON){var G=O.toGeoJSON(s);if(g)D.push(G.geometry);else{var Te=$r(G);"FeatureCollection"===Te.type?D.push.apply(D,Te.features):D.push(Te)}}}),g?Nr(this,{geometries:D,type:"GeometryCollection"}):{type:"FeatureCollection",features:D}}});var Ls=Cr,Gr=Xi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,d,g){this._url=s,this._bounds=Se(d),ge(this,g)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Dn(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Cn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Si(this._image),this},bringToBack:function(){return this._map&&vi(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=Se(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s="IMG"===this._url.tagName,d=this._image=s?this._url:Yt("img");Dn(d,"leaflet-image-layer"),this._zoomAnimated&&Dn(d,"leaflet-zoom-animated"),this.options.className&&Dn(d,this.options.className),d.onselectstart=oe,d.onmousemove=oe,d.onload=te(this.fire,this,"load"),d.onerror=te(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(d.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s?this._url=d.src:(d.src=this._url,d.alt=this.options.alt)},_animateZoom:function(s){var d=this._map.getZoomScale(s.zoom),g=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;jo(this._image,g,d)},_reset:function(){var s=this._image,d=new ct(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),g=d.getSize();ui(s,d.min),s.style.width=g.x+"px",s.style.height=g.y+"px"},_updateOpacity:function(){Yi(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),Ca=Gr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s="VIDEO"===this._url.tagName,d=this._image=s?this._url:Yt("video");if(Dn(d,"leaflet-image-layer"),this._zoomAnimated&&Dn(d,"leaflet-zoom-animated"),this.options.className&&Dn(d,this.options.className),d.onselectstart=oe,d.onmousemove=oe,d.onloadeddata=te(this.fire,this,"load"),s){for(var g=d.getElementsByTagName("source"),D=[],O=0;O<g.length;O++)D.push(g[O].src);this._url=g.length>0?D:[d.src]}else{ee(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(d.style,"objectFit")&&(d.style.objectFit="fill"),d.autoplay=!!this.options.autoplay,d.loop=!!this.options.loop,d.muted=!!this.options.muted,d.playsInline=!!this.options.playsInline;for(var G=0;G<this._url.length;G++){var Te=Yt("source");Te.src=this._url[G],d.appendChild(Te)}}}});var Ws=Gr.extend({_initImage:function(){var s=this._image=this._url;Dn(s,"leaflet-image-layer"),this._zoomAnimated&&Dn(s,"leaflet-zoom-animated"),this.options.className&&Dn(s,this.options.className),s.onselectstart=oe,s.onmousemove=oe}});var ir=Xi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,d){s&&(s instanceof we||ee(s))?(this._latlng=Ae(s),ge(this,d)):(ge(this,s),this._source=d),this.options.content&&(this._content=this.options.content)},openOn:function(s){return(s=arguments.length?s:this._source._map).hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Yi(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Yi(this._container,1),this.bringToFront(),this.options.interactive&&(Dn(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Yi(this._container,0),this._removeTimeout=setTimeout(te(Cn,void 0,this._container),200)):Cn(this._container),this.options.interactive&&(wn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=Ae(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Si(this._container),this},bringToBack:function(){return this._map&&vi(this._container),this},_prepareOpen:function(s){var d=this._source;if(!d._map)return!1;if(d instanceof Or){d=null;var g=this._source._layers;for(var D in g)if(g[D]._map){d=g[D];break}if(!d)return!1;this._source=d}if(!s)if(d.getCenter)s=d.getCenter();else if(d.getLatLng)s=d.getLatLng();else{if(!d.getBounds)throw new Error("Unable to get source layer LatLng.");s=d.getBounds().getCenter()}return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,d="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof d)s.innerHTML=d;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(d)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),d=Re(this.options.offset),g=this._getAnchor();this._zoomAnimated?ui(this._container,s.add(g)):d=d.add(s).add(g);var D=this._containerBottom=-d.y,O=this._containerLeft=-Math.round(this._containerWidth/2)+d.x;this._container.style.bottom=D+"px",this._container.style.left=O+"px"}},_getAnchor:function(){return[0,0]}});Vt.include({_initOverlay:function(s,d,g,D){var O=d;return O instanceof s||(O=new s(D).setContent(d)),g&&O.setLatLng(g),O}}),Xi.include({_initOverlay:function(s,d,g,D){var O=g;return O instanceof s?(ge(O,D),O._source=this):(O=d&&!D?d:new s(D,this)).setContent(g),O}});var Xr=ir.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return!(s=arguments.length?s:this._source._map).hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,ir.prototype.openOn.call(this,s)},onAdd:function(s){ir.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof So||this._source.on("preclick",er))},onRemove:function(s){ir.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof So||this._source.off("preclick",er))},getEvents:function(){var s=ir.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",d=this._container=Yt("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),g=this._wrapper=Yt("div",s+"-content-wrapper",d);if(this._contentNode=Yt("div",s+"-content",g),$t(d),di(this._contentNode),en(d,"contextmenu",er),this._tipContainer=Yt("div",s+"-tip-container",d),this._tip=Yt("div",s+"-tip",this._tipContainer),this.options.closeButton){var D=this._closeButton=Yt("a",s+"-close-button",d);D.setAttribute("role","button"),D.setAttribute("aria-label","Close popup"),D.href="#close",D.innerHTML='<span aria-hidden="true">&#215;</span>',en(D,"click",function(O){rn(O),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,d=s.style;d.width="",d.whiteSpace="nowrap";var g=s.offsetWidth;g=Math.min(g,this.options.maxWidth),g=Math.max(g,this.options.minWidth),d.width=g+1+"px",d.whiteSpace="",d.height="";var O=this.options.maxHeight,G="leaflet-popup-scrolled";O&&s.offsetHeight>O?(d.height=O+"px",Dn(s,G)):wn(s,G),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var d=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),g=this._getAnchor();ui(this._container,d.add(g))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)return void(this._autopanning=!1);var s=this._map,d=parseInt(Ii(this._container,"marginBottom"),10)||0,g=this._container.offsetHeight+d,D=this._containerWidth,O=new ut(this._containerLeft,-g-this._containerBottom);O._add(Je(this._container));var G=s.layerPointToContainerPoint(O),Te=Re(this.options.autoPanPadding),Ke=Re(this.options.autoPanPaddingTopLeft||Te),lt=Re(this.options.autoPanPaddingBottomRight||Te),wt=s.getSize(),jt=0,Sn=0;G.x+D+lt.x>wt.x&&(jt=G.x+D-wt.x+lt.x),G.x-jt-Ke.x<0&&(jt=G.x-Ke.x),G.y+g+lt.y>wt.y&&(Sn=G.y+g-wt.y+lt.y),G.y-Sn-Ke.y<0&&(Sn=G.y-Ke.y),(jt||Sn)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([jt,Sn]))}},_getAnchor:function(){return Re(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Vt.mergeOptions({closePopupOnClick:!0}),Vt.include({openPopup:function(s,d,g){return this._initOverlay(Xr,s,d,g).openOn(this),this},closePopup:function(s){return(s=arguments.length?s:this._popup)&&s.close(),this}}),Xi.include({bindPopup:function(s,d){return this._popup=this._initOverlay(Xr,this._popup,s,d),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Or||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(this._popup&&this._map){ci(s);var d=s.layer||s.target;if(this._popup._source===d&&!(d instanceof So))return void(this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng));this._popup._source=d,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){13===s.originalEvent.keyCode&&this._openPopup(s)}});var ds=ir.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){ir.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){ir.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=ir.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){this._contentNode=this._container=Yt("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide")),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+e(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var d,g,D=this._map,O=this._container,G=D.latLngToContainerPoint(D.getCenter()),Te=D.layerPointToContainerPoint(s),Ke=this.options.direction,lt=O.offsetWidth,wt=O.offsetHeight,jt=Re(this.options.offset),Sn=this._getAnchor();"top"===Ke?(d=lt/2,g=wt):"bottom"===Ke?(d=lt/2,g=0):"center"===Ke?(d=lt/2,g=wt/2):"right"===Ke?(d=0,g=wt/2):"left"===Ke?(d=lt,g=wt/2):Te.x<G.x?(Ke="right",d=0,g=wt/2):(Ke="left",d=lt+2*(jt.x+Sn.x),g=wt/2),s=s.subtract(Re(d,g,!0)).add(jt).add(Sn),wn(O,"leaflet-tooltip-right"),wn(O,"leaflet-tooltip-left"),wn(O,"leaflet-tooltip-top"),wn(O,"leaflet-tooltip-bottom"),Dn(O,"leaflet-tooltip-"+Ke),ui(O,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Yi(this._container,s)},_animateZoom:function(s){var d=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(d)},_getAnchor:function(){return Re(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Vt.include({openTooltip:function(s,d,g){return this._initOverlay(ds,s,d,g).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),Xi.include({bindTooltip:function(s,d){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ds,this._tooltip,s,d),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(s||!this._tooltipHandlersAdded){var d=s?"off":"on",g={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?g.add=this._openTooltip:(g.mouseover=this._openTooltip,g.mouseout=this.closeTooltip,g.click=this._openTooltip,this._map?this._addFocusListeners():g.add=this._addFocusListeners),this._tooltip.options.sticky&&(g.mousemove=this._moveTooltip),this[d](g),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Or||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var d="function"==typeof s.getElement&&s.getElement();d&&(en(d,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),en(d,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var d="function"==typeof s.getElement&&s.getElement();d&&d.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(this._tooltip&&this._map){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var d=this;return void this._map.once("moveend",function(){d._openOnceFlag=!1,d._openTooltip(s)})}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var g,D,d=s.latlng;this._tooltip.options.sticky&&s.originalEvent&&(g=this._map.mouseEventToContainerPoint(s.originalEvent),D=this._map.containerPointToLayerPoint(g),d=this._map.layerPointToLatLng(D)),this._tooltip.setLatLng(d)}});var wa=Hr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var d=s&&"DIV"===s.tagName?s:document.createElement("div"),g=this.options;if(g.html instanceof Element?(Ai(d),d.appendChild(g.html)):d.innerHTML=!1!==g.html?g.html:"",g.bgPos){var D=Re(g.bgPos);d.style.backgroundPosition=-D.x+"px "+-D.y+"px"}return this._setIconStyles(d,"icon"),d},createShadow:function(){return null}});Hr.Default=Fs;var hs=Xi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ue.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){ge(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),Cn(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Si(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(vi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=K(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof ut?s:new ut(s,s)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var G,d=this.getPane().children,g=-s(-1/0,1/0),D=0,O=d.length;D<O;D++)G=d[D].style.zIndex,d[D]!==this._container&&G&&(g=s(g,+G));isFinite(g)&&(this.options.zIndex=g+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ue.ielt9){Yi(this._container,this.options.opacity);var s=+new Date,d=!1,g=!1;for(var D in this._tiles){var O=this._tiles[D];if(O.current&&O.loaded){var G=Math.min(1,(s-O.loaded)/200);Yi(O.el,G),G<1?d=!0:(O.active?g=!0:this._onOpaqueTile(O),O.active=!0)}}g&&!this._noPrune&&this._pruneTiles(),d&&(Pe(this._fadeFrame),this._fadeFrame=Oe(this._updateOpacity,this))}},_onOpaqueTile:oe,_initContainer:function(){this._container||(this._container=Yt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,d=this.options.maxZoom;if(void 0!==s){for(var g in this._levels)g=Number(g),this._levels[g].el.children.length||g===s?(this._levels[g].el.style.zIndex=d-Math.abs(s-g),this._onUpdateLevel(g)):(Cn(this._levels[g].el),this._removeTilesAtZoom(g),this._onRemoveLevel(g),delete this._levels[g]);var D=this._levels[s],O=this._map;return D||((D=this._levels[s]={}).el=Yt("div","leaflet-tile-container leaflet-zoom-animated",this._container),D.el.style.zIndex=d,D.origin=O.project(O.unproject(O.getPixelOrigin()),s).round(),D.zoom=s,this._setZoomTransform(D,O.getCenter(),O.getZoom()),this._onCreateLevel(D)),this._level=D,D}},_onUpdateLevel:oe,_onRemoveLevel:oe,_onCreateLevel:oe,_pruneTiles:function(){if(this._map){var s,d,g=this._map.getZoom();if(g>this.options.maxZoom||g<this.options.minZoom)return void this._removeAllTiles();for(s in this._tiles)(d=this._tiles[s]).retain=d.current;for(s in this._tiles)if((d=this._tiles[s]).current&&!d.active){var D=d.coords;this._retainParent(D.x,D.y,D.z,D.z-5)||this._retainChildren(D.x,D.y,D.z,D.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var d in this._tiles)this._tiles[d].coords.z===s&&this._removeTile(d)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)Cn(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,d,g,D){var O=Math.floor(s/2),G=Math.floor(d/2),Te=g-1,Ke=new ut(+O,+G);Ke.z=+Te;var lt=this._tileCoordsToKey(Ke),wt=this._tiles[lt];return wt&&wt.active?(wt.retain=!0,!0):(wt&&wt.loaded&&(wt.retain=!0),Te>D&&this._retainParent(O,G,Te,D))},_retainChildren:function(s,d,g,D){for(var O=2*s;O<2*s+2;O++)for(var G=2*d;G<2*d+2;G++){var Te=new ut(O,G);Te.z=g+1;var Ke=this._tileCoordsToKey(Te),lt=this._tiles[Ke];lt&&lt.active?lt.retain=!0:(lt&&lt.loaded&&(lt.retain=!0),g+1<D&&this._retainChildren(O,G,g+1,D))}},_resetView:function(s){var d=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),d,d)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var d=this.options;return void 0!==d.minNativeZoom&&s<d.minNativeZoom?d.minNativeZoom:void 0!==d.maxNativeZoom&&d.maxNativeZoom<s?d.maxNativeZoom:s},_setView:function(s,d,g,D){var O=Math.round(d);O=void 0!==this.options.maxZoom&&O>this.options.maxZoom||void 0!==this.options.minZoom&&O<this.options.minZoom?void 0:this._clampZoom(O),(!D||this.options.updateWhenZooming&&O!==this._tileZoom)&&(this._tileZoom=O,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==O&&this._update(s),g||this._pruneTiles(),this._noPrune=!!g),this._setZoomTransforms(s,d)},_setZoomTransforms:function(s,d){for(var g in this._levels)this._setZoomTransform(this._levels[g],s,d)},_setZoomTransform:function(s,d,g){var D=this._map.getZoomScale(g,s.zoom),O=s.origin.multiplyBy(D).subtract(this._map._getNewPixelOrigin(d,g)).round();Ue.any3d?jo(s.el,O,D):ui(s.el,O)},_resetGrid:function(){var s=this._map,d=s.options.crs,g=this._tileSize=this.getTileSize(),D=this._tileZoom,O=this._map.getPixelWorldBounds(this._tileZoom);O&&(this._globalTileRange=this._pxBoundsToTileRange(O)),this._wrapX=d.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,d.wrapLng[0]],D).x/g.x),Math.ceil(s.project([0,d.wrapLng[1]],D).x/g.y)],this._wrapY=d.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([d.wrapLat[0],0],D).y/g.x),Math.ceil(s.project([d.wrapLat[1],0],D).y/g.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var d=this._map,g=d._animatingZoom?Math.max(d._animateToZoom,d.getZoom()):d.getZoom(),D=d.getZoomScale(g,this._tileZoom),O=d.project(s,this._tileZoom).floor(),G=d.getSize().divideBy(2*D);return new ct(O.subtract(G),O.add(G))},_update:function(s){var d=this._map;if(d){var g=this._clampZoom(d.getZoom());if(void 0===s&&(s=d.getCenter()),void 0!==this._tileZoom){var D=this._getTiledPixelBounds(s),O=this._pxBoundsToTileRange(D),G=O.getCenter(),Te=[],Ke=this.options.keepBuffer,lt=new ct(O.getBottomLeft().subtract([Ke,-Ke]),O.getTopRight().add([Ke,-Ke]));if(!(isFinite(O.min.x)&&isFinite(O.min.y)&&isFinite(O.max.x)&&isFinite(O.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var wt in this._tiles){var jt=this._tiles[wt].coords;(jt.z!==this._tileZoom||!lt.contains(new ut(jt.x,jt.y)))&&(this._tiles[wt].current=!1)}if(Math.abs(g-this._tileZoom)>1)return void this._setView(s,g);for(var Sn=O.min.y;Sn<=O.max.y;Sn++)for(var Hn=O.min.x;Hn<=O.max.x;Hn++){var fi=new ut(Hn,Sn);if(fi.z=this._tileZoom,this._isValidTile(fi)){var si=this._tiles[this._tileCoordsToKey(fi)];si?si.current=!0:Te.push(fi)}}if(Te.sort(function(on,es){return on.distanceTo(G)-es.distanceTo(G)}),0!==Te.length){this._loading||(this._loading=!0,this.fire("loading"));var Ui=document.createDocumentFragment();for(Hn=0;Hn<Te.length;Hn++)this._addTile(Te[Hn],Ui);this._level.el.appendChild(Ui)}}}},_isValidTile:function(s){var d=this._map.options.crs;if(!d.infinite){var g=this._globalTileRange;if(!d.wrapLng&&(s.x<g.min.x||s.x>g.max.x)||!d.wrapLat&&(s.y<g.min.y||s.y>g.max.y))return!1}if(!this.options.bounds)return!0;var D=this._tileCoordsToBounds(s);return Se(this.options.bounds).overlaps(D)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var d=this._map,g=this.getTileSize(),D=s.scaleBy(g),O=D.add(g);return[d.unproject(D,s.z),d.unproject(O,s.z)]},_tileCoordsToBounds:function(s){var d=this._tileCoordsToNwSe(s),g=new he(d[0],d[1]);return this.options.noWrap||(g=this._map.wrapLatLngBounds(g)),g},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var d=s.split(":"),g=new ut(+d[0],+d[1]);return g.z=+d[2],g},_removeTile:function(s){var d=this._tiles[s];d&&(Cn(d.el),delete this._tiles[s],this.fire("tileunload",{tile:d.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){Dn(s,"leaflet-tile");var d=this.getTileSize();s.style.width=d.x+"px",s.style.height=d.y+"px",s.onselectstart=oe,s.onmousemove=oe,Ue.ielt9&&this.options.opacity<1&&Yi(s,this.options.opacity)},_addTile:function(s,d){var g=this._getTilePos(s),D=this._tileCoordsToKey(s),O=this.createTile(this._wrapCoords(s),te(this._tileReady,this,s));this._initTile(O),this.createTile.length<2&&Oe(te(this._tileReady,this,s,null,O)),ui(O,g),this._tiles[D]={el:O,coords:s,current:!0},d.appendChild(O),this.fire("tileloadstart",{tile:O,coords:s})},_tileReady:function(s,d,g){d&&this.fire("tileerror",{error:d,tile:g,coords:s});var D=this._tileCoordsToKey(s);(g=this._tiles[D])&&(g.loaded=+new Date,this._map._fadeAnimated?(Yi(g.el,0),Pe(this._fadeFrame),this._fadeFrame=Oe(this._updateOpacity,this)):(g.active=!0,this._pruneTiles()),d||(Dn(g.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:g.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ue.ielt9||!this._map._fadeAnimated?Oe(this._pruneTiles,this):setTimeout(te(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var d=new ut(this._wrapX?Le(s.x,this._wrapX):s.x,this._wrapY?Le(s.y,this._wrapY):s.y);return d.z=s.z,d},_pxBoundsToTileRange:function(s){var d=this.getTileSize();return new ct(s.min.unscaleBy(d).floor(),s.max.unscaleBy(d).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});var j=hs.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,d){this._url=s,(d=ge(this,d)).detectRetina&&Ue.retina&&d.maxZoom>0?(d.tileSize=Math.floor(d.tileSize/2),d.zoomReverse?(d.zoomOffset--,d.minZoom=Math.min(d.maxZoom,d.minZoom+1)):(d.zoomOffset++,d.maxZoom=Math.max(d.minZoom,d.maxZoom-1)),d.minZoom=Math.max(0,d.minZoom)):d.zoomReverse?d.minZoom=Math.min(d.maxZoom,d.minZoom):d.maxZoom=Math.max(d.minZoom,d.maxZoom),"string"==typeof d.subdomains&&(d.subdomains=d.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,d){return this._url===s&&void 0===d&&(d=!0),this._url=s,d||this.redraw(),this},createTile:function(s,d){var g=document.createElement("img");return en(g,"load",te(this._tileOnLoad,this,d,g)),en(g,"error",te(this._tileOnError,this,d,g)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(g.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(g.referrerPolicy=this.options.referrerPolicy),g.alt="",g.src=this.getTileUrl(s),g},getTileUrl:function(s){var d={r:Ue.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var g=this._globalTileRange.max.y-s.y;this.options.tms&&(d.y=g),d["-y"]=g}return ze(this._url,Q(d,this.options))},_tileOnLoad:function(s,d){Ue.ielt9?setTimeout(te(s,this,null,d),0):s(null,d)},_tileOnError:function(s,d,g){var D=this.options.errorTileUrl;D&&d.getAttribute("src")!==D&&(d.src=D),s(g,d)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom;return this.options.zoomReverse&&(s=this.options.maxZoom-s),s+this.options.zoomOffset},_getSubdomain:function(s){var d=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[d]},_abortLoading:function(){var s,d;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&((d=this._tiles[s].el).onload=oe,d.onerror=oe,!d.complete)){d.src=Xe;var g=this._tiles[s].coords;Cn(d),delete this._tiles[s],this.fire("tileabort",{tile:d,coords:g})}},_removeTile:function(s){var d=this._tiles[s];if(d)return d.el.setAttribute("src",Xe),hs.prototype._removeTile.call(this,s)},_tileReady:function(s,d,g){if(this._map&&(!g||g.getAttribute("src")!==Xe))return hs.prototype._tileReady.call(this,s,d,g)}});function I(s,d){return new j(s,d)}var F=j.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,d){this._url=s;var g=Q({},this.defaultWmsParams);for(var D in d)D in this.options||(g[D]=d[D]);var O=(d=ge(this,d)).detectRetina&&Ue.retina?2:1,G=this.getTileSize();g.width=G.x*O,g.height=G.y*O,this.wmsParams=g},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,j.prototype.onAdd.call(this,s)},getTileUrl:function(s){var d=this._tileCoordsToNwSe(s),g=this._crs,D=ce(g.project(d[0]),g.project(d[1])),O=D.min,G=D.max,Te=(this._wmsVersion>=1.3&&this._crs===hn?[O.y,O.x,G.y,G.x]:[O.x,O.y,G.x,G.y]).join(","),Ke=j.prototype.getTileUrl.call(this,s);return Ke+De(this.wmsParams,Ke,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Te},setParams:function(s,d){return Q(this.wmsParams,s),d||this.redraw(),this}});j.WMS=F,I.wms=function le(s,d){return new F(s,d)};var et=Xi.extend({options:{padding:.1},initialize:function(s){ge(this,s),e(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Dn(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,d){var g=this._map.getZoomScale(d,this._zoom),D=this._map.getSize().multiplyBy(.5+this.options.padding),O=this._map.project(this._center,d),G=D.multiplyBy(-g).add(O).subtract(this._map._getNewPixelOrigin(s,d));Ue.any3d?jo(this._container,G,g):ui(this._container,G)},_reset:function(){for(var s in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,d=this._map.getSize(),g=this._map.containerPointToLayerPoint(d.multiplyBy(-s)).round();this._bounds=new ct(g,g.add(d.multiplyBy(1+2*s)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),vt=et.extend({options:{tolerance:0},getEvents:function(){var s=et.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){et.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");en(s,"mousemove",this._onMouseMove,this),en(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),en(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){Pe(this._redrawRequest),delete this._ctx,Cn(this._container),kn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var d in this._redrawBounds=null,this._layers)this._layers[d]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){et.prototype._update.call(this);var s=this._bounds,d=this._container,g=s.getSize(),D=Ue.retina?2:1;ui(d,s.min),d.width=D*g.x,d.height=D*g.y,d.style.width=g.x+"px",d.style.height=g.y+"px",Ue.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){et.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[e(s)]=s;var d=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=d),this._drawLast=d,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var d=s._order,g=d.next,D=d.prev;g?g.prev=D:this._drawLast=D,D?D.next=g:this._drawFirst=g,delete s._order,delete this._layers[e(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if("string"==typeof s.options.dashArray){var D,O,d=s.options.dashArray.split(/[, ]+/),g=[];for(O=0;O<d.length;O++){if(D=Number(d[O]),isNaN(D))return;g.push(D)}s.options._dashArray=g}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||Oe(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var d=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ct,this._redrawBounds.extend(s._pxBounds.min.subtract([d,d])),this._redrawBounds.extend(s._pxBounds.max.add([d,d]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var d=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,d.x,d.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,d=this._redrawBounds;if(this._ctx.save(),d){var g=d.getSize();this._ctx.beginPath(),this._ctx.rect(d.min.x,d.min.y,g.x,g.y),this._ctx.clip()}this._drawing=!0;for(var D=this._drawFirst;D;D=D.next)s=D.layer,(!d||s._pxBounds&&s._pxBounds.intersects(d))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,d){if(this._drawing){var g,D,O,G,Te=s._parts,Ke=Te.length,lt=this._ctx;if(Ke){for(lt.beginPath(),g=0;g<Ke;g++){for(D=0,O=Te[g].length;D<O;D++)lt[D?"lineTo":"moveTo"]((G=Te[g][D]).x,G.y);d&&lt.closePath()}this._fillStroke(lt,s)}}},_updateCircle:function(s){if(this._drawing&&!s._empty()){var d=s._point,g=this._ctx,D=Math.max(Math.round(s._radius),1),O=(Math.max(Math.round(s._radiusY),1)||D)/D;1!==O&&(g.save(),g.scale(1,O)),g.beginPath(),g.arc(d.x,d.y/O,D,0,2*Math.PI,!1),1!==O&&g.restore(),this._fillStroke(g,s)}},_fillStroke:function(s,d){var g=d.options;g.fill&&(s.globalAlpha=g.fillOpacity,s.fillStyle=g.fillColor||g.color,s.fill(g.fillRule||"evenodd")),g.stroke&&0!==g.weight&&(s.setLineDash&&s.setLineDash(d.options&&d.options._dashArray||[]),s.globalAlpha=g.opacity,s.lineWidth=g.weight,s.strokeStyle=g.color,s.lineCap=g.lineCap,s.lineJoin=g.lineJoin,s.stroke())},_onClick:function(s){for(var g,D,d=this._map.mouseEventToLayerPoint(s),O=this._drawFirst;O;O=O.next)(g=O.layer).options.interactive&&g._containsPoint(d)&&("click"!==s.type&&"preclick"!==s.type||!this._map._draggableMoved(g))&&(D=g);this._fireEvent(!!D&&[D],s)},_onMouseMove:function(s){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var d=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,d)}},_handleMouseOut:function(s){var d=this._hoveredLayer;d&&(wn(this._container,"leaflet-interactive"),this._fireEvent([d],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,d){if(!this._mouseHoverThrottled){for(var g,D,O=this._drawFirst;O;O=O.next)(g=O.layer).options.interactive&&g._containsPoint(d)&&(D=g);D!==this._hoveredLayer&&(this._handleMouseOut(s),D&&(Dn(this._container,"leaflet-interactive"),this._fireEvent([D],s,"mouseover"),this._hoveredLayer=D)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],s),this._mouseHoverThrottled=!0,setTimeout(te(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,d,g){this._map._fireDOMEvent(d,g||d.type,s)},_bringToFront:function(s){var d=s._order;if(d){var g=d.next,D=d.prev;if(!g)return;g.prev=D,D?D.next=g:g&&(this._drawFirst=g),d.prev=this._drawLast,this._drawLast.next=d,d.next=null,this._drawLast=d,this._requestRedraw(s)}},_bringToBack:function(s){var d=s._order;if(d){var g=d.next,D=d.prev;if(!D)return;D.next=g,g?g.prev=D:D&&(this._drawLast=D),d.prev=null,d.next=this._drawFirst,this._drawFirst.prev=d,this._drawFirst=d,this._requestRedraw(s)}}});function nn(s){return Ue.canvas?new vt(s):null}var hi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),bi={_initContainer:function(){this._container=Yt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(et.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var d=s._container=hi("shape");Dn(d,"leaflet-vml-shape "+(this.options.className||"")),d.coordsize="1 1",s._path=hi("path"),d.appendChild(s._path),this._updateStyle(s),this._layers[e(s)]=s},_addPath:function(s){var d=s._container;this._container.appendChild(d),s.options.interactive&&s.addInteractiveTarget(d)},_removePath:function(s){var d=s._container;Cn(d),s.removeInteractiveTarget(d),delete this._layers[e(s)]},_updateStyle:function(s){var d=s._stroke,g=s._fill,D=s.options,O=s._container;O.stroked=!!D.stroke,O.filled=!!D.fill,D.stroke?(d||(d=s._stroke=hi("stroke")),O.appendChild(d),d.weight=D.weight+"px",d.color=D.color,d.opacity=D.opacity,d.dashStyle=D.dashArray?ee(D.dashArray)?D.dashArray.join(" "):D.dashArray.replace(/( *, *)/g," "):"",d.endcap=D.lineCap.replace("butt","flat"),d.joinstyle=D.lineJoin):d&&(O.removeChild(d),s._stroke=null),D.fill?(g||(g=s._fill=hi("fill")),O.appendChild(g),g.color=D.fillColor||D.color,g.opacity=D.fillOpacity):g&&(O.removeChild(g),s._fill=null)},_updateCircle:function(s){var d=s._point.round(),g=Math.round(s._radius),D=Math.round(s._radiusY||g);this._setPath(s,s._empty()?"M0 0":"AL "+d.x+","+d.y+" "+g+","+D+" 0,23592600")},_setPath:function(s,d){s._path.v=d},_bringToFront:function(s){Si(s._container)},_bringToBack:function(s){vi(s._container)}},qn=Ue.vml?hi:xn,Tn=et.extend({_initContainer:function(){this._container=qn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=qn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Cn(this._container),kn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){et.prototype._update.call(this);var s=this._bounds,d=s.getSize(),g=this._container;(!this._svgSize||!this._svgSize.equals(d))&&(this._svgSize=d,g.setAttribute("width",d.x),g.setAttribute("height",d.y)),ui(g,s.min),g.setAttribute("viewBox",[s.min.x,s.min.y,d.x,d.y].join(" ")),this.fire("update")}},_initPath:function(s){var d=s._path=qn("path");s.options.className&&Dn(d,s.options.className),s.options.interactive&&Dn(d,"leaflet-interactive"),this._updateStyle(s),this._layers[e(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){Cn(s._path),s.removeInteractiveTarget(s._path),delete this._layers[e(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var d=s._path,g=s.options;d&&(g.stroke?(d.setAttribute("stroke",g.color),d.setAttribute("stroke-opacity",g.opacity),d.setAttribute("stroke-width",g.weight),d.setAttribute("stroke-linecap",g.lineCap),d.setAttribute("stroke-linejoin",g.lineJoin),g.dashArray?d.setAttribute("stroke-dasharray",g.dashArray):d.removeAttribute("stroke-dasharray"),g.dashOffset?d.setAttribute("stroke-dashoffset",g.dashOffset):d.removeAttribute("stroke-dashoffset")):d.setAttribute("stroke","none"),g.fill?(d.setAttribute("fill",g.fillColor||g.color),d.setAttribute("fill-opacity",g.fillOpacity),d.setAttribute("fill-rule",g.fillRule||"evenodd")):d.setAttribute("fill","none"))},_updatePoly:function(s,d){this._setPath(s,vn(s._parts,d))},_updateCircle:function(s){var d=s._point,g=Math.max(Math.round(s._radius),1),O="a"+g+","+(Math.max(Math.round(s._radiusY),1)||g)+" 0 1,0 ",G=s._empty()?"M0 0":"M"+(d.x-g)+","+d.y+O+2*g+",0 "+O+2*-g+",0 ";this._setPath(s,G)},_setPath:function(s,d){s._path.setAttribute("d",d)},_bringToFront:function(s){Si(s._path)},_bringToBack:function(s){vi(s._path)}});function Vi(s){return Ue.svg||Ue.vml?new Tn(s):null}Ue.vml&&Tn.include(bi),Vt.include({getRenderer:function(s){var d=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return d||(d=this._renderer=this._createRenderer()),this.hasLayer(d)||this.addLayer(d),d},_getPaneRenderer:function(s){if("overlayPane"===s||void 0===s)return!1;var d=this._paneRenderers[s];return void 0===d&&(d=this._createRenderer({pane:s}),this._paneRenderers[s]=d),d},_createRenderer:function(s){return this.options.preferCanvas&&nn(s)||Vi(s)}});var wi=Qr.extend({initialize:function(s,d){Qr.prototype.initialize.call(this,this._boundsToLatLngs(s),d)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return[(s=Se(s)).getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});Tn.create=qn,Tn.pointsToPath=vn,ur.geometryToLayer=br,ur.coordsToLatLng=Kr,ur.coordsToLatLngs=zr,ur.latLngToCoords=ls,ur.latLngsToCoords=us,ur.getFeature=Nr,ur.asFeature=$r,Vt.mergeOptions({boxZoom:!0});var dr=fo.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){en(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){kn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Cn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||1!==s.which&&1!==s.button)return!1;this._clearDeferredResetState(),this._resetState(),Pt(),Kn(),this._startPoint=this._map.mouseEventToContainerPoint(s),en(document,{contextmenu:ci,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=Yt("div","leaflet-zoom-box",this._container),Dn(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var d=new ct(this._point,this._startPoint),g=d.getSize();ui(this._box,d.min),this._box.style.width=g.x+"px",this._box.style.height=g.y+"px"},_finish:function(){this._moved&&(Cn(this._box),wn(this._container,"leaflet-crosshair")),Et(),Xn(),kn(document,{contextmenu:ci,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if((1===s.which||1===s.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(te(this._resetState,this),0);var d=new he(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(d).fire("boxzoomend",{boxZoomBounds:d})}},_onKeyDown:function(s){27===s.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Vt.addInitHook("addHandler","boxZoom",dr),Vt.mergeOptions({doubleClickZoom:!0});var or=fo.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var d=this._map,g=d.getZoom(),D=d.options.zoomDelta,O=s.originalEvent.shiftKey?g-D:g+D;"center"===d.options.doubleClickZoom?d.setZoom(O):d.setZoomAround(s.containerPoint,O)}});Vt.addInitHook("addHandler","doubleClickZoom",or),Vt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var xo=fo.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new Po(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}Dn(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){wn(this._map._container,"leaflet-grab"),wn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var d=Se(this._map.options.maxBounds);this._offsetLimit=ce(this._map.latLngToContainerPoint(d.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(d.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var d=this._lastTime=+new Date,g=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(g),this._times.push(d),this._prunePositions(d)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),d=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=d.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,d){return s-(s-d)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var s=this._draggable._newPos.subtract(this._draggable._startPos),d=this._offsetLimit;s.x<d.min.x&&(s.x=this._viscousLimit(s.x,d.min.x)),s.y<d.min.y&&(s.y=this._viscousLimit(s.y,d.min.y)),s.x>d.max.x&&(s.x=this._viscousLimit(s.x,d.max.x)),s.y>d.max.y&&(s.y=this._viscousLimit(s.y,d.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,d=Math.round(s/2),g=this._initialWorldOffset,D=this._draggable._newPos.x,O=(D-d+g)%s+d-g,G=(D+d+g)%s-d-g,Te=Math.abs(O+g)<Math.abs(G+g)?O:G;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Te},_onDragEnd:function(s){var d=this._map,g=d.options,D=!g.inertia||s.noInertia||this._times.length<2;if(d.fire("dragend",s),D)d.fire("moveend");else{this._prunePositions(+new Date);var O=this._lastPos.subtract(this._positions[0]),Te=g.easeLinearity,Ke=O.multiplyBy(Te/((this._lastTime-this._times[0])/1e3)),lt=Ke.distanceTo([0,0]),wt=Math.min(g.inertiaMaxSpeed,lt),jt=Ke.multiplyBy(wt/lt),Sn=wt/(g.inertiaDeceleration*Te),Hn=jt.multiplyBy(-Sn/2).round();Hn.x||Hn.y?(Hn=d._limitOffset(Hn,d.options.maxBounds),Oe(function(){d.panBy(Hn,{duration:Sn,easeLinearity:Te,noMoveStart:!0,animate:!0})})):d.fire("moveend")}}});Vt.addInitHook("addHandler","dragging",xo),Vt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Uo=fo.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),en(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),kn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,d=document.documentElement,g=s.scrollTop||d.scrollTop,D=s.scrollLeft||d.scrollLeft;this._map._container.focus(),window.scrollTo(D,g)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var D,O,d=this._panKeys={},g=this.keyCodes;for(D=0,O=g.left.length;D<O;D++)d[g.left[D]]=[-1*s,0];for(D=0,O=g.right.length;D<O;D++)d[g.right[D]]=[s,0];for(D=0,O=g.down.length;D<O;D++)d[g.down[D]]=[0,s];for(D=0,O=g.up.length;D<O;D++)d[g.up[D]]=[0,-1*s]},_setZoomDelta:function(s){var D,O,d=this._zoomKeys={},g=this.keyCodes;for(D=0,O=g.zoomIn.length;D<O;D++)d[g.zoomIn[D]]=s;for(D=0,O=g.zoomOut.length;D<O;D++)d[g.zoomOut[D]]=-s},_addHooks:function(){en(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){kn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var D,d=s.keyCode,g=this._map;if(d in this._panKeys){if(!g._panAnim||!g._panAnim._inProgress)if(D=this._panKeys[d],s.shiftKey&&(D=Re(D).multiplyBy(3)),g.options.maxBounds&&(D=g._limitOffset(Re(D),g.options.maxBounds)),g.options.worldCopyJump){var O=g.wrapLatLng(g.unproject(g.project(g.getCenter()).add(D)));g.panTo(O)}else g.panBy(D)}else if(d in this._zoomKeys)g.setZoom(g.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[d]);else{if(27!==d||!g._popup||!g._popup.options.closeOnEscapeKey)return;g.closePopup()}ci(s)}}});Vt.addInitHook("addHandler","keyboard",Uo),Vt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var eo=fo.extend({addHooks:function(){en(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){kn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var d=Sr(s),g=this._map.options.wheelDebounceTime;this._delta+=d,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var D=Math.max(g-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(te(this._performZoom,this),D),ci(s)},_performZoom:function(){var s=this._map,d=s.getZoom(),g=this._map.options.zoomSnap||0;s._stop();var O=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,G=g?Math.ceil(O/g)*g:O,Te=s._limitZoom(d+(this._delta>0?G:-G))-d;this._delta=0,this._startTime=null,Te&&("center"===s.options.scrollWheelZoom?s.setZoom(d+Te):s.setZoomAround(this._lastMousePos,d+Te))}});Vt.addInitHook("addHandler","scrollWheelZoom",eo);Vt.mergeOptions({tapHold:Ue.touchNative&&Ue.safari&&Ue.mobile,tapTolerance:15});var $o=fo.extend({addHooks:function(){en(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){kn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),1===s.touches.length){var d=s.touches[0];this._startPos=this._newPos=new ut(d.clientX,d.clientY),this._holdTimeout=setTimeout(te(function(){this._cancel(),this._isTapValid()&&(en(document,"touchend",rn),en(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",d))},this),600),en(document,"touchend touchcancel contextmenu",this._cancel,this),en(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){kn(document,"touchend",rn),kn(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),kn(document,"touchend touchcancel contextmenu",this._cancel,this),kn(document,"touchmove",this._onMove,this)},_onMove:function(s){var d=s.touches[0];this._newPos=new ut(d.clientX,d.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,d){var g=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:d.screenX,screenY:d.screenY,clientX:d.clientX,clientY:d.clientY});g._simulated=!0,d.target.dispatchEvent(g)}});Vt.addInitHook("addHandler","tapHold",$o),Vt.mergeOptions({touchZoom:Ue.touch,bounceAtZoomLimits:!0});var Ti=fo.extend({addHooks:function(){Dn(this._map._container,"leaflet-touch-zoom"),en(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){wn(this._map._container,"leaflet-touch-zoom"),kn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var d=this._map;if(s.touches&&2===s.touches.length&&!d._animatingZoom&&!this._zooming){var g=d.mouseEventToContainerPoint(s.touches[0]),D=d.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=d.getSize()._divideBy(2),this._startLatLng=d.containerPointToLatLng(this._centerPoint),"center"!==d.options.touchZoom&&(this._pinchStartLatLng=d.containerPointToLatLng(g.add(D)._divideBy(2))),this._startDist=g.distanceTo(D),this._startZoom=d.getZoom(),this._moved=!1,this._zooming=!0,d._stop(),en(document,"touchmove",this._onTouchMove,this),en(document,"touchend touchcancel",this._onTouchEnd,this),rn(s)}},_onTouchMove:function(s){if(s.touches&&2===s.touches.length&&this._zooming){var d=this._map,g=d.mouseEventToContainerPoint(s.touches[0]),D=d.mouseEventToContainerPoint(s.touches[1]),O=g.distanceTo(D)/this._startDist;if(this._zoom=d.getScaleZoom(O,this._startZoom),!d.options.bounceAtZoomLimits&&(this._zoom<d.getMinZoom()&&O<1||this._zoom>d.getMaxZoom()&&O>1)&&(this._zoom=d._limitZoom(this._zoom)),"center"===d.options.touchZoom){if(this._center=this._startLatLng,1===O)return}else{var G=g._add(D)._divideBy(2)._subtract(this._centerPoint);if(1===O&&0===G.x&&0===G.y)return;this._center=d.unproject(d.project(this._pinchStartLatLng,this._zoom).subtract(G),this._zoom)}this._moved||(d._moveStart(!0,!1),this._moved=!0),Pe(this._animRequest);var Te=te(d._move,d,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Oe(Te,this,!0),rn(s)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,Pe(this._animRequest),kn(document,"touchmove",this._onTouchMove,this),kn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Vt.addInitHook("addHandler","touchZoom",Ti),Vt.BoxZoom=dr,Vt.DoubleClickZoom=or,Vt.Drag=xo,Vt.Keyboard=Uo,Vt.ScrollWheelZoom=eo,Vt.TapHold=$o,Vt.TouchZoom=Ti,S.Bounds=ct,S.Browser=Ue,S.CRS=Ye,S.Canvas=vt,S.Circle=qi,S.CircleMarker=Jr,S.Class=He,S.Control=ho,S.DivIcon=wa,S.DivOverlay=ir,S.DomEvent=Eo,S.DomUtil=Bi,S.Draggable=Po,S.Evented=Bt,S.FeatureGroup=Or,S.GeoJSON=ur,S.GridLayer=hs,S.Handler=fo,S.Icon=Hr,S.ImageOverlay=Gr,S.LatLng=we,S.LatLngBounds=he,S.Layer=Xi,S.LayerGroup=Jo,S.LineUtil=R,S.Map=Vt,S.Marker=cs,S.Mixin=ei,S.Path=So,S.Point=ut,S.PolyUtil=Ur,S.Polygon=Qr,S.Polyline=Mi,S.Popup=Xr,S.PosAnimation=tr,S.Projection=J,S.Rectangle=wi,S.Renderer=et,S.SVG=Tn,S.SVGOverlay=Ws,S.TileLayer=j,S.Tooltip=ds,S.Transformation=gt,S.Util=$e,S.VideoOverlay=Ca,S.bind=te,S.bounds=ce,S.canvas=nn,S.circle=function bs(s,d,g){return new qi(s,d,g)},S.circleMarker=function ys(s,d){return new Jr(s,d)},S.control=Mo,S.divIcon=function Ds(s){return new wa(s)},S.extend=Q,S.featureGroup=function(s,d){return new Or(s,d)},S.geoJSON=Cr,S.geoJson=Ls,S.gridLayer=function C(s){return new hs(s)},S.icon=function ca(s){return new Hr(s)},S.imageOverlay=function(s,d,g){return new Gr(s,d,g)},S.latLng=Ae,S.latLngBounds=Se,S.layerGroup=function(s,d){return new Jo(s,d)},S.map=function xr(s,d){return new Vt(s,d)},S.marker=function jr(s,d){return new cs(s,d)},S.point=Re,S.polygon=function qs(s,d){return new Qr(s,d)},S.polyline=function Cs(s,d){return new Mi(s,d)},S.popup=function(s,d){return new Xr(s,d)},S.rectangle=function zi(s,d){return new wi(s,d)},S.setOptions=ge,S.stamp=e,S.svg=Vi,S.svgOverlay=function xc(s,d,g){return new Ws(s,d,g)},S.tileLayer=I,S.tooltip=function(s,d){return new ds(s,d)},S.transformation=ln,S.version="1.9.4",S.videoOverlay=function Da(s,d,g){return new Ca(s,d,g)};var Go=window.L;S.noConflict=function(){return window.L=Go,this},window.L=S}(ke)},7719:bt=>{bt.exports=function(Q){!function S(p){if(!p)throw new Error("Eventify cannot use falsy object as events subject");for(var Q=["on","fire","off"],z=0;z<Q.length;++z)if(p.hasOwnProperty(Q[z]))throw new Error("Subject cannot be eventified, since it already has property '"+Q[z]+"'")}(Q);var z=function ke(p){var Q=Object.create(null);return{on:function(z,te,W){if("function"!=typeof te)throw new Error("callback is expected to be a function");var e=Q[z];return e||(e=Q[z]=[]),e.push({callback:te,ctx:W}),p},off:function(z,te){if(typeof z>"u")return Q=Object.create(null),p;if(Q[z])if("function"!=typeof te)delete Q[z];else for(var K=Q[z],Le=0;Le<K.length;++Le)K[Le].callback===te&&K.splice(Le,1);return p},fire:function(z){var W,te=Q[z];if(!te)return p;arguments.length>1&&(W=Array.prototype.splice.call(arguments,1));for(var e=0;e<te.length;++e){var K=te[e];K.callback.apply(K.ctx,W)}return p}}}(Q);return Q.on=z.on,Q.off=z.off,Q.fire=z.fire,Q}},418:(bt,ke,S)=>{"use strict";var p=S(8265),Q=S(5254),z=S(7719),te=S(3118),W=S(9958),e=W(),K=W(!0),Le=S(3429),oe=S(6676),re=S(43);function xe(Ge,Oe){var Pe=(Oe=Oe||{}).controller;if(Pe||(oe.canAttach(Ge)?Pe=oe(Ge,Oe):re.canAttach(Ge)&&(Pe=re(Ge,Oe))),!Pe)throw new Error("Cannot create panzoom for the current type of dom element");var $e=Pe.getOwner(),He={x:0,y:0},ft=!1,Fe=new Le;Pe.initTransform&&Pe.initTransform(Fe);var Bt="function"==typeof Oe.filterKey?Oe.filterKey:Me,ut="number"==typeof Oe.pinchSpeed?Oe.pinchSpeed:1,pt=Oe.bounds,Re="number"==typeof Oe.maxZoom?Oe.maxZoom:Number.POSITIVE_INFINITY,ct="number"==typeof Oe.minZoom?Oe.minZoom:0,ce="number"==typeof Oe.boundsPadding?Oe.boundsPadding:.05,he="number"==typeof Oe.zoomDoubleClickSpeed?Oe.zoomDoubleClickSpeed:1.75,Se=Oe.beforeWheel||Me,we=Oe.beforeMouseDown||Me,Ae="number"==typeof Oe.zoomSpeed?Oe.zoomSpeed:1,Ye=ze(Oe.transformOrigin),rt=Oe.enableTextSelection?K:e;(function Xe(Ge){var Oe=typeof Ge;if("undefined"!==Oe&&"boolean"!==Oe&&!(nt(Ge.left)&&nt(Ge.top)&&nt(Ge.bottom)&&nt(Ge.right)))throw new Error("Bounds object is not valid. It can be: undefined, boolean (true|false) or an object {left, top, right, bottom}")})(pt),Oe.autocenter&&function Ri(){var Je,Pt,Et=0,Gt=0,On=We();if(On)Et=On.left,Gt=On.top,Je=On.right-On.left,Pt=On.bottom-On.top;else{var Kn=$e.getBoundingClientRect();Je=Kn.width,Pt=Kn.height}var Xn=Pe.getBBox();if(0!==Xn.width&&0!==Xn.height){var No=Math.min(Je/Xn.width,Pt/Xn.height);Fe.x=-(Xn.left+Xn.width/2)*No+Je/2+Et,Fe.y=-(Xn.top+Xn.height/2)*No+Pt/2+Gt,Fe.scale=No}}();var ot,xn,_e,je,Qe,_t,Rt,gn,pn=0,gt=0,ln=0,zt=null,xt=new Date,vn=!1,me=!1;gn="smoothScroll"in Oe&&!Oe.smoothScroll?function pe(){return{start:Me,stop:Me,cancel:Me}}():te(function $i(){return{x:Fe.x,y:Fe.y}},function Bn(Je,Pt){wo(),io(Je,Pt)},Oe.smoothScroll);var un,Lt,Mt,Nt=!1;Ze();var Fn={dispose:function Un(){ve()},moveBy:Wt,moveTo:io,smoothMoveTo:function It(Je,Pt){Wt(Je-Fe.x,Pt-Fe.y,!0)},centerOn:function Zt(Je){var Pt=Je.ownerSVGElement;if(!Pt)throw new Error("ui element is required to be within the scene");var Et=Je.getBoundingClientRect(),Gt=Et.left+Et.width/2,On=Et.top+Et.height/2,Kn=Pt.getBoundingClientRect();Wt(Kn.width/2-Gt,Kn.height/2-On,!0)},zoomTo:Gi,zoomAbs:at,smoothZoom:oo,smoothZoomAbs:function Dn(Je,Pt,Et){var On={scale:Fe.scale},Kn={scale:Et};gn.cancel(),wo(),Lt=Q(On,Kn,{step:function(Xn){at(Je,Pt,Xn.scale)}})},showRectangle:function Ln(Je){var Pt=$e.getBoundingClientRect(),Et=mn(Pt.width,Pt.height),Gt=Je.right-Je.left,On=Je.bottom-Je.top;if(!Number.isFinite(Gt)||!Number.isFinite(On))throw new Error("Invalid rectangle");var Ci=Math.min(Et.x/Gt,Et.y/On);Fe.x=-(Je.left+Gt/2)*Ci+Et.x/2,Fe.y=-(Je.top+On/2)*Ci+Et.y/2,Fe.scale=Ci},pause:function zn(){ve(),Nt=!0},resume:function ht(){Nt&&(Ze(),Nt=!1)},isPaused:function bn(){return Nt},getTransform:function Ei(){return Fe},getMinZoom:function Hi(){return ct},setMinZoom:function Fi(Je){ct=Je},getMaxZoom:function $n(){return Re},setMaxZoom:function Qn(Je){Re=Je},getTransformOrigin:function In(){return Ye},setTransformOrigin:function ai(Je){Ye=ze(Je)},getZoomSpeed:function Li(){return Ae},setZoomSpeed:function Qi(Je){if(!Number.isFinite(Je))throw new Error("Zoom speed should be a number");Ae=Je}};z(Fn);var li="number"==typeof Oe.initialX?Oe.initialX:Fe.x,an="number"==typeof Oe.initialY?Oe.initialY:Fe.y,qt="number"==typeof Oe.initialZoom?Oe.initialZoom:Fe.scale;return(li!=Fe.x||an!=Fe.y||qt!=Fe.scale)&&at(li,an,qt),Fn;function mn(Je,Pt){if(Pe.getScreenCTM){var Et=Pe.getScreenCTM(),On=Et.d,Xn=Et.f;He.x=Je*Et.a-Et.e,He.y=Pt*On-Xn}else He.x=Je,He.y=Pt;return He}function io(Je,Pt){Fe.x=Je,Fe.y=Pt,dt(),ui("pan"),se()}function Ho(Je,Pt){io(Fe.x+Je,Fe.y+Pt)}function dt(){var Je=We();if(Je){var Pt=!1,Et=function ue(){var Je=Pe.getBBox(),Pt=function V(Je,Pt){return{x:Je*Fe.scale+Fe.x,y:Pt*Fe.scale+Fe.y}}(Je.left,Je.top);return{left:Pt.x,top:Pt.y,right:Je.width*Fe.scale+Pt.x,bottom:Je.height*Fe.scale+Pt.y}}(),Gt=Je.left-Et.right;return Gt>0&&(Fe.x+=Gt,Pt=!0),(Gt=Je.right-Et.left)<0&&(Fe.x+=Gt,Pt=!0),(Gt=Je.top-Et.bottom)>0&&(Fe.y+=Gt,Pt=!0),(Gt=Je.bottom-Et.top)<0&&(Fe.y+=Gt,Pt=!0),Pt}}function We(){if(pt){if("boolean"==typeof pt){var Je=$e.getBoundingClientRect(),Pt=Je.width,Et=Je.height;return{left:Pt*ce,top:Et*ce,right:Pt*(1-ce),bottom:Et*(1-ce)}}return pt}}function se(){ft=!0,ot=window.requestAnimationFrame(Ie)}function Ue(Je,Pt,Et){if(Ce(Je)||Ce(Pt)||Ce(Et))throw new Error("zoom requires valid numbers");var Gt=Fe.scale*Et;if(Gt<ct){if(Fe.scale===ct)return;Et=ct/Fe.scale}if(Gt>Re){if(Fe.scale===Re)return;Et=Re/Fe.scale}var On=mn(Je,Pt);Fe.x=On.x-Et*(On.x-Fe.x),Fe.y=On.y-Et*(On.y-Fe.y),pt&&1===ce&&1===ct?(Fe.scale*=Et,dt()):dt()||(Fe.scale*=Et),ui("zoom"),se()}function at(Je,Pt,Et){Ue(Je,Pt,Et/Fe.scale)}function Wt(Je,Pt,Et){if(!Et)return Ho(Je,Pt);un&&un.cancel();var Kn=0,Xn=0;un=Q({x:0,y:0},{x:Je,y:Pt},{step:function(Ci){Ho(Ci.x-Kn,Ci.y-Xn),Kn=Ci.x,Xn=Ci.y}})}function Ze(){$e.addEventListener("mousedown",ii,{passive:!1}),$e.addEventListener("dblclick",Rn,{passive:!1}),$e.addEventListener("touchstart",kt,{passive:!1}),$e.addEventListener("keydown",Dt,{passive:!1}),p.addWheelListener($e,Si,{passive:!1}),se()}function ve(){p.removeWheelListener($e,Si),$e.removeEventListener("mousedown",ii),$e.removeEventListener("keydown",Dt),$e.removeEventListener("dblclick",Rn),$e.removeEventListener("touchstart",kt),ot&&(window.cancelAnimationFrame(ot),ot=0),gn.cancel(),Cn(),Ai(),rt.release(),Xo()}function Ie(){ft&&function it(){ft=!1,Pe.applyTransform(Fe),ui("transform"),ot=0}()}function Dt(Je){var Pt=0,Et=0,Gt=0;if(38===Je.keyCode?Et=1:40===Je.keyCode?Et=-1:37===Je.keyCode?Pt=1:39===Je.keyCode?Pt=-1:189===Je.keyCode||109===Je.keyCode?Gt=1:(187===Je.keyCode||107===Je.keyCode)&&(Gt=-1),!Bt(Je,Pt,Et,Gt)){if(Pt||Et){Je.preventDefault(),Je.stopPropagation();var On=$e.getBoundingClientRect();Wt(.05*(Kn=Math.min(On.width,On.height))*Pt,.05*Kn*Et)}if(Gt){var No=Yi(100*Gt),Kn=Ye?wn():function At(){var Je=$e.getBoundingClientRect();return{x:Je.width/2,y:Je.height/2}}();Gi(Kn.x,Kn.y,No)}}}function kt(Je){if(function Xt(Je){Oe.onTouch&&!Oe.onTouch(Je)||(Je.stopPropagation(),Je.preventDefault())}(Je),Qt(),1===Je.touches.length)return function yi(Je){gt=new Date;var Et=vi(Je.touches[0]);xn=Et;var Gt=mn(Et.x,Et.y);Qe=_e=Gt.x,_t=je=Gt.y,gn.cancel(),_n()}(Je);2===Je.touches.length&&(Rt=dn(Je.touches[0],Je.touches[1]),Mt=!0,_n())}function _n(){vn||(vn=!0,document.addEventListener("touchmove",Gn),document.addEventListener("touchend",ri),document.addEventListener("touchcancel",ri))}function Gn(Je){if(1===Je.touches.length){Je.stopPropagation();var Gt=mn((Et=vi(Je.touches[0])).x,Et.y),On=Gt.x-_e,Kn=Gt.y-je;0!==On&&0!==Kn&&vs(),_e=Gt.x,je=Gt.y,Wt(On,Kn)}else if(2===Je.touches.length){Mt=!0;var Xn=Je.touches[0],Ci=Je.touches[1],Vo=dn(Xn,Ci),No=1+(Vo/Rt-1)*ut,To=vi(Xn),gr=vi(Ci);if(_e=(To.x+gr.x)/2,je=(To.y+gr.y)/2,Ye){var Et=wn();_e=Et.x,je=Et.y}Gi(_e,je,No),Rt=Vo,Je.stopPropagation(),Je.preventDefault()}}function Qt(){ln&&(clearTimeout(ln),ln=0)}function Zn(Je){if(Oe.onClick){Qt();var Pt=_e-Qe,Et=je-_t;Math.sqrt(Pt*Pt+Et*Et)>5||(ln=setTimeout(function(){ln=0,Oe.onClick(Je)},300))}}function ri(Je){if(Qt(),Je.touches.length>0){var Et=mn((Pt=vi(Je.touches[0])).x,Pt.y);_e=Et.x,je=Et.y}else{var Gt=new Date;if(Gt-pn<300)if(Ye){var Pt;oo((Pt=wn()).x,Pt.y,he)}else oo(xn.x,xn.y,he);else Gt-gt<200&&Zn(Je);pn=Gt,Xo(),Ai()}}function dn(Je,Pt){var Et=Je.clientX-Pt.clientX,Gt=Je.clientY-Pt.clientY;return Math.sqrt(Et*Et+Gt*Gt)}function Rn(Je){!function cn(Je){Qt(),(!Oe.onDoubleClick||Oe.onDoubleClick(Je))&&(Je.preventDefault(),Je.stopPropagation())}(Je);var Pt=vi(Je);Ye&&(Pt=wn()),oo(Pt.x,Pt.y,he)}function ii(Je){if(Qt(),!we(Je)){if(zt=Je,xt=new Date,vn)return Je.stopPropagation(),!1;if(1===Je.button&&null!==window.event||0===Je.button){gn.cancel();var Et=vi(Je),Gt=mn(Et.x,Et.y);return Qe=_e=Gt.x,_t=je=Gt.y,document.addEventListener("mousemove",Ii),document.addEventListener("mouseup",Yt),rt.capture(Je.target||Je.srcElement),!1}}}function Ii(Je){if(!vn){vs();var Pt=vi(Je),Et=mn(Pt.x,Pt.y),Gt=Et.x-_e,On=Et.y-je;_e=Et.x,je=Et.y,Wt(Gt,On)}}function Yt(){new Date-xt<200&&Zn(zt),rt.release(),Xo(),Cn()}function Cn(){document.removeEventListener("mousemove",Ii),document.removeEventListener("mouseup",Yt),me=!1}function Ai(){document.removeEventListener("touchmove",Gn),document.removeEventListener("touchend",ri),document.removeEventListener("touchcancel",ri),me=!1,Mt=!1,vn=!1}function Si(Je){if(!Se(Je)){gn.cancel();var Pt=Je.deltaY;Je.deltaMode>0&&(Pt*=100);var Et=Yi(Pt);if(1!==Et){var Gt=Ye?wn():vi(Je);Gi(Gt.x,Gt.y,Et),Je.preventDefault()}}}function vi(Je){var Gt=$e.getBoundingClientRect();return{x:Je.clientX-Gt.left,y:Je.clientY-Gt.top}}function oo(Je,Pt,Et){var Gt=Fe.scale,On={scale:Gt},Kn={scale:Et*Gt};gn.cancel(),wo(),Lt=Q(On,Kn,{step:function(Xn){at(Je,Pt,Xn.scale)},done:jo})}function wn(){var Je=$e.getBoundingClientRect();return{x:Je.width*Ye.x,y:Je.height*Ye.y}}function Gi(Je,Pt,Et){return gn.cancel(),wo(),Ue(Je,Pt,Et)}function wo(){Lt&&(Lt.cancel(),Lt=null)}function Yi(Je){return 1-Math.sign(Je)*Math.min(.25,Math.abs(Ae*Je/128))}function vs(){me||(ui("panstart"),me=!0,gn.start())}function Xo(){me&&(Mt||gn.stop(),ui("panend"))}function jo(){ui("zoomend")}function ui(Je){Fn.fire(Je,Fn)}}function ze(Ge){if(Ge){if("object"==typeof Ge)return(!nt(Ge.x)||!nt(Ge.y))&&ee(Ge),Ge;ee()}}function ee(Ge){throw console.error(Ge),new Error(["Cannot parse transform origin.","Some good examples:",'  "center center" can be achieved with {x: 0.5, y: 0.5}','  "top center" can be achieved with {x: 0.5, y: 0}','  "bottom right" can be achieved with {x: 1, y: 1}'].join("\n"))}function Me(){}function nt(Ge){return Number.isFinite(Ge)}function Ce(Ge){return Number.isNaN?Number.isNaN(Ge):Ge!=Ge}bt.exports=xe,function de(){if(!(typeof document>"u")){var Ge=document.getElementsByTagName("script");if(Ge){for(var Oe,Pe=0;Pe<Ge.length;++Pe){var $e=Ge[Pe];if($e.src&&$e.src.match(/\bpanzoom(\.min)?\.js/)){Oe=$e;break}}if(Oe){var He=Oe.getAttribute("query");if(He){var ft=Oe.getAttribute("name")||"pz",Fe=Date.now();!function Bt(){var Re=document.querySelector(He);if(!Re)return Date.now()-Fe<2e3?void setTimeout(Bt,100):void console.error("Cannot find the panzoom element",ft);var he=function ut(Re){for(var ct=Re.attributes,ce={},he=0;he<ct.length;++he){var we=pt(ct[he]);we&&(ce[we.name]=we.value)}return ce}(Oe);console.log(he),window[ft]=xe(Re,he)}()}}}}function pt(Re){if(Re.name&&"p"===Re.name[0]&&"z"===Re.name[1]&&"-"===Re.name[2])return{name:Re.name.substr(3),value:JSON.parse(Re.value)}}}()},9958:bt=>{function S(Q){return Q.stopPropagation(),!1}function p(){}bt.exports=function ke(Q){if(Q)return{capture:p,release:p};var z,te,W,e=!1;return{capture:function K(oe){e=!0,te=window.document.onselectstart,W=window.document.ondragstart,window.document.onselectstart=S,(z=oe).ondragstart=S},release:function Le(){e&&(e=!1,window.document.onselectstart=te,z&&(z.ondragstart=W))}}}},43:bt=>{function S(p){return p&&p.parentElement&&p.style}bt.exports=function ke(p,Q){if(!S(p))throw new Error("panzoom requires DOM element to be attached to the DOM tree");var te=p.parentElement;return p.scrollTop=0,Q.disableKeyboardInteraction||te.setAttribute("tabindex",0),{getBBox:function K(){return{left:0,top:0,width:p.clientWidth,height:p.clientHeight}},getOwner:function e(){return te},applyTransform:function Le(oe){p.style.transformOrigin="0 0 0",p.style.transform="matrix("+oe.scale+", 0, 0, "+oe.scale+", "+oe.x+", "+oe.y+")"}}},bt.exports.canAttach=S},3118:bt=>{bt.exports=function ke(Q,z,te){"object"!=typeof te&&(te={});var oe,re,ne,ge,De,xe,ze,ee,Me,Xe,W="number"==typeof te.minVelocity?te.minVelocity:5,e="number"==typeof te.amplitude?te.amplitude:.25,K="function"==typeof te.cancelAnimationFrame?te.cancelAnimationFrame:function S(){return"function"==typeof cancelAnimationFrame?cancelAnimationFrame:clearTimeout}(),Le="function"==typeof te.requestAnimationFrame?te.requestAnimationFrame:function p(){return"function"==typeof requestAnimationFrame?requestAnimationFrame:function(Q){return setTimeout(Q,16)}}();return{start:function Ce(){oe=Q(),xe=Me=ge=ze=0,re=new Date,K(ne),K(Xe),ne=Le(pe)},stop:function de(){K(ne),K(Xe);var Oe=Q();De=Oe.x,ee=Oe.y,re=Date.now(),(ge<-W||ge>W)&&(De+=xe=e*ge),(ze<-W||ze>W)&&(ee+=Me=e*ze),Xe=Le(Ge)},cancel:function nt(){K(ne),K(Xe)}};function pe(){var Oe=Date.now(),Pe=Oe-re;re=Oe;var $e=Q(),He=$e.x-oe.x,ft=$e.y-oe.y;oe=$e;var Fe=1e3/(1+Pe);ge=.8*He*Fe+.2*ge,ze=.8*ft*Fe+.2*ze,ne=Le(pe)}function Ge(){var Oe=Date.now()-re,Pe=!1,$e=0,He=0;xe&&(($e=-xe*Math.exp(-Oe/342))>.5||$e<-.5?Pe=!0:$e=xe=0),Me&&((He=-Me*Math.exp(-Oe/342))>.5||He<-.5?Pe=!0:He=Me=0),Pe&&(z(De+$e,ee+He),Xe=Le(Ge))}}},6676:bt=>{function S(p){return p&&p.ownerSVGElement&&p.getCTM}bt.exports=function ke(p,Q){if(!S(p))throw new Error("svg element is required for svg.panzoom to work");var z=p.ownerSVGElement;if(!z)throw new Error("Do not apply panzoom to the root <svg> element. Use its child instead (e.g. <g></g>). As of March 2016 only FireFox supported transform on the root element");return Q.disableKeyboardInteraction||z.setAttribute("tabindex",0),{getBBox:function e(){var re=p.getBBox();return{left:re.x,top:re.y,width:re.width,height:re.height}},getScreenCTM:function K(){return z.getCTM()||z.getScreenCTM()},getOwner:function W(){return z},applyTransform:function oe(re){p.setAttribute("transform","matrix("+re.scale+" 0 0 "+re.scale+" "+re.x+" "+re.y+")")},initTransform:function Le(re){var fe=p.getCTM();null===fe&&(fe=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix()),re.x=fe.e,re.y=fe.f,re.scale=fe.a,z.removeAttributeNS(null,"viewBox")}}},bt.exports.canAttach=S},3429:bt=>{bt.exports=function ke(){this.x=0,this.y=0,this.scale=1}},8071:(bt,ke,S)=>{"use strict";S.d(ke,{X:()=>Q});var p=S(9877);class Q extends p.x{constructor(te){super(),this._value=te}get value(){return this.getValue()}_subscribe(te){const W=super._subscribe(te);return!W.closed&&te.next(this._value),W}getValue(){const{hasError:te,thrownError:W,_value:e}=this;if(te)throw W;return this._throwIfClosed(),e}next(te){super.next(this._value=te)}}},2235:(bt,ke,S)=>{"use strict";S.d(ke,{y:()=>Le});var p=S(6343),Q=S(6482),z=S(4373),te=S(2476),W=S(5445),e=S(2602),K=S(575);let Le=(()=>{class ne{constructor(De){De&&(this._subscribe=De)}lift(De){const xe=new ne;return xe.source=this,xe.operator=De,xe}subscribe(De,xe,ze){const ee=function fe(ne){return ne&&ne instanceof p.Lv||function re(ne){return ne&&(0,e.m)(ne.next)&&(0,e.m)(ne.error)&&(0,e.m)(ne.complete)}(ne)&&(0,Q.Nn)(ne)}(De)?De:new p.Hp(De,xe,ze);return(0,K.x)(()=>{const{operator:Me,source:Xe}=this;ee.add(Me?Me.call(ee,Xe):Xe?this._subscribe(ee):this._trySubscribe(ee))}),ee}_trySubscribe(De){try{return this._subscribe(De)}catch(xe){De.error(xe)}}forEach(De,xe){return new(xe=oe(xe))((ze,ee)=>{const Me=new p.Hp({next:Xe=>{try{De(Xe)}catch(nt){ee(nt),Me.unsubscribe()}},error:ee,complete:ze});this.subscribe(Me)})}_subscribe(De){var xe;return null===(xe=this.source)||void 0===xe?void 0:xe.subscribe(De)}[z.L](){return this}pipe(...De){return(0,te.U)(De)(this)}toPromise(De){return new(De=oe(De))((xe,ze)=>{let ee;this.subscribe(Me=>ee=Me,Me=>ze(Me),()=>xe(ee))})}}return ne.create=ge=>new ne(ge),ne})();function oe(ne){var ge;return null!==(ge=ne??W.config.Promise)&&void 0!==ge?ge:Promise}},5400:(bt,ke,S)=>{"use strict";S.d(ke,{t:()=>z});var p=S(9877),Q=S(6926);class z extends p.x{constructor(W=1/0,e=1/0,K=Q.l){super(),this._bufferSize=W,this._windowTime=e,this._timestampProvider=K,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,W),this._windowTime=Math.max(1,e)}next(W){const{isStopped:e,_buffer:K,_infiniteTimeWindow:Le,_timestampProvider:oe,_windowTime:re}=this;e||(K.push(W),!Le&&K.push(oe.now()+re)),this._trimBuffer(),super.next(W)}_subscribe(W){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(W),{_infiniteTimeWindow:K,_buffer:Le}=this,oe=Le.slice();for(let re=0;re<oe.length&&!W.closed;re+=K?1:2)W.next(oe[re]);return this._checkFinalizedStatuses(W),e}_trimBuffer(){const{_bufferSize:W,_timestampProvider:e,_buffer:K,_infiniteTimeWindow:Le}=this,oe=(Le?1:2)*W;if(W<1/0&&oe<K.length&&K.splice(0,K.length-oe),!Le){const re=e.now();let fe=0;for(let ne=1;ne<K.length&&K[ne]<=re;ne+=2)fe=ne;fe&&K.splice(0,fe+1)}}}},9877:(bt,ke,S)=>{"use strict";S.d(ke,{x:()=>K});var p=S(2235),Q=S(6482);const te=(0,S(1566).d)(oe=>function(){oe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var W=S(5559),e=S(575);let K=(()=>{class oe extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(fe){const ne=new Le(this,this);return ne.operator=fe,ne}_throwIfClosed(){if(this.closed)throw new te}next(fe){(0,e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ne of this.currentObservers)ne.next(fe)}})}error(fe){(0,e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=fe;const{observers:ne}=this;for(;ne.length;)ne.shift().error(fe)}})}complete(){(0,e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:fe}=this;for(;fe.length;)fe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var fe;return(null===(fe=this.observers)||void 0===fe?void 0:fe.length)>0}_trySubscribe(fe){return this._throwIfClosed(),super._trySubscribe(fe)}_subscribe(fe){return this._throwIfClosed(),this._checkFinalizedStatuses(fe),this._innerSubscribe(fe)}_innerSubscribe(fe){const{hasError:ne,isStopped:ge,observers:De}=this;return ne||ge?Q.Lc:(this.currentObservers=null,De.push(fe),new Q.w0(()=>{this.currentObservers=null,(0,W.P)(De,fe)}))}_checkFinalizedStatuses(fe){const{hasError:ne,thrownError:ge,isStopped:De}=this;ne?fe.error(ge):De&&fe.complete()}asObservable(){const fe=new p.y;return fe.source=this,fe}}return oe.create=(re,fe)=>new Le(re,fe),oe})();class Le extends K{constructor(re,fe){super(),this.destination=re,this.source=fe}next(re){var fe,ne;null===(ne=null===(fe=this.destination)||void 0===fe?void 0:fe.next)||void 0===ne||ne.call(fe,re)}error(re){var fe,ne;null===(ne=null===(fe=this.destination)||void 0===fe?void 0:fe.error)||void 0===ne||ne.call(fe,re)}complete(){var re,fe;null===(fe=null===(re=this.destination)||void 0===re?void 0:re.complete)||void 0===fe||fe.call(re)}_subscribe(re){var fe,ne;return null!==(ne=null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(re))&&void 0!==ne?ne:Q.Lc}}},6343:(bt,ke,S)=>{"use strict";S.d(ke,{Hp:()=>ze,Lv:()=>ne});var p=S(2602),Q=S(6482),z=S(5445),te=S(6929),W=S(2707);const e=oe("C",void 0,void 0);function oe(Ce,pe,de){return{kind:Ce,value:pe,error:de}}var re=S(8411),fe=S(575);class ne extends Q.w0{constructor(pe){super(),this.isStopped=!1,pe?(this.destination=pe,(0,Q.Nn)(pe)&&pe.add(this)):this.destination=nt}static create(pe,de,Ge){return new ze(pe,de,Ge)}next(pe){this.isStopped?Xe(function Le(Ce){return oe("N",Ce,void 0)}(pe),this):this._next(pe)}error(pe){this.isStopped?Xe(function K(Ce){return oe("E",void 0,Ce)}(pe),this):(this.isStopped=!0,this._error(pe))}complete(){this.isStopped?Xe(e,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(pe){this.destination.next(pe)}_error(pe){try{this.destination.error(pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ge=Function.prototype.bind;function De(Ce,pe){return ge.call(Ce,pe)}class xe{constructor(pe){this.partialObserver=pe}next(pe){const{partialObserver:de}=this;if(de.next)try{de.next(pe)}catch(Ge){ee(Ge)}}error(pe){const{partialObserver:de}=this;if(de.error)try{de.error(pe)}catch(Ge){ee(Ge)}else ee(pe)}complete(){const{partialObserver:pe}=this;if(pe.complete)try{pe.complete()}catch(de){ee(de)}}}class ze extends ne{constructor(pe,de,Ge){let Oe;if(super(),(0,p.m)(pe)||!pe)Oe={next:pe??void 0,error:de??void 0,complete:Ge??void 0};else{let Pe;this&&z.config.useDeprecatedNextContext?(Pe=Object.create(pe),Pe.unsubscribe=()=>this.unsubscribe(),Oe={next:pe.next&&De(pe.next,Pe),error:pe.error&&De(pe.error,Pe),complete:pe.complete&&De(pe.complete,Pe)}):Oe=pe}this.destination=new xe(Oe)}}function ee(Ce){z.config.useDeprecatedSynchronousErrorHandling?(0,fe.O)(Ce):(0,te.h)(Ce)}function Xe(Ce,pe){const{onStoppedNotification:de}=z.config;de&&re.z.setTimeout(()=>de(Ce,pe))}const nt={closed:!0,next:W.Z,error:function Me(Ce){throw Ce},complete:W.Z}},6482:(bt,ke,S)=>{"use strict";S.d(ke,{Lc:()=>e,w0:()=>W,Nn:()=>K});var p=S(2602);const z=(0,S(1566).d)(oe=>function(fe){oe(this),this.message=fe?`${fe.length} errors occurred during unsubscription:\n${fe.map((ne,ge)=>`${ge+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=fe});var te=S(5559);class W{constructor(re){this.initialTeardown=re,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let re;if(!this.closed){this.closed=!0;const{_parentage:fe}=this;if(fe)if(this._parentage=null,Array.isArray(fe))for(const De of fe)De.remove(this);else fe.remove(this);const{initialTeardown:ne}=this;if((0,p.m)(ne))try{ne()}catch(De){re=De instanceof z?De.errors:[De]}const{_finalizers:ge}=this;if(ge){this._finalizers=null;for(const De of ge)try{Le(De)}catch(xe){re=re??[],xe instanceof z?re=[...re,...xe.errors]:re.push(xe)}}if(re)throw new z(re)}}add(re){var fe;if(re&&re!==this)if(this.closed)Le(re);else{if(re instanceof W){if(re.closed||re._hasParent(this))return;re._addParent(this)}(this._finalizers=null!==(fe=this._finalizers)&&void 0!==fe?fe:[]).push(re)}}_hasParent(re){const{_parentage:fe}=this;return fe===re||Array.isArray(fe)&&fe.includes(re)}_addParent(re){const{_parentage:fe}=this;this._parentage=Array.isArray(fe)?(fe.push(re),fe):fe?[fe,re]:re}_removeParent(re){const{_parentage:fe}=this;fe===re?this._parentage=null:Array.isArray(fe)&&(0,te.P)(fe,re)}remove(re){const{_finalizers:fe}=this;fe&&(0,te.P)(fe,re),re instanceof W&&re._removeParent(this)}}W.EMPTY=(()=>{const oe=new W;return oe.closed=!0,oe})();const e=W.EMPTY;function K(oe){return oe instanceof W||oe&&"closed"in oe&&(0,p.m)(oe.remove)&&(0,p.m)(oe.add)&&(0,p.m)(oe.unsubscribe)}function Le(oe){(0,p.m)(oe)?oe():oe.unsubscribe()}},5445:(bt,ke,S)=>{"use strict";S.d(ke,{config:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3839:(bt,ke,S)=>{"use strict";S.d(ke,{a:()=>re});var p=S(2235),Q=S(7346),z=S(4683),te=S(204),W=S(7825),e=S(6190),K=S(6118),Le=S(5678),oe=S(9701);function re(...ge){const De=(0,e.yG)(ge),xe=(0,e.jO)(ge),{args:ze,keys:ee}=(0,Q.D)(ge);if(0===ze.length)return(0,z.D)([],De);const Me=new p.y(function fe(ge,De,xe=te.y){return ze=>{ne(De,()=>{const{length:ee}=ge,Me=new Array(ee);let Xe=ee,nt=ee;for(let Ce=0;Ce<ee;Ce++)ne(De,()=>{const pe=(0,z.D)(ge[Ce],De);let de=!1;pe.subscribe((0,Le.x)(ze,Ge=>{Me[Ce]=Ge,de||(de=!0,nt--),nt||ze.next(xe(Me.slice()))},()=>{--Xe||ze.complete()}))},ze)},ze)}}(ze,De,ee?Xe=>(0,K.n)(ee,Xe):te.y));return xe?Me.pipe((0,W.Z)(xe)):Me}function ne(ge,De,xe){ge?(0,oe.f)(xe,ge,De):De()}},5823:(bt,ke,S)=>{"use strict";S.d(ke,{z:()=>W});var p=S(7047),z=S(6190),te=S(4683);function W(...e){return function Q(){return(0,p.J)(1)}()((0,te.D)(e,(0,z.yG)(e)))}},6290:(bt,ke,S)=>{"use strict";S.d(ke,{E:()=>Q});const Q=new(S(2235).y)(W=>W.complete())},4300:(bt,ke,S)=>{"use strict";S.d(ke,{D:()=>Le});var p=S(2235),Q=S(7346),z=S(384),te=S(6190),W=S(5678),e=S(7825),K=S(6118);function Le(...oe){const re=(0,te.jO)(oe),{args:fe,keys:ne}=(0,Q.D)(oe),ge=new p.y(De=>{const{length:xe}=fe;if(!xe)return void De.complete();const ze=new Array(xe);let ee=xe,Me=xe;for(let Xe=0;Xe<xe;Xe++){let nt=!1;(0,z.Xf)(fe[Xe]).subscribe((0,W.x)(De,Ce=>{nt||(nt=!0,Me--),ze[Xe]=Ce},()=>ee--,void 0,()=>{(!ee||!nt)&&(Me||De.next(ne?(0,K.n)(ne,ze):ze),De.complete())}))}});return re?ge.pipe((0,e.Z)(re)):ge}},4683:(bt,ke,S)=>{"use strict";S.d(ke,{D:()=>Ge});var p=S(384),Q=S(9701),z=S(4114),te=S(5678);function W(Oe,Pe=0){return(0,z.e)(($e,He)=>{$e.subscribe((0,te.x)(He,ft=>(0,Q.f)(He,Oe,()=>He.next(ft),Pe),()=>(0,Q.f)(He,Oe,()=>He.complete(),Pe),ft=>(0,Q.f)(He,Oe,()=>He.error(ft),Pe)))})}function e(Oe,Pe=0){return(0,z.e)(($e,He)=>{He.add(Oe.schedule(()=>$e.subscribe(He),Pe))})}var oe=S(2235),fe=S(6691),ne=S(2602);function De(Oe,Pe){if(!Oe)throw new Error("Iterable cannot be null");return new oe.y($e=>{(0,Q.f)($e,Pe,()=>{const He=Oe[Symbol.asyncIterator]();(0,Q.f)($e,Pe,()=>{He.next().then(ft=>{ft.done?$e.complete():$e.next(ft.value)})},0,!0)})})}var xe=S(7808),ze=S(3972),ee=S(1287),Me=S(9449),Xe=S(5235),nt=S(2614),Ce=S(401);function Ge(Oe,Pe){return Pe?function de(Oe,Pe){if(null!=Oe){if((0,xe.c)(Oe))return function K(Oe,Pe){return(0,p.Xf)(Oe).pipe(e(Pe),W(Pe))}(Oe,Pe);if((0,ee.z)(Oe))return function re(Oe,Pe){return new oe.y($e=>{let He=0;return Pe.schedule(function(){He===Oe.length?$e.complete():($e.next(Oe[He++]),$e.closed||this.schedule())})})}(Oe,Pe);if((0,ze.t)(Oe))return function Le(Oe,Pe){return(0,p.Xf)(Oe).pipe(e(Pe),W(Pe))}(Oe,Pe);if((0,Xe.D)(Oe))return De(Oe,Pe);if((0,Me.T)(Oe))return function ge(Oe,Pe){return new oe.y($e=>{let He;return(0,Q.f)($e,Pe,()=>{He=Oe[fe.h](),(0,Q.f)($e,Pe,()=>{let ft,Fe;try{({value:ft,done:Fe}=He.next())}catch(Bt){return void $e.error(Bt)}Fe?$e.complete():$e.next(ft)},0,!0)}),()=>(0,ne.m)(He?.return)&&He.return()})}(Oe,Pe);if((0,Ce.L)(Oe))return function pe(Oe,Pe){return De((0,Ce.Q)(Oe),Pe)}(Oe,Pe)}throw(0,nt.z)(Oe)}(Oe,Pe):(0,p.Xf)(Oe)}},384:(bt,ke,S)=>{"use strict";S.d(ke,{Xf:()=>ge});var p=S(2321),Q=S(1287),z=S(3972),te=S(2235),W=S(7808),e=S(5235),K=S(2614),Le=S(9449),oe=S(401),re=S(2602),fe=S(6929),ne=S(4373);function ge(Ce){if(Ce instanceof te.y)return Ce;if(null!=Ce){if((0,W.c)(Ce))return function De(Ce){return new te.y(pe=>{const de=Ce[ne.L]();if((0,re.m)(de.subscribe))return de.subscribe(pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ce);if((0,Q.z)(Ce))return function xe(Ce){return new te.y(pe=>{for(let de=0;de<Ce.length&&!pe.closed;de++)pe.next(Ce[de]);pe.complete()})}(Ce);if((0,z.t)(Ce))return function ze(Ce){return new te.y(pe=>{Ce.then(de=>{pe.closed||(pe.next(de),pe.complete())},de=>pe.error(de)).then(null,fe.h)})}(Ce);if((0,e.D)(Ce))return Me(Ce);if((0,Le.T)(Ce))return function ee(Ce){return new te.y(pe=>{for(const de of Ce)if(pe.next(de),pe.closed)return;pe.complete()})}(Ce);if((0,oe.L)(Ce))return function Xe(Ce){return Me((0,oe.Q)(Ce))}(Ce)}throw(0,K.z)(Ce)}function Me(Ce){return new te.y(pe=>{(function nt(Ce,pe){var de,Ge,Oe,Pe;return(0,p.mG)(this,void 0,void 0,function*(){try{for(de=(0,p.KL)(Ce);!(Ge=yield de.next()).done;)if(pe.next(Ge.value),pe.closed)return}catch($e){Oe={error:$e}}finally{try{Ge&&!Ge.done&&(Pe=de.return)&&(yield Pe.call(de))}finally{if(Oe)throw Oe.error}}pe.complete()})})(Ce,pe).catch(de=>pe.error(de))})}},7835:(bt,ke,S)=>{"use strict";S.d(ke,{T:()=>e});var p=S(7047),Q=S(384),z=S(6290),te=S(6190),W=S(4683);function e(...K){const Le=(0,te.yG)(K),oe=(0,te._6)(K,1/0),re=K;return re.length?1===re.length?(0,Q.Xf)(re[0]):(0,p.J)(oe)((0,W.D)(re,Le)):z.E}},4980:(bt,ke,S)=>{"use strict";S.d(ke,{of:()=>z});var p=S(6190),Q=S(4683);function z(...te){const W=(0,p.yG)(te);return(0,Q.D)(te,W)}},3252:(bt,ke,S)=>{"use strict";S.d(ke,{_:()=>z});var p=S(2235),Q=S(2602);function z(te,W){const e=(0,Q.m)(te)?te:()=>te,K=Le=>Le.error(e());return new p.y(W?Le=>W.schedule(K,0,Le):K)}},5678:(bt,ke,S)=>{"use strict";S.d(ke,{x:()=>Q});var p=S(6343);function Q(te,W,e,K,Le){return new z(te,W,e,K,Le)}class z extends p.Lv{constructor(W,e,K,Le,oe,re){super(W),this.onFinalize=oe,this.shouldUnsubscribe=re,this._next=e?function(fe){try{e(fe)}catch(ne){W.error(ne)}}:super._next,this._error=Le?function(fe){try{Le(fe)}catch(ne){W.error(ne)}finally{this.unsubscribe()}}:super._error,this._complete=K?function(){try{K()}catch(fe){W.error(fe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var W;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(W=this.onFinalize)||void 0===W||W.call(this))}}}},2389:(bt,ke,S)=>{"use strict";S.d(ke,{K:()=>te});var p=S(384),Q=S(5678),z=S(4114);function te(W){return(0,z.e)((e,K)=>{let re,Le=null,oe=!1;Le=e.subscribe((0,Q.x)(K,void 0,void 0,fe=>{re=(0,p.Xf)(W(fe,te(W)(e))),Le?(Le.unsubscribe(),Le=null,re.subscribe(K)):oe=!0})),oe&&(Le.unsubscribe(),Le=null,re.subscribe(K))})}},5616:(bt,ke,S)=>{"use strict";S.d(ke,{b:()=>z});var p=S(9912),Q=S(2602);function z(te,W){return(0,Q.m)(W)?(0,p.z)(te,W,1):(0,p.z)(te,1)}},655:(bt,ke,S)=>{"use strict";S.d(ke,{b:()=>te});var p=S(1826),Q=S(4114),z=S(5678);function te(W,e=p.z){return(0,Q.e)((K,Le)=>{let oe=null,re=null,fe=null;const ne=()=>{if(oe){oe.unsubscribe(),oe=null;const De=re;re=null,Le.next(De)}};function ge(){const De=fe+W,xe=e.now();if(xe<De)return oe=this.schedule(void 0,De-xe),void Le.add(oe);ne()}K.subscribe((0,z.x)(Le,De=>{re=De,fe=e.now(),oe||(oe=e.schedule(ge,W),Le.add(oe))},()=>{ne(),Le.complete()},void 0,()=>{re=oe=null}))})}},728:(bt,ke,S)=>{"use strict";S.d(ke,{d:()=>z});var p=S(4114),Q=S(5678);function z(te){return(0,p.e)((W,e)=>{let K=!1;W.subscribe((0,Q.x)(e,Le=>{K=!0,e.next(Le)},()=>{K||e.next(te),e.complete()}))})}},3317:(bt,ke,S)=>{"use strict";S.d(ke,{x:()=>te});var p=S(204),Q=S(4114),z=S(5678);function te(e,K=p.y){return e=e??W,(0,Q.e)((Le,oe)=>{let re,fe=!0;Le.subscribe((0,z.x)(oe,ne=>{const ge=K(ne);(fe||!e(re,ge))&&(fe=!1,re=ge,oe.next(ne))}))})}function W(e,K){return e===K}},4520:(bt,ke,S)=>{"use strict";S.d(ke,{h:()=>z});var p=S(4114),Q=S(5678);function z(te,W){return(0,p.e)((e,K)=>{let Le=0;e.subscribe((0,Q.x)(K,oe=>te.call(W,oe,Le++)&&K.next(oe)))})}},7474:(bt,ke,S)=>{"use strict";S.d(ke,{x:()=>Q});var p=S(4114);function Q(z){return(0,p.e)((te,W)=>{try{te.subscribe(W)}finally{W.add(z)}})}},5267:(bt,ke,S)=>{"use strict";S.d(ke,{P:()=>K});var p=S(1967),Q=S(4520),z=S(1527),te=S(728),W=S(3614),e=S(204);function K(Le,oe){const re=arguments.length>=2;return fe=>fe.pipe(Le?(0,Q.h)((ne,ge)=>Le(ne,ge,fe)):e.y,(0,z.q)(1),re?(0,te.d)(oe):(0,W.T)(()=>new p.K))}},9736:(bt,ke,S)=>{"use strict";S.d(ke,{U:()=>z});var p=S(4114),Q=S(5678);function z(te,W){return(0,p.e)((e,K)=>{let Le=0;e.subscribe((0,Q.x)(K,oe=>{K.next(te.call(W,oe,Le++))}))})}},8037:(bt,ke,S)=>{"use strict";S.d(ke,{h:()=>Q});var p=S(9736);function Q(z){return(0,p.U)(()=>z)}},7047:(bt,ke,S)=>{"use strict";S.d(ke,{J:()=>z});var p=S(9912),Q=S(204);function z(te=1/0){return(0,p.z)(Q.y,te)}},9912:(bt,ke,S)=>{"use strict";S.d(ke,{z:()=>Le});var p=S(9736),Q=S(384),z=S(4114),te=S(9701),W=S(5678),K=S(2602);function Le(oe,re,fe=1/0){return(0,K.m)(re)?Le((ne,ge)=>(0,p.U)((De,xe)=>re(ne,De,ge,xe))((0,Q.Xf)(oe(ne,ge))),fe):("number"==typeof re&&(fe=re),(0,z.e)((ne,ge)=>function e(oe,re,fe,ne,ge,De,xe,ze){const ee=[];let Me=0,Xe=0,nt=!1;const Ce=()=>{nt&&!ee.length&&!Me&&re.complete()},pe=Ge=>Me<ne?de(Ge):ee.push(Ge),de=Ge=>{De&&re.next(Ge),Me++;let Oe=!1;(0,Q.Xf)(fe(Ge,Xe++)).subscribe((0,W.x)(re,Pe=>{ge?.(Pe),De?pe(Pe):re.next(Pe)},()=>{Oe=!0},void 0,()=>{if(Oe)try{for(Me--;ee.length&&Me<ne;){const Pe=ee.shift();xe?(0,te.f)(re,xe,()=>de(Pe)):de(Pe)}Ce()}catch(Pe){re.error(Pe)}}))};return oe.subscribe((0,W.x)(re,pe,()=>{nt=!0,Ce()})),()=>{ze?.()}}(ne,ge,oe,fe)))}},5584:(bt,ke,S)=>{"use strict";S.d(ke,{B:()=>W});var p=S(384),Q=S(9877),z=S(6343),te=S(4114);function W(K={}){const{connector:Le=(()=>new Q.x),resetOnError:oe=!0,resetOnComplete:re=!0,resetOnRefCountZero:fe=!0}=K;return ne=>{let ge,De,xe,ze=0,ee=!1,Me=!1;const Xe=()=>{De?.unsubscribe(),De=void 0},nt=()=>{Xe(),ge=xe=void 0,ee=Me=!1},Ce=()=>{const pe=ge;nt(),pe?.unsubscribe()};return(0,te.e)((pe,de)=>{ze++,!Me&&!ee&&Xe();const Ge=xe=xe??Le();de.add(()=>{ze--,0===ze&&!Me&&!ee&&(De=e(Ce,fe))}),Ge.subscribe(de),!ge&&ze>0&&(ge=new z.Hp({next:Oe=>Ge.next(Oe),error:Oe=>{Me=!0,Xe(),De=e(nt,oe,Oe),Ge.error(Oe)},complete:()=>{ee=!0,Xe(),De=e(nt,re),Ge.complete()}}),(0,p.Xf)(pe).subscribe(ge))})(ne)}}function e(K,Le,...oe){if(!0===Le)return void K();if(!1===Le)return;const re=new z.Hp({next:()=>{re.unsubscribe(),K()}});return Le(...oe).subscribe(re)}},5357:(bt,ke,S)=>{"use strict";S.d(ke,{T:()=>Q});var p=S(4520);function Q(z){return(0,p.h)((te,W)=>z<=W)}},5043:(bt,ke,S)=>{"use strict";S.d(ke,{O:()=>te});var p=S(5823),Q=S(6190),z=S(4114);function te(...W){const e=(0,Q.yG)(W);return(0,z.e)((K,Le)=>{(e?(0,p.z)(W,K,e):(0,p.z)(W,K)).subscribe(Le)})}},1891:(bt,ke,S)=>{"use strict";S.d(ke,{w:()=>te});var p=S(384),Q=S(4114),z=S(5678);function te(W,e){return(0,Q.e)((K,Le)=>{let oe=null,re=0,fe=!1;const ne=()=>fe&&!oe&&Le.complete();K.subscribe((0,z.x)(Le,ge=>{oe?.unsubscribe();let De=0;const xe=re++;(0,p.Xf)(W(ge,xe)).subscribe(oe=(0,z.x)(Le,ze=>Le.next(e?e(ge,ze,xe,De++):ze),()=>{oe=null,ne()}))},()=>{fe=!0,ne()}))})}},1527:(bt,ke,S)=>{"use strict";S.d(ke,{q:()=>te});var p=S(6290),Q=S(4114),z=S(5678);function te(W){return W<=0?()=>p.E:(0,Q.e)((e,K)=>{let Le=0;e.subscribe((0,z.x)(K,oe=>{++Le<=W&&(K.next(oe),W<=Le&&K.complete())}))})}},274:(bt,ke,S)=>{"use strict";S.d(ke,{R:()=>W});var p=S(4114),Q=S(5678),z=S(384),te=S(2707);function W(e){return(0,p.e)((K,Le)=>{(0,z.Xf)(e).subscribe((0,Q.x)(Le,()=>Le.complete(),te.Z)),!Le.closed&&K.subscribe(Le)})}},3738:(bt,ke,S)=>{"use strict";S.d(ke,{b:()=>W});var p=S(2602),Q=S(4114),z=S(5678),te=S(204);function W(e,K,Le){const oe=(0,p.m)(e)||K||Le?{next:e,error:K,complete:Le}:e;return oe?(0,Q.e)((re,fe)=>{var ne;null===(ne=oe.subscribe)||void 0===ne||ne.call(oe);let ge=!0;re.subscribe((0,z.x)(fe,De=>{var xe;null===(xe=oe.next)||void 0===xe||xe.call(oe,De),fe.next(De)},()=>{var De;ge=!1,null===(De=oe.complete)||void 0===De||De.call(oe),fe.complete()},De=>{var xe;ge=!1,null===(xe=oe.error)||void 0===xe||xe.call(oe,De),fe.error(De)},()=>{var De,xe;ge&&(null===(De=oe.unsubscribe)||void 0===De||De.call(oe)),null===(xe=oe.finalize)||void 0===xe||xe.call(oe)}))}):te.y}},3614:(bt,ke,S)=>{"use strict";S.d(ke,{T:()=>te});var p=S(1967),Q=S(4114),z=S(5678);function te(e=W){return(0,Q.e)((K,Le)=>{let oe=!1;K.subscribe((0,z.x)(Le,re=>{oe=!0,Le.next(re)},()=>oe?Le.complete():Le.error(e())))})}function W(){return new p.K}},1826:(bt,ke,S)=>{"use strict";S.d(ke,{P:()=>re,z:()=>oe});var p=S(6482);class Q extends p.w0{constructor(ne,ge){super()}schedule(ne,ge=0){return this}}const z={setInterval(fe,ne,...ge){const{delegate:De}=z;return De?.setInterval?De.setInterval(fe,ne,...ge):setInterval(fe,ne,...ge)},clearInterval(fe){const{delegate:ne}=z;return(ne?.clearInterval||clearInterval)(fe)},delegate:void 0};var te=S(5559),e=S(6926);class K{constructor(ne,ge=K.now){this.schedulerActionCtor=ne,this.now=ge}schedule(ne,ge=0,De){return new this.schedulerActionCtor(this,ne).schedule(De,ge)}}K.now=e.l.now;const oe=new class Le extends K{constructor(ne,ge=K.now){super(ne,ge),this.actions=[],this._active=!1}flush(ne){const{actions:ge}=this;if(this._active)return void ge.push(ne);let De;this._active=!0;do{if(De=ne.execute(ne.state,ne.delay))break}while(ne=ge.shift());if(this._active=!1,De){for(;ne=ge.shift();)ne.unsubscribe();throw De}}}(class W extends Q{constructor(ne,ge){super(ne,ge),this.scheduler=ne,this.work=ge,this.pending=!1}schedule(ne,ge=0){var De;if(this.closed)return this;this.state=ne;const xe=this.id,ze=this.scheduler;return null!=xe&&(this.id=this.recycleAsyncId(ze,xe,ge)),this.pending=!0,this.delay=ge,this.id=null!==(De=this.id)&&void 0!==De?De:this.requestAsyncId(ze,this.id,ge),this}requestAsyncId(ne,ge,De=0){return z.setInterval(ne.flush.bind(ne,this),De)}recycleAsyncId(ne,ge,De=0){if(null!=De&&this.delay===De&&!1===this.pending)return ge;null!=ge&&z.clearInterval(ge)}execute(ne,ge){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const De=this._execute(ne,ge);if(De)return De;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ne,ge){let xe,De=!1;try{this.work(ne)}catch(ze){De=!0,xe=ze||new Error("Scheduled action threw falsy error")}if(De)return this.unsubscribe(),xe}unsubscribe(){if(!this.closed){const{id:ne,scheduler:ge}=this,{actions:De}=ge;this.work=this.state=this.scheduler=null,this.pending=!1,(0,te.P)(De,this),null!=ne&&(this.id=this.recycleAsyncId(ge,ne,null)),this.delay=null,super.unsubscribe()}}}),re=oe},6926:(bt,ke,S)=>{"use strict";S.d(ke,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},8411:(bt,ke,S)=>{"use strict";S.d(ke,{z:()=>p});const p={setTimeout(Q,z,...te){const{delegate:W}=p;return W?.setTimeout?W.setTimeout(Q,z,...te):setTimeout(Q,z,...te)},clearTimeout(Q){const{delegate:z}=p;return(z?.clearTimeout||clearTimeout)(Q)},delegate:void 0}},6691:(bt,ke,S)=>{"use strict";S.d(ke,{h:()=>Q});const Q=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4373:(bt,ke,S)=>{"use strict";S.d(ke,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},1967:(bt,ke,S)=>{"use strict";S.d(ke,{K:()=>Q});const Q=(0,S(1566).d)(z=>function(){z(this),this.name="EmptyError",this.message="no elements in sequence"})},6190:(bt,ke,S)=>{"use strict";S.d(ke,{_6:()=>e,jO:()=>te,yG:()=>W});var p=S(2602),Q=S(7426);function z(K){return K[K.length-1]}function te(K){return(0,p.m)(z(K))?K.pop():void 0}function W(K){return(0,Q.K)(z(K))?K.pop():void 0}function e(K,Le){return"number"==typeof z(K)?K.pop():Le}},7346:(bt,ke,S)=>{"use strict";S.d(ke,{D:()=>W});const{isArray:p}=Array,{getPrototypeOf:Q,prototype:z,keys:te}=Object;function W(K){if(1===K.length){const Le=K[0];if(p(Le))return{args:Le,keys:null};if(function e(K){return K&&"object"==typeof K&&Q(K)===z}(Le)){const oe=te(Le);return{args:oe.map(re=>Le[re]),keys:oe}}}return{args:K,keys:null}}},5559:(bt,ke,S)=>{"use strict";function p(Q,z){if(Q){const te=Q.indexOf(z);0<=te&&Q.splice(te,1)}}S.d(ke,{P:()=>p})},1566:(bt,ke,S)=>{"use strict";function p(Q){const te=Q(W=>{Error.call(W),W.stack=(new Error).stack});return te.prototype=Object.create(Error.prototype),te.prototype.constructor=te,te}S.d(ke,{d:()=>p})},6118:(bt,ke,S)=>{"use strict";function p(Q,z){return Q.reduce((te,W,e)=>(te[W]=z[e],te),{})}S.d(ke,{n:()=>p})},575:(bt,ke,S)=>{"use strict";S.d(ke,{O:()=>te,x:()=>z});var p=S(5445);let Q=null;function z(W){if(p.config.useDeprecatedSynchronousErrorHandling){const e=!Q;if(e&&(Q={errorThrown:!1,error:null}),W(),e){const{errorThrown:K,error:Le}=Q;if(Q=null,K)throw Le}}else W()}function te(W){p.config.useDeprecatedSynchronousErrorHandling&&Q&&(Q.errorThrown=!0,Q.error=W)}},9701:(bt,ke,S)=>{"use strict";function p(Q,z,te,W=0,e=!1){const K=z.schedule(function(){te(),e?Q.add(this.schedule(null,W)):this.unsubscribe()},W);if(Q.add(K),!e)return K}S.d(ke,{f:()=>p})},204:(bt,ke,S)=>{"use strict";function p(Q){return Q}S.d(ke,{y:()=>p})},1287:(bt,ke,S)=>{"use strict";S.d(ke,{z:()=>p});const p=Q=>Q&&"number"==typeof Q.length&&"function"!=typeof Q},5235:(bt,ke,S)=>{"use strict";S.d(ke,{D:()=>Q});var p=S(2602);function Q(z){return Symbol.asyncIterator&&(0,p.m)(z?.[Symbol.asyncIterator])}},2602:(bt,ke,S)=>{"use strict";function p(Q){return"function"==typeof Q}S.d(ke,{m:()=>p})},7808:(bt,ke,S)=>{"use strict";S.d(ke,{c:()=>z});var p=S(4373),Q=S(2602);function z(te){return(0,Q.m)(te[p.L])}},9449:(bt,ke,S)=>{"use strict";S.d(ke,{T:()=>z});var p=S(6691),Q=S(2602);function z(te){return(0,Q.m)(te?.[p.h])}},3972:(bt,ke,S)=>{"use strict";S.d(ke,{t:()=>Q});var p=S(2602);function Q(z){return(0,p.m)(z?.then)}},401:(bt,ke,S)=>{"use strict";S.d(ke,{L:()=>te,Q:()=>z});var p=S(2321),Q=S(2602);function z(W){return(0,p.FC)(this,arguments,function*(){const K=W.getReader();try{for(;;){const{value:Le,done:oe}=yield(0,p.qq)(K.read());if(oe)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(Le)}}finally{K.releaseLock()}})}function te(W){return(0,Q.m)(W?.getReader)}},7426:(bt,ke,S)=>{"use strict";S.d(ke,{K:()=>Q});var p=S(2602);function Q(z){return z&&(0,p.m)(z.schedule)}},4114:(bt,ke,S)=>{"use strict";S.d(ke,{A:()=>Q,e:()=>z});var p=S(2602);function Q(te){return(0,p.m)(te?.lift)}function z(te){return W=>{if(Q(W))return W.lift(function(e){try{return te(e,this)}catch(K){this.error(K)}});throw new TypeError("Unable to lift unknown Observable type")}}},7825:(bt,ke,S)=>{"use strict";S.d(ke,{Z:()=>te});var p=S(9736);const{isArray:Q}=Array;function te(W){return(0,p.U)(e=>function z(W,e){return Q(e)?W(...e):W(e)}(W,e))}},2707:(bt,ke,S)=>{"use strict";function p(){}S.d(ke,{Z:()=>p})},2476:(bt,ke,S)=>{"use strict";S.d(ke,{U:()=>z,z:()=>Q});var p=S(204);function Q(...te){return z(te)}function z(te){return 0===te.length?p.y:1===te.length?te[0]:function(e){return te.reduce((K,Le)=>Le(K),e)}}},6929:(bt,ke,S)=>{"use strict";S.d(ke,{h:()=>z});var p=S(5445),Q=S(8411);function z(te){Q.z.setTimeout(()=>{const{onUnhandledError:W}=p.config;if(!W)throw te;W(te)})}},2614:(bt,ke,S)=>{"use strict";function p(Q){return new TypeError(`You provided ${null!==Q&&"object"==typeof Q?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}S.d(ke,{z:()=>p})},8265:bt=>{function ke(p,Q,z){p.addEventListener("wheel",Q,z)}bt.exports=ke,bt.exports.addWheelListener=ke,bt.exports.removeWheelListener=function S(p,Q,z){p.removeEventListener("wheel",Q,z)}},3344:(bt,ke,S)=>{"use strict";S.d(ke,{Eq:()=>W,Ig:()=>Q,fI:()=>K});var p=S(1699);function Q(oe){return null!=oe&&"false"!=`${oe}`}function W(oe){return Array.isArray(oe)?oe:[oe]}function K(oe){return oe instanceof p.SBq?oe.nativeElement:oe}},1134:(bt,ke,S)=>{"use strict";S.d(ke,{Yg:()=>nt,xu:()=>De});var p=S(1699),Q=S(3344),z=S(9877),te=S(3839),W=S(5823),e=S(2235),K=S(1527),Le=S(5357),oe=S(655),re=S(9736),fe=S(5043),ne=S(274),ge=S(6744);let De=(()=>{class de{}return de.\u0275fac=function(Oe){return new(Oe||de)},de.\u0275mod=p.oAB({type:de}),de.\u0275inj=p.cJS({}),de})();const xe=new Set;let ze,ee=(()=>{class de{constructor(Oe){this._platform=Oe,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Xe}matchMedia(Oe){return(this._platform.WEBKIT||this._platform.BLINK)&&function Me(de){if(!xe.has(de))try{ze||(ze=document.createElement("style"),ze.setAttribute("type","text/css"),document.head.appendChild(ze)),ze.sheet&&(ze.sheet.insertRule(`@media ${de} {body{ }}`,0),xe.add(de))}catch(Ge){console.error(Ge)}}(Oe),this._matchMedia(Oe)}}return de.\u0275fac=function(Oe){return new(Oe||de)(p.LFG(ge.t4))},de.\u0275prov=p.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})();function Xe(de){return{matches:"all"===de||""===de,media:de,addListener:()=>{},removeListener:()=>{}}}let nt=(()=>{class de{constructor(Oe,Pe){this._mediaMatcher=Oe,this._zone=Pe,this._queries=new Map,this._destroySubject=new z.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(Oe){return Ce((0,Q.Eq)(Oe)).some($e=>this._registerQuery($e).mql.matches)}observe(Oe){const $e=Ce((0,Q.Eq)(Oe)).map(ft=>this._registerQuery(ft).observable);let He=(0,te.a)($e);return He=(0,W.z)(He.pipe((0,K.q)(1)),He.pipe((0,Le.T)(1),(0,oe.b)(0))),He.pipe((0,re.U)(ft=>{const Fe={matches:!1,breakpoints:{}};return ft.forEach(({matches:Bt,query:ut})=>{Fe.matches=Fe.matches||Bt,Fe.breakpoints[ut]=Bt}),Fe}))}_registerQuery(Oe){if(this._queries.has(Oe))return this._queries.get(Oe);const Pe=this._mediaMatcher.matchMedia(Oe),He={observable:new e.y(ft=>{const Fe=Bt=>this._zone.run(()=>ft.next(Bt));return Pe.addListener(Fe),()=>{Pe.removeListener(Fe)}}).pipe((0,fe.O)(Pe),(0,re.U)(({matches:ft})=>({query:Oe,matches:ft})),(0,ne.R)(this._destroySubject)),mql:Pe};return this._queries.set(Oe,He),He}}return de.\u0275fac=function(Oe){return new(Oe||de)(p.LFG(ee),p.LFG(p.R0b))},de.\u0275prov=p.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})();function Ce(de){return de.map(Ge=>Ge.split(",")).reduce((Ge,Oe)=>Ge.concat(Oe)).map(Ge=>Ge.trim())}},6744:(bt,ke,S)=>{"use strict";S.d(ke,{Oy:()=>Ce,i$:()=>fe,sA:()=>nt,t4:()=>te});var p=S(1699),Q=S(6575);let z;try{z=typeof Intl<"u"&&Intl.v8BreakIterator}catch{z=!1}let oe,te=(()=>{class pe{constructor(Ge){this._platformId=Ge,this.isBrowser=this._platformId?(0,Q.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!z)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return pe.\u0275fac=function(Ge){return new(Ge||pe)(p.LFG(p.Lbi))},pe.\u0275prov=p.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})();function fe(pe){return function re(){if(null==oe&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>oe=!0}))}finally{oe=oe||!1}return oe}()?pe:!!pe.capture}function nt(pe){return pe.composedPath?pe.composedPath()[0]:pe.target}function Ce(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},6575:(bt,ke,S)=>{"use strict";S.d(ke,{Do:()=>ze,ED:()=>Yi,EM:()=>ko,HT:()=>te,JF:()=>Wo,K0:()=>e,Mn:()=>ut,Mx:()=>Zn,NF:()=>ho,O5:()=>vi,PM:()=>Mo,RF:()=>Gi,S$:()=>ge,Tn:()=>Pe,UT:()=>pt,V_:()=>Le,Ye:()=>ee,ax:()=>Cn,b0:()=>xe,bD:()=>Eo,ez:()=>Di,i8:()=>Vo,n9:()=>wo,p6:()=>Fn,q:()=>z,sg:()=>Cn,tP:()=>Je,w_:()=>W,x:()=>Oe});var p=S(1699);let Q=null;function z(){return Q}function te(C){Q||(Q=C)}class W{}const e=new p.OlP("DocumentToken");let K=(()=>{class C{historyGo(I){throw new Error("Not implemented")}static#e=this.\u0275fac=function(F){return new(F||C)};static#t=this.\u0275prov=p.Yz7({token:C,factory:function(){return(0,p.f3M)(oe)},providedIn:"platform"})}return C})();const Le=new p.OlP("Location Initialized");let oe=(()=>{class C extends K{constructor(){super(),this._doc=(0,p.f3M)(e),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return z().getBaseHref(this._doc)}onPopState(I){const F=z().getGlobalEventTarget(this._doc,"window");return F.addEventListener("popstate",I,!1),()=>F.removeEventListener("popstate",I)}onHashChange(I){const F=z().getGlobalEventTarget(this._doc,"window");return F.addEventListener("hashchange",I,!1),()=>F.removeEventListener("hashchange",I)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(I){this._location.pathname=I}pushState(I,F,le){this._history.pushState(I,F,le)}replaceState(I,F,le){this._history.replaceState(I,F,le)}forward(){this._history.forward()}back(){this._history.back()}historyGo(I=0){this._history.go(I)}getState(){return this._history.state}static#e=this.\u0275fac=function(F){return new(F||C)};static#t=this.\u0275prov=p.Yz7({token:C,factory:function(){return new C},providedIn:"platform"})}return C})();function re(C,j){if(0==C.length)return j;if(0==j.length)return C;let I=0;return C.endsWith("/")&&I++,j.startsWith("/")&&I++,2==I?C+j.substring(1):1==I?C+j:C+"/"+j}function fe(C){const j=C.match(/#|\?|$/),I=j&&j.index||C.length;return C.slice(0,I-("/"===C[I-1]?1:0))+C.slice(I)}function ne(C){return C&&"?"!==C[0]?"?"+C:C}let ge=(()=>{class C{historyGo(I){throw new Error("Not implemented")}static#e=this.\u0275fac=function(F){return new(F||C)};static#t=this.\u0275prov=p.Yz7({token:C,factory:function(){return(0,p.f3M)(xe)},providedIn:"root"})}return C})();const De=new p.OlP("appBaseHref");let xe=(()=>{class C extends ge{constructor(I,F){super(),this._platformLocation=I,this._removeListenerFns=[],this._baseHref=F??this._platformLocation.getBaseHrefFromDOM()??(0,p.f3M)(e).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(I){this._removeListenerFns.push(this._platformLocation.onPopState(I),this._platformLocation.onHashChange(I))}getBaseHref(){return this._baseHref}prepareExternalUrl(I){return re(this._baseHref,I)}path(I=!1){const F=this._platformLocation.pathname+ne(this._platformLocation.search),le=this._platformLocation.hash;return le&&I?`${F}${le}`:F}pushState(I,F,le,et){const vt=this.prepareExternalUrl(le+ne(et));this._platformLocation.pushState(I,F,vt)}replaceState(I,F,le,et){const vt=this.prepareExternalUrl(le+ne(et));this._platformLocation.replaceState(I,F,vt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(I=0){this._platformLocation.historyGo?.(I)}static#e=this.\u0275fac=function(F){return new(F||C)(p.LFG(K),p.LFG(De,8))};static#t=this.\u0275prov=p.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})(),ze=(()=>{class C extends ge{constructor(I,F){super(),this._platformLocation=I,this._baseHref="",this._removeListenerFns=[],null!=F&&(this._baseHref=F)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(I){this._removeListenerFns.push(this._platformLocation.onPopState(I),this._platformLocation.onHashChange(I))}getBaseHref(){return this._baseHref}path(I=!1){let F=this._platformLocation.hash;return null==F&&(F="#"),F.length>0?F.substring(1):F}prepareExternalUrl(I){const F=re(this._baseHref,I);return F.length>0?"#"+F:F}pushState(I,F,le,et){let vt=this.prepareExternalUrl(le+ne(et));0==vt.length&&(vt=this._platformLocation.pathname),this._platformLocation.pushState(I,F,vt)}replaceState(I,F,le,et){let vt=this.prepareExternalUrl(le+ne(et));0==vt.length&&(vt=this._platformLocation.pathname),this._platformLocation.replaceState(I,F,vt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(I=0){this._platformLocation.historyGo?.(I)}static#e=this.\u0275fac=function(F){return new(F||C)(p.LFG(K),p.LFG(De,8))};static#t=this.\u0275prov=p.Yz7({token:C,factory:C.\u0275fac})}return C})(),ee=(()=>{class C{constructor(I){this._subject=new p.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=I;const F=this._locationStrategy.getBaseHref();this._basePath=function Ce(C){if(new RegExp("^(https?:)?//").test(C)){const[,I]=C.split(/\/\/[^\/]+/);return I}return C}(fe(nt(F))),this._locationStrategy.onPopState(le=>{this._subject.emit({url:this.path(!0),pop:!0,state:le.state,type:le.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(I=!1){return this.normalize(this._locationStrategy.path(I))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(I,F=""){return this.path()==this.normalize(I+ne(F))}normalize(I){return C.stripTrailingSlash(function Xe(C,j){if(!C||!j.startsWith(C))return j;const I=j.substring(C.length);return""===I||["/",";","?","#"].includes(I[0])?I:j}(this._basePath,nt(I)))}prepareExternalUrl(I){return I&&"/"!==I[0]&&(I="/"+I),this._locationStrategy.prepareExternalUrl(I)}go(I,F="",le=null){this._locationStrategy.pushState(le,"",I,F),this._notifyUrlChangeListeners(this.prepareExternalUrl(I+ne(F)),le)}replaceState(I,F="",le=null){this._locationStrategy.replaceState(le,"",I,F),this._notifyUrlChangeListeners(this.prepareExternalUrl(I+ne(F)),le)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(I=0){this._locationStrategy.historyGo?.(I)}onUrlChange(I){return this._urlChangeListeners.push(I),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(F=>{this._notifyUrlChangeListeners(F.url,F.state)})),()=>{const F=this._urlChangeListeners.indexOf(I);this._urlChangeListeners.splice(F,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(I="",F){this._urlChangeListeners.forEach(le=>le(I,F))}subscribe(I,F,le){return this._subject.subscribe({next:I,error:F,complete:le})}static#e=this.normalizeQueryParams=ne;static#t=this.joinWithSlash=re;static#n=this.stripTrailingSlash=fe;static#i=this.\u0275fac=function(F){return new(F||C)(p.LFG(ge))};static#o=this.\u0275prov=p.Yz7({token:C,factory:function(){return function Me(){return new ee((0,p.LFG)(ge))}()},providedIn:"root"})}return C})();function nt(C){return C.replace(/\/index.html$/,"")}var Oe=function(C){return C[C.Format=0]="Format",C[C.Standalone=1]="Standalone",C}(Oe||{}),Pe=function(C){return C[C.Narrow=0]="Narrow",C[C.Abbreviated=1]="Abbreviated",C[C.Wide=2]="Wide",C[C.Short=3]="Short",C}(Pe||{}),$e=function(C){return C[C.Short=0]="Short",C[C.Medium=1]="Medium",C[C.Long=2]="Long",C[C.Full=3]="Full",C}($e||{}),He=function(C){return C[C.Decimal=0]="Decimal",C[C.Group=1]="Group",C[C.List=2]="List",C[C.PercentSign=3]="PercentSign",C[C.PlusSign=4]="PlusSign",C[C.MinusSign=5]="MinusSign",C[C.Exponential=6]="Exponential",C[C.SuperscriptingExponent=7]="SuperscriptingExponent",C[C.PerMille=8]="PerMille",C[C.Infinity=9]="Infinity",C[C.NaN=10]="NaN",C[C.TimeSeparator=11]="TimeSeparator",C[C.CurrencyDecimal=12]="CurrencyDecimal",C[C.CurrencyGroup=13]="CurrencyGroup",C}(He||{});function ut(C,j,I){const F=(0,p.cg1)(C),et=me([F[p.wAp.DaysFormat],F[p.wAp.DaysStandalone]],j);return me(et,I)}function pt(C,j,I){const F=(0,p.cg1)(C),et=me([F[p.wAp.MonthsFormat],F[p.wAp.MonthsStandalone]],j);return me(et,I)}function he(C,j){return me((0,p.cg1)(C)[p.wAp.DateFormat],j)}function Se(C,j){return me((0,p.cg1)(C)[p.wAp.TimeFormat],j)}function we(C,j){return me((0,p.cg1)(C)[p.wAp.DateTimeFormat],j)}function Ae(C,j){const I=(0,p.cg1)(C),F=I[p.wAp.NumberSymbols][j];if(typeof F>"u"){if(j===He.CurrencyDecimal)return I[p.wAp.NumberSymbols][He.Decimal];if(j===He.CurrencyGroup)return I[p.wAp.NumberSymbols][He.Group]}return F}function zt(C){if(!C[p.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${C[p.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function me(C,j){for(let I=j;I>-1;I--)if(typeof C[I]<"u")return C[I];throw new Error("Locale data API: locale data undefined")}function _e(C){const[j,I]=C.split(":");return{hours:+j,minutes:+I}}const Rt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,gn={},un=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Lt=function(C){return C[C.Short=0]="Short",C[C.ShortGMT=1]="ShortGMT",C[C.Long=2]="Long",C[C.Extended=3]="Extended",C}(Lt||{}),Mt=function(C){return C[C.FullYear=0]="FullYear",C[C.Month=1]="Month",C[C.Date=2]="Date",C[C.Hours=3]="Hours",C[C.Minutes=4]="Minutes",C[C.Seconds=5]="Seconds",C[C.FractionalSeconds=6]="FractionalSeconds",C[C.Day=7]="Day",C}(Mt||{}),Nt=function(C){return C[C.DayPeriods=0]="DayPeriods",C[C.Days=1]="Days",C[C.Months=2]="Months",C[C.Eras=3]="Eras",C}(Nt||{});function Fn(C,j,I,F){let le=function dt(C){if(ue(C))return C;if("number"==typeof C&&!isNaN(C))return new Date(C);if("string"==typeof C){if(C=C.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(C)){const[le,et=1,vt=1]=C.split("-").map(nn=>+nn);return li(le,et-1,vt)}const I=parseFloat(C);if(!isNaN(C-I))return new Date(I);let F;if(F=C.match(Rt))return function We(C){const j=new Date(0);let I=0,F=0;const le=C[8]?j.setUTCFullYear:j.setFullYear,et=C[8]?j.setUTCHours:j.setHours;C[9]&&(I=Number(C[9]+C[10]),F=Number(C[9]+C[11])),le.call(j,Number(C[1]),Number(C[2])-1,Number(C[3]));const vt=Number(C[4]||0)-I,nn=Number(C[5]||0)-F,hi=Number(C[6]||0),bi=Math.floor(1e3*parseFloat("0."+(C[7]||0)));return et.call(j,vt,nn,hi,bi),j}(F)}const j=new Date(C);if(!ue(j))throw new Error(`Unable to convert "${C}" into a date`);return j}(C);j=an(I,j)||j;let nn,vt=[];for(;j;){if(nn=un.exec(j),!nn){vt.push(j);break}{vt=vt.concat(nn.slice(1));const qn=vt.pop();if(!qn)break;j=qn}}let hi=le.getTimezoneOffset();F&&(hi=$i(F,hi),le=function Ho(C,j,I){const F=I?-1:1,le=C.getTimezoneOffset();return function io(C,j){return(C=new Date(C.getTime())).setMinutes(C.getMinutes()+j),C}(C,F*($i(j,le)-le))}(le,F,!0));let bi="";return vt.forEach(qn=>{const Tn=function Qi(C){if(Li[C])return Li[C];let j;switch(C){case"G":case"GG":case"GGG":j=mn(Nt.Eras,Pe.Abbreviated);break;case"GGGG":j=mn(Nt.Eras,Pe.Wide);break;case"GGGGG":j=mn(Nt.Eras,Pe.Narrow);break;case"y":j=bn(Mt.FullYear,1,0,!1,!0);break;case"yy":j=bn(Mt.FullYear,2,0,!0,!0);break;case"yyy":j=bn(Mt.FullYear,3,0,!1,!0);break;case"yyyy":j=bn(Mt.FullYear,4,0,!1,!0);break;case"Y":j=ai(1);break;case"YY":j=ai(2,!0);break;case"YYY":j=ai(3);break;case"YYYY":j=ai(4);break;case"M":case"L":j=bn(Mt.Month,1,1);break;case"MM":case"LL":j=bn(Mt.Month,2,1);break;case"MMM":j=mn(Nt.Months,Pe.Abbreviated);break;case"MMMM":j=mn(Nt.Months,Pe.Wide);break;case"MMMMM":j=mn(Nt.Months,Pe.Narrow);break;case"LLL":j=mn(Nt.Months,Pe.Abbreviated,Oe.Standalone);break;case"LLLL":j=mn(Nt.Months,Pe.Wide,Oe.Standalone);break;case"LLLLL":j=mn(Nt.Months,Pe.Narrow,Oe.Standalone);break;case"w":j=In(1);break;case"ww":j=In(2);break;case"W":j=In(1,!0);break;case"d":j=bn(Mt.Date,1);break;case"dd":j=bn(Mt.Date,2);break;case"c":case"cc":j=bn(Mt.Day,1);break;case"ccc":j=mn(Nt.Days,Pe.Abbreviated,Oe.Standalone);break;case"cccc":j=mn(Nt.Days,Pe.Wide,Oe.Standalone);break;case"ccccc":j=mn(Nt.Days,Pe.Narrow,Oe.Standalone);break;case"cccccc":j=mn(Nt.Days,Pe.Short,Oe.Standalone);break;case"E":case"EE":case"EEE":j=mn(Nt.Days,Pe.Abbreviated);break;case"EEEE":j=mn(Nt.Days,Pe.Wide);break;case"EEEEE":j=mn(Nt.Days,Pe.Narrow);break;case"EEEEEE":j=mn(Nt.Days,Pe.Short);break;case"a":case"aa":case"aaa":j=mn(Nt.DayPeriods,Pe.Abbreviated);break;case"aaaa":j=mn(Nt.DayPeriods,Pe.Wide);break;case"aaaaa":j=mn(Nt.DayPeriods,Pe.Narrow);break;case"b":case"bb":case"bbb":j=mn(Nt.DayPeriods,Pe.Abbreviated,Oe.Standalone,!0);break;case"bbbb":j=mn(Nt.DayPeriods,Pe.Wide,Oe.Standalone,!0);break;case"bbbbb":j=mn(Nt.DayPeriods,Pe.Narrow,Oe.Standalone,!0);break;case"B":case"BB":case"BBB":j=mn(Nt.DayPeriods,Pe.Abbreviated,Oe.Format,!0);break;case"BBBB":j=mn(Nt.DayPeriods,Pe.Wide,Oe.Format,!0);break;case"BBBBB":j=mn(Nt.DayPeriods,Pe.Narrow,Oe.Format,!0);break;case"h":j=bn(Mt.Hours,1,-12);break;case"hh":j=bn(Mt.Hours,2,-12);break;case"H":j=bn(Mt.Hours,1);break;case"HH":j=bn(Mt.Hours,2);break;case"m":j=bn(Mt.Minutes,1);break;case"mm":j=bn(Mt.Minutes,2);break;case"s":j=bn(Mt.Seconds,1);break;case"ss":j=bn(Mt.Seconds,2);break;case"S":j=bn(Mt.FractionalSeconds,1);break;case"SS":j=bn(Mt.FractionalSeconds,2);break;case"SSS":j=bn(Mt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":j=Ei(Lt.Short);break;case"ZZZZZ":j=Ei(Lt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":j=Ei(Lt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":j=Ei(Lt.Long);break;default:return null}return Li[C]=j,j}(qn);bi+=Tn?Tn(le,I,hi):"''"===qn?"'":qn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),bi}function li(C,j,I){const F=new Date(0);return F.setFullYear(C,j,I),F.setHours(0,0,0),F}function an(C,j){const I=function Fe(C){return(0,p.cg1)(C)[p.wAp.LocaleId]}(C);if(gn[I]=gn[I]||{},gn[I][j])return gn[I][j];let F="";switch(j){case"shortDate":F=he(C,$e.Short);break;case"mediumDate":F=he(C,$e.Medium);break;case"longDate":F=he(C,$e.Long);break;case"fullDate":F=he(C,$e.Full);break;case"shortTime":F=Se(C,$e.Short);break;case"mediumTime":F=Se(C,$e.Medium);break;case"longTime":F=Se(C,$e.Long);break;case"fullTime":F=Se(C,$e.Full);break;case"short":const le=an(C,"shortTime"),et=an(C,"shortDate");F=qt(we(C,$e.Short),[le,et]);break;case"medium":const vt=an(C,"mediumTime"),nn=an(C,"mediumDate");F=qt(we(C,$e.Medium),[vt,nn]);break;case"long":const hi=an(C,"longTime"),bi=an(C,"longDate");F=qt(we(C,$e.Long),[hi,bi]);break;case"full":const qn=an(C,"fullTime"),Tn=an(C,"fullDate");F=qt(we(C,$e.Full),[qn,Tn])}return F&&(gn[I][j]=F),F}function qt(C,j){return j&&(C=C.replace(/\{([^}]+)}/g,function(I,F){return null!=j&&F in j?j[F]:I})),C}function zn(C,j,I="-",F,le){let et="";(C<0||le&&C<=0)&&(le?C=1-C:(C=-C,et=I));let vt=String(C);for(;vt.length<j;)vt="0"+vt;return F&&(vt=vt.slice(vt.length-j)),et+vt}function bn(C,j,I=0,F=!1,le=!1){return function(et,vt){let nn=function Ln(C,j){switch(C){case Mt.FullYear:return j.getFullYear();case Mt.Month:return j.getMonth();case Mt.Date:return j.getDate();case Mt.Hours:return j.getHours();case Mt.Minutes:return j.getMinutes();case Mt.Seconds:return j.getSeconds();case Mt.FractionalSeconds:return j.getMilliseconds();case Mt.Day:return j.getDay();default:throw new Error(`Unknown DateType value "${C}".`)}}(C,et);if((I>0||nn>-I)&&(nn+=I),C===Mt.Hours)0===nn&&-12===I&&(nn=12);else if(C===Mt.FractionalSeconds)return function ht(C,j){return zn(C,3).substring(0,j)}(nn,j);const hi=Ae(vt,He.MinusSign);return zn(nn,j,hi,F,le)}}function mn(C,j,I=Oe.Format,F=!1){return function(le,et){return function Ri(C,j,I,F,le,et){switch(I){case Nt.Months:return pt(j,le,F)[C.getMonth()];case Nt.Days:return ut(j,le,F)[C.getDay()];case Nt.DayPeriods:const vt=C.getHours(),nn=C.getMinutes();if(et){const bi=function xt(C){const j=(0,p.cg1)(C);return zt(j),(j[p.wAp.ExtraData][2]||[]).map(F=>"string"==typeof F?_e(F):[_e(F[0]),_e(F[1])])}(j),qn=function xn(C,j,I){const F=(0,p.cg1)(C);zt(F);const et=me([F[p.wAp.ExtraData][0],F[p.wAp.ExtraData][1]],j)||[];return me(et,I)||[]}(j,le,F),Tn=bi.findIndex(Vi=>{if(Array.isArray(Vi)){const[wi,zi]=Vi,dr=vt>=wi.hours&&nn>=wi.minutes,or=vt<zi.hours||vt===zi.hours&&nn<zi.minutes;if(wi.hours<zi.hours){if(dr&&or)return!0}else if(dr||or)return!0}else if(Vi.hours===vt&&Vi.minutes===nn)return!0;return!1});if(-1!==Tn)return qn[Tn]}return function Bt(C,j,I){const F=(0,p.cg1)(C),et=me([F[p.wAp.DayPeriodsFormat],F[p.wAp.DayPeriodsStandalone]],j);return me(et,I)}(j,le,F)[vt<12?0:1];case Nt.Eras:return function Re(C,j){return me((0,p.cg1)(C)[p.wAp.Eras],j)}(j,F)[C.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${I}`)}}(le,et,C,j,I,F)}}function Ei(C){return function(j,I,F){const le=-1*F,et=Ae(I,He.MinusSign),vt=le>0?Math.floor(le/60):Math.ceil(le/60);switch(C){case Lt.Short:return(le>=0?"+":"")+zn(vt,2,et)+zn(Math.abs(le%60),2,et);case Lt.ShortGMT:return"GMT"+(le>=0?"+":"")+zn(vt,1,et);case Lt.Long:return"GMT"+(le>=0?"+":"")+zn(vt,2,et)+":"+zn(Math.abs(le%60),2,et);case Lt.Extended:return 0===F?"Z":(le>=0?"+":"")+zn(vt,2,et)+":"+zn(Math.abs(le%60),2,et);default:throw new Error(`Unknown zone width "${C}"`)}}}const Hi=0,Fi=4;function Qn(C){return li(C.getFullYear(),C.getMonth(),C.getDate()+(Fi-C.getDay()))}function In(C,j=!1){return function(I,F){let le;if(j){const et=new Date(I.getFullYear(),I.getMonth(),1).getDay()-1,vt=I.getDate();le=1+Math.floor((vt+et)/7)}else{const et=Qn(I),vt=function $n(C){const j=li(C,Hi,1).getDay();return li(C,0,1+(j<=Fi?Fi:Fi+7)-j)}(et.getFullYear()),nn=et.getTime()-vt.getTime();le=1+Math.round(nn/6048e5)}return zn(le,C,Ae(F,He.MinusSign))}}function ai(C,j=!1){return function(I,F){return zn(Qn(I).getFullYear(),C,Ae(F,He.MinusSign),j)}}const Li={};function $i(C,j){C=C.replace(/:/g,"");const I=Date.parse("Jan 01, 1970 00:00:00 "+C)/6e4;return isNaN(I)?j:I}function ue(C){return C instanceof Date&&!isNaN(C.valueOf())}function Zn(C,j){j=encodeURIComponent(j);for(const I of C.split(";")){const F=I.indexOf("="),[le,et]=-1==F?[I,""]:[I.slice(0,F),I.slice(F+1)];if(le.trim()===j)return decodeURIComponent(et)}return null}class Yt{constructor(j,I,F,le){this.$implicit=j,this.ngForOf=I,this.index=F,this.count=le}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Cn=(()=>{class C{set ngForOf(I){this._ngForOf=I,this._ngForOfDirty=!0}set ngForTrackBy(I){this._trackByFn=I}get ngForTrackBy(){return this._trackByFn}constructor(I,F,le){this._viewContainer=I,this._template=F,this._differs=le,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(I){I&&(this._template=I)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const I=this._ngForOf;!this._differ&&I&&(this._differ=this._differs.find(I).create(this.ngForTrackBy))}if(this._differ){const I=this._differ.diff(this._ngForOf);I&&this._applyChanges(I)}}_applyChanges(I){const F=this._viewContainer;I.forEachOperation((le,et,vt)=>{if(null==le.previousIndex)F.createEmbeddedView(this._template,new Yt(le.item,this._ngForOf,-1,-1),null===vt?void 0:vt);else if(null==vt)F.remove(null===et?void 0:et);else if(null!==et){const nn=F.get(et);F.move(nn,vt),Ai(nn,le)}});for(let le=0,et=F.length;le<et;le++){const nn=F.get(le).context;nn.index=le,nn.count=et,nn.ngForOf=this._ngForOf}I.forEachIdentityChange(le=>{Ai(F.get(le.currentIndex),le)})}static ngTemplateContextGuard(I,F){return!0}static#e=this.\u0275fac=function(F){return new(F||C)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))};static#t=this.\u0275dir=p.lG2({type:C,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return C})();function Ai(C,j){C.context.$implicit=j.item}let vi=(()=>{class C{constructor(I,F){this._viewContainer=I,this._context=new oo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=F}set ngIf(I){this._context.$implicit=this._context.ngIf=I,this._updateView()}set ngIfThen(I){Dn("ngIfThen",I),this._thenTemplateRef=I,this._thenViewRef=null,this._updateView()}set ngIfElse(I){Dn("ngIfElse",I),this._elseTemplateRef=I,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(I,F){return!0}static#e=this.\u0275fac=function(F){return new(F||C)(p.Y36(p.s_b),p.Y36(p.Rgc))};static#t=this.\u0275dir=p.lG2({type:C,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return C})();class oo{constructor(){this.$implicit=null,this.ngIf=null}}function Dn(C,j){if(j&&!j.createEmbeddedView)throw new Error(`${C} must be a TemplateRef, but received '${(0,p.AaK)(j)}'.`)}class wn{constructor(j,I){this._viewContainerRef=j,this._templateRef=I,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(j){j&&!this._created?this.create():!j&&this._created&&this.destroy()}}let Gi=(()=>{class C{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(I){this._ngSwitch=I,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(I){this._defaultViews.push(I)}_matchCase(I){const F=I==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||F,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),F}_updateDefaultCases(I){if(this._defaultViews.length>0&&I!==this._defaultUsed){this._defaultUsed=I;for(const F of this._defaultViews)F.enforceState(I)}}static#e=this.\u0275fac=function(F){return new(F||C)};static#t=this.\u0275dir=p.lG2({type:C,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return C})(),wo=(()=>{class C{constructor(I,F,le){this.ngSwitch=le,le._addCase(),this._view=new wn(I,F)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(F){return new(F||C)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(Gi,9))};static#t=this.\u0275dir=p.lG2({type:C,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return C})(),Yi=(()=>{class C{constructor(I,F,le){le._addDefault(new wn(I,F))}static#e=this.\u0275fac=function(F){return new(F||C)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(Gi,9))};static#t=this.\u0275dir=p.lG2({type:C,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return C})(),Je=(()=>{class C{constructor(I){this._viewContainerRef=I,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(I){if(I.ngTemplateOutlet||I.ngTemplateOutletInjector){const F=this._viewContainerRef;if(this._viewRef&&F.remove(F.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:le,ngTemplateOutletContext:et,ngTemplateOutletInjector:vt}=this;this._viewRef=F.createEmbeddedView(le,et,vt?{injector:vt}:void 0)}else this._viewRef=null}else this._viewRef&&I.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(F){return new(F||C)(p.Y36(p.s_b))};static#t=this.\u0275dir=p.lG2({type:C,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[p.TTD]})}return C})();let Vo=(()=>{class C{transform(I){if(null==I)return null;if("string"!=typeof I)throw function Et(C,j){return new p.vHH(2100,!1)}();return I.toLowerCase()}static#e=this.\u0275fac=function(F){return new(F||C)};static#t=this.\u0275pipe=p.Yjl({name:"lowercase",type:C,pure:!0,standalone:!0})}return C})(),Di=(()=>{class C{static#e=this.\u0275fac=function(F){return new(F||C)};static#t=this.\u0275mod=p.oAB({type:C});static#n=this.\u0275inj=p.cJS({})}return C})();const Eo="browser",tr="server";function ho(C){return C===Eo}function Mo(C){return C===tr}let ko=(()=>{class C{static#e=this.\u0275prov=(0,p.Yz7)({token:C,providedIn:"root",factory:()=>new _r((0,p.LFG)(e),window)})}return C})();class _r{constructor(j,I){this.document=j,this.window=I,this.offset=()=>[0,0]}setOffset(j){this.offset=Array.isArray(j)?()=>j:j}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(j){this.supportsScrolling()&&this.window.scrollTo(j[0],j[1])}scrollToAnchor(j){if(!this.supportsScrolling())return;const I=function Wr(C,j){const I=C.getElementById(j)||C.getElementsByName(j)[0];if(I)return I;if("function"==typeof C.createTreeWalker&&C.body&&"function"==typeof C.body.attachShadow){const F=C.createTreeWalker(C.body,NodeFilter.SHOW_ELEMENT);let le=F.currentNode;for(;le;){const et=le.shadowRoot;if(et){const vt=et.getElementById(j)||et.querySelector(`[name="${j}"]`);if(vt)return vt}le=F.nextNode()}}return null}(this.document,j);I&&(this.scrollToElement(I),I.focus())}setHistoryScrollRestoration(j){this.supportsScrolling()&&(this.window.history.scrollRestoration=j)}scrollToElement(j){const I=j.getBoundingClientRect(),F=I.left+this.window.pageXOffset,le=I.top+this.window.pageYOffset,et=this.offset();this.window.scrollTo(F-et[0],le-et[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Wo{}},4860:(bt,ke,S)=>{"use strict";S.d(ke,{JF:()=>V,eN:()=>ce});var p=S(1699),Q=S(4980),z=S(4683),te=S(2235),W=S(5616),e=S(4520),K=S(9736),Le=S(7474),oe=S(1891),re=S(6575);class fe{}class ne{}class ge{constructor(ve){this.normalizedNames=new Map,this.lazyUpdate=null,ve?"string"==typeof ve?this.lazyInit=()=>{this.headers=new Map,ve.split("\n").forEach(Ie=>{const it=Ie.indexOf(":");if(it>0){const Dt=Ie.slice(0,it),At=Dt.toLowerCase(),kt=Ie.slice(it+1).trim();this.maybeSetNormalizedName(Dt,At),this.headers.has(At)?this.headers.get(At).push(kt):this.headers.set(At,[kt])}})}:typeof Headers<"u"&&ve instanceof Headers?(this.headers=new Map,ve.forEach((Ie,it)=>{this.setHeaderEntries(it,Ie)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(ve).forEach(([Ie,it])=>{this.setHeaderEntries(Ie,it)})}:this.headers=new Map}has(ve){return this.init(),this.headers.has(ve.toLowerCase())}get(ve){this.init();const Ie=this.headers.get(ve.toLowerCase());return Ie&&Ie.length>0?Ie[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ve){return this.init(),this.headers.get(ve.toLowerCase())||null}append(ve,Ie){return this.clone({name:ve,value:Ie,op:"a"})}set(ve,Ie){return this.clone({name:ve,value:Ie,op:"s"})}delete(ve,Ie){return this.clone({name:ve,value:Ie,op:"d"})}maybeSetNormalizedName(ve,Ie){this.normalizedNames.has(Ie)||this.normalizedNames.set(Ie,ve)}init(){this.lazyInit&&(this.lazyInit instanceof ge?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ve=>this.applyUpdate(ve)),this.lazyUpdate=null))}copyFrom(ve){ve.init(),Array.from(ve.headers.keys()).forEach(Ie=>{this.headers.set(Ie,ve.headers.get(Ie)),this.normalizedNames.set(Ie,ve.normalizedNames.get(Ie))})}clone(ve){const Ie=new ge;return Ie.lazyInit=this.lazyInit&&this.lazyInit instanceof ge?this.lazyInit:this,Ie.lazyUpdate=(this.lazyUpdate||[]).concat([ve]),Ie}applyUpdate(ve){const Ie=ve.name.toLowerCase();switch(ve.op){case"a":case"s":let it=ve.value;if("string"==typeof it&&(it=[it]),0===it.length)return;this.maybeSetNormalizedName(ve.name,Ie);const Dt=("a"===ve.op?this.headers.get(Ie):void 0)||[];Dt.push(...it),this.headers.set(Ie,Dt);break;case"d":const At=ve.value;if(At){let kt=this.headers.get(Ie);if(!kt)return;kt=kt.filter(Xt=>-1===At.indexOf(Xt)),0===kt.length?(this.headers.delete(Ie),this.normalizedNames.delete(Ie)):this.headers.set(Ie,kt)}else this.headers.delete(Ie),this.normalizedNames.delete(Ie)}}setHeaderEntries(ve,Ie){const it=(Array.isArray(Ie)?Ie:[Ie]).map(At=>At.toString()),Dt=ve.toLowerCase();this.headers.set(Dt,it),this.maybeSetNormalizedName(ve,Dt)}forEach(ve){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ie=>ve(this.normalizedNames.get(Ie),this.headers.get(Ie)))}}class xe{encodeKey(ve){return Xe(ve)}encodeValue(ve){return Xe(ve)}decodeKey(ve){return decodeURIComponent(ve)}decodeValue(ve){return decodeURIComponent(ve)}}const ee=/%(\d[a-f0-9])/gi,Me={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Xe(Ze){return encodeURIComponent(Ze).replace(ee,(ve,Ie)=>Me[Ie]??ve)}function nt(Ze){return`${Ze}`}class Ce{constructor(ve={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ve.encoder||new xe,ve.fromString){if(ve.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ze(Ze,ve){const Ie=new Map;return Ze.length>0&&Ze.replace(/^\?/,"").split("&").forEach(Dt=>{const At=Dt.indexOf("="),[kt,Xt]=-1==At?[ve.decodeKey(Dt),""]:[ve.decodeKey(Dt.slice(0,At)),ve.decodeValue(Dt.slice(At+1))],cn=Ie.get(kt)||[];cn.push(Xt),Ie.set(kt,cn)}),Ie}(ve.fromString,this.encoder)}else ve.fromObject?(this.map=new Map,Object.keys(ve.fromObject).forEach(Ie=>{const it=ve.fromObject[Ie],Dt=Array.isArray(it)?it.map(nt):[nt(it)];this.map.set(Ie,Dt)})):this.map=null}has(ve){return this.init(),this.map.has(ve)}get(ve){this.init();const Ie=this.map.get(ve);return Ie?Ie[0]:null}getAll(ve){return this.init(),this.map.get(ve)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ve,Ie){return this.clone({param:ve,value:Ie,op:"a"})}appendAll(ve){const Ie=[];return Object.keys(ve).forEach(it=>{const Dt=ve[it];Array.isArray(Dt)?Dt.forEach(At=>{Ie.push({param:it,value:At,op:"a"})}):Ie.push({param:it,value:Dt,op:"a"})}),this.clone(Ie)}set(ve,Ie){return this.clone({param:ve,value:Ie,op:"s"})}delete(ve,Ie){return this.clone({param:ve,value:Ie,op:"d"})}toString(){return this.init(),this.keys().map(ve=>{const Ie=this.encoder.encodeKey(ve);return this.map.get(ve).map(it=>Ie+"="+this.encoder.encodeValue(it)).join("&")}).filter(ve=>""!==ve).join("&")}clone(ve){const Ie=new Ce({encoder:this.encoder});return Ie.cloneFrom=this.cloneFrom||this,Ie.updates=(this.updates||[]).concat(ve),Ie}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ve=>this.map.set(ve,this.cloneFrom.map.get(ve))),this.updates.forEach(ve=>{switch(ve.op){case"a":case"s":const Ie=("a"===ve.op?this.map.get(ve.param):void 0)||[];Ie.push(nt(ve.value)),this.map.set(ve.param,Ie);break;case"d":if(void 0===ve.value){this.map.delete(ve.param);break}{let it=this.map.get(ve.param)||[];const Dt=it.indexOf(nt(ve.value));-1!==Dt&&it.splice(Dt,1),it.length>0?this.map.set(ve.param,it):this.map.delete(ve.param)}}}),this.cloneFrom=this.updates=null)}}class de{constructor(){this.map=new Map}set(ve,Ie){return this.map.set(ve,Ie),this}get(ve){return this.map.has(ve)||this.map.set(ve,ve.defaultValue()),this.map.get(ve)}delete(ve){return this.map.delete(ve),this}has(ve){return this.map.has(ve)}keys(){return this.map.keys()}}function Oe(Ze){return typeof ArrayBuffer<"u"&&Ze instanceof ArrayBuffer}function Pe(Ze){return typeof Blob<"u"&&Ze instanceof Blob}function $e(Ze){return typeof FormData<"u"&&Ze instanceof FormData}class ft{constructor(ve,Ie,it,Dt){let At;if(this.url=Ie,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ve.toUpperCase(),function Ge(Ze){switch(Ze){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Dt?(this.body=void 0!==it?it:null,At=Dt):At=it,At&&(this.reportProgress=!!At.reportProgress,this.withCredentials=!!At.withCredentials,At.responseType&&(this.responseType=At.responseType),At.headers&&(this.headers=At.headers),At.context&&(this.context=At.context),At.params&&(this.params=At.params)),this.headers||(this.headers=new ge),this.context||(this.context=new de),this.params){const kt=this.params.toString();if(0===kt.length)this.urlWithParams=Ie;else{const Xt=Ie.indexOf("?");this.urlWithParams=Ie+(-1===Xt?"?":Xt<Ie.length-1?"&":"")+kt}}else this.params=new Ce,this.urlWithParams=Ie}serializeBody(){return null===this.body?null:Oe(this.body)||Pe(this.body)||$e(this.body)||function He(Ze){return typeof URLSearchParams<"u"&&Ze instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ce?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||$e(this.body)?null:Pe(this.body)?this.body.type||null:Oe(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ce?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ve={}){const Ie=ve.method||this.method,it=ve.url||this.url,Dt=ve.responseType||this.responseType,At=void 0!==ve.body?ve.body:this.body,kt=void 0!==ve.withCredentials?ve.withCredentials:this.withCredentials,Xt=void 0!==ve.reportProgress?ve.reportProgress:this.reportProgress;let cn=ve.headers||this.headers,yi=ve.params||this.params;const _n=ve.context??this.context;return void 0!==ve.setHeaders&&(cn=Object.keys(ve.setHeaders).reduce((Gn,Qt)=>Gn.set(Qt,ve.setHeaders[Qt]),cn)),ve.setParams&&(yi=Object.keys(ve.setParams).reduce((Gn,Qt)=>Gn.set(Qt,ve.setParams[Qt]),yi)),new ft(Ie,it,At,{params:yi,headers:cn,context:_n,reportProgress:Xt,responseType:Dt,withCredentials:kt})}}var Fe=function(Ze){return Ze[Ze.Sent=0]="Sent",Ze[Ze.UploadProgress=1]="UploadProgress",Ze[Ze.ResponseHeader=2]="ResponseHeader",Ze[Ze.DownloadProgress=3]="DownloadProgress",Ze[Ze.Response=4]="Response",Ze[Ze.User=5]="User",Ze}(Fe||{});class Bt{constructor(ve,Ie=200,it="OK"){this.headers=ve.headers||new ge,this.status=void 0!==ve.status?ve.status:Ie,this.statusText=ve.statusText||it,this.url=ve.url||null,this.ok=this.status>=200&&this.status<300}}class ut extends Bt{constructor(ve={}){super(ve),this.type=Fe.ResponseHeader}clone(ve={}){return new ut({headers:ve.headers||this.headers,status:void 0!==ve.status?ve.status:this.status,statusText:ve.statusText||this.statusText,url:ve.url||this.url||void 0})}}class pt extends Bt{constructor(ve={}){super(ve),this.type=Fe.Response,this.body=void 0!==ve.body?ve.body:null}clone(ve={}){return new pt({body:void 0!==ve.body?ve.body:this.body,headers:ve.headers||this.headers,status:void 0!==ve.status?ve.status:this.status,statusText:ve.statusText||this.statusText,url:ve.url||this.url||void 0})}}class Re extends Bt{constructor(ve){super(ve,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ve.url||"(unknown url)"}`:`Http failure response for ${ve.url||"(unknown url)"}: ${ve.status} ${ve.statusText}`,this.error=ve.error||null}}function ct(Ze,ve){return{body:ve,headers:Ze.headers,context:Ze.context,observe:Ze.observe,params:Ze.params,reportProgress:Ze.reportProgress,responseType:Ze.responseType,withCredentials:Ze.withCredentials}}let ce=(()=>{class Ze{constructor(Ie){this.handler=Ie}request(Ie,it,Dt={}){let At;if(Ie instanceof ft)At=Ie;else{let cn,yi;cn=Dt.headers instanceof ge?Dt.headers:new ge(Dt.headers),Dt.params&&(yi=Dt.params instanceof Ce?Dt.params:new Ce({fromObject:Dt.params})),At=new ft(Ie,it,void 0!==Dt.body?Dt.body:null,{headers:cn,context:Dt.context,params:yi,reportProgress:Dt.reportProgress,responseType:Dt.responseType||"json",withCredentials:Dt.withCredentials})}const kt=(0,Q.of)(At).pipe((0,W.b)(cn=>this.handler.handle(cn)));if(Ie instanceof ft||"events"===Dt.observe)return kt;const Xt=kt.pipe((0,e.h)(cn=>cn instanceof pt));switch(Dt.observe||"body"){case"body":switch(At.responseType){case"arraybuffer":return Xt.pipe((0,K.U)(cn=>{if(null!==cn.body&&!(cn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return cn.body}));case"blob":return Xt.pipe((0,K.U)(cn=>{if(null!==cn.body&&!(cn.body instanceof Blob))throw new Error("Response is not a Blob.");return cn.body}));case"text":return Xt.pipe((0,K.U)(cn=>{if(null!==cn.body&&"string"!=typeof cn.body)throw new Error("Response is not a string.");return cn.body}));default:return Xt.pipe((0,K.U)(cn=>cn.body))}case"response":return Xt;default:throw new Error(`Unreachable: unhandled observe type ${Dt.observe}}`)}}delete(Ie,it={}){return this.request("DELETE",Ie,it)}get(Ie,it={}){return this.request("GET",Ie,it)}head(Ie,it={}){return this.request("HEAD",Ie,it)}jsonp(Ie,it){return this.request("JSONP",Ie,{params:(new Ce).append(it,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ie,it={}){return this.request("OPTIONS",Ie,it)}patch(Ie,it,Dt={}){return this.request("PATCH",Ie,ct(Dt,it))}post(Ie,it,Dt={}){return this.request("POST",Ie,ct(Dt,it))}put(Ie,it,Dt={}){return this.request("PUT",Ie,ct(Dt,it))}static#e=this.\u0275fac=function(it){return new(it||Ze)(p.LFG(fe))};static#t=this.\u0275prov=p.Yz7({token:Ze,factory:Ze.\u0275fac})}return Ze})();function pn(Ze,ve){return ve(Ze)}function gt(Ze,ve){return(Ie,it)=>ve.intercept(Ie,{handle:Dt=>Ze(Dt,it)})}const zt=new p.OlP(""),xt=new p.OlP(""),xn=new p.OlP("");function vn(){let Ze=null;return(ve,Ie)=>{null===Ze&&(Ze=((0,p.f3M)(zt,{optional:!0})??[]).reduceRight(gt,pn));const it=(0,p.f3M)(p.HDt),Dt=it.add();return Ze(ve,Ie).pipe((0,Le.x)(()=>it.remove(Dt)))}}let me=(()=>{class Ze extends fe{constructor(Ie,it){super(),this.backend=Ie,this.injector=it,this.chain=null,this.pendingTasks=(0,p.f3M)(p.HDt)}handle(Ie){if(null===this.chain){const Dt=Array.from(new Set([...this.injector.get(xt),...this.injector.get(xn,[])]));this.chain=Dt.reduceRight((At,kt)=>function ln(Ze,ve,Ie){return(it,Dt)=>Ie.runInContext(()=>ve(it,At=>Ze(At,Dt)))}(At,kt,this.injector),pn)}const it=this.pendingTasks.add();return this.chain(Ie,Dt=>this.backend.handle(Dt)).pipe((0,Le.x)(()=>this.pendingTasks.remove(it)))}static#e=this.\u0275fac=function(it){return new(it||Ze)(p.LFG(ne),p.LFG(p.lqb))};static#t=this.\u0275prov=p.Yz7({token:Ze,factory:Ze.\u0275fac})}return Ze})();const li=/^\)\]\}',?\n/;let qt=(()=>{class Ze{constructor(Ie){this.xhrFactory=Ie}handle(Ie){if("JSONP"===Ie.method)throw new p.vHH(-2800,!1);const it=this.xhrFactory;return(it.\u0275loadImpl?(0,z.D)(it.\u0275loadImpl()):(0,Q.of)(null)).pipe((0,oe.w)(()=>new te.y(At=>{const kt=it.build();if(kt.open(Ie.method,Ie.urlWithParams),Ie.withCredentials&&(kt.withCredentials=!0),Ie.headers.forEach((dn,Rn)=>kt.setRequestHeader(dn,Rn.join(","))),Ie.headers.has("Accept")||kt.setRequestHeader("Accept","application/json, text/plain, */*"),!Ie.headers.has("Content-Type")){const dn=Ie.detectContentTypeHeader();null!==dn&&kt.setRequestHeader("Content-Type",dn)}if(Ie.responseType){const dn=Ie.responseType.toLowerCase();kt.responseType="json"!==dn?dn:"text"}const Xt=Ie.serializeBody();let cn=null;const yi=()=>{if(null!==cn)return cn;const dn=kt.statusText||"OK",Rn=new ge(kt.getAllResponseHeaders()),ii=function an(Ze){return"responseURL"in Ze&&Ze.responseURL?Ze.responseURL:/^X-Request-URL:/m.test(Ze.getAllResponseHeaders())?Ze.getResponseHeader("X-Request-URL"):null}(kt)||Ie.url;return cn=new ut({headers:Rn,status:kt.status,statusText:dn,url:ii}),cn},_n=()=>{let{headers:dn,status:Rn,statusText:ii,url:Ii}=yi(),Yt=null;204!==Rn&&(Yt=typeof kt.response>"u"?kt.responseText:kt.response),0===Rn&&(Rn=Yt?200:0);let Cn=Rn>=200&&Rn<300;if("json"===Ie.responseType&&"string"==typeof Yt){const Ai=Yt;Yt=Yt.replace(li,"");try{Yt=""!==Yt?JSON.parse(Yt):null}catch(Si){Yt=Ai,Cn&&(Cn=!1,Yt={error:Si,text:Yt})}}Cn?(At.next(new pt({body:Yt,headers:dn,status:Rn,statusText:ii,url:Ii||void 0})),At.complete()):At.error(new Re({error:Yt,headers:dn,status:Rn,statusText:ii,url:Ii||void 0}))},Gn=dn=>{const{url:Rn}=yi(),ii=new Re({error:dn,status:kt.status||0,statusText:kt.statusText||"Unknown Error",url:Rn||void 0});At.error(ii)};let Qt=!1;const Zn=dn=>{Qt||(At.next(yi()),Qt=!0);let Rn={type:Fe.DownloadProgress,loaded:dn.loaded};dn.lengthComputable&&(Rn.total=dn.total),"text"===Ie.responseType&&kt.responseText&&(Rn.partialText=kt.responseText),At.next(Rn)},ri=dn=>{let Rn={type:Fe.UploadProgress,loaded:dn.loaded};dn.lengthComputable&&(Rn.total=dn.total),At.next(Rn)};return kt.addEventListener("load",_n),kt.addEventListener("error",Gn),kt.addEventListener("timeout",Gn),kt.addEventListener("abort",Gn),Ie.reportProgress&&(kt.addEventListener("progress",Zn),null!==Xt&&kt.upload&&kt.upload.addEventListener("progress",ri)),kt.send(Xt),At.next({type:Fe.Sent}),()=>{kt.removeEventListener("error",Gn),kt.removeEventListener("abort",Gn),kt.removeEventListener("load",_n),kt.removeEventListener("timeout",Gn),Ie.reportProgress&&(kt.removeEventListener("progress",Zn),null!==Xt&&kt.upload&&kt.upload.removeEventListener("progress",ri)),kt.readyState!==kt.DONE&&kt.abort()}})))}static#e=this.\u0275fac=function(it){return new(it||Ze)(p.LFG(re.JF))};static#t=this.\u0275prov=p.Yz7({token:Ze,factory:Ze.\u0275fac})}return Ze})();const zn=new p.OlP("XSRF_ENABLED"),bn=new p.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),mn=new p.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Ri{}let Ei=(()=>{class Ze{constructor(Ie,it,Dt){this.doc=Ie,this.platform=it,this.cookieName=Dt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ie=this.doc.cookie||"";return Ie!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,re.Mx)(Ie,this.cookieName),this.lastCookieString=Ie),this.lastToken}static#e=this.\u0275fac=function(it){return new(it||Ze)(p.LFG(re.K0),p.LFG(p.Lbi),p.LFG(bn))};static#t=this.\u0275prov=p.Yz7({token:Ze,factory:Ze.\u0275fac})}return Ze})();function Hi(Ze,ve){const Ie=Ze.url.toLowerCase();if(!(0,p.f3M)(zn)||"GET"===Ze.method||"HEAD"===Ze.method||Ie.startsWith("http://")||Ie.startsWith("https://"))return ve(Ze);const it=(0,p.f3M)(Ri).getToken(),Dt=(0,p.f3M)(mn);return null!=it&&!Ze.headers.has(Dt)&&(Ze=Ze.clone({headers:Ze.headers.set(Dt,it)})),ve(Ze)}var $n=function(Ze){return Ze[Ze.Interceptors=0]="Interceptors",Ze[Ze.LegacyInterceptors=1]="LegacyInterceptors",Ze[Ze.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ze[Ze.NoXsrfProtection=3]="NoXsrfProtection",Ze[Ze.JsonpSupport=4]="JsonpSupport",Ze[Ze.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ze[Ze.Fetch=6]="Fetch",Ze}($n||{});function In(...Ze){const ve=[ce,qt,me,{provide:fe,useExisting:me},{provide:ne,useExisting:qt},{provide:xt,useValue:Hi,multi:!0},{provide:zn,useValue:!0},{provide:Ri,useClass:Ei}];for(const Ie of Ze)ve.push(...Ie.\u0275providers);return(0,p.MR2)(ve)}const Li=new p.OlP("LEGACY_INTERCEPTOR_FN");function Qi(){return function Qn(Ze,ve){return{\u0275kind:Ze,\u0275providers:ve}}($n.LegacyInterceptors,[{provide:Li,useFactory:vn},{provide:xt,useExisting:Li,multi:!0}])}let V=(()=>{class Ze{static#e=this.\u0275fac=function(it){return new(it||Ze)};static#t=this.\u0275mod=p.oAB({type:Ze});static#n=this.\u0275inj=p.cJS({providers:[In(Qi())]})}return Ze})()},1699:(bt,ke,S)=>{"use strict";S.d(ke,{$8M:()=>Rc,$WT:()=>Oi,$Z:()=>Bp,AFp:()=>np,ALo:()=>mC,AaK:()=>ne,AsE:()=>Rh,BQk:()=>yu,CHM:()=>yo,CRH:()=>kC,DdM:()=>aC,EJc:()=>jT,EiD:()=>Gf,EpF:()=>Og,F$t:()=>Bg,F4k:()=>Ng,FYo:()=>dp,FiY:()=>Xs,Gf:()=>OC,GfV:()=>hp,GkF:()=>Dh,Gpc:()=>xe,HDt:()=>nD,Hsn:()=>Ug,Ikx:()=>Ht,JOm:()=>jc,JVY:()=>T_,JZr:()=>nt,Jf7:()=>Tp,KtG:()=>Ta,L6k:()=>E_,LAX:()=>S_,LFG:()=>at,LMc:()=>XE,LSH:()=>yd,Lbi:()=>xd,Lck:()=>Nw,MAs:()=>xg,MGl:()=>bu,MMx:()=>Xb,MR2:()=>Cd,NdJ:()=>Th,Ojb:()=>q_,OlP:()=>Ni,Oqu:()=>Ph,P3R:()=>Wf,PXZ:()=>gE,Q6J:()=>yh,QGY:()=>wh,Qsj:()=>sv,R0b:()=>sr,RDi:()=>Ky,Rgc:()=>Yh,SBq:()=>uc,SDv:()=>Yb,Sil:()=>$T,Suo:()=>NC,TTD:()=>qn,TgZ:()=>mu,Tol:()=>em,Udp:()=>Oh,VKq:()=>cC,VuI:()=>QE,W1O:()=>LC,WLB:()=>lC,X6Q:()=>wE,XFs:()=>Lt,Xpm:()=>Gt,Xq5:()=>fg,Xts:()=>Wc,Y36:()=>pc,YKP:()=>Qb,YNc:()=>Eg,Yjl:()=>gr,Yz7:()=>zt,Z0I:()=>me,ZZ4:()=>hy,_Bn:()=>Jb,_UZ:()=>Ch,_c5:()=>UE,_uU:()=>Gs,aQg:()=>fy,c2e:()=>tD,cJS:()=>xn,cg1:()=>pi,dDg:()=>dE,dqk:()=>qt,eBb:()=>M_,eFA:()=>hD,eJc:()=>J1,ekj:()=>Nh,eoX:()=>cD,f3M:()=>It,g9A:()=>ip,h0i:()=>ml,hGG:()=>ZE,hij:()=>ll,iGM:()=>AC,ifc:()=>At,ip1:()=>eD,jDz:()=>eC,kEZ:()=>uC,kL8:()=>Mn,lG2:()=>To,lcZ:()=>_C,lqb:()=>Hs,lri:()=>sD,mCW:()=>$l,n5z:()=>lf,oAB:()=>Ci,oJD:()=>Yf,oxw:()=>Eh,pB0:()=>x_,q3G:()=>ka,qFp:()=>eM,qLn:()=>ma,qOj:()=>ah,qZA:()=>_u,qzn:()=>sc,rWj:()=>aD,rg0:()=>le,s9C:()=>Mh,sBO:()=>TE,s_b:()=>Cm,soG:()=>wm,tb:()=>sy,tp0:()=>pa,uIk:()=>uh,vHH:()=>Ce,vpe:()=>js,wAp:()=>Pi,xi3:()=>vC,xp6:()=>Lp,ynx:()=>vu,z2F:()=>xu,z3N:()=>ea,zSh:()=>Td,zW0:()=>ug,zs3:()=>Is});var p=S(9877),Q=S(6482),z=S(2235),te=S(7835),W=S(8071),e=S(4980),K=S(5584),Le=S(1891),oe=S(3317);function re(t){for(let i in t)if(t[i]===re)return i;throw Error("Could not find renamed property on target object.")}function fe(t,i){for(const r in i)i.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(t[r]=i[r])}function ne(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ne).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const i=t.toString();if(null==i)return""+i;const r=i.indexOf("\n");return-1===r?i:i.substring(0,r)}function ge(t,i){return null==t||""===t?null===i?"":i:null==i||""===i?t:t+" "+i}const De=re({__forward_ref__:re});function xe(t){return t.__forward_ref__=xe,t.toString=function(){return ne(this())},t}function ze(t){return ee(t)?t():t}function ee(t){return"function"==typeof t&&t.hasOwnProperty(De)&&t.__forward_ref__===xe}function Me(t){return t&&!!t.\u0275providers}const nt="https://g.co/ng/security#xss";class Ce extends Error{constructor(i,r){super(function pe(t,i){return`NG0${Math.abs(t)}${i?": "+i:""}`}(i,r)),this.code=i}}function de(t){return"string"==typeof t?t:null==t?"":String(t)}function He(t,i){throw new Ce(-201,!1)}function ot(t,i,r,c){throw new Error(`ASSERTION ERROR: ${t}`+(null==c?"":` [Expected=> ${r} ${c} ${i} <=Actual]`))}function zt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function xn(t){return{providers:t.providers||[],imports:t.imports||[]}}function vn(t){return _e(t,_t)||_e(t,gn)}function me(t){return null!==vn(t)}function _e(t,i){return t.hasOwnProperty(i)?t[i]:null}function Qe(t){return t&&(t.hasOwnProperty(Rt)||t.hasOwnProperty(un))?t[Rt]:null}const _t=re({\u0275prov:re}),Rt=re({\u0275inj:re}),gn=re({ngInjectableDef:re}),un=re({ngInjectorDef:re});var Lt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Lt||{});let Mt;function Fn(t){const i=Mt;return Mt=t,i}function li(t,i,r){const c=vn(t);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:r&Lt.Optional?null:void 0!==i?i:void He(ne(t))}const qt=globalThis,Li={},Qi="__NG_DI_FLAG__",$i="ngTempTokenPath",Ho=/\n/gm,We="__source";let ue;function se(t){const i=ue;return ue=t,i}function Ue(t,i=Lt.Default){if(void 0===ue)throw new Ce(-203,!1);return null===ue?li(t,void 0,i):ue.get(t,i&Lt.Optional?null:void 0,i)}function at(t,i=Lt.Default){return(function Nt(){return Mt}()||Ue)(ze(t),i)}function It(t,i=Lt.Default){return at(t,Wt(i))}function Wt(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Bn(t){const i=[];for(let r=0;r<t.length;r++){const c=ze(t[r]);if(Array.isArray(c)){if(0===c.length)throw new Ce(900,!1);let u,h=Lt.Default;for(let m=0;m<c.length;m++){const y=c[m],w=Ze(y);"number"==typeof w?-1===w?u=y.token:h|=w:u=y}i.push(at(u,h))}else i.push(at(c))}return i}function Un(t,i){return t[Qi]=i,t.prototype[Qi]=i,t}function Ze(t){return t[Qi]}function it(t){return{toString:t}.toString()}var Dt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Dt||{}),At=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(At||{});const kt={},Xt=[],cn=re({\u0275cmp:re}),yi=re({\u0275dir:re}),_n=re({\u0275pipe:re}),Gn=re({\u0275mod:re}),Qt=re({\u0275fac:re}),Zn=re({__NG_ELEMENT_ID__:re}),ri=re({__NG_ENV_ID__:re});function dn(t,i,r){let c=t.length;for(;;){const u=t.indexOf(i,r);if(-1===u)return u;if(0===u||t.charCodeAt(u-1)<=32){const h=i.length;if(u+h===c||t.charCodeAt(u+h)<=32)return u}r=u+1}}function Rn(t,i,r){let c=0;for(;c<r.length;){const u=r[c];if("number"==typeof u){if(0!==u)break;c++;const h=r[c++],m=r[c++],y=r[c++];t.setAttribute(i,m,y,h)}else{const h=u,m=r[++c];Ii(h)?t.setProperty(i,h,m):t.setAttribute(i,h,m),c++}}return c}function ii(t){return 3===t||4===t||6===t}function Ii(t){return 64===t.charCodeAt(0)}function Yt(t,i){if(null!==i&&0!==i.length)if(null===t||0===t.length)t=i.slice();else{let r=-1;for(let c=0;c<i.length;c++){const u=i[c];"number"==typeof u?r=u:0===r||Cn(t,r,u,null,-1===r||2===r?i[++c]:null)}}return t}function Cn(t,i,r,c,u){let h=0,m=t.length;if(-1===i)m=-1;else for(;h<t.length;){const y=t[h++];if("number"==typeof y){if(y===i){m=-1;break}if(y>i){m=h-1;break}}}for(;h<t.length;){const y=t[h];if("number"==typeof y)break;if(y===r){if(null===c)return void(null!==u&&(t[h+1]=u));if(c===t[h+1])return void(t[h+2]=u)}h++,null!==c&&h++,null!==u&&h++}-1!==m&&(t.splice(m,0,i),h=m+1),t.splice(h++,0,r),null!==c&&t.splice(h++,0,c),null!==u&&t.splice(h++,0,u)}const Ai="ng-template";function Si(t,i,r){let c=0,u=!0;for(;c<t.length;){let h=t[c++];if("string"==typeof h&&u){const m=t[c++];if(r&&"class"===h&&-1!==dn(m.toLowerCase(),i,0))return!0}else{if(1===h){for(;c<t.length&&"string"==typeof(h=t[c++]);)if(h.toLowerCase()===i)return!0;return!1}"number"==typeof h&&(u=!1)}}return!1}function vi(t){return 4===t.type&&t.value!==Ai}function oo(t,i,r){return i===(4!==t.type||r?t.value:Ai)}function Dn(t,i,r){let c=4;const u=t.attrs||[],h=function vs(t){for(let i=0;i<t.length;i++)if(ii(t[i]))return i;return t.length}(u);let m=!1;for(let y=0;y<i.length;y++){const w=i[y];if("number"!=typeof w){if(!m)if(4&c){if(c=2|1&c,""!==w&&!oo(t,w,r)||""===w&&1===i.length){if(wn(c))return!1;m=!0}}else{const N=8&c?w:i[++y];if(8&c&&null!==t.attrs){if(!Si(t.attrs,N,r)){if(wn(c))return!1;m=!0}continue}const ie=Gi(8&c?"class":w,u,vi(t),r);if(-1===ie){if(wn(c))return!1;m=!0;continue}if(""!==N){let Be;Be=ie>h?"":u[ie+1].toLowerCase();const qe=8&c?Be:null;if(qe&&-1!==dn(qe,N,0)||2&c&&N!==Be){if(wn(c))return!1;m=!0}}}}else{if(!m&&!wn(c)&&!wn(w))return!1;if(m&&wn(w))continue;m=!1,c=w|1&c}}return wn(c)||m}function wn(t){return 0==(1&t)}function Gi(t,i,r,c){if(null===i)return-1;let u=0;if(c||!r){let h=!1;for(;u<i.length;){const m=i[u];if(m===t)return u;if(3===m||6===m)h=!0;else{if(1===m||2===m){let y=i[++u];for(;"string"==typeof y;)y=i[++u];continue}if(4===m)break;if(0===m){u+=4;continue}}u+=h?1:2}return-1}return function Xo(t,i){let r=t.indexOf(4);if(r>-1)for(r++;r<t.length;){const c=t[r];if("number"==typeof c)return-1;if(c===i)return r;r++}return-1}(i,t)}function wo(t,i,r=!1){for(let c=0;c<i.length;c++)if(Dn(t,i[c],r))return!0;return!1}function jo(t,i){e:for(let r=0;r<i.length;r++){const c=i[r];if(t.length===c.length){for(let u=0;u<t.length;u++)if(t[u]!==c[u])continue e;return!0}}return!1}function ui(t,i){return t?":not("+i.trim()+")":i}function Je(t){let i=t[0],r=1,c=2,u="",h=!1;for(;r<t.length;){let m=t[r];if("string"==typeof m)if(2&c){const y=t[++r];u+="["+m+(y.length>0?'="'+y+'"':"")+"]"}else 8&c?u+="."+m:4&c&&(u+=" "+m);else""!==u&&!wn(m)&&(i+=ui(h,u),u=""),c=m,h=h||!wn(c);r++}return""!==u&&(i+=ui(h,u)),i}function Gt(t){return it(()=>{const i=mr(t),r={...i,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Dt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||At.Emulated,styles:t.styles||Xt,_:null,schemas:t.schemas||null,tView:null,id:""};Mr(r);const c=t.dependencies;return r.directiveDefs=_o(c,!1),r.pipeDefs=_o(c,!0),r.id=function er(t){let i=0;const r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const u of r)i=Math.imul(31,i)+u.charCodeAt(0)<<0;return i+=2147483648,"c"+i}(r),r})}function Kn(t){return An(t)||Bi(t)}function Xn(t){return null!==t}function Ci(t){return it(()=>({type:t.type,bootstrap:t.bootstrap||Xt,declarations:t.declarations||Xt,imports:t.imports||Xt,exports:t.exports||Xt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function No(t,i){if(null==t)return kt;const r={};for(const c in t)if(t.hasOwnProperty(c)){let u=t[c],h=u;Array.isArray(u)&&(h=u[1],u=u[0]),r[u]=c,i&&(i[u]=h)}return r}function To(t){return it(()=>{const i=mr(t);return Mr(i),i})}function gr(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function An(t){return t[cn]||null}function Bi(t){return t[yi]||null}function en(t){return t[_n]||null}function Oi(t){const i=An(t)||Bi(t)||en(t);return null!==i&&i.standalone}function kn(t,i){const r=t[Gn]||null;if(!r&&!0===i)throw new Error(`Type ${ne(t)} does not have '\u0275mod' property.`);return r}function mr(t){const i={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:i,inputTransforms:null,inputConfig:t.inputs||kt,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Xt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:No(t.inputs,i),outputs:No(t.outputs)}}function Mr(t){t.features?.forEach(i=>i(t))}function _o(t,i){if(!t)return null;const r=i?en:Kn;return()=>("function"==typeof t?t():t).map(c=>r(c)).filter(Xn)}const di=0,$t=1,rn=2,ci=3,ro=4,qo=5,ji=6,Sr=7,Di=8,Eo=9,tr=10,Vt=11,xr=12,ho=13,Mo=14,xi=15,zo=16,ar=17,ko=18,_r=19,Wr=20,Ir=21,Wo=22,Br=23,fo=24,ei=25,Po=1,vr=2,so=7,Ur=9,co=11;function Fo(t){return Array.isArray(t)&&"object"==typeof t[Po]}function Ki(t){return Array.isArray(t)&&!0===t[Po]}function cr(t){return 0!=(4&t.flags)}function lr(t){return t.componentOffset>-1}function yr(t){return 1==(1&t.flags)}function po(t){return!!t.template}function Lo(t){return 0!=(512&t[rn])}function jr(t,i){return t.hasOwnProperty(Qt)?t[Qt]:null}let qi=null,bs=!1;function Mi(t){const i=qi;return qi=t,i}const Cs={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function qs(t){if(!nr(t)||t.dirty){if(!t.producerMustRecompute(t)&&!ls(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Vr(t){t.dirty=!0,function ur(t){if(void 0===t.liveConsumerNode)return;const i=bs;bs=!0;try{for(const r of t.liveConsumerNode)r.dirty||Vr(r)}finally{bs=i}}(t),t.consumerMarkedDirty?.(t)}function Kr(t){return t&&(t.nextProducerIndex=0),Mi(t)}function zr(t,i){if(Mi(i),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(nr(t))for(let r=t.nextProducerIndex;r<t.producerNode.length;r++)$r(t.producerNode[r],t.producerIndexOfThis[r]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ls(t){Cr(t);for(let i=0;i<t.producerNode.length;i++){const r=t.producerNode[i],c=t.producerLastReadVersion[i];if(c!==r.version||(qs(r),c!==r.version))return!0}return!1}function us(t){if(Cr(t),nr(t))for(let i=0;i<t.producerNode.length;i++)$r(t.producerNode[i],t.producerIndexOfThis[i]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function $r(t,i){if(function Ls(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Cr(t),1===t.liveConsumerNode.length)for(let c=0;c<t.producerNode.length;c++)$r(t.producerNode[c],t.producerIndexOfThis[c]);const r=t.liveConsumerNode.length-1;if(t.liveConsumerNode[i]=t.liveConsumerNode[r],t.liveConsumerIndexOfThis[i]=t.liveConsumerIndexOfThis[r],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,i<t.liveConsumerNode.length){const c=t.liveConsumerIndexOfThis[i],u=t.liveConsumerNode[i];Cr(u),u.producerIndexOfThis[c]=i}}function nr(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Cr(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let ir=null;function le(t){const i=Mi(null);try{return t()}finally{Mi(i)}}const vt=()=>{},nn=(()=>({...Cs,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:vt}))();class bi{constructor(i,r,c){this.previousValue=i,this.currentValue=r,this.firstChange=c}isFirstChange(){return this.firstChange}}function qn(){return Tn}function Tn(t){return t.type.prototype.ngOnChanges&&(t.setInput=wi),Vi}function Vi(){const t=dr(this),i=t?.current;if(i){const r=t.previous;if(r===kt)t.previous=i;else for(let c in i)r[c]=i[c];t.current=null,this.ngOnChanges(i)}}function wi(t,i,r,c){const u=this.declaredInputs[r],h=dr(t)||function or(t,i){return t[zi]=i}(t,{previous:kt,current:null}),m=h.current||(h.current={}),y=h.previous,w=y[u];m[u]=new bi(w&&w.currentValue,i,y===kt),t[c]=i}qn.ngInherit=!0;const zi="__ngSimpleChanges__";function dr(t){return t[zi]||null}const eo=function(t,i,r){};function Ti(t){for(;Array.isArray(t);)t=t[di];return t}function s(t,i){return Ti(i[t])}function d(t,i){return Ti(i[t.index])}function D(t,i){return t.data[i]}function O(t,i){return t[i]}function G(t,i){const r=i[t];return Fo(r)?r:r[di]}function wt(t,i){return null==i?null:t[i]}function jt(t){t[ar]=0}function Sn(t){1024&t[rn]||(t[rn]|=1024,fi(t,1))}function Hn(t){1024&t[rn]&&(t[rn]&=-1025,fi(t,-1))}function fi(t,i){let r=t[ci];if(null===r)return;r[qo]+=i;let c=r;for(r=r[ci];null!==r&&(1===i&&1===c[qo]||-1===i&&0===c[qo]);)r[qo]+=i,c=r,r=r[ci]}const on={lFrame:Wi(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ne(){return on.bindingsEnabled}function mt(){return null!==on.skipHydrationRootTNode}function Tt(){return on.lFrame.lView}function ti(){return on.lFrame.tView}function yo(t){return on.lFrame.contextLView=t,t[Di]}function Ta(t){return on.lFrame.contextLView=null,t}function to(){let t=Qs();for(;null!==t&&64===t.type;)t=t.parent;return t}function Qs(){return on.lFrame.currentTNode}function Yr(){const t=on.lFrame,i=t.currentTNode;return t.isParent?i:i.parent}function Dr(t,i){const r=on.lFrame;r.currentTNode=t,r.isParent=i}function Ic(){return on.lFrame.isParent}function Ea(){on.lFrame.isParent=!1}function wr(){const t=on.lFrame;let i=t.bindingRootIndex;return-1===i&&(i=t.bindingRootIndex=t.tView.bindingStartIndex),i}function Ma(){return on.lFrame.bindingIndex++}function Ts(t){const i=on.lFrame,r=i.bindingIndex;return i.bindingIndex=i.bindingIndex+t,r}function b(t){on.lFrame.inI18n=t}function T(t,i){const r=on.lFrame;r.bindingIndex=r.bindingRootIndex=t,E(i)}function E(t){on.lFrame.currentDirectiveIndex=t}function Y(){return on.lFrame.currentQueryIndex}function ae(t){on.lFrame.currentQueryIndex=t}function st(t){const i=t[$t];return 2===i.type?i.declTNode:1===i.type?t[ji]:null}function tt(t,i,r){if(r&Lt.SkipSelf){let u=i,h=t;for(;!(u=u.parent,null!==u||r&Lt.Host||(u=st(h),null===u||(h=h[Mo],10&u.type))););if(null===u)return!1;i=u,t=h}const c=on.lFrame=Wn();return c.currentTNode=i,c.lView=t,!0}function Kt(t){const i=Wn(),r=t[$t];on.lFrame=i,i.currentTNode=r.firstChild,i.lView=t,i.tView=r,i.contextLView=t,i.bindingIndex=r.bindingStartIndex,i.inI18n=!1}function Wn(){const t=on.lFrame,i=null===t?null:t.child;return null===i?Wi(t):i}function Wi(t){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=i),i}function mi(){const t=on.lFrame;return on.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ts=mi;function Bs(){const t=mi();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Zo(){return on.lFrame.selectedIndex}function da(t){on.lFrame.selectedIndex=t}function Io(){const t=on.lFrame;return D(t.tView,t.selectedIndex)}let Ou=!0;function Ao(){return Ou}function ns(t){Ou=t}function Cl(t,i){for(let r=i.directiveStart,c=i.directiveEnd;r<c;r++){const h=t.data[r].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:y,ngAfterViewInit:w,ngAfterViewChecked:N,ngOnDestroy:$}=h;m&&(t.contentHooks??=[]).push(-r,m),y&&((t.contentHooks??=[]).push(r,y),(t.contentCheckHooks??=[]).push(r,y)),w&&(t.viewHooks??=[]).push(-r,w),N&&((t.viewHooks??=[]).push(r,N),(t.viewCheckHooks??=[]).push(r,N)),null!=$&&(t.destroyHooks??=[]).push(r,$)}}function Dl(t,i,r){Kh(t,i,3,r)}function Sa(t,i,r,c){(3&t[rn])===r&&Kh(t,i,r,c)}function Ac(t,i){let r=t[rn];(3&r)===i&&(r&=8191,r+=1,t[rn]=r)}function Kh(t,i,r,c){const h=c??-1,m=i.length-1;let y=0;for(let w=void 0!==c?65535&t[ar]:0;w<m;w++)if("number"==typeof i[w+1]){if(y=i[w],null!=c&&y>=c)break}else i[w]<0&&(t[ar]+=65536),(y<h||-1==h)&&(Am(t,r,i,w),t[ar]=(4294901760&t[ar])+w+2),w++}function Xh(t,i){eo(4,t,i);const r=Mi(null);try{i.call(t)}finally{Mi(r),eo(5,t,i)}}function Am(t,i,r,c){const u=r[c]<0,h=r[c+1],y=t[u?-r[c]:r[c]];u?t[rn]>>13<t[ar]>>16&&(3&t[rn])===i&&(t[rn]+=8192,Xh(y,h)):Xh(y,h)}const qa=-1;class Oc{constructor(i,r,c){this.factory=i,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=c}}function Ks(t){return t!==qa}function Nc(t){return 32767&t}function ha(t,i){let r=function ku(t){return t>>16}(t),c=i;for(;r>0;)c=c[Mo],r--;return c}let Pu=!0;function El(t){const i=Pu;return Pu=t,i}const Ji=255,ef=5;let Ru=0;const Us={};function Ml(t,i){const r=Lu(t,i);if(-1!==r)return r;const c=i[$t];c.firstCreatePass&&(t.injectorIndex=i.length,Sl(c.data,t),Sl(i,null),Sl(c.blueprint,null));const u=Wa(t,i),h=t.injectorIndex;if(Ks(u)){const m=Nc(u),y=ha(u,i),w=y[$t].data;for(let N=0;N<8;N++)i[h+N]=y[m+N]|w[m+N]}return i[h+8]=u,h}function Sl(t,i){t.push(0,0,0,0,0,0,0,0,i)}function Lu(t,i){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===i[t.injectorIndex+8]?-1:t.injectorIndex}function Wa(t,i){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let r=0,c=null,u=i;for(;null!==u;){if(c=Zu(u),null===c)return qa;if(r++,u=u[Mo],-1!==c.injectorIndex)return c.injectorIndex|r<<16}return qa}function Ja(t,i,r){!function Fu(t,i,r){let c;"string"==typeof r?c=r.charCodeAt(0)||0:r.hasOwnProperty(Zn)&&(c=r[Zn]),null==c&&(c=r[Zn]=Ru++);const u=c&Ji;i.data[t+(u>>ef)]|=1<<u}(t,i,r)}function nf(t,i,r){if(r&Lt.Optional||void 0!==t)return t;He()}function rf(t,i,r,c){if(r&Lt.Optional&&void 0===c&&(c=null),!(r&(Lt.Self|Lt.Host))){const u=t[Eo],h=Fn(void 0);try{return u?u.get(i,c,r&Lt.Optional):li(i,c,r&Lt.Optional)}finally{Fn(h)}}return nf(c,0,r)}function xl(t,i,r,c=Lt.Default,u){if(null!==t){if(2048&i[rn]&&!(c&Lt.Self)){const m=function uf(t,i,r,c,u){let h=t,m=i;for(;null!==h&&null!==m&&2048&m[rn]&&!(512&m[rn]);){const y=Bu(h,m,r,c|Lt.Self,Us);if(y!==Us)return y;let w=h.parent;if(!w){const N=m[Wr];if(N){const $=N.get(r,Us,c);if($!==Us)return $}w=Zu(m),m=m[Mo]}h=w}return u}(t,i,r,c,Us);if(m!==Us)return m}const h=Bu(t,i,r,c,Us);if(h!==Us)return h}return rf(i,r,c,u)}function Bu(t,i,r,c,u){const h=function km(t){if("string"==typeof t)return t.charCodeAt(0)||0;const i=t.hasOwnProperty(Zn)?t[Zn]:void 0;return"number"==typeof i?i>=0?i&Ji:Rm:i}(r);if("function"==typeof h){if(!tt(i,t,c))return c&Lt.Host?nf(u,0,c):rf(i,r,c,u);try{let m;if(m=h(c),null!=m||c&Lt.Optional)return m;He()}finally{ts()}}else if("number"==typeof h){let m=null,y=Lu(t,i),w=qa,N=c&Lt.Host?i[xi][ji]:null;for((-1===y||c&Lt.SkipSelf)&&(w=-1===y?Wa(t,i):i[y+8],w!==qa&&cf(c,!1)?(m=i[$t],y=Nc(w),i=ha(w,i)):y=-1);-1!==y;){const $=i[$t];if(af(h,y,$.data)){const ie=sf(y,i,r,m,c,N);if(ie!==Us)return ie}w=i[y+8],w!==qa&&cf(c,i[$t].data[y+8]===N)&&af(h,y,i)?(m=$,y=Nc(w),i=ha(w,i)):y=-1}}return u}function sf(t,i,r,c,u,h){const m=i[$t],y=m.data[t+8],$=kc(y,m,r,null==c?lr(y)&&Pu:c!=m&&0!=(3&y.type),u&Lt.Host&&h===y);return null!==$?xa(i,m,$,y):Us}function kc(t,i,r,c,u){const h=t.providerIndexes,m=i.data,y=1048575&h,w=t.directiveStart,$=h>>20,Be=u?y+$:t.directiveEnd;for(let qe=c?y:y+$;qe<Be;qe++){const Ct=m[qe];if(qe<w&&r===Ct||qe>=w&&Ct.type===r)return qe}if(u){const qe=m[w];if(qe&&po(qe)&&qe.type===r)return w}return null}function xa(t,i,r,c){let u=t[r];const h=i.data;if(function Om(t){return t instanceof Oc}(u)){const m=u;m.resolving&&function Oe(t,i){const r=i?`. Dependency path: ${i.join(" > ")} > ${t}`:"";throw new Ce(-200,`Circular dependency in DI detected for ${t}${r}`)}(function Ge(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():de(t)}(h[r]));const y=El(m.canSeeViewProviders);m.resolving=!0;const N=m.injectImpl?Fn(m.injectImpl):null;tt(t,c,Lt.Default);try{u=t[r]=m.factory(void 0,h,t,c),i.firstCreatePass&&r>=c.directiveStart&&function Qh(t,i,r){const{ngOnChanges:c,ngOnInit:u,ngDoCheck:h}=i.type.prototype;if(c){const m=Tn(i);(r.preOrderHooks??=[]).push(t,m),(r.preOrderCheckHooks??=[]).push(t,m)}u&&(r.preOrderHooks??=[]).push(0-t,u),h&&((r.preOrderHooks??=[]).push(t,h),(r.preOrderCheckHooks??=[]).push(t,h))}(r,h[r],i)}finally{null!==N&&Fn(N),El(y),m.resolving=!1,ts()}}return u}function af(t,i,r){return!!(r[i+(t>>ef)]&1<<t)}function cf(t,i){return!(t&Lt.Self||t&Lt.Host&&i)}class Rr{constructor(i,r){this._tNode=i,this._lView=r}get(i,r,c){return xl(this._tNode,this._lView,i,Wt(c),r)}}function Rm(){return new Rr(to(),Tt())}function lf(t){return it(()=>{const i=t.prototype.constructor,r=i[Qt]||Uu(i),c=Object.prototype;let u=Object.getPrototypeOf(t.prototype).constructor;for(;u&&u!==c;){const h=u[Qt]||Uu(u);if(h&&h!==r)return h;u=Object.getPrototypeOf(u)}return h=>new h})}function Uu(t){return ee(t)?()=>{const i=Uu(ze(t));return i&&i()}:jr(t)}function Zu(t){const i=t[$t],r=i.type;return 2===r?i.declTNode:1===r?t[ji]:null}function Rc(t){return function tf(t,i){if("class"===i)return t.classes;if("style"===i)return t.styles;const r=t.attrs;if(r){const c=r.length;let u=0;for(;u<c;){const h=r[u];if(ii(h))break;if(0===h)u+=2;else if("number"==typeof h)for(u++;u<c&&"string"==typeof r[u];)u++;else{if(h===i)return r[u+1];u+=2}}}return null}(to(),t)}const Aa="__parameters__";function Ka(t,i,r){return it(()=>{const c=function ju(t){return function(...r){if(t){const c=t(...r);for(const u in c)this[u]=c[u]}}}(i);function u(...h){if(this instanceof u)return c.apply(this,h),this;const m=new u(...h);return y.annotation=m,y;function y(w,N,$){const ie=w.hasOwnProperty(Aa)?w[Aa]:Object.defineProperty(w,Aa,{value:[]})[Aa];for(;ie.length<=$;)ie.push(null);return(ie[$]=ie[$]||[]).push(m),w}}return r&&(u.prototype=Object.create(r.prototype)),u.prototype.ngMetadataName=t,u.annotationCls=u,u})}function Bc(t,i){t.forEach(r=>Array.isArray(r)?Bc(r,i):i(r))}function Fm(t,i,r){i>=t.length?t.push(r):t.splice(i,0,r)}function Vu(t,i){return i>=t.length-1?t.pop():t.splice(i,1)[0]}function Il(t,i){const r=[];for(let c=0;c<t;c++)r.push(i);return r}function Fr(t,i,r){let c=fa(t,i);return c>=0?t[1|c]=r:(c=~c,function Ss(t,i,r,c){let u=t.length;if(u==i)t.push(r,c);else if(1===u)t.push(c,t[0]),t[0]=r;else{for(u--,t.push(t[u-1],t[u]);u>i;)t[u]=t[u-2],u--;t[i]=r,t[i+1]=c}}(t,c,i,r)),c}function Al(t,i){const r=fa(t,i);if(r>=0)return t[1|r]}function fa(t,i){return function hf(t,i,r){let c=0,u=t.length>>r;for(;u!==c;){const h=c+(u-c>>1),m=t[h<<r];if(i===m)return h<<r;m>i?u=h:c=h+1}return~(u<<r)}(t,i,1)}const Xs=Un(Ka("Optional"),8),pa=Un(Ka("SkipSelf"),4);function Hc(t){return 128==(128&t.flags)}var jc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(jc||{});const Gm=/^>|^->|<!--|-->|--!>|<!-$/g,Df=/(<|>)/g,Ym="\u200b$1\u200b";const ga=new Map;let Ul=0;const Ku="__ngContext__";function fr(t,i){Fo(i)?(t[Ku]=i[_r],function Wm(t){ga.set(t[_r],t)}(i)):t[Ku]=i}let id;function od(t,i){return id(t,i)}function Vc(t){const i=t[ci];return Ki(i)?i[ci]:i}function t_(t){return i_(t[xr])}function n_(t){return i_(t[ro])}function i_(t){for(;null!==t&&!Ki(t);)t=t[ro];return t}function Na(t,i,r,c,u){if(null!=c){let h,m=!1;Ki(c)?h=c:Fo(c)&&(m=!0,c=c[di]);const y=Ti(c);0===t&&null!==r?null==u?l_(i,r,y):rc(i,r,y,u||null,!0):1===t&&null!==r?rc(i,r,y,u||null,!0):2===t?function zl(t,i,r){const c=cd(t,i);c&&function d_(t,i,r,c){t.removeChild(i,r,c)}(t,c,i,r)}(i,y,m):3===t&&i.destroyNode(y),null!=h&&function qy(t,i,r,c,u){const h=r[so];h!==Ti(r)&&Na(i,t,c,h,u);for(let y=co;y<r.length;y++){const w=r[y];Oo(w[$t],w,t,i,c,h)}}(i,t,h,r,u)}}function rd(t,i){return t.createText(i)}function Zl(t,i){return t.createComment(function ic(t){return t.replace(Gm,i=>i.replace(Df,Ym))}(i))}function sd(t,i,r){return t.createElement(i,r)}function a_(t,i){const r=t[Ur],c=r.indexOf(i);Hn(i),r.splice(c,1)}function ad(t,i){if(t.length<=co)return;const r=co+i,c=t[r];if(c){const u=c[zo];null!==u&&u!==t&&a_(u,c),i>0&&(t[r-1][ro]=c[ro]);const h=Vu(t,co+i);!function Vy(t,i){Oo(t,i,i[Vt],2,null,null),i[di]=null,i[ji]=null}(c[$t],c);const m=h[ko];null!==m&&m.detachView(h[$t]),c[ci]=null,c[ro]=null,c[rn]&=-129}return c}function If(t,i){if(!(256&i[rn])){const r=i[Vt];i[Br]&&us(i[Br]),i[fo]&&us(i[fo]),r.destroyNode&&Oo(t,i,r,3,null,null),function s_(t){let i=t[xr];if(!i)return Af(t[$t],t);for(;i;){let r=null;if(Fo(i))r=i[xr];else{const c=i[co];c&&(r=c)}if(!r){for(;i&&!i[ro]&&i!==t;)Fo(i)&&Af(i[$t],i),i=i[ci];null===i&&(i=t),Fo(i)&&Af(i[$t],i),r=i&&i[ro]}i=r}}(i)}}function Af(t,i){if(!(256&i[rn])){i[rn]&=-129,i[rn]|=256,function Yy(t,i){let r;if(null!=t&&null!=(r=t.destroyHooks))for(let c=0;c<r.length;c+=2){const u=i[r[c]];if(!(u instanceof Oc)){const h=r[c+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const y=u[h[m]],w=h[m+1];eo(4,y,w);try{w.call(y)}finally{eo(5,y,w)}}else{eo(4,u,h);try{h.call(u)}finally{eo(5,u,h)}}}}}(t,i),function Gy(t,i){const r=t.cleanup,c=i[Sr];if(null!==r)for(let h=0;h<r.length-1;h+=2)if("string"==typeof r[h]){const m=r[h+3];m>=0?c[m]():c[-m].unsubscribe(),h+=2}else r[h].call(c[r[h+1]]);null!==c&&(i[Sr]=null);const u=i[Ir];if(null!==u){i[Ir]=null;for(let h=0;h<u.length;h++)(0,u[h])()}}(t,i),1===i[$t].type&&i[Vt].destroy();const r=i[zo];if(null!==r&&Ki(i[ci])){r!==i[ci]&&a_(r,i);const c=i[ko];null!==c&&c.detachView(t)}!function Jm(t){ga.delete(t[_r])}(i)}}function Hl(t,i,r){return c_(t,i.parent,r)}function c_(t,i,r){let c=i;for(;null!==c&&40&c.type;)c=(i=c).parent;if(null===c)return r[di];{const{componentOffset:u}=c;if(u>-1){const{encapsulation:h}=t.data[c.directiveStart+u];if(h===At.None||h===At.Emulated)return null}return d(c,r)}}function rc(t,i,r,c,u){t.insertBefore(i,r,c,u)}function l_(t,i,r){t.appendChild(i,r)}function u_(t,i,r,c,u){null!==c?rc(t,i,r,c,u):l_(t,i,r)}function cd(t,i){return t.parentNode(i)}function f_(t,i,r){return ld(t,i,r)}function p_(t,i,r){return 40&t.type?d(t,r):null}let Of,hd,Lf,fd,ld=p_;function g_(t,i){ld=t,Of=i}function ud(t,i,r,c){const u=Hl(t,c,i),h=i[Vt],y=f_(c.parent||i[ji],c,i);if(null!=u)if(Array.isArray(r))for(let w=0;w<r.length;w++)u_(h,u,r[w],y,!1);else u_(h,u,r,y,!1);void 0!==Of&&Of(h,c,i,r,u)}function jl(t,i){if(null!==i){const r=i.type;if(3&r)return d(i,t);if(4&r)return Vl(-1,t[i.index]);if(8&r){const c=i.child;if(null!==c)return jl(t,c);{const u=t[i.index];return Ki(u)?Vl(-1,u):Ti(u)}}if(32&r)return od(i,t)()||Ti(t[i.index]);{const c=m_(t,i);return null!==c?Array.isArray(c)?c[0]:jl(Vc(t[xi]),c):jl(t,i.next)}}return null}function m_(t,i){return null!==i?t[xi][ji].projection[i.projection]:null}function Vl(t,i){const r=co+t+1;if(r<i.length){const c=i[r],u=c[$t].firstChild;if(null!==u)return jl(c,u)}return i[so]}function dd(t,i,r,c,u,h,m){for(;null!=r;){const y=c[r.index],w=r.type;if(m&&0===i&&(y&&fr(Ti(y),c),r.flags|=2),32!=(32&r.flags))if(8&w)dd(t,i,r.child,c,u,h,!1),Na(i,t,u,y,h);else if(32&w){const N=od(r,c);let $;for(;$=N();)Na(i,t,u,$,h);Na(i,t,u,y,h)}else 16&w?__(t,i,c,r,u,h):Na(i,t,u,y,h);r=m?r.projectionNext:r.next}}function Oo(t,i,r,c,u,h){dd(r,c,t.firstChild,i,u,h,!1)}function __(t,i,r,c,u,h){const m=r[xi],w=m[ji].projection[c.projection];if(Array.isArray(w))for(let N=0;N<w.length;N++)Na(i,t,u,w[N],h);else{let N=w;const $=m[ci];Hc(c)&&(N.flags|=128),dd(t,i,N,$,u,h,!0)}}function Pf(t,i,r){""===r?t.removeAttribute(i,"class"):t.setAttribute(i,"class",r)}function v_(t,i,r){const{mergedAttrs:c,classes:u,styles:h}=r;null!==c&&Rn(t,i,c),null!==u&&Pf(t,i,u),null!==h&&function Jy(t,i,r){t.setAttribute(i,"style",r)}(t,i,h)}function zc(t){return function Rf(){if(void 0===hd&&(hd=null,qt.trustedTypes))try{hd=qt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return hd}()?.createHTML(t)||t}function Ky(t){Lf=t}function $c(){if(void 0!==Lf)return Lf;if(typeof document<"u")return document;throw new Ce(210,!1)}function Bf(){if(void 0===fd&&(fd=null,qt.trustedTypes))try{fd=qt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return fd}function pd(t){return Bf()?.createHTML(t)||t}function Zf(t){return Bf()?.createScriptURL(t)||t}class lo{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${nt})`}}class sn extends lo{getTypeName(){return"HTML"}}class b_ extends lo{getTypeName(){return"Style"}}class C_ extends lo{getTypeName(){return"Script"}}class D_ extends lo{getTypeName(){return"URL"}}class w_ extends lo{getTypeName(){return"ResourceURL"}}function ea(t){return t instanceof lo?t.changingThisBreaksApplicationSecurity:t}function sc(t,i){const r=function Gc(t){return t instanceof lo&&t.getTypeName()||null}(t);if(null!=r&&r!==i){if("ResourceURL"===r&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${r} (see ${nt})`)}return r===i}function T_(t){return new sn(t)}function E_(t){return new b_(t)}function M_(t){return new C_(t)}function S_(t){return new D_(t)}function x_(t){return new w_(t)}function gd(t){const i=new A_(t);return function O_(){try{return!!(new window.DOMParser).parseFromString(zc(""),"text/html")}catch{return!1}}()?new I_(i):i}class I_{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const r=(new window.DOMParser).parseFromString(zc(i),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(i):(r.removeChild(r.firstChild),r)}catch{return null}}}class A_{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const r=this.inertDocument.createElement("template");return r.innerHTML=zc(i),r}}const ac=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function $l(t){return(t=String(t)).match(ac)?t:"unsafe:"+t}function ta(t){const i={};for(const r of t.split(","))i[r]=!0;return i}function Yc(...t){const i={};for(const r of t)for(const c in r)r.hasOwnProperty(c)&&(i[c]=!0);return i}const Hf=ta("area,br,col,hr,img,wbr"),jf=ta("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Vf=ta("rp,rt"),md=Yc(Hf,Yc(jf,ta("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Yc(Vf,ta("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Yc(Vf,jf)),_d=ta("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),zf=Yc(_d,ta("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ta("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),N_=ta("script,style,template");class k_{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let r=i.firstChild,c=!0;for(;r;)if(r.nodeType===Node.ELEMENT_NODE?c=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,c&&r.firstChild)r=r.firstChild;else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let u=this.checkClobberedElement(r,r.nextSibling);if(u){r=u;break}r=this.checkClobberedElement(r,r.parentNode)}return this.buf.join("")}startElement(i){const r=i.nodeName.toLowerCase();if(!md.hasOwnProperty(r))return this.sanitizedSomething=!0,!N_.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const c=i.attributes;for(let u=0;u<c.length;u++){const h=c.item(u),m=h.name,y=m.toLowerCase();if(!zf.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let w=h.value;_d[y]&&(w=$l(w)),this.buf.push(" ",m,'="',$f(w),'"')}return this.buf.push(">"),!0}endElement(i){const r=i.nodeName.toLowerCase();md.hasOwnProperty(r)&&!Hf.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(i){this.buf.push($f(i))}checkClobberedElement(i,r){if(r&&(i.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return r}}const P_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,R_=/([^\#-~ |!])/g;function $f(t){return t.replace(/&/g,"&amp;").replace(P_,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(R_,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Gl;function Gf(t,i){let r=null;try{Gl=Gl||gd(t);let c=i?String(i):"";r=Gl.getInertBodyElement(c);let u=5,h=c;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,c=h,h=r.innerHTML,r=Gl.getInertBodyElement(c)}while(c!==h);return zc((new k_).sanitizeChildren(vd(r)||r))}finally{if(r){const c=vd(r)||r;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function vd(t){return"content"in t&&function F_(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ka=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ka||{});function Yf(t){const i=qc();return i?pd(i.sanitize(ka.HTML,t)||""):sc(t,"HTML")?pd(ea(t)):Gf($c(),de(t))}function yd(t){const i=qc();return i?i.sanitize(ka.URL,t)||"":sc(t,"URL")?ea(t):$l(de(t))}function qf(t){const i=qc();if(i)return Zf(i.sanitize(ka.RESOURCE_URL,t)||"");if(sc(t,"ResourceURL"))return Zf(ea(t));throw new Ce(904,!1)}function Wf(t,i,r){return function U_(t,i){return"src"===i&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===i&&("base"===t||"link"===t)?qf:yd}(i,r)(t)}function qc(){const t=Tt();return t&&t[tr].sanitizer}class Ni{constructor(i,r){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=zt({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Wc=new Ni("ENVIRONMENT_INITIALIZER"),Jf=new Ni("INJECTOR",-1),Qf=new Ni("INJECTOR_DEF_TYPES");class bd{get(i,r=Li){if(r===Li){const c=new Error(`NullInjectorError: No provider for ${ne(i)}!`);throw c.name="NullInjectorError",c}return r}}function Cd(t){return{\u0275providers:t}}function Z_(...t){return{\u0275providers:Kf(0,t),\u0275fromNgModule:!0}}function Kf(t,...i){const r=[],c=new Set;let u;const h=m=>{r.push(m)};return Bc(i,m=>{const y=m;ql(y,h,[],c)&&(u||=[],u.push(y))}),void 0!==u&&Xf(u,h),r}function Xf(t,i){for(let r=0;r<t.length;r++){const{ngModule:c,providers:u}=t[r];Dd(u,h=>{i(h,c)})}}function ql(t,i,r,c){if(!(t=ze(t)))return!1;let u=null,h=Qe(t);const m=!h&&An(t);if(h||m){if(m&&!m.standalone)return!1;u=t}else{const w=t.ngModule;if(h=Qe(w),!h)return!1;u=w}const y=c.has(u);if(m){if(y)return!1;if(c.add(u),m.dependencies){const w="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const N of w)ql(N,i,r,c)}}else{if(!h)return!1;{if(null!=h.imports&&!y){let N;c.add(u);try{Bc(h.imports,$=>{ql($,i,r,c)&&(N||=[],N.push($))})}finally{}void 0!==N&&Xf(N,i)}if(!y){const N=jr(u)||(()=>new u);i({provide:u,useFactory:N,deps:Xt},u),i({provide:Qf,useValue:u,multi:!0},u),i({provide:Wc,useValue:()=>at(u),multi:!0},u)}const w=h.providers;if(null!=w&&!y){const N=t;Dd(w,$=>{i($,N)})}}}return u!==t&&void 0!==t.providers}function Dd(t,i){for(let r of t)Me(r)&&(r=r.\u0275providers),Array.isArray(r)?Dd(r,i):i(r)}const Jc=re({provide:String,useValue:re});function wd(t){return null!==t&&"object"==typeof t&&Jc in t}function na(t){return"function"==typeof t}const Td=new Ni("Set Injector scope."),pr={},H_={};let Ed;function Wl(){return void 0===Ed&&(Ed=new bd),Ed}class Hs{}class Jl extends Hs{get destroyed(){return this._destroyed}constructor(i,r,c,u){super(),this.parent=r,this.source=c,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Sd(i,m=>this.processProvider(m)),this.records.set(Jf,cc(void 0,this)),u.has("environment")&&this.records.set(Hs,cc(void 0,this));const h=this.records.get(Td);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Qf.multi,Xt,Lt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of i)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const r=se(this),c=Fn(void 0);try{return i()}finally{se(r),Fn(c)}}get(i,r=Li,c=Lt.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(ri))return i[ri](this);c=Wt(c);const h=se(this),m=Fn(void 0);try{if(!(c&Lt.SkipSelf)){let w=this.records.get(i);if(void 0===w){const N=function G_(t){return"function"==typeof t||"object"==typeof t&&t instanceof Ni}(i)&&vn(i);w=N&&this.injectableDefInScope(N)?cc(Md(i),pr):null,this.records.set(i,w)}if(null!=w)return this.hydrate(i,w)}return(c&Lt.Self?Wl():this.parent).get(i,r=c&Lt.Optional&&r===Li?null:r)}catch(y){if("NullInjectorError"===y.name){if((y[$i]=y[$i]||[]).unshift(ne(i)),h)throw y;return function ve(t,i,r,c){const u=t[$i];throw i[We]&&u.unshift(i[We]),t.message=function Ie(t,i,r,c=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let u=ne(i);if(Array.isArray(i))u=i.map(ne).join(" -> ");else if("object"==typeof i){let h=[];for(let m in i)if(i.hasOwnProperty(m)){let y=i[m];h.push(m+":"+("string"==typeof y?JSON.stringify(y):ne(y)))}u=`{${h.join(", ")}}`}return`${r}${c?"("+c+")":""}[${u}]: ${t.replace(Ho,"\n  ")}`}("\n"+t.message,u,r,c),t.ngTokenPath=u,t[$i]=null,t}(y,i,"R3InjectorError",this.source)}throw y}finally{Fn(m),se(h)}}resolveInjectorInitializers(){const i=se(this),r=Fn(void 0);try{const u=this.get(Wc.multi,Xt,Lt.Self);for(const h of u)h()}finally{se(i),Fn(r)}}toString(){const i=[],r=this.records;for(const c of r.keys())i.push(ne(c));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ce(205,!1)}processProvider(i){let r=na(i=ze(i))?i:ze(i&&i.provide);const c=function V_(t){return wd(t)?cc(void 0,t.useValue):cc(tp(t),pr)}(i);if(na(i)||!0!==i.multi)this.records.get(r);else{let u=this.records.get(r);u||(u=cc(void 0,pr,!0),u.factory=()=>Bn(u.multi),this.records.set(r,u)),r=i,u.multi.push(i)}this.records.set(r,c)}hydrate(i,r){return r.value===pr&&(r.value=H_,r.value=r.factory()),"object"==typeof r.value&&r.value&&function $_(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}injectableDefInScope(i){if(!i.providedIn)return!1;const r=ze(i.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(i){const r=this._onDestroyHooks.indexOf(i);-1!==r&&this._onDestroyHooks.splice(r,1)}}function Md(t){const i=vn(t),r=null!==i?i.factory:jr(t);if(null!==r)return r;if(t instanceof Ni)throw new Ce(204,!1);if(t instanceof Function)return function j_(t){const i=t.length;if(i>0)throw Il(i,"?"),new Ce(204,!1);const r=function je(t){return t&&(t[_t]||t[gn])||null}(t);return null!==r?()=>r.factory(t):()=>new t}(t);throw new Ce(204,!1)}function tp(t,i,r){let c;if(na(t)){const u=ze(t);return jr(u)||Md(u)}if(wd(t))c=()=>ze(t.useValue);else if(function Pa(t){return!(!t||!t.useFactory)}(t))c=()=>t.useFactory(...Bn(t.deps||[]));else if(function Co(t){return!(!t||!t.useExisting)}(t))c=()=>at(ze(t.useExisting));else{const u=ze(t&&(t.useClass||t.provide));if(!function z_(t){return!!t.deps}(t))return jr(u)||Md(u);c=()=>new u(...Bn(t.deps))}return c}function cc(t,i,r=!1){return{factory:t,value:i,multi:r?[]:void 0}}function Sd(t,i){for(const r of t)Array.isArray(r)?Sd(r,i):r&&Me(r)?Sd(r.\u0275providers,i):i(r)}const np=new Ni("AppId",{providedIn:"root",factory:()=>Y_}),Y_="ng",ip=new Ni("Platform Initializer"),xd=new Ni("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),q_=new Ni("CSP nonce",{providedIn:"root",factory:()=>$c().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let op=(t,i,r)=>null;function Ld(t,i,r=!1){return op(t,i,r)}class ap{}class cp{}class ov{resolveComponentFactory(i){throw function iv(t){const i=Error(`No component factory found for ${ne(t)}.`);return i.ngComponent=t,i}(i)}}let tu=(()=>{class t{static#e=this.NULL=new ov}return t})();function rv(){return Fa(to(),Tt())}function Fa(t,i){return new uc(d(t,i))}let uc=(()=>{class t{constructor(r){this.nativeElement=r}static#e=this.__NG_ELEMENT_ID__=rv}return t})();function up(t){return t instanceof uc?t.nativeElement:t}class dp{}let sv=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function av(){const t=Tt(),r=G(to().index,t);return(Fo(r)?r:t)[Vt]}()}return t})(),cv=(()=>{class t{static#e=this.\u0275prov=zt({token:t,providedIn:"root",factory:()=>null})}return t})();class hp{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Xc=new hp("16.2.9"),Zd={};function mp(t,i=null,r=null,c){const u=_p(t,i,r,c);return u.resolveInjectorInitializers(),u}function _p(t,i=null,r=null,c,u=new Set){const h=[r||Xt,Z_(t)];return c=c||("object"==typeof t?void 0:ne(t)),new Jl(h,i||Wl(),c||null,u)}let Is=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Li;static#t=this.NULL=new bd;static create(r,c){if(Array.isArray(r))return mp({name:""},c,r,"");{const u=r.name??"";return mp({name:u},r.parent,r.providers,u)}}static#n=this.\u0275prov=zt({token:t,providedIn:"any",factory:()=>at(Jf)});static#i=this.__NG_ELEMENT_ID__=-1}return t})();function jd(t){return t.ngOriginalError}class ma{constructor(){this._console=console}handleError(i){const r=this._findOriginalError(i);this._console.error("ERROR",i),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(i){let r=i&&jd(i);for(;r&&jd(r);)r=jd(r);return r||null}}function zd(t){return i=>{setTimeout(t,void 0,i)}}const js=class gv extends p.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,r,c){let u=i,h=r||(()=>null),m=c;if(i&&"object"==typeof i){const w=i;u=w.next?.bind(w),h=w.error?.bind(w),m=w.complete?.bind(w)}this.__isAsync&&(h=zd(h),u&&(u=zd(u)),m&&(m=zd(m)));const y=super.subscribe({next:u,error:h,complete:m});return i instanceof Q.w0&&i.add(y),y}};function yp(...t){}class sr{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new js(!1),this.onMicrotaskEmpty=new js(!1),this.onStable=new js(!1),this.onError=new js(!1),typeof Zone>"u")throw new Ce(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!c&&r,u.shouldCoalesceRunChangeDetection=c,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function mv(){const t="function"==typeof qt.requestAnimationFrame;let i=qt[t?"requestAnimationFrame":"setTimeout"],r=qt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&i&&r){const c=i[Zone.__symbol__("OriginalDelegate")];c&&(i=c);const u=r[Zone.__symbol__("OriginalDelegate")];u&&(r=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function yv(t){const i=()=>{!function vv(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(qt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Gd(t),t.isCheckStableRunning=!0,$d(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Gd(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,c,u,h,m,y)=>{if(function Cv(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(y))return r.invokeTask(u,h,m,y);try{return bp(t),r.invokeTask(u,h,m,y)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||t.shouldCoalesceRunChangeDetection)&&i(),Cp(t)}},onInvoke:(r,c,u,h,m,y,w)=>{try{return bp(t),r.invoke(u,h,m,y,w)}finally{t.shouldCoalesceRunChangeDetection&&i(),Cp(t)}},onHasTask:(r,c,u,h)=>{r.hasTask(u,h),c===u&&("microTask"==h.change?(t._hasPendingMicrotasks=h.microTask,Gd(t),$d(t)):"macroTask"==h.change&&(t.hasPendingMacrotasks=h.macroTask))},onHandleError:(r,c,u,h)=>(r.handleError(u,h),t.runOutsideAngular(()=>t.onError.emit(h)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!sr.isInAngularZone())throw new Ce(909,!1)}static assertNotInAngularZone(){if(sr.isInAngularZone())throw new Ce(909,!1)}run(i,r,c){return this._inner.run(i,r,c)}runTask(i,r,c,u){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+u,i,_v,yp,yp);try{return h.runTask(m,r,c)}finally{h.cancelTask(m)}}runGuarded(i,r,c){return this._inner.runGuarded(i,r,c)}runOutsideAngular(i){return this._outer.run(i)}}const _v={};function $d(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Gd(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function bp(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Cp(t){t._nesting--,$d(t)}class bv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new js,this.onMicrotaskEmpty=new js,this.onStable=new js,this.onError=new js}run(i,r,c){return i.apply(r,c)}runGuarded(i,r,c){return i.apply(r,c)}runOutsideAngular(i){return i()}runTask(i,r,c,u){return i.apply(r,c)}}const Dp=new Ni("",{providedIn:"root",factory:wp});function wp(){const t=It(sr);let i=!0;const r=new z.y(u=>{i=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{u.next(i),u.complete()})}),c=new z.y(u=>{let h;t.runOutsideAngular(()=>{h=t.onStable.subscribe(()=>{sr.assertNotInAngularZone(),queueMicrotask(()=>{!i&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(i=!0,u.next(!0))})})});const m=t.onUnstable.subscribe(()=>{sr.assertInAngularZone(),i&&(i=!1,t.runOutsideAngular(()=>{u.next(!1)}))});return()=>{h.unsubscribe(),m.unsubscribe()}});return(0,te.T)(r,c.pipe((0,K.B)()))}function Tp(t){return t.ownerDocument.defaultView}function ia(t){return t instanceof Function?t():t}let Yd=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=zt({token:t,providedIn:"root",factory:()=>new t})}return t})();function el(t){for(;t;){t[rn]|=64;const i=Vc(t);if(Lo(t)&&!i)return t;t=i}return null}const Ip=new Ni("",{providedIn:"root",factory:()=>!1});let iu=null;function kp(t,i){return t[i]??Fp()}function Pp(t,i){const r=Fp();r.producerNode?.length&&(t[i]=iu,r.lView=t,iu=Rp())}const fc={...Cs,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{el(t.lView)},lView:null};function Rp(){return Object.create(fc)}function Fp(){return iu??=Rp(),iu}const ni={};function Lp(t){Wd(ti(),Tt(),Zo()+t,!1)}function Wd(t,i,r,c){if(!c)if(3==(3&i[rn])){const h=t.preOrderCheckHooks;null!==h&&Dl(i,h,r)}else{const h=t.preOrderHooks;null!==h&&Sa(i,h,0,r)}da(r)}function pc(t,i=Lt.Default){const r=Tt();return null===r?at(t,i):xl(to(),r,ze(t),i)}function Bp(){throw new Error("invalid")}function ou(t,i,r,c,u,h,m,y,w,N,$){const ie=i.blueprint.slice();return ie[di]=u,ie[rn]=140|c,(null!==N||t&&2048&t[rn])&&(ie[rn]|=2048),jt(ie),ie[ci]=ie[Mo]=t,ie[Di]=r,ie[tr]=m||t&&t[tr],ie[Vt]=y||t&&t[Vt],ie[Eo]=w||t&&t[Eo]||null,ie[ji]=h,ie[_r]=function qm(){return Ul++}(),ie[Wo]=$,ie[Wr]=N,ie[xi]=2==i.type?t[xi]:ie,ie}function gc(t,i,r,c,u){let h=t.data[i];if(null===h)h=Jd(t,i,r,c,u),function Jh(){return on.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=r,h.value=c,h.attrs=u;const m=Yr();h.injectorIndex=null===m?-1:m.injectorIndex}return Dr(h,!0),h}function Jd(t,i,r,c,u){const h=Qs(),m=Ic(),w=t.data[i]=function jp(t,i,r,c,u,h){let m=i?i.injectorIndex:-1,y=0;return mt()&&(y|=128),{type:r,index:c,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:y,providerIndexes:0,value:u,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,r,i,c,u);return null===t.firstChild&&(t.firstChild=w),null!==h&&(m?null==h.child&&null!==w.parent&&(h.child=w):null===h.next&&(h.next=w,w.prev=h)),w}function tl(t,i,r,c){if(0===r)return-1;const u=i.length;for(let h=0;h<r;h++)i.push(c),t.blueprint.push(c),t.data.push(null);return u}function Up(t,i,r,c,u){const h=kp(i,Br),m=Zo(),y=2&c;try{da(-1),y&&i.length>ei&&Wd(t,i,ei,!1),eo(y?2:0,u);const N=y?h:null,$=Kr(N);try{null!==N&&(N.dirty=!1),r(c,u)}finally{zr(N,$)}}finally{y&&null===i[Br]&&Pp(i,Br),da(m),eo(y?3:1,u)}}function Qd(t,i,r){if(cr(i)){const c=Mi(null);try{const h=i.directiveEnd;for(let m=i.directiveStart;m<h;m++){const y=t.data[m];y.contentQueries&&y.contentQueries(1,r[m],m)}}finally{Mi(c)}}}function Kd(t,i,r){Ne()&&(function jv(t,i,r,c){const u=r.directiveStart,h=r.directiveEnd;lr(r)&&function Wv(t,i,r){const c=d(i,t),u=Zp(r);let m=16;r.signals?m=4096:r.onPush&&(m=64);const y=ru(t,ou(t,u,null,m,c,i,null,t[tr].rendererFactory.createRenderer(c,r),null,null,null));t[i.index]=y}(i,r,t.data[u+r.componentOffset]),t.firstCreatePass||Ml(r,i),fr(c,i);const m=r.initialInputs;for(let y=u;y<h;y++){const w=t.data[y],N=xa(i,t,y,r);fr(N,i),null!==m&&Jv(0,y-u,N,w,0,m),po(w)&&(G(r.index,i)[Di]=xa(i,t,y,r))}}(t,i,r,d(r,i)),64==(64&r.flags)&&Gp(t,i,r))}function Xd(t,i,r=d){const c=i.localNames;if(null!==c){let u=i.index+1;for(let h=0;h<c.length;h+=2){const m=c[h+1],y=-1===m?r(i,t):t[m];t[u++]=y}}}function Zp(t){const i=t.tView;return null===i||i.incompleteFirstPass?t.tView=eh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):i}function eh(t,i,r,c,u,h,m,y,w,N,$){const ie=ei+c,Be=ie+u,qe=function Av(t,i){const r=[];for(let c=0;c<i;c++)r.push(c<t?null:ni);return r}(ie,Be),Ct="function"==typeof N?N():N;return qe[$t]={type:t,blueprint:qe,template:r,queries:null,viewQuery:y,declTNode:i,data:qe.slice().fill(null,ie),bindingStartIndex:ie,expandoStartIndex:Be,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:w,consts:Ct,incompleteFirstPass:!1,ssrId:$}}let Hp=t=>null;function Vp(t,i,r,c){for(let u in t)if(t.hasOwnProperty(u)){r=null===r?{}:r;const h=t[u];null===c?zp(r,i,u,h):c.hasOwnProperty(u)&&zp(r,i,c[u],h)}return r}function zp(t,i,r,c){t.hasOwnProperty(r)?t[r].push(i,c):t[r]=[i,c]}function os(t,i,r,c,u,h,m,y){const w=d(i,r);let $,N=i.inputs;!y&&null!=N&&($=N[c])?(rh(t,r,$,c,u),lr(i)&&function Bv(t,i){const r=G(i,t);16&r[rn]||(r[rn]|=64)}(r,i.index)):3&i.type&&(c=function Lv(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(c),u=null!=m?m(u,i.value||"",c):u,h.setProperty(w,c,u))}function th(t,i,r,c){if(Ne()){const u=null===c?null:{"":-1},h=function zv(t,i){const r=t.directiveRegistry;let c=null,u=null;if(r)for(let h=0;h<r.length;h++){const m=r[h];if(wo(i,m.selectors,!1))if(c||(c=[]),po(m))if(null!==m.findHostDirectiveDefs){const y=[];u=u||new Map,m.findHostDirectiveDefs(m,y,u),c.unshift(...y,m),nh(t,i,y.length)}else c.unshift(m),nh(t,i,0);else u=u||new Map,m.findHostDirectiveDefs?.(m,c,u),c.push(m)}return null===c?null:[c,u]}(t,r);let m,y;null===h?m=y=null:[m,y]=h,null!==m&&$p(t,i,r,m,u,y),u&&function $v(t,i,r){if(i){const c=t.localNames=[];for(let u=0;u<i.length;u+=2){const h=r[i[u+1]];if(null==h)throw new Ce(-301,!1);c.push(i[u],h)}}}(r,c,u)}r.mergedAttrs=Yt(r.mergedAttrs,r.attrs)}function $p(t,i,r,c,u,h){for(let N=0;N<c.length;N++)Ja(Ml(r,i),t,c[N].type);!function Yv(t,i,r){t.flags|=1,t.directiveStart=i,t.directiveEnd=i+r,t.providerIndexes=i}(r,t.data.length,c.length);for(let N=0;N<c.length;N++){const $=c[N];$.providersResolver&&$.providersResolver($)}let m=!1,y=!1,w=tl(t,i,c.length,null);for(let N=0;N<c.length;N++){const $=c[N];r.mergedAttrs=Yt(r.mergedAttrs,$.hostAttrs),qv(t,r,i,w,$),Gv(w,$,u),null!==$.contentQueries&&(r.flags|=4),(null!==$.hostBindings||null!==$.hostAttrs||0!==$.hostVars)&&(r.flags|=64);const ie=$.type.prototype;!m&&(ie.ngOnChanges||ie.ngOnInit||ie.ngDoCheck)&&((t.preOrderHooks??=[]).push(r.index),m=!0),!y&&(ie.ngOnChanges||ie.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(r.index),y=!0),w++}!function Fv(t,i,r){const u=i.directiveEnd,h=t.data,m=i.attrs,y=[];let w=null,N=null;for(let $=i.directiveStart;$<u;$++){const ie=h[$],Be=r?r.get(ie):null,Ct=Be?Be.outputs:null;w=Vp(ie.inputs,$,w,Be?Be.inputs:null),N=Vp(ie.outputs,$,N,Ct);const Ut=null===w||null===m||vi(i)?null:Qv(w,$,m);y.push(Ut)}null!==w&&(w.hasOwnProperty("class")&&(i.flags|=8),w.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=y,i.inputs=w,i.outputs=N}(t,r,h)}function Gp(t,i,r){const c=r.directiveStart,u=r.directiveEnd,h=r.index,m=function v(){return on.lFrame.currentDirectiveIndex}();try{da(h);for(let y=c;y<u;y++){const w=t.data[y],N=i[y];E(y),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&Vv(w,N)}}finally{da(-1),E(m)}}function Vv(t,i){null!==t.hostBindings&&t.hostBindings(1,i)}function nh(t,i,r){i.componentOffset=r,(t.components??=[]).push(i.index)}function Gv(t,i,r){if(r){if(i.exportAs)for(let c=0;c<i.exportAs.length;c++)r[i.exportAs[c]]=t;po(i)&&(r[""]=t)}}function qv(t,i,r,c,u){t.data[c]=u;const h=u.factory||(u.factory=jr(u.type)),m=new Oc(h,po(u),pc);t.blueprint[c]=m,r[c]=m,function Zv(t,i,r,c,u){const h=u.hostBindings;if(h){let m=t.hostBindingOpCodes;null===m&&(m=t.hostBindingOpCodes=[]);const y=~i.index;(function Hv(t){let i=t.length;for(;i>0;){const r=t[--i];if("number"==typeof r&&r<0)return r}return 0})(m)!=y&&m.push(y),m.push(r,c,h)}}(t,i,c,tl(t,r,u.hostVars,ni),u)}function Vs(t,i,r,c,u,h){const m=d(t,i);!function ih(t,i,r,c,u,h,m){if(null==h)t.removeAttribute(i,u,r);else{const y=null==m?de(h):m(h,c||"",u);t.setAttribute(i,u,y,r)}}(i[Vt],m,h,t.value,r,c,u)}function Jv(t,i,r,c,u,h){const m=h[i];if(null!==m)for(let y=0;y<m.length;)Yp(c,r,m[y++],m[y++],m[y++])}function Yp(t,i,r,c,u){const h=Mi(null);try{const m=t.inputTransforms;null!==m&&m.hasOwnProperty(c)&&(u=m[c].call(i,u)),null!==t.setInput?t.setInput(i,u,r,c):i[c]=u}finally{Mi(h)}}function Qv(t,i,r){let c=null,u=0;for(;u<r.length;){const h=r[u];if(0!==h)if(5!==h){if("number"==typeof h)break;if(t.hasOwnProperty(h)){null===c&&(c=[]);const m=t[h];for(let y=0;y<m.length;y+=2)if(m[y]===i){c.push(h,m[y+1],r[u+1]);break}}u+=2}else u+=2;else u+=4}return c}function qp(t,i,r,c){return[t,!0,!1,i,null,0,c,r,null,null,null]}function Wp(t,i){const r=t.contentQueries;if(null!==r)for(let c=0;c<r.length;c+=2){const h=r[c+1];if(-1!==h){const m=t.data[h];ae(r[c]),m.contentQueries(2,i[h],h)}}}function ru(t,i){return t[xr]?t[ho][ro]=i:t[xr]=i,t[ho]=i,i}function oh(t,i,r){ae(0);const c=Mi(null);try{i(t,r)}finally{Mi(c)}}function Jp(t){return t[Sr]||(t[Sr]=[])}function Qp(t){return t.cleanup||(t.cleanup=[])}function Xp(t,i){const r=t[Eo],c=r?r.get(ma,null):null;c&&c.handleError(i)}function rh(t,i,r,c,u){for(let h=0;h<r.length;){const m=r[h++],y=r[h++];Yp(t.data[m],i[m],c,y,u)}}function oa(t,i,r){const c=s(i,t);!function o_(t,i,r){t.setValue(i,r)}(t[Vt],c,r)}function Kv(t,i){const r=G(i,t),c=r[$t];!function Xv(t,i){for(let r=i.length;r<t.blueprint.length;r++)i.push(t.blueprint[r])}(c,r);const u=r[di];null!==u&&null===r[Wo]&&(r[Wo]=Ld(u,r[Eo])),sh(c,r,r[Di])}function sh(t,i,r){Kt(i);try{const c=t.viewQuery;null!==c&&oh(1,c,r);const u=t.template;null!==u&&Up(t,i,u,1,r),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Wp(t,i),t.staticViewQueries&&oh(2,t.viewQuery,r);const h=t.components;null!==h&&function e0(t,i){for(let r=0;r<i.length;r++)Kv(t,i[r])}(i,h)}catch(c){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),c}finally{i[rn]&=-5,Bs()}}let eg=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(r,c,u){const h=typeof Zone>"u"?null:Zone.current,m=function et(t,i,r){const c=Object.create(nn);r&&(c.consumerAllowSignalWrites=!0),c.fn=t,c.schedule=i;const u=m=>{c.cleanupFn=m};return c.ref={notify:()=>Vr(c),run:()=>{if(c.dirty=!1,c.hasRun&&!ls(c))return;c.hasRun=!0;const m=Kr(c);try{c.cleanupFn(),c.cleanupFn=vt,c.fn(u)}finally{zr(c,m)}},cleanup:()=>c.cleanupFn()},c.ref}(r,N=>{this.all.has(N)&&this.queue.set(N,h)},u);let y;this.all.add(m),m.notify();const w=()=>{m.cleanup(),y?.(),this.all.delete(m),this.queue.delete(m)};return y=c?.onDestroy(w),{destroy:w}}flush(){if(0!==this.queue.size)for(const[r,c]of this.queue)this.queue.delete(r),c?c.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=zt({token:t,providedIn:"root",factory:()=>new t})}return t})();function su(t,i,r){let c=r?t.styles:null,u=r?t.classes:null,h=0;if(null!==i)for(let m=0;m<i.length;m++){const y=i[m];"number"==typeof y?h=y:1==h?u=ge(u,y):2==h&&(c=ge(c,y+": "+i[++m]+";"))}r?t.styles=c:t.stylesWithoutHost=c,r?t.classes=u:t.classesWithoutHost=u}function nl(t,i,r,c,u=!1){for(;null!==r;){const h=i[r.index];null!==h&&c.push(Ti(h)),Ki(h)&&tg(h,c);const m=r.type;if(8&m)nl(t,i,r.child,c);else if(32&m){const y=od(r,i);let w;for(;w=y();)c.push(w)}else if(16&m){const y=m_(i,r);if(Array.isArray(y))c.push(...y);else{const w=Vc(i[xi]);nl(w[$t],w,y,c,!0)}}r=u?r.projectionNext:r.next}return c}function tg(t,i){for(let r=co;r<t.length;r++){const c=t[r],u=c[$t].firstChild;null!==u&&nl(c[$t],c,u,i)}t[so]!==t[di]&&i.push(t[so])}function au(t,i,r,c=!0){const u=i[tr],h=u.rendererFactory,m=u.afterRenderEventManager;h.begin?.(),m?.begin();try{ng(t,i,t.template,r)}catch(w){throw c&&Xp(i,w),w}finally{h.end?.(),u.effectManager?.flush(),m?.end()}}function ng(t,i,r,c){const u=i[rn];if(256!=(256&u)){i[tr].effectManager?.flush(),Kt(i);try{jt(i),function bl(t){return on.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==r&&Up(t,i,r,2,c);const m=3==(3&u);if(m){const N=t.preOrderCheckHooks;null!==N&&Dl(i,N,null)}else{const N=t.preOrderHooks;null!==N&&Sa(i,N,0,null),Ac(i,0)}if(function o0(t){for(let i=t_(t);null!==i;i=n_(i)){if(!i[vr])continue;const r=i[Ur];for(let c=0;c<r.length;c++){Sn(r[c])}}}(i),ig(i,2),null!==t.contentQueries&&Wp(t,i),m){const N=t.contentCheckHooks;null!==N&&Dl(i,N)}else{const N=t.contentHooks;null!==N&&Sa(i,N,1),Ac(i,1)}!function Iv(t,i){const r=t.hostBindingOpCodes;if(null===r)return;const c=kp(i,fo);try{for(let u=0;u<r.length;u++){const h=r[u];if(h<0)da(~h);else{const m=h,y=r[++u],w=r[++u];T(y,m),c.dirty=!1;const N=Kr(c);try{w(2,i[m])}finally{zr(c,N)}}}}finally{null===i[fo]&&Pp(i,fo),da(-1)}}(t,i);const y=t.components;null!==y&&rg(i,y,0);const w=t.viewQuery;if(null!==w&&oh(2,w,c),m){const N=t.viewCheckHooks;null!==N&&Dl(i,N)}else{const N=t.viewHooks;null!==N&&Sa(i,N,2),Ac(i,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),i[rn]&=-73,Hn(i)}finally{Bs()}}}function ig(t,i){for(let r=t_(t);null!==r;r=n_(r))for(let c=co;c<r.length;c++)og(r[c],i)}function r0(t,i,r){og(G(i,t),r)}function og(t,i){if(!function Ke(t){return 128==(128&t[rn])}(t))return;const r=t[$t],c=t[rn];if(80&c&&0===i||1024&c||2===i)ng(r,t,r.template,t[Di]);else if(t[qo]>0){ig(t,1);const u=r.components;null!==u&&rg(t,u,1)}}function rg(t,i,r){for(let c=0;c<i.length;c++)r0(t,i[c],r)}class il{get rootNodes(){const i=this._lView,r=i[$t];return nl(r,i,r.firstChild,[])}constructor(i,r){this._lView=i,this._cdRefInjectingView=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Di]}set context(i){this._lView[Di]=i}get destroyed(){return 256==(256&this._lView[rn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[ci];if(Ki(i)){const r=i[8],c=r?r.indexOf(this):-1;c>-1&&(ad(i,c),Vu(r,c))}this._attachedToViewContainer=!1}If(this._lView[$t],this._lView)}onDestroy(i){!function si(t,i){if(256==(256&t[rn]))throw new Ce(911,!1);null===t[Ir]&&(t[Ir]=[]),t[Ir].push(i)}(this._lView,i)}markForCheck(){el(this._cdRefInjectingView||this._lView)}detach(){this._lView[rn]&=-129}reattach(){this._lView[rn]|=128}detectChanges(){au(this._lView[$t],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function r_(t,i){Oo(t,i,i[Vt],2,null,null)}(this._lView[$t],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Ce(902,!1);this._appRef=i}}class s0 extends il{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;au(i[$t],i,i[Di],!1)}checkNoChanges(){}get context(){return null}}class sg extends tu{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const r=An(i);return new ol(r,this.ngModule)}}function ag(t){const i=[];for(let r in t)t.hasOwnProperty(r)&&i.push({propName:t[r],templateName:r});return i}class c0{constructor(i,r){this.injector=i,this.parentInjector=r}get(i,r,c){c=Wt(c);const u=this.injector.get(i,Zd,c);return u!==Zd||r===Zd?u:this.parentInjector.get(i,r,c)}}class ol extends cp{get inputs(){const i=this.componentDef,r=i.inputTransforms,c=ag(i.inputs);if(null!==r)for(const u of c)r.hasOwnProperty(u.propName)&&(u.transform=r[u.propName]);return c}get outputs(){return ag(this.componentDef.outputs)}constructor(i,r){super(),this.componentDef=i,this.ngModule=r,this.componentType=i.type,this.selector=function Pt(t){return t.map(Je).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!r}create(i,r,c,u){let h=(u=u||this.ngModule)instanceof Hs?u:u?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const m=h?new c0(i,h):i,y=m.get(dp,null);if(null===y)throw new Ce(407,!1);const ie={rendererFactory:y,sanitizer:m.get(cv,null),effectManager:m.get(eg,null),afterRenderEventManager:m.get(Yd,null)},Be=y.createRenderer(null,this.componentDef),qe=this.componentDef.selectors[0][0]||"div",Ct=c?function Ov(t,i,r,c){const h=c.get(Ip,!1)||r===At.ShadowDom,m=t.selectRootElement(i,h);return function Nv(t){Hp(t)}(m),m}(Be,c,this.componentDef.encapsulation,m):sd(Be,qe,function a0(t){const i=t.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(qe)),yn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Ot=null;null!==Ct&&(Ot=Ld(Ct,m,!0));const Jn=eh(0,null,null,1,0,null,null,null,null,null,null),gi=ou(null,Jn,null,yn,null,null,ie,Be,m,null,Ot);let no,_s;Kt(gi);try{const za=this.componentDef;let Iu,gy=null;za.findHostDirectiveDefs?(Iu=[],gy=new Map,za.findHostDirectiveDefs(za,Iu,gy),Iu.push(za)):Iu=[za];const tM=function u0(t,i){const r=t[$t],c=ei;return t[c]=i,gc(r,c,2,"#host",null)}(gi,Ct),nM=function d0(t,i,r,c,u,h,m){const y=u[$t];!function h0(t,i,r,c){for(const u of t)i.mergedAttrs=Yt(i.mergedAttrs,u.hostAttrs);null!==i.mergedAttrs&&(su(i,i.mergedAttrs,!0),null!==r&&v_(c,r,i))}(c,t,i,m);let w=null;null!==i&&(w=Ld(i,u[Eo]));const N=h.rendererFactory.createRenderer(i,r);let $=16;r.signals?$=4096:r.onPush&&($=64);const ie=ou(u,Zp(r),null,$,u[t.index],t,h,N,null,null,w);return y.firstCreatePass&&nh(y,t,c.length-1),ru(u,ie),u[t.index]=ie}(tM,Ct,za,Iu,gi,ie,Be);_s=D(Jn,ei),Ct&&function p0(t,i,r,c){if(c)Rn(t,r,["ng-version",Xc.full]);else{const{attrs:u,classes:h}=function Et(t){const i=[],r=[];let c=1,u=2;for(;c<t.length;){let h=t[c];if("string"==typeof h)2===u?""!==h&&i.push(h,t[++c]):8===u&&r.push(h);else{if(!wn(u))break;u=h}c++}return{attrs:i,classes:r}}(i.selectors[0]);u&&Rn(t,r,u),h&&h.length>0&&Pf(t,r,h.join(" "))}}(Be,za,Ct,c),void 0!==r&&function g0(t,i,r){const c=t.projection=[];for(let u=0;u<i.length;u++){const h=r[u];c.push(null!=h?Array.from(h):null)}}(_s,this.ngContentSelectors,r),no=function f0(t,i,r,c,u,h){const m=to(),y=u[$t],w=d(m,u);$p(y,u,m,r,null,c);for(let $=0;$<r.length;$++)fr(xa(u,y,m.directiveStart+$,m),u);Gp(y,u,m),w&&fr(w,u);const N=xa(u,y,m.directiveStart+m.componentOffset,m);if(t[Di]=u[Di]=N,null!==h)for(const $ of h)$(N,i);return Qd(y,m,t),N}(nM,za,Iu,gy,gi,[m0]),sh(Jn,gi,null)}finally{Bs()}return new l0(this.componentType,no,Fa(_s,gi),gi,_s)}}class l0 extends ap{constructor(i,r,c,u,h){super(),this.location=c,this._rootLView=u,this._tNode=h,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new s0(u),this.componentType=i}setInput(i,r){const c=this._tNode.inputs;let u;if(null!==c&&(u=c[i])){if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),r))return;const h=this._rootLView;rh(h[$t],h,u,i,r),this.previousInputValues.set(i,r),el(G(this._tNode.index,h))}}get injector(){return new Rr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function m0(){const t=to();Cl(Tt()[$t],t)}function ah(t){let i=function cg(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),r=!0;const c=[t];for(;i;){let u;if(po(t))u=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Ce(903,!1);u=i.\u0275dir}if(u){if(r){c.push(u);const m=t;m.inputs=cu(t.inputs),m.inputTransforms=cu(t.inputTransforms),m.declaredInputs=cu(t.declaredInputs),m.outputs=cu(t.outputs);const y=u.hostBindings;y&&As(t,y);const w=u.viewQuery,N=u.contentQueries;if(w&&_0(t,w),N&&v0(t,N),fe(t.inputs,u.inputs),fe(t.declaredInputs,u.declaredInputs),fe(t.outputs,u.outputs),null!==u.inputTransforms&&(null===m.inputTransforms&&(m.inputTransforms={}),fe(m.inputTransforms,u.inputTransforms)),po(u)&&u.data.animation){const $=t.data;$.animation=($.animation||[]).concat(u.data.animation)}}const h=u.features;if(h)for(let m=0;m<h.length;m++){const y=h[m];y&&y.ngInherit&&y(t),y===ah&&(r=!1)}}i=Object.getPrototypeOf(i)}!function lg(t){let i=0,r=null;for(let c=t.length-1;c>=0;c--){const u=t[c];u.hostVars=i+=u.hostVars,u.hostAttrs=Yt(u.hostAttrs,r=Yt(r,u.hostAttrs))}}(c)}function cu(t){return t===kt?{}:t===Xt?[]:t}function _0(t,i){const r=t.viewQuery;t.viewQuery=r?(c,u)=>{i(c,u),r(c,u)}:i}function v0(t,i){const r=t.contentQueries;t.contentQueries=r?(c,u,h)=>{i(c,u,h),r(c,u,h)}:i}function As(t,i){const r=t.hostBindings;t.hostBindings=r?(c,u)=>{i(c,u),r(c,u)}:i}function ug(t){return i=>{i.findHostDirectiveDefs=ch,i.hostDirectives=(Array.isArray(t)?t:t()).map(r=>"function"==typeof r?{directive:ze(r),inputs:kt,outputs:kt}:{directive:ze(r.directive),inputs:dg(r.inputs),outputs:dg(r.outputs)})}}function ch(t,i,r){if(null!==t.hostDirectives)for(const c of t.hostDirectives){const u=Bi(c.directive);b0(u.declaredInputs,c.inputs),ch(u,i,r),r.set(u,c),i.push(u)}}function dg(t){if(void 0===t||0===t.length)return kt;const i={};for(let r=0;r<t.length;r+=2)i[t[r]]=t[r+1];return i}function b0(t,i){for(const r in i)i.hasOwnProperty(r)&&(t[i[r]]=t[r])}function fg(t){const i=t.inputConfig,r={};for(const c in i)if(i.hasOwnProperty(c)){const u=i[c];Array.isArray(u)&&u[2]&&(r[c]=u[2])}t.inputTransforms=r}function uu(t){return!!lh(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function lh(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Os(t,i,r){return t[i]=r}function Tr(t,i,r){return!Object.is(t[i],r)&&(t[i]=r,!0)}function La(t,i,r,c){const u=Tr(t,i,r);return Tr(t,i+1,c)||u}function uh(t,i,r,c){const u=Tt();return Tr(u,Ma(),i)&&(ti(),Vs(Io(),u,t,i,r,c)),uh}function _c(t,i,r,c){return Tr(t,Ma(),r)?i+de(r)+c:ni}function vc(t,i,r,c,u,h){const y=La(t,function ws(){return on.lFrame.bindingIndex}(),r,u);return Ts(2),y?i+de(r)+c+de(u)+h:ni}function Eg(t,i,r,c,u,h,m,y){const w=Tt(),N=ti(),$=t+ei,ie=N.firstCreatePass?function U0(t,i,r,c,u,h,m,y,w){const N=i.consts,$=gc(i,t,4,m||null,wt(N,y));th(i,r,$,wt(N,w)),Cl(i,$);const ie=$.tView=eh(2,$,c,u,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,N,null);return null!==i.queries&&(i.queries.template(i,$),ie.queries=i.queries.embeddedTView($)),$}($,N,w,i,r,c,u,h,m):N.data[$];Dr(ie,!1);const Be=Mg(N,w,ie,t);Ao()&&ud(N,w,Be,ie),fr(Be,w),ru(w,w[$]=qp(Be,w,Be,ie)),yr(ie)&&Kd(N,w,ie),null!=m&&Xd(w,ie,y)}let Mg=function Sg(t,i,r,c){return ns(!0),i[Vt].createComment("")};function xg(t){return O(function vl(){return on.lFrame.contextLView}(),ei+t)}function yh(t,i,r){const c=Tt();return Tr(c,Ma(),i)&&os(ti(),Io(),c,t,i,c[Vt],r,!1),yh}function bh(t,i,r,c,u){const m=u?"class":"style";rh(t,r,i.inputs[m],m,c)}function mu(t,i,r,c){const u=Tt(),h=ti(),m=ei+t,y=u[Vt],w=h.firstCreatePass?function j0(t,i,r,c,u,h){const m=i.consts,w=gc(i,t,2,c,wt(m,u));return th(i,r,w,wt(m,h)),null!==w.attrs&&su(w,w.attrs,!1),null!==w.mergedAttrs&&su(w,w.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,w),w}(m,h,u,i,r,c):h.data[m],N=Ig(h,u,w,y,i,t);u[m]=N;const $=yr(w);return Dr(w,!0),v_(y,N,w),32!=(32&w.flags)&&Ao()&&ud(h,u,N,w),0===function H(){return on.lFrame.elementDepthCount}()&&fr(N,u),function k(){on.lFrame.elementDepthCount++}(),$&&(Kd(h,u,w),Qd(h,w,u)),null!==c&&Xd(u,w),mu}function _u(){let t=to();Ic()?Ea():(t=t.parent,Dr(t,!1));const i=t;(function Ft(t){return on.skipHydrationRootTNode===t})(i)&&function vo(){on.skipHydrationRootTNode=null}(),function X(){on.lFrame.elementDepthCount--}();const r=ti();return r.firstCreatePass&&(Cl(r,t),cr(t)&&r.queries.elementEnd(t)),null!=i.classesWithoutHost&&function Nm(t){return 0!=(8&t.flags)}(i)&&bh(r,i,Tt(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function Tl(t){return 0!=(16&t.flags)}(i)&&bh(r,i,Tt(),i.stylesWithoutHost,!1),_u}function Ch(t,i,r,c){return mu(t,i,r,c),_u(),Ch}let Ig=(t,i,r,c,u,h)=>(ns(!0),sd(c,u,function Au(){return on.lFrame.currentNamespace}()));function vu(t,i,r){const c=Tt(),u=ti(),h=t+ei,m=u.firstCreatePass?function $0(t,i,r,c,u){const h=i.consts,m=wt(h,c),y=gc(i,t,8,"ng-container",m);return null!==m&&su(y,m,!0),th(i,r,y,wt(h,u)),null!==i.queries&&i.queries.elementStart(i,y),y}(h,u,c,i,r):u.data[h];Dr(m,!0);const y=Ag(u,c,m,t);return c[h]=y,Ao()&&ud(u,c,y,m),fr(y,c),yr(m)&&(Kd(u,c,m),Qd(u,m,c)),null!=r&&Xd(c,m),vu}function yu(){let t=to();const i=ti();return Ic()?Ea():(t=t.parent,Dr(t,!1)),i.firstCreatePass&&(Cl(i,t),cr(t)&&i.queries.elementEnd(t)),yu}function Dh(t,i,r){return vu(t,i,r),yu(),Dh}let Ag=(t,i,r,c)=>(ns(!0),Zl(i[Vt],""));function Og(){return Tt()}function wh(t){return!!t&&"function"==typeof t.then}function Ng(t){return!!t&&"function"==typeof t.subscribe}function Th(t,i,r,c){const u=Tt(),h=ti(),m=to();return function Pg(t,i,r,c,u,h,m){const y=yr(c),N=t.firstCreatePass&&Qp(t),$=i[Di],ie=Jp(i);let Be=!0;if(3&c.type||m){const Ut=d(c,i),tn=m?m(Ut):Ut,yn=ie.length,Ot=m?gi=>m(Ti(gi[c.index])):c.index;let Jn=null;if(!m&&y&&(Jn=function q0(t,i,r,c){const u=t.cleanup;if(null!=u)for(let h=0;h<u.length-1;h+=2){const m=u[h];if(m===r&&u[h+1]===c){const y=i[Sr],w=u[h+2];return y.length>w?y[w]:null}"string"==typeof m&&(h+=2)}return null}(t,i,u,c.index)),null!==Jn)(Jn.__ngLastListenerFn__||Jn).__ngNextListenerFn__=h,Jn.__ngLastListenerFn__=h,Be=!1;else{h=Fg(c,i,$,h,!1);const gi=r.listen(tn,u,h);ie.push(h,gi),N&&N.push(u,Ot,yn,yn+1)}}else h=Fg(c,i,$,h,!1);const qe=c.outputs;let Ct;if(Be&&null!==qe&&(Ct=qe[u])){const Ut=Ct.length;if(Ut)for(let tn=0;tn<Ut;tn+=2){const no=i[Ct[tn]][Ct[tn+1]].subscribe(h),_s=ie.length;ie.push(h,no),N&&N.push(u,c.index,_s,-(_s+1))}}}(h,u,u[Vt],m,t,i,c),Th}function Rg(t,i,r,c){try{return eo(6,i,r),!1!==r(c)}catch(u){return Xp(t,u),!1}finally{eo(7,i,r)}}function Fg(t,i,r,c,u){return function h(m){if(m===Function)return c;el(t.componentOffset>-1?G(t.index,i):i);let w=Rg(i,r,c,m),N=h.__ngNextListenerFn__;for(;N;)w=Rg(i,r,N,m)&&w,N=N.__ngNextListenerFn__;return u&&!1===w&&m.preventDefault(),w}}function Eh(t=1){return function Es(t){return(on.lFrame.contextLView=function ua(t,i){for(;t>0;)i=i[Mo],t--;return i}(t,on.lFrame.contextLView))[Di]}(t)}function Lg(t,i){let r=null;const c=function Yi(t){const i=t.attrs;if(null!=i){const r=i.indexOf(5);if(!(1&r))return i[r+1]}return null}(t);for(let u=0;u<i.length;u++){const h=i[u];if("*"!==h){if(null===c?wo(t,h,!0):jo(c,h))return u}else r=u}return r}function Bg(t){const i=Tt()[xi][ji];if(!i.projection){const c=i.projection=Il(t?t.length:1,null),u=c.slice();let h=i.child;for(;null!==h;){const m=t?Lg(h,t):0;null!==m&&(u[m]?u[m].projectionNext=h:c[m]=h,u[m]=h),h=h.next}}}function Ug(t,i=0,r){const c=Tt(),u=ti(),h=gc(u,ei+t,16,null,r||null);null===h.projection&&(h.projection=i),Ea(),(!c[Wo]||mt())&&32!=(32&h.flags)&&function kf(t,i,r){__(i[Vt],0,i,r,Hl(t,r,i),f_(r.parent||i[ji],r,i))}(u,c,h)}function Mh(t,i,r){return bu(t,"",i,"",r),Mh}function bu(t,i,r,c,u){const h=Tt(),m=_c(h,i,r,c);return m!==ni&&os(ti(),Io(),h,t,m,h[Vt],u,!1),bu}function Cu(t,i){return t<<17|i<<2}function _a(t){return t>>17&32767}function Sh(t){return 2|t}function Ba(t){return(131068&t)>>2}function xh(t,i){return-131069&t|i<<2}function Ih(t){return 1|t}function Ah(t,i,r,c,u){const h=t[r+1],m=null===i;let y=c?_a(h):Ba(h),w=!1;for(;0!==y&&(!1===w||m);){const $=t[y+1];e1(t[y],i)&&(w=!0,t[y+1]=c?Ih($):Sh($)),y=c?_a($):Ba($)}w&&(t[r+1]=c?Sh(h):Ih(h))}function e1(t,i){return null===t||null==i||(Array.isArray(t)?t[1]:t)===i||!(!Array.isArray(t)||"string"!=typeof i)&&fa(t,i)>=0}const Qo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function qg(t){return t.substring(Qo.key,Qo.keyEnd)}function Wg(t,i){const r=Qo.textEnd;return r===i?-1:(i=Qo.keyEnd=function r1(t,i,r){for(;i<r&&t.charCodeAt(i)>32;)i++;return i}(t,Qo.key=i,r),Ec(t,i,r))}function Ec(t,i,r){for(;i<r&&t.charCodeAt(i)<=32;)i++;return i}function Oh(t,i,r){return Ns(t,i,r,!1),Oh}function Nh(t,i){return Ns(t,i,null,!0),Nh}function em(t){!function ks(t,i,r,c){const u=ti(),h=Ts(2);u.firstUpdatePass&&nm(u,null,h,c);const m=Tt();if(r!==ni&&Tr(m,h,r)){const y=u.data[Zo()];if(uo(y,c)&&!tm(u,h)){let w=c?y.classesWithoutHost:y.stylesWithoutHost;null!==w&&(r=ge(w,r||"")),bh(u,y,m,r,c)}else!function g1(t,i,r,c,u,h,m,y){u===ni&&(u=Xt);let w=0,N=0,$=0<u.length?u[0]:null,ie=0<h.length?h[0]:null;for(;null!==$||null!==ie;){const Be=w<u.length?u[w+1]:void 0,qe=N<h.length?h[N+1]:void 0;let Ut,Ct=null;$===ie?(w+=2,N+=2,Be!==qe&&(Ct=ie,Ut=qe)):null===ie||null!==$&&$<ie?(w+=2,Ct=$):(N+=2,Ct=ie,Ut=qe),null!==Ct&&om(t,i,r,c,Ct,Ut,m,y),$=w<u.length?u[w]:null,ie=N<h.length?h[N]:null}}(u,y,m,m[Vt],m[h+1],m[h+1]=function f1(t,i,r){if(null==r||""===r)return Xt;const c=[],u=ea(r);if(Array.isArray(u))for(let h=0;h<u.length;h++)t(c,u[h],!0);else if("object"==typeof u)for(const h in u)u.hasOwnProperty(h)&&t(c,h,u[h]);else"string"==typeof u&&i(c,u);return c}(t,i,r),c,h)}}(p1,$s,t,!0)}function $s(t,i){for(let r=function n1(t){return function Qg(t){Qo.key=0,Qo.keyEnd=0,Qo.value=0,Qo.valueEnd=0,Qo.textEnd=t.length}(t),Wg(t,Ec(t,0,Qo.textEnd))}(i);r>=0;r=Wg(i,r))Fr(t,qg(i),!0)}function Ns(t,i,r,c){const u=Tt(),h=ti(),m=Ts(2);h.firstUpdatePass&&nm(h,t,m,c),i!==ni&&Tr(u,m,i)&&om(h,h.data[Zo()],u,u[Vt],t,u[m+1]=function m1(t,i){return null==t||""===t||("string"==typeof i?t+=i:"object"==typeof t&&(t=ne(ea(t)))),t}(i,r),c,m)}function tm(t,i){return i>=t.expandoStartIndex}function nm(t,i,r,c){const u=t.data;if(null===u[r+1]){const h=u[Zo()],m=tm(t,r);uo(h,c)&&null===i&&!m&&(i=!1),i=function l1(t,i,r,c){const u=function P(t){const i=on.lFrame.currentDirectiveIndex;return-1===i?null:t[i]}(t);let h=c?i.residualClasses:i.residualStyles;if(null===u)0===(c?i.classBindings:i.styleBindings)&&(r=cl(r=kh(null,t,i,r,c),i.attrs,c),h=null);else{const m=i.directiveStylingLast;if(-1===m||t[m]!==u)if(r=kh(u,t,i,r,c),null===h){let w=function u1(t,i,r){const c=r?i.classBindings:i.styleBindings;if(0!==Ba(c))return t[_a(c)]}(t,i,c);void 0!==w&&Array.isArray(w)&&(w=kh(null,t,i,w[1],c),w=cl(w,i.attrs,c),function d1(t,i,r,c){t[_a(r?i.classBindings:i.styleBindings)]=c}(t,i,c,w))}else h=function h1(t,i,r){let c;const u=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<u;h++)c=cl(c,t[h].hostAttrs,r);return cl(c,i.attrs,r)}(t,i,c)}return void 0!==h&&(c?i.residualClasses=h:i.residualStyles=h),r}(u,h,i,c),function K0(t,i,r,c,u,h){let m=h?i.classBindings:i.styleBindings,y=_a(m),w=Ba(m);t[c]=r;let $,N=!1;if(Array.isArray(r)?($=r[1],(null===$||fa(r,$)>0)&&(N=!0)):$=r,u)if(0!==w){const Be=_a(t[y+1]);t[c+1]=Cu(Be,y),0!==Be&&(t[Be+1]=xh(t[Be+1],c)),t[y+1]=function J0(t,i){return 131071&t|i<<17}(t[y+1],c)}else t[c+1]=Cu(y,0),0!==y&&(t[y+1]=xh(t[y+1],c)),y=c;else t[c+1]=Cu(w,0),0===y?y=c:t[w+1]=xh(t[w+1],c),w=c;N&&(t[c+1]=Sh(t[c+1])),Ah(t,$,c,!0),Ah(t,$,c,!1),function X0(t,i,r,c,u){const h=u?t.residualClasses:t.residualStyles;null!=h&&"string"==typeof i&&fa(h,i)>=0&&(r[c+1]=Ih(r[c+1]))}(i,$,t,c,h),m=Cu(y,w),h?i.classBindings=m:i.styleBindings=m}(u,h,i,r,m,c)}}function kh(t,i,r,c,u){let h=null;const m=r.directiveEnd;let y=r.directiveStylingLast;for(-1===y?y=r.directiveStart:y++;y<m&&(h=i[y],c=cl(c,h.hostAttrs,u),h!==t);)y++;return null!==t&&(r.directiveStylingLast=y),c}function cl(t,i,r){const c=r?1:2;let u=-1;if(null!==i)for(let h=0;h<i.length;h++){const m=i[h];"number"==typeof m?u=m:u===c&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Fr(t,m,!!r||i[++h]))}return void 0===t?null:t}function p1(t,i,r){const c=String(i);""!==c&&!c.includes(" ")&&Fr(t,c,r)}function om(t,i,r,c,u,h,m,y){if(!(3&i.type))return;const w=t.data,N=w[y+1],$=function Q0(t){return 1==(1&t)}(N)?rm(w,i,r,u,Ba(N),m):void 0;Du($)||(Du(h)||function W0(t){return 2==(2&t)}(N)&&(h=rm(w,null,r,u,y,m)),function Wy(t,i,r,c,u){if(i)u?t.addClass(r,c):t.removeClass(r,c);else{let h=-1===c.indexOf("-")?void 0:jc.DashCase;null==u?t.removeStyle(r,c,h):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),h|=jc.Important),t.setStyle(r,c,u,h))}}(c,m,s(Zo(),r),u,h))}function rm(t,i,r,c,u,h){const m=null===i;let y;for(;u>0;){const w=t[u],N=Array.isArray(w),$=N?w[1]:w,ie=null===$;let Be=r[u+1];Be===ni&&(Be=ie?Xt:void 0);let qe=ie?Al(Be,c):$===c?Be:void 0;if(N&&!Du(qe)&&(qe=Al(w,c)),Du(qe)&&(y=qe,m))return y;const Ct=t[u+1];u=m?_a(Ct):Ba(Ct)}if(null!==i){let w=h?i.residualClasses:i.residualStyles;null!=w&&(y=Al(w,c))}return y}function Du(t){return void 0!==t}function uo(t,i){return 0!=(t.flags&(i?8:16))}function Gs(t,i=""){const r=Tt(),c=ti(),u=t+ei,h=c.firstCreatePass?gc(c,u,1,i,null):c.data[u],m=Lr(c,r,h,i,t);r[u]=m,Ao()&&ud(c,r,m,h),Dr(h,!1)}let Lr=(t,i,r,c,u)=>(ns(!0),rd(i[Vt],c));function Ph(t){return ll("",t,""),Ph}function ll(t,i,r){const c=Tt(),u=_c(c,t,i,r);return u!==ni&&oa(c,Zo(),u),ll}function Rh(t,i,r,c,u){const h=Tt(),m=vc(h,t,i,r,c,u);return m!==ni&&oa(h,Zo(),m),Rh}function Ht(t,i,r){const c=Tt();return Tr(c,Ma(),i)&&os(ti(),Io(),c,t,i,c[Vt],r,!0),Ht}const fn=void 0;var jn=["en",[["a","p"],["AM","PM"],fn],[["AM","PM"],fn,fn],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],fn,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],fn,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",fn,"{1} 'at' {0}",fn],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Jt(t){const r=Math.floor(Math.abs(t)),c=t.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===c?1:5}];let Nn={};function pi(t){const i=function go(t){return t.toLowerCase().replace(/_/g,"-")}(t);let r=ki(i);if(r)return r;const c=i.split("-")[0];if(r=ki(c),r)return r;if("en"===c)return jn;throw new Ce(701,!1)}function Mn(t){return pi(t)[Pi.PluralCase]}function ki(t){return t in Nn||(Nn[t]=qt.ng&&qt.ng.common&&qt.ng.common.locales&&qt.ng.common.locales[t]),Nn[t]}var Pi=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Pi||{});const Yo="en-US",Ys={marker:"element"},Er={marker:"ICU"};var mo=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}(mo||{});let va=Yo;function ul(t){(function rt(t,i){null==t&&ot(i,t,null,"!=")})(t,"Expected localeId to be defined"),"string"==typeof t&&(va=t.toLowerCase().replace(/_/g,"-"))}function Mc(t,i,r){const c=i.insertBeforeIndex,u=Array.isArray(c)?c[0]:c;return null===u?p_(t,0,r):Ti(r[u])}function dl(t,i,r,c,u){const h=i.insertBeforeIndex;if(Array.isArray(h)){let m=c,y=null;if(3&i.type||(y=m,m=u),null!==m&&-1===i.componentOffset)for(let w=1;w<h.length;w++)rc(t,m,r[h[w]],y,!1)}}function Za(t,i){if(t.push(i),t.length>1)for(let r=t.length-2;r>=0;r--){const c=t[r];sa(c)||hl(c,i)&&null===wu(c)&&Ha(c,i.index)}}function sa(t){return!(64&t.type)}function hl(t,i){return sa(i)||t.index>i.index}function wu(t){const i=t.insertBeforeIndex;return Array.isArray(i)?i[0]:i}function Ha(t,i){const r=t.insertBeforeIndex;Array.isArray(r)?r[0]=i:(g_(Mc,dl),t.insertBeforeIndex=i)}function k1(t,i,r){const c=Jd(t,r,64,null,null);return Za(i,c),c}function QD(){const t=[];let r,c,i=-1;function h(y,w){i=0;const N=function fl(t,i){const r=i[t.currentCaseLViewIndex];return null===r?r:r<0?~r:r}(y,w);c=null!==N?y.remove[N]:Xt}function m(){if(i<c.length){const y=c[i++];return y>0?r[y]:(t.push(i,c),h(r[$t].data[~y],r),m())}return 0===t.length?null:(c=t.pop(),i=t.pop(),m())}return function u(y,w){for(r=w;t.length;)t.pop();return h(y.value,w),m}}const vm=/\ufffd(\d+):?\d*\ufffd/gi,XD=/\ufffd(\d+)\ufffd/,Lb=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Vh="\ufffd",ew=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,tw=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,nw=/\uE500/g;function Bb(t,i,r,c,u,h,m){const y=tl(t,c,1,null);let w=y<<mo.SHIFT,N=Yr();i===N&&(N=null),null===N&&(w|=mo.APPEND_EAGERLY),m&&(w|=mo.COMMENT,function Sf(t){void 0===id&&(id=t())}(QD)),u.push(w,null===h?"":h);const $=Jd(t,y,m?32:1,null===h?"":h,null);Za(r,$);const ie=$.index;return Dr($,!1),null!==N&&i!==N&&function Bh(t,i){let r=t.insertBeforeIndex;null===r?(g_(Mc,dl),r=t.insertBeforeIndex=[null,i]):(function pt(t,i,r){t!=i&&ot(r,t,i,"==")}(Array.isArray(r),!0,"Expecting array here"),r.push(i))}(N,ie),$}function rw(t,i,r,c,u,h,m){const y=m.match(vm),w=Bb(t,i,r,h,c,y?null:m,!1);y&&zh(u,m,w.index,null,0,null)}function zh(t,i,r,c,u,h){const m=t.length,y=m+1;t.push(null,null);const w=m+2,N=i.split(vm);let $=0;for(let ie=0;ie<N.length;ie++){const Be=N[ie];if(1&ie){const qe=u+parseInt(Be,10);t.push(-1-qe),$|=Ub(qe)}else""!==Be&&t.push(Be)}return t.push(r<<2|(c?1:0)),c&&t.push(c,h),t[m]=$,t[y]=t.length-w,$}function Ub(t){return 1<<Math.min(t,31)}function Zb(t){let i,h,r="",c=0,u=!1;for(;null!==(i=ew.exec(t));)u?i[0]===`${Vh}/*${h}${Vh}`&&(c=i.index,u=!1):(r+=t.substring(c,i.index+i[0].length),h=i[1],u=!0);return r+=t.slice(c),r}function Hb(t,i,r,c,u,h){let m=0;const y={type:u.type,currentCaseLViewIndex:tl(t,i,1,null),anchorIdx:h,cases:[],create:[],remove:[],update:[]};(function fw(t,i,r){t.push(Ub(i.mainBinding),2,-1-i.mainBinding,r<<2|2)})(r,u,h),function N1(t,i,r){const c=t.data[i];null===c?t.data[i]=r:c.value=r}(t,h,y);const w=u.values;for(let N=0;N<w.length;N++){const $=w[N],ie=[];for(let Be=0;Be<$.length;Be++){const qe=$[Be];if("string"!=typeof qe){const Ct=ie.push(qe)-1;$[Be]=`\x3c!--\ufffd${Ct}\ufffd--\x3e`}}m=dw(t,y,i,r,c,u.cases[N],$.join(""),ie)|m}m&&function pw(t,i,r){t.push(i,1,r<<2|3)}(r,m,h)}function uw(t){const i=[],r=[];let c=1,u=0;const h=P1(t=t.replace(Lb,function(m,y,w){return c="select"===w?0:1,u=parseInt(y.slice(1),10),""}));for(let m=0;m<h.length;){let y=h[m++].trim();1===c&&(y=y.replace(/\s*(?:=)?(\w+)\s*/,"$1")),y.length&&i.push(y);const w=P1(h[m++]);i.length>r.length&&r.push(w)}return{type:c,mainBinding:u,cases:i,values:r}}function P1(t){if(!t)return[];let i=0;const r=[],c=[],u=/[{}]/g;let h;for(u.lastIndex=0;h=u.exec(t);){const y=h.index;if("}"==h[0]){if(r.pop(),0==r.length){const w=t.substring(i,y);Lb.test(w)?c.push(uw(w)):c.push(w),i=y+1}}else{if(0==r.length){const w=t.substring(i,y);c.push(w),i=y+1}r.push("{")}}const m=t.substring(i);return c.push(m),c}function dw(t,i,r,c,u,h,m,y){const w=[],N=[],$=[];i.cases.push(h),i.create.push(w),i.remove.push(N),i.update.push($);const Be=gd($c()).getInertBodyElement(m),qe=vd(Be)||Be;return qe?jb(t,i,r,c,w,N,$,qe,u,y,0):0}function jb(t,i,r,c,u,h,m,y,w,N,$){let ie=0,Be=y.firstChild;for(;Be;){const qe=tl(t,r,1,null);switch(Be.nodeType){case Node.ELEMENT_NODE:const Ct=Be,Ut=Ct.tagName.toLowerCase();if(md.hasOwnProperty(Ut)){R1(u,Ys,Ut,w,qe),t.data[qe]=Ut;const Jn=Ct.attributes;for(let gi=0;gi<Jn.length;gi++){const no=Jn.item(gi),_s=no.name.toLowerCase();no.value.match(vm)?zf.hasOwnProperty(_s)&&zh(m,no.value,qe,no.name,0,_d[_s]?$l:null):gw(u,qe,no)}ie=jb(t,i,r,c,u,h,m,Be,qe,N,$+1)|ie,Vb(h,qe,$)}break;case Node.TEXT_NODE:const tn=Be.textContent||"",yn=tn.match(vm);R1(u,null,yn?"":tn,w,qe),Vb(h,qe,$),yn&&(ie=zh(m,tn,qe,null,0,null)|ie);break;case Node.COMMENT_NODE:const Ot=XD.exec(Be.textContent||"");if(Ot){const gi=N[parseInt(Ot[1],10)];R1(u,Er,"",w,qe),Hb(t,r,c,w,gi,qe),hw(h,qe,$)}}Be=Be.nextSibling}return ie}function Vb(t,i,r){0===r&&t.push(i)}function hw(t,i,r){0===r&&(t.push(~i),t.push(i))}function R1(t,i,r,c,u){null!==i&&t.push(i),t.push(r,u,function pm(t,i,r){return t|i<<17|r<<1}(0,c,u))}function gw(t,i,r){t.push(i<<1|1,r.name,r.value)}function $b(t,i,r=-1){const c=ti(),u=Tt(),h=ei+t,m=wt(c.consts,i),y=Yr();c.firstCreatePass&&function ow(t,i,r,c,u,h){const m=Yr(),y=[],w=[],N=[[]];u=function lw(t,i){if(function cw(t){return-1===t}(i))return Zb(t);{const r=t.indexOf(`:${i}${Vh}`)+2+i.toString().length,c=t.search(new RegExp(`${Vh}\\/\\*\\d+:${i}${Vh}`));return Zb(t.substring(r,c))}}(u,h);const $=function iw(t){return t.replace(nw," ")}(u).split(tw);for(let ie=0;ie<$.length;ie++){let Be=$[ie];if(1&ie){const qe=47===Be.charCodeAt(0),Ut=(Be.charCodeAt(qe?1:0),ei+Number.parseInt(Be.substring(qe?2:1)));if(qe)N.shift(),Dr(Yr(),!1);else{const tn=k1(t,N[0],Ut);N.unshift([]),Dr(tn,!0)}}else{const qe=P1(Be);for(let Ct=0;Ct<qe.length;Ct++){let Ut=qe[Ct];if(1&Ct){const tn=Ut;if("object"!=typeof tn)throw new Error(`Unable to parse ICU expression in "${u}" message.`);Hb(t,r,w,i,tn,Bb(t,m,N[0],r,y,"",!0).index)}else""!==Ut&&rw(t,m,N[0],y,w,r,Ut)}}}t.data[c]={create:y,update:w}}(c,null===y?0:y.index,u,h,m,r),2===c.type?u[xi][rn]|=32:u[rn]|=32;const w=c.data[h],$=c_(c,y===u[ji]?null:y,u);(function gm(t,i,r,c){const u=t[Vt];for(let h=0;h<i.length;h++){const m=i[h++],y=i[h],N=(m&mo.APPEND_EAGERLY)===mo.APPEND_EAGERLY,$=m>>>mo.SHIFT;let ie=t[$];null===ie&&(ie=t[$]=(m&mo.COMMENT)===mo.COMMENT?u.createComment(y):rd(u,y)),N&&null!==r&&rc(u,r,ie,c,!1)}})(u,w.create,$,y&&8&y.type?u[y.index]:null),b(!0)}function Yb(t,i,r){$b(t,i,r),function Gb(){b(!1)}()}function F1(t,i,r,c,u){if(t=ze(t),Array.isArray(t))for(let h=0;h<t.length;h++)F1(t[h],i,r,c,u);else{const h=ti(),m=Tt(),y=to();let w=na(t)?t:ze(t.provide);const N=tp(t),$=1048575&y.providerIndexes,ie=y.directiveStart,Be=y.providerIndexes>>20;if(na(t)||!t.multi){const qe=new Oc(N,u,pc),Ct=B1(w,i,u?$:$+Be,ie);-1===Ct?(Ja(Ml(y,m),h,w),L1(h,t,i.length),i.push(w),y.directiveStart++,y.directiveEnd++,u&&(y.providerIndexes+=1048576),r.push(qe),m.push(qe)):(r[Ct]=qe,m[Ct]=qe)}else{const qe=B1(w,i,$+Be,ie),Ct=B1(w,i,$,$+Be),tn=Ct>=0&&r[Ct];if(u&&!tn||!u&&!(qe>=0&&r[qe])){Ja(Ml(y,m),h,w);const yn=function Ow(t,i,r,c,u){const h=new Oc(t,r,pc);return h.multi=[],h.index=i,h.componentProviders=0,Wb(h,u,c&&!r),h}(u?Aw:Iw,r.length,u,c,N);!u&&tn&&(r[Ct].providerFactory=yn),L1(h,t,i.length,0),i.push(w),y.directiveStart++,y.directiveEnd++,u&&(y.providerIndexes+=1048576),r.push(yn),m.push(yn)}else L1(h,t,qe>-1?qe:Ct,Wb(r[u?Ct:qe],N,!u&&c));!u&&c&&tn&&r[Ct].componentProviders++}}}function L1(t,i,r,c){const u=na(i),h=function ep(t){return!!t.useClass}(i);if(u||h){const w=(h?ze(i.useClass):i).prototype.ngOnDestroy;if(w){const N=t.destroyHooks||(t.destroyHooks=[]);if(!u&&i.multi){const $=N.indexOf(r);-1===$?N.push(r,[c,w]):N[$+1].push(c,w)}else N.push(r,w)}}}function Wb(t,i,r){return r&&t.componentProviders++,t.multi.push(i)-1}function B1(t,i,r,c){for(let u=r;u<c;u++)if(i[u]===t)return u;return-1}function Iw(t,i,r,c){return U1(this.multi,[])}function Aw(t,i,r,c){const u=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,y=xa(r,r[$t],this.providerFactory.index,c);h=y.slice(0,m),U1(u,h);for(let w=m;w<y.length;w++)h.push(y[w])}else h=[],U1(u,h);return h}function U1(t,i){for(let r=0;r<t.length;r++)i.push((0,t[r])());return i}function Jb(t,i=[]){return r=>{r.providersResolver=(c,u)=>function xw(t,i,r){const c=ti();if(c.firstCreatePass){const u=po(t);F1(r,c.data,c.blueprint,u,!0),F1(i,c.data,c.blueprint,u,!1)}}(c,u?u(t):t,i)}}class ml{}class Qb{}function Nw(t,i){return new Z1(t,i??null,[])}class Z1 extends ml{constructor(i,r,c){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new sg(this);const u=kn(i);this._bootstrapComponents=ia(u.bootstrap),this._r3Injector=_p(i,r,[{provide:ml,useValue:this},{provide:tu,useValue:this.componentFactoryResolver},...c],ne(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class H1 extends Qb{constructor(i){super(),this.moduleType=i}create(i){return new Z1(this.moduleType,i,[])}}class Kb extends ml{constructor(i){super(),this.componentFactoryResolver=new sg(this),this.instance=null;const r=new Jl([...i.providers,{provide:ml,useValue:this},{provide:tu,useValue:this.componentFactoryResolver}],i.parent||Wl(),i.debugName,new Set(["environment"]));this.injector=r,i.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function Xb(t,i,r=null){return new Kb({providers:t,parent:i,debugName:r,runEnvironmentInitializers:!0}).injector}let Pw=(()=>{class t{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const c=Kf(0,r.type),u=c.length>0?Xb([c],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,u)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=zt({token:t,providedIn:"environment",factory:()=>new t(at(Hs))})}return t})();function eC(t){t.getStandaloneInjector=i=>i.get(Pw).getOrCreateStandaloneInjector(t)}function aC(t,i,r){const c=wr()+t,u=Tt();return u[c]===ni?Os(u,c,r?i.call(r):i()):function ra(t,i){return t[i]}(u,c)}function cC(t,i,r,c){return dC(Tt(),wr(),t,i,r,c)}function lC(t,i,r,c,u){return hC(Tt(),wr(),t,i,r,c,u)}function uC(t,i,r,c,u,h){return function fC(t,i,r,c,u,h,m,y){const w=i+r;return function du(t,i,r,c,u){const h=La(t,i,r,c);return Tr(t,i+2,u)||h}(t,w,u,h,m)?Os(t,w+3,y?c.call(y,u,h,m):c(u,h,m)):$h(t,w+3)}(Tt(),wr(),t,i,r,c,u,h)}function $h(t,i){const r=t[i];return r===ni?void 0:r}function dC(t,i,r,c,u,h){const m=i+r;return Tr(t,m,u)?Os(t,m+1,h?c.call(h,u):c(u)):$h(t,m+1)}function hC(t,i,r,c,u,h,m){const y=i+r;return La(t,y,u,h)?Os(t,y+2,m?c.call(m,u,h):c(u,h)):$h(t,y+2)}function mC(t,i){const r=ti();let c;const u=t+ei;r.firstCreatePass?(c=function Ww(t,i){if(i)for(let r=i.length-1;r>=0;r--){const c=i[r];if(t===c.name)return c}}(i,r.pipeRegistry),r.data[u]=c,c.onDestroy&&(r.destroyHooks??=[]).push(u,c.onDestroy)):c=r.data[u];const h=c.factory||(c.factory=jr(c.type)),y=Fn(pc);try{const w=El(!1),N=h();return El(w),function vh(t,i,r,c){r>=t.data.length&&(t.data[r]=null,t.blueprint[r]=null),i[r]=c}(r,Tt(),u,N),N}finally{Fn(y)}}function _C(t,i,r){const c=t+ei,u=Tt(),h=O(u,c);return Gh(u,c)?dC(u,wr(),i,h.transform,r,h):h.transform(r)}function vC(t,i,r,c){const u=t+ei,h=Tt(),m=O(h,u);return Gh(h,u)?hC(h,wr(),i,m.transform,r,c,m):m.transform(r,c)}function Gh(t,i){return t[$t].data[i].pure}function Xw(){return this._results[Symbol.iterator]()}class V1{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new js)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const r=V1.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=Xw)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,r){return this._results.reduce(i,r)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,r){const c=this;c.dirty=!1;const u=function Ms(t){return t.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Sy(t,i,r){if(t.length!==i.length)return!1;for(let c=0;c<t.length;c++){let u=t[c],h=i[c];if(r&&(u=r(u),h=r(h)),h!==u)return!1}return!0}(c._results,u,r))&&(c._results=u,c.length=u.length,c.last=u[this.length-1],c.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function tT(t,i,r,c=!0){const u=i[$t];if(function zy(t,i,r,c){const u=co+c,h=r.length;c>0&&(r[u-1][ro]=i),c<h-co?(i[ro]=r[u],Fm(r,co+c,i)):(r.push(i),i[ro]=null),i[ci]=r;const m=i[zo];null!==m&&r!==m&&function $y(t,i){const r=t[Ur];i[xi]!==i[ci][ci][xi]&&(t[vr]=!0),null===r?t[Ur]=[i]:r.push(i)}(m,i);const y=i[ko];null!==y&&y.insertView(t),i[rn]|=128}(u,i,t,r),c){const h=Vl(r,t),m=i[Vt],y=cd(m,t[so]);null!==y&&function xf(t,i,r,c,u,h){c[di]=u,c[ji]=i,Oo(t,c,r,1,u,h)}(u,t[ji],m,i,y,h)}}let Yh=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=oT}return t})();const nT=Yh,iT=class extends nT{constructor(i,r,c){super(),this._declarationLView=i,this._declarationTContainer=r,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,r){return this.createEmbeddedViewImpl(i,r)}createEmbeddedViewImpl(i,r,c){const u=function eT(t,i,r,c){const u=i.tView,y=ou(t,u,r,4096&t[rn]?4096:16,null,i,null,null,null,c?.injector??null,c?.hydrationInfo??null);y[zo]=t[i.index];const N=t[ko];return null!==N&&(y[ko]=N.createEmbeddedView(u)),sh(u,y,r),y}(this._declarationLView,this._declarationTContainer,i,{injector:r,hydrationInfo:c});return new il(u)}};function oT(){return ym(to(),Tt())}function ym(t,i){return 4&t.type?new iT(i,t,Fa(t,i)):null}let Cm=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=uT}return t})();function uT(){return EC(to(),Tt())}const dT=Cm,wC=class extends dT{constructor(i,r,c){super(),this._lContainer=i,this._hostTNode=r,this._hostLView=c}get element(){return Fa(this._hostTNode,this._hostLView)}get injector(){return new Rr(this._hostTNode,this._hostLView)}get parentInjector(){const i=Wa(this._hostTNode,this._hostLView);if(Ks(i)){const r=ha(i,this._hostLView),c=Nc(i);return new Rr(r[$t].data[c+8],r)}return new Rr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const r=TC(this._lContainer);return null!==r&&r[i]||null}get length(){return this._lContainer.length-co}createEmbeddedView(i,r,c){let u,h;"number"==typeof c?u=c:null!=c&&(u=c.index,h=c.injector);const y=i.createEmbeddedViewImpl(r||{},h,null);return this.insertImpl(y,u,false),y}createComponent(i,r,c,u,h){const m=i&&!function Lc(t){return"function"==typeof t}(i);let y;if(m)y=r;else{const Ut=r||{};y=Ut.index,c=Ut.injector,u=Ut.projectableNodes,h=Ut.environmentInjector||Ut.ngModuleRef}const w=m?i:new ol(An(i)),N=c||this.parentInjector;if(!h&&null==w.ngModule){const tn=(m?N:this.parentInjector).get(Hs,null);tn&&(h=tn)}An(w.componentType??{});const qe=w.create(N,u,null,h);return this.insertImpl(qe.hostView,y,false),qe}insert(i,r){return this.insertImpl(i,r,!1)}insertImpl(i,r,c){const u=i._lView;if(function lt(t){return Ki(t[ci])}(u)){const w=this.indexOf(i);if(-1!==w)this.detach(w);else{const N=u[ci],$=new wC(N,N[ji],N[ci]);$.detach($.indexOf(i))}}const m=this._adjustIndex(r),y=this._lContainer;return tT(y,u,m,!c),i.attachToViewContainerRef(),Fm(z1(y),m,i),i}move(i,r){return this.insert(i,r)}indexOf(i){const r=TC(this._lContainer);return null!==r?r.indexOf(i):-1}remove(i){const r=this._adjustIndex(i,-1),c=ad(this._lContainer,r);c&&(Vu(z1(this._lContainer),r),If(c[$t],c))}detach(i){const r=this._adjustIndex(i,-1),c=ad(this._lContainer,r);return c&&null!=Vu(z1(this._lContainer),r)?new il(c):null}_adjustIndex(i,r=0){return i??this.length+r}};function TC(t){return t[8]}function z1(t){return t[8]||(t[8]=[])}function EC(t,i){let r;const c=i[t.index];return Ki(c)?r=c:(r=qp(c,i,null,t),i[t.index]=r,ru(i,r)),MC(r,i,t,c),new wC(r,t,i)}let MC=function SC(t,i,r,c){if(t[so])return;let u;u=8&r.type?Ti(c):function hT(t,i){const r=t[Vt],c=r.createComment(""),u=d(i,t);return rc(r,cd(r,u),c,function h_(t,i){return t.nextSibling(i)}(r,u),!1),c}(i,r),t[so]=u};class $1{constructor(i){this.queryList=i,this.matches=null}clone(){return new $1(this.queryList)}setDirty(){this.queryList.setDirty()}}class G1{constructor(i=[]){this.queries=i}createEmbeddedView(i){const r=i.queries;if(null!==r){const c=null!==i.contentQueries?i.contentQueries[0]:r.length,u=[];for(let h=0;h<c;h++){const m=r.getByIndex(h);u.push(this.queries[m.indexInDeclarationView].clone())}return new G1(u)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let r=0;r<this.queries.length;r++)null!==FC(i,r).matches&&this.queries[r].setDirty()}}class xC{constructor(i,r,c=null){this.predicate=i,this.flags=r,this.read=c}}class Y1{constructor(i=[]){this.queries=i}elementStart(i,r){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(i,r)}elementEnd(i){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(i)}embeddedTView(i){let r=null;for(let c=0;c<this.length;c++){const u=null!==r?r.length:0,h=this.getByIndex(c).embeddedTView(i,u);h&&(h.indexInDeclarationView=c,null!==r?r.push(h):r=[h])}return null!==r?new Y1(r):null}template(i,r){for(let c=0;c<this.queries.length;c++)this.queries[c].template(i,r)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class q1{constructor(i,r=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(i,r){this.isApplyingToNode(r)&&this.matchTNode(i,r)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,r){this.elementStart(i,r)}embeddedTView(i,r){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,r),new q1(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const r=this._declarationNodeIndex;let c=i.parent;for(;null!==c&&8&c.type&&c.index!==r;)c=c.parent;return r===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(i,r){const c=this.metadata.predicate;if(Array.isArray(c))for(let u=0;u<c.length;u++){const h=c[u];this.matchTNodeWithReadOption(i,r,gT(r,h)),this.matchTNodeWithReadOption(i,r,kc(r,i,h,!1,!1))}else c===Yh?4&r.type&&this.matchTNodeWithReadOption(i,r,-1):this.matchTNodeWithReadOption(i,r,kc(r,i,c,!1,!1))}matchTNodeWithReadOption(i,r,c){if(null!==c){const u=this.metadata.read;if(null!==u)if(u===uc||u===Cm||u===Yh&&4&r.type)this.addMatch(r.index,-2);else{const h=kc(r,i,u,!1,!1);null!==h&&this.addMatch(r.index,h)}else this.addMatch(r.index,c)}}addMatch(i,r){null===this.matches?this.matches=[i,r]:this.matches.push(i,r)}}function gT(t,i){const r=t.localNames;if(null!==r)for(let c=0;c<r.length;c+=2)if(r[c]===i)return r[c+1];return null}function _T(t,i,r,c){return-1===r?function mT(t,i){return 11&t.type?Fa(t,i):4&t.type?ym(t,i):null}(i,t):-2===r?function vT(t,i,r){return r===uc?Fa(i,t):r===Yh?ym(i,t):r===Cm?EC(i,t):void 0}(t,i,c):xa(t,t[$t],r,i)}function IC(t,i,r,c){const u=i[ko].queries[c];if(null===u.matches){const h=t.data,m=r.matches,y=[];for(let w=0;w<m.length;w+=2){const N=m[w];y.push(N<0?null:_T(i,h[N],m[w+1],r.metadata.read))}u.matches=y}return u.matches}function W1(t,i,r,c){const u=t.queries.getByIndex(r),h=u.matches;if(null!==h){const m=IC(t,i,u,r);for(let y=0;y<h.length;y+=2){const w=h[y];if(w>0)c.push(m[y/2]);else{const N=h[y+1],$=i[-w];for(let ie=co;ie<$.length;ie++){const Be=$[ie];Be[zo]===Be[ci]&&W1(Be[$t],Be,N,c)}if(null!==$[Ur]){const ie=$[Ur];for(let Be=0;Be<ie.length;Be++){const qe=ie[Be];W1(qe[$t],qe,N,c)}}}}}return c}function AC(t){const i=Tt(),r=ti(),c=Y();ae(c+1);const u=FC(r,c);if(t.dirty&&function Te(t){return 4==(4&t[rn])}(i)===(2==(2&u.metadata.flags))){if(null===u.matches)t.reset([]);else{const h=u.crossesNgTemplate?W1(r,i,c,[]):IC(r,i,u,c);t.reset(h,up),t.notifyOnChanges()}return!0}return!1}function OC(t,i,r){const c=ti();c.firstCreatePass&&(RC(c,new xC(t,i,r),-1),2==(2&i)&&(c.staticViewQueries=!0)),PC(c,Tt(),i)}function NC(t,i,r,c){const u=ti();if(u.firstCreatePass){const h=to();RC(u,new xC(i,r,c),h.index),function bT(t,i){const r=t.contentQueries||(t.contentQueries=[]);i!==(r.length?r[r.length-1]:-1)&&r.push(t.queries.length-1,i)}(u,t),2==(2&r)&&(u.staticContentQueries=!0)}PC(u,Tt(),r)}function kC(){return function yT(t,i){return t[ko].queries[i].queryList}(Tt(),Y())}function PC(t,i,r){const c=new V1(4==(4&r));(function Rv(t,i,r,c){const u=Jp(i);u.push(r),t.firstCreatePass&&Qp(t).push(c,u.length-1)})(t,i,c,c.destroy),null===i[ko]&&(i[ko]=new G1),i[ko].queries.push(new $1(c))}function RC(t,i,r){null===t.queries&&(t.queries=new Y1),t.queries.track(new q1(i,r))}function FC(t,i){return t.queries.getByIndex(i)}function LC(t,i){return ym(t,i)}function J1(t){return!!kn(t)}const eD=new Ni("Application Initializer");let ty=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,c)=>{this.resolve=r,this.reject=c}),this.appInits=It(eD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const u of this.appInits){const h=u();if(wh(h))r.push(h);else if(Ng(h)){const m=new Promise((y,w)=>{h.subscribe({complete:y,error:w})});r.push(m)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{c()}).catch(u=>{this.reject(u)}),0===r.length&&c(),this.initialized=!0}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=zt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),tD=(()=>{class t{log(r){console.log(r)}warn(r){console.warn(r)}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=zt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const wm=new Ni("LocaleId",{providedIn:"root",factory:()=>It(wm,Lt.Optional|Lt.SkipSelf)||function HT(){return typeof $localize<"u"&&$localize.locale||Yo}()}),jT=new Ni("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let nD=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new W.X(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=zt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class zT{constructor(i,r){this.ngModuleFactory=i,this.componentFactories=r}}let $T=(()=>{class t{compileModuleSync(r){return new H1(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const c=this.compileModuleSync(r),h=ia(kn(r).declarations).reduce((m,y)=>{const w=An(y);return w&&m.push(new ol(w)),m},[]);return new zT(c,h)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=zt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const sD=new Ni(""),aD=new Ni("");let oy,dE=(()=>{class t{constructor(r,c,u){this._ngZone=r,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,oy||(function hE(t){oy=t}(u),u.addToWindow(c)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{sr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(r)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,c,u){let h=-1;c&&c>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==h),r(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:r,timeoutId:h,updateCb:u})}whenStable(r,c,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,c,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,c,u){return[]}static#e=this.\u0275fac=function(c){return new(c||t)(at(sr),at(cD),at(aD))};static#t=this.\u0275prov=zt({token:t,factory:t.\u0275fac})}return t})(),cD=(()=>{class t{constructor(){this._applications=new Map}registerApplication(r,c){this._applications.set(r,c)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,c=!0){return oy?.findTestabilityInTree(this,r,c)??null}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=zt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Sc=null;const lD=new Ni("AllowMultipleToken"),ry=new Ni("PlatformDestroyListeners"),sy=new Ni("appBootstrapListener");class gE{constructor(i,r){this.name=i,this.token=r}}function hD(t,i,r=[]){const c=`Platform: ${i}`,u=new Ni(c);return(h=[])=>{let m=ay();if(!m||m.injector.get(lD,!1)){const y=[...r,...h,{provide:u,useValue:!0}];t?t(y):function mE(t){if(Sc&&!Sc.get(lD,!1))throw new Ce(400,!1);(function uD(){!function Js(t){ir=t}(()=>{throw new Ce(600,!1)})})(),Sc=t;const i=t.get(pD);(function dD(t){t.get(ip,null)?.forEach(r=>r())})(t)}(function fD(t=[],i){return Is.create({name:i,providers:[{provide:Td,useValue:"platform"},{provide:ry,useValue:new Set([()=>Sc=null])},...t]})}(y,c))}return function vE(t){const i=ay();if(!i)throw new Ce(401,!1);return i}()}}function ay(){return Sc?.get(pD)??null}let pD=(()=>{class t{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,c){const u=function yE(t="zone.js",i){return"noop"===t?new bv:"zone.js"===t?new sr(i):t}(c?.ngZone,function gD(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return u.run(()=>{const h=function kw(t,i,r){return new Z1(t,i,r)}(r.moduleType,this.injector,function bD(t){return[{provide:sr,useFactory:t},{provide:Wc,multi:!0,useFactory:()=>{const i=It(CE,{optional:!0});return()=>i.initialize()}},{provide:yD,useFactory:bE},{provide:Dp,useFactory:wp}]}(()=>u)),m=h.injector.get(ma,null);return u.runOutsideAngular(()=>{const y=u.onError.subscribe({next:w=>{m.handleError(w)}});h.onDestroy(()=>{Em(this._modules,h),y.unsubscribe()})}),function mD(t,i,r){try{const c=r();return wh(c)?c.catch(u=>{throw i.runOutsideAngular(()=>t.handleError(u)),u}):c}catch(c){throw i.runOutsideAngular(()=>t.handleError(c)),c}}(m,u,()=>{const y=h.injector.get(ty);return y.runInitializers(),y.donePromise.then(()=>(ul(h.injector.get(wm,Yo)||Yo),this._moduleDoBootstrap(h),h))})})}bootstrapModule(r,c=[]){const u=_D({},c);return function fE(t,i,r){const c=new H1(r);return Promise.resolve(c)}(0,0,r).then(h=>this.bootstrapModuleFactory(h,u))}_moduleDoBootstrap(r){const c=r.injector.get(xu);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(u=>c.bootstrap(u));else{if(!r.instance.ngDoBootstrap)throw new Ce(-403,!1);r.instance.ngDoBootstrap(c)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ce(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const r=this._injector.get(ry,null);r&&(r.forEach(c=>c()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(c){return new(c||t)(at(Is))};static#t=this.\u0275prov=zt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function _D(t,i){return Array.isArray(i)?i.reduce(_D,t):{...t,...i}}let xu=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=It(yD),this.zoneIsStable=It(Dp),this.componentTypes=[],this.components=[],this.isStable=It(nD).hasPendingTasks.pipe((0,Le.w)(r=>r?(0,e.of)(!1):this.zoneIsStable),(0,oe.x)(),(0,K.B)()),this._injector=It(Hs)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,c){const u=r instanceof cp;if(!this._injector.get(ty).done)throw!u&&Oi(r),new Ce(405,!1);let m;m=u?r:this._injector.get(tu).resolveComponentFactory(r),this.componentTypes.push(m.componentType);const y=function pE(t){return t.isBoundToModule}(m)?void 0:this._injector.get(ml),N=m.create(Is.NULL,[],c||m.selector,y),$=N.location.nativeElement,ie=N.injector.get(sD,null);return ie?.registerApplication($),N.onDestroy(()=>{this.detachView(N.hostView),Em(this.components,N),ie?.unregisterApplication($)}),this._loadComponent(N),N}tick(){if(this._runningTick)throw new Ce(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const c=r;this._views.push(c),c.attachToAppRef(this)}detachView(r){const c=r;Em(this._views,c),c.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const c=this._injector.get(sy,[]);c.push(...this._bootstrapListeners),c.forEach(u=>u(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Em(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new Ce(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=zt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Em(t,i){const r=t.indexOf(i);r>-1&&t.splice(r,1)}const yD=new Ni("",{providedIn:"root",factory:()=>It(ma).handleError.bind(void 0)});function bE(){const t=It(sr),i=It(ma);return r=>t.runOutsideAngular(()=>i.handleError(r))}let CE=(()=>{class t{constructor(){this.zone=It(sr),this.applicationRef=It(xu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=zt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function wE(){return!1}let TE=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=EE}return t})();function EE(t){return function ME(t,i,r){if(lr(t)&&!r){const c=G(t.index,i);return new il(c,c)}return 47&t.type?new il(i[xi],i):null}(to(),Tt(),16==(16&t))}class TD{constructor(){}supports(i){return uu(i)}create(i){return new NE(i)}}const OE=(t,i)=>i;class NE{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||OE}forEachItem(i){let r;for(r=this._itHead;null!==r;r=r._next)i(r)}forEachOperation(i){let r=this._itHead,c=this._removalsHead,u=0,h=null;for(;r||c;){const m=!c||r&&r.currentIndex<MD(c,u,h)?r:c,y=MD(m,u,h),w=m.currentIndex;if(m===c)u--,c=c._nextRemoved;else if(r=r._next,null==m.previousIndex)u++;else{h||(h=[]);const N=y-u,$=w-u;if(N!=$){for(let Be=0;Be<N;Be++){const qe=Be<h.length?h[Be]:h[Be]=0,Ct=qe+Be;$<=Ct&&Ct<N&&(h[Be]=qe+1)}h[m.previousIndex]=$-N}}y!==w&&i(m,y,w)}}forEachPreviousItem(i){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)i(r)}forEachAddedItem(i){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)i(r)}forEachMovedItem(i){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)i(r)}forEachRemovedItem(i){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)i(r)}forEachIdentityChange(i){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)i(r)}diff(i){if(null==i&&(i=[]),!uu(i))throw new Ce(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let u,h,m,r=this._itHead,c=!1;if(Array.isArray(i)){this.length=i.length;for(let y=0;y<this.length;y++)h=i[y],m=this._trackByFn(y,h),null!==r&&Object.is(r.trackById,m)?(c&&(r=this._verifyReinsertion(r,h,m,y)),Object.is(r.item,h)||this._addIdentityChange(r,h)):(r=this._mismatch(r,h,m,y),c=!0),r=r._next}else u=0,function D0(t,i){if(Array.isArray(t))for(let r=0;r<t.length;r++)i(t[r]);else{const r=t[Symbol.iterator]();let c;for(;!(c=r.next()).done;)i(c.value)}}(i,y=>{m=this._trackByFn(u,y),null!==r&&Object.is(r.trackById,m)?(c&&(r=this._verifyReinsertion(r,y,m,u)),Object.is(r.item,y)||this._addIdentityChange(r,y)):(r=this._mismatch(r,y,m,u),c=!0),r=r._next,u++}),this.length=u;return this._truncate(r),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,r,c,u){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(i.item,r)||this._addIdentityChange(i,r),this._reinsertAfter(i,h,u)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(c,u))?(Object.is(i.item,r)||this._addIdentityChange(i,r),this._moveAfter(i,h,u)):i=this._addAfter(new kE(r,c),h,u),i}_verifyReinsertion(i,r,c,u){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==h?i=this._reinsertAfter(h,i._prev,u):i.currentIndex!=u&&(i.currentIndex=u,this._addToMoves(i,u)),i}_truncate(i){for(;null!==i;){const r=i._next;this._addToRemovals(this._unlink(i)),i=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,r,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const u=i._prevRemoved,h=i._nextRemoved;return null===u?this._removalsHead=h:u._nextRemoved=h,null===h?this._removalsTail=u:h._prevRemoved=u,this._insertAfter(i,r,c),this._addToMoves(i,c),i}_moveAfter(i,r,c){return this._unlink(i),this._insertAfter(i,r,c),this._addToMoves(i,c),i}_addAfter(i,r,c){return this._insertAfter(i,r,c),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,r,c){const u=null===r?this._itHead:r._next;return i._next=u,i._prev=r,null===u?this._itTail=i:u._prev=i,null===r?this._itHead=i:r._next=i,null===this._linkedRecords&&(this._linkedRecords=new ED),this._linkedRecords.put(i),i.currentIndex=c,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const r=i._prev,c=i._next;return null===r?this._itHead=c:r._next=c,null===c?this._itTail=r:c._prev=r,i}_addToMoves(i,r){return i.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ED),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,r){return i.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class kE{constructor(i,r){this.item=i,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class PE{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,r){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===r||r<=c.currentIndex)&&Object.is(c.trackById,i))return c;return null}remove(i){const r=i._prevDup,c=i._nextDup;return null===r?this._head=c:r._nextDup=c,null===c?this._tail=r:c._prevDup=r,null===this._head}}class ED{constructor(){this.map=new Map}put(i){const r=i.trackById;let c=this.map.get(r);c||(c=new PE,this.map.set(r,c)),c.add(i)}get(i,r){const u=this.map.get(i);return u?u.get(i,r):null}remove(i){const r=i.trackById;return this.map.get(r).remove(i)&&this.map.delete(r),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function MD(t,i,r){const c=t.previousIndex;if(null===c)return c;let u=0;return r&&c<r.length&&(u=r[c]),c+i+u}class SD{constructor(){}supports(i){return i instanceof Map||lh(i)}create(){return new RE}}class RE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let r;for(r=this._mapHead;null!==r;r=r._next)i(r)}forEachPreviousItem(i){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)i(r)}forEachChangedItem(i){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)i(r)}forEachAddedItem(i){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)i(r)}forEachRemovedItem(i){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)i(r)}diff(i){if(i){if(!(i instanceof Map||lh(i)))throw new Ce(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(i,(c,u)=>{if(r&&r.key===u)this._maybeAddToChanges(r,c),this._appendAfter=r,r=r._next;else{const h=this._getOrCreateRecordForKey(u,c);r=this._insertBeforeOrAppend(r,h)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let c=r;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,r){if(i){const c=i._prev;return r._next=i,r._prev=c,i._prev=r,c&&(c._next=r),i===this._mapHead&&(this._mapHead=r),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(i,r){if(this._records.has(i)){const u=this._records.get(i);this._maybeAddToChanges(u,r);const h=u._prev,m=u._next;return h&&(h._next=m),m&&(m._prev=h),u._next=null,u._prev=null,u}const c=new FE(i);return this._records.set(i,c),c.currentValue=r,this._addToAdditions(c),c}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,r){Object.is(r,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=r,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,r){i instanceof Map?i.forEach(r):Object.keys(i).forEach(c=>r(i[c],c))}}class FE{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function xD(){return new hy([new TD])}let hy=(()=>{class t{static#e=this.\u0275prov=zt({token:t,providedIn:"root",factory:xD});constructor(r){this.factories=r}static create(r,c){if(null!=c){const u=c.factories.slice();r=r.concat(u)}return new t(r)}static extend(r){return{provide:t,useFactory:c=>t.create(r,c||xD()),deps:[[t,new pa,new Xs]]}}find(r){const c=this.factories.find(u=>u.supports(r));if(null!=c)return c;throw new Ce(901,!1)}}return t})();function ID(){return new fy([new SD])}let fy=(()=>{class t{static#e=this.\u0275prov=zt({token:t,providedIn:"root",factory:ID});constructor(r){this.factories=r}static create(r,c){if(c){const u=c.factories.slice();r=r.concat(u)}return new t(r)}static extend(r){return{provide:t,useFactory:c=>t.create(r,c||ID()),deps:[[t,new pa,new Xs]]}}find(r){const c=this.factories.find(u=>u.supports(r));if(c)return c;throw new Ce(901,!1)}}return t})();const UE=hD(null,"core",[]);let ZE=(()=>{class t{constructor(r){}static#e=this.\u0275fac=function(c){return new(c||t)(at(xu))};static#t=this.\u0275mod=Ci({type:t});static#n=this.\u0275inj=xn({})}return t})();function QE(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function XE(t,i){const r=An(t),c=i.elementInjector||Wl();return new ol(r).create(c,i.projectableNodes,i.hostElement,i.environmentInjector)}function eM(t){const i=An(t);if(!i)return null;const r=new ol(i);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return i.standalone},get isSignal(){return i.signals}}}},8849:(bt,ke,S)=>{"use strict";S.d(ke,{Cf:()=>ee,EJ:()=>ji,Fj:()=>De,JJ:()=>je,JU:()=>Le,Kr:()=>ho,On:()=>Et,Wl:()=>re,YN:()=>Sr,u5:()=>Zr,wV:()=>Kn});var p=S(1699),Q=S(6575),z=S(4683),te=S(4300),W=S(9736);let e=(()=>{class R{constructor(x,J){this._renderer=x,this._elementRef=J,this.onChange=be=>{},this.onTouched=()=>{}}setProperty(x,J){this._renderer.setProperty(this._elementRef.nativeElement,x,J)}registerOnTouched(x){this.onTouched=x}registerOnChange(x){this.onChange=x}setDisabledState(x){this.setProperty("disabled",x)}static#e=this.\u0275fac=function(J){return new(J||R)(p.Y36(p.Qsj),p.Y36(p.SBq))};static#t=this.\u0275dir=p.lG2({type:R})}return R})(),K=(()=>{class R extends e{static#e=this.\u0275fac=function(){let x;return function(be){return(x||(x=p.n5z(R)))(be||R)}}();static#t=this.\u0275dir=p.lG2({type:R,features:[p.qOj]})}return R})();const Le=new p.OlP("NgValueAccessor"),oe={provide:Le,useExisting:(0,p.Gpc)(()=>re),multi:!0};let re=(()=>{class R extends K{writeValue(x){this.setProperty("checked",x)}static#e=this.\u0275fac=function(){let x;return function(be){return(x||(x=p.n5z(R)))(be||R)}}();static#t=this.\u0275dir=p.lG2({type:R,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(J,be){1&J&&p.NdJ("change",function(Yn){return be.onChange(Yn.target.checked)})("blur",function(){return be.onTouched()})},features:[p._Bn([oe]),p.qOj]})}return R})();const fe={provide:Le,useExisting:(0,p.Gpc)(()=>De),multi:!0},ge=new p.OlP("CompositionEventMode");let De=(()=>{class R extends e{constructor(x,J,be){super(x,J),this._compositionMode=be,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ne(){const R=(0,Q.q)()?(0,Q.q)().getUserAgent():"";return/android (\d+)/.test(R.toLowerCase())}())}writeValue(x){this.setProperty("value",x??"")}_handleInput(x){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(x)}_compositionStart(){this._composing=!0}_compositionEnd(x){this._composing=!1,this._compositionMode&&this.onChange(x)}static#e=this.\u0275fac=function(J){return new(J||R)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(ge,8))};static#t=this.\u0275dir=p.lG2({type:R,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(J,be){1&J&&p.NdJ("input",function(Yn){return be._handleInput(Yn.target.value)})("blur",function(){return be.onTouched()})("compositionstart",function(){return be._compositionStart()})("compositionend",function(Yn){return be._compositionEnd(Yn.target.value)})},features:[p._Bn([fe]),p.qOj]})}return R})();const ee=new p.OlP("NgValidators"),Me=new p.OlP("NgAsyncValidators");function Fe(R){return null!=R}function Bt(R){return(0,p.QGY)(R)?(0,z.D)(R):R}function ut(R){let B={};return R.forEach(x=>{B=null!=x?{...B,...x}:B}),0===Object.keys(B).length?null:B}function pt(R,B){return B.map(x=>x(R))}function ct(R){return R.map(B=>function Re(R){return!R.validate}(B)?B:x=>B.validate(x))}function he(R){return null!=R?function ce(R){if(!R)return null;const B=R.filter(Fe);return 0==B.length?null:function(x){return ut(pt(x,B))}}(ct(R)):null}function we(R){return null!=R?function Se(R){if(!R)return null;const B=R.filter(Fe);return 0==B.length?null:function(x){const J=pt(x,B).map(Bt);return(0,te.D)(J).pipe((0,W.U)(ut))}}(ct(R)):null}function Ae(R,B){return null===R?[B]:Array.isArray(R)?[...R,B]:[R,B]}function ot(R){return R?Array.isArray(R)?R:[R]:[]}function pn(R,B){return Array.isArray(R)?R.includes(B):R===B}function gt(R,B){const x=ot(B);return ot(R).forEach(be=>{pn(x,be)||x.push(be)}),x}function ln(R,B){return ot(B).filter(x=>!pn(R,x))}class zt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(B){this._rawValidators=B||[],this._composedValidatorFn=he(this._rawValidators)}_setAsyncValidators(B){this._rawAsyncValidators=B||[],this._composedAsyncValidatorFn=we(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(B){this._onDestroyCallbacks.push(B)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(B=>B()),this._onDestroyCallbacks=[]}reset(B=void 0){this.control&&this.control.reset(B)}hasError(B,x){return!!this.control&&this.control.hasError(B,x)}getError(B,x){return this.control?this.control.getError(B,x):null}}class xt extends zt{get formDirective(){return null}get path(){return null}}class xn extends zt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class vn{constructor(B){this._cd=B}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let je=(()=>{class R extends vn{constructor(x){super(x)}static#e=this.\u0275fac=function(J){return new(J||R)(p.Y36(xn,2))};static#t=this.\u0275dir=p.lG2({type:R,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(J,be){2&J&&p.ekj("ng-untouched",be.isUntouched)("ng-touched",be.isTouched)("ng-pristine",be.isPristine)("ng-dirty",be.isDirty)("ng-valid",be.isValid)("ng-invalid",be.isInvalid)("ng-pending",be.isPending)},features:[p.qOj]})}return R})();const Ei="VALID",Hi="INVALID",Fi="PENDING",$n="DISABLED";function Qi(R){return null!=R&&!Array.isArray(R)&&"object"==typeof R}class Ho{constructor(B,x){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(B),this._assignAsyncValidators(x)}get validator(){return this._composedValidatorFn}set validator(B){this._rawValidators=this._composedValidatorFn=B}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(B){this._rawAsyncValidators=this._composedAsyncValidatorFn=B}get parent(){return this._parent}get valid(){return this.status===Ei}get invalid(){return this.status===Hi}get pending(){return this.status==Fi}get disabled(){return this.status===$n}get enabled(){return this.status!==$n}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(B){this._assignValidators(B)}setAsyncValidators(B){this._assignAsyncValidators(B)}addValidators(B){this.setValidators(gt(B,this._rawValidators))}addAsyncValidators(B){this.setAsyncValidators(gt(B,this._rawAsyncValidators))}removeValidators(B){this.setValidators(ln(B,this._rawValidators))}removeAsyncValidators(B){this.setAsyncValidators(ln(B,this._rawAsyncValidators))}hasValidator(B){return pn(this._rawValidators,B)}hasAsyncValidator(B){return pn(this._rawAsyncValidators,B)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(B={}){this.touched=!0,this._parent&&!B.onlySelf&&this._parent.markAsTouched(B)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(B=>B.markAllAsTouched())}markAsUntouched(B={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(x=>{x.markAsUntouched({onlySelf:!0})}),this._parent&&!B.onlySelf&&this._parent._updateTouched(B)}markAsDirty(B={}){this.pristine=!1,this._parent&&!B.onlySelf&&this._parent.markAsDirty(B)}markAsPristine(B={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(x=>{x.markAsPristine({onlySelf:!0})}),this._parent&&!B.onlySelf&&this._parent._updatePristine(B)}markAsPending(B={}){this.status=Fi,!1!==B.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!B.onlySelf&&this._parent.markAsPending(B)}disable(B={}){const x=this._parentMarkedDirty(B.onlySelf);this.status=$n,this.errors=null,this._forEachChild(J=>{J.disable({...B,onlySelf:!0})}),this._updateValue(),!1!==B.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...B,skipPristineCheck:x}),this._onDisabledChange.forEach(J=>J(!0))}enable(B={}){const x=this._parentMarkedDirty(B.onlySelf);this.status=Ei,this._forEachChild(J=>{J.enable({...B,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:B.emitEvent}),this._updateAncestors({...B,skipPristineCheck:x}),this._onDisabledChange.forEach(J=>J(!1))}_updateAncestors(B){this._parent&&!B.onlySelf&&(this._parent.updateValueAndValidity(B),B.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(B){this._parent=B}getRawValue(){return this.value}updateValueAndValidity(B={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ei||this.status===Fi)&&this._runAsyncValidator(B.emitEvent)),!1!==B.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!B.onlySelf&&this._parent.updateValueAndValidity(B)}_updateTreeValidity(B={emitEvent:!0}){this._forEachChild(x=>x._updateTreeValidity(B)),this.updateValueAndValidity({onlySelf:!0,emitEvent:B.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?$n:Ei}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(B){if(this.asyncValidator){this.status=Fi,this._hasOwnPendingAsyncValidator=!0;const x=Bt(this.asyncValidator(this));this._asyncValidationSubscription=x.subscribe(J=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(J,{emitEvent:B})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(B,x={}){this.errors=B,this._updateControlsErrors(!1!==x.emitEvent)}get(B){let x=B;return null==x||(Array.isArray(x)||(x=x.split(".")),0===x.length)?null:x.reduce((J,be)=>J&&J._find(be),this)}getError(B,x){const J=x?this.get(x):this;return J&&J.errors?J.errors[B]:null}hasError(B,x){return!!this.getError(B,x)}get root(){let B=this;for(;B._parent;)B=B._parent;return B}_updateControlsErrors(B){this.status=this._calculateStatus(),B&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(B)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?$n:this.errors?Hi:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fi)?Fi:this._anyControlsHaveStatus(Hi)?Hi:Ei}_anyControlsHaveStatus(B){return this._anyControls(x=>x.status===B)}_anyControlsDirty(){return this._anyControls(B=>B.dirty)}_anyControlsTouched(){return this._anyControls(B=>B.touched)}_updatePristine(B={}){this.pristine=!this._anyControlsDirty(),this._parent&&!B.onlySelf&&this._parent._updatePristine(B)}_updateTouched(B={}){this.touched=this._anyControlsTouched(),this._parent&&!B.onlySelf&&this._parent._updateTouched(B)}_registerOnCollectionChange(B){this._onCollectionChange=B}_setUpdateStrategy(B){Qi(B)&&null!=B.updateOn&&(this._updateOn=B.updateOn)}_parentMarkedDirty(B){return!B&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(B){return null}_assignValidators(B){this._rawValidators=Array.isArray(B)?B.slice():B,this._composedValidatorFn=function In(R){return Array.isArray(R)?he(R):R||null}(this._rawValidators)}_assignAsyncValidators(B){this._rawAsyncValidators=Array.isArray(B)?B.slice():B,this._composedAsyncValidatorFn=function Li(R){return Array.isArray(R)?we(R):R||null}(this._rawAsyncValidators)}}const Ue=new p.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>at}),at="always";function It(R,B,x=at){(function Ze(R,B){const x=function Ye(R){return R._rawValidators}(R);null!==B.validator?R.setValidators(Ae(x,B.validator)):"function"==typeof x&&R.setValidators([x]);const J=function rt(R){return R._rawAsyncValidators}(R);null!==B.asyncValidator?R.setAsyncValidators(Ae(J,B.asyncValidator)):"function"==typeof J&&R.setAsyncValidators([J]);const be=()=>R.updateValueAndValidity();Bn(B._rawValidators,be),Bn(B._rawAsyncValidators,be)})(R,B),B.valueAccessor.writeValue(R.value),(R.disabled||"always"===x)&&B.valueAccessor.setDisabledState?.(R.disabled),function Ie(R,B){B.valueAccessor.registerOnChange(x=>{R._pendingValue=x,R._pendingChange=!0,R._pendingDirty=!0,"change"===R.updateOn&&Dt(R,B)})}(R,B),function At(R,B){const x=(J,be)=>{B.valueAccessor.writeValue(J),be&&B.viewToModelUpdate(J)};R.registerOnChange(x),B._registerOnDestroy(()=>{R._unregisterOnChange(x)})}(R,B),function it(R,B){B.valueAccessor.registerOnTouched(()=>{R._pendingTouched=!0,"blur"===R.updateOn&&R._pendingChange&&Dt(R,B),"submit"!==R.updateOn&&R.markAsTouched()})}(R,B),function Un(R,B){if(B.valueAccessor.setDisabledState){const x=J=>{B.valueAccessor.setDisabledState(J)};R.registerOnDisabledChange(x),B._registerOnDestroy(()=>{R._unregisterOnDisabledChange(x)})}}(R,B)}function Bn(R,B){R.forEach(x=>{x.registerOnValidatorChange&&x.registerOnValidatorChange(B)})}function Dt(R,B){R._pendingDirty&&R.markAsDirty(),R.setValue(R._pendingValue,{emitModelToViewChange:!1}),B.viewToModelUpdate(R._pendingValue),R._pendingChange=!1}function Si(R,B){const x=R.indexOf(B);x>-1&&R.splice(x,1)}function vi(R){return"object"==typeof R&&null!==R&&2===Object.keys(R).length&&"value"in R&&"disabled"in R}const oo=class extends Ho{constructor(B=null,x,J){super(function Qn(R){return(Qi(R)?R.validators:R)||null}(x),function ai(R,B){return(Qi(B)?B.asyncValidators:R)||null}(J,x)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(B),this._setUpdateStrategy(x),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Qi(x)&&(x.nonNullable||x.initialValueIsDefault)&&(this.defaultValue=vi(B)?B.value:B)}setValue(B,x={}){this.value=this._pendingValue=B,this._onChange.length&&!1!==x.emitModelToViewChange&&this._onChange.forEach(J=>J(this.value,!1!==x.emitViewToModelChange)),this.updateValueAndValidity(x)}patchValue(B,x={}){this.setValue(B,x)}reset(B=this.defaultValue,x={}){this._applyFormState(B),this.markAsPristine(x),this.markAsUntouched(x),this.setValue(this.value,x),this._pendingChange=!1}_updateValue(){}_anyControls(B){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(B){this._onChange.push(B)}_unregisterOnChange(B){Si(this._onChange,B)}registerOnDisabledChange(B){this._onDisabledChange.push(B)}_unregisterOnDisabledChange(B){Si(this._onDisabledChange,B)}_forEachChild(B){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(B){vi(B)?(this.value=this._pendingValue=B.value,B.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=B}},Je={provide:xn,useExisting:(0,p.Gpc)(()=>Et)},Pt=(()=>Promise.resolve())();let Et=(()=>{class R extends xn{constructor(x,J,be,hn,Yn,Xi){super(),this._changeDetectorRef=Yn,this.callSetDisabledState=Xi,this.control=new oo,this._registered=!1,this.name="",this.update=new p.vpe,this._parent=x,this._setValidators(J),this._setAsyncValidators(be),this.valueAccessor=function Rn(R,B){if(!B)return null;let x,J,be;return Array.isArray(B),B.forEach(hn=>{hn.constructor===De?x=hn:function ri(R){return Object.getPrototypeOf(R.constructor)===K}(hn)?J=hn:be=hn}),be||J||x||null}(0,hn)}ngOnChanges(x){if(this._checkForErrors(),!this._registered||"name"in x){if(this._registered&&(this._checkName(),this.formDirective)){const J=x.name.previousValue;this.formDirective.removeControl({name:J,path:this._getPath(J)})}this._setUpControl()}"isDisabled"in x&&this._updateDisabled(x),function Zn(R,B){if(!R.hasOwnProperty("model"))return!1;const x=R.model;return!!x.isFirstChange()||!Object.is(B,x.currentValue)}(x,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){It(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(x){Pt.then(()=>{this.control.setValue(x,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(x){const J=x.isDisabled.currentValue,be=0!==J&&(0,p.VuI)(J);Pt.then(()=>{be&&!this.control.disabled?this.control.disable():!be&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(x){return this._parent?function Zt(R,B){return[...B.path,R]}(x,this._parent):[x]}static#e=this.\u0275fac=function(J){return new(J||R)(p.Y36(xt,9),p.Y36(ee,10),p.Y36(Me,10),p.Y36(Le,10),p.Y36(p.sBO,8),p.Y36(Ue,8))};static#t=this.\u0275dir=p.lG2({type:R,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[p._Bn([Je]),p.qOj,p.TTD]})}return R})();const On={provide:Le,useExisting:(0,p.Gpc)(()=>Kn),multi:!0};let Kn=(()=>{class R extends K{writeValue(x){this.setProperty("value",x??"")}registerOnChange(x){this.onChange=J=>{x(""==J?null:parseFloat(J))}}static#e=this.\u0275fac=function(){let x;return function(be){return(x||(x=p.n5z(R)))(be||R)}}();static#t=this.\u0275dir=p.lG2({type:R,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(J,be){1&J&&p.NdJ("input",function(Yn){return be.onChange(Yn.target.value)})("blur",function(){return be.onTouched()})},features:[p._Bn([On]),p.qOj]})}return R})(),Vo=(()=>{class R{static#e=this.\u0275fac=function(J){return new(J||R)};static#t=this.\u0275mod=p.oAB({type:R});static#n=this.\u0275inj=p.cJS({})}return R})();const ci={provide:Le,useExisting:(0,p.Gpc)(()=>ji),multi:!0};function ro(R,B){return null==R?`${B}`:(B&&"object"==typeof B&&(B="Object"),`${R}: ${B}`.slice(0,50))}let ji=(()=>{class R extends K{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(x){this._compareWith=x}writeValue(x){this.value=x;const be=ro(this._getOptionId(x),x);this.setProperty("value",be)}registerOnChange(x){this.onChange=J=>{this.value=this._getOptionValue(J),x(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(x){for(const J of this._optionMap.keys())if(this._compareWith(this._optionMap.get(J),x))return J;return null}_getOptionValue(x){const J=function qo(R){return R.split(":")[0]}(x);return this._optionMap.has(J)?this._optionMap.get(J):x}static#e=this.\u0275fac=function(){let x;return function(be){return(x||(x=p.n5z(R)))(be||R)}}();static#t=this.\u0275dir=p.lG2({type:R,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(J,be){1&J&&p.NdJ("change",function(Yn){return be.onChange(Yn.target.value)})("blur",function(){return be.onTouched()})},inputs:{compareWith:"compareWith"},features:[p._Bn([ci]),p.qOj]})}return R})(),Sr=(()=>{class R{constructor(x,J,be){this._element=x,this._renderer=J,this._select=be,this._select&&(this.id=this._select._registerOption())}set ngValue(x){null!=this._select&&(this._select._optionMap.set(this.id,x),this._setElementValue(ro(this.id,x)),this._select.writeValue(this._select.value))}set value(x){this._setElementValue(x),this._select&&this._select.writeValue(this._select.value)}_setElementValue(x){this._renderer.setProperty(this._element.nativeElement,"value",x)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(J){return new(J||R)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(ji,9))};static#t=this.\u0275dir=p.lG2({type:R,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return R})();const Di={provide:Le,useExisting:(0,p.Gpc)(()=>xr),multi:!0};function Eo(R,B){return null==R?`${B}`:("string"==typeof B&&(B=`'${B}'`),B&&"object"==typeof B&&(B="Object"),`${R}: ${B}`.slice(0,50))}let xr=(()=>{class R extends K{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(x){this._compareWith=x}writeValue(x){let J;if(this.value=x,Array.isArray(x)){const be=x.map(hn=>this._getOptionId(hn));J=(hn,Yn)=>{hn._setSelected(be.indexOf(Yn.toString())>-1)}}else J=(be,hn)=>{be._setSelected(!1)};this._optionMap.forEach(J)}registerOnChange(x){this.onChange=J=>{const be=[],hn=J.selectedOptions;if(void 0!==hn){const Yn=hn;for(let Xi=0;Xi<Yn.length;Xi++){const Ar=this._getOptionValue(Yn[Xi].value);be.push(Ar)}}else{const Yn=J.options;for(let Xi=0;Xi<Yn.length;Xi++){const Jo=Yn[Xi];if(Jo.selected){const Ar=this._getOptionValue(Jo.value);be.push(Ar)}}}this.value=be,x(be)}}_registerOption(x){const J=(this._idCounter++).toString();return this._optionMap.set(J,x),J}_getOptionId(x){for(const J of this._optionMap.keys())if(this._compareWith(this._optionMap.get(J)._value,x))return J;return null}_getOptionValue(x){const J=function tr(R){return R.split(":")[0]}(x);return this._optionMap.has(J)?this._optionMap.get(J)._value:x}static#e=this.\u0275fac=function(){let x;return function(be){return(x||(x=p.n5z(R)))(be||R)}}();static#t=this.\u0275dir=p.lG2({type:R,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(J,be){1&J&&p.NdJ("change",function(Yn){return be.onChange(Yn.target)})("blur",function(){return be.onTouched()})},inputs:{compareWith:"compareWith"},features:[p._Bn([Di]),p.qOj]})}return R})(),ho=(()=>{class R{constructor(x,J,be){this._element=x,this._renderer=J,this._select=be,this._select&&(this.id=this._select._registerOption(this))}set ngValue(x){null!=this._select&&(this._value=x,this._setElementValue(Eo(this.id,x)),this._select.writeValue(this._select.value))}set value(x){this._select?(this._value=x,this._setElementValue(Eo(this.id,x)),this._select.writeValue(this._select.value)):this._setElementValue(x)}_setElementValue(x){this._renderer.setProperty(this._element.nativeElement,"value",x)}_setSelected(x){this._renderer.setProperty(this._element.nativeElement,"selected",x)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(J){return new(J||R)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(xr,9))};static#t=this.\u0275dir=p.lG2({type:R,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return R})(),Ki=(()=>{class R{static#e=this.\u0275fac=function(J){return new(J||R)};static#t=this.\u0275mod=p.oAB({type:R});static#n=this.\u0275inj=p.cJS({imports:[Vo]})}return R})(),Zr=(()=>{class R{static withConfig(x){return{ngModule:R,providers:[{provide:Ue,useValue:x.callSetDisabledState??at}]}}static#e=this.\u0275fac=function(J){return new(J||R)};static#t=this.\u0275mod=p.oAB({type:R});static#n=this.\u0275inj=p.cJS({imports:[Ki]})}return R})()},9713:()=>{"use strict";const bt=":";const xt=function(me,..._e){if(xt.translate){const Qe=xt.translate(me,_e);me=Qe[0],_e=Qe[1]}let je=vn(me[0],me.raw[0]);for(let Qe=1;Qe<me.length;Qe++)je+=_e[Qe-1]+vn(me[Qe],me.raw[Qe]);return je},xn=":";function vn(me,_e){return _e.charAt(0)===xn?me.substring(function he(me,_e){for(let je=1,Qe=1;je<me.length;je++,Qe++)if("\\"===_e[Qe])Qe++;else if(me[je]===bt)return je;throw new Error(`Unterminated $localize metadata block in "${_e}".`)}(me,_e)+1):me}globalThis.$localize=xt},140:(bt,ke,S)=>{"use strict";S.d(ke,{Hw:()=>on,Ps:()=>es,jv:()=>D});var p=S(1699),Q=S(6575),z=S(6744),wo=S(1134);const ss="cdk-high-contrast-black-on-white",Po="cdk-high-contrast-white-on-black",vr="cdk-high-contrast-active";let so=(()=>{class Ee{constructor(k,X){this._platform=k,this._document=X,this._breakpointSubscription=(0,p.f3M)(wo.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const k=this._document.createElement("div");k.style.backgroundColor="rgb(1,2,3)",k.style.position="absolute",this._document.body.appendChild(k);const X=this._document.defaultView||window,Ne=X&&X.getComputedStyle?X.getComputedStyle(k):null,mt=(Ne&&Ne.backgroundColor||"").replace(/ /g,"");switch(k.remove(),mt){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const k=this._document.body.classList;k.remove(vr,ss,Po),this._hasCheckedHighContrastMode=!0;const X=this.getHighContrastMode();1===X?k.add(vr,ss):2===X&&k.add(vr,Po)}}}return Ee.\u0275fac=function(k){return new(k||Ee)(p.LFG(z.t4),p.LFG(Q.K0))},Ee.\u0275prov=p.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})(),cr=(()=>{class Ee{}return Ee.\u0275fac=function(k){return new(k||Ee)},Ee.\u0275mod=p.oAB({type:Ee}),Ee.\u0275inj=p.cJS({}),Ee})();var yr=S(3344);const be=new p.OlP("mat-sanity-checks",{providedIn:"root",factory:function J(){return!0}});let hn=(()=>{class Ee{constructor(k,X,Ne){this._sanityChecks=X,this._document=Ne,this._hasDoneGlobalChecks=!1,k._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(k){return!(0,z.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[k])}}return Ee.\u0275fac=function(k){return new(k||Ee)(p.LFG(so),p.LFG(be,8),p.LFG(Q.K0))},Ee.\u0275mod=p.oAB({type:Ee}),Ee.\u0275inj=p.cJS({imports:[cr,cr]}),Ee})();function Or(Ee,H){return class extends Ee{get color(){return this._color}set color(k){const X=k||this.defaultColor;X!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),X&&this._elementRef.nativeElement.classList.add(`mat-${X}`),this._color=X)}constructor(...k){super(...k),this.defaultColor=H,this.color=H}}}class zr{constructor(H,k,X,Ne=!1){this._renderer=H,this.element=k,this.config=X,this._animationForciblyDisabledThroughCss=Ne,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const ls=(0,z.i$)({passive:!0,capture:!0});class us{constructor(){this._events=new Map,this._delegateEventHandler=H=>{const k=(0,z.sA)(H);k&&this._events.get(H.type)?.forEach((X,Ne)=>{(Ne===k||Ne.contains(k))&&X.forEach(mt=>mt.handleEvent(H))})}}addHandler(H,k,X,Ne){const mt=this._events.get(k);if(mt){const Ft=mt.get(X);Ft?Ft.add(Ne):mt.set(X,new Set([Ne]))}else this._events.set(k,new Map([[X,new Set([Ne])]])),H.runOutsideAngular(()=>{document.addEventListener(k,this._delegateEventHandler,ls)})}removeHandler(H,k,X){const Ne=this._events.get(H);if(!Ne)return;const mt=Ne.get(k);mt&&(mt.delete(X),0===mt.size&&Ne.delete(k),0===Ne.size&&(this._events.delete(H),document.removeEventListener(H,this._delegateEventHandler,ls)))}}const Nr={enterDuration:225,exitDuration:150},nr=(0,z.i$)({passive:!0,capture:!0}),Cr=["mousedown","touchstart"],Ls=["mouseup","mouseleave","touchend","touchcancel"];class Gr{constructor(H,k,X,Ne){this._target=H,this._ngZone=k,this._platform=Ne,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,Ne.isBrowser&&(this._containerElement=(0,yr.fI)(X))}fadeInRipple(H,k,X={}){const Ne=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),mt={...Nr,...X.animation};X.centered&&(H=Ne.left+Ne.width/2,k=Ne.top+Ne.height/2);const Ft=X.radius||function la(Ee,H,k){const X=Math.max(Math.abs(Ee-k.left),Math.abs(Ee-k.right)),Ne=Math.max(Math.abs(H-k.top),Math.abs(H-k.bottom));return Math.sqrt(X*X+Ne*Ne)}(H,k,Ne),oi=H-Ne.left,Pr=k-Ne.top,hr=mt.enterDuration,vo=document.createElement("div");vo.classList.add("mat-ripple-element"),vo.style.left=oi-Ft+"px",vo.style.top=Pr-Ft+"px",vo.style.height=2*Ft+"px",vo.style.width=2*Ft+"px",null!=X.color&&(vo.style.backgroundColor=X.color),vo.style.transitionDuration=`${hr}ms`,this._containerElement.appendChild(vo);const Tt=window.getComputedStyle(vo),yo=Tt.transitionDuration,Ta="none"===Tt.transitionProperty||"0s"===yo||"0s, 0s"===yo||0===Ne.width&&0===Ne.height,to=new zr(this,vo,X,Ta);vo.style.transform="scale3d(1, 1, 1)",to.state=0,X.persistent||(this._mostRecentTransientRipple=to);let Qs=null;return!Ta&&(hr||mt.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Yr=()=>this._finishRippleTransition(to),Dr=()=>this._destroyRipple(to);vo.addEventListener("transitionend",Yr),vo.addEventListener("transitioncancel",Dr),Qs={onTransitionEnd:Yr,onTransitionCancel:Dr}}),this._activeRipples.set(to,Qs),(Ta||!hr)&&this._finishRippleTransition(to),to}fadeOutRipple(H){if(2===H.state||3===H.state)return;const k=H.element,X={...Nr,...H.config.animation};k.style.transitionDuration=`${X.exitDuration}ms`,k.style.opacity="0",H.state=2,(H._animationForciblyDisabledThroughCss||!X.exitDuration)&&this._finishRippleTransition(H)}fadeOutAll(){this._getActiveRipples().forEach(H=>H.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(H=>{H.config.persistent||H.fadeOut()})}setupTriggerEvents(H){const k=(0,yr.fI)(H);!this._platform.isBrowser||!k||k===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=k,Cr.forEach(X=>{Gr._eventManager.addHandler(this._ngZone,X,k,this)}))}handleEvent(H){"mousedown"===H.type?this._onMousedown(H):"touchstart"===H.type?this._onTouchStart(H):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Ls.forEach(k=>{this._triggerElement.addEventListener(k,this,nr)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(H){0===H.state?this._startFadeOutTransition(H):2===H.state&&this._destroyRipple(H)}_startFadeOutTransition(H){const k=H===this._mostRecentTransientRipple,{persistent:X}=H.config;H.state=1,!X&&(!k||!this._isPointerDown)&&H.fadeOut()}_destroyRipple(H){const k=this._activeRipples.get(H)??null;this._activeRipples.delete(H),this._activeRipples.size||(this._containerRect=null),H===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),H.state=3,null!==k&&(H.element.removeEventListener("transitionend",k.onTransitionEnd),H.element.removeEventListener("transitioncancel",k.onTransitionCancel)),H.element.remove()}_onMousedown(H){const k=function Eo(Ee){return 0===Ee.buttons||0===Ee.offsetX&&0===Ee.offsetY}(H),X=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!k&&!X&&(this._isPointerDown=!0,this.fadeInRipple(H.clientX,H.clientY,this._target.rippleConfig))}_onTouchStart(H){if(!this._target.rippleDisabled&&!function tr(Ee){const H=Ee.touches&&Ee.touches[0]||Ee.changedTouches&&Ee.changedTouches[0];return!(!H||-1!==H.identifier||null!=H.radiusX&&1!==H.radiusX||null!=H.radiusY&&1!==H.radiusY)}(H)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const k=H.changedTouches;for(let X=0;X<k.length;X++)this.fadeInRipple(k[X].clientX,k[X].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(H=>{!H.config.persistent&&(1===H.state||H.config.terminateOnPointerUp&&0===H.state)&&H.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const H=this._triggerElement;H&&(Cr.forEach(k=>Gr._eventManager.removeHandler(k,H,this)),this._pointerUpEventsRegistered&&Ls.forEach(k=>H.removeEventListener(k,this,nr)))}}Gr._eventManager=new us;var vt=S(4980),nn=S(3252),hi=S(4300),bi=S(6482),qn=S(3738),Tn=S(9736),Vi=S(2389),wi=S(7474),zi=S(5584),dr=S(1527),or=S(4860),xo=S(6480);const Uo=["*"];let eo;function $o(Ee){return function kr(){if(void 0===eo&&(eo=null,typeof window<"u")){const Ee=window;void 0!==Ee.trustedTypes&&(eo=Ee.trustedTypes.createPolicy("angular#components",{createHTML:H=>H}))}return eo}()?.createHTML(Ee)||Ee}function Ti(Ee){return Error(`Unable to find icon with the name "${Ee}"`)}function s(Ee){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${Ee}".`)}function d(Ee){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${Ee}".`)}class g{constructor(H,k,X){this.url=H,this.svgText=k,this.options=X}}let D=(()=>{class Ee{constructor(k,X,Ne,mt){this._httpClient=k,this._sanitizer=X,this._errorHandler=mt,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=Ne}addSvgIcon(k,X,Ne){return this.addSvgIconInNamespace("",k,X,Ne)}addSvgIconLiteral(k,X,Ne){return this.addSvgIconLiteralInNamespace("",k,X,Ne)}addSvgIconInNamespace(k,X,Ne,mt){return this._addSvgIconConfig(k,X,new g(Ne,null,mt))}addSvgIconResolver(k){return this._resolvers.push(k),this}addSvgIconLiteralInNamespace(k,X,Ne,mt){const Ft=this._sanitizer.sanitize(p.q3G.HTML,Ne);if(!Ft)throw d(Ne);const oi=$o(Ft);return this._addSvgIconConfig(k,X,new g("",oi,mt))}addSvgIconSet(k,X){return this.addSvgIconSetInNamespace("",k,X)}addSvgIconSetLiteral(k,X){return this.addSvgIconSetLiteralInNamespace("",k,X)}addSvgIconSetInNamespace(k,X,Ne){return this._addSvgIconSetConfig(k,new g(X,null,Ne))}addSvgIconSetLiteralInNamespace(k,X,Ne){const mt=this._sanitizer.sanitize(p.q3G.HTML,X);if(!mt)throw d(X);const Ft=$o(mt);return this._addSvgIconSetConfig(k,new g("",Ft,Ne))}registerFontClassAlias(k,X=k){return this._fontCssClassesByAlias.set(k,X),this}classNameForFontAlias(k){return this._fontCssClassesByAlias.get(k)||k}setDefaultFontSetClass(...k){return this._defaultFontSetClass=k,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(k){const X=this._sanitizer.sanitize(p.q3G.RESOURCE_URL,k);if(!X)throw s(k);const Ne=this._cachedIconsByUrl.get(X);return Ne?(0,vt.of)(Te(Ne)):this._loadSvgIconFromConfig(new g(k,null)).pipe((0,qn.b)(mt=>this._cachedIconsByUrl.set(X,mt)),(0,Tn.U)(mt=>Te(mt)))}getNamedSvgIcon(k,X=""){const Ne=Ke(X,k);let mt=this._svgIconConfigs.get(Ne);if(mt)return this._getSvgFromConfig(mt);if(mt=this._getIconConfigFromResolvers(X,k),mt)return this._svgIconConfigs.set(Ne,mt),this._getSvgFromConfig(mt);const Ft=this._iconSetConfigs.get(X);return Ft?this._getSvgFromIconSetConfigs(k,Ft):(0,nn._)(Ti(Ne))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(k){return k.svgText?(0,vt.of)(Te(this._svgElementFromConfig(k))):this._loadSvgIconFromConfig(k).pipe((0,Tn.U)(X=>Te(X)))}_getSvgFromIconSetConfigs(k,X){const Ne=this._extractIconWithNameFromAnySet(k,X);if(Ne)return(0,vt.of)(Ne);const mt=X.filter(Ft=>!Ft.svgText).map(Ft=>this._loadSvgIconSetFromConfig(Ft).pipe((0,Vi.K)(oi=>{const hr=`Loading icon set URL: ${this._sanitizer.sanitize(p.q3G.RESOURCE_URL,Ft.url)} failed: ${oi.message}`;return this._errorHandler.handleError(new Error(hr)),(0,vt.of)(null)})));return(0,hi.D)(mt).pipe((0,Tn.U)(()=>{const Ft=this._extractIconWithNameFromAnySet(k,X);if(!Ft)throw Ti(k);return Ft}))}_extractIconWithNameFromAnySet(k,X){for(let Ne=X.length-1;Ne>=0;Ne--){const mt=X[Ne];if(mt.svgText&&mt.svgText.toString().indexOf(k)>-1){const Ft=this._svgElementFromConfig(mt),oi=this._extractSvgIconFromSet(Ft,k,mt.options);if(oi)return oi}}return null}_loadSvgIconFromConfig(k){return this._fetchIcon(k).pipe((0,qn.b)(X=>k.svgText=X),(0,Tn.U)(()=>this._svgElementFromConfig(k)))}_loadSvgIconSetFromConfig(k){return k.svgText?(0,vt.of)(null):this._fetchIcon(k).pipe((0,qn.b)(X=>k.svgText=X))}_extractSvgIconFromSet(k,X,Ne){const mt=k.querySelector(`[id="${X}"]`);if(!mt)return null;const Ft=mt.cloneNode(!0);if(Ft.removeAttribute("id"),"svg"===Ft.nodeName.toLowerCase())return this._setSvgAttributes(Ft,Ne);if("symbol"===Ft.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(Ft),Ne);const oi=this._svgElementFromString($o("<svg></svg>"));return oi.appendChild(Ft),this._setSvgAttributes(oi,Ne)}_svgElementFromString(k){const X=this._document.createElement("DIV");X.innerHTML=k;const Ne=X.querySelector("svg");if(!Ne)throw Error("<svg> tag not found");return Ne}_toSvgElement(k){const X=this._svgElementFromString($o("<svg></svg>")),Ne=k.attributes;for(let mt=0;mt<Ne.length;mt++){const{name:Ft,value:oi}=Ne[mt];"id"!==Ft&&X.setAttribute(Ft,oi)}for(let mt=0;mt<k.childNodes.length;mt++)k.childNodes[mt].nodeType===this._document.ELEMENT_NODE&&X.appendChild(k.childNodes[mt].cloneNode(!0));return X}_setSvgAttributes(k,X){return k.setAttribute("fit",""),k.setAttribute("height","100%"),k.setAttribute("width","100%"),k.setAttribute("preserveAspectRatio","xMidYMid meet"),k.setAttribute("focusable","false"),X&&X.viewBox&&k.setAttribute("viewBox",X.viewBox),k}_fetchIcon(k){const{url:X,options:Ne}=k,mt=Ne?.withCredentials??!1;if(!this._httpClient)throw function Go(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==X)throw Error(`Cannot fetch icon from URL "${X}".`);const Ft=this._sanitizer.sanitize(p.q3G.RESOURCE_URL,X);if(!Ft)throw s(X);const oi=this._inProgressUrlFetches.get(Ft);if(oi)return oi;const Pr=this._httpClient.get(Ft,{responseType:"text",withCredentials:mt}).pipe((0,Tn.U)(hr=>$o(hr)),(0,wi.x)(()=>this._inProgressUrlFetches.delete(Ft)),(0,zi.B)());return this._inProgressUrlFetches.set(Ft,Pr),Pr}_addSvgIconConfig(k,X,Ne){return this._svgIconConfigs.set(Ke(k,X),Ne),this}_addSvgIconSetConfig(k,X){const Ne=this._iconSetConfigs.get(k);return Ne?Ne.push(X):this._iconSetConfigs.set(k,[X]),this}_svgElementFromConfig(k){if(!k.svgElement){const X=this._svgElementFromString(k.svgText);this._setSvgAttributes(X,k.options),k.svgElement=X}return k.svgElement}_getIconConfigFromResolvers(k,X){for(let Ne=0;Ne<this._resolvers.length;Ne++){const mt=this._resolvers[Ne](X,k);if(mt)return lt(mt)?new g(mt.url,null,mt.options):new g(mt,null)}}}return Ee.\u0275fac=function(k){return new(k||Ee)(p.LFG(or.eN,8),p.LFG(xo.H7),p.LFG(Q.K0,8),p.LFG(p.qLn))},Ee.\u0275prov=p.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})();function Te(Ee){return Ee.cloneNode(!0)}function Ke(Ee,H){return Ee+":"+H}function lt(Ee){return!(!Ee.url||!Ee.options)}const wt=Or(class{constructor(Ee){this._elementRef=Ee}}),jt=new p.OlP("MAT_ICON_DEFAULT_OPTIONS"),Sn=new p.OlP("mat-icon-location",{providedIn:"root",factory:function Hn(){const Ee=(0,p.f3M)(Q.K0),H=Ee?Ee.location:null;return{getPathname:()=>H?H.pathname+H.search:""}}}),fi=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],si=fi.map(Ee=>`[${Ee}]`).join(", "),Ui=/^url\(['"]?#(.*?)['"]?\)$/;let on=(()=>{class Ee extends wt{get inline(){return this._inline}set inline(k){this._inline=(0,yr.Ig)(k)}get svgIcon(){return this._svgIcon}set svgIcon(k){k!==this._svgIcon&&(k?this._updateSvgIcon(k):this._svgIcon&&this._clearSvgElement(),this._svgIcon=k)}get fontSet(){return this._fontSet}set fontSet(k){const X=this._cleanupFontValue(k);X!==this._fontSet&&(this._fontSet=X,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(k){const X=this._cleanupFontValue(k);X!==this._fontIcon&&(this._fontIcon=X,this._updateFontIconClasses())}constructor(k,X,Ne,mt,Ft,oi){super(k),this._iconRegistry=X,this._location=mt,this._errorHandler=Ft,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=bi.w0.EMPTY,oi&&(oi.color&&(this.color=this.defaultColor=oi.color),oi.fontSet&&(this.fontSet=oi.fontSet)),Ne||k.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(k){if(!k)return["",""];const X=k.split(":");switch(X.length){case 1:return["",X[0]];case 2:return X;default:throw Error(`Invalid icon name: "${k}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const k=this._elementsWithExternalReferences;if(k&&k.size){const X=this._location.getPathname();X!==this._previousPath&&(this._previousPath=X,this._prependPathToReferences(X))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(k){this._clearSvgElement();const X=this._location.getPathname();this._previousPath=X,this._cacheChildrenWithExternalReferences(k),this._prependPathToReferences(X),this._elementRef.nativeElement.appendChild(k)}_clearSvgElement(){const k=this._elementRef.nativeElement;let X=k.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();X--;){const Ne=k.childNodes[X];(1!==Ne.nodeType||"svg"===Ne.nodeName.toLowerCase())&&Ne.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const k=this._elementRef.nativeElement,X=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(Ne=>Ne.length>0);this._previousFontSetClass.forEach(Ne=>k.classList.remove(Ne)),X.forEach(Ne=>k.classList.add(Ne)),this._previousFontSetClass=X,this.fontIcon!==this._previousFontIconClass&&!X.includes("mat-ligature-font")&&(this._previousFontIconClass&&k.classList.remove(this._previousFontIconClass),this.fontIcon&&k.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(k){return"string"==typeof k?k.trim().split(" ")[0]:k}_prependPathToReferences(k){const X=this._elementsWithExternalReferences;X&&X.forEach((Ne,mt)=>{Ne.forEach(Ft=>{mt.setAttribute(Ft.name,`url('${k}#${Ft.value}')`)})})}_cacheChildrenWithExternalReferences(k){const X=k.querySelectorAll(si),Ne=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let mt=0;mt<X.length;mt++)fi.forEach(Ft=>{const oi=X[mt],Pr=oi.getAttribute(Ft),hr=Pr?Pr.match(Ui):null;if(hr){let vo=Ne.get(oi);vo||(vo=[],Ne.set(oi,vo)),vo.push({name:Ft,value:hr[1]})}})}_updateSvgIcon(k){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),k){const[X,Ne]=this._splitIconName(k);X&&(this._svgNamespace=X),Ne&&(this._svgName=Ne),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(Ne,X).pipe((0,dr.q)(1)).subscribe(mt=>this._setSvgElement(mt),mt=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${X}:${Ne}! ${mt.message}`))})}}}return Ee.\u0275fac=function(k){return new(k||Ee)(p.Y36(p.SBq),p.Y36(D),p.$8M("aria-hidden"),p.Y36(Sn),p.Y36(p.qLn),p.Y36(jt,8))},Ee.\u0275cmp=p.Xpm({type:Ee,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(k,X){2&k&&(p.uIk("data-mat-icon-type",X._usingFontIcon()?"font":"svg")("data-mat-icon-name",X._svgName||X.fontIcon)("data-mat-icon-namespace",X._svgNamespace||X.fontSet)("fontIcon",X._usingFontIcon()?X.fontIcon:null),p.ekj("mat-icon-inline",X.inline)("mat-icon-no-color","primary"!==X.color&&"accent"!==X.color&&"warn"!==X.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[p.qOj],ngContentSelectors:Uo,decls:1,vars:0,template:function(k,X){1&k&&(p.F$t(),p.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),Ee})(),es=(()=>{class Ee{}return Ee.\u0275fac=function(k){return new(k||Ee)},Ee.\u0275mod=p.oAB({type:Ee}),Ee.\u0275inj=p.cJS({imports:[hn,hn]}),Ee})()},6480:(bt,ke,S)=>{"use strict";S.d(ke,{Dx:()=>Rt,H7:()=>Hi,b2:()=>me,q6:()=>zt});var p=S(1699),Q=S(6575);class z extends Q.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class te extends z{static makeCurrent(){(0,Q.HT)(new te)}onAndCancel(We,ue,V){return We.addEventListener(ue,V),()=>{We.removeEventListener(ue,V)}}dispatchEvent(We,ue){We.dispatchEvent(ue)}remove(We){We.parentNode&&We.parentNode.removeChild(We)}createElement(We,ue){return(ue=ue||this.getDefaultDocument()).createElement(We)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(We){return We.nodeType===Node.ELEMENT_NODE}isShadowRoot(We){return We instanceof DocumentFragment}getGlobalEventTarget(We,ue){return"window"===ue?window:"document"===ue?We:"body"===ue?We.body:null}getBaseHref(We){const ue=function e(){return W=W||document.querySelector("base"),W?W.getAttribute("href"):null}();return null==ue?null:function Le(dt){K=K||document.createElement("a"),K.setAttribute("href",dt);const We=K.pathname;return"/"===We.charAt(0)?We:`/${We}`}(ue)}resetBaseElement(){W=null}getUserAgent(){return window.navigator.userAgent}getCookie(We){return(0,Q.Mx)(document.cookie,We)}}let K,W=null,re=(()=>{class dt{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(V){return new(V||dt)};static#t=this.\u0275prov=p.Yz7({token:dt,factory:dt.\u0275fac})}return dt})();const fe=new p.OlP("EventManagerPlugins");let ne=(()=>{class dt{constructor(ue,V){this._zone=V,this._eventNameToPlugin=new Map,ue.forEach(se=>{se.manager=this}),this._plugins=ue.slice().reverse()}addEventListener(ue,V,se){return this._findPluginFor(V).addEventListener(ue,V,se)}getZone(){return this._zone}_findPluginFor(ue){let V=this._eventNameToPlugin.get(ue);if(V)return V;if(V=this._plugins.find(Ue=>Ue.supports(ue)),!V)throw new p.vHH(5101,!1);return this._eventNameToPlugin.set(ue,V),V}static#e=this.\u0275fac=function(V){return new(V||dt)(p.LFG(fe),p.LFG(p.R0b))};static#t=this.\u0275prov=p.Yz7({token:dt,factory:dt.\u0275fac})}return dt})();class ge{constructor(We){this._doc=We}}const De="ng-app-id";let xe=(()=>{class dt{constructor(ue,V,se,Ue={}){this.doc=ue,this.appId=V,this.nonce=se,this.platformId=Ue,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,Q.PM)(Ue),this.resetHostNodes()}addStyles(ue){for(const V of ue)1===this.changeUsageCount(V,1)&&this.onStyleAdded(V)}removeStyles(ue){for(const V of ue)this.changeUsageCount(V,-1)<=0&&this.onStyleRemoved(V)}ngOnDestroy(){const ue=this.styleNodesInDOM;ue&&(ue.forEach(V=>V.remove()),ue.clear());for(const V of this.getAllStyles())this.onStyleRemoved(V);this.resetHostNodes()}addHost(ue){this.hostNodes.add(ue);for(const V of this.getAllStyles())this.addStyleToHost(ue,V)}removeHost(ue){this.hostNodes.delete(ue)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(ue){for(const V of this.hostNodes)this.addStyleToHost(V,ue)}onStyleRemoved(ue){const V=this.styleRef;V.get(ue)?.elements?.forEach(se=>se.remove()),V.delete(ue)}collectServerRenderedStyles(){const ue=this.doc.head?.querySelectorAll(`style[${De}="${this.appId}"]`);if(ue?.length){const V=new Map;return ue.forEach(se=>{null!=se.textContent&&V.set(se.textContent,se)}),V}return null}changeUsageCount(ue,V){const se=this.styleRef;if(se.has(ue)){const Ue=se.get(ue);return Ue.usage+=V,Ue.usage}return se.set(ue,{usage:V,elements:[]}),V}getStyleElement(ue,V){const se=this.styleNodesInDOM,Ue=se?.get(V);if(Ue?.parentNode===ue)return se.delete(V),Ue.removeAttribute(De),Ue;{const at=this.doc.createElement("style");return this.nonce&&at.setAttribute("nonce",this.nonce),at.textContent=V,this.platformIsServer&&at.setAttribute(De,this.appId),at}}addStyleToHost(ue,V){const se=this.getStyleElement(ue,V);ue.appendChild(se);const Ue=this.styleRef,at=Ue.get(V)?.elements;at?at.push(se):Ue.set(V,{elements:[se],usage:1})}resetHostNodes(){const ue=this.hostNodes;ue.clear(),ue.add(this.doc.head)}static#e=this.\u0275fac=function(V){return new(V||dt)(p.LFG(Q.K0),p.LFG(p.AFp),p.LFG(p.Ojb,8),p.LFG(p.Lbi))};static#t=this.\u0275prov=p.Yz7({token:dt,factory:dt.\u0275fac})}return dt})();const ze={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ee=/%COMP%/g,pe=new p.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Oe(dt,We){return We.map(ue=>ue.replace(ee,dt))}let Pe=(()=>{class dt{constructor(ue,V,se,Ue,at,Zt,It,Wt=null){this.eventManager=ue,this.sharedStylesHost=V,this.appId=se,this.removeStylesOnCompDestroy=Ue,this.doc=at,this.platformId=Zt,this.ngZone=It,this.nonce=Wt,this.rendererByCompId=new Map,this.platformIsServer=(0,Q.PM)(Zt),this.defaultRenderer=new $e(ue,at,It,this.platformIsServer)}createRenderer(ue,V){if(!ue||!V)return this.defaultRenderer;this.platformIsServer&&V.encapsulation===p.ifc.ShadowDom&&(V={...V,encapsulation:p.ifc.Emulated});const se=this.getOrCreateRenderer(ue,V);return se instanceof pt?se.applyToHost(ue):se instanceof ut&&se.applyStyles(),se}getOrCreateRenderer(ue,V){const se=this.rendererByCompId;let Ue=se.get(V.id);if(!Ue){const at=this.doc,Zt=this.ngZone,It=this.eventManager,Wt=this.sharedStylesHost,Bn=this.removeStylesOnCompDestroy,Un=this.platformIsServer;switch(V.encapsulation){case p.ifc.Emulated:Ue=new pt(It,Wt,V,this.appId,Bn,at,Zt,Un);break;case p.ifc.ShadowDom:return new Bt(It,Wt,ue,V,at,Zt,this.nonce,Un);default:Ue=new ut(It,Wt,V,Bn,at,Zt,Un)}se.set(V.id,Ue)}return Ue}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(V){return new(V||dt)(p.LFG(ne),p.LFG(xe),p.LFG(p.AFp),p.LFG(pe),p.LFG(Q.K0),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(p.Ojb))};static#t=this.\u0275prov=p.Yz7({token:dt,factory:dt.\u0275fac})}return dt})();class $e{constructor(We,ue,V,se){this.eventManager=We,this.doc=ue,this.ngZone=V,this.platformIsServer=se,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(We,ue){return ue?this.doc.createElementNS(ze[ue]||ue,We):this.doc.createElement(We)}createComment(We){return this.doc.createComment(We)}createText(We){return this.doc.createTextNode(We)}appendChild(We,ue){(Fe(We)?We.content:We).appendChild(ue)}insertBefore(We,ue,V){We&&(Fe(We)?We.content:We).insertBefore(ue,V)}removeChild(We,ue){We&&We.removeChild(ue)}selectRootElement(We,ue){let V="string"==typeof We?this.doc.querySelector(We):We;if(!V)throw new p.vHH(-5104,!1);return ue||(V.textContent=""),V}parentNode(We){return We.parentNode}nextSibling(We){return We.nextSibling}setAttribute(We,ue,V,se){if(se){ue=se+":"+ue;const Ue=ze[se];Ue?We.setAttributeNS(Ue,ue,V):We.setAttribute(ue,V)}else We.setAttribute(ue,V)}removeAttribute(We,ue,V){if(V){const se=ze[V];se?We.removeAttributeNS(se,ue):We.removeAttribute(`${V}:${ue}`)}else We.removeAttribute(ue)}addClass(We,ue){We.classList.add(ue)}removeClass(We,ue){We.classList.remove(ue)}setStyle(We,ue,V,se){se&(p.JOm.DashCase|p.JOm.Important)?We.style.setProperty(ue,V,se&p.JOm.Important?"important":""):We.style[ue]=V}removeStyle(We,ue,V){V&p.JOm.DashCase?We.style.removeProperty(ue):We.style[ue]=""}setProperty(We,ue,V){We[ue]=V}setValue(We,ue){We.nodeValue=ue}listen(We,ue,V){if("string"==typeof We&&!(We=(0,Q.q)().getGlobalEventTarget(this.doc,We)))throw new Error(`Unsupported event target ${We} for event ${ue}`);return this.eventManager.addEventListener(We,ue,this.decoratePreventDefault(V))}decoratePreventDefault(We){return ue=>{if("__ngUnwrap__"===ue)return We;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>We(ue)):We(ue))&&ue.preventDefault()}}}function Fe(dt){return"TEMPLATE"===dt.tagName&&void 0!==dt.content}class Bt extends $e{constructor(We,ue,V,se,Ue,at,Zt,It){super(We,Ue,at,It),this.sharedStylesHost=ue,this.hostEl=V,this.shadowRoot=V.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Wt=Oe(se.id,se.styles);for(const Bn of Wt){const Un=document.createElement("style");Zt&&Un.setAttribute("nonce",Zt),Un.textContent=Bn,this.shadowRoot.appendChild(Un)}}nodeOrShadowRoot(We){return We===this.hostEl?this.shadowRoot:We}appendChild(We,ue){return super.appendChild(this.nodeOrShadowRoot(We),ue)}insertBefore(We,ue,V){return super.insertBefore(this.nodeOrShadowRoot(We),ue,V)}removeChild(We,ue){return super.removeChild(this.nodeOrShadowRoot(We),ue)}parentNode(We){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(We)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ut extends $e{constructor(We,ue,V,se,Ue,at,Zt,It){super(We,Ue,at,Zt),this.sharedStylesHost=ue,this.removeStylesOnCompDestroy=se,this.styles=It?Oe(It,V.styles):V.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class pt extends ut{constructor(We,ue,V,se,Ue,at,Zt,It){const Wt=se+"-"+V.id;super(We,ue,V,Ue,at,Zt,It,Wt),this.contentAttr=function de(dt){return"_ngcontent-%COMP%".replace(ee,dt)}(Wt),this.hostAttr=function Ge(dt){return"_nghost-%COMP%".replace(ee,dt)}(Wt)}applyToHost(We){this.applyStyles(),this.setAttribute(We,this.hostAttr,"")}createElement(We,ue){const V=super.createElement(We,ue);return super.setAttribute(V,this.contentAttr,""),V}}let Re=(()=>{class dt extends ge{constructor(ue){super(ue)}supports(ue){return!0}addEventListener(ue,V,se){return ue.addEventListener(V,se,!1),()=>this.removeEventListener(ue,V,se)}removeEventListener(ue,V,se){return ue.removeEventListener(V,se)}static#e=this.\u0275fac=function(V){return new(V||dt)(p.LFG(Q.K0))};static#t=this.\u0275prov=p.Yz7({token:dt,factory:dt.\u0275fac})}return dt})();const ct=["alt","control","meta","shift"],ce={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},he={alt:dt=>dt.altKey,control:dt=>dt.ctrlKey,meta:dt=>dt.metaKey,shift:dt=>dt.shiftKey};let Se=(()=>{class dt extends ge{constructor(ue){super(ue)}supports(ue){return null!=dt.parseEventName(ue)}addEventListener(ue,V,se){const Ue=dt.parseEventName(V),at=dt.eventCallback(Ue.fullKey,se,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,Q.q)().onAndCancel(ue,Ue.domEventName,at))}static parseEventName(ue){const V=ue.toLowerCase().split("."),se=V.shift();if(0===V.length||"keydown"!==se&&"keyup"!==se)return null;const Ue=dt._normalizeKey(V.pop());let at="",Zt=V.indexOf("code");if(Zt>-1&&(V.splice(Zt,1),at="code."),ct.forEach(Wt=>{const Bn=V.indexOf(Wt);Bn>-1&&(V.splice(Bn,1),at+=Wt+".")}),at+=Ue,0!=V.length||0===Ue.length)return null;const It={};return It.domEventName=se,It.fullKey=at,It}static matchEventFullKeyCode(ue,V){let se=ce[ue.key]||ue.key,Ue="";return V.indexOf("code.")>-1&&(se=ue.code,Ue="code."),!(null==se||!se)&&(se=se.toLowerCase()," "===se?se="space":"."===se&&(se="dot"),ct.forEach(at=>{at!==se&&(0,he[at])(ue)&&(Ue+=at+".")}),Ue+=se,Ue===V)}static eventCallback(ue,V,se){return Ue=>{dt.matchEventFullKeyCode(Ue,ue)&&se.runGuarded(()=>V(Ue))}}static _normalizeKey(ue){return"esc"===ue?"escape":ue}static#e=this.\u0275fac=function(V){return new(V||dt)(p.LFG(Q.K0))};static#t=this.\u0275prov=p.Yz7({token:dt,factory:dt.\u0275fac})}return dt})();const zt=(0,p.eFA)(p._c5,"browser",[{provide:p.Lbi,useValue:Q.bD},{provide:p.g9A,useValue:function ot(){te.makeCurrent()},multi:!0},{provide:Q.K0,useFactory:function gt(){return(0,p.RDi)(document),document},deps:[]}]),xt=new p.OlP(""),xn=[{provide:p.rWj,useClass:class oe{addToWindow(We){p.dqk.getAngularTestability=(V,se=!0)=>{const Ue=We.findTestabilityInTree(V,se);if(null==Ue)throw new p.vHH(5103,!1);return Ue},p.dqk.getAllAngularTestabilities=()=>We.getAllTestabilities(),p.dqk.getAllAngularRootElements=()=>We.getAllRootElements(),p.dqk.frameworkStabilizers||(p.dqk.frameworkStabilizers=[]),p.dqk.frameworkStabilizers.push(V=>{const se=p.dqk.getAllAngularTestabilities();let Ue=se.length,at=!1;const Zt=function(It){at=at||It,Ue--,0==Ue&&V(at)};se.forEach(It=>{It.whenStable(Zt)})})}findTestabilityInTree(We,ue,V){return null==ue?null:We.getTestability(ue)??(V?(0,Q.q)().isShadowRoot(ue)?this.findTestabilityInTree(We,ue.host,!0):this.findTestabilityInTree(We,ue.parentElement,!0):null)}},deps:[]},{provide:p.lri,useClass:p.dDg,deps:[p.R0b,p.eoX,p.rWj]},{provide:p.dDg,useClass:p.dDg,deps:[p.R0b,p.eoX,p.rWj]}],vn=[{provide:p.zSh,useValue:"root"},{provide:p.qLn,useFactory:function pn(){return new p.qLn},deps:[]},{provide:fe,useClass:Re,multi:!0,deps:[Q.K0,p.R0b,p.Lbi]},{provide:fe,useClass:Se,multi:!0,deps:[Q.K0]},Pe,xe,ne,{provide:p.FYo,useExisting:Pe},{provide:Q.JF,useClass:re,deps:[]},[]];let me=(()=>{class dt{constructor(ue){}static withServerTransition(ue){return{ngModule:dt,providers:[{provide:p.AFp,useValue:ue.appId}]}}static#e=this.\u0275fac=function(V){return new(V||dt)(p.LFG(xt,12))};static#t=this.\u0275mod=p.oAB({type:dt});static#n=this.\u0275inj=p.cJS({providers:[...vn,...xn],imports:[Q.ez,p.hGG]})}return dt})(),Rt=(()=>{class dt{constructor(ue){this._doc=ue}getTitle(){return this._doc.title}setTitle(ue){this._doc.title=ue||""}static#e=this.\u0275fac=function(V){return new(V||dt)(p.LFG(Q.K0))};static#t=this.\u0275prov=p.Yz7({token:dt,factory:function(V){let se=null;return se=V?new V:function _t(){return new Rt((0,p.LFG)(Q.K0))}(),se},providedIn:"root"})}return dt})();typeof window<"u"&&window;let Hi=(()=>{class dt{static#e=this.\u0275fac=function(V){return new(V||dt)};static#t=this.\u0275prov=p.Yz7({token:dt,factory:function(V){let se=null;return se=V?new(V||dt):p.LFG($n),se},providedIn:"root"})}return dt})(),$n=(()=>{class dt extends Hi{constructor(ue){super(),this._doc=ue}sanitize(ue,V){if(null==V)return null;switch(ue){case p.q3G.NONE:return V;case p.q3G.HTML:return(0,p.qzn)(V,"HTML")?(0,p.z3N)(V):(0,p.EiD)(this._doc,String(V)).toString();case p.q3G.STYLE:return(0,p.qzn)(V,"Style")?(0,p.z3N)(V):V;case p.q3G.SCRIPT:if((0,p.qzn)(V,"Script"))return(0,p.z3N)(V);throw new p.vHH(5200,!1);case p.q3G.URL:return(0,p.qzn)(V,"URL")?(0,p.z3N)(V):(0,p.mCW)(String(V));case p.q3G.RESOURCE_URL:if((0,p.qzn)(V,"ResourceURL"))return(0,p.z3N)(V);throw new p.vHH(5201,!1);default:throw new p.vHH(5202,!1)}}bypassSecurityTrustHtml(ue){return(0,p.JVY)(ue)}bypassSecurityTrustStyle(ue){return(0,p.L6k)(ue)}bypassSecurityTrustScript(ue){return(0,p.eBb)(ue)}bypassSecurityTrustUrl(ue){return(0,p.LAX)(ue)}bypassSecurityTrustResourceUrl(ue){return(0,p.pB0)(ue)}static#e=this.\u0275fac=function(V){return new(V||dt)(p.LFG(Q.K0))};static#t=this.\u0275prov=p.Yz7({token:dt,factory:function(V){let se=null;return se=V?new V:function Fi(dt){return new $n(dt.get(Q.K0))}(p.LFG(p.zs3)),se},providedIn:"root"})}return dt})()},7723:(bt,ke,S)=>{"use strict";S.d(ke,{gz:()=>_o,F0:()=>Go,rH:()=>g,Od:()=>D,Bz:()=>Qs,lC:()=>ji,AF:()=>xt});var p=S(1699),Q=S(2235),z=S(2602),W=S(4683),e=S(4980),K=S(8071),Le=S(3839),oe=S(1967),re=S(5823),fe=S(384);function ne(b){return new Q.y(T=>{(0,fe.Xf)(b()).subscribe(T)})}var ge=S(2476),De=S(3252),xe=S(6290),ze=S(6482),ee=S(4114),Me=S(5678);function Xe(){return(0,ee.e)((b,T)=>{let v=null;b._refCount++;const E=(0,Me.x)(T,void 0,void 0,void 0,()=>{if(!b||b._refCount<=0||0<--b._refCount)return void(v=null);const P=b._connection,Y=v;v=null,P&&(!Y||P===Y)&&P.unsubscribe(),T.unsubscribe()});b.subscribe(E),E.closed||(v=b.connect())})}class nt extends Q.y{constructor(T,v){super(),this.source=T,this.subjectFactory=v,this._subject=null,this._refCount=0,this._connection=null,(0,ee.A)(T)&&(this.lift=T.lift)}_subscribe(T){return this.getSubject().subscribe(T)}getSubject(){const T=this._subject;return(!T||T.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:T}=this;this._subject=this._connection=null,T?.unsubscribe()}connect(){let T=this._connection;if(!T){T=this._connection=new ze.w0;const v=this.getSubject();T.add(this.source.subscribe((0,Me.x)(v,void 0,()=>{this._teardown(),v.complete()},E=>{this._teardown(),v.error(E)},()=>this._teardown()))),T.closed&&(this._connection=null,T=ze.w0.EMPTY)}return T}refCount(){return Xe()(this)}}var Ce=S(9877),pe=S(6575),de=S(9736),Ge=S(1891),Oe=S(1527),Pe=S(5043),$e=S(4520),He=S(9912),ft=S(5267),Fe=S(5616),Bt=S(3738),ut=S(2389);var ct=S(728);function ce(b){return b<=0?()=>xe.E:(0,ee.e)((T,v)=>{let E=[];T.subscribe((0,Me.x)(v,P=>{E.push(P),b<E.length&&E.shift()},()=>{for(const P of E)v.next(P);v.complete()},void 0,()=>{E=null}))})}var he=S(3614),Se=S(204),Ae=S(8037),Ye=S(7474),rt=S(274),ot=S(7047),pn=S(6480);const gt="primary",ln=Symbol("RouteTitle");class zt{constructor(T){this.params=T||{}}has(T){return Object.prototype.hasOwnProperty.call(this.params,T)}get(T){if(this.has(T)){const v=this.params[T];return Array.isArray(v)?v[0]:v}return null}getAll(T){if(this.has(T)){const v=this.params[T];return Array.isArray(v)?v:[v]}return[]}get keys(){return Object.keys(this.params)}}function xt(b){return new zt(b)}function xn(b,T,v){const E=v.path.split("/");if(E.length>b.length||"full"===v.pathMatch&&(T.hasChildren()||E.length<b.length))return null;const P={};for(let Y=0;Y<E.length;Y++){const ae=E[Y],st=b[Y];if(ae.startsWith(":"))P[ae.substring(1)]=st;else if(ae!==st.path)return null}return{consumed:b.slice(0,E.length),posParams:P}}function me(b,T){const v=b?Object.keys(b):void 0,E=T?Object.keys(T):void 0;if(!v||!E||v.length!=E.length)return!1;let P;for(let Y=0;Y<v.length;Y++)if(P=v[Y],!_e(b[P],T[P]))return!1;return!0}function _e(b,T){if(Array.isArray(b)&&Array.isArray(T)){if(b.length!==T.length)return!1;const v=[...b].sort(),E=[...T].sort();return v.every((P,Y)=>E[Y]===P)}return b===T}function je(b){return b.length>0?b[b.length-1]:null}function Qe(b){return function te(b){return!!b&&(b instanceof Q.y||(0,z.m)(b.lift)&&(0,z.m)(b.subscribe))}(b)?b:(0,p.QGY)(b)?(0,W.D)(Promise.resolve(b)):(0,e.of)(b)}const _t={exact:function Lt(b,T,v){if(!bn(b.segments,T.segments)||!li(b.segments,T.segments,v)||b.numberOfChildren!==T.numberOfChildren)return!1;for(const E in T.children)if(!b.children[E]||!Lt(b.children[E],T.children[E],v))return!1;return!0},subset:Nt},Rt={exact:function un(b,T){return me(b,T)},subset:function Mt(b,T){return Object.keys(T).length<=Object.keys(b).length&&Object.keys(T).every(v=>_e(b[v],T[v]))},ignored:()=>!0};function gn(b,T,v){return _t[v.paths](b.root,T.root,v.matrixParams)&&Rt[v.queryParams](b.queryParams,T.queryParams)&&!("exact"===v.fragment&&b.fragment!==T.fragment)}function Nt(b,T,v){return Fn(b,T,T.segments,v)}function Fn(b,T,v,E){if(b.segments.length>v.length){const P=b.segments.slice(0,v.length);return!(!bn(P,v)||T.hasChildren()||!li(P,v,E))}if(b.segments.length===v.length){if(!bn(b.segments,v)||!li(b.segments,v,E))return!1;for(const P in T.children)if(!b.children[P]||!Nt(b.children[P],T.children[P],E))return!1;return!0}{const P=v.slice(0,b.segments.length),Y=v.slice(b.segments.length);return!!(bn(b.segments,P)&&li(b.segments,P,E)&&b.children[gt])&&Fn(b.children[gt],T,Y,E)}}function li(b,T,v){return T.every((E,P)=>Rt[v](b[P].parameters,E.parameters))}class an{constructor(T=new qt([],{}),v={},E=null){this.root=T,this.queryParams=v,this.fragment=E}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xt(this.queryParams)),this._queryParamMap}toString(){return Ei.serialize(this)}}class qt{constructor(T,v){this.segments=T,this.children=v,this.parent=null,Object.values(v).forEach(E=>E.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Hi(this)}}class zn{constructor(T,v){this.path=T,this.parameters=v}get parameterMap(){return this._parameterMap||(this._parameterMap=xt(this.parameters)),this._parameterMap}toString(){return $i(this)}}function bn(b,T){return b.length===T.length&&b.every((v,E)=>v.path===T[E].path)}let mn=(()=>{class b{static#e=this.\u0275fac=function(E){return new(E||b)};static#t=this.\u0275prov=p.Yz7({token:b,factory:function(){return new Ri},providedIn:"root"})}return b})();class Ri{parse(T){const v=new It(T);return new an(v.parseRootSegment(),v.parseQueryParams(),v.parseFragment())}serialize(T){const v=`/${Fi(T.root,!0)}`,E=function Ho(b){const T=Object.keys(b).map(v=>{const E=b[v];return Array.isArray(E)?E.map(P=>`${Qn(v)}=${Qn(P)}`).join("&"):`${Qn(v)}=${Qn(E)}`}).filter(v=>!!v);return T.length?`?${T.join("&")}`:""}(T.queryParams);return`${v}${E}${"string"==typeof T.fragment?`#${function In(b){return encodeURI(b)}(T.fragment)}`:""}`}}const Ei=new Ri;function Hi(b){return b.segments.map(T=>$i(T)).join("/")}function Fi(b,T){if(!b.hasChildren())return Hi(b);if(T){const v=b.children[gt]?Fi(b.children[gt],!1):"",E=[];return Object.entries(b.children).forEach(([P,Y])=>{P!==gt&&E.push(`${P}:${Fi(Y,!1)}`)}),E.length>0?`${v}(${E.join("//")})`:v}{const v=function Ln(b,T){let v=[];return Object.entries(b.children).forEach(([E,P])=>{E===gt&&(v=v.concat(T(P,E)))}),Object.entries(b.children).forEach(([E,P])=>{E!==gt&&(v=v.concat(T(P,E)))}),v}(b,(E,P)=>P===gt?[Fi(b.children[gt],!1)]:[`${P}:${Fi(E,!1)}`]);return 1===Object.keys(b.children).length&&null!=b.children[gt]?`${Hi(b)}/${v[0]}`:`${Hi(b)}/(${v.join("//")})`}}function $n(b){return encodeURIComponent(b).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qn(b){return $n(b).replace(/%3B/gi,";")}function ai(b){return $n(b).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Li(b){return decodeURIComponent(b)}function Qi(b){return Li(b.replace(/\+/g,"%20"))}function $i(b){return`${ai(b.path)}${function io(b){return Object.keys(b).map(T=>`;${ai(T)}=${ai(b[T])}`).join("")}(b.parameters)}`}const dt=/^[^\/()?;#]+/;function We(b){const T=b.match(dt);return T?T[0]:""}const ue=/^[^\/()?;=#]+/,se=/^[^=?&#]+/,at=/^[^&#]+/;class It{constructor(T){this.url=T,this.remaining=T}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qt([],{}):new qt([],this.parseChildren())}parseQueryParams(){const T={};if(this.consumeOptional("?"))do{this.parseQueryParam(T)}while(this.consumeOptional("&"));return T}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const T=[];for(this.peekStartsWith("(")||T.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),T.push(this.parseSegment());let v={};this.peekStartsWith("/(")&&(this.capture("/"),v=this.parseParens(!0));let E={};return this.peekStartsWith("(")&&(E=this.parseParens(!1)),(T.length>0||Object.keys(v).length>0)&&(E[gt]=new qt(T,v)),E}parseSegment(){const T=We(this.remaining);if(""===T&&this.peekStartsWith(";"))throw new p.vHH(4009,!1);return this.capture(T),new zn(Li(T),this.parseMatrixParams())}parseMatrixParams(){const T={};for(;this.consumeOptional(";");)this.parseParam(T);return T}parseParam(T){const v=function V(b){const T=b.match(ue);return T?T[0]:""}(this.remaining);if(!v)return;this.capture(v);let E="";if(this.consumeOptional("=")){const P=We(this.remaining);P&&(E=P,this.capture(E))}T[Li(v)]=Li(E)}parseQueryParam(T){const v=function Ue(b){const T=b.match(se);return T?T[0]:""}(this.remaining);if(!v)return;this.capture(v);let E="";if(this.consumeOptional("=")){const ae=function Zt(b){const T=b.match(at);return T?T[0]:""}(this.remaining);ae&&(E=ae,this.capture(E))}const P=Qi(v),Y=Qi(E);if(T.hasOwnProperty(P)){let ae=T[P];Array.isArray(ae)||(ae=[ae],T[P]=ae),ae.push(Y)}else T[P]=Y}parseParens(T){const v={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const E=We(this.remaining),P=this.remaining[E.length];if("/"!==P&&")"!==P&&";"!==P)throw new p.vHH(4010,!1);let Y;E.indexOf(":")>-1?(Y=E.slice(0,E.indexOf(":")),this.capture(Y),this.capture(":")):T&&(Y=gt);const ae=this.parseChildren();v[Y]=1===Object.keys(ae).length?ae[gt]:new qt([],ae),this.consumeOptional("//")}return v}peekStartsWith(T){return this.remaining.startsWith(T)}consumeOptional(T){return!!this.peekStartsWith(T)&&(this.remaining=this.remaining.substring(T.length),!0)}capture(T){if(!this.consumeOptional(T))throw new p.vHH(4011,!1)}}function Wt(b){return b.segments.length>0?new qt([],{[gt]:b}):b}function Bn(b){const T={};for(const E of Object.keys(b.children)){const Y=Bn(b.children[E]);if(E===gt&&0===Y.segments.length&&Y.hasChildren())for(const[ae,st]of Object.entries(Y.children))T[ae]=st;else(Y.segments.length>0||Y.hasChildren())&&(T[E]=Y)}return function Un(b){if(1===b.numberOfChildren&&b.children[gt]){const T=b.children[gt];return new qt(b.segments.concat(T.segments),T.children)}return b}(new qt(b.segments,T))}function Ze(b){return b instanceof an}function Ie(b){let T;const P=Wt(function v(Y){const ae={};for(const tt of Y.children){const Kt=v(tt);ae[tt.outlet]=Kt}const st=new qt(Y.url,ae);return Y===b&&(T=st),st}(b.root));return T??P}function it(b,T,v,E){let P=b;for(;P.parent;)P=P.parent;if(0===T.length)return kt(P,P,P,v,E);const Y=function yi(b){if("string"==typeof b[0]&&1===b.length&&"/"===b[0])return new cn(!0,0,b);let T=0,v=!1;const E=b.reduce((P,Y,ae)=>{if("object"==typeof Y&&null!=Y){if(Y.outlets){const st={};return Object.entries(Y.outlets).forEach(([tt,Kt])=>{st[tt]="string"==typeof Kt?Kt.split("/"):Kt}),[...P,{outlets:st}]}if(Y.segmentPath)return[...P,Y.segmentPath]}return"string"!=typeof Y?[...P,Y]:0===ae?(Y.split("/").forEach((st,tt)=>{0==tt&&"."===st||(0==tt&&""===st?v=!0:".."===st?T++:""!=st&&P.push(st))}),P):[...P,Y]},[]);return new cn(v,T,E)}(T);if(Y.toRoot())return kt(P,P,new qt([],{}),v,E);const ae=function Gn(b,T,v){if(b.isAbsolute)return new _n(T,!0,0);if(!v)return new _n(T,!1,NaN);if(null===v.parent)return new _n(v,!0,0);const E=Dt(b.commands[0])?0:1;return function Qt(b,T,v){let E=b,P=T,Y=v;for(;Y>P;){if(Y-=P,E=E.parent,!E)throw new p.vHH(4005,!1);P=E.segments.length}return new _n(E,!1,P-Y)}(v,v.segments.length-1+E,b.numberOfDoubleDots)}(Y,P,b),st=ae.processChildren?dn(ae.segmentGroup,ae.index,Y.commands):ri(ae.segmentGroup,ae.index,Y.commands);return kt(P,ae.segmentGroup,st,v,E)}function Dt(b){return"object"==typeof b&&null!=b&&!b.outlets&&!b.segmentPath}function At(b){return"object"==typeof b&&null!=b&&b.outlets}function kt(b,T,v,E,P){let ae,Y={};E&&Object.entries(E).forEach(([tt,Kt])=>{Y[tt]=Array.isArray(Kt)?Kt.map(Wn=>`${Wn}`):`${Kt}`}),ae=b===T?v:Xt(b,T,v);const st=Wt(Bn(ae));return new an(st,Y,P)}function Xt(b,T,v){const E={};return Object.entries(b.children).forEach(([P,Y])=>{E[P]=Y===T?v:Xt(Y,T,v)}),new qt(b.segments,E)}class cn{constructor(T,v,E){if(this.isAbsolute=T,this.numberOfDoubleDots=v,this.commands=E,T&&E.length>0&&Dt(E[0]))throw new p.vHH(4003,!1);const P=E.find(At);if(P&&P!==je(E))throw new p.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _n{constructor(T,v,E){this.segmentGroup=T,this.processChildren=v,this.index=E}}function ri(b,T,v){if(b||(b=new qt([],{})),0===b.segments.length&&b.hasChildren())return dn(b,T,v);const E=function Rn(b,T,v){let E=0,P=T;const Y={match:!1,pathIndex:0,commandIndex:0};for(;P<b.segments.length;){if(E>=v.length)return Y;const ae=b.segments[P],st=v[E];if(At(st))break;const tt=`${st}`,Kt=E<v.length-1?v[E+1]:null;if(P>0&&void 0===tt)break;if(tt&&Kt&&"object"==typeof Kt&&void 0===Kt.outlets){if(!Cn(tt,Kt,ae))return Y;E+=2}else{if(!Cn(tt,{},ae))return Y;E++}P++}return{match:!0,pathIndex:P,commandIndex:E}}(b,T,v),P=v.slice(E.commandIndex);if(E.match&&E.pathIndex<b.segments.length){const Y=new qt(b.segments.slice(0,E.pathIndex),{});return Y.children[gt]=new qt(b.segments.slice(E.pathIndex),b.children),dn(Y,0,P)}return E.match&&0===P.length?new qt(b.segments,{}):E.match&&!b.hasChildren()?ii(b,T,v):E.match?dn(b,0,P):ii(b,T,v)}function dn(b,T,v){if(0===v.length)return new qt(b.segments,{});{const E=function Zn(b){return At(b[0])?b[0].outlets:{[gt]:b}}(v),P={};if(Object.keys(E).some(Y=>Y!==gt)&&b.children[gt]&&1===b.numberOfChildren&&0===b.children[gt].segments.length){const Y=dn(b.children[gt],T,v);return new qt(b.segments,Y.children)}return Object.entries(E).forEach(([Y,ae])=>{"string"==typeof ae&&(ae=[ae]),null!==ae&&(P[Y]=ri(b.children[Y],T,ae))}),Object.entries(b.children).forEach(([Y,ae])=>{void 0===E[Y]&&(P[Y]=ae)}),new qt(b.segments,P)}}function ii(b,T,v){const E=b.segments.slice(0,T);let P=0;for(;P<v.length;){const Y=v[P];if(At(Y)){const tt=Ii(Y.outlets);return new qt(E,tt)}if(0===P&&Dt(v[0])){E.push(new zn(b.segments[T].path,Yt(v[0]))),P++;continue}const ae=At(Y)?Y.outlets[gt]:`${Y}`,st=P<v.length-1?v[P+1]:null;ae&&st&&Dt(st)?(E.push(new zn(ae,Yt(st))),P+=2):(E.push(new zn(ae,{})),P++)}return new qt(E,{})}function Ii(b){const T={};return Object.entries(b).forEach(([v,E])=>{"string"==typeof E&&(E=[E]),null!==E&&(T[v]=ii(new qt([],{}),0,E))}),T}function Yt(b){const T={};return Object.entries(b).forEach(([v,E])=>T[v]=`${E}`),T}function Cn(b,T,v){return b==v.path&&me(T,v.parameters)}const Ai="imperative";class Si{constructor(T,v){this.id=T,this.url=v}}class vi extends Si{constructor(T,v,E="imperative",P=null){super(T,v),this.type=0,this.navigationTrigger=E,this.restoredState=P}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class oo extends Si{constructor(T,v,E){super(T,v),this.urlAfterRedirects=E,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Dn extends Si{constructor(T,v,E,P){super(T,v),this.reason=E,this.code=P,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class wn extends Si{constructor(T,v,E,P){super(T,v),this.reason=E,this.code=P,this.type=16}}class Gi extends Si{constructor(T,v,E,P){super(T,v),this.error=E,this.target=P,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class wo extends Si{constructor(T,v,E,P){super(T,v),this.urlAfterRedirects=E,this.state=P,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yi extends Si{constructor(T,v,E,P){super(T,v),this.urlAfterRedirects=E,this.state=P,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vs extends Si{constructor(T,v,E,P,Y){super(T,v),this.urlAfterRedirects=E,this.state=P,this.shouldActivate=Y,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Xo extends Si{constructor(T,v,E,P){super(T,v),this.urlAfterRedirects=E,this.state=P,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jo extends Si{constructor(T,v,E,P){super(T,v),this.urlAfterRedirects=E,this.state=P,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ui{constructor(T){this.route=T,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Je{constructor(T){this.route=T,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Pt{constructor(T){this.snapshot=T,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Et{constructor(T){this.snapshot=T,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gt{constructor(T){this.snapshot=T,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class On{constructor(T){this.snapshot=T,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kn{constructor(T,v,E){this.routerEvent=T,this.position=v,this.anchor=E,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Xn{}class Ci{constructor(T){this.url=T}}class No{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new To,this.attachRef=null}}let To=(()=>{class b{constructor(){this.contexts=new Map}onChildOutletCreated(v,E){const P=this.getOrCreateContext(v);P.outlet=E,this.contexts.set(v,P)}onChildOutletDestroyed(v){const E=this.getContext(v);E&&(E.outlet=null,E.attachRef=null)}onOutletDeactivated(){const v=this.contexts;return this.contexts=new Map,v}onOutletReAttached(v){this.contexts=v}getOrCreateContext(v){let E=this.getContext(v);return E||(E=new No,this.contexts.set(v,E)),E}getContext(v){return this.contexts.get(v)||null}static#e=this.\u0275fac=function(E){return new(E||b)};static#t=this.\u0275prov=p.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})();class gr{constructor(T){this._root=T}get root(){return this._root.value}parent(T){const v=this.pathFromRoot(T);return v.length>1?v[v.length-2]:null}children(T){const v=An(T,this._root);return v?v.children.map(E=>E.value):[]}firstChild(T){const v=An(T,this._root);return v&&v.children.length>0?v.children[0].value:null}siblings(T){const v=Bi(T,this._root);return v.length<2?[]:v[v.length-2].children.map(P=>P.value).filter(P=>P!==T)}pathFromRoot(T){return Bi(T,this._root).map(v=>v.value)}}function An(b,T){if(b===T.value)return T;for(const v of T.children){const E=An(b,v);if(E)return E}return null}function Bi(b,T){if(b===T.value)return[T];for(const v of T.children){const E=Bi(b,v);if(E.length)return E.unshift(T),E}return[]}class en{constructor(T,v){this.value=T,this.children=v}toString(){return`TreeNode(${this.value})`}}function Oi(b){const T={};return b&&b.children.forEach(v=>T[v.value.outlet]=v),T}class kn extends gr{constructor(T,v){super(T),this.snapshot=v,rn(this,T)}toString(){return this.snapshot.toString()}}function mr(b,T){const v=function Mr(b,T){const ae=new di([],{},{},"",{},gt,T,null,{});return new $t("",new en(ae,[]))}(0,T),E=new K.X([new zn("",{})]),P=new K.X({}),Y=new K.X({}),ae=new K.X({}),st=new K.X(""),tt=new _o(E,P,ae,st,Y,gt,T,v.root);return tt.snapshot=v.root,new kn(new en(tt,[]),v)}class _o{constructor(T,v,E,P,Y,ae,st,tt){this.urlSubject=T,this.paramsSubject=v,this.queryParamsSubject=E,this.fragmentSubject=P,this.dataSubject=Y,this.outlet=ae,this.component=st,this._futureSnapshot=tt,this.title=this.dataSubject?.pipe((0,de.U)(Kt=>Kt[ln]))??(0,e.of)(void 0),this.url=T,this.params=v,this.queryParams=E,this.fragment=P,this.data=Y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,de.U)(T=>xt(T)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,de.U)(T=>xt(T)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function qr(b,T="emptyOnly"){const v=b.pathFromRoot;let E=0;if("always"!==T)for(E=v.length-1;E>=1;){const P=v[E],Y=v[E-1];if(P.routeConfig&&""===P.routeConfig.path)E--;else{if(Y.component)break;E--}}return function er(b){return b.reduce((T,v)=>({params:{...T.params,...v.params},data:{...T.data,...v.data},resolve:{...v.data,...T.resolve,...v.routeConfig?.data,...v._resolvedData}}),{params:{},data:{},resolve:{}})}(v.slice(E))}class di{get title(){return this.data?.[ln]}constructor(T,v,E,P,Y,ae,st,tt,Kt){this.url=T,this.params=v,this.queryParams=E,this.fragment=P,this.data=Y,this.outlet=ae,this.component=st,this.routeConfig=tt,this._resolve=Kt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=xt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(E=>E.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $t extends gr{constructor(T,v){super(v),this.url=T,rn(this,v)}toString(){return ci(this._root)}}function rn(b,T){T.value._routerState=b,T.children.forEach(v=>rn(b,v))}function ci(b){const T=b.children.length>0?` { ${b.children.map(ci).join(", ")} } `:"";return`${b.value}${T}`}function ro(b){if(b.snapshot){const T=b.snapshot,v=b._futureSnapshot;b.snapshot=v,me(T.queryParams,v.queryParams)||b.queryParamsSubject.next(v.queryParams),T.fragment!==v.fragment&&b.fragmentSubject.next(v.fragment),me(T.params,v.params)||b.paramsSubject.next(v.params),function vn(b,T){if(b.length!==T.length)return!1;for(let v=0;v<b.length;++v)if(!me(b[v],T[v]))return!1;return!0}(T.url,v.url)||b.urlSubject.next(v.url),me(T.data,v.data)||b.dataSubject.next(v.data)}else b.snapshot=b._futureSnapshot,b.dataSubject.next(b._futureSnapshot.data)}function qo(b,T){const v=me(b.params,T.params)&&function ht(b,T){return bn(b,T)&&b.every((v,E)=>me(v.parameters,T[E].parameters))}(b.url,T.url);return v&&!(!b.parent!=!T.parent)&&(!b.parent||qo(b.parent,T.parent))}let ji=(()=>{class b{constructor(){this.activated=null,this._activatedRoute=null,this.name=gt,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.parentContexts=(0,p.f3M)(To),this.location=(0,p.f3M)(p.s_b),this.changeDetector=(0,p.f3M)(p.sBO),this.environmentInjector=(0,p.f3M)(p.lqb),this.inputBinder=(0,p.f3M)(Di,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(v){if(v.name){const{firstChange:E,previousValue:P}=v.name;if(E)return;this.isTrackedInParentContexts(P)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(P)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(v){return this.parentContexts.getContext(v)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const v=this.parentContexts.getContext(this.name);v?.route&&(v.attachRef?this.attach(v.attachRef,v.route):this.activateWith(v.route,v.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.vHH(4012,!1);this.location.detach();const v=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(v.instance),v}attach(v,E){this.activated=v,this._activatedRoute=E,this.location.insert(v.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(v.instance)}deactivate(){if(this.activated){const v=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(v)}}activateWith(v,E){if(this.isActivated)throw new p.vHH(4013,!1);this._activatedRoute=v;const P=this.location,ae=v.snapshot.component,st=this.parentContexts.getOrCreateContext(this.name).children,tt=new Sr(v,st,P.injector);this.activated=P.createComponent(ae,{index:P.length,injector:tt,environmentInjector:E??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(E){return new(E||b)};static#t=this.\u0275dir=p.lG2({type:b,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[p.TTD]})}return b})();class Sr{constructor(T,v,E){this.route=T,this.childContexts=v,this.parent=E}get(T,v){return T===_o?this.route:T===To?this.childContexts:this.parent.get(T,v)}}const Di=new p.OlP("");let Eo=(()=>{class b{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(v){this.unsubscribeFromRouteData(v),this.subscribeToRouteData(v)}unsubscribeFromRouteData(v){this.outletDataSubscriptions.get(v)?.unsubscribe(),this.outletDataSubscriptions.delete(v)}subscribeToRouteData(v){const{activatedRoute:E}=v,P=(0,Le.a)([E.queryParams,E.params,E.data]).pipe((0,Ge.w)(([Y,ae,st],tt)=>(st={...Y,...ae,...st},0===tt?(0,e.of)(st):Promise.resolve(st)))).subscribe(Y=>{if(!v.isActivated||!v.activatedComponentRef||v.activatedRoute!==E||null===E.component)return void this.unsubscribeFromRouteData(v);const ae=(0,p.qFp)(E.component);if(ae)for(const{templateName:st}of ae.inputs)v.activatedComponentRef.setInput(st,Y[st]);else this.unsubscribeFromRouteData(v)});this.outletDataSubscriptions.set(v,P)}static#e=this.\u0275fac=function(E){return new(E||b)};static#t=this.\u0275prov=p.Yz7({token:b,factory:b.\u0275fac})}return b})();function Vt(b,T,v){if(v&&b.shouldReuseRoute(T.value,v.value.snapshot)){const E=v.value;E._futureSnapshot=T.value;const P=function xr(b,T,v){return T.children.map(E=>{for(const P of v.children)if(b.shouldReuseRoute(E.value,P.value.snapshot))return Vt(b,E,P);return Vt(b,E)})}(b,T,v);return new en(E,P)}{if(b.shouldAttach(T.value)){const Y=b.retrieve(T.value);if(null!==Y){const ae=Y.route;return ae.value._futureSnapshot=T.value,ae.children=T.children.map(st=>Vt(b,st)),ae}}const E=function ho(b){return new _o(new K.X(b.url),new K.X(b.params),new K.X(b.queryParams),new K.X(b.fragment),new K.X(b.data),b.outlet,b.component,b)}(T.value),P=T.children.map(Y=>Vt(b,Y));return new en(E,P)}}const Mo="ngNavigationCancelingError";function xi(b,T){const{redirectTo:v,navigationBehaviorOptions:E}=Ze(T)?{redirectTo:T,navigationBehaviorOptions:void 0}:T,P=zo(!1,0,T);return P.url=v,P.navigationBehaviorOptions=E,P}function zo(b,T,v){const E=new Error("NavigationCancelingError: "+(b||""));return E[Mo]=!0,E.cancellationCode=T,v&&(E.url=v),E}function ko(b){return b&&b[Mo]}let _r=(()=>{class b{static#e=this.\u0275fac=function(E){return new(E||b)};static#t=this.\u0275cmp=p.Xpm({type:b,selectors:[["ng-component"]],standalone:!0,features:[p.jDz],decls:1,vars:0,template:function(E,P){1&E&&p._UZ(0,"router-outlet")},dependencies:[ji],encapsulation:2})}return b})();function so(b){const T=b.children&&b.children.map(so),v=T?{...b,children:T}:{...b};return!v.component&&!v.loadComponent&&(T||v.loadChildren)&&v.outlet&&v.outlet!==gt&&(v.component=_r),v}function ao(b){return b.outlet||gt}function Ro(b){if(!b)return null;if(b.routeConfig?._injector)return b.routeConfig._injector;for(let T=b.parent;T;T=T.parent){const v=T.routeConfig;if(v?._loadedInjector)return v._loadedInjector;if(v?._injector)return v._injector}return null}class Fo{constructor(T,v,E,P,Y){this.routeReuseStrategy=T,this.futureState=v,this.currState=E,this.forwardEvent=P,this.inputBindingEnabled=Y}activate(T){const v=this.futureState._root,E=this.currState?this.currState._root:null;this.deactivateChildRoutes(v,E,T),ro(this.futureState.root),this.activateChildRoutes(v,E,T)}deactivateChildRoutes(T,v,E){const P=Oi(v);T.children.forEach(Y=>{const ae=Y.value.outlet;this.deactivateRoutes(Y,P[ae],E),delete P[ae]}),Object.values(P).forEach(Y=>{this.deactivateRouteAndItsChildren(Y,E)})}deactivateRoutes(T,v,E){const P=T.value,Y=v?v.value:null;if(P===Y)if(P.component){const ae=E.getContext(P.outlet);ae&&this.deactivateChildRoutes(T,v,ae.children)}else this.deactivateChildRoutes(T,v,E);else Y&&this.deactivateRouteAndItsChildren(v,E)}deactivateRouteAndItsChildren(T,v){T.value.component&&this.routeReuseStrategy.shouldDetach(T.value.snapshot)?this.detachAndStoreRouteSubtree(T,v):this.deactivateRouteAndOutlet(T,v)}detachAndStoreRouteSubtree(T,v){const E=v.getContext(T.value.outlet),P=E&&T.value.component?E.children:v,Y=Oi(T);for(const ae of Object.keys(Y))this.deactivateRouteAndItsChildren(Y[ae],P);if(E&&E.outlet){const ae=E.outlet.detach(),st=E.children.onOutletDeactivated();this.routeReuseStrategy.store(T.value.snapshot,{componentRef:ae,route:T,contexts:st})}}deactivateRouteAndOutlet(T,v){const E=v.getContext(T.value.outlet),P=E&&T.value.component?E.children:v,Y=Oi(T);for(const ae of Object.keys(Y))this.deactivateRouteAndItsChildren(Y[ae],P);E&&(E.outlet&&(E.outlet.deactivate(),E.children.onOutletDeactivated()),E.attachRef=null,E.route=null)}activateChildRoutes(T,v,E){const P=Oi(v);T.children.forEach(Y=>{this.activateRoutes(Y,P[Y.value.outlet],E),this.forwardEvent(new On(Y.value.snapshot))}),T.children.length&&this.forwardEvent(new Et(T.value.snapshot))}activateRoutes(T,v,E){const P=T.value,Y=v?v.value:null;if(ro(P),P===Y)if(P.component){const ae=E.getOrCreateContext(P.outlet);this.activateChildRoutes(T,v,ae.children)}else this.activateChildRoutes(T,v,E);else if(P.component){const ae=E.getOrCreateContext(P.outlet);if(this.routeReuseStrategy.shouldAttach(P.snapshot)){const st=this.routeReuseStrategy.retrieve(P.snapshot);this.routeReuseStrategy.store(P.snapshot,null),ae.children.onOutletReAttached(st.contexts),ae.attachRef=st.componentRef,ae.route=st.route.value,ae.outlet&&ae.outlet.attach(st.componentRef,st.route.value),ro(st.route.value),this.activateChildRoutes(T,null,ae.children)}else{const st=Ro(P.snapshot);ae.attachRef=null,ae.route=P,ae.injector=st,ae.outlet&&ae.outlet.activateWith(P,ae.injector),this.activateChildRoutes(T,null,ae.children)}}else this.activateChildRoutes(T,null,E)}}class Ki{constructor(T){this.path=T,this.route=this.path[this.path.length-1]}}class cr{constructor(T,v){this.component=T,this.route=v}}function lr(b,T,v){const E=b._root;return Lo(E,T?T._root:null,v,[E.value])}function po(b,T){const v=Symbol(),E=T.get(b,v);return E===v?"function"!=typeof b||(0,p.Z0I)(b)?T.get(b):b:E}function Lo(b,T,v,E,P={canDeactivateChecks:[],canActivateChecks:[]}){const Y=Oi(T);return b.children.forEach(ae=>{(function aa(b,T,v,E,P={canDeactivateChecks:[],canActivateChecks:[]}){const Y=b.value,ae=T?T.value:null,st=v?v.getContext(b.value.outlet):null;if(ae&&Y.routeConfig===ae.routeConfig){const tt=function as(b,T,v){if("function"==typeof v)return v(b,T);switch(v){case"pathParamsChange":return!bn(b.url,T.url);case"pathParamsOrQueryParamsChange":return!bn(b.url,T.url)||!me(b.queryParams,T.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qo(b,T)||!me(b.queryParams,T.queryParams);default:return!qo(b,T)}}(ae,Y,Y.routeConfig.runGuardsAndResolvers);tt?P.canActivateChecks.push(new Ki(E)):(Y.data=ae.data,Y._resolvedData=ae._resolvedData),Lo(b,T,Y.component?st?st.children:null:v,E,P),tt&&st&&st.outlet&&st.outlet.isActivated&&P.canDeactivateChecks.push(new cr(st.outlet.component,ae))}else ae&&Bo(T,st,P),P.canActivateChecks.push(new Ki(E)),Lo(b,null,Y.component?st?st.children:null:v,E,P)})(ae,Y[ae.value.outlet],v,E.concat([ae.value]),P),delete Y[ae.value.outlet]}),Object.entries(Y).forEach(([ae,st])=>Bo(st,v.getContext(ae),P)),P}function Bo(b,T,v){const E=Oi(b),P=b.value;Object.entries(E).forEach(([Y,ae])=>{Bo(ae,P.component?T?T.children.getContext(Y):null:T,v)}),v.canDeactivateChecks.push(new cr(P.component&&T&&T.outlet&&T.outlet.isActivated?T.outlet.component:null,P))}function Zr(b){return"function"==typeof b}function Xi(b){return b instanceof oe.K||"EmptyError"===b?.name}const Jo=Symbol("INITIAL_VALUE");function Ar(){return(0,Ge.w)(b=>(0,Le.a)(b.map(T=>T.pipe((0,Oe.q)(1),(0,Pe.O)(Jo)))).pipe((0,de.U)(T=>{for(const v of T)if(!0!==v){if(v===Jo)return Jo;if(!1===v||v instanceof an)return v}return!0}),(0,$e.h)(T=>T!==Jo),(0,Oe.q)(1)))}function Jr(b){return(0,ge.z)((0,Bt.b)(T=>{if(Ze(T))throw xi(0,T)}),(0,de.U)(T=>!0===T))}class qi{constructor(T){this.segmentGroup=T||null}}class bs{constructor(T){this.urlTree=T}}function Mi(b){return(0,De._)(new qi(b))}function Cs(b){return(0,De._)(new bs(b))}class ur{constructor(T,v){this.urlSerializer=T,this.urlTree=v}noMatchError(T){return new p.vHH(4002,!1)}lineralizeSegments(T,v){let E=[],P=v.root;for(;;){if(E=E.concat(P.segments),0===P.numberOfChildren)return(0,e.of)(E);if(P.numberOfChildren>1||!P.children[gt])return(0,De._)(new p.vHH(4e3,!1));P=P.children[gt]}}applyRedirectCommands(T,v,E){return this.applyRedirectCreateUrlTree(v,this.urlSerializer.parse(v),T,E)}applyRedirectCreateUrlTree(T,v,E,P){const Y=this.createSegmentGroup(T,v.root,E,P);return new an(Y,this.createQueryParams(v.queryParams,this.urlTree.queryParams),v.fragment)}createQueryParams(T,v){const E={};return Object.entries(T).forEach(([P,Y])=>{if("string"==typeof Y&&Y.startsWith(":")){const st=Y.substring(1);E[P]=v[st]}else E[P]=Y}),E}createSegmentGroup(T,v,E,P){const Y=this.createSegments(T,v.segments,E,P);let ae={};return Object.entries(v.children).forEach(([st,tt])=>{ae[st]=this.createSegmentGroup(T,tt,E,P)}),new qt(Y,ae)}createSegments(T,v,E,P){return v.map(Y=>Y.path.startsWith(":")?this.findPosParam(T,Y,P):this.findOrReturn(Y,E))}findPosParam(T,v,E){const P=E[v.path.substring(1)];if(!P)throw new p.vHH(4001,!1);return P}findOrReturn(T,v){let E=0;for(const P of v){if(P.path===T.path)return v.splice(E),P;E++}return T}}const br={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Vr(b,T,v,E,P){const Y=Kr(b,T,v);return Y.matched?(E=function Wr(b,T){return b.providers&&!b._injector&&(b._injector=(0,p.MMx)(b.providers,T,`Route: ${b.path}`)),b._injector??T}(T,E),function ys(b,T,v,E){const P=T.canMatch;if(!P||0===P.length)return(0,e.of)(!0);const Y=P.map(ae=>{const st=po(ae,b);return Qe(function be(b){return b&&Zr(b.canMatch)}(st)?st.canMatch(T,v):b.runInContext(()=>st(T,v)))});return(0,e.of)(Y).pipe(Ar(),Jr())}(E,T,v).pipe((0,de.U)(ae=>!0===ae?Y:{...br}))):(0,e.of)(Y)}function Kr(b,T,v){if(""===T.path)return"full"===T.pathMatch&&(b.hasChildren()||v.length>0)?{...br}:{matched:!0,consumedSegments:[],remainingSegments:v,parameters:{},positionalParamSegments:{}};const P=(T.matcher||xn)(v,b,T);if(!P)return{...br};const Y={};Object.entries(P.posParams??{}).forEach(([st,tt])=>{Y[st]=tt.path});const ae=P.consumed.length>0?{...Y,...P.consumed[P.consumed.length-1].parameters}:Y;return{matched:!0,consumedSegments:P.consumed,remainingSegments:v.slice(P.consumed.length),parameters:ae,positionalParamSegments:P.posParams??{}}}function zr(b,T,v,E){return v.length>0&&function Nr(b,T,v){return v.some(E=>nr(b,T,E)&&ao(E)!==gt)}(b,v,E)?{segmentGroup:new qt(T,us(E,new qt(v,b.children))),slicedSegments:[]}:0===v.length&&function $r(b,T,v){return v.some(E=>nr(b,T,E))}(b,v,E)?{segmentGroup:new qt(b.segments,ls(b,0,v,E,b.children)),slicedSegments:v}:{segmentGroup:new qt(b.segments,b.children),slicedSegments:v}}function ls(b,T,v,E,P){const Y={};for(const ae of E)if(nr(b,v,ae)&&!P[ao(ae)]){const st=new qt([],{});Y[ao(ae)]=st}return{...P,...Y}}function us(b,T){const v={};v[gt]=T;for(const E of b)if(""===E.path&&ao(E)!==gt){const P=new qt([],{});v[ao(E)]=P}return v}function nr(b,T,v){return(!(b.hasChildren()||T.length>0)||"full"!==v.pathMatch)&&""===v.path}class la{constructor(T,v,E,P,Y,ae,st){this.injector=T,this.configLoader=v,this.rootComponentType=E,this.config=P,this.urlTree=Y,this.paramsInheritanceStrategy=ae,this.urlSerializer=st,this.allowRedirects=!0,this.applyRedirects=new ur(this.urlSerializer,this.urlTree)}noMatchError(T){return new p.vHH(4002,!1)}recognize(){const T=zr(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,T,gt).pipe((0,ut.K)(v=>{if(v instanceof bs)return this.allowRedirects=!1,this.urlTree=v.urlTree,this.match(v.urlTree);throw v instanceof qi?this.noMatchError(v):v}),(0,de.U)(v=>{const E=new di([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},gt,this.rootComponentType,null,{}),P=new en(E,v),Y=new $t("",P),ae=function ve(b,T,v=null,E=null){return it(Ie(b),T,v,E)}(E,[],this.urlTree.queryParams,this.urlTree.fragment);return ae.queryParams=this.urlTree.queryParams,Y.url=this.urlSerializer.serialize(ae),this.inheritParamsAndData(Y._root),{state:Y,tree:ae}}))}match(T){return this.processSegmentGroup(this.injector,this.config,T.root,gt).pipe((0,ut.K)(E=>{throw E instanceof qi?this.noMatchError(E):E}))}inheritParamsAndData(T){const v=T.value,E=qr(v,this.paramsInheritanceStrategy);v.params=Object.freeze(E.params),v.data=Object.freeze(E.data),T.children.forEach(P=>this.inheritParamsAndData(P))}processSegmentGroup(T,v,E,P){return 0===E.segments.length&&E.hasChildren()?this.processChildren(T,v,E):this.processSegment(T,v,E,E.segments,P,!0)}processChildren(T,v,E){const P=[];for(const Y of Object.keys(E.children))"primary"===Y?P.unshift(Y):P.push(Y);return(0,W.D)(P).pipe((0,Fe.b)(Y=>{const ae=E.children[Y],st=function Ur(b,T){const v=b.filter(E=>ao(E)===T);return v.push(...b.filter(E=>ao(E)!==T)),v}(v,Y);return this.processSegmentGroup(T,st,ae,Y)}),function Re(b,T){return(0,ee.e)(function pt(b,T,v,E,P){return(Y,ae)=>{let st=v,tt=T,Kt=0;Y.subscribe((0,Me.x)(ae,Wn=>{const Wi=Kt++;tt=st?b(tt,Wn,Wi):(st=!0,Wn),E&&ae.next(tt)},P&&(()=>{st&&ae.next(tt),ae.complete()})))}}(b,T,arguments.length>=2,!0))}((Y,ae)=>(Y.push(...ae),Y)),(0,ct.d)(null),function we(b,T){const v=arguments.length>=2;return E=>E.pipe(b?(0,$e.h)((P,Y)=>b(P,Y,E)):Se.y,ce(1),v?(0,ct.d)(T):(0,he.T)(()=>new oe.K))}(),(0,He.z)(Y=>{if(null===Y)return Mi(E);const ae=Ws(Y);return function Ca(b){b.sort((T,v)=>T.value.outlet===gt?-1:v.value.outlet===gt?1:T.value.outlet.localeCompare(v.value.outlet))}(ae),(0,e.of)(ae)}))}processSegment(T,v,E,P,Y,ae){return(0,W.D)(v).pipe((0,Fe.b)(st=>this.processSegmentAgainstRoute(st._injector??T,v,st,E,P,Y,ae).pipe((0,ut.K)(tt=>{if(tt instanceof qi)return(0,e.of)(null);throw tt}))),(0,ft.P)(st=>!!st),(0,ut.K)(st=>{if(Xi(st))return function Ls(b,T,v){return 0===T.length&&!b.children[v]}(E,P,Y)?(0,e.of)([]):Mi(E);throw st}))}processSegmentAgainstRoute(T,v,E,P,Y,ae,st){return function Cr(b,T,v,E){return!!(ao(b)===E||E!==gt&&nr(T,v,b))&&("**"===b.path||Kr(T,b,v).matched)}(E,P,Y,ae)?void 0===E.redirectTo?this.matchSegmentAgainstRoute(T,P,E,Y,ae,st):st&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(T,P,v,E,Y,ae):Mi(P):Mi(P)}expandSegmentAgainstRouteUsingRedirect(T,v,E,P,Y,ae){return"**"===P.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(T,E,P,ae):this.expandRegularSegmentAgainstRouteUsingRedirect(T,v,E,P,Y,ae)}expandWildCardWithParamsAgainstRouteUsingRedirect(T,v,E,P){const Y=this.applyRedirects.applyRedirectCommands([],E.redirectTo,{});return E.redirectTo.startsWith("/")?Cs(Y):this.applyRedirects.lineralizeSegments(E,Y).pipe((0,He.z)(ae=>{const st=new qt(ae,{});return this.processSegment(T,v,st,ae,P,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(T,v,E,P,Y,ae){const{matched:st,consumedSegments:tt,remainingSegments:Kt,positionalParamSegments:Wn}=Kr(v,P,Y);if(!st)return Mi(v);const Wi=this.applyRedirects.applyRedirectCommands(tt,P.redirectTo,Wn);return P.redirectTo.startsWith("/")?Cs(Wi):this.applyRedirects.lineralizeSegments(P,Wi).pipe((0,He.z)(mi=>this.processSegment(T,E,v,mi.concat(Kt),ae,!1)))}matchSegmentAgainstRoute(T,v,E,P,Y,ae){let st;if("**"===E.path){const tt=P.length>0?je(P).parameters:{},Kt=new di(P,tt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ir(E),ao(E),E.component??E._loadedComponent??null,E,Xr(E));st=(0,e.of)({snapshot:Kt,consumedSegments:[],remainingSegments:[]}),v.children={}}else st=Vr(v,E,P,T).pipe((0,de.U)(({matched:tt,consumedSegments:Kt,remainingSegments:Wn,parameters:Wi})=>tt?{snapshot:new di(Kt,Wi,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ir(E),ao(E),E.component??E._loadedComponent??null,E,Xr(E)),consumedSegments:Kt,remainingSegments:Wn}:null));return st.pipe((0,Ge.w)(tt=>null===tt?Mi(v):this.getChildConfig(T=E._injector??T,E,P).pipe((0,Ge.w)(({routes:Kt})=>{const Wn=E._loadedInjector??T,{snapshot:Wi,consumedSegments:mi,remainingSegments:ts}=tt,{segmentGroup:Bs,slicedSegments:Es}=zr(v,mi,ts,Kt);if(0===Es.length&&Bs.hasChildren())return this.processChildren(Wn,Kt,Bs).pipe((0,de.U)(Zo=>null===Zo?null:[new en(Wi,Zo)]));if(0===Kt.length&&0===Es.length)return(0,e.of)([new en(Wi,[])]);const ua=ao(E)===Y;return this.processSegment(Wn,Kt,Bs,Es,ua?gt:Y,!0).pipe((0,de.U)(Zo=>[new en(Wi,Zo)]))}))))}getChildConfig(T,v,E){return v.children?(0,e.of)({routes:v.children,injector:T}):v.loadChildren?void 0!==v._loadedRoutes?(0,e.of)({routes:v._loadedRoutes,injector:v._loadedInjector}):function So(b,T,v,E){const P=T.canLoad;if(void 0===P||0===P.length)return(0,e.of)(!0);const Y=P.map(ae=>{const st=po(ae,b);return Qe(function R(b){return b&&Zr(b.canLoad)}(st)?st.canLoad(T,v):b.runInContext(()=>st(T,v)))});return(0,e.of)(Y).pipe(Ar(),Jr())}(T,v,E).pipe((0,He.z)(P=>P?this.configLoader.loadChildren(T,v).pipe((0,Bt.b)(Y=>{v._loadedRoutes=Y.routes,v._loadedInjector=Y.injector})):function qs(b){return(0,De._)(zo(!1,3))}())):(0,e.of)({routes:[],injector:T})}}function Da(b){const T=b.value.routeConfig;return T&&""===T.path}function Ws(b){const T=[],v=new Set;for(const E of b){if(!Da(E)){T.push(E);continue}const P=T.find(Y=>E.value.routeConfig===Y.value.routeConfig);void 0!==P?(P.children.push(...E.children),v.add(P)):T.push(E)}for(const E of v){const P=Ws(E.children);T.push(new en(E.value,P))}return T.filter(E=>!v.has(E))}function ir(b){return b.data||{}}function Xr(b){return b.resolve||{}}function C(b){return"string"==typeof b.title||null===b.title}function j(b){return(0,Ge.w)(T=>{const v=b(T);return v?(0,W.D)(v).pipe((0,de.U)(()=>T)):(0,e.of)(T)})}const I=new p.OlP("ROUTES");let F=(()=>{class b{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,p.f3M)(p.Sil)}loadComponent(v){if(this.componentLoaders.get(v))return this.componentLoaders.get(v);if(v._loadedComponent)return(0,e.of)(v._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(v);const E=Qe(v.loadComponent()).pipe((0,de.U)(vt),(0,Bt.b)(Y=>{this.onLoadEndListener&&this.onLoadEndListener(v),v._loadedComponent=Y}),(0,Ye.x)(()=>{this.componentLoaders.delete(v)})),P=new nt(E,()=>new Ce.x).pipe(Xe());return this.componentLoaders.set(v,P),P}loadChildren(v,E){if(this.childrenLoaders.get(E))return this.childrenLoaders.get(E);if(E._loadedRoutes)return(0,e.of)({routes:E._loadedRoutes,injector:E._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(E);const Y=function le(b,T,v,E){return Qe(b.loadChildren()).pipe((0,de.U)(vt),(0,He.z)(P=>P instanceof p.YKP||Array.isArray(P)?(0,e.of)(P):(0,W.D)(T.compileModuleAsync(P))),(0,de.U)(P=>{E&&E(b);let Y,ae,st=!1;return Array.isArray(P)?(ae=P,!0):(Y=P.create(v).injector,ae=Y.get(I,[],{optional:!0,self:!0}).flat()),{routes:ae.map(so),injector:Y}}))}(E,this.compiler,v,this.onLoadEndListener).pipe((0,Ye.x)(()=>{this.childrenLoaders.delete(E)})),ae=new nt(Y,()=>new Ce.x).pipe(Xe());return this.childrenLoaders.set(E,ae),ae}static#e=this.\u0275fac=function(E){return new(E||b)};static#t=this.\u0275prov=p.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})();function vt(b){return function et(b){return b&&"object"==typeof b&&"default"in b}(b)?b.default:b}let nn=(()=>{class b{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ce.x,this.transitionAbortSubject=new Ce.x,this.configLoader=(0,p.f3M)(F),this.environmentInjector=(0,p.f3M)(p.lqb),this.urlSerializer=(0,p.f3M)(mn),this.rootContexts=(0,p.f3M)(To),this.inputBindingEnabled=null!==(0,p.f3M)(Di,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,e.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=P=>this.events.next(new Je(P)),this.configLoader.onLoadStartListener=P=>this.events.next(new ui(P))}complete(){this.transitions?.complete()}handleNavigationRequest(v){const E=++this.navigationId;this.transitions?.next({...this.transitions.value,...v,id:E})}setupNavigations(v,E,P){return this.transitions=new K.X({id:0,currentUrlTree:E,currentRawUrl:E,currentBrowserUrl:E,extractedUrl:v.urlHandlingStrategy.extract(E),urlAfterRedirects:v.urlHandlingStrategy.extract(E),rawUrl:E,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ai,restoredState:null,currentSnapshot:P.snapshot,targetSnapshot:null,currentRouterState:P,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,$e.h)(Y=>0!==Y.id),(0,de.U)(Y=>({...Y,extractedUrl:v.urlHandlingStrategy.extract(Y.rawUrl)})),(0,Ge.w)(Y=>{this.currentTransition=Y;let ae=!1,st=!1;return(0,e.of)(Y).pipe((0,Bt.b)(tt=>{this.currentNavigation={id:tt.id,initialUrl:tt.rawUrl,extractedUrl:tt.extractedUrl,trigger:tt.source,extras:tt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ge.w)(tt=>{const Kt=tt.currentBrowserUrl.toString(),Wn=!v.navigated||tt.extractedUrl.toString()!==Kt||Kt!==tt.currentUrlTree.toString();if(!Wn&&"reload"!==(tt.extras.onSameUrlNavigation??v.onSameUrlNavigation)){const mi="";return this.events.next(new wn(tt.id,this.urlSerializer.serialize(tt.rawUrl),mi,0)),tt.resolve(null),xe.E}if(v.urlHandlingStrategy.shouldProcessUrl(tt.rawUrl))return(0,e.of)(tt).pipe((0,Ge.w)(mi=>{const ts=this.transitions?.getValue();return this.events.next(new vi(mi.id,this.urlSerializer.serialize(mi.extractedUrl),mi.source,mi.restoredState)),ts!==this.transitions?.getValue()?xe.E:Promise.resolve(mi)}),function Js(b,T,v,E,P,Y){return(0,He.z)(ae=>function Gr(b,T,v,E,P,Y,ae="emptyOnly"){return new la(b,T,v,E,P,ae,Y).recognize()}(b,T,v,E,ae.extractedUrl,P,Y).pipe((0,de.U)(({state:st,tree:tt})=>({...ae,targetSnapshot:st,urlAfterRedirects:tt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,v.config,this.urlSerializer,v.paramsInheritanceStrategy),(0,Bt.b)(mi=>{Y.targetSnapshot=mi.targetSnapshot,Y.urlAfterRedirects=mi.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:mi.urlAfterRedirects};const ts=new wo(mi.id,this.urlSerializer.serialize(mi.extractedUrl),this.urlSerializer.serialize(mi.urlAfterRedirects),mi.targetSnapshot);this.events.next(ts)}));if(Wn&&v.urlHandlingStrategy.shouldProcessUrl(tt.currentRawUrl)){const{id:mi,extractedUrl:ts,source:Bs,restoredState:Es,extras:ua}=tt,Zo=new vi(mi,this.urlSerializer.serialize(ts),Bs,Es);this.events.next(Zo);const da=mr(0,this.rootComponentType).snapshot;return this.currentTransition=Y={...tt,targetSnapshot:da,urlAfterRedirects:ts,extras:{...ua,skipLocationChange:!1,replaceUrl:!1}},(0,e.of)(Y)}{const mi="";return this.events.next(new wn(tt.id,this.urlSerializer.serialize(tt.extractedUrl),mi,1)),tt.resolve(null),xe.E}}),(0,Bt.b)(tt=>{const Kt=new Yi(tt.id,this.urlSerializer.serialize(tt.extractedUrl),this.urlSerializer.serialize(tt.urlAfterRedirects),tt.targetSnapshot);this.events.next(Kt)}),(0,de.U)(tt=>(this.currentTransition=Y={...tt,guards:lr(tt.targetSnapshot,tt.currentSnapshot,this.rootContexts)},Y)),function Or(b,T){return(0,He.z)(v=>{const{targetSnapshot:E,currentSnapshot:P,guards:{canActivateChecks:Y,canDeactivateChecks:ae}}=v;return 0===ae.length&&0===Y.length?(0,e.of)({...v,guardsResult:!0}):function $a(b,T,v,E){return(0,W.D)(b).pipe((0,He.z)(P=>function jr(b,T,v,E,P){const Y=T&&T.routeConfig?T.routeConfig.canDeactivate:null;if(!Y||0===Y.length)return(0,e.of)(!0);const ae=Y.map(st=>{const tt=Ro(T)??P,Kt=po(st,tt);return Qe(function J(b){return b&&Zr(b.canDeactivate)}(Kt)?Kt.canDeactivate(b,T,v,E):tt.runInContext(()=>Kt(b,T,v,E))).pipe((0,ft.P)())});return(0,e.of)(ae).pipe(Ar())}(P.component,P.route,v,T,E)),(0,ft.P)(P=>!0!==P,!0))}(ae,E,P,b).pipe((0,He.z)(st=>st&&function Rs(b){return"boolean"==typeof b}(st)?function Hr(b,T,v,E){return(0,W.D)(T).pipe((0,Fe.b)(P=>(0,re.z)(function Fs(b,T){return null!==b&&T&&T(new Pt(b)),(0,e.of)(!0)}(P.route.parent,E),function ca(b,T){return null!==b&&T&&T(new Gt(b)),(0,e.of)(!0)}(P.route,E),function cs(b,T,v){const E=T[T.length-1],Y=T.slice(0,T.length-1).reverse().map(ae=>function yr(b){const T=b.routeConfig?b.routeConfig.canActivateChild:null;return T&&0!==T.length?{node:b,guards:T}:null}(ae)).filter(ae=>null!==ae).map(ae=>ne(()=>{const st=ae.guards.map(tt=>{const Kt=Ro(ae.node)??v,Wn=po(tt,Kt);return Qe(function x(b){return b&&Zr(b.canActivateChild)}(Wn)?Wn.canActivateChild(E,b):Kt.runInContext(()=>Wn(E,b))).pipe((0,ft.P)())});return(0,e.of)(st).pipe(Ar())}));return(0,e.of)(Y).pipe(Ar())}(b,P.path,v),function ba(b,T,v){const E=T.routeConfig?T.routeConfig.canActivate:null;if(!E||0===E.length)return(0,e.of)(!0);const P=E.map(Y=>ne(()=>{const ae=Ro(T)??v,st=po(Y,ae);return Qe(function B(b){return b&&Zr(b.canActivate)}(st)?st.canActivate(T,b):ae.runInContext(()=>st(T,b))).pipe((0,ft.P)())}));return(0,e.of)(P).pipe(Ar())}(b,P.route,v))),(0,ft.P)(P=>!0!==P,!0))}(E,Y,b,T):(0,e.of)(st)),(0,de.U)(st=>({...v,guardsResult:st})))})}(this.environmentInjector,tt=>this.events.next(tt)),(0,Bt.b)(tt=>{if(Y.guardsResult=tt.guardsResult,Ze(tt.guardsResult))throw xi(0,tt.guardsResult);const Kt=new vs(tt.id,this.urlSerializer.serialize(tt.extractedUrl),this.urlSerializer.serialize(tt.urlAfterRedirects),tt.targetSnapshot,!!tt.guardsResult);this.events.next(Kt)}),(0,$e.h)(tt=>!!tt.guardsResult||(this.cancelNavigationTransition(tt,"",3),!1)),j(tt=>{if(tt.guards.canActivateChecks.length)return(0,e.of)(tt).pipe((0,Bt.b)(Kt=>{const Wn=new Xo(Kt.id,this.urlSerializer.serialize(Kt.extractedUrl),this.urlSerializer.serialize(Kt.urlAfterRedirects),Kt.targetSnapshot);this.events.next(Wn)}),(0,Ge.w)(Kt=>{let Wn=!1;return(0,e.of)(Kt).pipe(function ds(b,T){return(0,He.z)(v=>{const{targetSnapshot:E,guards:{canActivateChecks:P}}=v;if(!P.length)return(0,e.of)(v);let Y=0;return(0,W.D)(P).pipe((0,Fe.b)(ae=>function Ga(b,T,v,E){const P=b.routeConfig,Y=b._resolve;return void 0!==P?.title&&!C(P)&&(Y[ln]=P.title),function wa(b,T,v,E){const P=function Ds(b){return[...Object.keys(b),...Object.getOwnPropertySymbols(b)]}(b);if(0===P.length)return(0,e.of)({});const Y={};return(0,W.D)(P).pipe((0,He.z)(ae=>function hs(b,T,v,E){const P=Ro(T)??E,Y=po(b,P);return Qe(Y.resolve?Y.resolve(T,v):P.runInContext(()=>Y(T,v)))}(b[ae],T,v,E).pipe((0,ft.P)(),(0,Bt.b)(st=>{Y[ae]=st}))),ce(1),(0,Ae.h)(Y),(0,ut.K)(ae=>Xi(ae)?xe.E:(0,De._)(ae)))}(Y,b,T,E).pipe((0,de.U)(ae=>(b._resolvedData=ae,b.data=qr(b,v).resolve,P&&C(P)&&(b.data[ln]=P.title),null)))}(ae.route,E,b,T)),(0,Bt.b)(()=>Y++),ce(1),(0,He.z)(ae=>Y===P.length?(0,e.of)(v):xe.E))})}(v.paramsInheritanceStrategy,this.environmentInjector),(0,Bt.b)({next:()=>Wn=!0,complete:()=>{Wn||this.cancelNavigationTransition(Kt,"",2)}}))}),(0,Bt.b)(Kt=>{const Wn=new jo(Kt.id,this.urlSerializer.serialize(Kt.extractedUrl),this.urlSerializer.serialize(Kt.urlAfterRedirects),Kt.targetSnapshot);this.events.next(Wn)}))}),j(tt=>{const Kt=Wn=>{const Wi=[];Wn.routeConfig?.loadComponent&&!Wn.routeConfig._loadedComponent&&Wi.push(this.configLoader.loadComponent(Wn.routeConfig).pipe((0,Bt.b)(mi=>{Wn.component=mi}),(0,de.U)(()=>{})));for(const mi of Wn.children)Wi.push(...Kt(mi));return Wi};return(0,Le.a)(Kt(tt.targetSnapshot.root)).pipe((0,ct.d)(),(0,Oe.q)(1))}),j(()=>this.afterPreactivation()),(0,de.U)(tt=>{const Kt=function tr(b,T,v){const E=Vt(b,T._root,v?v._root:void 0);return new kn(E,T)}(v.routeReuseStrategy,tt.targetSnapshot,tt.currentRouterState);return this.currentTransition=Y={...tt,targetRouterState:Kt},Y}),(0,Bt.b)(()=>{this.events.next(new Xn)}),((b,T,v,E)=>(0,de.U)(P=>(new Fo(T,P.targetRouterState,P.currentRouterState,v,E).activate(b),P)))(this.rootContexts,v.routeReuseStrategy,tt=>this.events.next(tt),this.inputBindingEnabled),(0,Oe.q)(1),(0,Bt.b)({next:tt=>{ae=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new oo(tt.id,this.urlSerializer.serialize(tt.extractedUrl),this.urlSerializer.serialize(tt.urlAfterRedirects))),v.titleStrategy?.updateTitle(tt.targetRouterState.snapshot),tt.resolve(!0)},complete:()=>{ae=!0}}),(0,rt.R)(this.transitionAbortSubject.pipe((0,Bt.b)(tt=>{throw tt}))),(0,Ye.x)(()=>{ae||st||this.cancelNavigationTransition(Y,"",1),this.currentNavigation?.id===Y.id&&(this.currentNavigation=null)}),(0,ut.K)(tt=>{if(st=!0,ko(tt))this.events.next(new Dn(Y.id,this.urlSerializer.serialize(Y.extractedUrl),tt.message,tt.cancellationCode)),function ar(b){return ko(b)&&Ze(b.url)}(tt)?this.events.next(new Ci(tt.url)):Y.resolve(!1);else{this.events.next(new Gi(Y.id,this.urlSerializer.serialize(Y.extractedUrl),tt,Y.targetSnapshot??void 0));try{Y.resolve(v.errorHandler(tt))}catch(Kt){Y.reject(Kt)}}return xe.E}))}))}cancelNavigationTransition(v,E,P){const Y=new Dn(v.id,this.urlSerializer.serialize(v.extractedUrl),E,P);this.events.next(Y),v.resolve(!1)}static#e=this.\u0275fac=function(E){return new(E||b)};static#t=this.\u0275prov=p.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})();function hi(b){return b!==Ai}let bi=(()=>{class b{buildTitle(v){let E,P=v.root;for(;void 0!==P;)E=this.getResolvedTitleForRoute(P)??E,P=P.children.find(Y=>Y.outlet===gt);return E}getResolvedTitleForRoute(v){return v.data[ln]}static#e=this.\u0275fac=function(E){return new(E||b)};static#t=this.\u0275prov=p.Yz7({token:b,factory:function(){return(0,p.f3M)(qn)},providedIn:"root"})}return b})(),qn=(()=>{class b extends bi{constructor(v){super(),this.title=v}updateTitle(v){const E=this.buildTitle(v);void 0!==E&&this.title.setTitle(E)}static#e=this.\u0275fac=function(E){return new(E||b)(p.LFG(pn.Dx))};static#t=this.\u0275prov=p.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})(),Tn=(()=>{class b{static#e=this.\u0275fac=function(E){return new(E||b)};static#t=this.\u0275prov=p.Yz7({token:b,factory:function(){return(0,p.f3M)(wi)},providedIn:"root"})}return b})();class Vi{shouldDetach(T){return!1}store(T,v){}shouldAttach(T){return!1}retrieve(T){return null}shouldReuseRoute(T,v){return T.routeConfig===v.routeConfig}}let wi=(()=>{class b extends Vi{static#e=this.\u0275fac=function(){let v;return function(P){return(v||(v=p.n5z(b)))(P||b)}}();static#t=this.\u0275prov=p.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})();const zi=new p.OlP("",{providedIn:"root",factory:()=>({})});let dr=(()=>{class b{static#e=this.\u0275fac=function(E){return new(E||b)};static#t=this.\u0275prov=p.Yz7({token:b,factory:function(){return(0,p.f3M)(or)},providedIn:"root"})}return b})(),or=(()=>{class b{shouldProcessUrl(v){return!0}extract(v){return v}merge(v,E){return v}static#e=this.\u0275fac=function(E){return new(E||b)};static#t=this.\u0275prov=p.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})();var xo=function(b){return b[b.COMPLETE=0]="COMPLETE",b[b.FAILED=1]="FAILED",b[b.REDIRECTING=2]="REDIRECTING",b}(xo||{});function Uo(b,T){b.events.pipe((0,$e.h)(v=>v instanceof oo||v instanceof Dn||v instanceof Gi||v instanceof wn),(0,de.U)(v=>v instanceof oo||v instanceof wn?xo.COMPLETE:v instanceof Dn&&(0===v.code||1===v.code)?xo.REDIRECTING:xo.FAILED),(0,$e.h)(v=>v!==xo.REDIRECTING),(0,Oe.q)(1)).subscribe(()=>{T()})}function eo(b){throw b}function kr(b,T,v){return T.parse("/")}const $o={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ti={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Go=(()=>{class b{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,p.f3M)(p.c2e),this.isNgZoneEnabled=!1,this._events=new Ce.x,this.options=(0,p.f3M)(zi,{optional:!0})||{},this.pendingTasks=(0,p.f3M)(p.HDt),this.errorHandler=this.options.errorHandler||eo,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||kr,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,p.f3M)(dr),this.routeReuseStrategy=(0,p.f3M)(Tn),this.titleStrategy=(0,p.f3M)(bi),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,p.f3M)(I,{optional:!0})?.flat()??[],this.navigationTransitions=(0,p.f3M)(nn),this.urlSerializer=(0,p.f3M)(mn),this.location=(0,p.f3M)(pe.Ye),this.componentInputBindingEnabled=!!(0,p.f3M)(Di,{optional:!0}),this.eventsSubscription=new ze.w0,this.isNgZoneEnabled=(0,p.f3M)(p.R0b)instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new an,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=mr(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(v=>{this.lastSuccessfulId=v.id,this.currentPageId=this.browserPageId},v=>{this.console.warn(`Unhandled Navigation Error: ${v}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const v=this.navigationTransitions.events.subscribe(E=>{try{const{currentTransition:P}=this.navigationTransitions;if(null===P)return void(d(E)&&this._events.next(E));if(E instanceof vi)hi(P.source)&&(this.browserUrlTree=P.extractedUrl);else if(E instanceof wn)this.rawUrlTree=P.rawUrl;else if(E instanceof wo){if("eager"===this.urlUpdateStrategy){if(!P.extras.skipLocationChange){const Y=this.urlHandlingStrategy.merge(P.urlAfterRedirects,P.rawUrl);this.setBrowserUrl(Y,P)}this.browserUrlTree=P.urlAfterRedirects}}else if(E instanceof Xn)this.currentUrlTree=P.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(P.urlAfterRedirects,P.rawUrl),this.routerState=P.targetRouterState,"deferred"===this.urlUpdateStrategy&&(P.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,P),this.browserUrlTree=P.urlAfterRedirects);else if(E instanceof Dn)0!==E.code&&1!==E.code&&(this.navigated=!0),(3===E.code||2===E.code)&&this.restoreHistory(P);else if(E instanceof Ci){const Y=this.urlHandlingStrategy.merge(E.url,P.currentRawUrl),ae={skipLocationChange:P.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||hi(P.source)};this.scheduleNavigation(Y,Ai,null,ae,{resolve:P.resolve,reject:P.reject,promise:P.promise})}E instanceof Gi&&this.restoreHistory(P,!0),E instanceof oo&&(this.navigated=!0),d(E)&&this._events.next(E)}catch(P){this.navigationTransitions.transitionAbortSubject.next(P)}});this.eventsSubscription.add(v)}resetRootComponentType(v){this.routerState.root.component=v,this.navigationTransitions.rootComponentType=v}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const v=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ai,v)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(v=>{const E="popstate"===v.type?"popstate":"hashchange";"popstate"===E&&setTimeout(()=>{this.navigateToSyncWithBrowser(v.url,E,v.state)},0)}))}navigateToSyncWithBrowser(v,E,P){const Y={replaceUrl:!0},ae=P?.navigationId?P:null;if(P){const tt={...P};delete tt.navigationId,delete tt.\u0275routerPageId,0!==Object.keys(tt).length&&(Y.state=tt)}const st=this.parseUrl(v);this.scheduleNavigation(st,E,ae,Y)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(v){this.config=v.map(so),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(v,E={}){const{relativeTo:P,queryParams:Y,fragment:ae,queryParamsHandling:st,preserveFragment:tt}=E,Kt=tt?this.currentUrlTree.fragment:ae;let Wi,Wn=null;switch(st){case"merge":Wn={...this.currentUrlTree.queryParams,...Y};break;case"preserve":Wn=this.currentUrlTree.queryParams;break;default:Wn=Y||null}null!==Wn&&(Wn=this.removeEmptyProps(Wn));try{Wi=Ie(P?P.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof v[0]||!v[0].startsWith("/"))&&(v=[]),Wi=this.currentUrlTree.root}return it(Wi,v,Wn,Kt??null)}navigateByUrl(v,E={skipLocationChange:!1}){const P=Ze(v)?v:this.parseUrl(v),Y=this.urlHandlingStrategy.merge(P,this.rawUrlTree);return this.scheduleNavigation(Y,Ai,null,E)}navigate(v,E={skipLocationChange:!1}){return function s(b){for(let T=0;T<b.length;T++)if(null==b[T])throw new p.vHH(4008,!1)}(v),this.navigateByUrl(this.createUrlTree(v,E),E)}serializeUrl(v){return this.urlSerializer.serialize(v)}parseUrl(v){let E;try{E=this.urlSerializer.parse(v)}catch(P){E=this.malformedUriErrorHandler(P,this.urlSerializer,v)}return E}isActive(v,E){let P;if(P=!0===E?{...$o}:!1===E?{...Ti}:E,Ze(v))return gn(this.currentUrlTree,v,P);const Y=this.parseUrl(v);return gn(this.currentUrlTree,Y,P)}removeEmptyProps(v){return Object.keys(v).reduce((E,P)=>{const Y=v[P];return null!=Y&&(E[P]=Y),E},{})}scheduleNavigation(v,E,P,Y,ae){if(this.disposed)return Promise.resolve(!1);let st,tt,Kt;ae?(st=ae.resolve,tt=ae.reject,Kt=ae.promise):Kt=new Promise((Wi,mi)=>{st=Wi,tt=mi});const Wn=this.pendingTasks.add();return Uo(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Wn))}),this.navigationTransitions.handleNavigationRequest({source:E,restoredState:P,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:v,extras:Y,resolve:st,reject:tt,promise:Kt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Kt.catch(Wi=>Promise.reject(Wi))}setBrowserUrl(v,E){const P=this.urlSerializer.serialize(v);if(this.location.isCurrentPathEqualTo(P)||E.extras.replaceUrl){const ae={...E.extras.state,...this.generateNgRouterState(E.id,this.browserPageId)};this.location.replaceState(P,"",ae)}else{const Y={...E.extras.state,...this.generateNgRouterState(E.id,this.browserPageId+1)};this.location.go(P,"",Y)}}restoreHistory(v,E=!1){if("computed"===this.canceledNavigationResolution){const Y=this.currentPageId-this.browserPageId;0!==Y?this.location.historyGo(Y):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===Y&&(this.resetState(v),this.browserUrlTree=v.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(E&&this.resetState(v),this.resetUrlToCurrentUrlTree())}resetState(v){this.routerState=v.currentRouterState,this.currentUrlTree=v.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,v.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(v,E){return"computed"===this.canceledNavigationResolution?{navigationId:v,\u0275routerPageId:E}:{navigationId:v}}static#e=this.\u0275fac=function(E){return new(E||b)};static#t=this.\u0275prov=p.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})();function d(b){return!(b instanceof Xn||b instanceof Ci)}let g=(()=>{class b{constructor(v,E,P,Y,ae,st){this.router=v,this.route=E,this.tabIndexAttribute=P,this.renderer=Y,this.el=ae,this.locationStrategy=st,this.href=null,this.commands=null,this.onChanges=new Ce.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const tt=ae.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===tt||"area"===tt,this.isAnchorElement?this.subscription=v.events.subscribe(Kt=>{Kt instanceof oo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(v){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",v)}ngOnChanges(v){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(v){null!=v?(this.commands=Array.isArray(v)?v:[v],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(v,E,P,Y,ae){return!!(null===this.urlTree||this.isAnchorElement&&(0!==v||E||P||Y||ae||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const v=null===this.href?null:(0,p.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",v)}applyAttributeValue(v,E){const P=this.renderer,Y=this.el.nativeElement;null!==E?P.setAttribute(Y,v,E):P.removeAttribute(Y,v)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(E){return new(E||b)(p.Y36(Go),p.Y36(_o),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(pe.S$))};static#t=this.\u0275dir=p.lG2({type:b,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(E,P){1&E&&p.NdJ("click",function(ae){return P.onClick(ae.button,ae.ctrlKey,ae.shiftKey,ae.altKey,ae.metaKey)}),2&E&&p.uIk("target",P.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",p.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",p.VuI],replaceUrl:["replaceUrl","replaceUrl",p.VuI],routerLink:"routerLink"},standalone:!0,features:[p.Xq5,p.TTD]})}return b})(),D=(()=>{class b{get isActive(){return this._isActive}constructor(v,E,P,Y,ae){this.router=v,this.element=E,this.renderer=P,this.cdr=Y,this.link=ae,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new p.vpe,this.routerEventsSubscription=v.events.subscribe(st=>{st instanceof oo&&this.update()})}ngAfterContentInit(){(0,e.of)(this.links.changes,(0,e.of)(null)).pipe((0,ot.J)()).subscribe(v=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const v=[...this.links.toArray(),this.link].filter(E=>!!E).map(E=>E.onChanges);this.linkInputChangesSubscription=(0,W.D)(v).pipe((0,ot.J)()).subscribe(E=>{this._isActive!==this.isLinkActive(this.router)(E)&&this.update()})}set routerLinkActive(v){const E=Array.isArray(v)?v:v.split(" ");this.classes=E.filter(P=>!!P)}ngOnChanges(v){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const v=this.hasActiveLinks();this._isActive!==v&&(this._isActive=v,this.cdr.markForCheck(),this.classes.forEach(E=>{v?this.renderer.addClass(this.element.nativeElement,E):this.renderer.removeClass(this.element.nativeElement,E)}),v&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(v))})}isLinkActive(v){const E=function O(b){return!!b.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return P=>!!P.urlTree&&v.isActive(P.urlTree,E)}hasActiveLinks(){const v=this.isLinkActive(this.router);return this.link&&v(this.link)||this.links.some(v)}static#e=this.\u0275fac=function(E){return new(E||b)(p.Y36(Go),p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(p.sBO),p.Y36(g,8))};static#t=this.\u0275dir=p.lG2({type:b,selectors:[["","routerLinkActive",""]],contentQueries:function(E,P,Y){if(1&E&&p.Suo(Y,g,5),2&E){let ae;p.iGM(ae=p.CRH())&&(P.links=ae)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[p.TTD]})}return b})();class G{}let lt=(()=>{class b{constructor(v,E,P,Y,ae){this.router=v,this.injector=P,this.preloadingStrategy=Y,this.loader=ae}setUpPreloading(){this.subscription=this.router.events.pipe((0,$e.h)(v=>v instanceof oo),(0,Fe.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(v,E){const P=[];for(const Y of E){Y.providers&&!Y._injector&&(Y._injector=(0,p.MMx)(Y.providers,v,`Route: ${Y.path}`));const ae=Y._injector??v,st=Y._loadedInjector??ae;(Y.loadChildren&&!Y._loadedRoutes&&void 0===Y.canLoad||Y.loadComponent&&!Y._loadedComponent)&&P.push(this.preloadConfig(ae,Y)),(Y.children||Y._loadedRoutes)&&P.push(this.processRoutes(st,Y.children??Y._loadedRoutes))}return(0,W.D)(P).pipe((0,ot.J)())}preloadConfig(v,E){return this.preloadingStrategy.preload(E,()=>{let P;P=E.loadChildren&&void 0===E.canLoad?this.loader.loadChildren(v,E):(0,e.of)(null);const Y=P.pipe((0,He.z)(ae=>null===ae?(0,e.of)(void 0):(E._loadedRoutes=ae.routes,E._loadedInjector=ae.injector,this.processRoutes(ae.injector??v,ae.routes))));if(E.loadComponent&&!E._loadedComponent){const ae=this.loader.loadComponent(E);return(0,W.D)([Y,ae]).pipe((0,ot.J)())}return Y})}static#e=this.\u0275fac=function(E){return new(E||b)(p.LFG(Go),p.LFG(p.Sil),p.LFG(p.lqb),p.LFG(G),p.LFG(F))};static#t=this.\u0275prov=p.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})();const wt=new p.OlP("");let jt=(()=>{class b{constructor(v,E,P,Y,ae={}){this.urlSerializer=v,this.transitions=E,this.viewportScroller=P,this.zone=Y,this.options=ae,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ae.scrollPositionRestoration=ae.scrollPositionRestoration||"disabled",ae.anchorScrolling=ae.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(v=>{v instanceof vi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=v.navigationTrigger,this.restoredId=v.restoredState?v.restoredState.navigationId:0):v instanceof oo?(this.lastId=v.id,this.scheduleScrollEvent(v,this.urlSerializer.parse(v.urlAfterRedirects).fragment)):v instanceof wn&&0===v.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(v,this.urlSerializer.parse(v.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(v=>{v instanceof Kn&&(v.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(v.position):v.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(v.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(v,E){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Kn(v,"popstate"===this.lastSource?this.store[this.restoredId]:null,E))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(E){p.$Z()};static#t=this.\u0275prov=p.Yz7({token:b,factory:b.\u0275fac})}return b})();function fi(b,T){return{\u0275kind:b,\u0275providers:T}}function Ee(){const b=(0,p.f3M)(p.zs3);return T=>{const v=b.get(p.z2F);if(T!==v.components[0])return;const E=b.get(Go),P=b.get(H);1===b.get(k)&&E.initialNavigation(),b.get(Ft,null,p.XFs.Optional)?.setUpPreloading(),b.get(wt,null,p.XFs.Optional)?.init(),E.resetRootComponentType(v.componentTypes[0]),P.closed||(P.next(),P.complete(),P.unsubscribe())}}const H=new p.OlP("",{factory:()=>new Ce.x}),k=new p.OlP("",{providedIn:"root",factory:()=>1}),Ft=new p.OlP("");function oi(b){return fi(0,[{provide:Ft,useExisting:lt},{provide:G,useExisting:b}])}const yo=new p.OlP("ROUTER_FORROOT_GUARD"),Ta=[pe.Ye,{provide:mn,useClass:Ri},Go,To,{provide:_o,useFactory:function Hn(b){return b.routerState.root},deps:[Go]},F,[]];function to(){return new p.PXZ("Router",Go)}let Qs=(()=>{class b{constructor(v){}static forRoot(v,E){return{ngModule:b,providers:[Ta,[],{provide:I,multi:!0,useValue:v},{provide:yo,useFactory:Ea,deps:[[Go,new p.FiY,new p.tp0]]},{provide:zi,useValue:E||{}},E?.useHash?{provide:pe.S$,useClass:pe.Do}:{provide:pe.S$,useClass:pe.b0},{provide:wt,useFactory:()=>{const b=(0,p.f3M)(pe.EM),T=(0,p.f3M)(p.R0b),v=(0,p.f3M)(zi),E=(0,p.f3M)(nn),P=(0,p.f3M)(mn);return v.scrollOffset&&b.setOffset(v.scrollOffset),new jt(P,E,b,T,v)}},E?.preloadingStrategy?oi(E.preloadingStrategy).\u0275providers:[],{provide:p.PXZ,multi:!0,useFactory:to},E?.initialNavigation?vl(E):[],E?.bindToComponentInputs?fi(8,[Eo,{provide:Di,useExisting:Eo}]).\u0275providers:[],[{provide:yl,useFactory:Ee},{provide:p.tb,multi:!0,useExisting:yl}]]}}static forChild(v){return{ngModule:b,providers:[{provide:I,multi:!0,useValue:v}]}}static#e=this.\u0275fac=function(E){return new(E||b)(p.LFG(yo,8))};static#t=this.\u0275mod=p.oAB({type:b});static#n=this.\u0275inj=p.cJS({})}return b})();function Ea(b){return"guarded"}function vl(b){return["disabled"===b.initialNavigation?fi(3,[{provide:p.ip1,multi:!0,useFactory:()=>{const T=(0,p.f3M)(Go);return()=>{T.setUpLocationChangeListener()}}},{provide:k,useValue:2}]).\u0275providers:[],"enabledBlocking"===b.initialNavigation?fi(2,[{provide:k,useValue:0},{provide:p.ip1,multi:!0,deps:[p.zs3],useFactory:T=>{const v=T.get(pe.V_,Promise.resolve());return()=>v.then(()=>new Promise(E=>{const P=T.get(Go),Y=T.get(H);Uo(P,()=>{E(!0)}),T.get(nn).afterPreactivation=()=>(E(!0),Y.closed?(0,e.of)(void 0):Y),P.initialNavigation()}))}}]).\u0275providers:[]]}const yl=new p.OlP("")},2321:(bt,ke,S)=>{"use strict";function ne(ce,he,Se,we){return new(Se||(Se=Promise))(function(Ye,rt){function ot(ln){try{gt(we.next(ln))}catch(zt){rt(zt)}}function pn(ln){try{gt(we.throw(ln))}catch(zt){rt(zt)}}function gt(ln){ln.done?Ye(ln.value):function Ae(Ye){return Ye instanceof Se?Ye:new Se(function(rt){rt(Ye)})}(ln.value).then(ot,pn)}gt((we=we.apply(ce,he||[])).next())})}function Ce(ce){return this instanceof Ce?(this.v=ce,this):new Ce(ce)}function pe(ce,he,Se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ae,we=Se.apply(ce,he||[]),Ye=[];return Ae={},rt("next"),rt("throw"),rt("return"),Ae[Symbol.asyncIterator]=function(){return this},Ae;function rt(xt){we[xt]&&(Ae[xt]=function(xn){return new Promise(function(vn,me){Ye.push([xt,xn,vn,me])>1||ot(xt,xn)})})}function ot(xt,xn){try{!function pn(xt){xt.value instanceof Ce?Promise.resolve(xt.value.v).then(gt,ln):zt(Ye[0][2],xt)}(we[xt](xn))}catch(vn){zt(Ye[0][3],vn)}}function gt(xt){ot("next",xt)}function ln(xt){ot("throw",xt)}function zt(xt,xn){xt(xn),Ye.shift(),Ye.length&&ot(Ye[0][0],Ye[0][1])}}function Ge(ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,he=ce[Symbol.asyncIterator];return he?he.call(ce):(ce=function ze(ce){var he="function"==typeof Symbol&&Symbol.iterator,Se=he&&ce[he],we=0;if(Se)return Se.call(ce);if(ce&&"number"==typeof ce.length)return{next:function(){return ce&&we>=ce.length&&(ce=void 0),{value:ce&&ce[we++],done:!ce}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")}(ce),Se={},we("next"),we("throw"),we("return"),Se[Symbol.asyncIterator]=function(){return this},Se);function we(Ye){Se[Ye]=ce[Ye]&&function(rt){return new Promise(function(ot,pn){!function Ae(Ye,rt,ot,pn){Promise.resolve(pn).then(function(gt){Ye({value:gt,done:ot})},rt)}(ot,pn,(rt=ce[Ye](rt)).done,rt.value)})}}}S.d(ke,{FC:()=>pe,KL:()=>Ge,mG:()=>ne,qq:()=>Ce}),"function"==typeof SuppressedError&&SuppressedError}},bt=>{var ke=p=>bt(bt.s=p);ke(9713),ke(7849)}]);
//# sourceMappingURL=main.d0f39e70d0691ab5.js.map